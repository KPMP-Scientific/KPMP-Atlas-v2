(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const v of g.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&u(v)}).observe(document,{childList:!0,subtree:!0});function a(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function u(f){if(f.ep)return;f.ep=!0;const g=a(f);fetch(f.href,g)}})();var $P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function e$(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var o=l.default;if(typeof o=="function"){var a=function u(){return this instanceof u?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};a.prototype=o.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(l).forEach(function(u){var f=Object.getOwnPropertyDescriptor(l,u);Object.defineProperty(a,u,f.get?f:{enumerable:!0,get:function(){return l[u]}})}),a}var t4={exports:{}},wn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pie;function nWe(){if(Pie)return wn;Pie=1;var l=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),F=Symbol.iterator;function U(ce){return ce===null||typeof ce!="object"?null:(ce=F&&ce[F]||ce["@@iterator"],typeof ce=="function"?ce:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,q={};function j(ce,_e,Le){this.props=ce,this.context=_e,this.refs=q,this.updater=Le||N}j.prototype.isReactComponent={},j.prototype.setState=function(ce,_e){if(typeof ce!="object"&&typeof ce!="function"&&ce!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ce,_e,"setState")},j.prototype.forceUpdate=function(ce){this.updater.enqueueForceUpdate(this,ce,"forceUpdate")};function se(){}se.prototype=j.prototype;function he(ce,_e,Le){this.props=ce,this.context=_e,this.refs=q,this.updater=Le||N}var oe=he.prototype=new se;oe.constructor=he,H(oe,j.prototype),oe.isPureReactComponent=!0;var ue=Array.isArray,X=Object.prototype.hasOwnProperty,de={current:null},fe={key:!0,ref:!0,__self:!0,__source:!0};function Fe(ce,_e,Le){var Ke,dt={},It=null,St=null;if(_e!=null)for(Ke in _e.ref!==void 0&&(St=_e.ref),_e.key!==void 0&&(It=""+_e.key),_e)X.call(_e,Ke)&&!fe.hasOwnProperty(Ke)&&(dt[Ke]=_e[Ke]);var Mt=arguments.length-2;if(Mt===1)dt.children=Le;else if(1<Mt){for(var Bt=Array(Mt),Lt=0;Lt<Mt;Lt++)Bt[Lt]=arguments[Lt+2];dt.children=Bt}if(ce&&ce.defaultProps)for(Ke in Mt=ce.defaultProps,Mt)dt[Ke]===void 0&&(dt[Ke]=Mt[Ke]);return{$$typeof:l,type:ce,key:It,ref:St,props:dt,_owner:de.current}}function M(ce,_e){return{$$typeof:l,type:ce.type,key:_e,ref:ce.ref,props:ce.props,_owner:ce._owner}}function ke(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===l}function qe(ce){var _e={"=":"=0",":":"=2"};return"$"+ce.replace(/[=:]/g,function(Le){return _e[Le]})}var Te=/\/+/g;function at(ce,_e){return typeof ce=="object"&&ce!==null&&ce.key!=null?qe(""+ce.key):_e.toString(36)}function _t(ce,_e,Le,Ke,dt){var It=typeof ce;(It==="undefined"||It==="boolean")&&(ce=null);var St=!1;if(ce===null)St=!0;else switch(It){case"string":case"number":St=!0;break;case"object":switch(ce.$$typeof){case l:case o:St=!0}}if(St)return St=ce,dt=dt(St),ce=Ke===""?"."+at(St,0):Ke,ue(dt)?(Le="",ce!=null&&(Le=ce.replace(Te,"$&/")+"/"),_t(dt,_e,Le,"",function(Lt){return Lt})):dt!=null&&(ke(dt)&&(dt=M(dt,Le+(!dt.key||St&&St.key===dt.key?"":(""+dt.key).replace(Te,"$&/")+"/")+ce)),_e.push(dt)),1;if(St=0,Ke=Ke===""?".":Ke+":",ue(ce))for(var Mt=0;Mt<ce.length;Mt++){It=ce[Mt];var Bt=Ke+at(It,Mt);St+=_t(It,_e,Le,Bt,dt)}else if(Bt=U(ce),typeof Bt=="function")for(ce=Bt.call(ce),Mt=0;!(It=ce.next()).done;)It=It.value,Bt=Ke+at(It,Mt++),St+=_t(It,_e,Le,Bt,dt);else if(It==="object")throw _e=String(ce),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(ce).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return St}function z(ce,_e,Le){if(ce==null)return ce;var Ke=[],dt=0;return _t(ce,Ke,"","",function(It){return _e.call(Le,It,dt++)}),Ke}function be(ce){if(ce._status===-1){var _e=ce._result;_e=_e(),_e.then(function(Le){(ce._status===0||ce._status===-1)&&(ce._status=1,ce._result=Le)},function(Le){(ce._status===0||ce._status===-1)&&(ce._status=2,ce._result=Le)}),ce._status===-1&&(ce._status=0,ce._result=_e)}if(ce._status===1)return ce._result.default;throw ce._result}var Re={current:null},ie={transition:null},pe={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:ie,ReactCurrentOwner:de};function me(){throw Error("act(...) is not supported in production builds of React.")}return wn.Children={map:z,forEach:function(ce,_e,Le){z(ce,function(){_e.apply(this,arguments)},Le)},count:function(ce){var _e=0;return z(ce,function(){_e++}),_e},toArray:function(ce){return z(ce,function(_e){return _e})||[]},only:function(ce){if(!ke(ce))throw Error("React.Children.only expected to receive a single React element child.");return ce}},wn.Component=j,wn.Fragment=a,wn.Profiler=f,wn.PureComponent=he,wn.StrictMode=u,wn.Suspense=w,wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,wn.act=me,wn.cloneElement=function(ce,_e,Le){if(ce==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ce+".");var Ke=H({},ce.props),dt=ce.key,It=ce.ref,St=ce._owner;if(_e!=null){if(_e.ref!==void 0&&(It=_e.ref,St=de.current),_e.key!==void 0&&(dt=""+_e.key),ce.type&&ce.type.defaultProps)var Mt=ce.type.defaultProps;for(Bt in _e)X.call(_e,Bt)&&!fe.hasOwnProperty(Bt)&&(Ke[Bt]=_e[Bt]===void 0&&Mt!==void 0?Mt[Bt]:_e[Bt])}var Bt=arguments.length-2;if(Bt===1)Ke.children=Le;else if(1<Bt){Mt=Array(Bt);for(var Lt=0;Lt<Bt;Lt++)Mt[Lt]=arguments[Lt+2];Ke.children=Mt}return{$$typeof:l,type:ce.type,key:dt,ref:It,props:Ke,_owner:St}},wn.createContext=function(ce){return ce={$$typeof:v,_currentValue:ce,_currentValue2:ce,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ce.Provider={$$typeof:g,_context:ce},ce.Consumer=ce},wn.createElement=Fe,wn.createFactory=function(ce){var _e=Fe.bind(null,ce);return _e.type=ce,_e},wn.createRef=function(){return{current:null}},wn.forwardRef=function(ce){return{$$typeof:S,render:ce}},wn.isValidElement=ke,wn.lazy=function(ce){return{$$typeof:k,_payload:{_status:-1,_result:ce},_init:be}},wn.memo=function(ce,_e){return{$$typeof:I,type:ce,compare:_e===void 0?null:_e}},wn.startTransition=function(ce){var _e=ie.transition;ie.transition={};try{ce()}finally{ie.transition=_e}},wn.unstable_act=me,wn.useCallback=function(ce,_e){return Re.current.useCallback(ce,_e)},wn.useContext=function(ce){return Re.current.useContext(ce)},wn.useDebugValue=function(){},wn.useDeferredValue=function(ce){return Re.current.useDeferredValue(ce)},wn.useEffect=function(ce,_e){return Re.current.useEffect(ce,_e)},wn.useId=function(){return Re.current.useId()},wn.useImperativeHandle=function(ce,_e,Le){return Re.current.useImperativeHandle(ce,_e,Le)},wn.useInsertionEffect=function(ce,_e){return Re.current.useInsertionEffect(ce,_e)},wn.useLayoutEffect=function(ce,_e){return Re.current.useLayoutEffect(ce,_e)},wn.useMemo=function(ce,_e){return Re.current.useMemo(ce,_e)},wn.useReducer=function(ce,_e,Le){return Re.current.useReducer(ce,_e,Le)},wn.useRef=function(ce){return Re.current.useRef(ce)},wn.useState=function(ce){return Re.current.useState(ce)},wn.useSyncExternalStore=function(ce,_e,Le){return Re.current.useSyncExternalStore(ce,_e,Le)},wn.useTransition=function(){return Re.current.useTransition()},wn.version="18.3.1",wn}var Rie;function oR(){return Rie||(Rie=1,t4.exports=nWe()),t4.exports}var we=oR();const _r=nm(we);var r4={exports:{}},sl={},n4={exports:{}},i4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nie;function iWe(){return Nie||(Nie=1,(function(l){function o(ie,pe){var me=ie.length;ie.push(pe);e:for(;0<me;){var ce=me-1>>>1,_e=ie[ce];if(0<f(_e,pe))ie[ce]=pe,ie[me]=_e,me=ce;else break e}}function a(ie){return ie.length===0?null:ie[0]}function u(ie){if(ie.length===0)return null;var pe=ie[0],me=ie.pop();if(me!==pe){ie[0]=me;e:for(var ce=0,_e=ie.length,Le=_e>>>1;ce<Le;){var Ke=2*(ce+1)-1,dt=ie[Ke],It=Ke+1,St=ie[It];if(0>f(dt,me))It<_e&&0>f(St,dt)?(ie[ce]=St,ie[It]=me,ce=It):(ie[ce]=dt,ie[Ke]=me,ce=Ke);else if(It<_e&&0>f(St,me))ie[ce]=St,ie[It]=me,ce=It;else break e}}return pe}function f(ie,pe){var me=ie.sortIndex-pe.sortIndex;return me!==0?me:ie.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;l.unstable_now=function(){return g.now()}}else{var v=Date,S=v.now();l.unstable_now=function(){return v.now()-S}}var w=[],I=[],k=1,F=null,U=3,N=!1,H=!1,q=!1,j=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(ie){for(var pe=a(I);pe!==null;){if(pe.callback===null)u(I);else if(pe.startTime<=ie)u(I),pe.sortIndex=pe.expirationTime,o(w,pe);else break;pe=a(I)}}function ue(ie){if(q=!1,oe(ie),!H)if(a(w)!==null)H=!0,be(X);else{var pe=a(I);pe!==null&&Re(ue,pe.startTime-ie)}}function X(ie,pe){H=!1,q&&(q=!1,se(Fe),Fe=-1),N=!0;var me=U;try{for(oe(pe),F=a(w);F!==null&&(!(F.expirationTime>pe)||ie&&!qe());){var ce=F.callback;if(typeof ce=="function"){F.callback=null,U=F.priorityLevel;var _e=ce(F.expirationTime<=pe);pe=l.unstable_now(),typeof _e=="function"?F.callback=_e:F===a(w)&&u(w),oe(pe)}else u(w);F=a(w)}if(F!==null)var Le=!0;else{var Ke=a(I);Ke!==null&&Re(ue,Ke.startTime-pe),Le=!1}return Le}finally{F=null,U=me,N=!1}}var de=!1,fe=null,Fe=-1,M=5,ke=-1;function qe(){return!(l.unstable_now()-ke<M)}function Te(){if(fe!==null){var ie=l.unstable_now();ke=ie;var pe=!0;try{pe=fe(!0,ie)}finally{pe?at():(de=!1,fe=null)}}else de=!1}var at;if(typeof he=="function")at=function(){he(Te)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,z=_t.port2;_t.port1.onmessage=Te,at=function(){z.postMessage(null)}}else at=function(){j(Te,0)};function be(ie){fe=ie,de||(de=!0,at())}function Re(ie,pe){Fe=j(function(){ie(l.unstable_now())},pe)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(ie){ie.callback=null},l.unstable_continueExecution=function(){H||N||(H=!0,be(X))},l.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},l.unstable_getCurrentPriorityLevel=function(){return U},l.unstable_getFirstCallbackNode=function(){return a(w)},l.unstable_next=function(ie){switch(U){case 1:case 2:case 3:var pe=3;break;default:pe=U}var me=U;U=pe;try{return ie()}finally{U=me}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var me=U;U=ie;try{return pe()}finally{U=me}},l.unstable_scheduleCallback=function(ie,pe,me){var ce=l.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ce+me:ce):me=ce,ie){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=me+_e,ie={id:k++,callback:pe,priorityLevel:ie,startTime:me,expirationTime:_e,sortIndex:-1},me>ce?(ie.sortIndex=me,o(I,ie),a(w)===null&&ie===a(I)&&(q?(se(Fe),Fe=-1):q=!0,Re(ue,me-ce))):(ie.sortIndex=_e,o(w,ie),H||N||(H=!0,be(X))),ie},l.unstable_shouldYield=qe,l.unstable_wrapCallback=function(ie){var pe=U;return function(){var me=U;U=pe;try{return ie.apply(this,arguments)}finally{U=me}}}})(i4)),i4}var Mie;function aWe(){return Mie||(Mie=1,n4.exports=iWe()),n4.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lie;function oWe(){if(Lie)return sl;Lie=1;var l=oR(),o=aWe();function a(y){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+y,x=1;x<arguments.length;x++)b+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function g(y,b){v(y,b),v(y+"Capture",b)}function v(y,b){for(f[y]=b,y=0;y<b.length;y++)u.add(b[y])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},F={};function U(y){return w.call(F,y)?!0:w.call(k,y)?!1:I.test(y)?F[y]=!0:(k[y]=!0,!1)}function N(y,b,x,L){if(x!==null&&x.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return L?!1:x!==null?!x.acceptsBooleans:(y=y.toLowerCase().slice(0,5),y!=="data-"&&y!=="aria-");default:return!1}}function H(y,b,x,L){if(b===null||typeof b>"u"||N(y,b,x,L))return!0;if(L)return!1;if(x!==null)switch(x.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function q(y,b,x,L,V,ee,Ce){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=L,this.attributeNamespace=V,this.mustUseProperty=x,this.propertyName=y,this.type=b,this.sanitizeURL=ee,this.removeEmptyString=Ce}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(y){j[y]=new q(y,0,!1,y,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(y){var b=y[0];j[b]=new q(b,1,!1,y[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(y){j[y]=new q(y,2,!1,y.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(y){j[y]=new q(y,2,!1,y,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(y){j[y]=new q(y,3,!1,y.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(y){j[y]=new q(y,3,!0,y,null,!1,!1)}),["capture","download"].forEach(function(y){j[y]=new q(y,4,!1,y,null,!1,!1)}),["cols","rows","size","span"].forEach(function(y){j[y]=new q(y,6,!1,y,null,!1,!1)}),["rowSpan","start"].forEach(function(y){j[y]=new q(y,5,!1,y.toLowerCase(),null,!1,!1)});var se=/[\-:]([a-z])/g;function he(y){return y[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(y){var b=y.replace(se,he);j[b]=new q(b,1,!1,y,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(y){var b=y.replace(se,he);j[b]=new q(b,1,!1,y,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(y){var b=y.replace(se,he);j[b]=new q(b,1,!1,y,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(y){j[y]=new q(y,1,!1,y.toLowerCase(),null,!1,!1)}),j.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(y){j[y]=new q(y,1,!1,y.toLowerCase(),null,!0,!0)});function oe(y,b,x,L){var V=j.hasOwnProperty(b)?j[b]:null;(V!==null?V.type!==0:L||!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(H(b,x,V,L)&&(x=null),L||V===null?U(b)&&(x===null?y.removeAttribute(b):y.setAttribute(b,""+x)):V.mustUseProperty?y[V.propertyName]=x===null?V.type===3?!1:"":x:(b=V.attributeName,L=V.attributeNamespace,x===null?y.removeAttribute(b):(V=V.type,x=V===3||V===4&&x===!0?"":""+x,L?y.setAttributeNS(L,b,x):y.setAttribute(b,x))))}var ue=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),de=Symbol.for("react.portal"),fe=Symbol.for("react.fragment"),Fe=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),qe=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),ie=Symbol.iterator;function pe(y){return y===null||typeof y!="object"?null:(y=ie&&y[ie]||y["@@iterator"],typeof y=="function"?y:null)}var me=Object.assign,ce;function _e(y){if(ce===void 0)try{throw Error()}catch(x){var b=x.stack.trim().match(/\n( *(at )?)/);ce=b&&b[1]||""}return`
`+ce+y}var Le=!1;function Ke(y,b){if(!y||Le)return"";Le=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(Nt){var L=Nt}Reflect.construct(y,[],b)}else{try{b.call()}catch(Nt){L=Nt}y.call(b.prototype)}else{try{throw Error()}catch(Nt){L=Nt}y()}}catch(Nt){if(Nt&&L&&typeof Nt.stack=="string"){for(var V=Nt.stack.split(`
`),ee=L.stack.split(`
`),Ce=V.length-1,Ye=ee.length-1;1<=Ce&&0<=Ye&&V[Ce]!==ee[Ye];)Ye--;for(;1<=Ce&&0<=Ye;Ce--,Ye--)if(V[Ce]!==ee[Ye]){if(Ce!==1||Ye!==1)do if(Ce--,Ye--,0>Ye||V[Ce]!==ee[Ye]){var ot=`
`+V[Ce].replace(" at new "," at ");return y.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",y.displayName)),ot}while(1<=Ce&&0<=Ye);break}}}finally{Le=!1,Error.prepareStackTrace=x}return(y=y?y.displayName||y.name:"")?_e(y):""}function dt(y){switch(y.tag){case 5:return _e(y.type);case 16:return _e("Lazy");case 13:return _e("Suspense");case 19:return _e("SuspenseList");case 0:case 2:case 15:return y=Ke(y.type,!1),y;case 11:return y=Ke(y.type.render,!1),y;case 1:return y=Ke(y.type,!0),y;default:return""}}function It(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case fe:return"Fragment";case de:return"Portal";case M:return"Profiler";case Fe:return"StrictMode";case at:return"Suspense";case _t:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case qe:return(y.displayName||"Context")+".Consumer";case ke:return(y._context.displayName||"Context")+".Provider";case Te:var b=y.render;return y=y.displayName,y||(y=b.displayName||b.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case z:return b=y.displayName||null,b!==null?b:It(y.type)||"Memo";case be:b=y._payload,y=y._init;try{return It(y(b))}catch{}}return null}function St(y){var b=y.type;switch(y.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return y=b.render,y=y.displayName||y.name||"",b.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return It(b);case 8:return b===Fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function Mt(y){switch(typeof y){case"boolean":case"number":case"string":case"undefined":return y;case"object":return y;default:return""}}function Bt(y){var b=y.type;return(y=y.nodeName)&&y.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Lt(y){var b=Bt(y)?"checked":"value",x=Object.getOwnPropertyDescriptor(y.constructor.prototype,b),L=""+y[b];if(!y.hasOwnProperty(b)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var V=x.get,ee=x.set;return Object.defineProperty(y,b,{configurable:!0,get:function(){return V.call(this)},set:function(Ce){L=""+Ce,ee.call(this,Ce)}}),Object.defineProperty(y,b,{enumerable:x.enumerable}),{getValue:function(){return L},setValue:function(Ce){L=""+Ce},stopTracking:function(){y._valueTracker=null,delete y[b]}}}}function Pt(y){y._valueTracker||(y._valueTracker=Lt(y))}function Vt(y){if(!y)return!1;var b=y._valueTracker;if(!b)return!0;var x=b.getValue(),L="";return y&&(L=Bt(y)?y.checked?"true":"false":y.value),y=L,y!==x?(b.setValue(y),!0):!1}function lr(y){if(y=y||(typeof document<"u"?document:void 0),typeof y>"u")return null;try{return y.activeElement||y.body}catch{return y.body}}function Gt(y,b){var x=b.checked;return me({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??y._wrapperState.initialChecked})}function ar(y,b){var x=b.defaultValue==null?"":b.defaultValue,L=b.checked!=null?b.checked:b.defaultChecked;x=Mt(b.value!=null?b.value:x),y._wrapperState={initialChecked:L,initialValue:x,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function Wt(y,b){b=b.checked,b!=null&&oe(y,"checked",b,!1)}function Dr(y,b){Wt(y,b);var x=Mt(b.value),L=b.type;if(x!=null)L==="number"?(x===0&&y.value===""||y.value!=x)&&(y.value=""+x):y.value!==""+x&&(y.value=""+x);else if(L==="submit"||L==="reset"){y.removeAttribute("value");return}b.hasOwnProperty("value")?_i(y,b.type,x):b.hasOwnProperty("defaultValue")&&_i(y,b.type,Mt(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(y.defaultChecked=!!b.defaultChecked)}function Tn(y,b,x){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var L=b.type;if(!(L!=="submit"&&L!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+y._wrapperState.initialValue,x||b===y.value||(y.value=b),y.defaultValue=b}x=y.name,x!==""&&(y.name=""),y.defaultChecked=!!y._wrapperState.initialChecked,x!==""&&(y.name=x)}function _i(y,b,x){(b!=="number"||lr(y.ownerDocument)!==y)&&(x==null?y.defaultValue=""+y._wrapperState.initialValue:y.defaultValue!==""+x&&(y.defaultValue=""+x))}var Vn=Array.isArray;function Nn(y,b,x,L){if(y=y.options,b){b={};for(var V=0;V<x.length;V++)b["$"+x[V]]=!0;for(x=0;x<y.length;x++)V=b.hasOwnProperty("$"+y[x].value),y[x].selected!==V&&(y[x].selected=V),V&&L&&(y[x].defaultSelected=!0)}else{for(x=""+Mt(x),b=null,V=0;V<y.length;V++){if(y[V].value===x){y[V].selected=!0,L&&(y[V].defaultSelected=!0);return}b!==null||y[V].disabled||(b=y[V])}b!==null&&(b.selected=!0)}}function pi(y,b){if(b.dangerouslySetInnerHTML!=null)throw Error(a(91));return me({},b,{value:void 0,defaultValue:void 0,children:""+y._wrapperState.initialValue})}function Jn(y,b){var x=b.value;if(x==null){if(x=b.children,b=b.defaultValue,x!=null){if(b!=null)throw Error(a(92));if(Vn(x)){if(1<x.length)throw Error(a(93));x=x[0]}b=x}b==null&&(b=""),x=b}y._wrapperState={initialValue:Mt(x)}}function Mn(y,b){var x=Mt(b.value),L=Mt(b.defaultValue);x!=null&&(x=""+x,x!==y.value&&(y.value=x),b.defaultValue==null&&y.defaultValue!==x&&(y.defaultValue=x)),L!=null&&(y.defaultValue=""+L)}function Aa(y){var b=y.textContent;b===y._wrapperState.initialValue&&b!==""&&b!==null&&(y.value=b)}function ma(y){switch(y){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ho(y,b){return y==null||y==="http://www.w3.org/1999/xhtml"?ma(b):y==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":y}var Wi,mn=(function(y){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,x,L,V){MSApp.execUnsafeLocalFunction(function(){return y(b,x,L,V)})}:y})(function(y,b){if(y.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in y)y.innerHTML=b;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=Wi.firstChild;y.firstChild;)y.removeChild(y.firstChild);for(;b.firstChild;)y.appendChild(b.firstChild)}});function Ga(y,b){if(b){var x=y.firstChild;if(x&&x===y.lastChild&&x.nodeType===3){x.nodeValue=b;return}}y.textContent=b}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wn=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(y){Wn.forEach(function(b){b=b+y.charAt(0).toUpperCase()+y.substring(1),Ka[b]=Ka[y]})});function Vr(y,b,x){return b==null||typeof b=="boolean"||b===""?"":x||typeof b!="number"||b===0||Ka.hasOwnProperty(y)&&Ka[y]?(""+b).trim():b+"px"}function Ei(y,b){y=y.style;for(var x in b)if(b.hasOwnProperty(x)){var L=x.indexOf("--")===0,V=Vr(x,b[x],L);x==="float"&&(x="cssFloat"),L?y.setProperty(x,V):y[x]=V}}var Li=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(y,b){if(b){if(Li[y]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(a(137,y));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(a(60));if(typeof b.dangerouslySetInnerHTML!="object"||!("__html"in b.dangerouslySetInnerHTML))throw Error(a(61))}if(b.style!=null&&typeof b.style!="object")throw Error(a(62))}}function pt(y,b){if(y.indexOf("-")===-1)return typeof b.is=="string";switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function Yn(y){return y=y.target||y.srcElement||window,y.correspondingUseElement&&(y=y.correspondingUseElement),y.nodeType===3?y.parentNode:y}var Xn=null,Yr=null,Io=null;function Ql(y){if(y=uf(y)){if(typeof Xn!="function")throw Error(a(280));var b=y.stateNode;b&&(b=b0(b),Xn(y.stateNode,y.type,b))}}function fo(y){Yr?Io?Io.push(y):Io=[y]:Yr=y}function gl(){if(Yr){var y=Yr,b=Io;if(Io=Yr=null,Ql(y),b)for(y=0;y<b.length;y++)Ql(b[y])}}function dd(y,b){return y(b)}function Lu(){}var Do=!1;function am(y,b,x){if(Do)return y(b,x);Do=!0;try{return dd(y,b,x)}finally{Do=!1,(Yr!==null||Io!==null)&&(Lu(),gl())}}function Mc(y,b){var x=y.stateNode;if(x===null)return null;var L=b0(x);if(L===null)return null;x=L[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(y=y.type,L=!(y==="button"||y==="input"||y==="select"||y==="textarea")),y=!L;break e;default:y=!1}if(y)return null;if(x&&typeof x!="function")throw Error(a(231,b,typeof x));return x}var pd=!1;if(S)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){pd=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{pd=!1}function om(y,b,x,L,V,ee,Ce,Ye,ot){var Nt=Array.prototype.slice.call(arguments,3);try{b.apply(x,Nt)}catch(Jt){this.onError(Jt)}}var $s=!1,Lc=null,Bc=!1,md=null,e0={onError:function(y){$s=!0,Lc=y}};function po(y,b,x,L,V,ee,Ce,Ye,ot){$s=!1,Lc=null,om.apply(e0,arguments)}function t0(y,b,x,L,V,ee,Ce,Ye,ot){if(po.apply(this,arguments),$s){if($s){var Nt=Lc;$s=!1,Lc=null}else throw Error(a(198));Bc||(Bc=!0,md=Nt)}}function yl(y){var b=y,x=y;if(y.alternate)for(;b.return;)b=b.return;else{y=b;do b=y,(b.flags&4098)!==0&&(x=b.return),y=b.return;while(y)}return b.tag===3?x:null}function sm(y){if(y.tag===13){var b=y.memoizedState;if(b===null&&(y=y.alternate,y!==null&&(b=y.memoizedState)),b!==null)return b.dehydrated}return null}function r0(y){if(yl(y)!==y)throw Error(a(188))}function gd(y){var b=y.alternate;if(!b){if(b=yl(y),b===null)throw Error(a(188));return b!==y?null:y}for(var x=y,L=b;;){var V=x.return;if(V===null)break;var ee=V.alternate;if(ee===null){if(L=V.return,L!==null){x=L;continue}break}if(V.child===ee.child){for(ee=V.child;ee;){if(ee===x)return r0(V),y;if(ee===L)return r0(V),b;ee=ee.sibling}throw Error(a(188))}if(x.return!==L.return)x=V,L=ee;else{for(var Ce=!1,Ye=V.child;Ye;){if(Ye===x){Ce=!0,x=V,L=ee;break}if(Ye===L){Ce=!0,L=V,x=ee;break}Ye=Ye.sibling}if(!Ce){for(Ye=ee.child;Ye;){if(Ye===x){Ce=!0,x=ee,L=V;break}if(Ye===L){Ce=!0,L=ee,x=V;break}Ye=Ye.sibling}if(!Ce)throw Error(a(189))}}if(x.alternate!==L)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?y:b}function _l(y){return y=gd(y),y!==null?Fc(y):null}function Fc(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){var b=Fc(y);if(b!==null)return b;y=y.sibling}return null}var lm=o.unstable_scheduleCallback,vd=o.unstable_cancelCallback,FR=o.unstable_shouldYield,UR=o.unstable_requestPaint,sa=o.unstable_now,HR=o.unstable_getCurrentPriorityLevel,uE=o.unstable_ImmediatePriority,HA=o.unstable_UserBlockingPriority,n0=o.unstable_NormalPriority,$R=o.unstable_LowPriority,$A=o.unstable_IdlePriority,i0=null,Jl=null;function GR(y){if(Jl&&typeof Jl.onCommitFiberRoot=="function")try{Jl.onCommitFiberRoot(i0,y,void 0,(y.current.flags&128)===128)}catch{}}var El=Math.clz32?Math.clz32:VR,zR=Math.log,jR=Math.LN2;function VR(y){return y>>>=0,y===0?32:31-(zR(y)/jR|0)|0}var a0=64,o0=4194304;function um(y){switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return y&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return y}}function s0(y,b){var x=y.pendingLanes;if(x===0)return 0;var L=0,V=y.suspendedLanes,ee=y.pingedLanes,Ce=x&268435455;if(Ce!==0){var Ye=Ce&~V;Ye!==0?L=um(Ye):(ee&=Ce,ee!==0&&(L=um(ee)))}else Ce=x&~V,Ce!==0?L=um(Ce):ee!==0&&(L=um(ee));if(L===0)return 0;if(b!==0&&b!==L&&(b&V)===0&&(V=L&-L,ee=b&-b,V>=ee||V===16&&(ee&4194240)!==0))return b;if((L&4)!==0&&(L|=x&16),b=y.entangledLanes,b!==0)for(y=y.entanglements,b&=L;0<b;)x=31-El(b),V=1<<x,L|=y[x],b&=~V;return L}function WR(y,b){switch(y){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YR(y,b){for(var x=y.suspendedLanes,L=y.pingedLanes,V=y.expirationTimes,ee=y.pendingLanes;0<ee;){var Ce=31-El(ee),Ye=1<<Ce,ot=V[Ce];ot===-1?((Ye&x)===0||(Ye&L)!==0)&&(V[Ce]=WR(Ye,b)):ot<=b&&(y.expiredLanes|=Ye),ee&=~Ye}}function cE(y){return y=y.pendingLanes&-1073741825,y!==0?y:y&1073741824?1073741824:0}function GA(){var y=a0;return a0<<=1,(a0&4194240)===0&&(a0=64),y}function hE(y){for(var b=[],x=0;31>x;x++)b.push(y);return b}function cm(y,b,x){y.pendingLanes|=b,b!==536870912&&(y.suspendedLanes=0,y.pingedLanes=0),y=y.eventTimes,b=31-El(b),y[b]=x}function XR(y,b){var x=y.pendingLanes&~b;y.pendingLanes=b,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=b,y.mutableReadLanes&=b,y.entangledLanes&=b,b=y.entanglements;var L=y.eventTimes;for(y=y.expirationTimes;0<x;){var V=31-El(x),ee=1<<V;b[V]=0,L[V]=-1,y[V]=-1,x&=~ee}}function fE(y,b){var x=y.entangledLanes|=b;for(y=y.entanglements;x;){var L=31-El(x),V=1<<L;V&b|y[L]&b&&(y[L]|=b),x&=~V}}var ii=0;function zA(y){return y&=-y,1<y?4<y?(y&268435455)!==0?16:536870912:4:1}var dE,pE,jA,VA,WA,hm=!1,wa=[],za=null,Uc=null,tn=null,fm=new Map,dm=new Map,Bu=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gE(y,b){switch(y){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Uc=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":fm.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":dm.delete(b.pointerId)}}function Ln(y,b,x,L,V,ee){return y===null||y.nativeEvent!==ee?(y={blockedOn:b,domEventName:x,eventSystemFlags:L,nativeEvent:ee,targetContainers:[V]},b!==null&&(b=uf(b),b!==null&&pE(b)),y):(y.eventSystemFlags|=L,b=y.targetContainers,V!==null&&b.indexOf(V)===-1&&b.push(V),y)}function qR(y,b,x,L,V){switch(b){case"focusin":return za=Ln(za,y,b,x,L,V),!0;case"dragenter":return Uc=Ln(Uc,y,b,x,L,V),!0;case"mouseover":return tn=Ln(tn,y,b,x,L,V),!0;case"pointerover":var ee=V.pointerId;return fm.set(ee,Ln(fm.get(ee)||null,y,b,x,L,V)),!0;case"gotpointercapture":return ee=V.pointerId,dm.set(ee,Ln(dm.get(ee)||null,y,b,x,L,V)),!0}return!1}function YA(y){var b=Gu(y.target);if(b!==null){var x=yl(b);if(x!==null){if(b=x.tag,b===13){if(b=sm(x),b!==null){y.blockedOn=b,WA(y.priority,function(){jA(x)});return}}else if(b===3&&x.stateNode.current.memoizedState.isDehydrated){y.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}y.blockedOn=null}function l0(y){if(y.blockedOn!==null)return!1;for(var b=y.targetContainers;0<b.length;){var x=Td(y.domEventName,y.eventSystemFlags,b[0],y.nativeEvent);if(x===null){x=y.nativeEvent;var L=new x.constructor(x.type,x);un=L,x.target.dispatchEvent(L),un=null}else return b=uf(x),b!==null&&pE(b),y.blockedOn=x,!1;b.shift()}return!0}function la(y,b,x){l0(y)&&x.delete(b)}function yd(){hm=!1,za!==null&&l0(za)&&(za=null),Uc!==null&&l0(Uc)&&(Uc=null),tn!==null&&l0(tn)&&(tn=null),fm.forEach(la),dm.forEach(la)}function pm(y,b){y.blockedOn===b&&(y.blockedOn=null,hm||(hm=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yd)))}function _d(y){function b(V){return pm(V,y)}if(0<wa.length){pm(wa[0],y);for(var x=1;x<wa.length;x++){var L=wa[x];L.blockedOn===y&&(L.blockedOn=null)}}for(za!==null&&pm(za,y),Uc!==null&&pm(Uc,y),tn!==null&&pm(tn,y),fm.forEach(b),dm.forEach(b),x=0;x<Bu.length;x++)L=Bu[x],L.blockedOn===y&&(L.blockedOn=null);for(;0<Bu.length&&(x=Bu[0],x.blockedOn===null);)YA(x),x.blockedOn===null&&Bu.shift()}var Ed=ue.ReactCurrentBatchConfig,mm=!0;function XA(y,b,x,L){var V=ii,ee=Ed.transition;Ed.transition=null;try{ii=1,vE(y,b,x,L)}finally{ii=V,Ed.transition=ee}}function KR(y,b,x,L){var V=ii,ee=Ed.transition;Ed.transition=null;try{ii=4,vE(y,b,x,L)}finally{ii=V,Ed.transition=ee}}function vE(y,b,x,L){if(mm){var V=Td(y,b,x,L);if(V===null)Od(y,b,L,eu,x),gE(y,L);else if(qR(V,y,b,x,L))L.stopPropagation();else if(gE(y,L),b&4&&-1<mE.indexOf(y)){for(;V!==null;){var ee=uf(V);if(ee!==null&&dE(ee),ee=Td(y,b,x,L),ee===null&&Od(y,b,L,eu,x),ee===V)break;V=ee}V!==null&&L.stopPropagation()}else Od(y,b,L,null,x)}}var eu=null;function Td(y,b,x,L){if(eu=null,y=Yn(L),y=Gu(y),y!==null)if(b=yl(y),b===null)y=null;else if(x=b.tag,x===13){if(y=sm(b),y!==null)return y;y=null}else if(x===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;y=null}else b!==y&&(y=null);return eu=y,null}function qA(y){switch(y){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HR()){case uE:return 1;case HA:return 4;case n0:case $R:return 16;case $A:return 536870912;default:return 16}default:return 16}}var Hc=null,yE=null,u0=null;function KA(){if(u0)return u0;var y,b=yE,x=b.length,L,V="value"in Hc?Hc.value:Hc.textContent,ee=V.length;for(y=0;y<x&&b[y]===V[y];y++);var Ce=x-y;for(L=1;L<=Ce&&b[x-L]===V[ee-L];L++);return u0=V.slice(y,1<L?1-L:void 0)}function c0(y){var b=y.keyCode;return"charCode"in y?(y=y.charCode,y===0&&b===13&&(y=13)):y=b,y===10&&(y=13),32<=y||y===13?y:0}function h0(){return!0}function f0(){return!1}function Oo(y){function b(x,L,V,ee,Ce){this._reactName=x,this._targetInst=V,this.type=L,this.nativeEvent=ee,this.target=Ce,this.currentTarget=null;for(var Ye in y)y.hasOwnProperty(Ye)&&(x=y[Ye],this[Ye]=x?x(ee):ee[Ye]);return this.isDefaultPrevented=(ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue===!1)?h0:f0,this.isPropagationStopped=f0,this}return me(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=h0)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=h0)},persist:function(){},isPersistent:h0}),b}var Fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(y){return y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Oo(Fu),gm=me({},Fu,{view:0,detail:0}),ZR=Oo(gm),bd,_E,tf,vm=me({},gm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SE,button:0,buttons:0,relatedTarget:function(y){return y.relatedTarget===void 0?y.fromElement===y.srcElement?y.toElement:y.fromElement:y.relatedTarget},movementX:function(y){return"movementX"in y?y.movementX:(y!==tf&&(tf&&y.type==="mousemove"?(bd=y.screenX-tf.screenX,_E=y.screenY-tf.screenY):_E=bd=0,tf=y),bd)},movementY:function(y){return"movementY"in y?y.movementY:_E}}),EE=Oo(vm),ZA=me({},vm,{dataTransfer:0}),Sd=Oo(ZA),QA=me({},gm,{relatedTarget:0}),TE=Oo(QA),JA=me({},Fu,{animationName:0,elapsedTime:0,pseudoElement:0}),QR=Oo(JA),JR=me({},Fu,{clipboardData:function(y){return"clipboardData"in y?y.clipboardData:window.clipboardData}}),eN=Oo(JR),ew=me({},Fu,{data:0}),rf=Oo(ew),tw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rN(y){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(y):(y=tN[y])?!!b[y]:!1}function SE(){return rN}var d0=me({},gm,{key:function(y){if(y.key){var b=tw[y.key]||y.key;if(b!=="Unidentified")return b}return y.type==="keypress"?(y=c0(y),y===13?"Enter":String.fromCharCode(y)):y.type==="keydown"||y.type==="keyup"?bE[y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SE,charCode:function(y){return y.type==="keypress"?c0(y):0},keyCode:function(y){return y.type==="keydown"||y.type==="keyup"?y.keyCode:0},which:function(y){return y.type==="keypress"?c0(y):y.type==="keydown"||y.type==="keyup"?y.keyCode:0}}),CE=Oo(d0),AE=me({},vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=Oo(AE),nf=me({},gm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SE}),ym=Oo(nf),m0=me({},Fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),rw=Oo(m0),nw=me({},vm,{deltaX:function(y){return"deltaX"in y?y.deltaX:"wheelDeltaX"in y?-y.wheelDeltaX:0},deltaY:function(y){return"deltaY"in y?y.deltaY:"wheelDeltaY"in y?-y.wheelDeltaY:"wheelDelta"in y?-y.wheelDelta:0},deltaZ:0,deltaMode:0}),iw=Oo(nw),wE=[9,13,27,32],Cd=S&&"CompositionEvent"in window,af=null;S&&"documentMode"in document&&(af=document.documentMode);var _m=S&&"TextEvent"in window&&!af,Ad=S&&(!Cd||af&&8<af&&11>=af),xE=" ",aw=!1;function ow(y,b){switch(y){case"keyup":return wE.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IE(y){return y=y.detail,typeof y=="object"&&"data"in y?y.data:null}var $c=!1;function DE(y,b){switch(y){case"compositionend":return IE(b);case"keypress":return b.which!==32?null:(aw=!0,xE);case"textInput":return y=b.data,y===xE&&aw?null:y;default:return null}}function nN(y,b){if($c)return y==="compositionend"||!Cd&&ow(y,b)?(y=KA(),u0=yE=Hc=null,$c=!1,y):null;switch(y){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Ad&&b.locale!=="ko"?null:b.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kE(y){var b=y&&y.nodeName&&y.nodeName.toLowerCase();return b==="input"?!!OE[y.type]:b==="textarea"}function sw(y,b,x,L){fo(L),b=$u(b,"onChange"),0<b.length&&(x=new ua("onChange","change",null,x,L),y.push({event:x,listeners:b}))}var Em=null,xa=null;function iN(y){$E(y,0)}function Tm(y){var b=cf(y);if(Vt(b))return y}function aN(y,b){if(y==="change")return b}var lw=!1;if(S){var PE;if(S){var RE="oninput"in document;if(!RE){var NE=document.createElement("div");NE.setAttribute("oninput","return;"),RE=typeof NE.oninput=="function"}PE=RE}else PE=!1;lw=PE&&(!document.documentMode||9<document.documentMode)}function ME(){Em&&(Em.detachEvent("onpropertychange",LE),xa=Em=null)}function LE(y){if(y.propertyName==="value"&&Tm(xa)){var b=[];sw(b,xa,y,Yn(y)),am(iN,b)}}function oN(y,b,x){y==="focusin"?(ME(),Em=b,xa=x,Em.attachEvent("onpropertychange",LE)):y==="focusout"&&ME()}function sN(y){if(y==="selectionchange"||y==="keyup"||y==="keydown")return Tm(xa)}function lN(y,b){if(y==="click")return Tm(b)}function uN(y,b){if(y==="input"||y==="change")return Tm(b)}function cN(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var Tl=typeof Object.is=="function"?Object.is:cN;function bm(y,b){if(Tl(y,b))return!0;if(typeof y!="object"||y===null||typeof b!="object"||b===null)return!1;var x=Object.keys(y),L=Object.keys(b);if(x.length!==L.length)return!1;for(L=0;L<x.length;L++){var V=x[L];if(!w.call(b,V)||!Tl(y[V],b[V]))return!1}return!0}function uw(y){for(;y&&y.firstChild;)y=y.firstChild;return y}function cw(y,b){var x=uw(y);y=0;for(var L;x;){if(x.nodeType===3){if(L=y+x.textContent.length,y<=b&&L>=b)return{node:x,offset:b-y};y=L}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=uw(x)}}function hw(y,b){return y&&b?y===b?!0:y&&y.nodeType===3?!1:b&&b.nodeType===3?hw(y,b.parentNode):"contains"in y?y.contains(b):y.compareDocumentPosition?!!(y.compareDocumentPosition(b)&16):!1:!1}function fw(){for(var y=window,b=lr();b instanceof y.HTMLIFrameElement;){try{var x=typeof b.contentWindow.location.href=="string"}catch{x=!1}if(x)y=b.contentWindow;else break;b=lr(y.document)}return b}function BE(y){var b=y&&y.nodeName&&y.nodeName.toLowerCase();return b&&(b==="input"&&(y.type==="text"||y.type==="search"||y.type==="tel"||y.type==="url"||y.type==="password")||b==="textarea"||y.contentEditable==="true")}function dw(y){var b=fw(),x=y.focusedElem,L=y.selectionRange;if(b!==x&&x&&x.ownerDocument&&hw(x.ownerDocument.documentElement,x)){if(L!==null&&BE(x)){if(b=L.start,y=L.end,y===void 0&&(y=b),"selectionStart"in x)x.selectionStart=b,x.selectionEnd=Math.min(y,x.value.length);else if(y=(b=x.ownerDocument||document)&&b.defaultView||window,y.getSelection){y=y.getSelection();var V=x.textContent.length,ee=Math.min(L.start,V);L=L.end===void 0?ee:Math.min(L.end,V),!y.extend&&ee>L&&(V=L,L=ee,ee=V),V=cw(x,ee);var Ce=cw(x,L);V&&Ce&&(y.rangeCount!==1||y.anchorNode!==V.node||y.anchorOffset!==V.offset||y.focusNode!==Ce.node||y.focusOffset!==Ce.offset)&&(b=b.createRange(),b.setStart(V.node,V.offset),y.removeAllRanges(),ee>L?(y.addRange(b),y.extend(Ce.node,Ce.offset)):(b.setEnd(Ce.node,Ce.offset),y.addRange(b)))}}for(b=[],y=x;y=y.parentNode;)y.nodeType===1&&b.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<b.length;x++)y=b[x],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}var hN=S&&"documentMode"in document&&11>=document.documentMode,wd=null,FE=null,mo=null,bl=!1;function g0(y,b,x){var L=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;bl||wd==null||wd!==lr(L)||(L=wd,"selectionStart"in L&&BE(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),mo&&bm(mo,L)||(mo=L,L=$u(FE,"onSelect"),0<L.length&&(b=new ua("onSelect","select",null,b,x),y.push({event:b,listeners:L}),b.target=wd)))}function xd(y,b){var x={};return x[y.toLowerCase()]=b.toLowerCase(),x["Webkit"+y]="webkit"+b,x["Moz"+y]="moz"+b,x}var tu={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},v0={},pw={};S&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Uu(y){if(v0[y])return v0[y];if(!tu[y])return y;var b=tu[y],x;for(x in b)if(b.hasOwnProperty(x)&&x in pw)return v0[y]=b[x];return y}var Id=Uu("animationend"),Hu=Uu("animationiteration"),Gc=Uu("animationstart"),of=Uu("transitionend"),sf=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(y,b){sf.set(y,b),g(b,[y])}for(var UE=0;UE<Dd.length;UE++){var HE=Dd[UE],fN=HE.toLowerCase(),dN=HE[0].toUpperCase()+HE.slice(1);Za(fN,"on"+dN)}Za(Id,"onAnimationEnd"),Za(Hu,"onAnimationIteration"),Za(Gc,"onAnimationStart"),Za("dblclick","onDoubleClick"),Za("focusin","onFocus"),Za("focusout","onBlur"),Za(of,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sm));function mw(y,b,x){var L=y.type||"unknown-event";y.currentTarget=x,t0(L,b,void 0,y),y.currentTarget=null}function $E(y,b){b=(b&4)!==0;for(var x=0;x<y.length;x++){var L=y[x],V=L.event;L=L.listeners;e:{var ee=void 0;if(b)for(var Ce=L.length-1;0<=Ce;Ce--){var Ye=L[Ce],ot=Ye.instance,Nt=Ye.currentTarget;if(Ye=Ye.listener,ot!==ee&&V.isPropagationStopped())break e;mw(V,Ye,Nt),ee=ot}else for(Ce=0;Ce<L.length;Ce++){if(Ye=L[Ce],ot=Ye.instance,Nt=Ye.currentTarget,Ye=Ye.listener,ot!==ee&&V.isPropagationStopped())break e;mw(V,Ye,Nt),ee=ot}}}if(Bc)throw y=md,Bc=!1,md=null,y}function Ti(y,b){var x=b[ys];x===void 0&&(x=b[ys]=new Set);var L=y+"__bubble";x.has(L)||(zE(b,y,2,!1),x.add(L))}function GE(y,b,x){var L=0;b&&(L|=4),zE(x,y,L,b)}var Cm="_reactListening"+Math.random().toString(36).slice(2);function Bi(y){if(!y[Cm]){y[Cm]=!0,u.forEach(function(x){x!=="selectionchange"&&(pN.has(x)||GE(x,!1,y),GE(x,!0,y))});var b=y.nodeType===9?y:y.ownerDocument;b===null||b[Cm]||(b[Cm]=!0,GE("selectionchange",!1,b))}}function zE(y,b,x,L){switch(qA(b)){case 1:var V=XA;break;case 4:V=KR;break;default:V=vE}x=V.bind(null,b,x,y),V=void 0,!pd||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(V=!0),L?V!==void 0?y.addEventListener(b,x,{capture:!0,passive:V}):y.addEventListener(b,x,!0):V!==void 0?y.addEventListener(b,x,{passive:V}):y.addEventListener(b,x,!1)}function Od(y,b,x,L,V){var ee=L;if((b&1)===0&&(b&2)===0&&L!==null)e:for(;;){if(L===null)return;var Ce=L.tag;if(Ce===3||Ce===4){var Ye=L.stateNode.containerInfo;if(Ye===V||Ye.nodeType===8&&Ye.parentNode===V)break;if(Ce===4)for(Ce=L.return;Ce!==null;){var ot=Ce.tag;if((ot===3||ot===4)&&(ot=Ce.stateNode.containerInfo,ot===V||ot.nodeType===8&&ot.parentNode===V))return;Ce=Ce.return}for(;Ye!==null;){if(Ce=Gu(Ye),Ce===null)return;if(ot=Ce.tag,ot===5||ot===6){L=ee=Ce;continue e}Ye=Ye.parentNode}}L=L.return}am(function(){var Nt=ee,Jt=Yn(x),rr=[];e:{var qt=sf.get(y);if(qt!==void 0){var pr=ua,vr=y;switch(y){case"keypress":if(c0(x)===0)break e;case"keydown":case"keyup":pr=CE;break;case"focusin":vr="focus",pr=TE;break;case"focusout":vr="blur",pr=TE;break;case"beforeblur":case"afterblur":pr=TE;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pr=EE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pr=Sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pr=ym;break;case Id:case Hu:case Gc:pr=QR;break;case of:pr=rw;break;case"scroll":pr=ZR;break;case"wheel":pr=iw;break;case"copy":case"cut":case"paste":pr=eN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pr=p0}var Cr=(b&4)!==0,Hi=!Cr&&y==="scroll",At=Cr?qt!==null?qt+"Capture":null:qt;Cr=[];for(var ut=Nt,Ot;ut!==null;){Ot=ut;var sr=Ot.stateNode;if(Ot.tag===5&&sr!==null&&(Ot=sr,At!==null&&(sr=Mc(ut,At),sr!=null&&Cr.push(lf(ut,sr,Ot)))),Hi)break;ut=ut.return}0<Cr.length&&(qt=new pr(qt,vr,null,x,Jt),rr.push({event:qt,listeners:Cr}))}}if((b&7)===0){e:{if(qt=y==="mouseover"||y==="pointerover",pr=y==="mouseout"||y==="pointerout",qt&&x!==un&&(vr=x.relatedTarget||x.fromElement)&&(Gu(vr)||vr[ru]))break e;if((pr||qt)&&(qt=Jt.window===Jt?Jt:(qt=Jt.ownerDocument)?qt.defaultView||qt.parentWindow:window,pr?(vr=x.relatedTarget||x.toElement,pr=Nt,vr=vr?Gu(vr):null,vr!==null&&(Hi=yl(vr),vr!==Hi||vr.tag!==5&&vr.tag!==6)&&(vr=null)):(pr=null,vr=Nt),pr!==vr)){if(Cr=EE,sr="onMouseLeave",At="onMouseEnter",ut="mouse",(y==="pointerout"||y==="pointerover")&&(Cr=p0,sr="onPointerLeave",At="onPointerEnter",ut="pointer"),Hi=pr==null?qt:cf(pr),Ot=vr==null?qt:cf(vr),qt=new Cr(sr,ut+"leave",pr,x,Jt),qt.target=Hi,qt.relatedTarget=Ot,sr=null,Gu(Jt)===Nt&&(Cr=new Cr(At,ut+"enter",vr,x,Jt),Cr.target=Ot,Cr.relatedTarget=Hi,sr=Cr),Hi=sr,pr&&vr)t:{for(Cr=pr,At=vr,ut=0,Ot=Cr;Ot;Ot=Yi(Ot))ut++;for(Ot=0,sr=At;sr;sr=Yi(sr))Ot++;for(;0<ut-Ot;)Cr=Yi(Cr),ut--;for(;0<Ot-ut;)At=Yi(At),Ot--;for(;ut--;){if(Cr===At||At!==null&&Cr===At.alternate)break t;Cr=Yi(Cr),At=Yi(At)}Cr=null}else Cr=null;pr!==null&&jE(rr,qt,pr,Cr,!1),vr!==null&&Hi!==null&&jE(rr,Hi,vr,Cr,!0)}}e:{if(qt=Nt?cf(Nt):window,pr=qt.nodeName&&qt.nodeName.toLowerCase(),pr==="select"||pr==="input"&&qt.type==="file")var Ir=aN;else if(kE(qt))if(lw)Ir=uN;else{Ir=sN;var Rr=oN}else(pr=qt.nodeName)&&pr.toLowerCase()==="input"&&(qt.type==="checkbox"||qt.type==="radio")&&(Ir=lN);if(Ir&&(Ir=Ir(y,Nt))){sw(rr,Ir,x,Jt);break e}Rr&&Rr(y,qt,Nt),y==="focusout"&&(Rr=qt._wrapperState)&&Rr.controlled&&qt.type==="number"&&_i(qt,"number",qt.value)}switch(Rr=Nt?cf(Nt):window,y){case"focusin":(kE(Rr)||Rr.contentEditable==="true")&&(wd=Rr,FE=Nt,mo=null);break;case"focusout":mo=FE=wd=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,g0(rr,x,Jt);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":g0(rr,x,Jt)}var Mr;if(Cd)e:{switch(y){case"compositionstart":var Xr="onCompositionStart";break e;case"compositionend":Xr="onCompositionEnd";break e;case"compositionupdate":Xr="onCompositionUpdate";break e}Xr=void 0}else $c?ow(y,x)&&(Xr="onCompositionEnd"):y==="keydown"&&x.keyCode===229&&(Xr="onCompositionStart");Xr&&(Ad&&x.locale!=="ko"&&($c||Xr!=="onCompositionStart"?Xr==="onCompositionEnd"&&$c&&(Mr=KA()):(Hc=Jt,yE="value"in Hc?Hc.value:Hc.textContent,$c=!0)),Rr=$u(Nt,Xr),0<Rr.length&&(Xr=new rf(Xr,y,null,x,Jt),rr.push({event:Xr,listeners:Rr}),Mr?Xr.data=Mr:(Mr=IE(x),Mr!==null&&(Xr.data=Mr)))),(Mr=_m?DE(y,x):nN(y,x))&&(Nt=$u(Nt,"onBeforeInput"),0<Nt.length&&(Jt=new rf("onBeforeInput","beforeinput",null,x,Jt),rr.push({event:Jt,listeners:Nt}),Jt.data=Mr))}$E(rr,b)})}function lf(y,b,x){return{instance:y,listener:b,currentTarget:x}}function $u(y,b){for(var x=b+"Capture",L=[];y!==null;){var V=y,ee=V.stateNode;V.tag===5&&ee!==null&&(V=ee,ee=Mc(y,x),ee!=null&&L.unshift(lf(y,ee,V)),ee=Mc(y,b),ee!=null&&L.push(lf(y,ee,V))),y=y.return}return L}function Yi(y){if(y===null)return null;do y=y.return;while(y&&y.tag!==5);return y||null}function jE(y,b,x,L,V){for(var ee=b._reactName,Ce=[];x!==null&&x!==L;){var Ye=x,ot=Ye.alternate,Nt=Ye.stateNode;if(ot!==null&&ot===L)break;Ye.tag===5&&Nt!==null&&(Ye=Nt,V?(ot=Mc(x,ee),ot!=null&&Ce.unshift(lf(x,ot,Ye))):V||(ot=Mc(x,ee),ot!=null&&Ce.push(lf(x,ot,Ye)))),x=x.return}Ce.length!==0&&y.push({event:b,listeners:Ce})}var gw=/\r\n?/g,VE=/\u0000|\uFFFD/g;function WE(y){return(typeof y=="string"?y:""+y).replace(gw,`
`).replace(VE,"")}function Am(y,b,x){if(b=WE(b),WE(y)!==b&&x)throw Error(a(425))}function wm(){}var Gs=null,xm=null;function y0(y,b){return y==="textarea"||y==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var _0=typeof setTimeout=="function"?setTimeout:void 0,E0=typeof clearTimeout=="function"?clearTimeout:void 0,YE=typeof Promise=="function"?Promise:void 0,vw=typeof queueMicrotask=="function"?queueMicrotask:typeof YE<"u"?function(y){return YE.resolve(null).then(y).catch(yw)}:_0;function yw(y){setTimeout(function(){throw y})}function T0(y,b){var x=b,L=0;do{var V=x.nextSibling;if(y.removeChild(x),V&&V.nodeType===8)if(x=V.data,x==="/$"){if(L===0){y.removeChild(V),_d(b);return}L--}else x!=="$"&&x!=="$?"&&x!=="$!"||L++;x=V}while(x);_d(b)}function vs(y){for(;y!=null;y=y.nextSibling){var b=y.nodeType;if(b===1||b===3)break;if(b===8){if(b=y.data,b==="$"||b==="$!"||b==="$?")break;if(b==="/$")return null}}return y}function XE(y){y=y.previousSibling;for(var b=0;y;){if(y.nodeType===8){var x=y.data;if(x==="$"||x==="$!"||x==="$?"){if(b===0)return y;b--}else x==="/$"&&b++}y=y.previousSibling}return null}var kd=Math.random().toString(36).slice(2),Sl="__reactFiber$"+kd,Im="__reactProps$"+kd,ru="__reactContainer$"+kd,ys="__reactEvents$"+kd,qE="__reactListeners$"+kd,KE="__reactHandles$"+kd;function Gu(y){var b=y[Sl];if(b)return b;for(var x=y.parentNode;x;){if(b=x[ru]||x[Sl]){if(x=b.alternate,b.child!==null||x!==null&&x.child!==null)for(y=XE(y);y!==null;){if(x=y[Sl])return x;y=XE(y)}return b}y=x,x=y.parentNode}return null}function uf(y){return y=y[Sl]||y[ru],!y||y.tag!==5&&y.tag!==6&&y.tag!==13&&y.tag!==3?null:y}function cf(y){if(y.tag===5||y.tag===6)return y.stateNode;throw Error(a(33))}function b0(y){return y[Im]||null}var S0=[],ko=-1;function zu(y){return{current:y}}function bi(y){0>ko||(y.current=S0[ko],S0[ko]=null,ko--)}function fi(y,b){ko++,S0[ko]=y.current,y.current=b}var nu={},Ia=zu(nu),ja=zu(!1),zc=nu;function hf(y,b){var x=y.type.contextTypes;if(!x)return nu;var L=y.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===b)return L.__reactInternalMemoizedMaskedChildContext;var V={},ee;for(ee in x)V[ee]=b[ee];return L&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=b,y.__reactInternalMemoizedMaskedChildContext=V),V}function Po(y){return y=y.childContextTypes,y!=null}function C0(){bi(ja),bi(Ia)}function ZE(y,b,x){if(Ia.current!==nu)throw Error(a(168));fi(Ia,b),fi(ja,x)}function jc(y,b,x){var L=y.stateNode;if(b=b.childContextTypes,typeof L.getChildContext!="function")return x;L=L.getChildContext();for(var V in L)if(!(V in b))throw Error(a(108,St(y)||"Unknown",V));return me({},x,L)}function A0(y){return y=(y=y.stateNode)&&y.__reactInternalMemoizedMergedChildContext||nu,zc=Ia.current,fi(Ia,y),fi(ja,ja.current),!0}function w0(y,b,x){var L=y.stateNode;if(!L)throw Error(a(169));x?(y=jc(y,b,zc),L.__reactInternalMemoizedMergedChildContext=y,bi(ja),bi(Ia),fi(Ia,y)):bi(ja),fi(ja,x)}var ju=null,x0=!1,QE=!1;function JE(y){ju===null?ju=[y]:ju.push(y)}function Pd(y){x0=!0,JE(y)}function Vc(){if(!QE&&ju!==null){QE=!0;var y=0,b=ii;try{var x=ju;for(ii=1;y<x.length;y++){var L=x[y];do L=L(!0);while(L!==null)}ju=null,x0=!1}catch(V){throw ju!==null&&(ju=ju.slice(y+1)),lm(uE,Vc),V}finally{ii=b,QE=!1}}return null}var Rd=[],Nd=0,I0=null,Ro=0,zs=[],qo=0,Vu=null,Wu=1,Yu="";function Xu(y,b){Rd[Nd++]=Ro,Rd[Nd++]=I0,I0=y,Ro=b}function Wc(y,b,x){zs[qo++]=Wu,zs[qo++]=Yu,zs[qo++]=Vu,Vu=y;var L=Wu;y=Yu;var V=32-El(L)-1;L&=~(1<<V),x+=1;var ee=32-El(b)+V;if(30<ee){var Ce=V-V%5;ee=(L&(1<<Ce)-1).toString(32),L>>=Ce,V-=Ce,Wu=1<<32-El(b)+V|x<<V|L,Yu=ee+y}else Wu=1<<ee|x<<V|L,Yu=y}function Dm(y){y.return!==null&&(Xu(y,1),Wc(y,1,0))}function D0(y){for(;y===I0;)I0=Rd[--Nd],Rd[Nd]=null,Ro=Rd[--Nd],Rd[Nd]=null;for(;y===Vu;)Vu=zs[--qo],zs[qo]=null,Yu=zs[--qo],zs[qo]=null,Wu=zs[--qo],zs[qo]=null}var No=null,Ko=null,mi=!1,Cl=null;function _w(y,b){var x=Ra(5,null,null,0);x.elementType="DELETED",x.stateNode=b,x.return=y,b=y.deletions,b===null?(y.deletions=[x],y.flags|=16):b.push(x)}function eT(y,b){switch(y.tag){case 5:var x=y.type;return b=b.nodeType!==1||x.toLowerCase()!==b.nodeName.toLowerCase()?null:b,b!==null?(y.stateNode=b,No=y,Ko=vs(b.firstChild),!0):!1;case 6:return b=y.pendingProps===""||b.nodeType!==3?null:b,b!==null?(y.stateNode=b,No=y,Ko=null,!0):!1;case 13:return b=b.nodeType!==8?null:b,b!==null?(x=Vu!==null?{id:Wu,overflow:Yu}:null,y.memoizedState={dehydrated:b,treeContext:x,retryLane:1073741824},x=Ra(18,null,null,0),x.stateNode=b,x.return=y,y.child=x,No=y,Ko=null,!0):!1;default:return!1}}function O0(y){return(y.mode&1)!==0&&(y.flags&128)===0}function k0(y){if(mi){var b=Ko;if(b){var x=b;if(!eT(y,b)){if(O0(y))throw Error(a(418));b=vs(x.nextSibling);var L=No;b&&eT(y,b)?_w(L,x):(y.flags=y.flags&-4097|2,mi=!1,No=y)}}else{if(O0(y))throw Error(a(418));y.flags=y.flags&-4097|2,mi=!1,No=y}}}function Ew(y){for(y=y.return;y!==null&&y.tag!==5&&y.tag!==3&&y.tag!==13;)y=y.return;No=y}function Om(y){if(y!==No)return!1;if(!mi)return Ew(y),mi=!0,!1;var b;if((b=y.tag!==3)&&!(b=y.tag!==5)&&(b=y.type,b=b!=="head"&&b!=="body"&&!y0(y.type,y.memoizedProps)),b&&(b=Ko)){if(O0(y))throw Tw(),Error(a(418));for(;b;)_w(y,b),b=vs(b.nextSibling)}if(Ew(y),y.tag===13){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));e:{for(y=y.nextSibling,b=0;y;){if(y.nodeType===8){var x=y.data;if(x==="/$"){if(b===0){Ko=vs(y.nextSibling);break e}b--}else x!=="$"&&x!=="$!"&&x!=="$?"||b++}y=y.nextSibling}Ko=null}}else Ko=No?vs(y.stateNode.nextSibling):null;return!0}function Tw(){for(var y=Ko;y;)y=vs(y.nextSibling)}function Md(){Ko=No=null,mi=!1}function tT(y){Cl===null?Cl=[y]:Cl.push(y)}var mN=ue.ReactCurrentBatchConfig;function km(y,b,x){if(y=x.ref,y!==null&&typeof y!="function"&&typeof y!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(a(309));var L=x.stateNode}if(!L)throw Error(a(147,y));var V=L,ee=""+y;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===ee?b.ref:(b=function(Ce){var Ye=V.refs;Ce===null?delete Ye[ee]:Ye[ee]=Ce},b._stringRef=ee,b)}if(typeof y!="string")throw Error(a(284));if(!x._owner)throw Error(a(290,y))}return y}function ff(y,b){throw y=Object.prototype.toString.call(b),Error(a(31,y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":y))}function rT(y){var b=y._init;return b(y._payload)}function go(y){function b(At,ut){if(y){var Ot=At.deletions;Ot===null?(At.deletions=[ut],At.flags|=16):Ot.push(ut)}}function x(At,ut){if(!y)return null;for(;ut!==null;)b(At,ut),ut=ut.sibling;return null}function L(At,ut){for(At=new Map;ut!==null;)ut.key!==null?At.set(ut.key,ut):At.set(ut.index,ut),ut=ut.sibling;return At}function V(At,ut){return At=Ui(At,ut),At.index=0,At.sibling=null,At}function ee(At,ut,Ot){return At.index=Ot,y?(Ot=At.alternate,Ot!==null?(Ot=Ot.index,Ot<ut?(At.flags|=2,ut):Ot):(At.flags|=2,ut)):(At.flags|=1048576,ut)}function Ce(At){return y&&At.alternate===null&&(At.flags|=2),At}function Ye(At,ut,Ot,sr){return ut===null||ut.tag!==6?(ut=RT(Ot,At.mode,sr),ut.return=At,ut):(ut=V(ut,Ot),ut.return=At,ut)}function ot(At,ut,Ot,sr){var Ir=Ot.type;return Ir===fe?Jt(At,ut,Ot.props.children,sr,Ot.key):ut!==null&&(ut.elementType===Ir||typeof Ir=="object"&&Ir!==null&&Ir.$$typeof===be&&rT(Ir)===ut.type)?(sr=V(ut,Ot.props),sr.ref=km(At,ut,Ot),sr.return=At,sr):(sr=Na(Ot.type,Ot.key,Ot.props,null,At.mode,sr),sr.ref=km(At,ut,Ot),sr.return=At,sr)}function Nt(At,ut,Ot,sr){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==Ot.containerInfo||ut.stateNode.implementation!==Ot.implementation?(ut=NT(Ot,At.mode,sr),ut.return=At,ut):(ut=V(ut,Ot.children||[]),ut.return=At,ut)}function Jt(At,ut,Ot,sr,Ir){return ut===null||ut.tag!==7?(ut=Ki(Ot,At.mode,sr,Ir),ut.return=At,ut):(ut=V(ut,Ot),ut.return=At,ut)}function rr(At,ut,Ot){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=RT(""+ut,At.mode,Ot),ut.return=At,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case X:return Ot=Na(ut.type,ut.key,ut.props,null,At.mode,Ot),Ot.ref=km(At,null,ut),Ot.return=At,Ot;case de:return ut=NT(ut,At.mode,Ot),ut.return=At,ut;case be:var sr=ut._init;return rr(At,sr(ut._payload),Ot)}if(Vn(ut)||pe(ut))return ut=Ki(ut,At.mode,Ot,null),ut.return=At,ut;ff(At,ut)}return null}function qt(At,ut,Ot,sr){var Ir=ut!==null?ut.key:null;if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Ir!==null?null:Ye(At,ut,""+Ot,sr);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case X:return Ot.key===Ir?ot(At,ut,Ot,sr):null;case de:return Ot.key===Ir?Nt(At,ut,Ot,sr):null;case be:return Ir=Ot._init,qt(At,ut,Ir(Ot._payload),sr)}if(Vn(Ot)||pe(Ot))return Ir!==null?null:Jt(At,ut,Ot,sr,null);ff(At,Ot)}return null}function pr(At,ut,Ot,sr,Ir){if(typeof sr=="string"&&sr!==""||typeof sr=="number")return At=At.get(Ot)||null,Ye(ut,At,""+sr,Ir);if(typeof sr=="object"&&sr!==null){switch(sr.$$typeof){case X:return At=At.get(sr.key===null?Ot:sr.key)||null,ot(ut,At,sr,Ir);case de:return At=At.get(sr.key===null?Ot:sr.key)||null,Nt(ut,At,sr,Ir);case be:var Rr=sr._init;return pr(At,ut,Ot,Rr(sr._payload),Ir)}if(Vn(sr)||pe(sr))return At=At.get(Ot)||null,Jt(ut,At,sr,Ir,null);ff(ut,sr)}return null}function vr(At,ut,Ot,sr){for(var Ir=null,Rr=null,Mr=ut,Xr=ut=0,Ya=null;Mr!==null&&Xr<Ot.length;Xr++){Mr.index>Xr?(Ya=Mr,Mr=null):Ya=Mr.sibling;var qn=qt(At,Mr,Ot[Xr],sr);if(qn===null){Mr===null&&(Mr=Ya);break}y&&Mr&&qn.alternate===null&&b(At,Mr),ut=ee(qn,ut,Xr),Rr===null?Ir=qn:Rr.sibling=qn,Rr=qn,Mr=Ya}if(Xr===Ot.length)return x(At,Mr),mi&&Xu(At,Xr),Ir;if(Mr===null){for(;Xr<Ot.length;Xr++)Mr=rr(At,Ot[Xr],sr),Mr!==null&&(ut=ee(Mr,ut,Xr),Rr===null?Ir=Mr:Rr.sibling=Mr,Rr=Mr);return mi&&Xu(At,Xr),Ir}for(Mr=L(At,Mr);Xr<Ot.length;Xr++)Ya=pr(Mr,At,Xr,Ot[Xr],sr),Ya!==null&&(y&&Ya.alternate!==null&&Mr.delete(Ya.key===null?Xr:Ya.key),ut=ee(Ya,ut,Xr),Rr===null?Ir=Ya:Rr.sibling=Ya,Rr=Ya);return y&&Mr.forEach(function(oh){return b(At,oh)}),mi&&Xu(At,Xr),Ir}function Cr(At,ut,Ot,sr){var Ir=pe(Ot);if(typeof Ir!="function")throw Error(a(150));if(Ot=Ir.call(Ot),Ot==null)throw Error(a(151));for(var Rr=Ir=null,Mr=ut,Xr=ut=0,Ya=null,qn=Ot.next();Mr!==null&&!qn.done;Xr++,qn=Ot.next()){Mr.index>Xr?(Ya=Mr,Mr=null):Ya=Mr.sibling;var oh=qt(At,Mr,qn.value,sr);if(oh===null){Mr===null&&(Mr=Ya);break}y&&Mr&&oh.alternate===null&&b(At,Mr),ut=ee(oh,ut,Xr),Rr===null?Ir=oh:Rr.sibling=oh,Rr=oh,Mr=Ya}if(qn.done)return x(At,Mr),mi&&Xu(At,Xr),Ir;if(Mr===null){for(;!qn.done;Xr++,qn=Ot.next())qn=rr(At,qn.value,sr),qn!==null&&(ut=ee(qn,ut,Xr),Rr===null?Ir=qn:Rr.sibling=qn,Rr=qn);return mi&&Xu(At,Xr),Ir}for(Mr=L(At,Mr);!qn.done;Xr++,qn=Ot.next())qn=pr(Mr,At,Xr,qn.value,sr),qn!==null&&(y&&qn.alternate!==null&&Mr.delete(qn.key===null?Xr:qn.key),ut=ee(qn,ut,Xr),Rr===null?Ir=qn:Rr.sibling=qn,Rr=qn);return y&&Mr.forEach(function(D9){return b(At,D9)}),mi&&Xu(At,Xr),Ir}function Hi(At,ut,Ot,sr){if(typeof Ot=="object"&&Ot!==null&&Ot.type===fe&&Ot.key===null&&(Ot=Ot.props.children),typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case X:e:{for(var Ir=Ot.key,Rr=ut;Rr!==null;){if(Rr.key===Ir){if(Ir=Ot.type,Ir===fe){if(Rr.tag===7){x(At,Rr.sibling),ut=V(Rr,Ot.props.children),ut.return=At,At=ut;break e}}else if(Rr.elementType===Ir||typeof Ir=="object"&&Ir!==null&&Ir.$$typeof===be&&rT(Ir)===Rr.type){x(At,Rr.sibling),ut=V(Rr,Ot.props),ut.ref=km(At,Rr,Ot),ut.return=At,At=ut;break e}x(At,Rr);break}else b(At,Rr);Rr=Rr.sibling}Ot.type===fe?(ut=Ki(Ot.props.children,At.mode,sr,Ot.key),ut.return=At,At=ut):(sr=Na(Ot.type,Ot.key,Ot.props,null,At.mode,sr),sr.ref=km(At,ut,Ot),sr.return=At,At=sr)}return Ce(At);case de:e:{for(Rr=Ot.key;ut!==null;){if(ut.key===Rr)if(ut.tag===4&&ut.stateNode.containerInfo===Ot.containerInfo&&ut.stateNode.implementation===Ot.implementation){x(At,ut.sibling),ut=V(ut,Ot.children||[]),ut.return=At,At=ut;break e}else{x(At,ut);break}else b(At,ut);ut=ut.sibling}ut=NT(Ot,At.mode,sr),ut.return=At,At=ut}return Ce(At);case be:return Rr=Ot._init,Hi(At,ut,Rr(Ot._payload),sr)}if(Vn(Ot))return vr(At,ut,Ot,sr);if(pe(Ot))return Cr(At,ut,Ot,sr);ff(At,Ot)}return typeof Ot=="string"&&Ot!==""||typeof Ot=="number"?(Ot=""+Ot,ut!==null&&ut.tag===6?(x(At,ut.sibling),ut=V(ut,Ot),ut.return=At,At=ut):(x(At,ut),ut=RT(Ot,At.mode,sr),ut.return=At,At=ut),Ce(At)):x(At,ut)}return Hi}var Yc=go(!0),bw=go(!1),P0=zu(null),R0=null,iu=null,Ld=null;function Pm(){Ld=iu=R0=null}function nT(y){var b=P0.current;bi(P0),y._currentValue=b}function Bd(y,b,x){for(;y!==null;){var L=y.alternate;if((y.childLanes&b)!==b?(y.childLanes|=b,L!==null&&(L.childLanes|=b)):L!==null&&(L.childLanes&b)!==b&&(L.childLanes|=b),y===x)break;y=y.return}}function Al(y,b){R0=y,Ld=iu=null,y=y.dependencies,y!==null&&y.firstContext!==null&&((y.lanes&b)!==0&&(Zo=!0),y.firstContext=null)}function js(y){var b=y._currentValue;if(Ld!==y)if(y={context:y,memoizedValue:b,next:null},iu===null){if(R0===null)throw Error(a(308));iu=y,R0.dependencies={lanes:0,firstContext:y}}else iu=iu.next=y;return b}var df=null;function iT(y){df===null?df=[y]:df.push(y)}function pf(y,b,x,L){var V=b.interleaved;return V===null?(x.next=x,iT(b)):(x.next=V.next,V.next=x),b.interleaved=x,Vs(y,L)}function Vs(y,b){y.lanes|=b;var x=y.alternate;for(x!==null&&(x.lanes|=b),x=y,y=y.return;y!==null;)y.childLanes|=b,x=y.alternate,x!==null&&(x.childLanes|=b),x=y,y=y.return;return x.tag===3?x.stateNode:null}var Xc=!1;function N0(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sw(y,b){y=y.updateQueue,b.updateQueue===y&&(b.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,effects:y.effects})}function au(y,b){return{eventTime:y,lane:b,tag:0,payload:null,callback:null,next:null}}function qu(y,b,x){var L=y.updateQueue;if(L===null)return null;if(L=L.shared,(Bn&2)!==0){var V=L.pending;return V===null?b.next=b:(b.next=V.next,V.next=b),L.pending=b,Vs(y,x)}return V=L.interleaved,V===null?(b.next=b,iT(L)):(b.next=V.next,V.next=b),L.interleaved=b,Vs(y,x)}function Rm(y,b,x){if(b=b.updateQueue,b!==null&&(b=b.shared,(x&4194240)!==0)){var L=b.lanes;L&=y.pendingLanes,x|=L,b.lanes=x,fE(y,x)}}function aT(y,b){var x=y.updateQueue,L=y.alternate;if(L!==null&&(L=L.updateQueue,x===L)){var V=null,ee=null;if(x=x.firstBaseUpdate,x!==null){do{var Ce={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};ee===null?V=ee=Ce:ee=ee.next=Ce,x=x.next}while(x!==null);ee===null?V=ee=b:ee=ee.next=b}else V=ee=b;x={baseState:L.baseState,firstBaseUpdate:V,lastBaseUpdate:ee,shared:L.shared,effects:L.effects},y.updateQueue=x;return}y=x.lastBaseUpdate,y===null?x.firstBaseUpdate=b:y.next=b,x.lastBaseUpdate=b}function Nm(y,b,x,L){var V=y.updateQueue;Xc=!1;var ee=V.firstBaseUpdate,Ce=V.lastBaseUpdate,Ye=V.shared.pending;if(Ye!==null){V.shared.pending=null;var ot=Ye,Nt=ot.next;ot.next=null,Ce===null?ee=Nt:Ce.next=Nt,Ce=ot;var Jt=y.alternate;Jt!==null&&(Jt=Jt.updateQueue,Ye=Jt.lastBaseUpdate,Ye!==Ce&&(Ye===null?Jt.firstBaseUpdate=Nt:Ye.next=Nt,Jt.lastBaseUpdate=ot))}if(ee!==null){var rr=V.baseState;Ce=0,Jt=Nt=ot=null,Ye=ee;do{var qt=Ye.lane,pr=Ye.eventTime;if((L&qt)===qt){Jt!==null&&(Jt=Jt.next={eventTime:pr,lane:0,tag:Ye.tag,payload:Ye.payload,callback:Ye.callback,next:null});e:{var vr=y,Cr=Ye;switch(qt=b,pr=x,Cr.tag){case 1:if(vr=Cr.payload,typeof vr=="function"){rr=vr.call(pr,rr,qt);break e}rr=vr;break e;case 3:vr.flags=vr.flags&-65537|128;case 0:if(vr=Cr.payload,qt=typeof vr=="function"?vr.call(pr,rr,qt):vr,qt==null)break e;rr=me({},rr,qt);break e;case 2:Xc=!0}}Ye.callback!==null&&Ye.lane!==0&&(y.flags|=64,qt=V.effects,qt===null?V.effects=[Ye]:qt.push(Ye))}else pr={eventTime:pr,lane:qt,tag:Ye.tag,payload:Ye.payload,callback:Ye.callback,next:null},Jt===null?(Nt=Jt=pr,ot=rr):Jt=Jt.next=pr,Ce|=qt;if(Ye=Ye.next,Ye===null){if(Ye=V.shared.pending,Ye===null)break;qt=Ye,Ye=qt.next,qt.next=null,V.lastBaseUpdate=qt,V.shared.pending=null}}while(!0);if(Jt===null&&(ot=rr),V.baseState=ot,V.firstBaseUpdate=Nt,V.lastBaseUpdate=Jt,b=V.shared.interleaved,b!==null){V=b;do Ce|=V.lane,V=V.next;while(V!==b)}else ee===null&&(V.shared.lanes=0);rh|=Ce,y.lanes=Ce,y.memoizedState=rr}}function oT(y,b,x){if(y=b.effects,b.effects=null,y!==null)for(b=0;b<y.length;b++){var L=y[b],V=L.callback;if(V!==null){if(L.callback=null,L=x,typeof V!="function")throw Error(a(191,V));V.call(L)}}}var qc={},Xi=zu(qc),wl=zu(qc),Fd=zu(qc);function Kc(y){if(y===qc)throw Error(a(174));return y}function Zc(y,b){switch(fi(Fd,b),fi(wl,y),fi(Xi,qc),y=b.nodeType,y){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:ho(null,"");break;default:y=y===8?b.parentNode:b,b=y.namespaceURI||null,y=y.tagName,b=ho(b,y)}bi(Xi),fi(Xi,b)}function mf(){bi(Xi),bi(wl),bi(Fd)}function Cw(y){Kc(Fd.current);var b=Kc(Xi.current),x=ho(b,y.type);b!==x&&(fi(wl,y),fi(Xi,x))}function M0(y){wl.current===y&&(bi(Xi),bi(wl))}var ei=zu(0);function qr(y){for(var b=y;b!==null;){if(b.tag===13){var x=b.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var L0=[];function B0(){for(var y=0;y<L0.length;y++)L0[y]._workInProgressVersionPrimary=null;L0.length=0}var Mm=ue.ReactCurrentDispatcher,F0=ue.ReactCurrentBatchConfig,gf=0,Fi=null,Da=null,Va=null,U0=!1,Ud=!1,vf=0,Qc=0;function Qa(){throw Error(a(321))}function H0(y,b){if(b===null)return!1;for(var x=0;x<b.length&&x<y.length;x++)if(!Tl(y[x],b[x]))return!1;return!0}function Lm(y,b,x,L,V,ee){if(gf=ee,Fi=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,Mm.current=y===null||y.memoizedState===null?gN:$d,y=x(L,V),Ud){ee=0;do{if(Ud=!1,vf=0,25<=ee)throw Error(a(301));ee+=1,Va=Da=null,b.updateQueue=null,Mm.current=vN,y=x(L,V)}while(Ud)}if(Mm.current=q0,b=Da!==null&&Da.next!==null,gf=0,Va=Da=Fi=null,U0=!1,b)throw Error(a(300));return y}function $0(){var y=vf!==0;return vf=0,y}function xl(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Va===null?Fi.memoizedState=Va=y:Va=Va.next=y,Va}function Ws(){if(Da===null){var y=Fi.alternate;y=y!==null?y.memoizedState:null}else y=Da.next;var b=Va===null?Fi.memoizedState:Va.next;if(b!==null)Va=b,Da=y;else{if(y===null)throw Error(a(310));Da=y,y={memoizedState:Da.memoizedState,baseState:Da.baseState,baseQueue:Da.baseQueue,queue:Da.queue,next:null},Va===null?Fi.memoizedState=Va=y:Va=Va.next=y}return Va}function Bm(y,b){return typeof b=="function"?b(y):b}function Fm(y){var b=Ws(),x=b.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=y;var L=Da,V=L.baseQueue,ee=x.pending;if(ee!==null){if(V!==null){var Ce=V.next;V.next=ee.next,ee.next=Ce}L.baseQueue=V=ee,x.pending=null}if(V!==null){ee=V.next,L=L.baseState;var Ye=Ce=null,ot=null,Nt=ee;do{var Jt=Nt.lane;if((gf&Jt)===Jt)ot!==null&&(ot=ot.next={lane:0,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null}),L=Nt.hasEagerState?Nt.eagerState:y(L,Nt.action);else{var rr={lane:Jt,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null};ot===null?(Ye=ot=rr,Ce=L):ot=ot.next=rr,Fi.lanes|=Jt,rh|=Jt}Nt=Nt.next}while(Nt!==null&&Nt!==ee);ot===null?Ce=L:ot.next=Ye,Tl(L,b.memoizedState)||(Zo=!0),b.memoizedState=L,b.baseState=Ce,b.baseQueue=ot,x.lastRenderedState=L}if(y=x.interleaved,y!==null){V=y;do ee=V.lane,Fi.lanes|=ee,rh|=ee,V=V.next;while(V!==y)}else V===null&&(x.lanes=0);return[b.memoizedState,x.dispatch]}function Um(y){var b=Ws(),x=b.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=y;var L=x.dispatch,V=x.pending,ee=b.memoizedState;if(V!==null){x.pending=null;var Ce=V=V.next;do ee=y(ee,Ce.action),Ce=Ce.next;while(Ce!==V);Tl(ee,b.memoizedState)||(Zo=!0),b.memoizedState=ee,b.baseQueue===null&&(b.baseState=ee),x.lastRenderedState=ee}return[ee,L]}function Aw(){}function sT(y,b){var x=Fi,L=Ws(),V=b(),ee=!Tl(L.memoizedState,V);if(ee&&(L.memoizedState=V,Zo=!0),L=L.queue,Il(Hm.bind(null,x,L,y),[y]),L.getSnapshot!==b||ee||Va!==null&&Va.memoizedState.tag&1){if(x.flags|=2048,yf(9,lT.bind(null,x,L,V,b),void 0,null),Wa===null)throw Error(a(349));(gf&30)!==0||ww(x,b,V)}return V}function ww(y,b,x){y.flags|=16384,y={getSnapshot:b,value:x},b=Fi.updateQueue,b===null?(b={lastEffect:null,stores:null},Fi.updateQueue=b,b.stores=[y]):(x=b.stores,x===null?b.stores=[y]:x.push(y))}function lT(y,b,x,L){b.value=x,b.getSnapshot=L,uT(b)&&cT(y)}function Hm(y,b,x){return x(function(){uT(b)&&cT(y)})}function uT(y){var b=y.getSnapshot;y=y.value;try{var x=b();return!Tl(y,x)}catch{return!0}}function cT(y){var b=Vs(y,1);b!==null&&Qo(b,y,1,-1)}function G0(y){var b=xl();return typeof y=="function"&&(y=y()),b.memoizedState=b.baseState=y,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:y},b.queue=y,y=y.dispatch=xw.bind(null,Fi,y),[b.memoizedState,y]}function yf(y,b,x,L){return y={tag:y,create:b,destroy:x,deps:L,next:null},b=Fi.updateQueue,b===null?(b={lastEffect:null,stores:null},Fi.updateQueue=b,b.lastEffect=y.next=y):(x=b.lastEffect,x===null?b.lastEffect=y.next=y:(L=x.next,x.next=y,y.next=L,b.lastEffect=y)),y}function ga(){return Ws().memoizedState}function _f(y,b,x,L){var V=xl();Fi.flags|=y,V.memoizedState=yf(1|b,x,void 0,L===void 0?null:L)}function Ys(y,b,x,L){var V=Ws();L=L===void 0?null:L;var ee=void 0;if(Da!==null){var Ce=Da.memoizedState;if(ee=Ce.destroy,L!==null&&H0(L,Ce.deps)){V.memoizedState=yf(b,x,ee,L);return}}Fi.flags|=y,V.memoizedState=yf(1|b,x,ee,L)}function _s(y,b){return _f(8390656,8,y,b)}function Il(y,b){return Ys(2048,8,y,b)}function ou(y,b){return Ys(4,2,y,b)}function z0(y,b){return Ys(4,4,y,b)}function hT(y,b){if(typeof b=="function")return y=y(),b(y),function(){b(null)};if(b!=null)return y=y(),b.current=y,function(){b.current=null}}function j0(y,b,x){return x=x!=null?x.concat([y]):null,Ys(4,4,hT.bind(null,b,y),x)}function Ku(){}function V0(y,b){var x=Ws();b=b===void 0?null:b;var L=x.memoizedState;return L!==null&&b!==null&&H0(b,L[1])?L[0]:(x.memoizedState=[y,b],y)}function W0(y,b){var x=Ws();b=b===void 0?null:b;var L=x.memoizedState;return L!==null&&b!==null&&H0(b,L[1])?L[0]:(y=y(),x.memoizedState=[y,b],y)}function Y0(y,b,x){return(gf&21)===0?(y.baseState&&(y.baseState=!1,Zo=!0),y.memoizedState=x):(Tl(x,b)||(x=GA(),Fi.lanes|=x,rh|=x,y.baseState=!0),b)}function fT(y,b){var x=ii;ii=x!==0&&4>x?x:4,y(!0);var L=F0.transition;F0.transition={};try{y(!1),b()}finally{ii=x,F0.transition=L}}function Hd(){return Ws().memoizedState}function X0(y,b,x){var L=ec(y);if(x={lane:L,action:x,hasEagerState:!1,eagerState:null,next:null},Jc(y))$m(b,x);else if(x=pf(y,b,x,L),x!==null){var V=Lo();Qo(x,y,L,V),Gm(x,b,L)}}function xw(y,b,x){var L=ec(y),V={lane:L,action:x,hasEagerState:!1,eagerState:null,next:null};if(Jc(y))$m(b,V);else{var ee=y.alternate;if(y.lanes===0&&(ee===null||ee.lanes===0)&&(ee=b.lastRenderedReducer,ee!==null))try{var Ce=b.lastRenderedState,Ye=ee(Ce,x);if(V.hasEagerState=!0,V.eagerState=Ye,Tl(Ye,Ce)){var ot=b.interleaved;ot===null?(V.next=V,iT(b)):(V.next=ot.next,ot.next=V),b.interleaved=V;return}}catch{}finally{}x=pf(y,b,V,L),x!==null&&(V=Lo(),Qo(x,y,L,V),Gm(x,b,L))}}function Jc(y){var b=y.alternate;return y===Fi||b!==null&&b===Fi}function $m(y,b){Ud=U0=!0;var x=y.pending;x===null?b.next=b:(b.next=x.next,x.next=b),y.pending=b}function Gm(y,b,x){if((x&4194240)!==0){var L=b.lanes;L&=y.pendingLanes,x|=L,b.lanes=x,fE(y,x)}}var q0={readContext:js,useCallback:Qa,useContext:Qa,useEffect:Qa,useImperativeHandle:Qa,useInsertionEffect:Qa,useLayoutEffect:Qa,useMemo:Qa,useReducer:Qa,useRef:Qa,useState:Qa,useDebugValue:Qa,useDeferredValue:Qa,useTransition:Qa,useMutableSource:Qa,useSyncExternalStore:Qa,useId:Qa,unstable_isNewReconciler:!1},gN={readContext:js,useCallback:function(y,b){return xl().memoizedState=[y,b===void 0?null:b],y},useContext:js,useEffect:_s,useImperativeHandle:function(y,b,x){return x=x!=null?x.concat([y]):null,_f(4194308,4,hT.bind(null,b,y),x)},useLayoutEffect:function(y,b){return _f(4194308,4,y,b)},useInsertionEffect:function(y,b){return _f(4,2,y,b)},useMemo:function(y,b){var x=xl();return b=b===void 0?null:b,y=y(),x.memoizedState=[y,b],y},useReducer:function(y,b,x){var L=xl();return b=x!==void 0?x(b):b,L.memoizedState=L.baseState=b,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:b},L.queue=y,y=y.dispatch=X0.bind(null,Fi,y),[L.memoizedState,y]},useRef:function(y){var b=xl();return y={current:y},b.memoizedState=y},useState:G0,useDebugValue:Ku,useDeferredValue:function(y){return xl().memoizedState=y},useTransition:function(){var y=G0(!1),b=y[0];return y=fT.bind(null,y[1]),xl().memoizedState=y,[b,y]},useMutableSource:function(){},useSyncExternalStore:function(y,b,x){var L=Fi,V=xl();if(mi){if(x===void 0)throw Error(a(407));x=x()}else{if(x=b(),Wa===null)throw Error(a(349));(gf&30)!==0||ww(L,b,x)}V.memoizedState=x;var ee={value:x,getSnapshot:b};return V.queue=ee,_s(Hm.bind(null,L,ee,y),[y]),L.flags|=2048,yf(9,lT.bind(null,L,ee,x,b),void 0,null),x},useId:function(){var y=xl(),b=Wa.identifierPrefix;if(mi){var x=Yu,L=Wu;x=(L&~(1<<32-El(L)-1)).toString(32)+x,b=":"+b+"R"+x,x=vf++,0<x&&(b+="H"+x.toString(32)),b+=":"}else x=Qc++,b=":"+b+"r"+x.toString(32)+":";return y.memoizedState=b},unstable_isNewReconciler:!1},$d={readContext:js,useCallback:V0,useContext:js,useEffect:Il,useImperativeHandle:j0,useInsertionEffect:ou,useLayoutEffect:z0,useMemo:W0,useReducer:Fm,useRef:ga,useState:function(){return Fm(Bm)},useDebugValue:Ku,useDeferredValue:function(y){var b=Ws();return Y0(b,Da.memoizedState,y)},useTransition:function(){var y=Fm(Bm)[0],b=Ws().memoizedState;return[y,b]},useMutableSource:Aw,useSyncExternalStore:sT,useId:Hd,unstable_isNewReconciler:!1},vN={readContext:js,useCallback:V0,useContext:js,useEffect:Il,useImperativeHandle:j0,useInsertionEffect:ou,useLayoutEffect:z0,useMemo:W0,useReducer:Um,useRef:ga,useState:function(){return Um(Bm)},useDebugValue:Ku,useDeferredValue:function(y){var b=Ws();return Da===null?b.memoizedState=y:Y0(b,Da.memoizedState,y)},useTransition:function(){var y=Um(Bm)[0],b=Ws().memoizedState;return[y,b]},useMutableSource:Aw,useSyncExternalStore:sT,useId:Hd,unstable_isNewReconciler:!1};function Dl(y,b){if(y&&y.defaultProps){b=me({},b),y=y.defaultProps;for(var x in y)b[x]===void 0&&(b[x]=y[x]);return b}return b}function Zu(y,b,x,L){b=y.memoizedState,x=x(L,b),x=x==null?b:me({},b,x),y.memoizedState=x,y.lanes===0&&(y.updateQueue.baseState=x)}var Ef={isMounted:function(y){return(y=y._reactInternals)?yl(y)===y:!1},enqueueSetState:function(y,b,x){y=y._reactInternals;var L=Lo(),V=ec(y),ee=au(L,V);ee.payload=b,x!=null&&(ee.callback=x),b=qu(y,ee,V),b!==null&&(Qo(b,y,V,L),Rm(b,y,V))},enqueueReplaceState:function(y,b,x){y=y._reactInternals;var L=Lo(),V=ec(y),ee=au(L,V);ee.tag=1,ee.payload=b,x!=null&&(ee.callback=x),b=qu(y,ee,V),b!==null&&(Qo(b,y,V,L),Rm(b,y,V))},enqueueForceUpdate:function(y,b){y=y._reactInternals;var x=Lo(),L=ec(y),V=au(x,L);V.tag=2,b!=null&&(V.callback=b),b=qu(y,V,L),b!==null&&(Qo(b,y,L,x),Rm(b,y,L))}};function zm(y,b,x,L,V,ee,Ce){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(L,ee,Ce):b.prototype&&b.prototype.isPureReactComponent?!bm(x,L)||!bm(V,ee):!0}function Iw(y,b,x){var L=!1,V=nu,ee=b.contextType;return typeof ee=="object"&&ee!==null?ee=js(ee):(V=Po(b)?zc:Ia.current,L=b.contextTypes,ee=(L=L!=null)?hf(y,V):nu),b=new b(x,ee),y.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ef,y.stateNode=b,b._reactInternals=y,L&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=V,y.__reactInternalMemoizedMaskedChildContext=ee),b}function Dw(y,b,x,L){y=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(x,L),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(x,L),b.state!==y&&Ef.enqueueReplaceState(b,b.state,null)}function eh(y,b,x,L){var V=y.stateNode;V.props=x,V.state=y.memoizedState,V.refs={},N0(y);var ee=b.contextType;typeof ee=="object"&&ee!==null?V.context=js(ee):(ee=Po(b)?zc:Ia.current,V.context=hf(y,ee)),V.state=y.memoizedState,ee=b.getDerivedStateFromProps,typeof ee=="function"&&(Zu(y,b,ee,x),V.state=y.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(b=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),b!==V.state&&Ef.enqueueReplaceState(V,V.state,null),Nm(y,x,V,L),V.state=y.memoizedState),typeof V.componentDidMount=="function"&&(y.flags|=4194308)}function Gd(y,b){try{var x="",L=b;do x+=dt(L),L=L.return;while(L);var V=x}catch(ee){V=`
Error generating stack: `+ee.message+`
`+ee.stack}return{value:y,source:b,stack:V,digest:null}}function dT(y,b,x){return{value:y,source:null,stack:x??null,digest:b??null}}function jm(y,b){try{console.error(b.value)}catch(x){setTimeout(function(){throw x})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function su(y,b,x){x=au(-1,x),x.tag=3,x.payload={element:null};var L=b.value;return x.callback=function(){sy||(sy=!0,qm=L),jm(y,b)},x}function lu(y,b,x){x=au(-1,x),x.tag=3;var L=y.type.getDerivedStateFromError;if(typeof L=="function"){var V=b.value;x.payload=function(){return L(V)},x.callback=function(){jm(y,b)}}var ee=y.stateNode;return ee!==null&&typeof ee.componentDidCatch=="function"&&(x.callback=function(){jm(y,b),typeof L!="function"&&(nh===null?nh=new Set([this]):nh.add(this));var Ce=b.stack;this.componentDidCatch(b.value,{componentStack:Ce!==null?Ce:""})}),x}function mT(y,b,x){var L=y.pingCache;if(L===null){L=y.pingCache=new pT;var V=new Set;L.set(b,V)}else V=L.get(b),V===void 0&&(V=new Set,L.set(b,V));V.has(x)||(V.add(x),y=IN.bind(null,y,b,x),b.then(y,y))}function Ow(y){do{var b;if((b=y.tag===13)&&(b=y.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return y;y=y.return}while(y!==null);return null}function kw(y,b,x,L,V){return(y.mode&1)===0?(y===b?y.flags|=65536:(y.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(b=au(-1,1),b.tag=2,qu(x,b,1))),x.lanes|=1),y):(y.flags|=65536,y.lanes=V,y)}var yN=ue.ReactCurrentOwner,Zo=!1;function Ja(y,b,x,L){b.child=y===null?bw(b,null,x,L):Yc(b,y.child,x,L)}function K0(y,b,x,L,V){x=x.render;var ee=b.ref;return Al(b,V),L=Lm(y,b,x,L,ee,V),x=$0(),y!==null&&!Zo?(b.updateQueue=y.updateQueue,b.flags&=-2053,y.lanes&=~V,Qu(y,b,V)):(mi&&x&&Dm(b),b.flags|=1,Ja(y,b,L,V),b.child)}function zd(y,b,x,L,V){if(y===null){var ee=x.type;return typeof ee=="function"&&!PT(ee)&&ee.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(b.tag=15,b.type=ee,Pw(y,b,ee,L,V)):(y=Na(x.type,null,L,b,b.mode,V),y.ref=b.ref,y.return=b,b.child=y)}if(ee=y.child,(y.lanes&V)===0){var Ce=ee.memoizedProps;if(x=x.compare,x=x!==null?x:bm,x(Ce,L)&&y.ref===b.ref)return Qu(y,b,V)}return b.flags|=1,y=Ui(ee,L),y.ref=b.ref,y.return=b,b.child=y}function Pw(y,b,x,L,V){if(y!==null){var ee=y.memoizedProps;if(bm(ee,L)&&y.ref===b.ref)if(Zo=!1,b.pendingProps=L=ee,(y.lanes&V)!==0)(y.flags&131072)!==0&&(Zo=!0);else return b.lanes=y.lanes,Qu(y,b,V)}return vT(y,b,x,L,V)}function gT(y,b,x){var L=b.pendingProps,V=L.children,ee=y!==null?y.memoizedState:null;if(L.mode==="hidden")if((b.mode&1)===0)b.memoizedState={baseLanes:0,cachePool:null,transitions:null},fi(Wd,Ts),Ts|=x;else{if((x&1073741824)===0)return y=ee!==null?ee.baseLanes|x:x,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:y,cachePool:null,transitions:null},b.updateQueue=null,fi(Wd,Ts),Ts|=y,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=ee!==null?ee.baseLanes:x,fi(Wd,Ts),Ts|=L}else ee!==null?(L=ee.baseLanes|x,b.memoizedState=null):L=x,fi(Wd,Ts),Ts|=L;return Ja(y,b,V,x),b.child}function Oa(y,b){var x=b.ref;(y===null&&x!==null||y!==null&&y.ref!==x)&&(b.flags|=512,b.flags|=2097152)}function vT(y,b,x,L,V){var ee=Po(x)?zc:Ia.current;return ee=hf(b,ee),Al(b,V),x=Lm(y,b,x,L,ee,V),L=$0(),y!==null&&!Zo?(b.updateQueue=y.updateQueue,b.flags&=-2053,y.lanes&=~V,Qu(y,b,V)):(mi&&L&&Dm(b),b.flags|=1,Ja(y,b,x,V),b.child)}function Rw(y,b,x,L,V){if(Po(x)){var ee=!0;A0(b)}else ee=!1;if(Al(b,V),b.stateNode===null)J0(y,b),Iw(b,x,L),eh(b,x,L,V),L=!0;else if(y===null){var Ce=b.stateNode,Ye=b.memoizedProps;Ce.props=Ye;var ot=Ce.context,Nt=x.contextType;typeof Nt=="object"&&Nt!==null?Nt=js(Nt):(Nt=Po(x)?zc:Ia.current,Nt=hf(b,Nt));var Jt=x.getDerivedStateFromProps,rr=typeof Jt=="function"||typeof Ce.getSnapshotBeforeUpdate=="function";rr||typeof Ce.UNSAFE_componentWillReceiveProps!="function"&&typeof Ce.componentWillReceiveProps!="function"||(Ye!==L||ot!==Nt)&&Dw(b,Ce,L,Nt),Xc=!1;var qt=b.memoizedState;Ce.state=qt,Nm(b,L,Ce,V),ot=b.memoizedState,Ye!==L||qt!==ot||ja.current||Xc?(typeof Jt=="function"&&(Zu(b,x,Jt,L),ot=b.memoizedState),(Ye=Xc||zm(b,x,Ye,L,qt,ot,Nt))?(rr||typeof Ce.UNSAFE_componentWillMount!="function"&&typeof Ce.componentWillMount!="function"||(typeof Ce.componentWillMount=="function"&&Ce.componentWillMount(),typeof Ce.UNSAFE_componentWillMount=="function"&&Ce.UNSAFE_componentWillMount()),typeof Ce.componentDidMount=="function"&&(b.flags|=4194308)):(typeof Ce.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=L,b.memoizedState=ot),Ce.props=L,Ce.state=ot,Ce.context=Nt,L=Ye):(typeof Ce.componentDidMount=="function"&&(b.flags|=4194308),L=!1)}else{Ce=b.stateNode,Sw(y,b),Ye=b.memoizedProps,Nt=b.type===b.elementType?Ye:Dl(b.type,Ye),Ce.props=Nt,rr=b.pendingProps,qt=Ce.context,ot=x.contextType,typeof ot=="object"&&ot!==null?ot=js(ot):(ot=Po(x)?zc:Ia.current,ot=hf(b,ot));var pr=x.getDerivedStateFromProps;(Jt=typeof pr=="function"||typeof Ce.getSnapshotBeforeUpdate=="function")||typeof Ce.UNSAFE_componentWillReceiveProps!="function"&&typeof Ce.componentWillReceiveProps!="function"||(Ye!==rr||qt!==ot)&&Dw(b,Ce,L,ot),Xc=!1,qt=b.memoizedState,Ce.state=qt,Nm(b,L,Ce,V);var vr=b.memoizedState;Ye!==rr||qt!==vr||ja.current||Xc?(typeof pr=="function"&&(Zu(b,x,pr,L),vr=b.memoizedState),(Nt=Xc||zm(b,x,Nt,L,qt,vr,ot)||!1)?(Jt||typeof Ce.UNSAFE_componentWillUpdate!="function"&&typeof Ce.componentWillUpdate!="function"||(typeof Ce.componentWillUpdate=="function"&&Ce.componentWillUpdate(L,vr,ot),typeof Ce.UNSAFE_componentWillUpdate=="function"&&Ce.UNSAFE_componentWillUpdate(L,vr,ot)),typeof Ce.componentDidUpdate=="function"&&(b.flags|=4),typeof Ce.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof Ce.componentDidUpdate!="function"||Ye===y.memoizedProps&&qt===y.memoizedState||(b.flags|=4),typeof Ce.getSnapshotBeforeUpdate!="function"||Ye===y.memoizedProps&&qt===y.memoizedState||(b.flags|=1024),b.memoizedProps=L,b.memoizedState=vr),Ce.props=L,Ce.state=vr,Ce.context=ot,L=Nt):(typeof Ce.componentDidUpdate!="function"||Ye===y.memoizedProps&&qt===y.memoizedState||(b.flags|=4),typeof Ce.getSnapshotBeforeUpdate!="function"||Ye===y.memoizedProps&&qt===y.memoizedState||(b.flags|=1024),L=!1)}return kn(y,b,x,L,ee,V)}function kn(y,b,x,L,V,ee){Oa(y,b);var Ce=(b.flags&128)!==0;if(!L&&!Ce)return V&&w0(b,x,!1),Qu(y,b,ee);L=b.stateNode,yN.current=b;var Ye=Ce&&typeof x.getDerivedStateFromError!="function"?null:L.render();return b.flags|=1,y!==null&&Ce?(b.child=Yc(b,y.child,null,ee),b.child=Yc(b,null,Ye,ee)):Ja(y,b,Ye,ee),b.memoizedState=L.state,V&&w0(b,x,!0),b.child}function Nw(y){var b=y.stateNode;b.pendingContext?ZE(y,b.pendingContext,b.pendingContext!==b.context):b.context&&ZE(y,b.context,!1),Zc(y,b.containerInfo)}function jd(y,b,x,L,V){return Md(),tT(V),b.flags|=256,Ja(y,b,x,L),b.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function yT(y){return{baseLanes:y,cachePool:null,transitions:null}}function Mw(y,b,x){var L=b.pendingProps,V=ei.current,ee=!1,Ce=(b.flags&128)!==0,Ye;if((Ye=Ce)||(Ye=y!==null&&y.memoizedState===null?!1:(V&2)!==0),Ye?(ee=!0,b.flags&=-129):(y===null||y.memoizedState!==null)&&(V|=1),fi(ei,V&1),y===null)return k0(b),y=b.memoizedState,y!==null&&(y=y.dehydrated,y!==null)?((b.mode&1)===0?b.lanes=1:y.data==="$!"?b.lanes=8:b.lanes=1073741824,null):(Ce=L.children,y=L.fallback,ee?(L=b.mode,ee=b.child,Ce={mode:"hidden",children:Ce},(L&1)===0&&ee!==null?(ee.childLanes=0,ee.pendingProps=Ce):ee=Ma(Ce,L,0,null),y=Ki(y,L,x,null),ee.return=b,y.return=b,ee.sibling=y,b.child=ee,b.child.memoizedState=yT(x),b.memoizedState=Tf,y):_T(b,Ce));if(V=y.memoizedState,V!==null&&(Ye=V.dehydrated,Ye!==null))return _N(y,b,Ce,L,Ye,V,x);if(ee){ee=L.fallback,Ce=b.mode,V=y.child,Ye=V.sibling;var ot={mode:"hidden",children:L.children};return(Ce&1)===0&&b.child!==V?(L=b.child,L.childLanes=0,L.pendingProps=ot,b.deletions=null):(L=Ui(V,ot),L.subtreeFlags=V.subtreeFlags&14680064),Ye!==null?ee=Ui(Ye,ee):(ee=Ki(ee,Ce,x,null),ee.flags|=2),ee.return=b,L.return=b,L.sibling=ee,b.child=L,L=ee,ee=b.child,Ce=y.child.memoizedState,Ce=Ce===null?yT(x):{baseLanes:Ce.baseLanes|x,cachePool:null,transitions:Ce.transitions},ee.memoizedState=Ce,ee.childLanes=y.childLanes&~x,b.memoizedState=Tf,L}return ee=y.child,y=ee.sibling,L=Ui(ee,{mode:"visible",children:L.children}),(b.mode&1)===0&&(L.lanes=x),L.return=b,L.sibling=null,y!==null&&(x=b.deletions,x===null?(b.deletions=[y],b.flags|=16):x.push(y)),b.child=L,b.memoizedState=null,L}function _T(y,b){return b=Ma({mode:"visible",children:b},y.mode,0,null),b.return=y,y.child=b}function Z0(y,b,x,L){return L!==null&&tT(L),Yc(b,y.child,null,x),y=_T(b,b.pendingProps.children),y.flags|=2,b.memoizedState=null,y}function _N(y,b,x,L,V,ee,Ce){if(x)return b.flags&256?(b.flags&=-257,L=dT(Error(a(422))),Z0(y,b,Ce,L)):b.memoizedState!==null?(b.child=y.child,b.flags|=128,null):(ee=L.fallback,V=b.mode,L=Ma({mode:"visible",children:L.children},V,0,null),ee=Ki(ee,V,Ce,null),ee.flags|=2,L.return=b,ee.return=b,L.sibling=ee,b.child=L,(b.mode&1)!==0&&Yc(b,y.child,null,Ce),b.child.memoizedState=yT(Ce),b.memoizedState=Tf,ee);if((b.mode&1)===0)return Z0(y,b,Ce,null);if(V.data==="$!"){if(L=V.nextSibling&&V.nextSibling.dataset,L)var Ye=L.dgst;return L=Ye,ee=Error(a(419)),L=dT(ee,L,void 0),Z0(y,b,Ce,L)}if(Ye=(Ce&y.childLanes)!==0,Zo||Ye){if(L=Wa,L!==null){switch(Ce&-Ce){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}V=(V&(L.suspendedLanes|Ce))!==0?0:V,V!==0&&V!==ee.retryLane&&(ee.retryLane=V,Vs(y,V),Qo(L,y,V,-1))}return Pa(),L=dT(Error(a(421))),Z0(y,b,Ce,L)}return V.data==="$?"?(b.flags|=128,b.child=y.child,b=DN.bind(null,y),V._reactRetry=b,null):(y=ee.treeContext,Ko=vs(V.nextSibling),No=b,mi=!0,Cl=null,y!==null&&(zs[qo++]=Wu,zs[qo++]=Yu,zs[qo++]=Vu,Wu=y.id,Yu=y.overflow,Vu=b),b=_T(b,L.children),b.flags|=4096,b)}function ET(y,b,x){y.lanes|=b;var L=y.alternate;L!==null&&(L.lanes|=b),Bd(y.return,b,x)}function Q0(y,b,x,L,V){var ee=y.memoizedState;ee===null?y.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:L,tail:x,tailMode:V}:(ee.isBackwards=b,ee.rendering=null,ee.renderingStartTime=0,ee.last=L,ee.tail=x,ee.tailMode=V)}function Lw(y,b,x){var L=b.pendingProps,V=L.revealOrder,ee=L.tail;if(Ja(y,b,L.children,x),L=ei.current,(L&2)!==0)L=L&1|2,b.flags|=128;else{if(y!==null&&(y.flags&128)!==0)e:for(y=b.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&ET(y,x,b);else if(y.tag===19)ET(y,x,b);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===b)break e;for(;y.sibling===null;){if(y.return===null||y.return===b)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}L&=1}if(fi(ei,L),(b.mode&1)===0)b.memoizedState=null;else switch(V){case"forwards":for(x=b.child,V=null;x!==null;)y=x.alternate,y!==null&&qr(y)===null&&(V=x),x=x.sibling;x=V,x===null?(V=b.child,b.child=null):(V=x.sibling,x.sibling=null),Q0(b,!1,V,x,ee);break;case"backwards":for(x=null,V=b.child,b.child=null;V!==null;){if(y=V.alternate,y!==null&&qr(y)===null){b.child=V;break}y=V.sibling,V.sibling=x,x=V,V=y}Q0(b,!0,x,null,ee);break;case"together":Q0(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function J0(y,b){(b.mode&1)===0&&y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2)}function Qu(y,b,x){if(y!==null&&(b.dependencies=y.dependencies),rh|=b.lanes,(x&b.childLanes)===0)return null;if(y!==null&&b.child!==y.child)throw Error(a(153));if(b.child!==null){for(y=b.child,x=Ui(y,y.pendingProps),b.child=x,x.return=b;y.sibling!==null;)y=y.sibling,x=x.sibling=Ui(y,y.pendingProps),x.return=b;x.sibling=null}return b.child}function Bw(y,b,x){switch(b.tag){case 3:Nw(b),Md();break;case 5:Cw(b);break;case 1:Po(b.type)&&A0(b);break;case 4:Zc(b,b.stateNode.containerInfo);break;case 10:var L=b.type._context,V=b.memoizedProps.value;fi(P0,L._currentValue),L._currentValue=V;break;case 13:if(L=b.memoizedState,L!==null)return L.dehydrated!==null?(fi(ei,ei.current&1),b.flags|=128,null):(x&b.child.childLanes)!==0?Mw(y,b,x):(fi(ei,ei.current&1),y=Qu(y,b,x),y!==null?y.sibling:null);fi(ei,ei.current&1);break;case 19:if(L=(x&b.childLanes)!==0,(y.flags&128)!==0){if(L)return Lw(y,b,x);b.flags|=128}if(V=b.memoizedState,V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),fi(ei,ei.current),L)break;return null;case 22:case 23:return b.lanes=0,gT(y,b,x)}return Qu(y,b,x)}var Fw,ey,Uw,Hw;Fw=function(y,b){for(var x=b.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},ey=function(){},Uw=function(y,b,x,L){var V=y.memoizedProps;if(V!==L){y=b.stateNode,Kc(Xi.current);var ee=null;switch(x){case"input":V=Gt(y,V),L=Gt(y,L),ee=[];break;case"select":V=me({},V,{value:void 0}),L=me({},L,{value:void 0}),ee=[];break;case"textarea":V=pi(y,V),L=pi(y,L),ee=[];break;default:typeof V.onClick!="function"&&typeof L.onClick=="function"&&(y.onclick=wm)}wt(x,L);var Ce;x=null;for(Nt in V)if(!L.hasOwnProperty(Nt)&&V.hasOwnProperty(Nt)&&V[Nt]!=null)if(Nt==="style"){var Ye=V[Nt];for(Ce in Ye)Ye.hasOwnProperty(Ce)&&(x||(x={}),x[Ce]="")}else Nt!=="dangerouslySetInnerHTML"&&Nt!=="children"&&Nt!=="suppressContentEditableWarning"&&Nt!=="suppressHydrationWarning"&&Nt!=="autoFocus"&&(f.hasOwnProperty(Nt)?ee||(ee=[]):(ee=ee||[]).push(Nt,null));for(Nt in L){var ot=L[Nt];if(Ye=V?.[Nt],L.hasOwnProperty(Nt)&&ot!==Ye&&(ot!=null||Ye!=null))if(Nt==="style")if(Ye){for(Ce in Ye)!Ye.hasOwnProperty(Ce)||ot&&ot.hasOwnProperty(Ce)||(x||(x={}),x[Ce]="");for(Ce in ot)ot.hasOwnProperty(Ce)&&Ye[Ce]!==ot[Ce]&&(x||(x={}),x[Ce]=ot[Ce])}else x||(ee||(ee=[]),ee.push(Nt,x)),x=ot;else Nt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,Ye=Ye?Ye.__html:void 0,ot!=null&&Ye!==ot&&(ee=ee||[]).push(Nt,ot)):Nt==="children"?typeof ot!="string"&&typeof ot!="number"||(ee=ee||[]).push(Nt,""+ot):Nt!=="suppressContentEditableWarning"&&Nt!=="suppressHydrationWarning"&&(f.hasOwnProperty(Nt)?(ot!=null&&Nt==="onScroll"&&Ti("scroll",y),ee||Ye===ot||(ee=[])):(ee=ee||[]).push(Nt,ot))}x&&(ee=ee||[]).push("style",x);var Nt=ee;(b.updateQueue=Nt)&&(b.flags|=4)}},Hw=function(y,b,x,L){x!==L&&(b.flags|=4)};function Vm(y,b){if(!mi)switch(y.tailMode){case"hidden":b=y.tail;for(var x=null;b!==null;)b.alternate!==null&&(x=b),b=b.sibling;x===null?y.tail=null:x.sibling=null;break;case"collapsed":x=y.tail;for(var L=null;x!==null;)x.alternate!==null&&(L=x),x=x.sibling;L===null?b||y.tail===null?y.tail=null:y.tail.sibling=null:L.sibling=null}}function vo(y){var b=y.alternate!==null&&y.alternate.child===y.child,x=0,L=0;if(b)for(var V=y.child;V!==null;)x|=V.lanes|V.childLanes,L|=V.subtreeFlags&14680064,L|=V.flags&14680064,V.return=y,V=V.sibling;else for(V=y.child;V!==null;)x|=V.lanes|V.childLanes,L|=V.subtreeFlags,L|=V.flags,V.return=y,V=V.sibling;return y.subtreeFlags|=L,y.childLanes=x,b}function EN(y,b,x){var L=b.pendingProps;switch(D0(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vo(b),null;case 1:return Po(b.type)&&C0(),vo(b),null;case 3:return L=b.stateNode,mf(),bi(ja),bi(Ia),B0(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(y===null||y.child===null)&&(Om(b)?b.flags|=4:y===null||y.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,Cl!==null&&(Zm(Cl),Cl=null))),ey(y,b),vo(b),null;case 5:M0(b);var V=Kc(Fd.current);if(x=b.type,y!==null&&b.stateNode!=null)Uw(y,b,x,L,V),y.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!L){if(b.stateNode===null)throw Error(a(166));return vo(b),null}if(y=Kc(Xi.current),Om(b)){L=b.stateNode,x=b.type;var ee=b.memoizedProps;switch(L[Sl]=b,L[Im]=ee,y=(b.mode&1)!==0,x){case"dialog":Ti("cancel",L),Ti("close",L);break;case"iframe":case"object":case"embed":Ti("load",L);break;case"video":case"audio":for(V=0;V<Sm.length;V++)Ti(Sm[V],L);break;case"source":Ti("error",L);break;case"img":case"image":case"link":Ti("error",L),Ti("load",L);break;case"details":Ti("toggle",L);break;case"input":ar(L,ee),Ti("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!ee.multiple},Ti("invalid",L);break;case"textarea":Jn(L,ee),Ti("invalid",L)}wt(x,ee),V=null;for(var Ce in ee)if(ee.hasOwnProperty(Ce)){var Ye=ee[Ce];Ce==="children"?typeof Ye=="string"?L.textContent!==Ye&&(ee.suppressHydrationWarning!==!0&&Am(L.textContent,Ye,y),V=["children",Ye]):typeof Ye=="number"&&L.textContent!==""+Ye&&(ee.suppressHydrationWarning!==!0&&Am(L.textContent,Ye,y),V=["children",""+Ye]):f.hasOwnProperty(Ce)&&Ye!=null&&Ce==="onScroll"&&Ti("scroll",L)}switch(x){case"input":Pt(L),Tn(L,ee,!0);break;case"textarea":Pt(L),Aa(L);break;case"select":case"option":break;default:typeof ee.onClick=="function"&&(L.onclick=wm)}L=V,b.updateQueue=L,L!==null&&(b.flags|=4)}else{Ce=V.nodeType===9?V:V.ownerDocument,y==="http://www.w3.org/1999/xhtml"&&(y=ma(x)),y==="http://www.w3.org/1999/xhtml"?x==="script"?(y=Ce.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild)):typeof L.is=="string"?y=Ce.createElement(x,{is:L.is}):(y=Ce.createElement(x),x==="select"&&(Ce=y,L.multiple?Ce.multiple=!0:L.size&&(Ce.size=L.size))):y=Ce.createElementNS(y,x),y[Sl]=b,y[Im]=L,Fw(y,b,!1,!1),b.stateNode=y;e:{switch(Ce=pt(x,L),x){case"dialog":Ti("cancel",y),Ti("close",y),V=L;break;case"iframe":case"object":case"embed":Ti("load",y),V=L;break;case"video":case"audio":for(V=0;V<Sm.length;V++)Ti(Sm[V],y);V=L;break;case"source":Ti("error",y),V=L;break;case"img":case"image":case"link":Ti("error",y),Ti("load",y),V=L;break;case"details":Ti("toggle",y),V=L;break;case"input":ar(y,L),V=Gt(y,L),Ti("invalid",y);break;case"option":V=L;break;case"select":y._wrapperState={wasMultiple:!!L.multiple},V=me({},L,{value:void 0}),Ti("invalid",y);break;case"textarea":Jn(y,L),V=pi(y,L),Ti("invalid",y);break;default:V=L}wt(x,V),Ye=V;for(ee in Ye)if(Ye.hasOwnProperty(ee)){var ot=Ye[ee];ee==="style"?Ei(y,ot):ee==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&mn(y,ot)):ee==="children"?typeof ot=="string"?(x!=="textarea"||ot!=="")&&Ga(y,ot):typeof ot=="number"&&Ga(y,""+ot):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(f.hasOwnProperty(ee)?ot!=null&&ee==="onScroll"&&Ti("scroll",y):ot!=null&&oe(y,ee,ot,Ce))}switch(x){case"input":Pt(y),Tn(y,L,!1);break;case"textarea":Pt(y),Aa(y);break;case"option":L.value!=null&&y.setAttribute("value",""+Mt(L.value));break;case"select":y.multiple=!!L.multiple,ee=L.value,ee!=null?Nn(y,!!L.multiple,ee,!1):L.defaultValue!=null&&Nn(y,!!L.multiple,L.defaultValue,!0);break;default:typeof V.onClick=="function"&&(y.onclick=wm)}switch(x){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(b.flags|=4)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return vo(b),null;case 6:if(y&&b.stateNode!=null)Hw(y,b,y.memoizedProps,L);else{if(typeof L!="string"&&b.stateNode===null)throw Error(a(166));if(x=Kc(Fd.current),Kc(Xi.current),Om(b)){if(L=b.stateNode,x=b.memoizedProps,L[Sl]=b,(ee=L.nodeValue!==x)&&(y=No,y!==null))switch(y.tag){case 3:Am(L.nodeValue,x,(y.mode&1)!==0);break;case 5:y.memoizedProps.suppressHydrationWarning!==!0&&Am(L.nodeValue,x,(y.mode&1)!==0)}ee&&(b.flags|=4)}else L=(x.nodeType===9?x:x.ownerDocument).createTextNode(L),L[Sl]=b,b.stateNode=L}return vo(b),null;case 13:if(bi(ei),L=b.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(mi&&Ko!==null&&(b.mode&1)!==0&&(b.flags&128)===0)Tw(),Md(),b.flags|=98560,ee=!1;else if(ee=Om(b),L!==null&&L.dehydrated!==null){if(y===null){if(!ee)throw Error(a(318));if(ee=b.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(a(317));ee[Sl]=b}else Md(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;vo(b),ee=!1}else Cl!==null&&(Zm(Cl),Cl=null),ee=!0;if(!ee)return b.flags&65536?b:null}return(b.flags&128)!==0?(b.lanes=x,b):(L=L!==null,L!==(y!==null&&y.memoizedState!==null)&&L&&(b.child.flags|=8192,(b.mode&1)!==0&&(y===null||(ei.current&1)!==0?ka===0&&(ka=3):Pa())),b.updateQueue!==null&&(b.flags|=4),vo(b),null);case 4:return mf(),ey(y,b),y===null&&Bi(b.stateNode.containerInfo),vo(b),null;case 10:return nT(b.type._context),vo(b),null;case 17:return Po(b.type)&&C0(),vo(b),null;case 19:if(bi(ei),ee=b.memoizedState,ee===null)return vo(b),null;if(L=(b.flags&128)!==0,Ce=ee.rendering,Ce===null)if(L)Vm(ee,!1);else{if(ka!==0||y!==null&&(y.flags&128)!==0)for(y=b.child;y!==null;){if(Ce=qr(y),Ce!==null){for(b.flags|=128,Vm(ee,!1),L=Ce.updateQueue,L!==null&&(b.updateQueue=L,b.flags|=4),b.subtreeFlags=0,L=x,x=b.child;x!==null;)ee=x,y=L,ee.flags&=14680066,Ce=ee.alternate,Ce===null?(ee.childLanes=0,ee.lanes=y,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=Ce.childLanes,ee.lanes=Ce.lanes,ee.child=Ce.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=Ce.memoizedProps,ee.memoizedState=Ce.memoizedState,ee.updateQueue=Ce.updateQueue,ee.type=Ce.type,y=Ce.dependencies,ee.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),x=x.sibling;return fi(ei,ei.current&1|2),b.child}y=y.sibling}ee.tail!==null&&sa()>Yd&&(b.flags|=128,L=!0,Vm(ee,!1),b.lanes=4194304)}else{if(!L)if(y=qr(Ce),y!==null){if(b.flags|=128,L=!0,x=y.updateQueue,x!==null&&(b.updateQueue=x,b.flags|=4),Vm(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!Ce.alternate&&!mi)return vo(b),null}else 2*sa()-ee.renderingStartTime>Yd&&x!==1073741824&&(b.flags|=128,L=!0,Vm(ee,!1),b.lanes=4194304);ee.isBackwards?(Ce.sibling=b.child,b.child=Ce):(x=ee.last,x!==null?x.sibling=Ce:b.child=Ce,ee.last=Ce)}return ee.tail!==null?(b=ee.tail,ee.rendering=b,ee.tail=b.sibling,ee.renderingStartTime=sa(),b.sibling=null,x=ei.current,fi(ei,L?x&1|2:x&1),b):(vo(b),null);case 22:case 23:return DT(),L=b.memoizedState!==null,y!==null&&y.memoizedState!==null!==L&&(b.flags|=8192),L&&(b.mode&1)!==0?(Ts&1073741824)!==0&&(vo(b),b.subtreeFlags&6&&(b.flags|=8192)):vo(b),null;case 24:return null;case 25:return null}throw Error(a(156,b.tag))}function TN(y,b){switch(D0(b),b.tag){case 1:return Po(b.type)&&C0(),y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 3:return mf(),bi(ja),bi(Ia),B0(),y=b.flags,(y&65536)!==0&&(y&128)===0?(b.flags=y&-65537|128,b):null;case 5:return M0(b),null;case 13:if(bi(ei),y=b.memoizedState,y!==null&&y.dehydrated!==null){if(b.alternate===null)throw Error(a(340));Md()}return y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 19:return bi(ei),null;case 4:return mf(),null;case 10:return nT(b.type._context),null;case 22:case 23:return DT(),null;case 24:return null;default:return null}}var ty=!1,eo=!1,bN=typeof WeakSet=="function"?WeakSet:Set,Er=null;function Vd(y,b){var x=y.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(L){qi(y,b,L)}else x.current=null}function ry(y,b,x){try{x()}catch(L){qi(y,b,L)}}var $w=!1;function SN(y,b){if(Gs=mm,y=fw(),BE(y)){if("selectionStart"in y)var x={start:y.selectionStart,end:y.selectionEnd};else e:{x=(x=y.ownerDocument)&&x.defaultView||window;var L=x.getSelection&&x.getSelection();if(L&&L.rangeCount!==0){x=L.anchorNode;var V=L.anchorOffset,ee=L.focusNode;L=L.focusOffset;try{x.nodeType,ee.nodeType}catch{x=null;break e}var Ce=0,Ye=-1,ot=-1,Nt=0,Jt=0,rr=y,qt=null;t:for(;;){for(var pr;rr!==x||V!==0&&rr.nodeType!==3||(Ye=Ce+V),rr!==ee||L!==0&&rr.nodeType!==3||(ot=Ce+L),rr.nodeType===3&&(Ce+=rr.nodeValue.length),(pr=rr.firstChild)!==null;)qt=rr,rr=pr;for(;;){if(rr===y)break t;if(qt===x&&++Nt===V&&(Ye=Ce),qt===ee&&++Jt===L&&(ot=Ce),(pr=rr.nextSibling)!==null)break;rr=qt,qt=rr.parentNode}rr=pr}x=Ye===-1||ot===-1?null:{start:Ye,end:ot}}else x=null}x=x||{start:0,end:0}}else x=null;for(xm={focusedElem:y,selectionRange:x},mm=!1,Er=b;Er!==null;)if(b=Er,y=b.child,(b.subtreeFlags&1028)!==0&&y!==null)y.return=b,Er=y;else for(;Er!==null;){b=Er;try{var vr=b.alternate;if((b.flags&1024)!==0)switch(b.tag){case 0:case 11:case 15:break;case 1:if(vr!==null){var Cr=vr.memoizedProps,Hi=vr.memoizedState,At=b.stateNode,ut=At.getSnapshotBeforeUpdate(b.elementType===b.type?Cr:Dl(b.type,Cr),Hi);At.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var Ot=b.stateNode.containerInfo;Ot.nodeType===1?Ot.textContent="":Ot.nodeType===9&&Ot.documentElement&&Ot.removeChild(Ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(sr){qi(b,b.return,sr)}if(y=b.sibling,y!==null){y.return=b.return,Er=y;break}Er=b.return}return vr=$w,$w=!1,vr}function Wm(y,b,x){var L=b.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var V=L=L.next;do{if((V.tag&y)===y){var ee=V.destroy;V.destroy=void 0,ee!==void 0&&ry(b,x,ee)}V=V.next}while(V!==L)}}function ny(y,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var x=b=b.next;do{if((x.tag&y)===y){var L=x.create;x.destroy=L()}x=x.next}while(x!==b)}}function TT(y){var b=y.ref;if(b!==null){var x=y.stateNode;switch(y.tag){case 5:y=x;break;default:y=x}typeof b=="function"?b(y):b.current=y}}function Gw(y){var b=y.alternate;b!==null&&(y.alternate=null,Gw(b)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(b=y.stateNode,b!==null&&(delete b[Sl],delete b[Im],delete b[ys],delete b[qE],delete b[KE])),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function bT(y){return y.tag===5||y.tag===3||y.tag===4}function zw(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||bT(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function ST(y,b,x){var L=y.tag;if(L===5||L===6)y=y.stateNode,b?x.nodeType===8?x.parentNode.insertBefore(y,b):x.insertBefore(y,b):(x.nodeType===8?(b=x.parentNode,b.insertBefore(y,x)):(b=x,b.appendChild(y)),x=x._reactRootContainer,x!=null||b.onclick!==null||(b.onclick=wm));else if(L!==4&&(y=y.child,y!==null))for(ST(y,b,x),y=y.sibling;y!==null;)ST(y,b,x),y=y.sibling}function CT(y,b,x){var L=y.tag;if(L===5||L===6)y=y.stateNode,b?x.insertBefore(y,b):x.appendChild(y);else if(L!==4&&(y=y.child,y!==null))for(CT(y,b,x),y=y.sibling;y!==null;)CT(y,b,x),y=y.sibling}var to=null,Ol=!1;function th(y,b,x){for(x=x.child;x!==null;)jw(y,b,x),x=x.sibling}function jw(y,b,x){if(Jl&&typeof Jl.onCommitFiberUnmount=="function")try{Jl.onCommitFiberUnmount(i0,x)}catch{}switch(x.tag){case 5:eo||Vd(x,b);case 6:var L=to,V=Ol;to=null,th(y,b,x),to=L,Ol=V,to!==null&&(Ol?(y=to,x=x.stateNode,y.nodeType===8?y.parentNode.removeChild(x):y.removeChild(x)):to.removeChild(x.stateNode));break;case 18:to!==null&&(Ol?(y=to,x=x.stateNode,y.nodeType===8?T0(y.parentNode,x):y.nodeType===1&&T0(y,x),_d(y)):T0(to,x.stateNode));break;case 4:L=to,V=Ol,to=x.stateNode.containerInfo,Ol=!0,th(y,b,x),to=L,Ol=V;break;case 0:case 11:case 14:case 15:if(!eo&&(L=x.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){V=L=L.next;do{var ee=V,Ce=ee.destroy;ee=ee.tag,Ce!==void 0&&((ee&2)!==0||(ee&4)!==0)&&ry(x,b,Ce),V=V.next}while(V!==L)}th(y,b,x);break;case 1:if(!eo&&(Vd(x,b),L=x.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=x.memoizedProps,L.state=x.memoizedState,L.componentWillUnmount()}catch(Ye){qi(x,b,Ye)}th(y,b,x);break;case 21:th(y,b,x);break;case 22:x.mode&1?(eo=(L=eo)||x.memoizedState!==null,th(y,b,x),eo=L):th(y,b,x);break;default:th(y,b,x)}}function Vw(y){var b=y.updateQueue;if(b!==null){y.updateQueue=null;var x=y.stateNode;x===null&&(x=y.stateNode=new bN),b.forEach(function(L){var V=ON.bind(null,y,L);x.has(L)||(x.add(L),L.then(V,V))})}}function Xs(y,b){var x=b.deletions;if(x!==null)for(var L=0;L<x.length;L++){var V=x[L];try{var ee=y,Ce=b,Ye=Ce;e:for(;Ye!==null;){switch(Ye.tag){case 5:to=Ye.stateNode,Ol=!1;break e;case 3:to=Ye.stateNode.containerInfo,Ol=!0;break e;case 4:to=Ye.stateNode.containerInfo,Ol=!0;break e}Ye=Ye.return}if(to===null)throw Error(a(160));jw(ee,Ce,V),to=null,Ol=!1;var ot=V.alternate;ot!==null&&(ot.return=null),V.return=null}catch(Nt){qi(V,b,Nt)}}if(b.subtreeFlags&12854)for(b=b.child;b!==null;)Ww(b,y),b=b.sibling}function Ww(y,b){var x=y.alternate,L=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:if(Xs(b,y),uu(y),L&4){try{Wm(3,y,y.return),ny(3,y)}catch(Cr){qi(y,y.return,Cr)}try{Wm(5,y,y.return)}catch(Cr){qi(y,y.return,Cr)}}break;case 1:Xs(b,y),uu(y),L&512&&x!==null&&Vd(x,x.return);break;case 5:if(Xs(b,y),uu(y),L&512&&x!==null&&Vd(x,x.return),y.flags&32){var V=y.stateNode;try{Ga(V,"")}catch(Cr){qi(y,y.return,Cr)}}if(L&4&&(V=y.stateNode,V!=null)){var ee=y.memoizedProps,Ce=x!==null?x.memoizedProps:ee,Ye=y.type,ot=y.updateQueue;if(y.updateQueue=null,ot!==null)try{Ye==="input"&&ee.type==="radio"&&ee.name!=null&&Wt(V,ee),pt(Ye,Ce);var Nt=pt(Ye,ee);for(Ce=0;Ce<ot.length;Ce+=2){var Jt=ot[Ce],rr=ot[Ce+1];Jt==="style"?Ei(V,rr):Jt==="dangerouslySetInnerHTML"?mn(V,rr):Jt==="children"?Ga(V,rr):oe(V,Jt,rr,Nt)}switch(Ye){case"input":Dr(V,ee);break;case"textarea":Mn(V,ee);break;case"select":var qt=V._wrapperState.wasMultiple;V._wrapperState.wasMultiple=!!ee.multiple;var pr=ee.value;pr!=null?Nn(V,!!ee.multiple,pr,!1):qt!==!!ee.multiple&&(ee.defaultValue!=null?Nn(V,!!ee.multiple,ee.defaultValue,!0):Nn(V,!!ee.multiple,ee.multiple?[]:"",!1))}V[Im]=ee}catch(Cr){qi(y,y.return,Cr)}}break;case 6:if(Xs(b,y),uu(y),L&4){if(y.stateNode===null)throw Error(a(162));V=y.stateNode,ee=y.memoizedProps;try{V.nodeValue=ee}catch(Cr){qi(y,y.return,Cr)}}break;case 3:if(Xs(b,y),uu(y),L&4&&x!==null&&x.memoizedState.isDehydrated)try{_d(b.containerInfo)}catch(Cr){qi(y,y.return,Cr)}break;case 4:Xs(b,y),uu(y);break;case 13:Xs(b,y),uu(y),V=y.child,V.flags&8192&&(ee=V.memoizedState!==null,V.stateNode.isHidden=ee,!ee||V.alternate!==null&&V.alternate.memoizedState!==null||(oy=sa())),L&4&&Vw(y);break;case 22:if(Jt=x!==null&&x.memoizedState!==null,y.mode&1?(eo=(Nt=eo)||Jt,Xs(b,y),eo=Nt):Xs(b,y),uu(y),L&8192){if(Nt=y.memoizedState!==null,(y.stateNode.isHidden=Nt)&&!Jt&&(y.mode&1)!==0)for(Er=y,Jt=y.child;Jt!==null;){for(rr=Er=Jt;Er!==null;){switch(qt=Er,pr=qt.child,qt.tag){case 0:case 11:case 14:case 15:Wm(4,qt,qt.return);break;case 1:Vd(qt,qt.return);var vr=qt.stateNode;if(typeof vr.componentWillUnmount=="function"){L=qt,x=qt.return;try{b=L,vr.props=b.memoizedProps,vr.state=b.memoizedState,vr.componentWillUnmount()}catch(Cr){qi(L,x,Cr)}}break;case 5:Vd(qt,qt.return);break;case 22:if(qt.memoizedState!==null){Xw(rr);continue}}pr!==null?(pr.return=qt,Er=pr):Xw(rr)}Jt=Jt.sibling}e:for(Jt=null,rr=y;;){if(rr.tag===5){if(Jt===null){Jt=rr;try{V=rr.stateNode,Nt?(ee=V.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none"):(Ye=rr.stateNode,ot=rr.memoizedProps.style,Ce=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,Ye.style.display=Vr("display",Ce))}catch(Cr){qi(y,y.return,Cr)}}}else if(rr.tag===6){if(Jt===null)try{rr.stateNode.nodeValue=Nt?"":rr.memoizedProps}catch(Cr){qi(y,y.return,Cr)}}else if((rr.tag!==22&&rr.tag!==23||rr.memoizedState===null||rr===y)&&rr.child!==null){rr.child.return=rr,rr=rr.child;continue}if(rr===y)break e;for(;rr.sibling===null;){if(rr.return===null||rr.return===y)break e;Jt===rr&&(Jt=null),rr=rr.return}Jt===rr&&(Jt=null),rr.sibling.return=rr.return,rr=rr.sibling}}break;case 19:Xs(b,y),uu(y),L&4&&Vw(y);break;case 21:break;default:Xs(b,y),uu(y)}}function uu(y){var b=y.flags;if(b&2){try{e:{for(var x=y.return;x!==null;){if(bT(x)){var L=x;break e}x=x.return}throw Error(a(160))}switch(L.tag){case 5:var V=L.stateNode;L.flags&32&&(Ga(V,""),L.flags&=-33);var ee=zw(y);CT(y,ee,V);break;case 3:case 4:var Ce=L.stateNode.containerInfo,Ye=zw(y);ST(y,Ye,Ce);break;default:throw Error(a(161))}}catch(ot){qi(y,y.return,ot)}y.flags&=-3}b&4096&&(y.flags&=-4097)}function CN(y,b,x){Er=y,AT(y)}function AT(y,b,x){for(var L=(y.mode&1)!==0;Er!==null;){var V=Er,ee=V.child;if(V.tag===22&&L){var Ce=V.memoizedState!==null||ty;if(!Ce){var Ye=V.alternate,ot=Ye!==null&&Ye.memoizedState!==null||eo;Ye=ty;var Nt=eo;if(ty=Ce,(eo=ot)&&!Nt)for(Er=V;Er!==null;)Ce=Er,ot=Ce.child,Ce.tag===22&&Ce.memoizedState!==null?qw(V):ot!==null?(ot.return=Ce,Er=ot):qw(V);for(;ee!==null;)Er=ee,AT(ee),ee=ee.sibling;Er=V,ty=Ye,eo=Nt}Yw(y)}else(V.subtreeFlags&8772)!==0&&ee!==null?(ee.return=V,Er=ee):Yw(y)}}function Yw(y){for(;Er!==null;){var b=Er;if((b.flags&8772)!==0){var x=b.alternate;try{if((b.flags&8772)!==0)switch(b.tag){case 0:case 11:case 15:eo||ny(5,b);break;case 1:var L=b.stateNode;if(b.flags&4&&!eo)if(x===null)L.componentDidMount();else{var V=b.elementType===b.type?x.memoizedProps:Dl(b.type,x.memoizedProps);L.componentDidUpdate(V,x.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var ee=b.updateQueue;ee!==null&&oT(b,ee,L);break;case 3:var Ce=b.updateQueue;if(Ce!==null){if(x=null,b.child!==null)switch(b.child.tag){case 5:x=b.child.stateNode;break;case 1:x=b.child.stateNode}oT(b,Ce,x)}break;case 5:var Ye=b.stateNode;if(x===null&&b.flags&4){x=Ye;var ot=b.memoizedProps;switch(b.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&x.focus();break;case"img":ot.src&&(x.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(b.memoizedState===null){var Nt=b.alternate;if(Nt!==null){var Jt=Nt.memoizedState;if(Jt!==null){var rr=Jt.dehydrated;rr!==null&&_d(rr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}eo||b.flags&512&&TT(b)}catch(qt){qi(b,b.return,qt)}}if(b===y){Er=null;break}if(x=b.sibling,x!==null){x.return=b.return,Er=x;break}Er=b.return}}function Xw(y){for(;Er!==null;){var b=Er;if(b===y){Er=null;break}var x=b.sibling;if(x!==null){x.return=b.return,Er=x;break}Er=b.return}}function qw(y){for(;Er!==null;){var b=Er;try{switch(b.tag){case 0:case 11:case 15:var x=b.return;try{ny(4,b)}catch(ot){qi(b,x,ot)}break;case 1:var L=b.stateNode;if(typeof L.componentDidMount=="function"){var V=b.return;try{L.componentDidMount()}catch(ot){qi(b,V,ot)}}var ee=b.return;try{TT(b)}catch(ot){qi(b,ee,ot)}break;case 5:var Ce=b.return;try{TT(b)}catch(ot){qi(b,Ce,ot)}}}catch(ot){qi(b,b.return,ot)}if(b===y){Er=null;break}var Ye=b.sibling;if(Ye!==null){Ye.return=b.return,Er=Ye;break}Er=b.return}}var AN=Math.ceil,iy=ue.ReactCurrentDispatcher,wT=ue.ReactCurrentOwner,Es=ue.ReactCurrentBatchConfig,Bn=0,Wa=null,va=null,ro=0,Ts=0,Wd=zu(0),ka=0,Ym=null,rh=0,Xm=0,ay=0,cu=null,Mo=null,oy=0,Yd=1/0,Ju=null,sy=!1,qm=null,nh=null,ly=!1,kl=null,Pl=0,Xd=0,uy=null,Km=-1,qd=0;function Lo(){return(Bn&6)!==0?sa():Km!==-1?Km:Km=sa()}function ec(y){return(y.mode&1)===0?1:(Bn&2)!==0&&ro!==0?ro&-ro:mN.transition!==null?(qd===0&&(qd=GA()),qd):(y=ii,y!==0||(y=window.event,y=y===void 0?16:qA(y.type)),y)}function Qo(y,b,x,L){if(50<Xd)throw Xd=0,uy=null,Error(a(185));cm(y,x,L),((Bn&2)===0||y!==Wa)&&(y===Wa&&((Bn&2)===0&&(Xm|=x),ka===4&&ih(y,ro)),Bo(y,L),x===1&&Bn===0&&(b.mode&1)===0&&(Yd=sa()+500,x0&&Vc()))}function Bo(y,b){var x=y.callbackNode;YR(y,b);var L=s0(y,y===Wa?ro:0);if(L===0)x!==null&&vd(x),y.callbackNode=null,y.callbackPriority=0;else if(b=L&-L,y.callbackPriority!==b){if(x!=null&&vd(x),b===1)y.tag===0?Pd(IT.bind(null,y)):JE(IT.bind(null,y)),vw(function(){(Bn&6)===0&&Vc()}),x=null;else{switch(zA(L)){case 1:x=uE;break;case 4:x=HA;break;case 16:x=n0;break;case 536870912:x=$A;break;default:x=n0}x=Jw(x,xT.bind(null,y))}y.callbackPriority=b,y.callbackNode=x}}function xT(y,b){if(Km=-1,qd=0,(Bn&6)!==0)throw Error(a(327));var x=y.callbackNode;if(Sf()&&y.callbackNode!==x)return null;var L=s0(y,y===Wa?ro:0);if(L===0)return null;if((L&30)!==0||(L&y.expiredLanes)!==0||b)b=Kd(y,L);else{b=L;var V=Bn;Bn|=2;var ee=Qm();(Wa!==y||ro!==b)&&(Ju=null,Yd=sa()+500,ah(y,b));do try{Zw();break}catch(Ye){Kw(y,Ye)}while(!0);Pm(),iy.current=ee,Bn=V,va!==null?b=0:(Wa=null,ro=0,b=ka)}if(b!==0){if(b===2&&(V=cE(y),V!==0&&(L=V,b=cy(y,V))),b===1)throw x=Ym,ah(y,0),ih(y,L),Bo(y,sa()),x;if(b===6)ih(y,L);else{if(V=y.current.alternate,(L&30)===0&&!wN(V)&&(b=Kd(y,L),b===2&&(ee=cE(y),ee!==0&&(L=ee,b=cy(y,ee))),b===1))throw x=Ym,ah(y,0),ih(y,L),Bo(y,sa()),x;switch(y.finishedWork=V,y.finishedLanes=L,b){case 0:case 1:throw Error(a(345));case 2:tc(y,Mo,Ju);break;case 3:if(ih(y,L),(L&130023424)===L&&(b=oy+500-sa(),10<b)){if(s0(y,0)!==0)break;if(V=y.suspendedLanes,(V&L)!==L){Lo(),y.pingedLanes|=y.suspendedLanes&V;break}y.timeoutHandle=_0(tc.bind(null,y,Mo,Ju),b);break}tc(y,Mo,Ju);break;case 4:if(ih(y,L),(L&4194240)===L)break;for(b=y.eventTimes,V=-1;0<L;){var Ce=31-El(L);ee=1<<Ce,Ce=b[Ce],Ce>V&&(V=Ce),L&=~ee}if(L=V,L=sa()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*AN(L/1960))-L,10<L){y.timeoutHandle=_0(tc.bind(null,y,Mo,Ju),L);break}tc(y,Mo,Ju);break;case 5:tc(y,Mo,Ju);break;default:throw Error(a(329))}}}return Bo(y,sa()),y.callbackNode===x?xT.bind(null,y):null}function cy(y,b){var x=cu;return y.current.memoizedState.isDehydrated&&(ah(y,b).flags|=256),y=Kd(y,b),y!==2&&(b=Mo,Mo=x,b!==null&&Zm(b)),y}function Zm(y){Mo===null?Mo=y:Mo.push.apply(Mo,y)}function wN(y){for(var b=y;;){if(b.flags&16384){var x=b.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var L=0;L<x.length;L++){var V=x[L],ee=V.getSnapshot;V=V.value;try{if(!Tl(ee(),V))return!1}catch{return!1}}}if(x=b.child,b.subtreeFlags&16384&&x!==null)x.return=b,b=x;else{if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function ih(y,b){for(b&=~ay,b&=~Xm,y.suspendedLanes|=b,y.pingedLanes&=~b,y=y.expirationTimes;0<b;){var x=31-El(b),L=1<<x;y[x]=-1,b&=~L}}function IT(y){if((Bn&6)!==0)throw Error(a(327));Sf();var b=s0(y,0);if((b&1)===0)return Bo(y,sa()),null;var x=Kd(y,b);if(y.tag!==0&&x===2){var L=cE(y);L!==0&&(b=L,x=cy(y,L))}if(x===1)throw x=Ym,ah(y,0),ih(y,b),Bo(y,sa()),x;if(x===6)throw Error(a(345));return y.finishedWork=y.current.alternate,y.finishedLanes=b,tc(y,Mo,Ju),Bo(y,sa()),null}function bf(y,b){var x=Bn;Bn|=1;try{return y(b)}finally{Bn=x,Bn===0&&(Yd=sa()+500,x0&&Vc())}}function hu(y){kl!==null&&kl.tag===0&&(Bn&6)===0&&Sf();var b=Bn;Bn|=1;var x=Es.transition,L=ii;try{if(Es.transition=null,ii=1,y)return y()}finally{ii=L,Es.transition=x,Bn=b,(Bn&6)===0&&Vc()}}function DT(){Ts=Wd.current,bi(Wd)}function ah(y,b){y.finishedWork=null,y.finishedLanes=0;var x=y.timeoutHandle;if(x!==-1&&(y.timeoutHandle=-1,E0(x)),va!==null)for(x=va.return;x!==null;){var L=x;switch(D0(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&C0();break;case 3:mf(),bi(ja),bi(Ia),B0();break;case 5:M0(L);break;case 4:mf();break;case 13:bi(ei);break;case 19:bi(ei);break;case 10:nT(L.type._context);break;case 22:case 23:DT()}x=x.return}if(Wa=y,va=y=Ui(y.current,null),ro=Ts=b,ka=0,Ym=null,ay=Xm=rh=0,Mo=cu=null,df!==null){for(b=0;b<df.length;b++)if(x=df[b],L=x.interleaved,L!==null){x.interleaved=null;var V=L.next,ee=x.pending;if(ee!==null){var Ce=ee.next;ee.next=V,L.next=Ce}x.pending=L}df=null}return y}function Kw(y,b){do{var x=va;try{if(Pm(),Mm.current=q0,U0){for(var L=Fi.memoizedState;L!==null;){var V=L.queue;V!==null&&(V.pending=null),L=L.next}U0=!1}if(gf=0,Va=Da=Fi=null,Ud=!1,vf=0,wT.current=null,x===null||x.return===null){ka=1,Ym=b,va=null;break}e:{var ee=y,Ce=x.return,Ye=x,ot=b;if(b=ro,Ye.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Nt=ot,Jt=Ye,rr=Jt.tag;if((Jt.mode&1)===0&&(rr===0||rr===11||rr===15)){var qt=Jt.alternate;qt?(Jt.updateQueue=qt.updateQueue,Jt.memoizedState=qt.memoizedState,Jt.lanes=qt.lanes):(Jt.updateQueue=null,Jt.memoizedState=null)}var pr=Ow(Ce);if(pr!==null){pr.flags&=-257,kw(pr,Ce,Ye,ee,b),pr.mode&1&&mT(ee,Nt,b),b=pr,ot=Nt;var vr=b.updateQueue;if(vr===null){var Cr=new Set;Cr.add(ot),b.updateQueue=Cr}else vr.add(ot);break e}else{if((b&1)===0){mT(ee,Nt,b),Pa();break e}ot=Error(a(426))}}else if(mi&&Ye.mode&1){var Hi=Ow(Ce);if(Hi!==null){(Hi.flags&65536)===0&&(Hi.flags|=256),kw(Hi,Ce,Ye,ee,b),tT(Gd(ot,Ye));break e}}ee=ot=Gd(ot,Ye),ka!==4&&(ka=2),cu===null?cu=[ee]:cu.push(ee),ee=Ce;do{switch(ee.tag){case 3:ee.flags|=65536,b&=-b,ee.lanes|=b;var At=su(ee,ot,b);aT(ee,At);break e;case 1:Ye=ot;var ut=ee.type,Ot=ee.stateNode;if((ee.flags&128)===0&&(typeof ut.getDerivedStateFromError=="function"||Ot!==null&&typeof Ot.componentDidCatch=="function"&&(nh===null||!nh.has(Ot)))){ee.flags|=65536,b&=-b,ee.lanes|=b;var sr=lu(ee,Ye,b);aT(ee,sr);break e}}ee=ee.return}while(ee!==null)}dy(x)}catch(Ir){b=Ir,va===x&&x!==null&&(va=x=x.return);continue}break}while(!0)}function Qm(){var y=iy.current;return iy.current=q0,y===null?q0:y}function Pa(){(ka===0||ka===3||ka===2)&&(ka=4),Wa===null||(rh&268435455)===0&&(Xm&268435455)===0||ih(Wa,ro)}function Kd(y,b){var x=Bn;Bn|=2;var L=Qm();(Wa!==y||ro!==b)&&(Ju=null,ah(y,b));do try{hy();break}catch(V){Kw(y,V)}while(!0);if(Pm(),Bn=x,iy.current=L,va!==null)throw Error(a(261));return Wa=null,ro=0,ka}function hy(){for(;va!==null;)fy(va)}function Zw(){for(;va!==null&&!FR();)fy(va)}function fy(y){var b=kT(y.alternate,y,Ts);y.memoizedProps=y.pendingProps,b===null?dy(y):va=b,wT.current=null}function dy(y){var b=y;do{var x=b.alternate;if(y=b.return,(b.flags&32768)===0){if(x=EN(x,b,Ts),x!==null){va=x;return}}else{if(x=TN(x,b),x!==null){x.flags&=32767,va=x;return}if(y!==null)y.flags|=32768,y.subtreeFlags=0,y.deletions=null;else{ka=6,va=null;return}}if(b=b.sibling,b!==null){va=b;return}va=b=y}while(b!==null);ka===0&&(ka=5)}function tc(y,b,x){var L=ii,V=Es.transition;try{Es.transition=null,ii=1,xN(y,b,x,L)}finally{Es.transition=V,ii=L}return null}function xN(y,b,x,L){do Sf();while(kl!==null);if((Bn&6)!==0)throw Error(a(327));x=y.finishedWork;var V=y.finishedLanes;if(x===null)return null;if(y.finishedWork=null,y.finishedLanes=0,x===y.current)throw Error(a(177));y.callbackNode=null,y.callbackPriority=0;var ee=x.lanes|x.childLanes;if(XR(y,ee),y===Wa&&(va=Wa=null,ro=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||ly||(ly=!0,Jw(n0,function(){return Sf(),null})),ee=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||ee){ee=Es.transition,Es.transition=null;var Ce=ii;ii=1;var Ye=Bn;Bn|=4,wT.current=null,SN(y,x),Ww(x,y),dw(xm),mm=!!Gs,xm=Gs=null,y.current=x,CN(x),UR(),Bn=Ye,ii=Ce,Es.transition=ee}else y.current=x;if(ly&&(ly=!1,kl=y,Pl=V),ee=y.pendingLanes,ee===0&&(nh=null),GR(x.stateNode),Bo(y,sa()),b!==null)for(L=y.onRecoverableError,x=0;x<b.length;x++)V=b[x],L(V.value,{componentStack:V.stack,digest:V.digest});if(sy)throw sy=!1,y=qm,qm=null,y;return(Pl&1)!==0&&y.tag!==0&&Sf(),ee=y.pendingLanes,(ee&1)!==0?y===uy?Xd++:(Xd=0,uy=y):Xd=0,Vc(),null}function Sf(){if(kl!==null){var y=zA(Pl),b=Es.transition,x=ii;try{if(Es.transition=null,ii=16>y?16:y,kl===null)var L=!1;else{if(y=kl,kl=null,Pl=0,(Bn&6)!==0)throw Error(a(331));var V=Bn;for(Bn|=4,Er=y.current;Er!==null;){var ee=Er,Ce=ee.child;if((Er.flags&16)!==0){var Ye=ee.deletions;if(Ye!==null){for(var ot=0;ot<Ye.length;ot++){var Nt=Ye[ot];for(Er=Nt;Er!==null;){var Jt=Er;switch(Jt.tag){case 0:case 11:case 15:Wm(8,Jt,ee)}var rr=Jt.child;if(rr!==null)rr.return=Jt,Er=rr;else for(;Er!==null;){Jt=Er;var qt=Jt.sibling,pr=Jt.return;if(Gw(Jt),Jt===Nt){Er=null;break}if(qt!==null){qt.return=pr,Er=qt;break}Er=pr}}}var vr=ee.alternate;if(vr!==null){var Cr=vr.child;if(Cr!==null){vr.child=null;do{var Hi=Cr.sibling;Cr.sibling=null,Cr=Hi}while(Cr!==null)}}Er=ee}}if((ee.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=ee,Er=Ce;else e:for(;Er!==null;){if(ee=Er,(ee.flags&2048)!==0)switch(ee.tag){case 0:case 11:case 15:Wm(9,ee,ee.return)}var At=ee.sibling;if(At!==null){At.return=ee.return,Er=At;break e}Er=ee.return}}var ut=y.current;for(Er=ut;Er!==null;){Ce=Er;var Ot=Ce.child;if((Ce.subtreeFlags&2064)!==0&&Ot!==null)Ot.return=Ce,Er=Ot;else e:for(Ce=ut;Er!==null;){if(Ye=Er,(Ye.flags&2048)!==0)try{switch(Ye.tag){case 0:case 11:case 15:ny(9,Ye)}}catch(Ir){qi(Ye,Ye.return,Ir)}if(Ye===Ce){Er=null;break e}var sr=Ye.sibling;if(sr!==null){sr.return=Ye.return,Er=sr;break e}Er=Ye.return}}if(Bn=V,Vc(),Jl&&typeof Jl.onPostCommitFiberRoot=="function")try{Jl.onPostCommitFiberRoot(i0,y)}catch{}L=!0}return L}finally{ii=x,Es.transition=b}}return!1}function Qw(y,b,x){b=Gd(x,b),b=su(y,b,1),y=qu(y,b,1),b=Lo(),y!==null&&(cm(y,1,b),Bo(y,b))}function qi(y,b,x){if(y.tag===3)Qw(y,y,x);else for(;b!==null;){if(b.tag===3){Qw(b,y,x);break}else if(b.tag===1){var L=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(nh===null||!nh.has(L))){y=Gd(x,y),y=lu(b,y,1),b=qu(b,y,1),y=Lo(),b!==null&&(cm(b,1,y),Bo(b,y));break}}b=b.return}}function IN(y,b,x){var L=y.pingCache;L!==null&&L.delete(b),b=Lo(),y.pingedLanes|=y.suspendedLanes&x,Wa===y&&(ro&x)===x&&(ka===4||ka===3&&(ro&130023424)===ro&&500>sa()-oy?ah(y,0):ay|=x),Bo(y,b)}function OT(y,b){b===0&&((y.mode&1)===0?b=1:(b=o0,o0<<=1,(o0&130023424)===0&&(o0=4194304)));var x=Lo();y=Vs(y,b),y!==null&&(cm(y,b,x),Bo(y,x))}function DN(y){var b=y.memoizedState,x=0;b!==null&&(x=b.retryLane),OT(y,x)}function ON(y,b){var x=0;switch(y.tag){case 13:var L=y.stateNode,V=y.memoizedState;V!==null&&(x=V.retryLane);break;case 19:L=y.stateNode;break;default:throw Error(a(314))}L!==null&&L.delete(b),OT(y,x)}var kT;kT=function(y,b,x){if(y!==null)if(y.memoizedProps!==b.pendingProps||ja.current)Zo=!0;else{if((y.lanes&x)===0&&(b.flags&128)===0)return Zo=!1,Bw(y,b,x);Zo=(y.flags&131072)!==0}else Zo=!1,mi&&(b.flags&1048576)!==0&&Wc(b,Ro,b.index);switch(b.lanes=0,b.tag){case 2:var L=b.type;J0(y,b),y=b.pendingProps;var V=hf(b,Ia.current);Al(b,x),V=Lm(null,b,L,y,V,x);var ee=$0();return b.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,Po(L)?(ee=!0,A0(b)):ee=!1,b.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,N0(b),V.updater=Ef,b.stateNode=V,V._reactInternals=b,eh(b,L,y,x),b=kn(null,b,L,!0,ee,x)):(b.tag=0,mi&&ee&&Dm(b),Ja(null,b,V,x),b=b.child),b;case 16:L=b.elementType;e:{switch(J0(y,b),y=b.pendingProps,V=L._init,L=V(L._payload),b.type=L,V=b.tag=py(L),y=Dl(L,y),V){case 0:b=vT(null,b,L,y,x);break e;case 1:b=Rw(null,b,L,y,x);break e;case 11:b=K0(null,b,L,y,x);break e;case 14:b=zd(null,b,L,Dl(L.type,y),x);break e}throw Error(a(306,L,""))}return b;case 0:return L=b.type,V=b.pendingProps,V=b.elementType===L?V:Dl(L,V),vT(y,b,L,V,x);case 1:return L=b.type,V=b.pendingProps,V=b.elementType===L?V:Dl(L,V),Rw(y,b,L,V,x);case 3:e:{if(Nw(b),y===null)throw Error(a(387));L=b.pendingProps,ee=b.memoizedState,V=ee.element,Sw(y,b),Nm(b,L,null,x);var Ce=b.memoizedState;if(L=Ce.element,ee.isDehydrated)if(ee={element:L,isDehydrated:!1,cache:Ce.cache,pendingSuspenseBoundaries:Ce.pendingSuspenseBoundaries,transitions:Ce.transitions},b.updateQueue.baseState=ee,b.memoizedState=ee,b.flags&256){V=Gd(Error(a(423)),b),b=jd(y,b,L,x,V);break e}else if(L!==V){V=Gd(Error(a(424)),b),b=jd(y,b,L,x,V);break e}else for(Ko=vs(b.stateNode.containerInfo.firstChild),No=b,mi=!0,Cl=null,x=bw(b,null,L,x),b.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Md(),L===V){b=Qu(y,b,x);break e}Ja(y,b,L,x)}b=b.child}return b;case 5:return Cw(b),y===null&&k0(b),L=b.type,V=b.pendingProps,ee=y!==null?y.memoizedProps:null,Ce=V.children,y0(L,V)?Ce=null:ee!==null&&y0(L,ee)&&(b.flags|=32),Oa(y,b),Ja(y,b,Ce,x),b.child;case 6:return y===null&&k0(b),null;case 13:return Mw(y,b,x);case 4:return Zc(b,b.stateNode.containerInfo),L=b.pendingProps,y===null?b.child=Yc(b,null,L,x):Ja(y,b,L,x),b.child;case 11:return L=b.type,V=b.pendingProps,V=b.elementType===L?V:Dl(L,V),K0(y,b,L,V,x);case 7:return Ja(y,b,b.pendingProps,x),b.child;case 8:return Ja(y,b,b.pendingProps.children,x),b.child;case 12:return Ja(y,b,b.pendingProps.children,x),b.child;case 10:e:{if(L=b.type._context,V=b.pendingProps,ee=b.memoizedProps,Ce=V.value,fi(P0,L._currentValue),L._currentValue=Ce,ee!==null)if(Tl(ee.value,Ce)){if(ee.children===V.children&&!ja.current){b=Qu(y,b,x);break e}}else for(ee=b.child,ee!==null&&(ee.return=b);ee!==null;){var Ye=ee.dependencies;if(Ye!==null){Ce=ee.child;for(var ot=Ye.firstContext;ot!==null;){if(ot.context===L){if(ee.tag===1){ot=au(-1,x&-x),ot.tag=2;var Nt=ee.updateQueue;if(Nt!==null){Nt=Nt.shared;var Jt=Nt.pending;Jt===null?ot.next=ot:(ot.next=Jt.next,Jt.next=ot),Nt.pending=ot}}ee.lanes|=x,ot=ee.alternate,ot!==null&&(ot.lanes|=x),Bd(ee.return,x,b),Ye.lanes|=x;break}ot=ot.next}}else if(ee.tag===10)Ce=ee.type===b.type?null:ee.child;else if(ee.tag===18){if(Ce=ee.return,Ce===null)throw Error(a(341));Ce.lanes|=x,Ye=Ce.alternate,Ye!==null&&(Ye.lanes|=x),Bd(Ce,x,b),Ce=ee.sibling}else Ce=ee.child;if(Ce!==null)Ce.return=ee;else for(Ce=ee;Ce!==null;){if(Ce===b){Ce=null;break}if(ee=Ce.sibling,ee!==null){ee.return=Ce.return,Ce=ee;break}Ce=Ce.return}ee=Ce}Ja(y,b,V.children,x),b=b.child}return b;case 9:return V=b.type,L=b.pendingProps.children,Al(b,x),V=js(V),L=L(V),b.flags|=1,Ja(y,b,L,x),b.child;case 14:return L=b.type,V=Dl(L,b.pendingProps),V=Dl(L.type,V),zd(y,b,L,V,x);case 15:return Pw(y,b,b.type,b.pendingProps,x);case 17:return L=b.type,V=b.pendingProps,V=b.elementType===L?V:Dl(L,V),J0(y,b),b.tag=1,Po(L)?(y=!0,A0(b)):y=!1,Al(b,x),Iw(b,L,V),eh(b,L,V,x),kn(null,b,L,!0,y,x);case 19:return Lw(y,b,x);case 22:return gT(y,b,x)}throw Error(a(156,b.tag))};function Jw(y,b){return lm(y,b)}function kN(y,b,x,L){this.tag=y,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(y,b,x,L){return new kN(y,b,x,L)}function PT(y){return y=y.prototype,!(!y||!y.isReactComponent)}function py(y){if(typeof y=="function")return PT(y)?1:0;if(y!=null){if(y=y.$$typeof,y===Te)return 11;if(y===z)return 14}return 2}function Ui(y,b){var x=y.alternate;return x===null?(x=Ra(y.tag,b,y.key,y.mode),x.elementType=y.elementType,x.type=y.type,x.stateNode=y.stateNode,x.alternate=y,y.alternate=x):(x.pendingProps=b,x.type=y.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=y.flags&14680064,x.childLanes=y.childLanes,x.lanes=y.lanes,x.child=y.child,x.memoizedProps=y.memoizedProps,x.memoizedState=y.memoizedState,x.updateQueue=y.updateQueue,b=y.dependencies,x.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},x.sibling=y.sibling,x.index=y.index,x.ref=y.ref,x}function Na(y,b,x,L,V,ee){var Ce=2;if(L=y,typeof y=="function")PT(y)&&(Ce=1);else if(typeof y=="string")Ce=5;else e:switch(y){case fe:return Ki(x.children,V,ee,b);case Fe:Ce=8,V|=8;break;case M:return y=Ra(12,x,b,V|2),y.elementType=M,y.lanes=ee,y;case at:return y=Ra(13,x,b,V),y.elementType=at,y.lanes=ee,y;case _t:return y=Ra(19,x,b,V),y.elementType=_t,y.lanes=ee,y;case Re:return Ma(x,V,ee,b);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case ke:Ce=10;break e;case qe:Ce=9;break e;case Te:Ce=11;break e;case z:Ce=14;break e;case be:Ce=16,L=null;break e}throw Error(a(130,y==null?y:typeof y,""))}return b=Ra(Ce,x,b,V),b.elementType=y,b.type=L,b.lanes=ee,b}function Ki(y,b,x,L){return y=Ra(7,y,L,b),y.lanes=x,y}function Ma(y,b,x,L){return y=Ra(22,y,L,b),y.elementType=Re,y.lanes=x,y.stateNode={isHidden:!1},y}function RT(y,b,x){return y=Ra(6,y,null,b),y.lanes=x,y}function NT(y,b,x){return b=Ra(4,y.children!==null?y.children:[],y.key,b),b.lanes=x,b.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},b}function PN(y,b,x,L,V){this.tag=b,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hE(0),this.expirationTimes=hE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hE(0),this.identifierPrefix=L,this.onRecoverableError=V,this.mutableSourceEagerHydrationData=null}function MT(y,b,x,L,V,ee,Ce,Ye,ot){return y=new PN(y,b,x,Ye,ot),b===1?(b=1,ee===!0&&(b|=8)):b=0,ee=Ra(3,null,null,b),y.current=ee,ee.stateNode=y,ee.memoizedState={element:L,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(ee),y}function LT(y,b,x){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:L==null?null:""+L,children:y,containerInfo:b,implementation:x}}function ex(y){if(!y)return nu;y=y._reactInternals;e:{if(yl(y)!==y||y.tag!==1)throw Error(a(170));var b=y;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(Po(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(a(171))}if(y.tag===1){var x=y.type;if(Po(x))return jc(y,x,b)}return b}function tx(y,b,x,L,V,ee,Ce,Ye,ot){return y=MT(x,L,!0,y,V,ee,Ce,Ye,ot),y.context=ex(null),x=y.current,L=Lo(),V=ec(x),ee=au(L,V),ee.callback=b??null,qu(x,ee,V),y.current.lanes=V,cm(y,V,L),Bo(y,L),y}function my(y,b,x,L){var V=b.current,ee=Lo(),Ce=ec(V);return x=ex(x),b.context===null?b.context=x:b.pendingContext=x,b=au(ee,Ce),b.payload={element:y},L=L===void 0?null:L,L!==null&&(b.callback=L),y=qu(V,b,Ce),y!==null&&(Qo(y,V,Ce,ee),Rm(y,V,Ce)),Ce}function gy(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 5:return y.child.stateNode;default:return y.child.stateNode}}function rx(y,b){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var x=y.retryLane;y.retryLane=x!==0&&x<b?x:b}}function nx(y,b){rx(y,b),(y=y.alternate)&&rx(y,b)}function I9(){return null}var Jm=typeof reportError=="function"?reportError:function(y){console.error(y)};function eg(y){this._internalRoot=y}vy.prototype.render=eg.prototype.render=function(y){var b=this._internalRoot;if(b===null)throw Error(a(409));my(y,b,null,null)},vy.prototype.unmount=eg.prototype.unmount=function(){var y=this._internalRoot;if(y!==null){this._internalRoot=null;var b=y.containerInfo;hu(function(){my(null,y,null,null)}),b[ru]=null}};function vy(y){this._internalRoot=y}vy.prototype.unstable_scheduleHydration=function(y){if(y){var b=VA();y={blockedOn:null,target:y,priority:b};for(var x=0;x<Bu.length&&b!==0&&b<Bu[x].priority;x++);Bu.splice(x,0,y),x===0&&YA(y)}};function hn(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)}function tg(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11&&(y.nodeType!==8||y.nodeValue!==" react-mount-point-unstable "))}function rg(){}function Zd(y,b,x,L,V){if(V){if(typeof L=="function"){var ee=L;L=function(){var Nt=gy(Ce);ee.call(Nt)}}var Ce=tx(b,L,y,0,null,!1,!1,"",rg);return y._reactRootContainer=Ce,y[ru]=Ce.current,Bi(y.nodeType===8?y.parentNode:y),hu(),Ce}for(;V=y.lastChild;)y.removeChild(V);if(typeof L=="function"){var Ye=L;L=function(){var Nt=gy(ot);Ye.call(Nt)}}var ot=MT(y,0,!1,null,null,!1,!1,"",rg);return y._reactRootContainer=ot,y[ru]=ot.current,Bi(y.nodeType===8?y.parentNode:y),hu(function(){my(b,ot,x,L)}),ot}function Qd(y,b,x,L,V){var ee=x._reactRootContainer;if(ee){var Ce=ee;if(typeof V=="function"){var Ye=V;V=function(){var ot=gy(Ce);Ye.call(ot)}}my(b,Ce,y,V)}else Ce=Zd(x,b,y,V,L);return gy(Ce)}dE=function(y){switch(y.tag){case 3:var b=y.stateNode;if(b.current.memoizedState.isDehydrated){var x=um(b.pendingLanes);x!==0&&(fE(b,x|1),Bo(b,sa()),(Bn&6)===0&&(Yd=sa()+500,Vc()))}break;case 13:hu(function(){var L=Vs(y,1);if(L!==null){var V=Lo();Qo(L,y,1,V)}}),nx(y,1)}},pE=function(y){if(y.tag===13){var b=Vs(y,134217728);if(b!==null){var x=Lo();Qo(b,y,134217728,x)}nx(y,134217728)}},jA=function(y){if(y.tag===13){var b=ec(y),x=Vs(y,b);if(x!==null){var L=Lo();Qo(x,y,b,L)}nx(y,b)}},VA=function(){return ii},WA=function(y,b){var x=ii;try{return ii=y,b()}finally{ii=x}},Xn=function(y,b,x){switch(b){case"input":if(Dr(y,x),b=x.name,x.type==="radio"&&b!=null){for(x=y;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<x.length;b++){var L=x[b];if(L!==y&&L.form===y.form){var V=b0(L);if(!V)throw Error(a(90));Vt(L),Dr(L,V)}}}break;case"textarea":Mn(y,x);break;case"select":b=x.value,b!=null&&Nn(y,!!x.multiple,b,!1)}},dd=bf,Lu=hu;var Qn={usingClientEntryPoint:!1,Events:[uf,cf,b0,fo,gl,bf]},ng={findFiberByHostInstance:Gu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RN={bundleType:ng.bundleType,version:ng.version,rendererPackageName:ng.rendererPackageName,rendererConfig:ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(y){return y=_l(y),y===null?null:y.stateNode},findFiberByHostInstance:ng.findFiberByHostInstance||I9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yy.isDisabled&&yy.supportsFiber)try{i0=yy.inject(RN),Jl=yy}catch{}}return sl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qn,sl.createPortal=function(y,b){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hn(b))throw Error(a(200));return LT(y,b,null,x)},sl.createRoot=function(y,b){if(!hn(y))throw Error(a(299));var x=!1,L="",V=Jm;return b!=null&&(b.unstable_strictMode===!0&&(x=!0),b.identifierPrefix!==void 0&&(L=b.identifierPrefix),b.onRecoverableError!==void 0&&(V=b.onRecoverableError)),b=MT(y,1,!1,null,null,x,!1,L,V),y[ru]=b.current,Bi(y.nodeType===8?y.parentNode:y),new eg(b)},sl.findDOMNode=function(y){if(y==null)return null;if(y.nodeType===1)return y;var b=y._reactInternals;if(b===void 0)throw typeof y.render=="function"?Error(a(188)):(y=Object.keys(y).join(","),Error(a(268,y)));return y=_l(b),y=y===null?null:y.stateNode,y},sl.flushSync=function(y){return hu(y)},sl.hydrate=function(y,b,x){if(!tg(b))throw Error(a(200));return Qd(null,y,b,!0,x)},sl.hydrateRoot=function(y,b,x){if(!hn(y))throw Error(a(405));var L=x!=null&&x.hydratedSources||null,V=!1,ee="",Ce=Jm;if(x!=null&&(x.unstable_strictMode===!0&&(V=!0),x.identifierPrefix!==void 0&&(ee=x.identifierPrefix),x.onRecoverableError!==void 0&&(Ce=x.onRecoverableError)),b=tx(b,null,y,1,x??null,V,!1,ee,Ce),y[ru]=b.current,Bi(y),L)for(y=0;y<L.length;y++)x=L[y],V=x._getVersion,V=V(x._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[x,V]:b.mutableSourceEagerHydrationData.push(x,V);return new vy(b)},sl.render=function(y,b,x){if(!tg(b))throw Error(a(200));return Qd(null,y,b,!1,x)},sl.unmountComponentAtNode=function(y){if(!tg(y))throw Error(a(40));return y._reactRootContainer?(hu(function(){Qd(null,null,y,!1,function(){y._reactRootContainer=null,y[ru]=null})}),!0):!1},sl.unstable_batchedUpdates=bf,sl.unstable_renderSubtreeIntoContainer=function(y,b,x,L){if(!tg(x))throw Error(a(200));if(y==null||y._reactInternals===void 0)throw Error(a(38));return Qd(y,b,x,!1,L)},sl.version="18.3.1-next-f1338f8080-20240426",sl}var Bie;function wue(){if(Bie)return r4.exports;Bie=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(o){console.error(o)}}return l(),r4.exports=oWe(),r4.exports}var Mu=wue();const JC=nm(Mu),t$=uWe();function oa(l,...o){if(!t$)return;const a=lWe(l,...o);performance.mark(a);try{console.log(l,...o)}catch{console.log(a)}}function sWe(l,...o){t$&&console.warn(l,...o)}function lWe(l,...o){return l.replace(/%[sfdO]/g,a=>{const u=o.shift();return a==="%O"&&u?JSON.stringify(u).replace(/"([^"]+)":/g,"$1:"):String(u)})}function uWe(){try{const l="nuqs-localStorage-test";if(typeof localStorage>"u")return!1;localStorage.setItem(l,l);const o=localStorage.getItem(l)===l;return localStorage.removeItem(l),o&&(localStorage.getItem("debug")||"").includes("nuqs")}catch{return!1}}const cWe={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",422:"Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function OA(l){return`[nuqs] ${cWe[l]}
  See https://err.47ng.com/NUQS-${l}`}function hWe(l){if(l.size===0)return"";const o=[];for(const[u,f]of l.entries()){const g=u.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");o.push(`${g}=${fWe(f)}`)}return"?"+o.join("&")}function fWe(l){return l.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,o=>encodeURIComponent(o))}const Gv=we.createContext({useAdapter(){throw new Error(OA(404))}});Gv.displayName="NuqsAdapterContext";t$&&typeof window<"u"&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==Gv&&console.error(OA(303)),window.__NuqsAdapterContext=Gv);function dWe(l){return({children:o,defaultOptions:a,processUrlSearchParams:u,...f})=>we.createElement(Gv.Provider,{...f,value:{useAdapter:l,defaultOptions:a,processUrlSearchParams:u}},o)}function pWe(l){const o=we.useContext(Gv);if(!("useAdapter"in o))throw new Error(OA(404));return o.useAdapter(l)}const mWe=()=>we.useContext(Gv).defaultOptions,gWe=()=>we.useContext(Gv).processUrlSearchParams;function vWe(){if(typeof window>"u"||!!!window.GestureEvent)return 50;try{const o=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(o[1])>=17?120:320}catch{return 320}}function yWe(l){return{method:"throttle",timeMs:l}}const oA=yWe(vWe());function r$(){const l=new Map;return{all:l,on(o,a){const u=l.get(o)||[];return u.push(a),l.set(o,u),()=>this.off(o,a)},off(o,a){const u=l.get(o);u&&l.set(o,u.filter(f=>f!==a))},emit(o,a){l.get(o)?.forEach(f=>f(a))}}}function PU(l,o,a){function u(){l(),a.removeEventListener("abort",g)}const f=setTimeout(u,o);function g(){clearTimeout(f),a.removeEventListener("abort",g)}a.addEventListener("abort",g)}function RU(){const l=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let o=()=>{},a=()=>{};return{promise:new l((f,g)=>{o=f,a=g}),resolve:o,reject:a}}function _We(l,o){let a=o;for(let u=l.length-1;u>=0;u--){const f=l[u];if(!f)continue;const g=a;a=()=>f(g)}a()}function xue(){return new URLSearchParams(location.search)}var Iue=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=oA.timeMs;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;push({key:l,query:o,options:a},u=oA.timeMs){oa("[nuqs gtq] Enqueueing %s=%s %O",l,o,a),this.updateMap.set(l,o),a.history==="push"&&(this.options.history="push"),a.scroll&&(this.options.scroll=!0),a.shallow===!1&&(this.options.shallow=!1),a.startTransition&&this.transitions.add(a.startTransition),(!Number.isFinite(this.timeMs)||u>this.timeMs)&&(this.timeMs=u)}getQueuedQuery(l){return this.updateMap.get(l)}flush({getSearchParamsSnapshot:l=xue,rateLimitFactor:o=1,...a},u){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return oa("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(l());if(this.resolvers)return this.resolvers.promise;this.resolvers=RU();const f=()=>{this.lastFlushedAt=performance.now();const[v,S]=this.applyPendingUpdates({...a,autoResetQueueOnUpdate:a.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:l},u);S===null?this.resolvers.resolve(v):this.resolvers.reject(v),this.resolvers=null};return PU(()=>{const S=performance.now()-this.lastFlushedAt,w=this.timeMs,I=o*Math.max(0,w-S);oa("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",I,w,o),I===0?f():PU(f,I,this.controller.signal)},0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){const l=Array.from(this.updateMap.keys());return oa("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=oA.timeMs,l}applyPendingUpdates(l,o){const{updateUrl:a,getSearchParamsSnapshot:u}=l;let f=u();if(oa("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,f.toString()),this.updateMap.size===0)return[f,null];const g=Array.from(this.updateMap.entries()),v={...this.options},S=Array.from(this.transitions);l.autoResetQueueOnUpdate&&this.reset(),oa("[nuqs gtq] Flushing queue %O with options %O",g,v);for(const[w,I]of g)I===null?f.delete(w):f.set(w,I);o&&(f=o(f));try{return _We(S,()=>{a(f,v)}),[f,null]}catch(w){return console.error(OA(429),g.map(([I])=>I).join(),w),[f,w]}}};const NU=new Iue;function EWe(l,o,a){const u=we.useCallback(()=>{const v=Object.fromEntries(l.map(w=>[w,a(w)]));return[JSON.stringify(v),v]},[l.join(","),a]),f=we.useRef(null);f.current===null&&(f.current=u());const g=we.useCallback(v=>{const S=l.map(w=>o(w,v));return()=>S.forEach(w=>w())},[l.join(","),o]);return we.useSyncExternalStore(g,()=>{const[v,S]=u();return f.current[0]===v?f.current[1]:(f.current=[v,S],S)},()=>f.current[1])}var TWe=class{callback;resolvers=RU();controller=new AbortController;queuedValue=void 0;constructor(l){this.callback=l}abort(){this.controller.abort(),this.queuedValue=void 0}push(l,o){return this.queuedValue=l,this.controller.abort(),this.controller=new AbortController,PU(()=>{const a=this.resolvers;try{oa("[nuqs dq] Flushing debounce queue",l);const u=this.callback(l);oa("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=RU(),u.then(f=>a.resolve(f)).catch(f=>a.reject(f))}catch(u){this.queuedValue=void 0,a.reject(u)}},o,this.controller.signal),this.resolvers.promise}},bWe=class{throttleQueue;queues=new Map;queuedQuerySync=r$();constructor(l=new Iue){this.throttleQueue=l}useQueuedQueries(l){return EWe(l,(o,a)=>this.queuedQuerySync.on(o,a),o=>this.getQueuedQuery(o))}push(l,o,a){if(!Number.isFinite(o)){const g=a.getSearchParamsSnapshot??xue;return Promise.resolve(g())}const u=l.key;if(!this.queues.has(u)){oa("[nuqs dqc] Creating debounce queue for `%s`",u);const g=new TWe(v=>(this.throttleQueue.push(v),this.throttleQueue.flush(a).finally(()=>{this.queues.get(v.key)?.queuedValue===void 0&&(oa("[nuqs dqc] Cleaning up empty queue for `%s`",v.key),this.queues.delete(v.key)),this.queuedQuerySync.emit(v.key)})));this.queues.set(u,g)}oa("[nuqs dqc] Enqueueing debounce update %O",l);const f=this.queues.get(u).push(l,o);return this.queuedQuerySync.emit(u),f}abort(l){const o=this.queues.get(l);return o?(oa("[nuqs dqc] Aborting debounce queue %s=%s",l,o.queuedValue?.query),this.queues.delete(l),o.abort(),this.queuedQuerySync.emit(l),a=>(a.then(o.resolvers.resolve,o.resolvers.reject),a)):a=>a}abortAll(){for(const[l,o]of this.queues.entries())oa("[nuqs dqc] Aborting debounce queue %s=%s",l,o.queuedValue?.query),o.abort(),o.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(l);this.queues.clear()}getQueuedQuery(l){const o=this.queues.get(l)?.queuedValue?.query;return o!==void 0?o:this.throttleQueue.getQueuedQuery(l)}};const a4=new bWe(NU);function Fie(l,o,a){return u=>{if(!(o.length===0?!0:o.some(v=>u.get(v)!==l.get(v))))return oa("[nuqs `%s`] no change, returning previous",o.join(","),u),u;const g=Due(l,o,a);return oa("[nuqs `%s`] subbed search params change\n  from %O\n  to   %O",o.join(","),u,g),g}}function Due(l,o,a){if(o.length===0)return l;const u=a?new URLSearchParams(l):l;for(const f of l.keys())o.includes(f)||u.delete(f);return u}const SWe="__nuqs__",MU=r$();function CWe(l){return function(a,u){const f=new URL(location.href);f.search=hWe(a),oa("[nuqs react] Updating url: %s",f),l&&u.shallow===!1?(u.history==="push"?location.assign:location.replace).call(location,f):(u.history==="push"?history.pushState:history.replaceState).call(history,history.state,SWe,f),MU.emit("update",a),u.scroll===!0&&window.scrollTo({top:0})}}const Oue=we.createContext({fullPageNavigationOnShallowFalseUpdates:!1});function AWe(l){const{fullPageNavigationOnShallowFalseUpdates:o}=we.useContext(Oue),[a,u]=we.useState(()=>typeof location>"u"?new URLSearchParams:Due(new URLSearchParams(location.search),l,!1));we.useEffect(()=>{const g=()=>{u(Fie(new URLSearchParams(location.search),l,!1))},v=S=>{u(Fie(S,l,!0))};return MU.on("update",v),window.addEventListener("popstate",g),()=>{MU.off("update",v),window.removeEventListener("popstate",g)}},[l.join("&")]);const f=we.useMemo(()=>CWe(o),[o]);return{searchParams:a,updateUrl:f}}const wWe=dWe(AWe);function xWe({children:l,fullPageNavigationOnShallowFalseUpdates:o=!1,...a}){return we.createElement(Oue.Provider,{value:{fullPageNavigationOnShallowFalseUpdates:o}},we.createElement(wWe,{...a,children:l}))}var GP={black:"#000",white:"#fff"},o4={300:"#e57373",500:"#f44336",700:"#d32f2f"},s4={A200:"#ff4081",A400:"#f50057",A700:"#c51162"},l4={300:"#7986cb",500:"#3f51b5",700:"#303f9f"},u4={300:"#64b5f6",500:"#2196f3",700:"#1976d2"},c4={300:"#81c784",500:"#4caf50",700:"#388e3c"},h4={300:"#ffb74d",500:"#ff9800",700:"#f57c00"},n$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};function Rt(){return Rt=Object.assign?Object.assign.bind():function(l){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var u in a)({}).hasOwnProperty.call(a,u)&&(l[u]=a[u])}return l},Rt.apply(null,arguments)}function zv(l){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},zv(l)}function f4(l){return l&&zv(l)==="object"&&l.constructor===Object}function Y_(l,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},u=a.clone?Rt({},l):l;return f4(l)&&f4(o)&&Object.keys(o).forEach(function(f){f!=="__proto__"&&(f4(o[f])&&f in l?u[f]=Y_(l[f],o[f],a):u[f]=o[f])}),u}function IWe(l,o){if(zv(l)!="object"||!l)return l;var a=l[Symbol.toPrimitive];if(a!==void 0){var u=a.call(l,o);if(zv(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(l)}function kue(l){var o=IWe(l,"string");return zv(o)=="symbol"?o:o+""}function Xo(l,o,a){return(o=kue(o))in l?Object.defineProperty(l,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[o]=a,l}function X_(l){for(var o="https://mui.com/production-error/?code="+l,a=1;a<arguments.length;a+=1)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified Material-UI error #"+l+"; visit "+o+" for the full message."}var d4={exports:{}},wi={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uie;function DWe(){if(Uie)return wi;Uie=1;var l=60103,o=60106,a=60107,u=60108,f=60114,g=60109,v=60110,S=60112,w=60113,I=60120,k=60115,F=60116,U=60121,N=60122,H=60117,q=60129,j=60131;if(typeof Symbol=="function"&&Symbol.for){var se=Symbol.for;l=se("react.element"),o=se("react.portal"),a=se("react.fragment"),u=se("react.strict_mode"),f=se("react.profiler"),g=se("react.provider"),v=se("react.context"),S=se("react.forward_ref"),w=se("react.suspense"),I=se("react.suspense_list"),k=se("react.memo"),F=se("react.lazy"),U=se("react.block"),N=se("react.server.block"),H=se("react.fundamental"),q=se("react.debug_trace_mode"),j=se("react.legacy_hidden")}function he(at){if(typeof at=="object"&&at!==null){var _t=at.$$typeof;switch(_t){case l:switch(at=at.type,at){case a:case f:case u:case w:case I:return at;default:switch(at=at&&at.$$typeof,at){case v:case S:case F:case k:case g:return at;default:return _t}}case o:return _t}}}var oe=g,ue=l,X=S,de=a,fe=F,Fe=k,M=o,ke=f,qe=u,Te=w;return wi.ContextConsumer=v,wi.ContextProvider=oe,wi.Element=ue,wi.ForwardRef=X,wi.Fragment=de,wi.Lazy=fe,wi.Memo=Fe,wi.Portal=M,wi.Profiler=ke,wi.StrictMode=qe,wi.Suspense=Te,wi.isAsyncMode=function(){return!1},wi.isConcurrentMode=function(){return!1},wi.isContextConsumer=function(at){return he(at)===v},wi.isContextProvider=function(at){return he(at)===g},wi.isElement=function(at){return typeof at=="object"&&at!==null&&at.$$typeof===l},wi.isForwardRef=function(at){return he(at)===S},wi.isFragment=function(at){return he(at)===a},wi.isLazy=function(at){return he(at)===F},wi.isMemo=function(at){return he(at)===k},wi.isPortal=function(at){return he(at)===o},wi.isProfiler=function(at){return he(at)===f},wi.isStrictMode=function(at){return he(at)===u},wi.isSuspense=function(at){return he(at)===w},wi.isValidElementType=function(at){return typeof at=="string"||typeof at=="function"||at===a||at===f||at===q||at===u||at===w||at===I||at===j||typeof at=="object"&&at!==null&&(at.$$typeof===F||at.$$typeof===k||at.$$typeof===g||at.$$typeof===v||at.$$typeof===S||at.$$typeof===H||at.$$typeof===U||at[0]===N)},wi.typeOf=he,wi}var Hie;function OWe(){return Hie||(Hie=1,d4.exports=DWe()),d4.exports}OWe();function i$(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(o,l),a)}function kWe(l){l=l.substr(1);var o=new RegExp(".{1,".concat(l.length>=6?2:1,"}"),"g"),a=l.match(o);return a&&a[0].length===1&&(a=a.map(function(u){return u+u})),a?"rgb".concat(a.length===4?"a":"","(").concat(a.map(function(u,f){return f<3?parseInt(u,16):Math.round(parseInt(u,16)/255*1e3)/1e3}).join(", "),")"):""}function PWe(l){l=jv(l);var o=l,a=o.values,u=a[0],f=a[1]/100,g=a[2]/100,v=f*Math.min(g,1-g),S=function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(F+u/30)%12;return g-v*Math.max(Math.min(U-3,9-U,1),-1)},w="rgb",I=[Math.round(S(0)*255),Math.round(S(8)*255),Math.round(S(4)*255)];return l.type==="hsla"&&(w+="a",I.push(a[3])),sR({type:w,values:I})}function jv(l){if(l.type)return l;if(l.charAt(0)==="#")return jv(kWe(l));var o=l.indexOf("("),a=l.substring(0,o);if(["rgb","rgba","hsl","hsla"].indexOf(a)===-1)throw new Error(X_(3,l));var u=l.substring(o+1,l.length-1).split(",");return u=u.map(function(f){return parseFloat(f)}),{type:a,values:u}}function sR(l){var o=l.type,a=l.values;return o.indexOf("rgb")!==-1?a=a.map(function(u,f){return f<3?parseInt(u,10):u}):o.indexOf("hsl")!==-1&&(a[1]="".concat(a[1],"%"),a[2]="".concat(a[2],"%")),"".concat(o,"(").concat(a.join(", "),")")}function RWe(l,o){var a=LU(l),u=LU(o);return(Math.max(a,u)+.05)/(Math.min(a,u)+.05)}function LU(l){l=jv(l);var o=l.type==="hsl"?jv(PWe(l)).values:l.values;return o=o.map(function(a){return a/=255,a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function Sv(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.15;return LU(l)>.5?Pue(l,o):Rue(l,o)}function co(l,o){return l=jv(l),o=i$(o),(l.type==="rgb"||l.type==="hsl")&&(l.type+="a"),l.values[3]=o,sR(l)}function Pue(l,o){if(l=jv(l),o=i$(o),l.type.indexOf("hsl")!==-1)l.values[2]*=1-o;else if(l.type.indexOf("rgb")!==-1)for(var a=0;a<3;a+=1)l.values[a]*=1-o;return sR(l)}function Rue(l,o){if(l=jv(l),o=i$(o),l.type.indexOf("hsl")!==-1)l.values[2]+=(100-l.values[2])*o;else if(l.type.indexOf("rgb")!==-1)for(var a=0;a<3;a+=1)l.values[a]+=(255-l.values[a])*o;return sR(l)}function lR(l,o){if(l==null)return{};var a={};for(var u in l)if({}.hasOwnProperty.call(l,u)){if(o.indexOf(u)!==-1)continue;a[u]=l[u]}return a}function Zr(l,o){if(l==null)return{};var a,u,f=lR(l,o);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(l);for(u=0;u<g.length;u++)a=g[u],o.indexOf(a)===-1&&{}.propertyIsEnumerable.call(l,a)&&(f[a]=l[a])}return f}var Yp=["xs","sm","md","lg","xl"];function NWe(l){var o=l.values,a=o===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:o,u=l.unit,f=u===void 0?"px":u,g=l.step,v=g===void 0?5:g,S=Zr(l,["values","unit","step"]);function w(N){var H=typeof a[N]=="number"?a[N]:N;return"@media (min-width:".concat(H).concat(f,")")}function I(N){var H=Yp.indexOf(N)+1,q=a[Yp[H]];if(H===Yp.length)return w("xs");var j=typeof q=="number"&&H>0?q:N;return"@media (max-width:".concat(j-v/100).concat(f,")")}function k(N,H){var q=Yp.indexOf(H);return q===Yp.length-1?w(N):"@media (min-width:".concat(typeof a[N]=="number"?a[N]:N).concat(f,") and ")+"(max-width:".concat((q!==-1&&typeof a[Yp[q+1]]=="number"?a[Yp[q+1]]:H)-v/100).concat(f,")")}function F(N){return k(N,N)}function U(N){return a[N]}return Rt({keys:Yp,values:a,up:w,down:I,between:k,only:F,width:U},S)}function MWe(l,o,a){var u;return Rt({gutters:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),Rt({paddingLeft:o(2),paddingRight:o(2)},g,Xo({},l.up("sm"),Rt({paddingLeft:o(3),paddingRight:o(3)},g[l.up("sm")])))},toolbar:(u={minHeight:56},Xo(u,"".concat(l.up("xs")," and (orientation: landscape)"),{minHeight:48}),Xo(u,l.up("sm"),{minHeight:64}),u)},a)}var $ie={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:GP.white,default:n$[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},p4={text:{primary:GP.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:n$[800],default:"#303030"},action:{active:GP.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Gie(l,o,a,u){var f=u.light||u,g=u.dark||u*1.5;l[o]||(l.hasOwnProperty(a)?l[o]=l[a]:o==="light"?l.light=Rue(l.main,f):o==="dark"&&(l.dark=Pue(l.main,g)))}function LWe(l){var o=l.primary,a=o===void 0?{light:l4[300],main:l4[500],dark:l4[700]}:o,u=l.secondary,f=u===void 0?{light:s4.A200,main:s4.A400,dark:s4.A700}:u,g=l.error,v=g===void 0?{light:o4[300],main:o4[500],dark:o4[700]}:g,S=l.warning,w=S===void 0?{light:h4[300],main:h4[500],dark:h4[700]}:S,I=l.info,k=I===void 0?{light:u4[300],main:u4[500],dark:u4[700]}:I,F=l.success,U=F===void 0?{light:c4[300],main:c4[500],dark:c4[700]}:F,N=l.type,H=N===void 0?"light":N,q=l.contrastThreshold,j=q===void 0?3:q,se=l.tonalOffset,he=se===void 0?.2:se,oe=Zr(l,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function ue(Fe){var M=RWe(Fe,p4.text.primary)>=j?p4.text.primary:$ie.text.primary;return M}var X=function(M){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,Te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(M=Rt({},M),!M.main&&M[ke]&&(M.main=M[ke]),!M.main)throw new Error(X_(4,ke));if(typeof M.main!="string")throw new Error(X_(5,JSON.stringify(M.main)));return Gie(M,"light",qe,he),Gie(M,"dark",Te,he),M.contrastText||(M.contrastText=ue(M.main)),M},de={dark:p4,light:$ie},fe=Y_(Rt({common:GP,type:H,primary:X(a),secondary:X(f,"A400","A200","A700"),error:X(v),warning:X(w),info:X(k),success:X(U),grey:n$,contrastThreshold:j,getContrastText:ue,augmentColor:X,tonalOffset:he},de[H]),oe);return fe}function Nue(l){return Math.round(l*1e5)/1e5}function BWe(l){return Nue(l)}var zie={textTransform:"uppercase"},jie='"Roboto", "Helvetica", "Arial", sans-serif';function FWe(l,o){var a=typeof o=="function"?o(l):o,u=a.fontFamily,f=u===void 0?jie:u,g=a.fontSize,v=g===void 0?14:g,S=a.fontWeightLight,w=S===void 0?300:S,I=a.fontWeightRegular,k=I===void 0?400:I,F=a.fontWeightMedium,U=F===void 0?500:F,N=a.fontWeightBold,H=N===void 0?700:N,q=a.htmlFontSize,j=q===void 0?16:q,se=a.allVariants,he=a.pxToRem,oe=Zr(a,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),ue=v/14,X=he||function(Fe){return"".concat(Fe/j*ue,"rem")},de=function(M,ke,qe,Te,at){return Rt({fontFamily:f,fontWeight:M,fontSize:X(ke),lineHeight:qe},f===jie?{letterSpacing:"".concat(Nue(Te/ke),"em")}:{},at,se)},fe={h1:de(w,96,1.167,-1.5),h2:de(w,60,1.2,-.5),h3:de(k,48,1.167,0),h4:de(k,34,1.235,.25),h5:de(k,24,1.334,0),h6:de(U,20,1.6,.15),subtitle1:de(k,16,1.75,.15),subtitle2:de(U,14,1.57,.1),body1:de(k,16,1.5,.15),body2:de(k,14,1.43,.15),button:de(U,14,1.75,.4,zie),caption:de(k,12,1.66,.4),overline:de(k,12,2.66,1,zie)};return Y_(Rt({htmlFontSize:j,pxToRem:X,round:BWe,fontFamily:f,fontSize:v,fontWeightLight:w,fontWeightRegular:k,fontWeightMedium:U,fontWeightBold:H},fe),oe,{clone:!1})}var UWe=.2,HWe=.14,$We=.12;function na(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(UWe,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(HWe,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat($We,")")].join(",")}var GWe=["none",na(0,2,1,-1,0,1,1,0,0,1,3,0),na(0,3,1,-2,0,2,2,0,0,1,5,0),na(0,3,3,-2,0,3,4,0,0,1,8,0),na(0,2,4,-1,0,4,5,0,0,1,10,0),na(0,3,5,-1,0,5,8,0,0,1,14,0),na(0,3,5,-1,0,6,10,0,0,1,18,0),na(0,4,5,-2,0,7,10,1,0,2,16,1),na(0,5,5,-3,0,8,10,1,0,3,14,2),na(0,5,6,-3,0,9,12,1,0,3,16,2),na(0,6,6,-3,0,10,14,1,0,4,18,3),na(0,6,7,-4,0,11,15,1,0,4,20,3),na(0,7,8,-4,0,12,17,2,0,5,22,4),na(0,7,8,-4,0,13,19,2,0,5,24,4),na(0,7,9,-4,0,14,21,2,0,5,26,4),na(0,8,9,-5,0,15,22,2,0,6,28,5),na(0,8,10,-5,0,16,24,2,0,6,30,5),na(0,8,11,-5,0,17,26,2,0,6,32,5),na(0,9,11,-5,0,18,28,2,0,7,34,6),na(0,9,12,-6,0,19,29,2,0,7,36,6),na(0,10,13,-6,0,20,31,3,0,8,38,7),na(0,10,13,-6,0,21,33,3,0,8,40,7),na(0,10,14,-6,0,22,35,3,0,8,42,7),na(0,11,14,-7,0,23,36,3,0,9,44,8),na(0,11,15,-7,0,24,38,3,0,9,46,8)],zWe={borderRadius:4};function BU(l,o){(o==null||o>l.length)&&(o=l.length);for(var a=0,u=Array(o);a<o;a++)u[a]=l[a];return u}function jWe(l){if(Array.isArray(l))return BU(l)}function VWe(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function Mue(l,o){if(l){if(typeof l=="string")return BU(l,o);var a={}.toString.call(l).slice(8,-1);return a==="Object"&&l.constructor&&(a=l.constructor.name),a==="Map"||a==="Set"?Array.from(l):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?BU(l,o):void 0}}function WWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a$(l){return jWe(l)||VWe(l)||Mue(l)||WWe()}function YWe(l){if(Array.isArray(l))return l}function XWe(l,o){var a=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(a!=null){var u,f,g,v,S=[],w=!0,I=!1;try{if(g=(a=a.call(l)).next,o!==0)for(;!(w=(u=g.call(a)).done)&&(S.push(u.value),S.length!==o);w=!0);}catch(k){I=!0,f=k}finally{try{if(!w&&a.return!=null&&(v=a.return(),Object(v)!==v))return}finally{if(I)throw f}}return S}}function qWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$(l,o){return YWe(l)||XWe(l,o)||Mue(l,o)||qWe()}function KWe(l){var o=l.spacing||8;return typeof o=="number"?function(a){return o*a}:Array.isArray(o)?function(a){return o[a]}:typeof o=="function"?o:function(){}}function ZWe(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(l.mui)return l;var o=KWe({spacing:l}),a=function(){for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];return g.length===0?o(1):g.length===1?o(g[0]):g.map(function(S){if(typeof S=="string")return S;var w=o(S);return typeof w=="number"?"".concat(w,"px"):w}).join(" ")};return Object.defineProperty(a,"unit",{get:function(){return l}}),a.mui=!0,a}var Vie={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Jp={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Wie(l){return"".concat(Math.round(l),"ms")}const QWe={easing:Vie,duration:Jp,create:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.duration,f=u===void 0?Jp.standard:u,g=a.easing,v=g===void 0?Vie.easeInOut:g,S=a.delay,w=S===void 0?0:S;return Zr(a,["duration","easing","delay"]),(Array.isArray(o)?o:[o]).map(function(I){return"".concat(I," ").concat(typeof f=="string"?f:Wie(f)," ").concat(v," ").concat(typeof w=="string"?w:Wie(w))}).join(",")},getAutoHeightDuration:function(o){if(!o)return 0;var a=o/36;return Math.round((4+15*Math.pow(a,.25)+a/5)*10)}};var Lue={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function JWe(){for(var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=l.breakpoints,a=o===void 0?{}:o,u=l.mixins,f=u===void 0?{}:u,g=l.palette,v=g===void 0?{}:g,S=l.spacing,w=l.typography,I=w===void 0?{}:w,k=Zr(l,["breakpoints","mixins","palette","spacing","typography"]),F=LWe(v),U=NWe(a),N=ZWe(S),H=Y_({breakpoints:U,direction:"ltr",mixins:MWe(U,N,f),overrides:{},palette:F,props:{},shadows:GWe,typography:FWe(F,I),spacing:N,shape:zWe,transitions:QWe,zIndex:Lue},k),q=arguments.length,j=new Array(q>1?q-1:0),se=1;se<q;se++)j[se-1]=arguments[se];return H=j.reduce(function(he,oe){return Y_(he,oe)},H),H}var eYe=typeof Symbol=="function"&&Symbol.for;const Bue=eYe?Symbol.for("mui.nested"):"__THEME_NESTED__";var tYe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Fue(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=l.disableGlobal,a=o===void 0?!1:o,u=l.productionPrefix,f=u===void 0?"jss":u,g=l.seed,v=g===void 0?"":g,S=v===""?"":"".concat(v,"-"),w=0,I=function(){return w+=1,w};return function(k,F){var U=F.options.name;if(U&&U.indexOf("Mui")===0&&!F.options.link&&!a){if(tYe.indexOf(k.key)!==-1)return"Mui-".concat(k.key);var N="".concat(S).concat(U,"-").concat(k.key);return!F.options.theme[Bue]||v!==""?N:"".concat(N,"-").concat(I())}return"".concat(S).concat(f).concat(I())}}function Uue(l){var o=l.theme,a=l.name,u=l.props;if(!o||!o.props||!o.props[a])return u;var f=o.props[a],g;for(g in f)u[g]===void 0&&(u[g]=f[g]);return u}var Yie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},kA=(typeof window>"u"?"undefined":Yie(window))==="object"&&(typeof document>"u"?"undefined":Yie(document))==="object"&&document.nodeType===9;function rYe(l,o){for(var a=0;a<o.length;a++){var u=o[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,kue(u.key),u)}}function s$(l,o,a){return o&&rYe(l.prototype,o),Object.defineProperty(l,"prototype",{writable:!1}),l}function FU(l,o){return FU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,u){return a.__proto__=u,a},FU(l,o)}function uR(l,o){l.prototype=Object.create(o.prototype),l.prototype.constructor=l,FU(l,o)}function UU(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}var nYe={}.constructor;function HU(l){if(l==null||typeof l!="object")return l;if(Array.isArray(l))return l.map(HU);if(l.constructor!==nYe)return l;var o={};for(var a in l)o[a]=HU(l[a]);return o}function l$(l,o,a){l===void 0&&(l="unnamed");var u=a.jss,f=HU(o),g=u.plugins.onCreateRule(l,f,a);return g||(l[0],null)}var Xie=function(o,a){for(var u="",f=0;f<o.length&&o[f]!=="!important";f++)u&&(u+=a),u+=o[f];return u},Uv=function(o){if(!Array.isArray(o))return o;var a="";if(Array.isArray(o[0]))for(var u=0;u<o.length&&o[u]!=="!important";u++)a&&(a+=", "),a+=Xie(o[u]," ");else a=Xie(o,", ");return o[o.length-1]==="!important"&&(a+=" !important"),a};function tE(l){return l&&l.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function HC(l,o){for(var a="",u=0;u<o;u++)a+="  ";return a+l}function mA(l,o,a){a===void 0&&(a={});var u="";if(!o)return u;var f=a,g=f.indent,v=g===void 0?0:g,S=o.fallbacks;a.format===!1&&(v=-1/0);var w=tE(a),I=w.linebreak,k=w.space;if(l&&v++,S)if(Array.isArray(S))for(var F=0;F<S.length;F++){var U=S[F];for(var N in U){var H=U[N];H!=null&&(u&&(u+=I),u+=HC(N+":"+k+Uv(H)+";",v))}}else for(var q in S){var j=S[q];j!=null&&(u&&(u+=I),u+=HC(q+":"+k+Uv(j)+";",v))}for(var se in o){var he=o[se];he!=null&&se!=="fallbacks"&&(u&&(u+=I),u+=HC(se+":"+k+Uv(he)+";",v))}return!u&&!a.allowEmpty||!l?u:(v--,u&&(u=""+I+u+I),HC(""+l+k+"{"+u,v)+HC("}",v))}var iYe=/([[\].#*$><+~=|^:(),"'`\s])/g,qie=typeof CSS<"u"&&CSS.escape,u$=(function(l){return qie?qie(l):l.replace(iYe,"\\$1")}),Hue=(function(){function l(a,u,f){this.type="style",this.isProcessed=!1;var g=f.sheet,v=f.Renderer;this.key=a,this.options=f,this.style=u,g?this.renderer=g.renderer:v&&(this.renderer=new v)}var o=l.prototype;return o.prop=function(u,f,g){if(f===void 0)return this.style[u];var v=g?g.force:!1;if(!v&&this.style[u]===f)return this;var S=f;(!g||g.process!==!1)&&(S=this.options.jss.plugins.onChangeValue(f,u,this));var w=S==null||S===!1,I=u in this.style;if(w&&!I&&!v)return this;var k=w&&I;if(k?delete this.style[u]:this.style[u]=S,this.renderable&&this.renderer)return k?this.renderer.removeProperty(this.renderable,u):this.renderer.setProperty(this.renderable,u,S),this;var F=this.options.sheet;return F&&F.attached,this},l})(),$U=(function(l){uR(o,l);function o(u,f,g){var v;v=l.call(this,u,f,g)||this;var S=g.selector,w=g.scoped,I=g.sheet,k=g.generateId;return S?v.selectorText=S:w!==!1&&(v.id=k(UU(UU(v)),I),v.selectorText="."+u$(v.id)),v}var a=o.prototype;return a.applyTo=function(f){var g=this.renderer;if(g){var v=this.toJSON();for(var S in v)g.setProperty(f,S,v[S])}return this},a.toJSON=function(){var f={};for(var g in this.style){var v=this.style[g];typeof v!="object"?f[g]=v:Array.isArray(v)&&(f[g]=Uv(v))}return f},a.toString=function(f){var g=this.options.sheet,v=g?g.options.link:!1,S=v?Rt({},f,{allowEmpty:!0}):f;return mA(this.selectorText,this.style,S)},s$(o,[{key:"selector",set:function(f){if(f!==this.selectorText){this.selectorText=f;var g=this.renderer,v=this.renderable;if(!(!v||!g)){var S=g.setSelector(v,f);S||g.replaceRule(v,this)}}},get:function(){return this.selectorText}}]),o})(Hue),aYe={onCreateRule:function(o,a,u){return o[0]==="@"||u.parent&&u.parent.type==="keyframes"?null:new $U(o,a,u)}},m4={indent:1,children:!0},oYe=/@([\w-]+)/,sYe=(function(){function l(a,u,f){this.type="conditional",this.isProcessed=!1,this.key=a;var g=a.match(oYe);this.at=g?g[1]:"unknown",this.query=f.name||"@"+this.at,this.options=f,this.rules=new cR(Rt({},f,{parent:this}));for(var v in u)this.rules.add(v,u[v]);this.rules.process()}var o=l.prototype;return o.getRule=function(u){return this.rules.get(u)},o.indexOf=function(u){return this.rules.indexOf(u)},o.addRule=function(u,f,g){var v=this.rules.add(u,f,g);return v?(this.options.jss.plugins.onProcessRule(v),v):null},o.replaceRule=function(u,f,g){var v=this.rules.replace(u,f,g);return v&&this.options.jss.plugins.onProcessRule(v),v},o.toString=function(u){u===void 0&&(u=m4);var f=tE(u),g=f.linebreak;if(u.indent==null&&(u.indent=m4.indent),u.children==null&&(u.children=m4.children),u.children===!1)return this.query+" {}";var v=this.rules.toString(u);return v?this.query+" {"+g+v+g+"}":""},l})(),lYe=/@container|@media|@supports\s+/,uYe={onCreateRule:function(o,a,u){return lYe.test(o)?new sYe(o,a,u):null}},g4={indent:1,children:!0},cYe=/@keyframes\s+([\w-]+)/,GU=(function(){function l(a,u,f){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var g=a.match(cYe);g&&g[1]?this.name=g[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=f;var v=f.scoped,S=f.sheet,w=f.generateId;this.id=v===!1?this.name:u$(w(this,S)),this.rules=new cR(Rt({},f,{parent:this}));for(var I in u)this.rules.add(I,u[I],Rt({},f,{parent:this}));this.rules.process()}var o=l.prototype;return o.toString=function(u){u===void 0&&(u=g4);var f=tE(u),g=f.linebreak;if(u.indent==null&&(u.indent=g4.indent),u.children==null&&(u.children=g4.children),u.children===!1)return this.at+" "+this.id+" {}";var v=this.rules.toString(u);return v&&(v=""+g+v+g),this.at+" "+this.id+" {"+v+"}"},l})(),hYe=/@keyframes\s+/,fYe=/\$([\w-]+)/g,zU=function(o,a){return typeof o=="string"?o.replace(fYe,function(u,f){return f in a?a[f]:u}):o},Kie=function(o,a,u){var f=o[a],g=zU(f,u);g!==f&&(o[a]=g)},dYe={onCreateRule:function(o,a,u){return typeof o=="string"&&hYe.test(o)?new GU(o,a,u):null},onProcessStyle:function(o,a,u){return a.type!=="style"||!u||("animation-name"in o&&Kie(o,"animation-name",u.keyframes),"animation"in o&&Kie(o,"animation",u.keyframes)),o},onChangeValue:function(o,a,u){var f=u.options.sheet;if(!f)return o;switch(a){case"animation":return zU(o,f.keyframes);case"animation-name":return zU(o,f.keyframes);default:return o}}},pYe=(function(l){uR(o,l);function o(){return l.apply(this,arguments)||this}var a=o.prototype;return a.toString=function(f){var g=this.options.sheet,v=g?g.options.link:!1,S=v?Rt({},f,{allowEmpty:!0}):f;return mA(this.key,this.style,S)},o})(Hue),mYe={onCreateRule:function(o,a,u){return u.parent&&u.parent.type==="keyframes"?new pYe(o,a,u):null}},gYe=(function(){function l(a,u,f){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=a,this.style=u,this.options=f}var o=l.prototype;return o.toString=function(u){var f=tE(u),g=f.linebreak;if(Array.isArray(this.style)){for(var v="",S=0;S<this.style.length;S++)v+=mA(this.at,this.style[S]),this.style[S+1]&&(v+=g);return v}return mA(this.at,this.style,u)},l})(),vYe=/@font-face/,yYe={onCreateRule:function(o,a,u){return vYe.test(o)?new gYe(o,a,u):null}},_Ye=(function(){function l(a,u,f){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=a,this.style=u,this.options=f}var o=l.prototype;return o.toString=function(u){return mA(this.key,this.style,u)},l})(),EYe={onCreateRule:function(o,a,u){return o==="@viewport"||o==="@-ms-viewport"?new _Ye(o,a,u):null}},TYe=(function(){function l(a,u,f){this.type="simple",this.isProcessed=!1,this.key=a,this.value=u,this.options=f}var o=l.prototype;return o.toString=function(u){if(Array.isArray(this.value)){for(var f="",g=0;g<this.value.length;g++)f+=this.key+" "+this.value[g]+";",this.value[g+1]&&(f+=`
`);return f}return this.key+" "+this.value+";"},l})(),bYe={"@charset":!0,"@import":!0,"@namespace":!0},SYe={onCreateRule:function(o,a,u){return o in bYe?new TYe(o,a,u):null}},Zie=[aYe,uYe,dYe,mYe,yYe,EYe,SYe],CYe={process:!0},Qie={force:!0,process:!0},cR=(function(){function l(a){this.map={},this.raw={},this.index=[],this.counter=0,this.options=a,this.classes=a.classes,this.keyframes=a.keyframes}var o=l.prototype;return o.add=function(u,f,g){var v=this.options,S=v.parent,w=v.sheet,I=v.jss,k=v.Renderer,F=v.generateId,U=v.scoped,N=Rt({classes:this.classes,parent:S,sheet:w,jss:I,Renderer:k,generateId:F,scoped:U,name:u,keyframes:this.keyframes,selector:void 0},g),H=u;u in this.raw&&(H=u+"-d"+this.counter++),this.raw[H]=f,H in this.classes&&(N.selector="."+u$(this.classes[H]));var q=l$(H,f,N);if(!q)return null;this.register(q);var j=N.index===void 0?this.index.length:N.index;return this.index.splice(j,0,q),q},o.replace=function(u,f,g){var v=this.get(u),S=this.index.indexOf(v);v&&this.remove(v);var w=g;return S!==-1&&(w=Rt({},g,{index:S})),this.add(u,f,w)},o.get=function(u){return this.map[u]},o.remove=function(u){this.unregister(u),delete this.raw[u.key],this.index.splice(this.index.indexOf(u),1)},o.indexOf=function(u){return this.index.indexOf(u)},o.process=function(){var u=this.options.jss.plugins;this.index.slice(0).forEach(u.onProcessRule,u)},o.register=function(u){this.map[u.key]=u,u instanceof $U?(this.map[u.selector]=u,u.id&&(this.classes[u.key]=u.id)):u instanceof GU&&this.keyframes&&(this.keyframes[u.name]=u.id)},o.unregister=function(u){delete this.map[u.key],u instanceof $U?(delete this.map[u.selector],delete this.classes[u.key]):u instanceof GU&&delete this.keyframes[u.name]},o.update=function(){var u,f,g;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(u=arguments.length<=0?void 0:arguments[0],f=arguments.length<=1?void 0:arguments[1],g=arguments.length<=2?void 0:arguments[2]):(f=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1],u=null),u)this.updateOne(this.get(u),f,g);else for(var v=0;v<this.index.length;v++)this.updateOne(this.index[v],f,g)},o.updateOne=function(u,f,g){g===void 0&&(g=CYe);var v=this.options,S=v.jss.plugins,w=v.sheet;if(u.rules instanceof l){u.rules.update(f,g);return}var I=u.style;if(S.onUpdate(f,u,w,g),g.process&&I&&I!==u.style){S.onProcessStyle(u.style,u,w);for(var k in u.style){var F=u.style[k],U=I[k];F!==U&&u.prop(k,F,Qie)}for(var N in I){var H=u.style[N],q=I[N];H==null&&H!==q&&u.prop(N,null,Qie)}}},o.toString=function(u){for(var f="",g=this.options.sheet,v=g?g.options.link:!1,S=tE(u),w=S.linebreak,I=0;I<this.index.length;I++){var k=this.index[I],F=k.toString(u);!F&&!v||(f&&(f+=w),f+=F)}return f},l})(),$ue=(function(){function l(a,u){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Rt({},u,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),u.Renderer&&(this.renderer=new u.Renderer(this)),this.rules=new cR(this.options);for(var f in a)this.rules.add(f,a[f]);this.rules.process()}var o=l.prototype;return o.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},o.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},o.addRule=function(u,f,g){var v=this.queue;this.attached&&!v&&(this.queue=[]);var S=this.rules.add(u,f,g);return S?(this.options.jss.plugins.onProcessRule(S),this.attached?(this.deployed&&(v?v.push(S):(this.insertRule(S),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),S):(this.deployed=!1,S)):null},o.replaceRule=function(u,f,g){var v=this.rules.get(u);if(!v)return this.addRule(u,f,g);var S=this.rules.replace(u,f,g);return S&&this.options.jss.plugins.onProcessRule(S),this.attached?(this.deployed&&this.renderer&&(S?v.renderable&&this.renderer.replaceRule(v.renderable,S):this.renderer.deleteRule(v)),S):(this.deployed=!1,S)},o.insertRule=function(u){this.renderer&&this.renderer.insertRule(u)},o.addRules=function(u,f){var g=[];for(var v in u){var S=this.addRule(v,u[v],f);S&&g.push(S)}return g},o.getRule=function(u){return this.rules.get(u)},o.deleteRule=function(u){var f=typeof u=="object"?u:this.rules.get(u);return!f||this.attached&&!f.renderable?!1:(this.rules.remove(f),this.attached&&f.renderable&&this.renderer?this.renderer.deleteRule(f.renderable):!0)},o.indexOf=function(u){return this.rules.indexOf(u)},o.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},o.update=function(){var u;return(u=this.rules).update.apply(u,arguments),this},o.updateOne=function(u,f,g){return this.rules.updateOne(u,f,g),this},o.toString=function(u){return this.rules.toString(u)},l})(),AYe=(function(){function l(){this.plugins={internal:[],external:[]},this.registry={}}var o=l.prototype;return o.onCreateRule=function(u,f,g){for(var v=0;v<this.registry.onCreateRule.length;v++){var S=this.registry.onCreateRule[v](u,f,g);if(S)return S}return null},o.onProcessRule=function(u){if(!u.isProcessed){for(var f=u.options.sheet,g=0;g<this.registry.onProcessRule.length;g++)this.registry.onProcessRule[g](u,f);u.style&&this.onProcessStyle(u.style,u,f),u.isProcessed=!0}},o.onProcessStyle=function(u,f,g){for(var v=0;v<this.registry.onProcessStyle.length;v++)f.style=this.registry.onProcessStyle[v](f.style,f,g)},o.onProcessSheet=function(u){for(var f=0;f<this.registry.onProcessSheet.length;f++)this.registry.onProcessSheet[f](u)},o.onUpdate=function(u,f,g,v){for(var S=0;S<this.registry.onUpdate.length;S++)this.registry.onUpdate[S](u,f,g,v)},o.onChangeValue=function(u,f,g){for(var v=u,S=0;S<this.registry.onChangeValue.length;S++)v=this.registry.onChangeValue[S](v,f,g);return v},o.use=function(u,f){f===void 0&&(f={queue:"external"});var g=this.plugins[f.queue];g.indexOf(u)===-1&&(g.push(u),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(v,S){for(var w in S)w in v&&v[w].push(S[w]);return v},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},l})(),wYe=(function(){function l(){this.registry=[]}var o=l.prototype;return o.add=function(u){var f=this.registry,g=u.options.index;if(f.indexOf(u)===-1){if(f.length===0||g>=this.index){f.push(u);return}for(var v=0;v<f.length;v++)if(f[v].options.index>g){f.splice(v,0,u);return}}},o.reset=function(){this.registry=[]},o.remove=function(u){var f=this.registry.indexOf(u);this.registry.splice(f,1)},o.toString=function(u){for(var f=u===void 0?{}:u,g=f.attached,v=lR(f,["attached"]),S=tE(v),w=S.linebreak,I="",k=0;k<this.registry.length;k++){var F=this.registry[k];g!=null&&F.attached!==g||(I&&(I+=w),I+=F.toString(v))}return I},s$(l,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),l})(),sA=new wYe,jU=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),VU="2f1acc6c3a606b082e5eef5e54414ffb";jU[VU]==null&&(jU[VU]=0);var Jie=jU[VU]++,eae=function(o){o===void 0&&(o={});var a=0,u=function(g,v){a+=1;var S="",w="";return v&&(v.options.classNamePrefix&&(w=v.options.classNamePrefix),v.options.jss.id!=null&&(S=String(v.options.jss.id))),o.minify?""+(w||"c")+Jie+S+a:w+g.key+"-"+Jie+(S?"-"+S:"")+"-"+a};return u},Gue=function(o){var a;return function(){return a||(a=o()),a}},xYe=function(o,a){try{return o.attributeStyleMap?o.attributeStyleMap.get(a):o.style.getPropertyValue(a)}catch{return""}},IYe=function(o,a,u){try{var f=u;if(Array.isArray(u)&&(f=Uv(u)),o.attributeStyleMap)o.attributeStyleMap.set(a,f);else{var g=f?f.indexOf("!important"):-1,v=g>-1?f.substr(0,g-1):f;o.style.setProperty(a,v,g>-1?"important":"")}}catch{return!1}return!0},DYe=function(o,a){try{o.attributeStyleMap?o.attributeStyleMap.delete(a):o.style.removeProperty(a)}catch{}},OYe=function(o,a){return o.selectorText=a,o.selectorText===a},zue=Gue(function(){return document.querySelector("head")});function kYe(l,o){for(var a=0;a<l.length;a++){var u=l[a];if(u.attached&&u.options.index>o.index&&u.options.insertionPoint===o.insertionPoint)return u}return null}function PYe(l,o){for(var a=l.length-1;a>=0;a--){var u=l[a];if(u.attached&&u.options.insertionPoint===o.insertionPoint)return u}return null}function RYe(l){for(var o=zue(),a=0;a<o.childNodes.length;a++){var u=o.childNodes[a];if(u.nodeType===8&&u.nodeValue.trim()===l)return u}return null}function NYe(l){var o=sA.registry;if(o.length>0){var a=kYe(o,l);if(a&&a.renderer)return{parent:a.renderer.element.parentNode,node:a.renderer.element};if(a=PYe(o,l),a&&a.renderer)return{parent:a.renderer.element.parentNode,node:a.renderer.element.nextSibling}}var u=l.insertionPoint;if(u&&typeof u=="string"){var f=RYe(u);if(f)return{parent:f.parentNode,node:f.nextSibling}}return!1}function MYe(l,o){var a=o.insertionPoint,u=NYe(o);if(u!==!1&&u.parent){u.parent.insertBefore(l,u.node);return}if(a&&typeof a.nodeType=="number"){var f=a,g=f.parentNode;g&&g.insertBefore(l,f.nextSibling);return}zue().appendChild(l)}var LYe=Gue(function(){var l=document.querySelector('meta[property="csp-nonce"]');return l?l.getAttribute("content"):null}),tae=function(o,a,u){try{"insertRule"in o?o.insertRule(a,u):"appendRule"in o&&o.appendRule(a)}catch{return!1}return o.cssRules[u]},rae=function(o,a){var u=o.cssRules.length;return a===void 0||a>u?u:a},BYe=function(){var o=document.createElement("style");return o.textContent=`
`,o},FYe=(function(){function l(a){this.getPropertyValue=xYe,this.setProperty=IYe,this.removeProperty=DYe,this.setSelector=OYe,this.hasInsertedRules=!1,this.cssRules=[],a&&sA.add(a),this.sheet=a;var u=this.sheet?this.sheet.options:{},f=u.media,g=u.meta,v=u.element;this.element=v||BYe(),this.element.setAttribute("data-jss",""),f&&this.element.setAttribute("media",f),g&&this.element.setAttribute("data-meta",g);var S=LYe();S&&this.element.setAttribute("nonce",S)}var o=l.prototype;return o.attach=function(){if(!(this.element.parentNode||!this.sheet)){MYe(this.element,this.sheet.options);var u=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&u&&(this.hasInsertedRules=!1,this.deploy())}},o.detach=function(){if(this.sheet){var u=this.element.parentNode;u&&u.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},o.deploy=function(){var u=this.sheet;if(u){if(u.options.link){this.insertRules(u.rules);return}this.element.textContent=`
`+u.toString()+`
`}},o.insertRules=function(u,f){for(var g=0;g<u.index.length;g++)this.insertRule(u.index[g],g,f)},o.insertRule=function(u,f,g){if(g===void 0&&(g=this.element.sheet),u.rules){var v=u,S=g;if(u.type==="conditional"||u.type==="keyframes"){var w=rae(g,f);if(S=tae(g,v.toString({children:!1}),w),S===!1)return!1;this.refCssRule(u,w,S)}return this.insertRules(v.rules,S),S}var I=u.toString();if(!I)return!1;var k=rae(g,f),F=tae(g,I,k);return F===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(u,k,F),F)},o.refCssRule=function(u,f,g){u.renderable=g,u.options.parent instanceof $ue&&this.cssRules.splice(f,0,g)},o.deleteRule=function(u){var f=this.element.sheet,g=this.indexOf(u);return g===-1?!1:(f.deleteRule(g),this.cssRules.splice(g,1),!0)},o.indexOf=function(u){return this.cssRules.indexOf(u)},o.replaceRule=function(u,f){var g=this.indexOf(u);return g===-1?!1:(this.element.sheet.deleteRule(g),this.cssRules.splice(g,1),this.insertRule(f,g))},o.getRules=function(){return this.element.sheet.cssRules},l})(),UYe=0,HYe=(function(){function l(a){this.id=UYe++,this.version="10.10.0",this.plugins=new AYe,this.options={id:{minify:!1},createGenerateId:eae,Renderer:kA?FYe:null,plugins:[]},this.generateId=eae({minify:!1});for(var u=0;u<Zie.length;u++)this.plugins.use(Zie[u],{queue:"internal"});this.setup(a)}var o=l.prototype;return o.setup=function(u){return u===void 0&&(u={}),u.createGenerateId&&(this.options.createGenerateId=u.createGenerateId),u.id&&(this.options.id=Rt({},this.options.id,u.id)),(u.createGenerateId||u.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),u.insertionPoint!=null&&(this.options.insertionPoint=u.insertionPoint),"Renderer"in u&&(this.options.Renderer=u.Renderer),u.plugins&&this.use.apply(this,u.plugins),this},o.createStyleSheet=function(u,f){f===void 0&&(f={});var g=f,v=g.index;typeof v!="number"&&(v=sA.index===0?0:sA.index+1);var S=new $ue(u,Rt({},f,{jss:this,generateId:f.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:v}));return this.plugins.onProcessSheet(S),S},o.removeStyleSheet=function(u){return u.detach(),sA.remove(u),this},o.createRule=function(u,f,g){if(f===void 0&&(f={}),g===void 0&&(g={}),typeof u=="object")return this.createRule(void 0,u,f);var v=Rt({},g,{name:u,jss:this,Renderer:this.options.Renderer});v.generateId||(v.generateId=this.generateId),v.classes||(v.classes={}),v.keyframes||(v.keyframes={});var S=l$(u,f,v);return S&&this.plugins.onProcessRule(S),S},o.use=function(){for(var u=this,f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];return g.forEach(function(S){u.plugins.use(S)}),this},l})(),c$=function(o){return new HYe(o)},h$=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function jue(l){var o=null;for(var a in l){var u=l[a],f=typeof u;if(f==="function")o||(o={}),o[a]=u;else if(f==="object"&&u!==null&&!Array.isArray(u)){var g=jue(u);g&&(o||(o={}),o[a]=g)}}return o}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */c$();var Vue=Date.now(),v4="fnValues"+Vue,y4="fnStyle"+ ++Vue,$Ye=function(){return{onCreateRule:function(a,u,f){if(typeof u!="function")return null;var g=l$(a,{},f);return g[y4]=u,g},onProcessStyle:function(a,u){if(v4 in u||y4 in u)return a;var f={};for(var g in a){var v=a[g];typeof v=="function"&&(delete a[g],f[g]=v)}return u[v4]=f,a},onUpdate:function(a,u,f,g){var v=u,S=v[y4];S&&(v.style=S(a)||{});var w=v[v4];if(w)for(var I in w)v.prop(I,w[I](a),g)}}},Kp="@global",WU="@global ",GYe=(function(){function l(a,u,f){this.type="global",this.at=Kp,this.isProcessed=!1,this.key=a,this.options=f,this.rules=new cR(Rt({},f,{parent:this}));for(var g in u)this.rules.add(g,u[g]);this.rules.process()}var o=l.prototype;return o.getRule=function(u){return this.rules.get(u)},o.addRule=function(u,f,g){var v=this.rules.add(u,f,g);return v&&this.options.jss.plugins.onProcessRule(v),v},o.replaceRule=function(u,f,g){var v=this.rules.replace(u,f,g);return v&&this.options.jss.plugins.onProcessRule(v),v},o.indexOf=function(u){return this.rules.indexOf(u)},o.toString=function(u){return this.rules.toString(u)},l})(),zYe=(function(){function l(a,u,f){this.type="global",this.at=Kp,this.isProcessed=!1,this.key=a,this.options=f;var g=a.substr(WU.length);this.rule=f.jss.createRule(g,u,Rt({},f,{parent:this}))}var o=l.prototype;return o.toString=function(u){return this.rule?this.rule.toString(u):""},l})(),jYe=/\s*,\s*/g;function Wue(l,o){for(var a=l.split(jYe),u="",f=0;f<a.length;f++)u+=o+" "+a[f].trim(),a[f+1]&&(u+=", ");return u}function VYe(l,o){var a=l.options,u=l.style,f=u?u[Kp]:null;if(f){for(var g in f)o.addRule(g,f[g],Rt({},a,{selector:Wue(g,l.selector)}));delete u[Kp]}}function WYe(l,o){var a=l.options,u=l.style;for(var f in u)if(!(f[0]!=="@"||f.substr(0,Kp.length)!==Kp)){var g=Wue(f.substr(Kp.length),l.selector);o.addRule(g,u[f],Rt({},a,{selector:g})),delete u[f]}}function YYe(){function l(a,u,f){if(!a)return null;if(a===Kp)return new GYe(a,u,f);if(a[0]==="@"&&a.substr(0,WU.length)===WU)return new zYe(a,u,f);var g=f.parent;return g&&(g.type==="global"||g.options.parent&&g.options.parent.type==="global")&&(f.scoped=!1),!f.selector&&f.scoped===!1&&(f.selector=a),null}function o(a,u){a.type!=="style"||!u||(VYe(a,u),WYe(a,u))}return{onCreateRule:l,onProcessRule:o}}var nae=/\s*,\s*/g,XYe=/&/g,qYe=/\$([\w-]+)/g;function KYe(){function l(f,g){return function(v,S){var w=f.getRule(S)||g&&g.getRule(S);return w?w.selector:S}}function o(f,g){for(var v=g.split(nae),S=f.split(nae),w="",I=0;I<v.length;I++)for(var k=v[I],F=0;F<S.length;F++){var U=S[F];w&&(w+=", "),w+=U.indexOf("&")!==-1?U.replace(XYe,k):k+" "+U}return w}function a(f,g,v){if(v)return Rt({},v,{index:v.index+1});var S=f.options.nestingLevel;S=S===void 0?1:S+1;var w=Rt({},f.options,{nestingLevel:S,index:g.indexOf(f)+1});return delete w.name,w}function u(f,g,v){if(g.type!=="style")return f;var S=g,w=S.options.parent,I,k;for(var F in f){var U=F.indexOf("&")!==-1,N=F[0]==="@";if(!(!U&&!N)){if(I=a(S,w,I),U){var H=o(F,S.selector);k||(k=l(w,v)),H=H.replace(qYe,k);var q=S.key+"-"+F;"replaceRule"in w?w.replaceRule(q,f[F],Rt({},I,{selector:H})):w.addRule(q,f[F],Rt({},I,{selector:H}))}else N&&w.addRule(F,{},I).addRule(S.key,f[F],{selector:S.selector});delete f[F]}}return f}return{onProcessStyle:u}}var ZYe=/[A-Z]/g,QYe=/^ms-/,_4={};function JYe(l){return"-"+l.toLowerCase()}function Yue(l){if(_4.hasOwnProperty(l))return _4[l];var o=l.replace(ZYe,JYe);return _4[l]=QYe.test(o)?"-"+o:o}function zP(l){var o={};for(var a in l){var u=a.indexOf("--")===0?a:Yue(a);o[u]=l[a]}return l.fallbacks&&(Array.isArray(l.fallbacks)?o.fallbacks=l.fallbacks.map(zP):o.fallbacks=zP(l.fallbacks)),o}function eXe(){function l(a){if(Array.isArray(a)){for(var u=0;u<a.length;u++)a[u]=zP(a[u]);return a}return zP(a)}function o(a,u,f){if(u.indexOf("--")===0)return a;var g=Yue(u);return u===g?a:(f.prop(g,a),null)}return{onProcessStyle:l,onChangeValue:o}}var Ht=h$&&CSS?CSS.px:"px",Kk=h$&&CSS?CSS.ms:"ms",M_=h$&&CSS?CSS.percent:"%",tXe={"animation-delay":Kk,"animation-duration":Kk,"background-position":Ht,"background-position-x":Ht,"background-position-y":Ht,"background-size":Ht,border:Ht,"border-bottom":Ht,"border-bottom-left-radius":Ht,"border-bottom-right-radius":Ht,"border-bottom-width":Ht,"border-left":Ht,"border-left-width":Ht,"border-radius":Ht,"border-right":Ht,"border-right-width":Ht,"border-top":Ht,"border-top-left-radius":Ht,"border-top-right-radius":Ht,"border-top-width":Ht,"border-width":Ht,"border-block":Ht,"border-block-end":Ht,"border-block-end-width":Ht,"border-block-start":Ht,"border-block-start-width":Ht,"border-block-width":Ht,"border-inline":Ht,"border-inline-end":Ht,"border-inline-end-width":Ht,"border-inline-start":Ht,"border-inline-start-width":Ht,"border-inline-width":Ht,"border-start-start-radius":Ht,"border-start-end-radius":Ht,"border-end-start-radius":Ht,"border-end-end-radius":Ht,margin:Ht,"margin-bottom":Ht,"margin-left":Ht,"margin-right":Ht,"margin-top":Ht,"margin-block":Ht,"margin-block-end":Ht,"margin-block-start":Ht,"margin-inline":Ht,"margin-inline-end":Ht,"margin-inline-start":Ht,padding:Ht,"padding-bottom":Ht,"padding-left":Ht,"padding-right":Ht,"padding-top":Ht,"padding-block":Ht,"padding-block-end":Ht,"padding-block-start":Ht,"padding-inline":Ht,"padding-inline-end":Ht,"padding-inline-start":Ht,"mask-position-x":Ht,"mask-position-y":Ht,"mask-size":Ht,height:Ht,width:Ht,"min-height":Ht,"max-height":Ht,"min-width":Ht,"max-width":Ht,bottom:Ht,left:Ht,top:Ht,right:Ht,inset:Ht,"inset-block":Ht,"inset-block-end":Ht,"inset-block-start":Ht,"inset-inline":Ht,"inset-inline-end":Ht,"inset-inline-start":Ht,"box-shadow":Ht,"text-shadow":Ht,"column-gap":Ht,"column-rule":Ht,"column-rule-width":Ht,"column-width":Ht,"font-size":Ht,"font-size-delta":Ht,"letter-spacing":Ht,"text-decoration-thickness":Ht,"text-indent":Ht,"text-stroke":Ht,"text-stroke-width":Ht,"word-spacing":Ht,motion:Ht,"motion-offset":Ht,outline:Ht,"outline-offset":Ht,"outline-width":Ht,perspective:Ht,"perspective-origin-x":M_,"perspective-origin-y":M_,"transform-origin":M_,"transform-origin-x":M_,"transform-origin-y":M_,"transform-origin-z":M_,"transition-delay":Kk,"transition-duration":Kk,"vertical-align":Ht,"flex-basis":Ht,"shape-margin":Ht,size:Ht,gap:Ht,grid:Ht,"grid-gap":Ht,"row-gap":Ht,"grid-row-gap":Ht,"grid-column-gap":Ht,"grid-template-rows":Ht,"grid-template-columns":Ht,"grid-auto-rows":Ht,"grid-auto-columns":Ht,"box-shadow-x":Ht,"box-shadow-y":Ht,"box-shadow-blur":Ht,"box-shadow-spread":Ht,"font-line-height":Ht,"text-shadow-x":Ht,"text-shadow-y":Ht,"text-shadow-blur":Ht};function Xue(l){var o=/(-[a-z])/g,a=function(v){return v[1].toUpperCase()},u={};for(var f in l)u[f]=l[f],u[f.replace(o,a)]=l[f];return u}var rXe=Xue(tXe);function lA(l,o,a){if(o==null)return o;if(Array.isArray(o))for(var u=0;u<o.length;u++)o[u]=lA(l,o[u],a);else if(typeof o=="object")if(l==="fallbacks")for(var f in o)o[f]=lA(f,o[f],a);else for(var g in o)o[g]=lA(l+"-"+g,o[g],a);else if(typeof o=="number"&&isNaN(o)===!1){var v=a[l]||rXe[l];return v&&!(o===0&&v===Ht)?typeof v=="function"?v(o).toString():""+o+v:o.toString()}return o}function nXe(l){l===void 0&&(l={});var o=Xue(l);function a(f,g){if(g.type!=="style")return f;for(var v in f)f[v]=lA(v,f[v],o);return f}function u(f,g){return lA(g,f,o)}return{onProcessStyle:a,onChangeValue:u}}var eA="",YU="",que="",Kue="",iXe=kA&&"ontouchstart"in document.documentElement;if(kA){var E4={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},aXe=document.createElement("p"),T4=aXe.style,oXe="Transform";for(var b4 in E4)if(b4+oXe in T4){eA=b4,YU=E4[b4];break}eA==="Webkit"&&"msHyphens"in T4&&(eA="ms",YU=E4.ms,Kue="edge"),eA==="Webkit"&&"-apple-trailing-word"in T4&&(que="apple")}var pn={js:eA,css:YU,vendor:que,browser:Kue,isTouch:iXe};function sXe(l){return l[1]==="-"||pn.js==="ms"?l:"@"+pn.css+"keyframes"+l.substr(10)}var lXe={noPrefill:["appearance"],supportedProperty:function(o){return o!=="appearance"?!1:pn.js==="ms"?"-webkit-"+o:pn.css+o}},uXe={noPrefill:["color-adjust"],supportedProperty:function(o){return o!=="color-adjust"?!1:pn.js==="Webkit"?pn.css+"print-"+o:o}},cXe=/[-\s]+(.)?/g;function hXe(l,o){return o?o.toUpperCase():""}function f$(l){return l.replace(cXe,hXe)}function em(l){return f$("-"+l)}var fXe={noPrefill:["mask"],supportedProperty:function(o,a){if(!/^mask/.test(o))return!1;if(pn.js==="Webkit"){var u="mask-image";if(f$(u)in a)return o;if(pn.js+em(u)in a)return pn.css+o}return o}},dXe={noPrefill:["text-orientation"],supportedProperty:function(o){return o!=="text-orientation"?!1:pn.vendor==="apple"&&!pn.isTouch?pn.css+o:o}},pXe={noPrefill:["transform"],supportedProperty:function(o,a,u){return o!=="transform"?!1:u.transform?o:pn.css+o}},mXe={noPrefill:["transition"],supportedProperty:function(o,a,u){return o!=="transition"?!1:u.transition?o:pn.css+o}},gXe={noPrefill:["writing-mode"],supportedProperty:function(o){return o!=="writing-mode"?!1:pn.js==="Webkit"||pn.js==="ms"&&pn.browser!=="edge"?pn.css+o:o}},vXe={noPrefill:["user-select"],supportedProperty:function(o){return o!=="user-select"?!1:pn.js==="Moz"||pn.js==="ms"||pn.vendor==="apple"?pn.css+o:o}},yXe={supportedProperty:function(o,a){if(!/^break-/.test(o))return!1;if(pn.js==="Webkit"){var u="WebkitColumn"+em(o);return u in a?pn.css+"column-"+o:!1}if(pn.js==="Moz"){var f="page"+em(o);return f in a?"page-"+o:!1}return!1}},_Xe={supportedProperty:function(o,a){if(!/^(border|margin|padding)-inline/.test(o))return!1;if(pn.js==="Moz")return o;var u=o.replace("-inline","");return pn.js+em(u)in a?pn.css+u:!1}},EXe={supportedProperty:function(o,a){return f$(o)in a?o:!1}},TXe={supportedProperty:function(o,a){var u=em(o);return o[0]==="-"||o[0]==="-"&&o[1]==="-"?o:pn.js+u in a?pn.css+o:pn.js!=="Webkit"&&"Webkit"+u in a?"-webkit-"+o:!1}},bXe={supportedProperty:function(o){return o.substring(0,11)!=="scroll-snap"?!1:pn.js==="ms"?""+pn.css+o:o}},SXe={supportedProperty:function(o){return o!=="overscroll-behavior"?!1:pn.js==="ms"?pn.css+"scroll-chaining":o}},CXe={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},AXe={supportedProperty:function(o,a){var u=CXe[o];return u&&pn.js+em(u)in a?pn.css+u:!1}},Zue={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},wXe=Object.keys(Zue),xXe=function(o){return pn.css+o},IXe={supportedProperty:function(o,a,u){var f=u.multiple;if(wXe.indexOf(o)>-1){var g=Zue[o];if(!Array.isArray(g))return pn.js+em(g)in a?pn.css+g:!1;if(!f)return!1;for(var v=0;v<g.length;v++)if(!(pn.js+em(g[0])in a))return!1;return g.map(xXe)}return!1}},Que=[lXe,uXe,fXe,dXe,pXe,mXe,gXe,vXe,yXe,_Xe,EXe,TXe,bXe,SXe,AXe,IXe],iae=Que.filter(function(l){return l.supportedProperty}).map(function(l){return l.supportedProperty}),DXe=Que.filter(function(l){return l.noPrefill}).reduce(function(l,o){return l.push.apply(l,a$(o.noPrefill)),l},[]),tA,kv={};if(kA){tA=document.createElement("p");var S4=window.getComputedStyle(document.documentElement,"");for(var C4 in S4)isNaN(C4)||(kv[S4[C4]]=S4[C4]);DXe.forEach(function(l){return delete kv[l]})}function XU(l,o){if(o===void 0&&(o={}),!tA)return l;if(kv[l]!=null)return kv[l];(l==="transition"||l==="transform")&&(o[l]=l in tA.style);for(var a=0;a<iae.length&&(kv[l]=iae[a](l,tA.style,o),!kv[l]);a++);try{tA.style[l]=""}catch{return!1}return kv[l]}var L_={},OXe={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},kXe=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Xp;function PXe(l,o,a){if(o==="var")return"var";if(o==="all")return"all";if(a==="all")return", all";var u=o?XU(o):", "+XU(a);return u||o||a}kA&&(Xp=document.createElement("p"));function aae(l,o){var a=o;if(!Xp||l==="content")return o;if(typeof a!="string"||!isNaN(parseInt(a,10)))return a;var u=l+a;if(L_[u]!=null)return L_[u];try{Xp.style[l]=a}catch{return L_[u]=!1,!1}if(OXe[l])a=a.replace(kXe,PXe);else if(Xp.style[l]===""&&(a=pn.css+a,a==="-ms-flex"&&(Xp.style[l]="-ms-flexbox"),Xp.style[l]=a,Xp.style[l]===""))return L_[u]=!1,!1;return Xp.style[l]="",L_[u]=a,L_[u]}function RXe(){function l(f){if(f.type==="keyframes"){var g=f;g.at=sXe(g.at)}}function o(f){for(var g in f){var v=f[g];if(g==="fallbacks"&&Array.isArray(v)){f[g]=v.map(o);continue}var S=!1,w=XU(g);w&&w!==g&&(S=!0);var I=!1,k=aae(w,Uv(v));k&&k!==v&&(I=!0),(S||I)&&(S&&delete f[g],f[w||g]=k||v)}return f}function a(f,g){return g.type!=="style"?f:o(f)}function u(f,g){return aae(g,Uv(f))||f}return{onProcessRule:l,onProcessStyle:a,onChangeValue:u}}function NXe(){var l=function(a,u){return a.length===u.length?a>u?1:-1:a.length-u.length};return{onProcessStyle:function(a,u){if(u.type!=="style")return a;for(var f={},g=Object.keys(a).sort(l),v=0;v<g.length;v++)f[g[v]]=a[g[v]];return f}}}function Jue(){return{plugins:[$Ye(),YYe(),KYe(),eXe(),nXe(),typeof window>"u"?null:RXe(),NXe()]}}function d$(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=l.baseClasses,a=l.newClasses;if(l.Component,!a)return o;var u=Rt({},o);return Object.keys(a).forEach(function(f){a[f]&&(u[f]="".concat(o[f]," ").concat(a[f]))}),u}var V_={set:function(o,a,u,f){var g=o.get(a);g||(g=new Map,o.set(a,g)),g.set(u,f)},get:function(o,a,u){var f=o.get(a);return f?f.get(u):void 0},delete:function(o,a,u){var f=o.get(a);f.delete(u)}},ece=_r.createContext(null);function PA(){var l=_r.useContext(ece);return l}var MXe=c$(Jue()),LXe=Fue(),BXe=new Map,FXe={disableGeneration:!1,generateClassName:LXe,jss:MXe,sheetsCache:null,sheetsManager:BXe,sheetsRegistry:null},qU=_r.createContext(FXe),Zk;function UXe(l){var o=l.children,a=l.injectFirst,u=a===void 0?!1:a,f=l.disableGeneration,g=f===void 0?!1:f,v=Zr(l,["children","injectFirst","disableGeneration"]),S=_r.useContext(qU),w=Rt({},S,{disableGeneration:g},v);if(!w.jss.options.insertionPoint&&u&&typeof window<"u"){if(!Zk){var I=document.head;Zk=document.createComment("mui-inject-first"),I.insertBefore(Zk,I.firstChild)}w.jss=c$({plugins:Jue().plugins,insertionPoint:Zk})}return _r.createElement(qU.Provider,{value:w},o)}var oae=-1e9;function HXe(){return oae+=1,oae}var $Xe={};function GXe(l){var o=typeof l=="function";return{create:function(u,f){var g;try{g=o?l(u):l}catch(w){throw w}if(!f||!u.overrides||!u.overrides[f])return g;var v=u.overrides[f],S=Rt({},g);return Object.keys(v).forEach(function(w){S[w]=Y_(S[w],v[w])}),S},options:{}}}function zXe(l,o,a){var u=l.state,f=l.stylesOptions;if(f.disableGeneration)return o||{};u.cacheClasses||(u.cacheClasses={value:null,lastProp:null,lastJSS:{}});var g=!1;return u.classes!==u.cacheClasses.lastJSS&&(u.cacheClasses.lastJSS=u.classes,g=!0),o!==u.cacheClasses.lastProp&&(u.cacheClasses.lastProp=o,g=!0),g&&(u.cacheClasses.value=d$({baseClasses:u.cacheClasses.lastJSS,newClasses:o,Component:a})),u.cacheClasses.value}function jXe(l,o){var a=l.state,u=l.theme,f=l.stylesOptions,g=l.stylesCreator,v=l.name;if(!f.disableGeneration){var S=V_.get(f.sheetsManager,g,u);S||(S={refs:0,staticSheet:null,dynamicStyles:null},V_.set(f.sheetsManager,g,u,S));var w=Rt({},g.options,f,{theme:u,flip:typeof f.flip=="boolean"?f.flip:u.direction==="rtl"});w.generateId=w.serverGenerateClassName||w.generateClassName;var I=f.sheetsRegistry;if(S.refs===0){var k;f.sheetsCache&&(k=V_.get(f.sheetsCache,g,u));var F=g.create(u,v);k||(k=f.jss.createStyleSheet(F,Rt({link:!1},w)),k.attach(),f.sheetsCache&&V_.set(f.sheetsCache,g,u,k)),I&&I.add(k),S.staticSheet=k,S.dynamicStyles=jue(F)}if(S.dynamicStyles){var U=f.jss.createStyleSheet(S.dynamicStyles,Rt({link:!0},w));U.update(o),U.attach(),a.dynamicSheet=U,a.classes=d$({baseClasses:S.staticSheet.classes,newClasses:U.classes}),I&&I.add(U)}else a.classes=S.staticSheet.classes;S.refs+=1}}function VXe(l,o){var a=l.state;a.dynamicSheet&&a.dynamicSheet.update(o)}function WXe(l){var o=l.state,a=l.theme,u=l.stylesOptions,f=l.stylesCreator;if(!u.disableGeneration){var g=V_.get(u.sheetsManager,f,a);g.refs-=1;var v=u.sheetsRegistry;g.refs===0&&(V_.delete(u.sheetsManager,f,a),u.jss.removeStyleSheet(g.staticSheet),v&&v.remove(g.staticSheet)),o.dynamicSheet&&(u.jss.removeStyleSheet(o.dynamicSheet),v&&v.remove(o.dynamicSheet))}}function YXe(l,o){var a=_r.useRef([]),u,f=_r.useMemo(function(){return{}},o);a.current!==f&&(a.current=f,u=l()),_r.useEffect(function(){return function(){u&&u()}},[f])}function tce(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.name,u=o.classNamePrefix,f=o.Component,g=o.defaultTheme,v=g===void 0?$Xe:g,S=Zr(o,["name","classNamePrefix","Component","defaultTheme"]),w=GXe(l),I=a||u||"makeStyles";w.options={index:HXe(),name:a,meta:I,classNamePrefix:I};var k=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=PA()||v,H=Rt({},_r.useContext(qU),S),q=_r.useRef(),j=_r.useRef();YXe(function(){var he={name:a,state:{},stylesCreator:w,stylesOptions:H,theme:N};return jXe(he,U),j.current=!1,q.current=he,function(){WXe(he)}},[N,w]),_r.useEffect(function(){j.current&&VXe(q.current,U),j.current=!0});var se=zXe(q.current,U.classes,f);return se};return k}function XXe(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function rce(l){var o,a,u="";if(typeof l=="string"||typeof l=="number")u+=l;else if(typeof l=="object")if(Array.isArray(l))for(o=0;o<l.length;o++)l[o]&&(a=rce(l[o]))&&(u&&(u+=" "),u+=a);else for(o in l)l[o]&&(u&&(u+=" "),u+=o);return u}function jr(){for(var l,o,a=0,u="";a<arguments.length;)(l=arguments[a++])&&(o=rce(l))&&(u&&(u+=" "),u+=o);return u}var A4={exports:{}},di={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sae;function qXe(){if(sae)return di;sae=1;var l=typeof Symbol=="function"&&Symbol.for,o=l?Symbol.for("react.element"):60103,a=l?Symbol.for("react.portal"):60106,u=l?Symbol.for("react.fragment"):60107,f=l?Symbol.for("react.strict_mode"):60108,g=l?Symbol.for("react.profiler"):60114,v=l?Symbol.for("react.provider"):60109,S=l?Symbol.for("react.context"):60110,w=l?Symbol.for("react.async_mode"):60111,I=l?Symbol.for("react.concurrent_mode"):60111,k=l?Symbol.for("react.forward_ref"):60112,F=l?Symbol.for("react.suspense"):60113,U=l?Symbol.for("react.suspense_list"):60120,N=l?Symbol.for("react.memo"):60115,H=l?Symbol.for("react.lazy"):60116,q=l?Symbol.for("react.block"):60121,j=l?Symbol.for("react.fundamental"):60117,se=l?Symbol.for("react.responder"):60118,he=l?Symbol.for("react.scope"):60119;function oe(X){if(typeof X=="object"&&X!==null){var de=X.$$typeof;switch(de){case o:switch(X=X.type,X){case w:case I:case u:case g:case f:case F:return X;default:switch(X=X&&X.$$typeof,X){case S:case k:case H:case N:case v:return X;default:return de}}case a:return de}}}function ue(X){return oe(X)===I}return di.AsyncMode=w,di.ConcurrentMode=I,di.ContextConsumer=S,di.ContextProvider=v,di.Element=o,di.ForwardRef=k,di.Fragment=u,di.Lazy=H,di.Memo=N,di.Portal=a,di.Profiler=g,di.StrictMode=f,di.Suspense=F,di.isAsyncMode=function(X){return ue(X)||oe(X)===w},di.isConcurrentMode=ue,di.isContextConsumer=function(X){return oe(X)===S},di.isContextProvider=function(X){return oe(X)===v},di.isElement=function(X){return typeof X=="object"&&X!==null&&X.$$typeof===o},di.isForwardRef=function(X){return oe(X)===k},di.isFragment=function(X){return oe(X)===u},di.isLazy=function(X){return oe(X)===H},di.isMemo=function(X){return oe(X)===N},di.isPortal=function(X){return oe(X)===a},di.isProfiler=function(X){return oe(X)===g},di.isStrictMode=function(X){return oe(X)===f},di.isSuspense=function(X){return oe(X)===F},di.isValidElementType=function(X){return typeof X=="string"||typeof X=="function"||X===u||X===I||X===g||X===f||X===F||X===U||typeof X=="object"&&X!==null&&(X.$$typeof===H||X.$$typeof===N||X.$$typeof===v||X.$$typeof===S||X.$$typeof===k||X.$$typeof===j||X.$$typeof===se||X.$$typeof===he||X.$$typeof===q)},di.typeOf=oe,di}var lae;function KXe(){return lae||(lae=1,A4.exports=qXe()),A4.exports}var w4,uae;function ZXe(){if(uae)return w4;uae=1;var l=KXe(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},f={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g={};g[l.ForwardRef]=u,g[l.Memo]=f;function v(H){return l.isMemo(H)?f:g[H.$$typeof]||o}var S=Object.defineProperty,w=Object.getOwnPropertyNames,I=Object.getOwnPropertySymbols,k=Object.getOwnPropertyDescriptor,F=Object.getPrototypeOf,U=Object.prototype;function N(H,q,j){if(typeof q!="string"){if(U){var se=F(q);se&&se!==U&&N(H,se,j)}var he=w(q);I&&(he=he.concat(I(q)));for(var oe=v(H),ue=v(q),X=0;X<he.length;++X){var de=he[X];if(!a[de]&&!(j&&j[de])&&!(ue&&ue[de])&&!(oe&&oe[de])){var fe=k(q,de);try{S(H,de,fe)}catch{}}}}return H}return w4=N,w4}var QXe=ZXe();const JXe=nm(QXe);function eqe(l,o){if(typeof o=="function"){var a=o(l);return a}return Rt({},l,o)}function tqe(l){var o=l.children,a=l.theme,u=PA(),f=_r.useMemo(function(){var g=u===null?a:eqe(u,a);return g!=null&&(g[Bue]=u!==null),g},[a,u]);return _r.createElement(ece.Provider,{value:f},o)}var rqe=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(u){var f=a.defaultTheme,g=a.withTheme,v=g===void 0?!1:g,S=a.name,w=Zr(a,["defaultTheme","withTheme","name"]),I=S,k=tce(o,Rt({defaultTheme:f,Component:u,name:S||u.displayName,classNamePrefix:I},w)),F=_r.forwardRef(function(N,H){N.classes;var q=N.innerRef,j=Zr(N,["classes","innerRef"]),se=k(Rt({},u.defaultProps,N)),he,oe=j;return(typeof S=="string"||v)&&(he=PA()||f,S&&(oe=Uue({theme:he,name:S,props:j})),v&&!oe.theme&&(oe.theme=he)),_r.createElement(u,Rt({ref:q||H,classes:se},oe))});return JXe(F,u),F}},p$=JWe();function nqe(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return tce(l,Rt({defaultTheme:p$},o))}function hR(){var l=PA()||p$;return l}function hi(l,o){return rqe(l,Rt({defaultTheme:p$},o))}function ci(l){if(typeof l!="string")throw new Error(X_(7));return l.charAt(0).toUpperCase()+l.slice(1)}function q_(){for(var l=arguments.length,o=new Array(l),a=0;a<l;a++)o[a]=arguments[a];return o.reduce(function(u,f){return f==null?u:function(){for(var v=arguments.length,S=new Array(v),w=0;w<v;w++)S[w]=arguments[w];u.apply(this,S),f.apply(this,S)}},function(){})}var iqe=function(o){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:o.typography.pxToRem(24),transition:o.transitions.create("fill",{duration:o.transitions.duration.shorter})},colorPrimary:{color:o.palette.primary.main},colorSecondary:{color:o.palette.secondary.main},colorAction:{color:o.palette.action.active},colorError:{color:o.palette.error.main},colorDisabled:{color:o.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:o.typography.pxToRem(20)},fontSizeLarge:{fontSize:o.typography.pxToRem(35)}}},nce=we.forwardRef(function(o,a){var u=o.children,f=o.classes,g=o.className,v=o.color,S=v===void 0?"inherit":v,w=o.component,I=w===void 0?"svg":w,k=o.fontSize,F=k===void 0?"medium":k,U=o.htmlColor,N=o.titleAccess,H=o.viewBox,q=H===void 0?"0 0 24 24":H,j=Zr(o,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return we.createElement(I,Rt({className:jr(f.root,g,S!=="inherit"&&f["color".concat(ci(S))],F!=="default"&&F!=="medium"&&f["fontSize".concat(ci(F))]),focusable:"false",viewBox:q,color:U,"aria-hidden":N?void 0:!0,role:N?"img":void 0,ref:a},j),u,N?we.createElement("title",null,N):null)});nce.muiName="SvgIcon";const cae=hi(iqe,{name:"MuiSvgIcon"})(nce);function m$(l,o){var a=function(f,g){return _r.createElement(cae,Rt({ref:g},f),l)};return a.muiName=cae.muiName,_r.memo(_r.forwardRef(a))}function g$(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,a;function u(){for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];var S=this,w=function(){l.apply(S,g)};clearTimeout(a),a=setTimeout(w,o)}return u.clear=function(){clearTimeout(a)},u}function aqe(l,o){return function(){return null}}function uA(l,o){return we.isValidElement(l)&&o.indexOf(l.type.muiName)!==-1}function Kl(l){return l&&l.ownerDocument||document}function v$(l){var o=Kl(l);return o.defaultView||window}function oqe(l){return function(){return null}}function K_(l,o){typeof l=="function"?l(o):l&&(l.current=o)}function sqe(l,o,a,u,f){return null}function ice(l){var o=l.controlled,a=l.default;l.name,l.state;var u=we.useRef(o!==void 0),f=u.current,g=we.useState(a),v=g[0],S=g[1],w=f?o:v,I=we.useCallback(function(k){f||S(k)},[]);return[w,I]}var lqe=typeof window<"u"?we.useLayoutEffect:we.useEffect;function kc(l){var o=we.useRef(l);return lqe(function(){o.current=l}),we.useCallback(function(){return o.current.apply(void 0,arguments)},[])}function qa(l,o){return we.useMemo(function(){return l==null&&o==null?null:function(a){K_(l,a),K_(o,a)}},[l,o])}function uqe(l){var o=we.useState(l),a=o[0],u=o[1],f=l||a;return we.useEffect(function(){a==null&&u("mui-".concat(Math.round(Math.random()*1e5)))},[a]),f}var fR=!0,KU=!1,hae=null,cqe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function hqe(l){var o=l.type,a=l.tagName;return!!(a==="INPUT"&&cqe[o]&&!l.readOnly||a==="TEXTAREA"&&!l.readOnly||l.isContentEditable)}function fqe(l){l.metaKey||l.altKey||l.ctrlKey||(fR=!0)}function x4(){fR=!1}function dqe(){this.visibilityState==="hidden"&&KU&&(fR=!0)}function pqe(l){l.addEventListener("keydown",fqe,!0),l.addEventListener("mousedown",x4,!0),l.addEventListener("pointerdown",x4,!0),l.addEventListener("touchstart",x4,!0),l.addEventListener("visibilitychange",dqe,!0)}function mqe(l){var o=l.target;try{return o.matches(":focus-visible")}catch{}return fR||hqe(o)}function gqe(){KU=!0,window.clearTimeout(hae),hae=window.setTimeout(function(){KU=!1},100)}function ace(){var l=we.useCallback(function(o){var a=Mu.findDOMNode(o);a!=null&&pqe(a.ownerDocument)},[]);return{isFocusVisible:mqe,onBlurVisible:gqe,ref:l}}const vqe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ci,createChainedFunction:q_,createSvgIcon:m$,debounce:g$,deprecatedPropType:aqe,isMuiElement:uA,ownerDocument:Kl,ownerWindow:v$,requirePropFactory:oqe,setRef:K_,unstable_useId:uqe,unsupportedProp:sqe,useControlled:ice,useEventCallback:kc,useForkRef:qa,useIsFocusVisible:ace},Symbol.toStringTag,{value:"Module"})),fae={disabled:!1},jP=_r.createContext(null);var yqe=function(o){return o.scrollTop},rA="unmounted",Cv="exited",Av="entering",j_="entered",ZU="exiting",ef=(function(l){uR(o,l);function o(u,f){var g;g=l.call(this,u,f)||this;var v=f,S=v&&!v.isMounting?u.enter:u.appear,w;return g.appearStatus=null,u.in?S?(w=Cv,g.appearStatus=Av):w=j_:u.unmountOnExit||u.mountOnEnter?w=rA:w=Cv,g.state={status:w},g.nextCallback=null,g}o.getDerivedStateFromProps=function(f,g){var v=f.in;return v&&g.status===rA?{status:Cv}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(f){var g=null;if(f!==this.props){var v=this.state.status;this.props.in?v!==Av&&v!==j_&&(g=Av):(v===Av||v===j_)&&(g=ZU)}this.updateStatus(!1,g)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var f=this.props.timeout,g,v,S;return g=v=S=f,f!=null&&typeof f!="number"&&(g=f.exit,v=f.enter,S=f.appear!==void 0?f.appear:v),{exit:g,enter:v,appear:S}},a.updateStatus=function(f,g){if(f===void 0&&(f=!1),g!==null)if(this.cancelNextCallback(),g===Av){if(this.props.unmountOnExit||this.props.mountOnEnter){var v=this.props.nodeRef?this.props.nodeRef.current:JC.findDOMNode(this);v&&yqe(v)}this.performEnter(f)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cv&&this.setState({status:rA})},a.performEnter=function(f){var g=this,v=this.props.enter,S=this.context?this.context.isMounting:f,w=this.props.nodeRef?[S]:[JC.findDOMNode(this),S],I=w[0],k=w[1],F=this.getTimeouts(),U=S?F.appear:F.enter;if(!f&&!v||fae.disabled){this.safeSetState({status:j_},function(){g.props.onEntered(I)});return}this.props.onEnter(I,k),this.safeSetState({status:Av},function(){g.props.onEntering(I,k),g.onTransitionEnd(U,function(){g.safeSetState({status:j_},function(){g.props.onEntered(I,k)})})})},a.performExit=function(){var f=this,g=this.props.exit,v=this.getTimeouts(),S=this.props.nodeRef?void 0:JC.findDOMNode(this);if(!g||fae.disabled){this.safeSetState({status:Cv},function(){f.props.onExited(S)});return}this.props.onExit(S),this.safeSetState({status:ZU},function(){f.props.onExiting(S),f.onTransitionEnd(v.exit,function(){f.safeSetState({status:Cv},function(){f.props.onExited(S)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(f,g){g=this.setNextCallback(g),this.setState(f,g)},a.setNextCallback=function(f){var g=this,v=!0;return this.nextCallback=function(S){v&&(v=!1,g.nextCallback=null,f(S))},this.nextCallback.cancel=function(){v=!1},this.nextCallback},a.onTransitionEnd=function(f,g){this.setNextCallback(g);var v=this.props.nodeRef?this.props.nodeRef.current:JC.findDOMNode(this),S=f==null&&!this.props.addEndListener;if(!v||S){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var w=this.props.nodeRef?[this.nextCallback]:[v,this.nextCallback],I=w[0],k=w[1];this.props.addEndListener(I,k)}f!=null&&setTimeout(this.nextCallback,f)},a.render=function(){var f=this.state.status;if(f===rA)return null;var g=this.props,v=g.children;g.in,g.mountOnEnter,g.unmountOnExit,g.appear,g.enter,g.exit,g.timeout,g.addEndListener,g.onEnter,g.onEntering,g.onEntered,g.onExit,g.onExiting,g.onExited,g.nodeRef;var S=lR(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _r.createElement(jP.Provider,{value:null},typeof v=="function"?v(f,S):_r.cloneElement(_r.Children.only(v),S))},o})(_r.Component);ef.contextType=jP;ef.propTypes={};function B_(){}ef.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:B_,onEntering:B_,onEntered:B_,onExit:B_,onExiting:B_,onExited:B_};ef.UNMOUNTED=rA;ef.EXITED=Cv;ef.ENTERING=Av;ef.ENTERED=j_;ef.EXITING=ZU;function y$(l,o){var a=function(g){return o&&we.isValidElement(g)?o(g):g},u=Object.create(null);return l&&we.Children.map(l,function(f){return f}).forEach(function(f){u[f.key]=a(f)}),u}function _qe(l,o){l=l||{},o=o||{};function a(k){return k in o?o[k]:l[k]}var u=Object.create(null),f=[];for(var g in l)g in o?f.length&&(u[g]=f,f=[]):f.push(g);var v,S={};for(var w in o){if(u[w])for(v=0;v<u[w].length;v++){var I=u[w][v];S[u[w][v]]=a(I)}S[w]=a(w)}for(v=0;v<f.length;v++)S[f[v]]=a(f[v]);return S}function Rv(l,o,a){return a[o]!=null?a[o]:l.props[o]}function Eqe(l,o){return y$(l.children,function(a){return we.cloneElement(a,{onExited:o.bind(null,a),in:!0,appear:Rv(a,"appear",l),enter:Rv(a,"enter",l),exit:Rv(a,"exit",l)})})}function Tqe(l,o,a){var u=y$(l.children),f=_qe(o,u);return Object.keys(f).forEach(function(g){var v=f[g];if(we.isValidElement(v)){var S=g in o,w=g in u,I=o[g],k=we.isValidElement(I)&&!I.props.in;w&&(!S||k)?f[g]=we.cloneElement(v,{onExited:a.bind(null,v),in:!0,exit:Rv(v,"exit",l),enter:Rv(v,"enter",l)}):!w&&S&&!k?f[g]=we.cloneElement(v,{in:!1}):w&&S&&we.isValidElement(I)&&(f[g]=we.cloneElement(v,{onExited:a.bind(null,v),in:I.props.in,exit:Rv(v,"exit",l),enter:Rv(v,"enter",l)}))}}),f}var bqe=Object.values||function(l){return Object.keys(l).map(function(o){return l[o]})},Sqe={component:"div",childFactory:function(o){return o}},_$=(function(l){uR(o,l);function o(u,f){var g;g=l.call(this,u,f)||this;var v=g.handleExited.bind(UU(g));return g.state={contextValue:{isMounting:!0},handleExited:v,firstRender:!0},g}var a=o.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(f,g){var v=g.children,S=g.handleExited,w=g.firstRender;return{children:w?Eqe(f,S):Tqe(f,v,S),firstRender:!1}},a.handleExited=function(f,g){var v=y$(this.props.children);f.key in v||(f.props.onExited&&f.props.onExited(g),this.mounted&&this.setState(function(S){var w=Rt({},S.children);return delete w[f.key],{children:w}}))},a.render=function(){var f=this.props,g=f.component,v=f.childFactory,S=lR(f,["component","childFactory"]),w=this.state.contextValue,I=bqe(this.state.children).map(v);return delete S.appear,delete S.enter,delete S.exit,g===null?_r.createElement(jP.Provider,{value:w},I):_r.createElement(jP.Provider,{value:w},_r.createElement(g,S,I))},o})(_r.Component);_$.propTypes={};_$.defaultProps=Sqe;var oce=function(o){return o.scrollTop};function VP(l,o){var a=l.timeout,u=l.style,f=u===void 0?{}:u;return{duration:f.transitionDuration||typeof a=="number"?a:a[o.mode]||0,delay:f.transitionDelay}}var Cqe=function(o){var a={};return o.shadows.forEach(function(u,f){a["elevation".concat(f)]={boxShadow:u}}),Rt({root:{backgroundColor:o.palette.background.paper,color:o.palette.text.primary,transition:o.transitions.create("box-shadow")},rounded:{borderRadius:o.shape.borderRadius},outlined:{border:"1px solid ".concat(o.palette.divider)}},a)},Aqe=we.forwardRef(function(o,a){var u=o.classes,f=o.className,g=o.component,v=g===void 0?"div":g,S=o.square,w=S===void 0?!1:S,I=o.elevation,k=I===void 0?1:I,F=o.variant,U=F===void 0?"elevation":F,N=Zr(o,["classes","className","component","square","elevation","variant"]);return we.createElement(v,Rt({className:jr(u.root,f,U==="outlined"?u.outlined:u["elevation".concat(k)],!w&&u.rounded),ref:a},N))});const E$=hi(Cqe,{name:"MuiPaper"})(Aqe);var wqe=typeof window>"u"?we.useEffect:we.useLayoutEffect;function xqe(l){var o=l.classes,a=l.pulsate,u=a===void 0?!1:a,f=l.rippleX,g=l.rippleY,v=l.rippleSize,S=l.in,w=l.onExited,I=w===void 0?function(){}:w,k=l.timeout,F=we.useState(!1),U=F[0],N=F[1],H=jr(o.ripple,o.rippleVisible,u&&o.ripplePulsate),q={width:v,height:v,top:-(v/2)+g,left:-(v/2)+f},j=jr(o.child,U&&o.childLeaving,u&&o.childPulsate),se=kc(I);return wqe(function(){if(!S){N(!0);var he=setTimeout(se,k);return function(){clearTimeout(he)}}},[se,S,k]),we.createElement("span",{className:H,style:q},we.createElement("span",{className:j}))}var QU=550,Iqe=80,Dqe=function(o){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(QU,"ms ").concat(o.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(o.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(QU,"ms ").concat(o.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(o.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},Oqe=we.forwardRef(function(o,a){var u=o.center,f=u===void 0?!1:u,g=o.classes,v=o.className,S=Zr(o,["center","classes","className"]),w=we.useState([]),I=w[0],k=w[1],F=we.useRef(0),U=we.useRef(null);we.useEffect(function(){U.current&&(U.current(),U.current=null)},[I]);var N=we.useRef(!1),H=we.useRef(null),q=we.useRef(null),j=we.useRef(null);we.useEffect(function(){return function(){clearTimeout(H.current)}},[]);var se=we.useCallback(function(X){var de=X.pulsate,fe=X.rippleX,Fe=X.rippleY,M=X.rippleSize,ke=X.cb;k(function(qe){return[].concat(a$(qe),[we.createElement(xqe,{key:F.current,classes:g,timeout:QU,pulsate:de,rippleX:fe,rippleY:Fe,rippleSize:M})])}),F.current+=1,U.current=ke},[g]),he=we.useCallback(function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=arguments.length>2?arguments[2]:void 0,Fe=de.pulsate,M=Fe===void 0?!1:Fe,ke=de.center,qe=ke===void 0?f||de.pulsate:ke,Te=de.fakeElement,at=Te===void 0?!1:Te;if(X.type==="mousedown"&&N.current){N.current=!1;return}X.type==="touchstart"&&(N.current=!0);var _t=at?null:j.current,z=_t?_t.getBoundingClientRect():{width:0,height:0,left:0,top:0},be,Re,ie;if(qe||X.clientX===0&&X.clientY===0||!X.clientX&&!X.touches)be=Math.round(z.width/2),Re=Math.round(z.height/2);else{var pe=X.touches?X.touches[0]:X,me=pe.clientX,ce=pe.clientY;be=Math.round(me-z.left),Re=Math.round(ce-z.top)}if(qe)ie=Math.sqrt((2*Math.pow(z.width,2)+Math.pow(z.height,2))/3),ie%2===0&&(ie+=1);else{var _e=Math.max(Math.abs((_t?_t.clientWidth:0)-be),be)*2+2,Le=Math.max(Math.abs((_t?_t.clientHeight:0)-Re),Re)*2+2;ie=Math.sqrt(Math.pow(_e,2)+Math.pow(Le,2))}X.touches?q.current===null&&(q.current=function(){se({pulsate:M,rippleX:be,rippleY:Re,rippleSize:ie,cb:fe})},H.current=setTimeout(function(){q.current&&(q.current(),q.current=null)},Iqe)):se({pulsate:M,rippleX:be,rippleY:Re,rippleSize:ie,cb:fe})},[f,se]),oe=we.useCallback(function(){he({},{pulsate:!0})},[he]),ue=we.useCallback(function(X,de){if(clearTimeout(H.current),X.type==="touchend"&&q.current){X.persist(),q.current(),q.current=null,H.current=setTimeout(function(){ue(X,de)});return}q.current=null,k(function(fe){return fe.length>0?fe.slice(1):fe}),U.current=de},[]);return we.useImperativeHandle(a,function(){return{pulsate:oe,start:he,stop:ue}},[oe,he,ue]),we.createElement("span",Rt({className:jr(g.root,v),ref:j},S),we.createElement(_$,{component:null,exit:!0},I))});const kqe=hi(Dqe,{flip:!1,name:"MuiTouchRipple"})(we.memo(Oqe));var Pqe={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},Rqe=we.forwardRef(function(o,a){var u=o.action,f=o.buttonRef,g=o.centerRipple,v=g===void 0?!1:g,S=o.children,w=o.classes,I=o.className,k=o.component,F=k===void 0?"button":k,U=o.disabled,N=U===void 0?!1:U,H=o.disableRipple,q=H===void 0?!1:H,j=o.disableTouchRipple,se=j===void 0?!1:j,he=o.focusRipple,oe=he===void 0?!1:he,ue=o.focusVisibleClassName,X=o.onBlur,de=o.onClick,fe=o.onFocus,Fe=o.onFocusVisible,M=o.onKeyDown,ke=o.onKeyUp,qe=o.onMouseDown,Te=o.onMouseLeave,at=o.onMouseUp,_t=o.onTouchEnd,z=o.onTouchMove,be=o.onTouchStart,Re=o.onDragLeave,ie=o.tabIndex,pe=ie===void 0?0:ie,me=o.TouchRippleProps,ce=o.type,_e=ce===void 0?"button":ce,Le=Zr(o,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Ke=we.useRef(null);function dt(){return Mu.findDOMNode(Ke.current)}var It=we.useRef(null),St=we.useState(!1),Mt=St[0],Bt=St[1];N&&Mt&&Bt(!1);var Lt=ace(),Pt=Lt.isFocusVisible,Vt=Lt.onBlurVisible,lr=Lt.ref;we.useImperativeHandle(u,function(){return{focusVisible:function(){Bt(!0),Ke.current.focus()}}},[]),we.useEffect(function(){Mt&&oe&&!q&&It.current.pulsate()},[q,oe,Mt]);function Gt(pt,un){var Yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se;return kc(function(Xn){un&&un(Xn);var Yr=Yn;return!Yr&&It.current&&It.current[pt](Xn),!0})}var ar=Gt("start",qe),Wt=Gt("stop",Re),Dr=Gt("stop",at),Tn=Gt("stop",function(pt){Mt&&pt.preventDefault(),Te&&Te(pt)}),_i=Gt("start",be),Vn=Gt("stop",_t),Nn=Gt("stop",z),pi=Gt("stop",function(pt){Mt&&(Vt(pt),Bt(!1)),X&&X(pt)},!1),Jn=kc(function(pt){Ke.current||(Ke.current=pt.currentTarget),Pt(pt)&&(Bt(!0),Fe&&Fe(pt)),fe&&fe(pt)}),Mn=function(){var un=dt();return F&&F!=="button"&&!(un.tagName==="A"&&un.href)},Aa=we.useRef(!1),ma=kc(function(pt){oe&&!Aa.current&&Mt&&It.current&&pt.key===" "&&(Aa.current=!0,pt.persist(),It.current.stop(pt,function(){It.current.start(pt)})),pt.target===pt.currentTarget&&Mn()&&pt.key===" "&&pt.preventDefault(),M&&M(pt),pt.target===pt.currentTarget&&Mn()&&pt.key==="Enter"&&!N&&(pt.preventDefault(),de&&de(pt))}),ho=kc(function(pt){oe&&pt.key===" "&&It.current&&Mt&&!pt.defaultPrevented&&(Aa.current=!1,pt.persist(),It.current.stop(pt,function(){It.current.pulsate(pt)})),ke&&ke(pt),de&&pt.target===pt.currentTarget&&Mn()&&pt.key===" "&&!pt.defaultPrevented&&de(pt)}),Wi=F;Wi==="button"&&Le.href&&(Wi="a");var mn={};Wi==="button"?(mn.type=_e,mn.disabled=N):((Wi!=="a"||!Le.href)&&(mn.role="button"),mn["aria-disabled"]=N);var Ga=qa(f,a),Ka=qa(lr,Ke),Wn=qa(Ga,Ka),Vr=we.useState(!1),Ei=Vr[0],Li=Vr[1];we.useEffect(function(){Li(!0)},[]);var wt=Ei&&!q&&!N;return we.createElement(Wi,Rt({className:jr(w.root,I,Mt&&[w.focusVisible,ue],N&&w.disabled),onBlur:pi,onClick:de,onFocus:Jn,onKeyDown:ma,onKeyUp:ho,onMouseDown:ar,onMouseLeave:Tn,onMouseUp:Dr,onDragLeave:Wt,onTouchEnd:Vn,onTouchMove:Nn,onTouchStart:_i,ref:Wn,tabIndex:N?-1:pe},mn,Le),S,wt?we.createElement(kqe,Rt({ref:It,center:v},me)):null)});const gA=hi(Pqe,{name:"MuiButtonBase"})(Rqe);var Nqe=function(o){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:o.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:o.palette.action.active,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{backgroundColor:co(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:o.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:o.palette.primary.main,"&:hover":{backgroundColor:co(o.palette.primary.main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:o.palette.secondary.main,"&:hover":{backgroundColor:co(o.palette.secondary.main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:o.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},Mqe=we.forwardRef(function(o,a){var u=o.edge,f=u===void 0?!1:u,g=o.children,v=o.classes,S=o.className,w=o.color,I=w===void 0?"default":w,k=o.disabled,F=k===void 0?!1:k,U=o.disableFocusRipple,N=U===void 0?!1:U,H=o.size,q=H===void 0?"medium":H,j=Zr(o,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return we.createElement(gA,Rt({className:jr(v.root,S,I!=="default"&&v["color".concat(ci(I))],F&&v.disabled,q==="small"&&v["size".concat(ci(q))],{start:v.edgeStart,end:v.edgeEnd}[f]),centerRipple:!0,focusRipple:!N,disabled:F,ref:a},j),we.createElement("span",{className:v.label},g))});const Lqe=hi(Nqe,{name:"MuiIconButton"})(Mqe);var Bqe={entering:{opacity:1},entered:{opacity:1}},Fqe={enter:Jp.enteringScreen,exit:Jp.leavingScreen},T$=we.forwardRef(function(o,a){var u=o.children,f=o.disableStrictModeCompat,g=f===void 0?!1:f,v=o.in,S=o.onEnter,w=o.onEntered,I=o.onEntering,k=o.onExit,F=o.onExited,U=o.onExiting,N=o.style,H=o.TransitionComponent,q=H===void 0?ef:H,j=o.timeout,se=j===void 0?Fqe:j,he=Zr(o,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),oe=hR(),ue=oe.unstable_strictMode&&!g,X=we.useRef(null),de=qa(u.ref,a),fe=qa(ue?X:void 0,de),Fe=function(be){return function(Re,ie){if(be){var pe=ue?[X.current,Re]:[Re,ie],me=o$(pe,2),ce=me[0],_e=me[1];_e===void 0?be(ce):be(ce,_e)}}},M=Fe(I),ke=Fe(function(z,be){oce(z);var Re=VP({style:N,timeout:se},{mode:"enter"});z.style.webkitTransition=oe.transitions.create("opacity",Re),z.style.transition=oe.transitions.create("opacity",Re),S&&S(z,be)}),qe=Fe(w),Te=Fe(U),at=Fe(function(z){var be=VP({style:N,timeout:se},{mode:"exit"});z.style.webkitTransition=oe.transitions.create("opacity",be),z.style.transition=oe.transitions.create("opacity",be),k&&k(z)}),_t=Fe(F);return we.createElement(q,Rt({appear:!0,in:v,nodeRef:ue?X:void 0,onEnter:ke,onEntered:qe,onEntering:M,onExit:at,onExited:_t,onExiting:Te,timeout:se},he),function(z,be){return we.cloneElement(u,Rt({style:Rt({opacity:0,visibility:z==="exited"&&!v?"hidden":void 0},Bqe[z],N,u.props.style),ref:fe},be))})}),Uqe={root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Hqe=we.forwardRef(function(o,a){var u=o.children,f=o.classes,g=o.className,v=o.invisible,S=v===void 0?!1:v,w=o.open,I=o.transitionDuration,k=o.TransitionComponent,F=k===void 0?T$:k,U=Zr(o,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return we.createElement(F,Rt({in:w,timeout:I},U),we.createElement("div",{className:jr(f.root,g,S&&f.invisible),"aria-hidden":!0,ref:a},u))});const $qe=hi(Uqe,{name:"MuiBackdrop"})(Hqe);var Gqe=function(o){return{root:{margin:0},body2:o.typography.body2,body1:o.typography.body1,caption:o.typography.caption,button:o.typography.button,h1:o.typography.h1,h2:o.typography.h2,h3:o.typography.h3,h4:o.typography.h4,h5:o.typography.h5,h6:o.typography.h6,subtitle1:o.typography.subtitle1,subtitle2:o.typography.subtitle2,overline:o.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:o.palette.primary.main},colorSecondary:{color:o.palette.secondary.main},colorTextPrimary:{color:o.palette.text.primary},colorTextSecondary:{color:o.palette.text.secondary},colorError:{color:o.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},dae={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},zqe=we.forwardRef(function(o,a){var u=o.align,f=u===void 0?"inherit":u,g=o.classes,v=o.className,S=o.color,w=S===void 0?"initial":S,I=o.component,k=o.display,F=k===void 0?"initial":k,U=o.gutterBottom,N=U===void 0?!1:U,H=o.noWrap,q=H===void 0?!1:H,j=o.paragraph,se=j===void 0?!1:j,he=o.variant,oe=he===void 0?"body1":he,ue=o.variantMapping,X=ue===void 0?dae:ue,de=Zr(o,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),fe=I||(se?"p":X[oe]||dae[oe])||"span";return we.createElement(fe,Rt({className:jr(g.root,v,oe!=="inherit"&&g[oe],w!=="initial"&&g["color".concat(ci(w))],q&&g.noWrap,N&&g.gutterBottom,se&&g.paragraph,f!=="inherit"&&g["align".concat(ci(f))],F!=="initial"&&g["display".concat(ci(F))]),ref:a},de))});const sce=hi(Gqe,{name:"MuiTypography"})(zqe);var jqe=function(o){return{root:Rt({},o.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:o.shape.borderRadius,color:o.palette.text.primary,transition:o.transitions.create(["background-color","box-shadow","border"],{duration:o.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:co(o.palette.text.primary,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:o.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:o.palette.primary.main,"&:hover":{backgroundColor:co(o.palette.primary.main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:o.palette.secondary.main,"&:hover":{backgroundColor:co(o.palette.secondary.main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(o.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(o.palette.action.disabledBackground)}},outlinedPrimary:{color:o.palette.primary.main,border:"1px solid ".concat(co(o.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(o.palette.primary.main),backgroundColor:co(o.palette.primary.main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:o.palette.secondary.main,border:"1px solid ".concat(co(o.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(o.palette.secondary.main),backgroundColor:co(o.palette.secondary.main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(o.palette.action.disabled)}},contained:{color:o.palette.getContrastText(o.palette.grey[300]),backgroundColor:o.palette.grey[300],boxShadow:o.shadows[2],"&:hover":{backgroundColor:o.palette.grey.A100,boxShadow:o.shadows[4],"@media (hover: none)":{boxShadow:o.shadows[2],backgroundColor:o.palette.grey[300]},"&$disabled":{backgroundColor:o.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:o.shadows[6]},"&:active":{boxShadow:o.shadows[8]},"&$disabled":{color:o.palette.action.disabled,boxShadow:o.shadows[0],backgroundColor:o.palette.action.disabledBackground}},containedPrimary:{color:o.palette.primary.contrastText,backgroundColor:o.palette.primary.main,"&:hover":{backgroundColor:o.palette.primary.dark,"@media (hover: none)":{backgroundColor:o.palette.primary.main}}},containedSecondary:{color:o.palette.secondary.contrastText,backgroundColor:o.palette.secondary.main,"&:hover":{backgroundColor:o.palette.secondary.dark,"@media (hover: none)":{backgroundColor:o.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:o.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:o.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:o.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:o.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:o.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:o.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},Vqe=we.forwardRef(function(o,a){var u=o.children,f=o.classes,g=o.className,v=o.color,S=v===void 0?"default":v,w=o.component,I=w===void 0?"button":w,k=o.disabled,F=k===void 0?!1:k,U=o.disableElevation,N=U===void 0?!1:U,H=o.disableFocusRipple,q=H===void 0?!1:H,j=o.endIcon,se=o.focusVisibleClassName,he=o.fullWidth,oe=he===void 0?!1:he,ue=o.size,X=ue===void 0?"medium":ue,de=o.startIcon,fe=o.type,Fe=fe===void 0?"button":fe,M=o.variant,ke=M===void 0?"text":M,qe=Zr(o,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),Te=de&&we.createElement("span",{className:jr(f.startIcon,f["iconSize".concat(ci(X))])},de),at=j&&we.createElement("span",{className:jr(f.endIcon,f["iconSize".concat(ci(X))])},j);return we.createElement(gA,Rt({className:jr(f.root,f[ke],g,S==="inherit"?f.colorInherit:S!=="default"&&f["".concat(ke).concat(ci(S))],X!=="medium"&&[f["".concat(ke,"Size").concat(ci(X))],f["size".concat(ci(X))]],N&&f.disableElevation,F&&f.disabled,oe&&f.fullWidth),component:I,disabled:F,focusRipple:!q,focusVisibleClassName:jr(f.focusVisible,se),ref:a,type:Fe},qe),we.createElement("span",{className:f.label},Te,u,at))});const I4=hi(jqe,{name:"MuiButton"})(Vqe);var dR=we.createContext();function Wqe(){return we.useContext(dR)}function pR(){return we.useContext(dR)}const Yqe=m$(we.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));var Xqe=function(o){var a=o.palette.type==="light"?o.palette.grey[300]:o.palette.grey[700],u=co(o.palette.text.primary,.26);return{root:{fontFamily:o.typography.fontFamily,fontSize:o.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:o.palette.getContrastText(a),backgroundColor:a,borderRadius:32/2,whiteSpace:"nowrap",transition:o.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:o.palette.type==="light"?o.palette.grey[700]:o.palette.grey[300],fontSize:o.typography.pxToRem(12)},"& $avatarColorPrimary":{color:o.palette.primary.contrastText,backgroundColor:o.palette.primary.dark},"& $avatarColorSecondary":{color:o.palette.secondary.contrastText,backgroundColor:o.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:o.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:o.palette.primary.main,color:o.palette.primary.contrastText},colorSecondary:{backgroundColor:o.palette.secondary.main,color:o.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Sv(a,.08)},"&:active":{boxShadow:o.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Sv(o.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Sv(o.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Sv(a,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Sv(o.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Sv(o.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat(o.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:co(o.palette.text.primary,o.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:o.palette.primary.main,border:"1px solid ".concat(o.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:co(o.palette.primary.main,o.palette.action.hoverOpacity)}},outlinedSecondary:{color:o.palette.secondary.main,border:"1px solid ".concat(o.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:co(o.palette.secondary.main,o.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:o.palette.type==="light"?o.palette.grey[700]:o.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:u,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:co(u,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:co(o.palette.primary.contrastText,.7),"&:hover, &:active":{color:o.palette.primary.contrastText}},deleteIconColorSecondary:{color:co(o.palette.secondary.contrastText,.7),"&:hover, &:active":{color:o.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:co(o.palette.primary.main,.7),"&:hover, &:active":{color:o.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:co(o.palette.secondary.main,.7),"&:hover, &:active":{color:o.palette.secondary.main}}}};function pae(l){return l.key==="Backspace"||l.key==="Delete"}var qqe=we.forwardRef(function(o,a){var u=o.avatar,f=o.classes,g=o.className,v=o.clickable,S=o.color,w=S===void 0?"default":S,I=o.component,k=o.deleteIcon,F=o.disabled,U=F===void 0?!1:F,N=o.icon,H=o.label,q=o.onClick,j=o.onDelete,se=o.onKeyDown,he=o.onKeyUp,oe=o.size,ue=oe===void 0?"medium":oe,X=o.variant,de=X===void 0?"default":X,fe=Zr(o,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),Fe=we.useRef(null),M=qa(Fe,a),ke=function(_e){_e.stopPropagation(),j&&j(_e)},qe=function(_e){_e.currentTarget===_e.target&&pae(_e)&&_e.preventDefault(),se&&se(_e)},Te=function(_e){_e.currentTarget===_e.target&&(j&&pae(_e)?j(_e):_e.key==="Escape"&&Fe.current&&Fe.current.blur()),he&&he(_e)},at=v!==!1&&q?!0:v,_t=ue==="small",z=I||(at?gA:"div"),be=z===gA?{component:"div"}:{},Re=null;if(j){var ie=jr(w!=="default"&&(de==="default"?f["deleteIconColor".concat(ci(w))]:f["deleteIconOutlinedColor".concat(ci(w))]),_t&&f.deleteIconSmall);Re=k&&we.isValidElement(k)?we.cloneElement(k,{className:jr(k.props.className,f.deleteIcon,ie),onClick:ke}):we.createElement(Yqe,{className:jr(f.deleteIcon,ie),onClick:ke})}var pe=null;u&&we.isValidElement(u)&&(pe=we.cloneElement(u,{className:jr(f.avatar,u.props.className,_t&&f.avatarSmall,w!=="default"&&f["avatarColor".concat(ci(w))])}));var me=null;return N&&we.isValidElement(N)&&(me=we.cloneElement(N,{className:jr(f.icon,N.props.className,_t&&f.iconSmall,w!=="default"&&f["iconColor".concat(ci(w))])})),we.createElement(z,Rt({role:at||j?"button":void 0,className:jr(f.root,g,w!=="default"&&[f["color".concat(ci(w))],at&&f["clickableColor".concat(ci(w))],j&&f["deletableColor".concat(ci(w))]],de!=="default"&&[f.outlined,{primary:f.outlinedPrimary,secondary:f.outlinedSecondary}[w]],U&&f.disabled,_t&&f.sizeSmall,at&&f.clickable,j&&f.deletable),"aria-disabled":U?!0:void 0,tabIndex:at||j?0:void 0,onClick:q,onKeyDown:qe,onKeyUp:Te,ref:M},be,fe),pe||me,we.createElement("span",{className:jr(f.label,_t&&f.labelSmall)},H),Re)});const Kqe=hi(Xqe,{name:"MuiChip"})(qqe);function mae(l){return l.substring(2).toLowerCase()}function Zqe(l){return document.documentElement.clientWidth<l.clientX||document.documentElement.clientHeight<l.clientY}function Qqe(l){var o=l.children,a=l.disableReactTree,u=a===void 0?!1:a,f=l.mouseEvent,g=f===void 0?"onClick":f,v=l.onClickAway,S=l.touchEvent,w=S===void 0?"onTouchEnd":S,I=we.useRef(!1),k=we.useRef(null),F=we.useRef(!1),U=we.useRef(!1);we.useEffect(function(){return setTimeout(function(){F.current=!0},0),function(){F.current=!1}},[]);var N=we.useCallback(function(he){k.current=Mu.findDOMNode(he)},[]),H=qa(o.ref,N),q=kc(function(he){var oe=U.current;if(U.current=!1,!(!F.current||!k.current||Zqe(he))){if(I.current){I.current=!1;return}var ue;if(he.composedPath)ue=he.composedPath().indexOf(k.current)>-1;else{var X=Kl(k.current);ue=!X.documentElement.contains(he.target)||k.current.contains(he.target)}!ue&&(u||!oe)&&v(he)}}),j=function(oe){return function(ue){U.current=!0;var X=o.props[oe];X&&X(ue)}},se={ref:H};return w!==!1&&(se[w]=j(w)),we.useEffect(function(){if(w!==!1){var he=mae(w),oe=Kl(k.current),ue=function(){I.current=!0};return oe.addEventListener(he,q),oe.addEventListener("touchmove",ue),function(){oe.removeEventListener(he,q),oe.removeEventListener("touchmove",ue)}}},[q,w]),g!==!1&&(se[g]=j(g)),we.useEffect(function(){if(g!==!1){var he=mae(g),oe=Kl(k.current);return oe.addEventListener(he,q),function(){oe.removeEventListener(he,q)}}},[q,g]),we.createElement(we.Fragment,null,we.cloneElement(o,se))}function Jqe(l){return l=typeof l=="function"?l():l,Mu.findDOMNode(l)}var D4=typeof window<"u"?we.useLayoutEffect:we.useEffect,eKe=we.forwardRef(function(o,a){var u=o.children,f=o.container,g=o.disablePortal,v=g===void 0?!1:g,S=o.onRendered,w=we.useState(null),I=w[0],k=w[1],F=qa(we.isValidElement(u)?u.ref:null,a);return D4(function(){v||k(Jqe(f)||document.body)},[f,v]),D4(function(){if(I&&!v)return K_(a,I),function(){K_(a,null)}},[a,I,v]),D4(function(){S&&(I||v)&&S()},[S,I,v]),v?we.isValidElement(u)?we.cloneElement(u,{ref:F}):u:I&&Mu.createPortal(u,I)});function lce(){var l=document.createElement("div");l.style.width="99px",l.style.height="99px",l.style.position="absolute",l.style.top="-9999px",l.style.overflow="scroll",document.body.appendChild(l);var o=l.offsetWidth-l.clientWidth;return document.body.removeChild(l),o}function tKe(l){var o=Kl(l);return o.body===l?v$(o).innerWidth>o.documentElement.clientWidth:l.scrollHeight>l.clientHeight}function cA(l,o){o?l.setAttribute("aria-hidden","true"):l.removeAttribute("aria-hidden")}function gae(l){return parseInt(window.getComputedStyle(l)["padding-right"],10)||0}function vae(l,o,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],f=arguments.length>4?arguments[4]:void 0,g=[o,a].concat(a$(u)),v=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(l.children,function(S){S.nodeType===1&&g.indexOf(S)===-1&&v.indexOf(S.tagName)===-1&&cA(S,f)})}function O4(l,o){var a=-1;return l.some(function(u,f){return o(u)?(a=f,!0):!1}),a}function rKe(l,o){var a=[],u=[],f=l.container,g;if(!o.disableScrollLock){if(tKe(f)){var v=lce();a.push({value:f.style.paddingRight,key:"padding-right",el:f}),f.style["padding-right"]="".concat(gae(f)+v,"px"),g=Kl(f).querySelectorAll(".mui-fixed"),[].forEach.call(g,function(k){u.push(k.style.paddingRight),k.style.paddingRight="".concat(gae(k)+v,"px")})}var S=f.parentElement,w=S.nodeName==="HTML"&&window.getComputedStyle(S)["overflow-y"]==="scroll"?S:f;a.push({value:w.style.overflow,key:"overflow",el:w}),w.style.overflow="hidden"}var I=function(){g&&[].forEach.call(g,function(F,U){u[U]?F.style.paddingRight=u[U]:F.style.removeProperty("padding-right")}),a.forEach(function(F){var U=F.value,N=F.el,H=F.key;U?N.style.setProperty(H,U):N.style.removeProperty(H)})};return I}function nKe(l){var o=[];return[].forEach.call(l.children,function(a){a.getAttribute&&a.getAttribute("aria-hidden")==="true"&&o.push(a)}),o}var iKe=(function(){function l(){XXe(this,l),this.modals=[],this.containers=[]}return s$(l,[{key:"add",value:function(a,u){var f=this.modals.indexOf(a);if(f!==-1)return f;f=this.modals.length,this.modals.push(a),a.modalRef&&cA(a.modalRef,!1);var g=nKe(u);vae(u,a.mountNode,a.modalRef,g,!0);var v=O4(this.containers,function(S){return S.container===u});return v!==-1?(this.containers[v].modals.push(a),f):(this.containers.push({modals:[a],container:u,restore:null,hiddenSiblingNodes:g}),f)}},{key:"mount",value:function(a,u){var f=O4(this.containers,function(v){return v.modals.indexOf(a)!==-1}),g=this.containers[f];g.restore||(g.restore=rKe(g,u))}},{key:"remove",value:function(a){var u=this.modals.indexOf(a);if(u===-1)return u;var f=O4(this.containers,function(S){return S.modals.indexOf(a)!==-1}),g=this.containers[f];if(g.modals.splice(g.modals.indexOf(a),1),this.modals.splice(u,1),g.modals.length===0)g.restore&&g.restore(),a.modalRef&&cA(a.modalRef,!0),vae(g.container,a.mountNode,a.modalRef,g.hiddenSiblingNodes,!1),this.containers.splice(f,1);else{var v=g.modals[g.modals.length-1];v.modalRef&&cA(v.modalRef,!1)}return u}},{key:"isTopModal",value:function(a){return this.modals.length>0&&this.modals[this.modals.length-1]===a}}]),l})();function aKe(l){var o=l.children,a=l.disableAutoFocus,u=a===void 0?!1:a,f=l.disableEnforceFocus,g=f===void 0?!1:f,v=l.disableRestoreFocus,S=v===void 0?!1:v,w=l.getDoc,I=l.isEnabled,k=l.open,F=we.useRef(),U=we.useRef(null),N=we.useRef(null),H=we.useRef(),q=we.useRef(null),j=we.useCallback(function(oe){q.current=Mu.findDOMNode(oe)},[]),se=qa(o.ref,j),he=we.useRef();return we.useEffect(function(){he.current=k},[k]),!he.current&&k&&typeof window<"u"&&(H.current=w().activeElement),we.useEffect(function(){if(k){var oe=Kl(q.current);!u&&q.current&&!q.current.contains(oe.activeElement)&&(q.current.hasAttribute("tabIndex")||q.current.setAttribute("tabIndex",-1),q.current.focus());var ue=function(){var Fe=q.current;if(Fe!==null){if(!oe.hasFocus()||g||!I()||F.current){F.current=!1;return}q.current&&!q.current.contains(oe.activeElement)&&q.current.focus()}},X=function(Fe){g||!I()||Fe.keyCode!==9||oe.activeElement===q.current&&(F.current=!0,Fe.shiftKey?N.current.focus():U.current.focus())};oe.addEventListener("focus",ue,!0),oe.addEventListener("keydown",X,!0);var de=setInterval(function(){ue()},50);return function(){clearInterval(de),oe.removeEventListener("focus",ue,!0),oe.removeEventListener("keydown",X,!0),S||(H.current&&H.current.focus&&H.current.focus(),H.current=null)}}},[u,g,S,I,k]),we.createElement(we.Fragment,null,we.createElement("div",{tabIndex:0,ref:U,"data-test":"sentinelStart"}),we.cloneElement(o,{ref:se}),we.createElement("div",{tabIndex:0,ref:N,"data-test":"sentinelEnd"}))}var yae={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},oKe=we.forwardRef(function(o,a){var u=o.invisible,f=u===void 0?!1:u,g=o.open,v=Zr(o,["invisible","open"]);return g?we.createElement("div",Rt({"aria-hidden":!0,ref:a},v,{style:Rt({},yae.root,f?yae.invisible:{},v.style)})):null});function sKe(l){return l=typeof l=="function"?l():l,Mu.findDOMNode(l)}function lKe(l){return l.children?l.children.props.hasOwnProperty("in"):!1}var uKe=new iKe,cKe=function(o){return{root:{position:"fixed",zIndex:o.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},uce=we.forwardRef(function(o,a){var u=PA(),f=Uue({name:"MuiModal",props:Rt({},o),theme:u}),g=f.BackdropComponent,v=g===void 0?oKe:g,S=f.BackdropProps,w=f.children,I=f.closeAfterTransition,k=I===void 0?!1:I,F=f.container,U=f.disableAutoFocus,N=U===void 0?!1:U,H=f.disableBackdropClick,q=H===void 0?!1:H,j=f.disableEnforceFocus,se=j===void 0?!1:j,he=f.disableEscapeKeyDown,oe=he===void 0?!1:he,ue=f.disablePortal,X=ue===void 0?!1:ue,de=f.disableRestoreFocus,fe=de===void 0?!1:de,Fe=f.disableScrollLock,M=Fe===void 0?!1:Fe,ke=f.hideBackdrop,qe=ke===void 0?!1:ke,Te=f.keepMounted,at=Te===void 0?!1:Te,_t=f.manager,z=_t===void 0?uKe:_t,be=f.onBackdropClick,Re=f.onClose,ie=f.onEscapeKeyDown,pe=f.onRendered,me=f.open,ce=Zr(f,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),_e=we.useState(!0),Le=_e[0],Ke=_e[1],dt=we.useRef({}),It=we.useRef(null),St=we.useRef(null),Mt=qa(St,a),Bt=lKe(f),Lt=function(){return Kl(It.current)},Pt=function(){return dt.current.modalRef=St.current,dt.current.mountNode=It.current,dt.current},Vt=function(){z.mount(Pt(),{disableScrollLock:M}),St.current.scrollTop=0},lr=kc(function(){var Jn=sKe(F)||Lt().body;z.add(Pt(),Jn),St.current&&Vt()}),Gt=we.useCallback(function(){return z.isTopModal(Pt())},[z]),ar=kc(function(Jn){It.current=Jn,Jn&&(pe&&pe(),me&&Gt()?Vt():cA(St.current,!0))}),Wt=we.useCallback(function(){z.remove(Pt())},[z]);if(we.useEffect(function(){return function(){Wt()}},[Wt]),we.useEffect(function(){me?lr():(!Bt||!k)&&Wt()},[me,Wt,Bt,k,lr]),!at&&!me&&(!Bt||Le))return null;var Dr=function(){Ke(!1)},Tn=function(){Ke(!0),k&&Wt()},_i=function(Mn){Mn.target===Mn.currentTarget&&(be&&be(Mn),!q&&Re&&Re(Mn,"backdropClick"))},Vn=function(Mn){Mn.key!=="Escape"||!Gt()||(ie&&ie(Mn),oe||(Mn.stopPropagation(),Re&&Re(Mn,"escapeKeyDown")))},Nn=cKe(u||{zIndex:Lue}),pi={};return w.props.tabIndex===void 0&&(pi.tabIndex=w.props.tabIndex||"-1"),Bt&&(pi.onEnter=q_(Dr,w.props.onEnter),pi.onExited=q_(Tn,w.props.onExited)),we.createElement(eKe,{ref:ar,container:F,disablePortal:X},we.createElement("div",Rt({ref:Mt,onKeyDown:Vn,role:"presentation"},ce,{style:Rt({},Nn.root,!me&&Le?Nn.hidden:{},ce.style)}),qe?null:we.createElement(v,Rt({open:me,onClick:_i},S)),we.createElement(aKe,{disableEnforceFocus:se,disableAutoFocus:N,disableRestoreFocus:fe,getDoc:Lt,isEnabled:Gt,open:me},we.cloneElement(w,pi))))}),hKe=function(o){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(o.breakpoints.values.xs,444),"&$paperScrollBody":Xo({},o.breakpoints.down(Math.max(o.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:o.breakpoints.values.sm,"&$paperScrollBody":Xo({},o.breakpoints.down(o.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:o.breakpoints.values.md,"&$paperScrollBody":Xo({},o.breakpoints.down(o.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:o.breakpoints.values.lg,"&$paperScrollBody":Xo({},o.breakpoints.down(o.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:o.breakpoints.values.xl,"&$paperScrollBody":Xo({},o.breakpoints.down(o.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},fKe={enter:Jp.enteringScreen,exit:Jp.leavingScreen},dKe=we.forwardRef(function(o,a){var u=o.BackdropProps,f=o.children,g=o.classes,v=o.className,S=o.disableBackdropClick,w=S===void 0?!1:S,I=o.disableEscapeKeyDown,k=I===void 0?!1:I,F=o.fullScreen,U=F===void 0?!1:F,N=o.fullWidth,H=N===void 0?!1:N,q=o.maxWidth,j=q===void 0?"sm":q,se=o.onBackdropClick,he=o.onClose,oe=o.onEnter,ue=o.onEntered,X=o.onEntering,de=o.onEscapeKeyDown,fe=o.onExit,Fe=o.onExited,M=o.onExiting,ke=o.open,qe=o.PaperComponent,Te=qe===void 0?E$:qe,at=o.PaperProps,_t=at===void 0?{}:at,z=o.scroll,be=z===void 0?"paper":z,Re=o.TransitionComponent,ie=Re===void 0?T$:Re,pe=o.transitionDuration,me=pe===void 0?fKe:pe,ce=o.TransitionProps,_e=o["aria-describedby"],Le=o["aria-labelledby"],Ke=Zr(o,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),dt=we.useRef(),It=function(Bt){dt.current=Bt.target},St=function(Bt){Bt.target===Bt.currentTarget&&Bt.target===dt.current&&(dt.current=null,se&&se(Bt),!w&&he&&he(Bt,"backdropClick"))};return we.createElement(uce,Rt({className:jr(g.root,v),BackdropComponent:$qe,BackdropProps:Rt({transitionDuration:me},u),closeAfterTransition:!0},w?{disableBackdropClick:w}:{},{disableEscapeKeyDown:k,onEscapeKeyDown:de,onClose:he,open:ke,ref:a},Ke),we.createElement(ie,Rt({appear:!0,in:ke,timeout:me,onEnter:oe,onEntering:X,onEntered:ue,onExit:fe,onExiting:M,onExited:Fe,role:"none presentation"},ce),we.createElement("div",{className:jr(g.container,g["scroll".concat(ci(be))]),onMouseUp:St,onMouseDown:It},we.createElement(Te,Rt({elevation:24,role:"dialog","aria-describedby":_e,"aria-labelledby":Le},_t,{className:jr(g.paper,g["paperScroll".concat(ci(be))],g["paperWidth".concat(ci(String(j)))],_t.className,U&&g.paperFullScreen,H&&g.paperFullWidth)}),f))))});const pKe=hi(hKe,{name:"MuiDialog"})(dKe);var mKe={root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},gKe=we.forwardRef(function(o,a){var u=o.disableSpacing,f=u===void 0?!1:u,g=o.classes,v=o.className,S=Zr(o,["disableSpacing","classes","className"]);return we.createElement("div",Rt({className:jr(g.root,v,!f&&g.spacing),ref:a},S))});const vKe=hi(mKe,{name:"MuiDialogActions"})(gKe);var yKe=function(o){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(o.palette.divider),borderBottom:"1px solid ".concat(o.palette.divider)}}},_Ke=we.forwardRef(function(o,a){var u=o.classes,f=o.className,g=o.dividers,v=g===void 0?!1:g,S=Zr(o,["classes","className","dividers"]);return we.createElement("div",Rt({className:jr(u.root,f,v&&u.dividers),ref:a},S))});const EKe=hi(yKe,{name:"MuiDialogContent"})(_Ke);var TKe={root:{marginBottom:12}},bKe=we.forwardRef(function(o,a){return we.createElement(sce,Rt({component:"p",variant:"body1",color:"textSecondary",ref:a},o))});const SKe=hi(TKe,{name:"MuiDialogContentText"})(bKe);function RA(l){var o=l.props,a=l.states,u=l.muiFormControl;return a.reduce(function(f,g){return f[g]=o[g],u&&typeof o[g]>"u"&&(f[g]=u[g]),f},{})}function Qk(l,o){return parseInt(l[o],10)||0}var CKe=typeof window<"u"?we.useLayoutEffect:we.useEffect,AKe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},wKe=we.forwardRef(function(o,a){var u=o.onChange,f=o.rows,g=o.rowsMax,v=o.rowsMin,S=o.maxRows,w=o.minRows,I=w===void 0?1:w,k=o.style,F=o.value,U=Zr(o,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),N=S||g,H=f||v||I,q=we.useRef(F!=null),j=q.current,se=we.useRef(null),he=qa(a,se),oe=we.useRef(null),ue=we.useRef(0),X=we.useState({}),de=X[0],fe=X[1],Fe=we.useCallback(function(){var ke=se.current,qe=window.getComputedStyle(ke),Te=oe.current;Te.style.width=qe.width,Te.value=ke.value||o.placeholder||"x",Te.value.slice(-1)===`
`&&(Te.value+=" ");var at=qe["box-sizing"],_t=Qk(qe,"padding-bottom")+Qk(qe,"padding-top"),z=Qk(qe,"border-bottom-width")+Qk(qe,"border-top-width"),be=Te.scrollHeight-_t;Te.value="x";var Re=Te.scrollHeight-_t,ie=be;H&&(ie=Math.max(Number(H)*Re,ie)),N&&(ie=Math.min(Number(N)*Re,ie)),ie=Math.max(ie,Re);var pe=ie+(at==="border-box"?_t+z:0),me=Math.abs(ie-be)<=1;fe(function(ce){return ue.current<20&&(pe>0&&Math.abs((ce.outerHeightStyle||0)-pe)>1||ce.overflow!==me)?(ue.current+=1,{overflow:me,outerHeightStyle:pe}):ce})},[N,H,o.placeholder]);we.useEffect(function(){var ke=g$(function(){ue.current=0,Fe()});return window.addEventListener("resize",ke),function(){ke.clear(),window.removeEventListener("resize",ke)}},[Fe]),CKe(function(){Fe()}),we.useEffect(function(){ue.current=0},[F]);var M=function(qe){ue.current=0,j||Fe(),u&&u(qe)};return we.createElement(we.Fragment,null,we.createElement("textarea",Rt({value:F,onChange:M,ref:he,rows:H,style:Rt({height:de.outerHeightStyle,overflow:de.overflow?"hidden":null},k)},U)),we.createElement("textarea",{"aria-hidden":!0,className:o.className,readOnly:!0,ref:oe,tabIndex:-1,style:Rt({},AKe.shadow,k)}))});function _ae(l){return l!=null&&!(Array.isArray(l)&&l.length===0)}function b$(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return l&&(_ae(l.value)&&l.value!==""||o&&_ae(l.defaultValue)&&l.defaultValue!=="")}function xKe(l){return l.startAdornment}var IKe=function(o){var a=o.palette.type==="light",u={color:"currentColor",opacity:a?.42:.5,transition:o.transitions.create("opacity",{duration:o.transitions.duration.shorter})},f={opacity:"0 !important"},g={opacity:a?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Rt({},o.typography.body1,{color:o.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:o.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":u,"&::-moz-placeholder":u,"&:-ms-input-placeholder":u,"&::-ms-input-placeholder":u,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":f,"&::-moz-placeholder":f,"&:-ms-input-placeholder":f,"&::-ms-input-placeholder":f,"&:focus::-webkit-input-placeholder":g,"&:focus::-moz-placeholder":g,"&:focus:-ms-input-placeholder":g,"&:focus::-ms-input-placeholder":g},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},DKe=typeof window>"u"?we.useEffect:we.useLayoutEffect,OKe=we.forwardRef(function(o,a){var u=o["aria-describedby"],f=o.autoComplete,g=o.autoFocus,v=o.classes,S=o.className;o.color;var w=o.defaultValue,I=o.disabled,k=o.endAdornment;o.error;var F=o.fullWidth,U=F===void 0?!1:F,N=o.id,H=o.inputComponent,q=H===void 0?"input":H,j=o.inputProps,se=j===void 0?{}:j,he=o.inputRef;o.margin;var oe=o.multiline,ue=oe===void 0?!1:oe,X=o.name,de=o.onBlur,fe=o.onChange,Fe=o.onClick,M=o.onFocus,ke=o.onKeyDown,qe=o.onKeyUp,Te=o.placeholder,at=o.readOnly,_t=o.renderSuffix,z=o.rows,be=o.rowsMax,Re=o.rowsMin,ie=o.maxRows,pe=o.minRows,me=o.startAdornment,ce=o.type,_e=ce===void 0?"text":ce,Le=o.value,Ke=Zr(o,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),dt=se.value!=null?se.value:Le,It=we.useRef(dt!=null),St=It.current,Mt=we.useRef(),Bt=we.useCallback(function(Wi){},[]),Lt=qa(se.ref,Bt),Pt=qa(he,Lt),Vt=qa(Mt,Pt),lr=we.useState(!1),Gt=lr[0],ar=lr[1],Wt=Wqe(),Dr=RA({props:o,muiFormControl:Wt,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Dr.focused=Wt?Wt.focused:Gt,we.useEffect(function(){!Wt&&I&&Gt&&(ar(!1),de&&de())},[Wt,I,Gt,de]);var Tn=Wt&&Wt.onFilled,_i=Wt&&Wt.onEmpty,Vn=we.useCallback(function(Wi){b$(Wi)?Tn&&Tn():_i&&_i()},[Tn,_i]);DKe(function(){St&&Vn({value:dt})},[dt,Vn,St]);var Nn=function(mn){if(Dr.disabled){mn.stopPropagation();return}M&&M(mn),se.onFocus&&se.onFocus(mn),Wt&&Wt.onFocus?Wt.onFocus(mn):ar(!0)},pi=function(mn){de&&de(mn),se.onBlur&&se.onBlur(mn),Wt&&Wt.onBlur?Wt.onBlur(mn):ar(!1)},Jn=function(mn){if(!St){var Ga=mn.target||Mt.current;if(Ga==null)throw new Error(X_(1));Vn({value:Ga.value})}for(var Ka=arguments.length,Wn=new Array(Ka>1?Ka-1:0),Vr=1;Vr<Ka;Vr++)Wn[Vr-1]=arguments[Vr];se.onChange&&se.onChange.apply(se,[mn].concat(Wn)),fe&&fe.apply(void 0,[mn].concat(Wn))};we.useEffect(function(){Vn(Mt.current)},[]);var Mn=function(mn){Mt.current&&mn.currentTarget===mn.target&&Mt.current.focus(),Fe&&Fe(mn)},Aa=q,ma=Rt({},se,{ref:Vt});typeof Aa!="string"?ma=Rt({inputRef:Vt,type:_e},ma,{ref:null}):ue?z&&!ie&&!pe&&!be&&!Re?Aa="textarea":(ma=Rt({minRows:z||pe,rowsMax:be,maxRows:ie},ma),Aa=wKe):ma=Rt({type:_e},ma);var ho=function(mn){Vn(mn.animationName==="mui-auto-fill-cancel"?Mt.current:{value:"x"})};return we.useEffect(function(){Wt&&Wt.setAdornedStart(!!me)},[Wt,me]),we.createElement("div",Rt({className:jr(v.root,v["color".concat(ci(Dr.color||"primary"))],S,Dr.disabled&&v.disabled,Dr.error&&v.error,U&&v.fullWidth,Dr.focused&&v.focused,Wt&&v.formControl,ue&&v.multiline,me&&v.adornedStart,k&&v.adornedEnd,Dr.margin==="dense"&&v.marginDense),onClick:Mn,ref:a},Ke),me,we.createElement(dR.Provider,{value:null},we.createElement(Aa,Rt({"aria-invalid":Dr.error,"aria-describedby":u,autoComplete:f,autoFocus:g,defaultValue:w,disabled:Dr.disabled,id:N,onAnimationStart:ho,name:X,placeholder:Te,readOnly:at,required:Dr.required,rows:z,value:dt,onKeyDown:ke,onKeyUp:qe},ma,{className:jr(v.input,se.className,Dr.disabled&&v.disabled,ue&&v.inputMultiline,Dr.hiddenLabel&&v.inputHiddenLabel,me&&v.inputAdornedStart,k&&v.inputAdornedEnd,_e==="search"&&v.inputTypeSearch,Dr.margin==="dense"&&v.inputMarginDense),onBlur:pi,onChange:Jn,onFocus:Nn}))),k,_t?_t(Rt({},Dr,{startAdornment:me})):null)});const S$=hi(IKe,{name:"MuiInputBase"})(OKe);var kKe=function(o){var a=o.palette.type==="light",u=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",f=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:f,borderTopLeftRadius:o.shape.borderRadius,borderTopRightRadius:o.shape.borderRadius,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),"&:hover":{backgroundColor:a?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:f}},"&$focused":{backgroundColor:a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:o.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(o.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:o.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(o.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:o.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.type==="light"?null:"#fff",caretColor:o.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},cce=we.forwardRef(function(o,a){var u=o.disableUnderline,f=o.classes,g=o.fullWidth,v=g===void 0?!1:g,S=o.inputComponent,w=S===void 0?"input":S,I=o.multiline,k=I===void 0?!1:I,F=o.type,U=F===void 0?"text":F,N=Zr(o,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return we.createElement(S$,Rt({classes:Rt({},f,{root:jr(f.root,!u&&f.underline),underline:null}),fullWidth:v,inputComponent:w,multiline:k,ref:a,type:U},N))});cce.muiName="Input";const PKe=hi(kKe,{name:"MuiFilledInput"})(cce);var RKe={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},NKe=we.forwardRef(function(o,a){var u=o.children,f=o.classes,g=o.className,v=o.color,S=v===void 0?"primary":v,w=o.component,I=w===void 0?"div":w,k=o.disabled,F=k===void 0?!1:k,U=o.error,N=U===void 0?!1:U,H=o.fullWidth,q=H===void 0?!1:H,j=o.focused,se=o.hiddenLabel,he=se===void 0?!1:se,oe=o.margin,ue=oe===void 0?"none":oe,X=o.required,de=X===void 0?!1:X,fe=o.size,Fe=o.variant,M=Fe===void 0?"standard":Fe,ke=Zr(o,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),qe=we.useState(function(){var dt=!1;return u&&we.Children.forEach(u,function(It){if(uA(It,["Input","Select"])){var St=uA(It,["Select"])?It.props.input:It;St&&xKe(St.props)&&(dt=!0)}}),dt}),Te=qe[0],at=qe[1],_t=we.useState(function(){var dt=!1;return u&&we.Children.forEach(u,function(It){uA(It,["Input","Select"])&&b$(It.props,!0)&&(dt=!0)}),dt}),z=_t[0],be=_t[1],Re=we.useState(!1),ie=Re[0],pe=Re[1],me=j!==void 0?j:ie;F&&me&&pe(!1);var ce,_e=we.useCallback(function(){be(!0)},[]),Le=we.useCallback(function(){be(!1)},[]),Ke={adornedStart:Te,setAdornedStart:at,color:S,disabled:F,error:N,filled:z,focused:me,fullWidth:q,hiddenLabel:he,margin:(fe==="small"?"dense":void 0)||ue,onBlur:function(){pe(!1)},onEmpty:Le,onFilled:_e,onFocus:function(){pe(!0)},registerEffect:ce,required:de,variant:M};return we.createElement(dR.Provider,{value:Ke},we.createElement(I,Rt({className:jr(f.root,g,ue!=="none"&&f["margin".concat(ci(ue))],q&&f.fullWidth),ref:a},ke),u))});const Eae=hi(RKe,{name:"MuiFormControl"})(NKe);var MKe=function(o){return{root:Rt({color:o.palette.text.secondary},o.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:o.palette.primary.main},"&$disabled":{color:o.palette.text.disabled},"&$error":{color:o.palette.error.main}}),colorSecondary:{"&$focused":{color:o.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:o.palette.error.main}}}},LKe=we.forwardRef(function(o,a){var u=o.children,f=o.classes,g=o.className;o.color;var v=o.component,S=v===void 0?"label":v;o.disabled,o.error,o.filled,o.focused,o.required;var w=Zr(o,["children","classes","className","color","component","disabled","error","filled","focused","required"]),I=pR(),k=RA({props:o,muiFormControl:I,states:["color","required","focused","disabled","error","filled"]});return we.createElement(S,Rt({className:jr(f.root,f["color".concat(ci(k.color||"primary"))],g,k.disabled&&f.disabled,k.error&&f.error,k.filled&&f.filled,k.focused&&f.focused,k.required&&f.required),ref:a},w),u,k.required&&we.createElement("span",{"aria-hidden":!0,className:jr(f.asterisk,k.error&&f.error)},"","*"))});const BKe=hi(MKe,{name:"MuiFormLabel"})(LKe);var FKe=[0,1,2,3,4,5,6,7,8,9,10],UKe=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function HKe(l,o,a){var u={};UKe.forEach(function(f){var g="grid-".concat(a,"-").concat(f);if(f===!0){u[g]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(f==="auto"){u[g]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var v="".concat(Math.round(f/12*1e8)/1e6,"%");u[g]={flexBasis:v,flexGrow:0,maxWidth:v}}),a==="xs"?Rt(l,u):l[o.breakpoints.up(a)]=u}function k4(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=parseFloat(l);return"".concat(a/o).concat(String(l).replace(String(a),"")||"px")}function $Ke(l,o){var a={};return FKe.forEach(function(u){var f=l.spacing(u);f!==0&&(a["spacing-".concat(o,"-").concat(u)]={margin:"-".concat(k4(f,2)),width:"calc(100% + ".concat(k4(f),")"),"& > $item":{padding:k4(f,2)}})}),a}var GKe=function(o){return Rt({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},$Ke(o,"xs"),o.breakpoints.keys.reduce(function(a,u){return HKe(a,o,u),a},{}))},zKe=we.forwardRef(function(o,a){var u=o.alignContent,f=u===void 0?"stretch":u,g=o.alignItems,v=g===void 0?"stretch":g,S=o.classes,w=o.className,I=o.component,k=I===void 0?"div":I,F=o.container,U=F===void 0?!1:F,N=o.direction,H=N===void 0?"row":N,q=o.item,j=q===void 0?!1:q,se=o.justify,he=o.justifyContent,oe=he===void 0?"flex-start":he,ue=o.lg,X=ue===void 0?!1:ue,de=o.md,fe=de===void 0?!1:de,Fe=o.sm,M=Fe===void 0?!1:Fe,ke=o.spacing,qe=ke===void 0?0:ke,Te=o.wrap,at=Te===void 0?"wrap":Te,_t=o.xl,z=_t===void 0?!1:_t,be=o.xs,Re=be===void 0?!1:be,ie=o.zeroMinWidth,pe=ie===void 0?!1:ie,me=Zr(o,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),ce=jr(S.root,w,U&&[S.container,qe!==0&&S["spacing-xs-".concat(String(qe))]],j&&S.item,pe&&S.zeroMinWidth,H!=="row"&&S["direction-xs-".concat(String(H))],at!=="wrap"&&S["wrap-xs-".concat(String(at))],v!=="stretch"&&S["align-items-xs-".concat(String(v))],f!=="stretch"&&S["align-content-xs-".concat(String(f))],(se||oe)!=="flex-start"&&S["justify-content-xs-".concat(String(se||oe))],Re!==!1&&S["grid-xs-".concat(String(Re))],M!==!1&&S["grid-sm-".concat(String(M))],fe!==!1&&S["grid-md-".concat(String(fe))],X!==!1&&S["grid-lg-".concat(String(X))],z!==!1&&S["grid-xl-".concat(String(z))]);return we.createElement(k,Rt({className:ce,ref:a},me))}),Jk=hi(GKe,{name:"MuiGrid"})(zKe);function JU(l){return"scale(".concat(l,", ").concat(Math.pow(l,2),")")}var jKe={entering:{opacity:1,transform:JU(1)},entered:{opacity:1,transform:"none"}},C$=we.forwardRef(function(o,a){var u=o.children,f=o.disableStrictModeCompat,g=f===void 0?!1:f,v=o.in,S=o.onEnter,w=o.onEntered,I=o.onEntering,k=o.onExit,F=o.onExited,U=o.onExiting,N=o.style,H=o.timeout,q=H===void 0?"auto":H,j=o.TransitionComponent,se=j===void 0?ef:j,he=Zr(o,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),oe=we.useRef(),ue=we.useRef(),X=hR(),de=X.unstable_strictMode&&!g,fe=we.useRef(null),Fe=qa(u.ref,a),M=qa(de?fe:void 0,Fe),ke=function(pe){return function(me,ce){if(pe){var _e=de?[fe.current,me]:[me,ce],Le=o$(_e,2),Ke=Le[0],dt=Le[1];dt===void 0?pe(Ke):pe(Ke,dt)}}},qe=ke(I),Te=ke(function(ie,pe){oce(ie);var me=VP({style:N,timeout:q},{mode:"enter"}),ce=me.duration,_e=me.delay,Le;q==="auto"?(Le=X.transitions.getAutoHeightDuration(ie.clientHeight),ue.current=Le):Le=ce,ie.style.transition=[X.transitions.create("opacity",{duration:Le,delay:_e}),X.transitions.create("transform",{duration:Le*.666,delay:_e})].join(","),S&&S(ie,pe)}),at=ke(w),_t=ke(U),z=ke(function(ie){var pe=VP({style:N,timeout:q},{mode:"exit"}),me=pe.duration,ce=pe.delay,_e;q==="auto"?(_e=X.transitions.getAutoHeightDuration(ie.clientHeight),ue.current=_e):_e=me,ie.style.transition=[X.transitions.create("opacity",{duration:_e,delay:ce}),X.transitions.create("transform",{duration:_e*.666,delay:ce||_e*.333})].join(","),ie.style.opacity="0",ie.style.transform=JU(.75),k&&k(ie)}),be=ke(F),Re=function(pe,me){var ce=de?pe:me;q==="auto"&&(oe.current=setTimeout(ce,ue.current||0))};return we.useEffect(function(){return function(){clearTimeout(oe.current)}},[]),we.createElement(se,Rt({appear:!0,in:v,nodeRef:de?fe:void 0,onEnter:Te,onEntered:at,onEntering:qe,onExit:z,onExited:be,onExiting:_t,addEndListener:Re,timeout:q==="auto"?null:q},he),function(ie,pe){return we.cloneElement(u,Rt({style:Rt({opacity:0,transform:JU(.75),visibility:ie==="exited"&&!v?"hidden":void 0},jKe[ie],N,u.props.style),ref:M},pe))})});C$.muiSupportAuto=!0;var VKe=function(o){var a=o.palette.type==="light",u=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:o.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(o.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:o.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(o.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(u)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},hce=we.forwardRef(function(o,a){var u=o.disableUnderline,f=o.classes,g=o.fullWidth,v=g===void 0?!1:g,S=o.inputComponent,w=S===void 0?"input":S,I=o.multiline,k=I===void 0?!1:I,F=o.type,U=F===void 0?"text":F,N=Zr(o,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return we.createElement(S$,Rt({classes:Rt({},f,{root:jr(f.root,!u&&f.underline),underline:null}),fullWidth:v,inputComponent:w,multiline:k,ref:a,type:U},N))});hce.muiName="Input";const A$=hi(VKe,{name:"MuiInput"})(hce);var WKe=function(o){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:o.transitions.create(["color","transform"],{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},YKe=we.forwardRef(function(o,a){var u=o.classes,f=o.className,g=o.disableAnimation,v=g===void 0?!1:g;o.margin;var S=o.shrink;o.variant;var w=Zr(o,["classes","className","disableAnimation","margin","shrink","variant"]),I=pR(),k=S;typeof k>"u"&&I&&(k=I.filled||I.focused||I.adornedStart);var F=RA({props:o,muiFormControl:I,states:["margin","variant"]});return we.createElement(BKe,Rt({"data-shrink":k,className:jr(u.root,f,I&&u.formControl,!v&&u.animated,k&&u.shrink,F.margin==="dense"&&u.marginDense,{filled:u.filled,outlined:u.outlined}[F.variant]),classes:{focused:u.focused,disabled:u.disabled,error:u.error,required:u.required,asterisk:u.asterisk},ref:a},w))});const XKe=hi(WKe,{name:"MuiInputLabel"})(YKe);var RP=we.createContext({}),qKe={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},KKe=we.forwardRef(function(o,a){var u=o.children,f=o.classes,g=o.className,v=o.component,S=v===void 0?"ul":v,w=o.dense,I=w===void 0?!1:w,k=o.disablePadding,F=k===void 0?!1:k,U=o.subheader,N=Zr(o,["children","classes","className","component","dense","disablePadding","subheader"]),H=we.useMemo(function(){return{dense:I}},[I]);return we.createElement(RP.Provider,{value:H},we.createElement(S,Rt({className:jr(f.root,g,I&&f.dense,!F&&f.padding,U&&f.subheader),ref:a},N),U,u))});const ZKe=hi(qKe,{name:"MuiList"})(KKe);var QKe=function(o){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:o.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:o.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(o.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:o.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},JKe=typeof window>"u"?we.useEffect:we.useLayoutEffect,eZe=we.forwardRef(function(o,a){var u=o.alignItems,f=u===void 0?"center":u,g=o.autoFocus,v=g===void 0?!1:g,S=o.button,w=S===void 0?!1:S,I=o.children,k=o.classes,F=o.className,U=o.component,N=o.ContainerComponent,H=N===void 0?"li":N,q=o.ContainerProps;q=q===void 0?{}:q;var j=q.className,se=Zr(q,["className"]),he=o.dense,oe=he===void 0?!1:he,ue=o.disabled,X=ue===void 0?!1:ue,de=o.disableGutters,fe=de===void 0?!1:de,Fe=o.divider,M=Fe===void 0?!1:Fe,ke=o.focusVisibleClassName,qe=o.selected,Te=qe===void 0?!1:qe,at=Zr(o,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),_t=we.useContext(RP),z={dense:oe||_t.dense||!1,alignItems:f},be=we.useRef(null);JKe(function(){v&&be.current&&be.current.focus()},[v]);var Re=we.Children.toArray(I),ie=Re.length&&uA(Re[Re.length-1],["ListItemSecondaryAction"]),pe=we.useCallback(function(Le){be.current=Mu.findDOMNode(Le)},[]),me=qa(pe,a),ce=Rt({className:jr(k.root,F,z.dense&&k.dense,!fe&&k.gutters,M&&k.divider,X&&k.disabled,w&&k.button,f!=="center"&&k.alignItemsFlexStart,ie&&k.secondaryAction,Te&&k.selected),disabled:X},at),_e=U||"li";return w&&(ce.component=U||"div",ce.focusVisibleClassName=jr(k.focusVisible,ke),_e=gA),ie?(_e=!ce.component&&!U?"div":_e,H==="li"&&(_e==="li"?_e="div":ce.component==="li"&&(ce.component="div")),we.createElement(RP.Provider,{value:z},we.createElement(H,Rt({className:jr(k.container,j),ref:me},se),we.createElement(_e,ce,Re),Re.pop()))):we.createElement(RP.Provider,{value:z},we.createElement(_e,Rt({ref:me},ce),Re))});const tZe=hi(QKe,{name:"MuiListItem"})(eZe);function Tae(l,o){var a=0;return typeof o=="number"?a=o:o==="center"?a=l.height/2:o==="bottom"&&(a=l.height),a}function bae(l,o){var a=0;return typeof o=="number"?a=o:o==="center"?a=l.width/2:o==="right"&&(a=l.width),a}function Sae(l){return[l.horizontal,l.vertical].map(function(o){return typeof o=="number"?"".concat(o,"px"):o}).join(" ")}function rZe(l,o){for(var a=o,u=0;a&&a!==l;)a=a.parentElement,u+=a.scrollTop;return u}function P4(l){return typeof l=="function"?l():l}var nZe={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},iZe=we.forwardRef(function(o,a){var u=o.action,f=o.anchorEl,g=o.anchorOrigin,v=g===void 0?{vertical:"top",horizontal:"left"}:g,S=o.anchorPosition,w=o.anchorReference,I=w===void 0?"anchorEl":w,k=o.children,F=o.classes,U=o.className,N=o.container,H=o.elevation,q=H===void 0?8:H,j=o.getContentAnchorEl,se=o.marginThreshold,he=se===void 0?16:se,oe=o.onEnter,ue=o.onEntered,X=o.onEntering,de=o.onExit,fe=o.onExited,Fe=o.onExiting,M=o.open,ke=o.PaperProps,qe=ke===void 0?{}:ke,Te=o.transformOrigin,at=Te===void 0?{vertical:"top",horizontal:"left"}:Te,_t=o.TransitionComponent,z=_t===void 0?C$:_t,be=o.transitionDuration,Re=be===void 0?"auto":be,ie=o.TransitionProps,pe=ie===void 0?{}:ie,me=Zr(o,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),ce=we.useRef(),_e=we.useCallback(function(Pt){if(I==="anchorPosition")return S;var Vt=P4(f),lr=Vt&&Vt.nodeType===1?Vt:Kl(ce.current).body,Gt=lr.getBoundingClientRect(),ar=Pt===0?v.vertical:"center";return{top:Gt.top+Tae(Gt,ar),left:Gt.left+bae(Gt,v.horizontal)}},[f,v.horizontal,v.vertical,S,I]),Le=we.useCallback(function(Pt){var Vt=0;if(j&&I==="anchorEl"){var lr=j(Pt);if(lr&&Pt.contains(lr)){var Gt=rZe(Pt,lr);Vt=lr.offsetTop+lr.clientHeight/2-Gt||0}}return Vt},[v.vertical,I,j]),Ke=we.useCallback(function(Pt){var Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:Tae(Pt,at.vertical)+Vt,horizontal:bae(Pt,at.horizontal)}},[at.horizontal,at.vertical]),dt=we.useCallback(function(Pt){var Vt=Le(Pt),lr={width:Pt.offsetWidth,height:Pt.offsetHeight},Gt=Ke(lr,Vt);if(I==="none")return{top:null,left:null,transformOrigin:Sae(Gt)};var ar=_e(Vt),Wt=ar.top-Gt.vertical,Dr=ar.left-Gt.horizontal,Tn=Wt+lr.height,_i=Dr+lr.width,Vn=v$(P4(f)),Nn=Vn.innerHeight-he,pi=Vn.innerWidth-he;if(Wt<he){var Jn=Wt-he;Wt-=Jn,Gt.vertical+=Jn}else if(Tn>Nn){var Mn=Tn-Nn;Wt-=Mn,Gt.vertical+=Mn}if(Dr<he){var Aa=Dr-he;Dr-=Aa,Gt.horizontal+=Aa}else if(_i>pi){var ma=_i-pi;Dr-=ma,Gt.horizontal+=ma}return{top:"".concat(Math.round(Wt),"px"),left:"".concat(Math.round(Dr),"px"),transformOrigin:Sae(Gt)}},[f,I,_e,Le,Ke,he]),It=we.useCallback(function(){var Pt=ce.current;if(Pt){var Vt=dt(Pt);Vt.top!==null&&(Pt.style.top=Vt.top),Vt.left!==null&&(Pt.style.left=Vt.left),Pt.style.transformOrigin=Vt.transformOrigin}},[dt]),St=function(Vt,lr){X&&X(Vt,lr),It()},Mt=we.useCallback(function(Pt){ce.current=Mu.findDOMNode(Pt)},[]);we.useEffect(function(){M&&It()}),we.useImperativeHandle(u,function(){return M?{updatePosition:function(){It()}}:null},[M,It]),we.useEffect(function(){if(M){var Pt=g$(function(){It()});return window.addEventListener("resize",Pt),function(){Pt.clear(),window.removeEventListener("resize",Pt)}}},[M,It]);var Bt=Re;Re==="auto"&&!z.muiSupportAuto&&(Bt=void 0);var Lt=N||(f?Kl(P4(f)).body:void 0);return we.createElement(uce,Rt({container:Lt,open:M,ref:a,BackdropProps:{invisible:!0},className:jr(F.root,U)},me),we.createElement(z,Rt({appear:!0,in:M,onEnter:oe,onEntered:ue,onExit:de,onExited:fe,onExiting:Fe,timeout:Bt},pe,{onEntering:q_(St,pe.onEntering)}),we.createElement(E$,Rt({elevation:q,ref:Mt},qe,{className:jr(F.paper,qe.className)}),k)))});const aZe=hi(nZe,{name:"MuiPopover"})(iZe);function R4(l,o,a){return l===o?l.firstChild:o&&o.nextElementSibling?o.nextElementSibling:a?null:l.firstChild}function Cae(l,o,a){return l===o?a?l.firstChild:l.lastChild:o&&o.previousElementSibling?o.previousElementSibling:a?null:l.lastChild}function fce(l,o){if(o===void 0)return!0;var a=l.innerText;return a===void 0&&(a=l.textContent),a=a.trim().toLowerCase(),a.length===0?!1:o.repeating?a[0]===o.keys[0]:a.indexOf(o.keys.join(""))===0}function $C(l,o,a,u,f,g){for(var v=!1,S=f(l,o,o?a:!1);S;){if(S===l.firstChild){if(v)return;v=!0}var w=u?!1:S.disabled||S.getAttribute("aria-disabled")==="true";if(!S.hasAttribute("tabindex")||!fce(S,g)||w)S=f(l,S,a);else{S.focus();return}}}var oZe=typeof window>"u"?we.useEffect:we.useLayoutEffect,sZe=we.forwardRef(function(o,a){var u=o.actions,f=o.autoFocus,g=f===void 0?!1:f,v=o.autoFocusItem,S=v===void 0?!1:v,w=o.children,I=o.className,k=o.disabledItemsFocusable,F=k===void 0?!1:k,U=o.disableListWrap,N=U===void 0?!1:U,H=o.onKeyDown,q=o.variant,j=q===void 0?"selectedMenu":q,se=Zr(o,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),he=we.useRef(null),oe=we.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});oZe(function(){g&&he.current.focus()},[g]),we.useImperativeHandle(u,function(){return{adjustStyleForScrollbar:function(ke,qe){var Te=!he.current.style.width;if(ke.clientHeight<he.current.clientHeight&&Te){var at="".concat(lce(),"px");he.current.style[qe.direction==="rtl"?"paddingLeft":"paddingRight"]=at,he.current.style.width="calc(100% + ".concat(at,")")}return he.current}}},[]);var ue=function(ke){var qe=he.current,Te=ke.key,at=Kl(qe).activeElement;if(Te==="ArrowDown")ke.preventDefault(),$C(qe,at,N,F,R4);else if(Te==="ArrowUp")ke.preventDefault(),$C(qe,at,N,F,Cae);else if(Te==="Home")ke.preventDefault(),$C(qe,null,N,F,R4);else if(Te==="End")ke.preventDefault(),$C(qe,null,N,F,Cae);else if(Te.length===1){var _t=oe.current,z=Te.toLowerCase(),be=performance.now();_t.keys.length>0&&(be-_t.lastTime>500?(_t.keys=[],_t.repeating=!0,_t.previousKeyMatched=!0):_t.repeating&&z!==_t.keys[0]&&(_t.repeating=!1)),_t.lastTime=be,_t.keys.push(z);var Re=at&&!_t.repeating&&fce(at,_t);_t.previousKeyMatched&&(Re||$C(qe,at,!1,F,R4,_t))?ke.preventDefault():_t.previousKeyMatched=!1}H&&H(ke)},X=we.useCallback(function(M){he.current=Mu.findDOMNode(M)},[]),de=qa(X,a),fe=-1;we.Children.forEach(w,function(M,ke){we.isValidElement(M)&&(M.props.disabled||(j==="selectedMenu"&&M.props.selected||fe===-1)&&(fe=ke))});var Fe=we.Children.map(w,function(M,ke){if(ke===fe){var qe={};return S&&(qe.autoFocus=!0),M.props.tabIndex===void 0&&j==="selectedMenu"&&(qe.tabIndex=0),we.cloneElement(M,qe)}return M});return we.createElement(ZKe,Rt({role:"menu",ref:de,className:I,onKeyDown:ue,tabIndex:g?0:-1},se),Fe)}),Aae={vertical:"top",horizontal:"right"},wae={vertical:"top",horizontal:"left"},lZe={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},uZe=we.forwardRef(function(o,a){var u=o.autoFocus,f=u===void 0?!0:u,g=o.children,v=o.classes,S=o.disableAutoFocusItem,w=S===void 0?!1:S,I=o.MenuListProps,k=I===void 0?{}:I,F=o.onClose,U=o.onEntering,N=o.open,H=o.PaperProps,q=H===void 0?{}:H,j=o.PopoverClasses,se=o.transitionDuration,he=se===void 0?"auto":se,oe=o.TransitionProps;oe=oe===void 0?{}:oe;var ue=oe.onEntering,X=Zr(oe,["onEntering"]),de=o.variant,fe=de===void 0?"selectedMenu":de,Fe=Zr(o,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),M=hR(),ke=f&&!w&&N,qe=we.useRef(null),Te=we.useRef(null),at=function(){return Te.current},_t=function(pe,me){qe.current&&qe.current.adjustStyleForScrollbar(pe,M),U&&U(pe,me),ue&&ue(pe,me)},z=function(pe){pe.key==="Tab"&&(pe.preventDefault(),F&&F(pe,"tabKeyDown"))},be=-1;we.Children.map(g,function(ie,pe){we.isValidElement(ie)&&(ie.props.disabled||(fe!=="menu"&&ie.props.selected||be===-1)&&(be=pe))});var Re=we.Children.map(g,function(ie,pe){return pe===be?we.cloneElement(ie,{ref:function(ce){Te.current=Mu.findDOMNode(ce),K_(ie.ref,ce)}}):ie});return we.createElement(aZe,Rt({getContentAnchorEl:at,classes:j,onClose:F,TransitionProps:Rt({onEntering:_t},X),anchorOrigin:M.direction==="rtl"?Aae:wae,transformOrigin:M.direction==="rtl"?Aae:wae,PaperProps:Rt({},q,{classes:Rt({},q.classes,{root:v.paper})}),open:N,ref:a,transitionDuration:he},Fe),we.createElement(sZe,Rt({onKeyDown:z,actions:qe,autoFocus:f&&(be===-1||w),autoFocusItem:ke,variant:fe},k,{className:jr(v.list,k.className)}),Re))});const cZe=hi(lZe,{name:"MuiMenu"})(uZe);var hZe=function(o){return{root:Rt({},o.typography.body1,Xo({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},o.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Rt({},o.typography.body2,{minHeight:"auto"})}},fZe=we.forwardRef(function(o,a){var u=o.classes,f=o.className,g=o.component,v=g===void 0?"li":g,S=o.disableGutters,w=S===void 0?!1:S,I=o.ListItemClasses,k=o.role,F=k===void 0?"menuitem":k,U=o.selected,N=o.tabIndex,H=Zr(o,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]),q;return o.disabled||(q=N!==void 0?N:-1),we.createElement(tZe,Rt({button:!0,role:F,tabIndex:q,component:v,selected:U,disableGutters:w,classes:Rt({dense:u.dense},I),className:jr(u.root,f,U&&u.selected,!w&&u.gutters),ref:a},H))});const dZe=hi(hZe,{name:"MuiMenuItem"})(fZe);var dce=we.forwardRef(function(o,a){var u=o.classes,f=o.className,g=o.disabled,v=o.IconComponent,S=o.inputRef,w=o.variant,I=w===void 0?"standard":w,k=Zr(o,["classes","className","disabled","IconComponent","inputRef","variant"]);return we.createElement(we.Fragment,null,we.createElement("select",Rt({className:jr(u.root,u.select,u[I],f,g&&u.disabled),disabled:g,ref:S||a},k)),o.multiple?null:we.createElement(v,{className:jr(u.icon,u["icon".concat(ci(I))],g&&u.disabled)}))});const pce=m$(we.createElement("path",{d:"M7 10l5 5 5-5z"}));var mce=function(o){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:o.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:o.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:o.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:o.palette.action.active,"&$disabled":{color:o.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},pZe=we.createElement(A$,null),gce=we.forwardRef(function(o,a){var u=o.children,f=o.classes,g=o.IconComponent,v=g===void 0?pce:g,S=o.input,w=S===void 0?pZe:S,I=o.inputProps;o.variant;var k=Zr(o,["children","classes","IconComponent","input","inputProps","variant"]),F=pR(),U=RA({props:o,muiFormControl:F,states:["variant"]});return we.cloneElement(w,Rt({inputComponent:dce,inputProps:Rt({children:u,classes:f,IconComponent:v,variant:U.variant,type:void 0},I,w?w.props.inputProps:{}),ref:a},k))});gce.muiName="Select";hi(mce,{name:"MuiNativeSelect"})(gce);var mZe=function(o){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:o.transitions.create("width",{duration:150,easing:o.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:o.transitions.create("max-width",{duration:50,easing:o.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:o.transitions.create("max-width",{duration:100,easing:o.transitions.easing.easeOut,delay:50})}}},gZe=we.forwardRef(function(o,a){o.children;var u=o.classes,f=o.className,g=o.label,v=o.labelWidth,S=o.notched,w=o.style,I=Zr(o,["children","classes","className","label","labelWidth","notched","style"]),k=hR(),F=k.direction==="rtl"?"right":"left";if(g!==void 0)return we.createElement("fieldset",Rt({"aria-hidden":!0,className:jr(u.root,f),ref:a,style:w},I),we.createElement("legend",{className:jr(u.legendLabelled,S&&u.legendNotched)},g?we.createElement("span",null,g):we.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var U=v>0?v*.75+8:.01;return we.createElement("fieldset",Rt({"aria-hidden":!0,style:Rt(Xo({},"padding".concat(ci(F)),8),w),className:jr(u.root,f),ref:a},I),we.createElement("legend",{className:u.legend,style:{width:S?U:.01}},we.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const vZe=hi(mZe,{name:"PrivateNotchedOutline"})(gZe);var yZe=function(o){var a=o.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:o.shape.borderRadius,"&:hover $notchedOutline":{borderColor:o.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:a}},"&$focused $notchedOutline":{borderColor:o.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:o.palette.error.main},"&$disabled $notchedOutline":{borderColor:o.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:o.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:a},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:o.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.type==="light"?null:"#fff",caretColor:o.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},vce=we.forwardRef(function(o,a){var u=o.classes,f=o.fullWidth,g=f===void 0?!1:f,v=o.inputComponent,S=v===void 0?"input":v,w=o.label,I=o.labelWidth,k=I===void 0?0:I,F=o.multiline,U=F===void 0?!1:F,N=o.notched,H=o.type,q=H===void 0?"text":H,j=Zr(o,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return we.createElement(S$,Rt({renderSuffix:function(he){return we.createElement(vZe,{className:u.notchedOutline,label:w,labelWidth:k,notched:typeof N<"u"?N:!!(he.startAdornment||he.filled||he.focused)})},classes:Rt({},u,{root:jr(u.root,u.underline),notchedOutline:null}),fullWidth:g,inputComponent:S,multiline:U,ref:a,type:q},j))});vce.muiName="Input";const _Ze=hi(yZe,{name:"MuiOutlinedInput"})(vce);function xae(l,o){return zv(o)==="object"&&o!==null?l===o:String(l)===String(o)}function EZe(l){return l==null||typeof l=="string"&&!l.trim()}var TZe=we.forwardRef(function(o,a){var u=o["aria-label"],f=o.autoFocus,g=o.autoWidth,v=o.children,S=o.classes,w=o.className,I=o.defaultValue,k=o.disabled,F=o.displayEmpty,U=o.IconComponent,N=o.inputRef,H=o.labelId,q=o.MenuProps,j=q===void 0?{}:q,se=o.multiple,he=o.name,oe=o.onBlur,ue=o.onChange,X=o.onClose,de=o.onFocus,fe=o.onOpen,Fe=o.open,M=o.readOnly,ke=o.renderValue,qe=o.SelectDisplayProps,Te=qe===void 0?{}:qe,at=o.tabIndex;o.type;var _t=o.value,z=o.variant,be=z===void 0?"standard":z,Re=Zr(o,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),ie=ice({controlled:_t,default:I,name:"Select"}),pe=o$(ie,2),me=pe[0],ce=pe[1],_e=we.useRef(null),Le=we.useState(null),Ke=Le[0],dt=Le[1],It=we.useRef(Fe!=null),St=It.current,Mt=we.useState(),Bt=Mt[0],Lt=Mt[1],Pt=we.useState(!1),Vt=Pt[0],lr=Pt[1],Gt=qa(a,N);we.useImperativeHandle(Gt,function(){return{focus:function(){Ke.focus()},node:_e.current,value:me}},[Ke,me]),we.useEffect(function(){f&&Ke&&Ke.focus()},[f,Ke]),we.useEffect(function(){if(Ke){var Wn=Kl(Ke).getElementById(H);if(Wn){var Vr=function(){getSelection().isCollapsed&&Ke.focus()};return Wn.addEventListener("click",Vr),function(){Wn.removeEventListener("click",Vr)}}}},[H,Ke]);var ar=function(Vr,Ei){Vr?fe&&fe(Ei):X&&X(Ei),St||(Lt(g?null:Ke.clientWidth),lr(Vr))},Wt=function(Vr){Vr.button===0&&(Vr.preventDefault(),Ke.focus(),ar(!0,Vr))},Dr=function(Vr){ar(!1,Vr)},Tn=we.Children.toArray(v),_i=function(Vr){var Ei=Tn.map(function(wt){return wt.props.value}).indexOf(Vr.target.value);if(Ei!==-1){var Li=Tn[Ei];ce(Li.props.value),ue&&ue(Vr,Li)}},Vn=function(Vr){return function(Ei){se||ar(!1,Ei);var Li;if(se){Li=Array.isArray(me)?me.slice():[];var wt=me.indexOf(Vr.props.value);wt===-1?Li.push(Vr.props.value):Li.splice(wt,1)}else Li=Vr.props.value;Vr.props.onClick&&Vr.props.onClick(Ei),me!==Li&&(ce(Li),ue&&(Ei.persist(),Object.defineProperty(Ei,"target",{writable:!0,value:{value:Li,name:he}}),ue(Ei,Vr)))}},Nn=function(Vr){if(!M){var Ei=[" ","ArrowUp","ArrowDown","Enter"];Ei.indexOf(Vr.key)!==-1&&(Vr.preventDefault(),ar(!0,Vr))}},pi=Ke!==null&&(St?Fe:Vt),Jn=function(Vr){!pi&&oe&&(Vr.persist(),Object.defineProperty(Vr,"target",{writable:!0,value:{value:me,name:he}}),oe(Vr))};delete Re["aria-invalid"];var Mn,Aa,ma=[],ho=!1;(b$({value:me})||F)&&(ke?Mn=ke(me):ho=!0);var Wi=Tn.map(function(Wn){if(!we.isValidElement(Wn))return null;var Vr;if(se){if(!Array.isArray(me))throw new Error(X_(2));Vr=me.some(function(Ei){return xae(Ei,Wn.props.value)}),Vr&&ho&&ma.push(Wn.props.children)}else Vr=xae(me,Wn.props.value),Vr&&ho&&(Aa=Wn.props.children);return we.cloneElement(Wn,{"aria-selected":Vr?"true":void 0,onClick:Vn(Wn),onKeyUp:function(Li){Li.key===" "&&Li.preventDefault(),Wn.props.onKeyUp&&Wn.props.onKeyUp(Li)},role:"option",selected:Vr,value:void 0,"data-value":Wn.props.value})});ho&&(Mn=se?ma.join(", "):Aa);var mn=Bt;!g&&St&&Ke&&(mn=Ke.clientWidth);var Ga;typeof at<"u"?Ga=at:Ga=k?null:0;var Ka=Te.id||(he?"mui-component-select-".concat(he):void 0);return we.createElement(we.Fragment,null,we.createElement("div",Rt({className:jr(S.root,S.select,S.selectMenu,S[be],w,k&&S.disabled),ref:dt,tabIndex:Ga,role:"button","aria-disabled":k?"true":void 0,"aria-expanded":pi?"true":void 0,"aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[H,Ka].filter(Boolean).join(" ")||void 0,onKeyDown:Nn,onMouseDown:k||M?null:Wt,onBlur:Jn,onFocus:de},Te,{id:Ka}),EZe(Mn)?we.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):Mn),we.createElement("input",Rt({value:Array.isArray(me)?me.join(","):me,name:he,ref:_e,"aria-hidden":!0,onChange:_i,tabIndex:-1,className:S.nativeInput,autoFocus:f},Re)),we.createElement(U,{className:jr(S.icon,S["icon".concat(ci(be))],pi&&S.iconOpen,k&&S.disabled)}),we.createElement(cZe,Rt({id:"menu-".concat(he||""),anchorEl:Ke,open:pi,onClose:Dr},j,{MenuListProps:Rt({"aria-labelledby":H,role:"listbox",disableListWrap:!0},j.MenuListProps),PaperProps:Rt({},j.PaperProps,{style:Rt({minWidth:mn},j.PaperProps!=null?j.PaperProps.style:null)})}),Wi))}),bZe=mce,SZe=we.createElement(A$,null),CZe=we.createElement(PKe,null),yce=we.forwardRef(function l(o,a){var u=o.autoWidth,f=u===void 0?!1:u,g=o.children,v=o.classes,S=o.displayEmpty,w=S===void 0?!1:S,I=o.IconComponent,k=I===void 0?pce:I,F=o.id,U=o.input,N=o.inputProps,H=o.label,q=o.labelId,j=o.labelWidth,se=j===void 0?0:j,he=o.MenuProps,oe=o.multiple,ue=oe===void 0?!1:oe,X=o.native,de=X===void 0?!1:X,fe=o.onClose,Fe=o.onOpen,M=o.open,ke=o.renderValue,qe=o.SelectDisplayProps,Te=o.variant,at=Te===void 0?"standard":Te,_t=Zr(o,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),z=de?dce:TZe,be=pR(),Re=RA({props:o,muiFormControl:be,states:["variant"]}),ie=Re.variant||at,pe=U||{standard:SZe,outlined:we.createElement(_Ze,{label:H,labelWidth:se}),filled:CZe}[ie];return we.cloneElement(pe,Rt({inputComponent:z,inputProps:Rt({children:g,IconComponent:k,variant:ie,type:void 0,multiple:ue},de?{id:F}:{autoWidth:f,displayEmpty:w,labelId:q,MenuProps:he,onClose:fe,onOpen:Fe,open:M,renderValue:ke,SelectDisplayProps:Rt({id:F},qe)},N,{classes:N?d$({baseClasses:v,newClasses:N.classes,Component:l}):v},U?U.props.inputProps:{}),ref:a},_t))});yce.muiName="Select";const AZe=hi(bZe,{name:"MuiSelect"})(yce);var wZe=function(o){var a=o.palette.type==="light"?.8:.98,u=Sv(o.palette.background.default,a);return{root:Rt({},o.typography.body2,Xo({color:o.palette.getContrastText(u),backgroundColor:u,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:o.shape.borderRadius,flexGrow:1},o.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},xZe=we.forwardRef(function(o,a){var u=o.action,f=o.classes,g=o.className,v=o.message,S=o.role,w=S===void 0?"alert":S,I=Zr(o,["action","classes","className","message","role"]);return we.createElement(E$,Rt({role:w,square:!0,elevation:6,className:jr(f.root,g),ref:a},I),we.createElement("div",{className:f.message},v),u?we.createElement("div",{className:f.action},u):null)});const IZe=hi(wZe,{name:"MuiSnackbarContent"})(xZe);var DZe=function(o){var a={top:8},u={bottom:8},f={justifyContent:"flex-end"},g={justifyContent:"flex-start"},v={top:24},S={bottom:24},w={right:24},I={left:24},k={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:o.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Rt({},a,Xo({},o.breakpoints.up("sm"),Rt({},v,k))),anchorOriginBottomCenter:Rt({},u,Xo({},o.breakpoints.up("sm"),Rt({},S,k))),anchorOriginTopRight:Rt({},a,f,Xo({},o.breakpoints.up("sm"),Rt({left:"auto"},v,w))),anchorOriginBottomRight:Rt({},u,f,Xo({},o.breakpoints.up("sm"),Rt({left:"auto"},S,w))),anchorOriginTopLeft:Rt({},a,g,Xo({},o.breakpoints.up("sm"),Rt({right:"auto"},v,I))),anchorOriginBottomLeft:Rt({},u,g,Xo({},o.breakpoints.up("sm"),Rt({right:"auto"},S,I)))}},OZe=we.forwardRef(function(o,a){var u=o.action,f=o.anchorOrigin;f=f===void 0?{vertical:"bottom",horizontal:"center"}:f;var g=f.vertical,v=f.horizontal,S=o.autoHideDuration,w=S===void 0?null:S,I=o.children,k=o.classes,F=o.className,U=o.ClickAwayListenerProps,N=o.ContentProps,H=o.disableWindowBlurListener,q=H===void 0?!1:H,j=o.message,se=o.onClose,he=o.onEnter,oe=o.onEntered,ue=o.onEntering,X=o.onExit,de=o.onExited,fe=o.onExiting,Fe=o.onMouseEnter,M=o.onMouseLeave,ke=o.open,qe=o.resumeHideDuration,Te=o.TransitionComponent,at=Te===void 0?C$:Te,_t=o.transitionDuration,z=_t===void 0?{enter:Jp.enteringScreen,exit:Jp.leavingScreen}:_t,be=o.TransitionProps,Re=Zr(o,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),ie=we.useRef(),pe=we.useState(!0),me=pe[0],ce=pe[1],_e=kc(function(){se&&se.apply(void 0,arguments)}),Le=kc(function(Pt){!se||Pt==null||(clearTimeout(ie.current),ie.current=setTimeout(function(){_e(null,"timeout")},Pt))});we.useEffect(function(){return ke&&Le(w),function(){clearTimeout(ie.current)}},[ke,w,Le]);var Ke=function(){clearTimeout(ie.current)},dt=we.useCallback(function(){w!=null&&Le(qe??w*.5)},[w,qe,Le]),It=function(Vt){Fe&&Fe(Vt),Ke()},St=function(Vt){M&&M(Vt),dt()},Mt=function(Vt){se&&se(Vt,"clickaway")},Bt=function(){ce(!0)},Lt=function(){ce(!1)};return we.useEffect(function(){if(!q&&ke)return window.addEventListener("focus",dt),window.addEventListener("blur",Ke),function(){window.removeEventListener("focus",dt),window.removeEventListener("blur",Ke)}},[q,dt,ke]),!ke&&me?null:we.createElement(Qqe,Rt({onClickAway:Mt},U),we.createElement("div",Rt({className:jr(k.root,k["anchorOrigin".concat(ci(g)).concat(ci(v))],F),onMouseEnter:It,onMouseLeave:St,ref:a},Re),we.createElement(at,Rt({appear:!0,in:ke,onEnter:q_(Lt,he),onEntered:oe,onEntering:ue,onExit:X,onExited:q_(Bt,de),onExiting:fe,timeout:z,direction:g==="top"?"down":"up"},be),I||we.createElement(IZe,Rt({message:j,action:u},N)))))});const kZe=hi(DZe,{flip:!1,name:"MuiSnackbar"})(OZe);var nA={exports:{}};function PZe(l){var o=this.constructor;return this.then(function(a){return o.resolve(l()).then(function(){return a})},function(a){return o.resolve(l()).then(function(){return o.reject(a)})})}function RZe(l){var o=this;return new o(function(a,u){if(!(l&&typeof l.length<"u"))return u(new TypeError(typeof l+" "+l+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var f=Array.prototype.slice.call(l);if(f.length===0)return a([]);var g=f.length;function v(w,I){if(I&&(typeof I=="object"||typeof I=="function")){var k=I.then;if(typeof k=="function"){k.call(I,function(F){v(w,F)},function(F){f[w]={status:"rejected",reason:F},--g===0&&a(f)});return}}f[w]={status:"fulfilled",value:I},--g===0&&a(f)}for(var S=0;S<f.length;S++)v(S,f[S])})}function _ce(l,o){this.name="AggregateError",this.errors=l,this.message=o||""}_ce.prototype=Error.prototype;function NZe(l){var o=this;return new o(function(a,u){if(!(l&&typeof l.length<"u"))return u(new TypeError("Promise.any accepts an array"));var f=Array.prototype.slice.call(l);if(f.length===0)return u();for(var g=[],v=0;v<f.length;v++)try{o.resolve(f[v]).then(a).catch(function(S){g.push(S),g.length===f.length&&u(new _ce(g,"All promises were rejected"))})}catch(S){u(S)}})}var MZe=setTimeout;function Ece(l){return!!(l&&typeof l.length<"u")}function LZe(){}function BZe(l,o){return function(){l.apply(o,arguments)}}function pa(l){if(!(this instanceof pa))throw new TypeError("Promises must be constructed via new");if(typeof l!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],bce(l,this)}function Tce(l,o){for(;l._state===3;)l=l._value;if(l._state===0){l._deferreds.push(o);return}l._handled=!0,pa._immediateFn(function(){var a=l._state===1?o.onFulfilled:o.onRejected;if(a===null){(l._state===1?eH:vA)(o.promise,l._value);return}var u;try{u=a(l._value)}catch(f){vA(o.promise,f);return}eH(o.promise,u)})}function eH(l,o){try{if(o===l)throw new TypeError("A promise cannot be resolved with itself.");if(o&&(typeof o=="object"||typeof o=="function")){var a=o.then;if(o instanceof pa){l._state=3,l._value=o,tH(l);return}else if(typeof a=="function"){bce(BZe(a,o),l);return}}l._state=1,l._value=o,tH(l)}catch(u){vA(l,u)}}function vA(l,o){l._state=2,l._value=o,tH(l)}function tH(l){l._state===2&&l._deferreds.length===0&&pa._immediateFn(function(){l._handled||pa._unhandledRejectionFn(l._value)});for(var o=0,a=l._deferreds.length;o<a;o++)Tce(l,l._deferreds[o]);l._deferreds=null}function FZe(l,o,a){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof o=="function"?o:null,this.promise=a}function bce(l,o){var a=!1;try{l(function(u){a||(a=!0,eH(o,u))},function(u){a||(a=!0,vA(o,u))})}catch(u){if(a)return;a=!0,vA(o,u)}}pa.prototype.catch=function(l){return this.then(null,l)};pa.prototype.then=function(l,o){var a=new this.constructor(LZe);return Tce(this,new FZe(l,o,a)),a};pa.prototype.finally=PZe;pa.all=function(l){return new pa(function(o,a){if(!Ece(l))return a(new TypeError("Promise.all accepts an array"));var u=Array.prototype.slice.call(l);if(u.length===0)return o([]);var f=u.length;function g(S,w){try{if(w&&(typeof w=="object"||typeof w=="function")){var I=w.then;if(typeof I=="function"){I.call(w,function(k){g(S,k)},a);return}}u[S]=w,--f===0&&o(u)}catch(k){a(k)}}for(var v=0;v<u.length;v++)g(v,u[v])})};pa.any=NZe;pa.allSettled=RZe;pa.resolve=function(l){return l&&typeof l=="object"&&l.constructor===pa?l:new pa(function(o){o(l)})};pa.reject=function(l){return new pa(function(o,a){a(l)})};pa.race=function(l){return new pa(function(o,a){if(!Ece(l))return a(new TypeError("Promise.race accepts an array"));for(var u=0,f=l.length;u<f;u++)pa.resolve(l[u]).then(o,a)})};pa._immediateFn=typeof setImmediate=="function"&&function(l){setImmediate(l)}||function(l){MZe(l,0)};pa._unhandledRejectionFn=function(o){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",o)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var N4,Iae;function UZe(){if(Iae)return N4;Iae=1;var l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function u(g){if(g==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(g)}function f(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var v={},S=0;S<10;S++)v["_"+String.fromCharCode(S)]=S;var w=Object.getOwnPropertyNames(v).map(function(k){return v[k]});if(w.join("")!=="0123456789")return!1;var I={};return"abcdefghijklmnopqrst".split("").forEach(function(k){I[k]=k}),Object.keys(Object.assign({},I)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return N4=f()?Object.assign:function(g,v){for(var S,w=u(g),I,k=1;k<arguments.length;k++){S=Object(arguments[k]);for(var F in S)o.call(S,F)&&(w[F]=S[F]);if(l){I=l(S);for(var U=0;U<I.length;U++)a.call(S,I[U])&&(w[I[U]]=S[I[U]])}}return w},N4}var HZe=UZe();const $Ze=nm(HZe);/*!
 * @pixi/polyfill - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */self.Promise||(self.Promise=pa);Object.assign||(Object.assign=$Ze);var GZe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(self.performance&&self.performance.now)){var zZe=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-zZe}}var M4=Date.now(),Dae=["ms","moz","webkit","o"];for(var L4=0;L4<Dae.length&&!self.requestAnimationFrame;++L4){var B4=Dae[L4];self.requestAnimationFrame=self[B4+"RequestAnimationFrame"],self.cancelAnimationFrame=self[B4+"CancelAnimationFrame"]||self[B4+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(l){if(typeof l!="function")throw new TypeError(l+"is not a function");var o=Date.now(),a=GZe+M4-o;return a<0&&(a=0),M4=o,self.setTimeout(function(){M4=Date.now(),l(performance.now())},a)});self.cancelAnimationFrame||(self.cancelAnimationFrame=function(l){return clearTimeout(l)});Math.sign||(Math.sign=function(o){return o=Number(o),o===0||isNaN(o)?o:o>0?1:-1});Number.isInteger||(Number.isInteger=function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o});self.ArrayBuffer||(self.ArrayBuffer=Array);self.Float32Array||(self.Float32Array=Array);self.Uint32Array||(self.Uint32Array=Array);self.Uint16Array||(self.Uint16Array=Array);self.Uint8Array||(self.Uint8Array=Array);self.Int32Array||(self.Int32Array=Array);var F4=/iPhone/i,Oae=/iPod/i,kae=/iPad/i,Pae=/\biOS-universal(?:.+)Mac\b/i,U4=/\bAndroid(?:.+)Mobile\b/i,Rae=/Android/i,F_=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,eP=/Silk/i,Zf=/Windows Phone/i,Nae=/\bWindows(?:.+)ARM\b/i,Mae=/BlackBerry/i,Lae=/BB10/i,Bae=/Opera Mini/i,Fae=/\b(CriOS|Chrome)(?:.+)Mobile/i,Uae=/Mobile(?:.+)Firefox\b/i,Hae=function(l){return typeof l<"u"&&l.platform==="MacIntel"&&typeof l.maxTouchPoints=="number"&&l.maxTouchPoints>1&&typeof MSStream>"u"};function jZe(l){return function(o){return o.test(l)}}function VZe(l){var o={userAgent:"",platform:"",maxTouchPoints:0};!l&&typeof navigator<"u"?o={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof l=="string"?o.userAgent=l:l&&l.userAgent&&(o={userAgent:l.userAgent,platform:l.platform,maxTouchPoints:l.maxTouchPoints||0});var a=o.userAgent,u=a.split("[FBAN");typeof u[1]<"u"&&(a=u[0]),u=a.split("Twitter"),typeof u[1]<"u"&&(a=u[0]);var f=jZe(a),g={apple:{phone:f(F4)&&!f(Zf),ipod:f(Oae),tablet:!f(F4)&&(f(kae)||Hae(o))&&!f(Zf),universal:f(Pae),device:(f(F4)||f(Oae)||f(kae)||f(Pae)||Hae(o))&&!f(Zf)},amazon:{phone:f(F_),tablet:!f(F_)&&f(eP),device:f(F_)||f(eP)},android:{phone:!f(Zf)&&f(F_)||!f(Zf)&&f(U4),tablet:!f(Zf)&&!f(F_)&&!f(U4)&&(f(eP)||f(Rae)),device:!f(Zf)&&(f(F_)||f(eP)||f(U4)||f(Rae))||f(/\bokhttp\b/i)},windows:{phone:f(Zf),tablet:f(Nae),device:f(Zf)||f(Nae)},other:{blackberry:f(Mae),blackberry10:f(Lae),opera:f(Bae),firefox:f(Uae),chrome:f(Fae),device:f(Mae)||f(Lae)||f(Bae)||f(Uae)||f(Fae)},any:!1,phone:!1,tablet:!1};return g.any=g.apple.device||g.android.device||g.windows.device||g.other.device,g.phone=g.apple.phone||g.android.phone||g.windows.phone,g.tablet=g.apple.tablet||g.android.tablet||g.windows.tablet,g}/*!
 * @pixi/settings - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ku=VZe(self.navigator);function WZe(l){var o=!0;if(ku.tablet||ku.phone){if(ku.apple.device){var a=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(a){var u=parseInt(a[1],10);u<11&&(o=!1)}}if(ku.android.device){var a=navigator.userAgent.match(/Android\s([0-9.]*)/);if(a){var u=parseInt(a[1],10);u<7&&(o=!1)}}}return o?l:4}function YZe(){return!ku.apple.device}var $ae;(function(l){l[l.WEBGL_LEGACY=0]="WEBGL_LEGACY",l[l.WEBGL=1]="WEBGL",l[l.WEBGL2=2]="WEBGL2"})($ae||($ae={}));var Gae;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.WEBGL=1]="WEBGL",l[l.CANVAS=2]="CANVAS"})(Gae||(Gae={}));var zae;(function(l){l[l.COLOR=16384]="COLOR",l[l.DEPTH=256]="DEPTH",l[l.STENCIL=1024]="STENCIL"})(zae||(zae={}));var jae;(function(l){l[l.NORMAL=0]="NORMAL",l[l.ADD=1]="ADD",l[l.MULTIPLY=2]="MULTIPLY",l[l.SCREEN=3]="SCREEN",l[l.OVERLAY=4]="OVERLAY",l[l.DARKEN=5]="DARKEN",l[l.LIGHTEN=6]="LIGHTEN",l[l.COLOR_DODGE=7]="COLOR_DODGE",l[l.COLOR_BURN=8]="COLOR_BURN",l[l.HARD_LIGHT=9]="HARD_LIGHT",l[l.SOFT_LIGHT=10]="SOFT_LIGHT",l[l.DIFFERENCE=11]="DIFFERENCE",l[l.EXCLUSION=12]="EXCLUSION",l[l.HUE=13]="HUE",l[l.SATURATION=14]="SATURATION",l[l.COLOR=15]="COLOR",l[l.LUMINOSITY=16]="LUMINOSITY",l[l.NORMAL_NPM=17]="NORMAL_NPM",l[l.ADD_NPM=18]="ADD_NPM",l[l.SCREEN_NPM=19]="SCREEN_NPM",l[l.NONE=20]="NONE",l[l.SRC_OVER=0]="SRC_OVER",l[l.SRC_IN=21]="SRC_IN",l[l.SRC_OUT=22]="SRC_OUT",l[l.SRC_ATOP=23]="SRC_ATOP",l[l.DST_OVER=24]="DST_OVER",l[l.DST_IN=25]="DST_IN",l[l.DST_OUT=26]="DST_OUT",l[l.DST_ATOP=27]="DST_ATOP",l[l.ERASE=26]="ERASE",l[l.SUBTRACT=28]="SUBTRACT",l[l.XOR=29]="XOR"})(jae||(jae={}));var Vae;(function(l){l[l.POINTS=0]="POINTS",l[l.LINES=1]="LINES",l[l.LINE_LOOP=2]="LINE_LOOP",l[l.LINE_STRIP=3]="LINE_STRIP",l[l.TRIANGLES=4]="TRIANGLES",l[l.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",l[l.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Vae||(Vae={}));var Wae;(function(l){l[l.RGBA=6408]="RGBA",l[l.RGB=6407]="RGB",l[l.ALPHA=6406]="ALPHA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",l[l.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",l[l.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Wae||(Wae={}));var Yae;(function(l){l[l.TEXTURE_2D=3553]="TEXTURE_2D",l[l.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",l[l.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",l[l.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",l[l.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",l[l.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",l[l.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Yae||(Yae={}));var Xae;(function(l){l[l.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",l[l.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",l[l.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",l[l.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",l[l.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",l[l.FLOAT=5126]="FLOAT",l[l.HALF_FLOAT=36193]="HALF_FLOAT"})(Xae||(Xae={}));var qae;(function(l){l[l.FLOAT=0]="FLOAT",l[l.INT=1]="INT",l[l.UINT=2]="UINT"})(qae||(qae={}));var rH;(function(l){l[l.NEAREST=0]="NEAREST",l[l.LINEAR=1]="LINEAR"})(rH||(rH={}));var nH;(function(l){l[l.CLAMP=33071]="CLAMP",l[l.REPEAT=10497]="REPEAT",l[l.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(nH||(nH={}));var iH;(function(l){l[l.OFF=0]="OFF",l[l.POW2=1]="POW2",l[l.ON=2]="ON",l[l.ON_MANUAL=3]="ON_MANUAL"})(iH||(iH={}));var Kae;(function(l){l[l.NPM=0]="NPM",l[l.UNPACK=1]="UNPACK",l[l.PMA=2]="PMA",l[l.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",l[l.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",l[l.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Kae||(Kae={}));var Zae;(function(l){l[l.NO=0]="NO",l[l.YES=1]="YES",l[l.AUTO=2]="AUTO",l[l.BLEND=0]="BLEND",l[l.CLEAR=1]="CLEAR",l[l.BLIT=2]="BLIT"})(Zae||(Zae={}));var aH;(function(l){l[l.AUTO=0]="AUTO",l[l.MANUAL=1]="MANUAL"})(aH||(aH={}));var hA;(function(l){l.LOW="lowp",l.MEDIUM="mediump",l.HIGH="highp"})(hA||(hA={}));var Qae;(function(l){l[l.NONE=0]="NONE",l[l.SCISSOR=1]="SCISSOR",l[l.STENCIL=2]="STENCIL",l[l.SPRITE=3]="SPRITE"})(Qae||(Qae={}));var Jae;(function(l){l[l.NONE=0]="NONE",l[l.LOW=2]="LOW",l[l.MEDIUM=4]="MEDIUM",l[l.HIGH=8]="HIGH"})(Jae||(Jae={}));var Gr={MIPMAP_TEXTURES:iH.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:WZe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:aH.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:nH.CLAMP,SCALE_MODE:rH.LINEAR,PRECISION_VERTEX:hA.HIGH,PRECISION_FRAGMENT:ku.apple.device?hA.HIGH:hA.MEDIUM,CAN_UPLOAD_SAME_BUFFER:YZe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},H4={exports:{}},eoe;function XZe(){return eoe||(eoe=1,(function(l){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(w,I,k){this.fn=w,this.context=I,this.once=k||!1}function g(w,I,k,F,U){if(typeof k!="function")throw new TypeError("The listener must be a function");var N=new f(k,F||w,U),H=a?a+I:I;return w._events[H]?w._events[H].fn?w._events[H]=[w._events[H],N]:w._events[H].push(N):(w._events[H]=N,w._eventsCount++),w}function v(w,I){--w._eventsCount===0?w._events=new u:delete w._events[I]}function S(){this._events=new u,this._eventsCount=0}S.prototype.eventNames=function(){var I=[],k,F;if(this._eventsCount===0)return I;for(F in k=this._events)o.call(k,F)&&I.push(a?F.slice(1):F);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(k)):I},S.prototype.listeners=function(I){var k=a?a+I:I,F=this._events[k];if(!F)return[];if(F.fn)return[F.fn];for(var U=0,N=F.length,H=new Array(N);U<N;U++)H[U]=F[U].fn;return H},S.prototype.listenerCount=function(I){var k=a?a+I:I,F=this._events[k];return F?F.fn?1:F.length:0},S.prototype.emit=function(I,k,F,U,N,H){var q=a?a+I:I;if(!this._events[q])return!1;var j=this._events[q],se=arguments.length,he,oe;if(j.fn){switch(j.once&&this.removeListener(I,j.fn,void 0,!0),se){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,k),!0;case 3:return j.fn.call(j.context,k,F),!0;case 4:return j.fn.call(j.context,k,F,U),!0;case 5:return j.fn.call(j.context,k,F,U,N),!0;case 6:return j.fn.call(j.context,k,F,U,N,H),!0}for(oe=1,he=new Array(se-1);oe<se;oe++)he[oe-1]=arguments[oe];j.fn.apply(j.context,he)}else{var ue=j.length,X;for(oe=0;oe<ue;oe++)switch(j[oe].once&&this.removeListener(I,j[oe].fn,void 0,!0),se){case 1:j[oe].fn.call(j[oe].context);break;case 2:j[oe].fn.call(j[oe].context,k);break;case 3:j[oe].fn.call(j[oe].context,k,F);break;case 4:j[oe].fn.call(j[oe].context,k,F,U);break;default:if(!he)for(X=1,he=new Array(se-1);X<se;X++)he[X-1]=arguments[X];j[oe].fn.apply(j[oe].context,he)}}return!0},S.prototype.on=function(I,k,F){return g(this,I,k,F,!1)},S.prototype.once=function(I,k,F){return g(this,I,k,F,!0)},S.prototype.removeListener=function(I,k,F,U){var N=a?a+I:I;if(!this._events[N])return this;if(!k)return v(this,N),this;var H=this._events[N];if(H.fn)H.fn===k&&(!U||H.once)&&(!F||H.context===F)&&v(this,N);else{for(var q=0,j=[],se=H.length;q<se;q++)(H[q].fn!==k||U&&!H[q].once||F&&H[q].context!==F)&&j.push(H[q]);j.length?this._events[N]=j.length===1?j[0]:j:v(this,N)}return this},S.prototype.removeAllListeners=function(I){var k;return I?(k=a?a+I:I,this._events[k]&&v(this,k)):(this._events=new u,this._eventsCount=0),this},S.prototype.off=S.prototype.removeListener,S.prototype.addListener=S.prototype.on,S.prefixed=a,S.EventEmitter=S,l.exports=S})(H4)),H4.exports}var qZe=XZe();const rE=nm(qZe);var tP={exports:{}},toe;function KZe(){if(toe)return tP.exports;toe=1,tP.exports=l,tP.exports.default=l;function l(be,Re,ie){ie=ie||2;var pe=Re&&Re.length,me=pe?Re[0]*ie:be.length,ce=o(be,0,me,ie,!0),_e=[];if(!ce||ce.next===ce.prev)return _e;var Le,Ke,dt,It,St,Mt,Bt;if(pe&&(ce=w(be,Re,ce,ie)),be.length>80*ie){Le=dt=be[0],Ke=It=be[1];for(var Lt=ie;Lt<me;Lt+=ie)St=be[Lt],Mt=be[Lt+1],St<Le&&(Le=St),Mt<Ke&&(Ke=Mt),St>dt&&(dt=St),Mt>It&&(It=Mt);Bt=Math.max(dt-Le,It-Ke),Bt=Bt!==0?32767/Bt:0}return u(ce,_e,ie,Le,Ke,Bt,0),_e}function o(be,Re,ie,pe,me){var ce,_e;if(me===z(be,Re,ie,pe)>0)for(ce=Re;ce<ie;ce+=pe)_e=Te(ce,be[ce],be[ce+1],_e);else for(ce=ie-pe;ce>=Re;ce-=pe)_e=Te(ce,be[ce],be[ce+1],_e);return _e&&ue(_e,_e.next)&&(at(_e),_e=_e.next),_e}function a(be,Re){if(!be)return be;Re||(Re=be);var ie=be,pe;do if(pe=!1,!ie.steiner&&(ue(ie,ie.next)||oe(ie.prev,ie,ie.next)===0)){if(at(ie),ie=Re=ie.prev,ie===ie.next)break;pe=!0}else ie=ie.next;while(pe||ie!==Re);return Re}function u(be,Re,ie,pe,me,ce,_e){if(be){!_e&&ce&&N(be,pe,me,ce);for(var Le=be,Ke,dt;be.prev!==be.next;){if(Ke=be.prev,dt=be.next,ce?g(be,pe,me,ce):f(be)){Re.push(Ke.i/ie|0),Re.push(be.i/ie|0),Re.push(dt.i/ie|0),at(be),be=dt.next,Le=dt.next;continue}if(be=dt,be===Le){_e?_e===1?(be=v(a(be),Re,ie),u(be,Re,ie,pe,me,ce,2)):_e===2&&S(be,Re,ie,pe,me,ce):u(a(be),Re,ie,pe,me,ce,1);break}}}}function f(be){var Re=be.prev,ie=be,pe=be.next;if(oe(Re,ie,pe)>=0)return!1;for(var me=Re.x,ce=ie.x,_e=pe.x,Le=Re.y,Ke=ie.y,dt=pe.y,It=me<ce?me<_e?me:_e:ce<_e?ce:_e,St=Le<Ke?Le<dt?Le:dt:Ke<dt?Ke:dt,Mt=me>ce?me>_e?me:_e:ce>_e?ce:_e,Bt=Le>Ke?Le>dt?Le:dt:Ke>dt?Ke:dt,Lt=pe.next;Lt!==Re;){if(Lt.x>=It&&Lt.x<=Mt&&Lt.y>=St&&Lt.y<=Bt&&se(me,Le,ce,Ke,_e,dt,Lt.x,Lt.y)&&oe(Lt.prev,Lt,Lt.next)>=0)return!1;Lt=Lt.next}return!0}function g(be,Re,ie,pe){var me=be.prev,ce=be,_e=be.next;if(oe(me,ce,_e)>=0)return!1;for(var Le=me.x,Ke=ce.x,dt=_e.x,It=me.y,St=ce.y,Mt=_e.y,Bt=Le<Ke?Le<dt?Le:dt:Ke<dt?Ke:dt,Lt=It<St?It<Mt?It:Mt:St<Mt?St:Mt,Pt=Le>Ke?Le>dt?Le:dt:Ke>dt?Ke:dt,Vt=It>St?It>Mt?It:Mt:St>Mt?St:Mt,lr=q(Bt,Lt,Re,ie,pe),Gt=q(Pt,Vt,Re,ie,pe),ar=be.prevZ,Wt=be.nextZ;ar&&ar.z>=lr&&Wt&&Wt.z<=Gt;){if(ar.x>=Bt&&ar.x<=Pt&&ar.y>=Lt&&ar.y<=Vt&&ar!==me&&ar!==_e&&se(Le,It,Ke,St,dt,Mt,ar.x,ar.y)&&oe(ar.prev,ar,ar.next)>=0||(ar=ar.prevZ,Wt.x>=Bt&&Wt.x<=Pt&&Wt.y>=Lt&&Wt.y<=Vt&&Wt!==me&&Wt!==_e&&se(Le,It,Ke,St,dt,Mt,Wt.x,Wt.y)&&oe(Wt.prev,Wt,Wt.next)>=0))return!1;Wt=Wt.nextZ}for(;ar&&ar.z>=lr;){if(ar.x>=Bt&&ar.x<=Pt&&ar.y>=Lt&&ar.y<=Vt&&ar!==me&&ar!==_e&&se(Le,It,Ke,St,dt,Mt,ar.x,ar.y)&&oe(ar.prev,ar,ar.next)>=0)return!1;ar=ar.prevZ}for(;Wt&&Wt.z<=Gt;){if(Wt.x>=Bt&&Wt.x<=Pt&&Wt.y>=Lt&&Wt.y<=Vt&&Wt!==me&&Wt!==_e&&se(Le,It,Ke,St,dt,Mt,Wt.x,Wt.y)&&oe(Wt.prev,Wt,Wt.next)>=0)return!1;Wt=Wt.nextZ}return!0}function v(be,Re,ie){var pe=be;do{var me=pe.prev,ce=pe.next.next;!ue(me,ce)&&X(me,pe,pe.next,ce)&&M(me,ce)&&M(ce,me)&&(Re.push(me.i/ie|0),Re.push(pe.i/ie|0),Re.push(ce.i/ie|0),at(pe),at(pe.next),pe=be=ce),pe=pe.next}while(pe!==be);return a(pe)}function S(be,Re,ie,pe,me,ce){var _e=be;do{for(var Le=_e.next.next;Le!==_e.prev;){if(_e.i!==Le.i&&he(_e,Le)){var Ke=qe(_e,Le);_e=a(_e,_e.next),Ke=a(Ke,Ke.next),u(_e,Re,ie,pe,me,ce,0),u(Ke,Re,ie,pe,me,ce,0);return}Le=Le.next}_e=_e.next}while(_e!==be)}function w(be,Re,ie,pe){var me=[],ce,_e,Le,Ke,dt;for(ce=0,_e=Re.length;ce<_e;ce++)Le=Re[ce]*pe,Ke=ce<_e-1?Re[ce+1]*pe:be.length,dt=o(be,Le,Ke,pe,!1),dt===dt.next&&(dt.steiner=!0),me.push(j(dt));for(me.sort(I),ce=0;ce<me.length;ce++)ie=k(me[ce],ie);return ie}function I(be,Re){return be.x-Re.x}function k(be,Re){var ie=F(be,Re);if(!ie)return Re;var pe=qe(ie,be);return a(pe,pe.next),a(ie,ie.next)}function F(be,Re){var ie=Re,pe=be.x,me=be.y,ce=-1/0,_e;do{if(me<=ie.y&&me>=ie.next.y&&ie.next.y!==ie.y){var Le=ie.x+(me-ie.y)*(ie.next.x-ie.x)/(ie.next.y-ie.y);if(Le<=pe&&Le>ce&&(ce=Le,_e=ie.x<ie.next.x?ie:ie.next,Le===pe))return _e}ie=ie.next}while(ie!==Re);if(!_e)return null;var Ke=_e,dt=_e.x,It=_e.y,St=1/0,Mt;ie=_e;do pe>=ie.x&&ie.x>=dt&&pe!==ie.x&&se(me<It?pe:ce,me,dt,It,me<It?ce:pe,me,ie.x,ie.y)&&(Mt=Math.abs(me-ie.y)/(pe-ie.x),M(ie,be)&&(Mt<St||Mt===St&&(ie.x>_e.x||ie.x===_e.x&&U(_e,ie)))&&(_e=ie,St=Mt)),ie=ie.next;while(ie!==Ke);return _e}function U(be,Re){return oe(be.prev,be,Re.prev)<0&&oe(Re.next,be,be.next)<0}function N(be,Re,ie,pe){var me=be;do me.z===0&&(me.z=q(me.x,me.y,Re,ie,pe)),me.prevZ=me.prev,me.nextZ=me.next,me=me.next;while(me!==be);me.prevZ.nextZ=null,me.prevZ=null,H(me)}function H(be){var Re,ie,pe,me,ce,_e,Le,Ke,dt=1;do{for(ie=be,be=null,ce=null,_e=0;ie;){for(_e++,pe=ie,Le=0,Re=0;Re<dt&&(Le++,pe=pe.nextZ,!!pe);Re++);for(Ke=dt;Le>0||Ke>0&&pe;)Le!==0&&(Ke===0||!pe||ie.z<=pe.z)?(me=ie,ie=ie.nextZ,Le--):(me=pe,pe=pe.nextZ,Ke--),ce?ce.nextZ=me:be=me,me.prevZ=ce,ce=me;ie=pe}ce.nextZ=null,dt*=2}while(_e>1);return be}function q(be,Re,ie,pe,me){return be=(be-ie)*me|0,Re=(Re-pe)*me|0,be=(be|be<<8)&16711935,be=(be|be<<4)&252645135,be=(be|be<<2)&858993459,be=(be|be<<1)&1431655765,Re=(Re|Re<<8)&16711935,Re=(Re|Re<<4)&252645135,Re=(Re|Re<<2)&858993459,Re=(Re|Re<<1)&1431655765,be|Re<<1}function j(be){var Re=be,ie=be;do(Re.x<ie.x||Re.x===ie.x&&Re.y<ie.y)&&(ie=Re),Re=Re.next;while(Re!==be);return ie}function se(be,Re,ie,pe,me,ce,_e,Le){return(me-_e)*(Re-Le)>=(be-_e)*(ce-Le)&&(be-_e)*(pe-Le)>=(ie-_e)*(Re-Le)&&(ie-_e)*(ce-Le)>=(me-_e)*(pe-Le)}function he(be,Re){return be.next.i!==Re.i&&be.prev.i!==Re.i&&!Fe(be,Re)&&(M(be,Re)&&M(Re,be)&&ke(be,Re)&&(oe(be.prev,be,Re.prev)||oe(be,Re.prev,Re))||ue(be,Re)&&oe(be.prev,be,be.next)>0&&oe(Re.prev,Re,Re.next)>0)}function oe(be,Re,ie){return(Re.y-be.y)*(ie.x-Re.x)-(Re.x-be.x)*(ie.y-Re.y)}function ue(be,Re){return be.x===Re.x&&be.y===Re.y}function X(be,Re,ie,pe){var me=fe(oe(be,Re,ie)),ce=fe(oe(be,Re,pe)),_e=fe(oe(ie,pe,be)),Le=fe(oe(ie,pe,Re));return!!(me!==ce&&_e!==Le||me===0&&de(be,ie,Re)||ce===0&&de(be,pe,Re)||_e===0&&de(ie,be,pe)||Le===0&&de(ie,Re,pe))}function de(be,Re,ie){return Re.x<=Math.max(be.x,ie.x)&&Re.x>=Math.min(be.x,ie.x)&&Re.y<=Math.max(be.y,ie.y)&&Re.y>=Math.min(be.y,ie.y)}function fe(be){return be>0?1:be<0?-1:0}function Fe(be,Re){var ie=be;do{if(ie.i!==be.i&&ie.next.i!==be.i&&ie.i!==Re.i&&ie.next.i!==Re.i&&X(ie,ie.next,be,Re))return!0;ie=ie.next}while(ie!==be);return!1}function M(be,Re){return oe(be.prev,be,be.next)<0?oe(be,Re,be.next)>=0&&oe(be,be.prev,Re)>=0:oe(be,Re,be.prev)<0||oe(be,be.next,Re)<0}function ke(be,Re){var ie=be,pe=!1,me=(be.x+Re.x)/2,ce=(be.y+Re.y)/2;do ie.y>ce!=ie.next.y>ce&&ie.next.y!==ie.y&&me<(ie.next.x-ie.x)*(ce-ie.y)/(ie.next.y-ie.y)+ie.x&&(pe=!pe),ie=ie.next;while(ie!==be);return pe}function qe(be,Re){var ie=new _t(be.i,be.x,be.y),pe=new _t(Re.i,Re.x,Re.y),me=be.next,ce=Re.prev;return be.next=Re,Re.prev=be,ie.next=me,me.prev=ie,pe.next=ie,ie.prev=pe,ce.next=pe,pe.prev=ce,pe}function Te(be,Re,ie,pe){var me=new _t(be,Re,ie);return pe?(me.next=pe.next,me.prev=pe,pe.next.prev=me,pe.next=me):(me.prev=me,me.next=me),me}function at(be){be.next.prev=be.prev,be.prev.next=be.next,be.prevZ&&(be.prevZ.nextZ=be.nextZ),be.nextZ&&(be.nextZ.prevZ=be.prevZ)}function _t(be,Re,ie){this.i=be,this.x=Re,this.y=ie,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}l.deviation=function(be,Re,ie,pe){var me=Re&&Re.length,ce=me?Re[0]*ie:be.length,_e=Math.abs(z(be,0,ce,ie));if(me)for(var Le=0,Ke=Re.length;Le<Ke;Le++){var dt=Re[Le]*ie,It=Le<Ke-1?Re[Le+1]*ie:be.length;_e-=Math.abs(z(be,dt,It,ie))}var St=0;for(Le=0;Le<pe.length;Le+=3){var Mt=pe[Le]*ie,Bt=pe[Le+1]*ie,Lt=pe[Le+2]*ie;St+=Math.abs((be[Mt]-be[Lt])*(be[Bt+1]-be[Mt+1])-(be[Mt]-be[Bt])*(be[Lt+1]-be[Mt+1]))}return _e===0&&St===0?0:Math.abs((St-_e)/_e)};function z(be,Re,ie,pe){for(var me=0,ce=Re,_e=ie-pe;ce<ie;ce+=pe)me+=(be[_e]-be[ce])*(be[ce+1]+be[_e+1]),_e=ce;return me}return l.flatten=function(be){for(var Re=be[0][0].length,ie={vertices:[],holes:[],dimensions:Re},pe=0,me=0;me<be.length;me++){for(var ce=0;ce<be[me].length;ce++)for(var _e=0;_e<Re;_e++)ie.vertices.push(be[me][ce][_e]);me>0&&(pe+=be[me-1].length,ie.holes.push(pe))}return ie},tP.exports}var ZZe=KZe();const w$=nm(ZZe);var pv={},iA={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var QZe=iA.exports,roe;function JZe(){return roe||(roe=1,(function(l,o){(function(a){var u=o&&!o.nodeType&&o,f=l&&!l.nodeType&&l,g=typeof $P=="object"&&$P;(g.global===g||g.window===g||g.self===g)&&(a=g);var v,S=2147483647,w=36,I=1,k=26,F=38,U=700,N=72,H=128,q="-",j=/^xn--/,se=/[^\x20-\x7E]/,he=/[\x2E\u3002\uFF0E\uFF61]/g,oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=w-I,X=Math.floor,de=String.fromCharCode,fe;function Fe(me){throw new RangeError(oe[me])}function M(me,ce){for(var _e=me.length,Le=[];_e--;)Le[_e]=ce(me[_e]);return Le}function ke(me,ce){var _e=me.split("@"),Le="";_e.length>1&&(Le=_e[0]+"@",me=_e[1]),me=me.replace(he,".");var Ke=me.split("."),dt=M(Ke,ce).join(".");return Le+dt}function qe(me){for(var ce=[],_e=0,Le=me.length,Ke,dt;_e<Le;)Ke=me.charCodeAt(_e++),Ke>=55296&&Ke<=56319&&_e<Le?(dt=me.charCodeAt(_e++),(dt&64512)==56320?ce.push(((Ke&1023)<<10)+(dt&1023)+65536):(ce.push(Ke),_e--)):ce.push(Ke);return ce}function Te(me){return M(me,function(ce){var _e="";return ce>65535&&(ce-=65536,_e+=de(ce>>>10&1023|55296),ce=56320|ce&1023),_e+=de(ce),_e}).join("")}function at(me){return me-48<10?me-22:me-65<26?me-65:me-97<26?me-97:w}function _t(me,ce){return me+22+75*(me<26)-((ce!=0)<<5)}function z(me,ce,_e){var Le=0;for(me=_e?X(me/U):me>>1,me+=X(me/ce);me>ue*k>>1;Le+=w)me=X(me/ue);return X(Le+(ue+1)*me/(me+F))}function be(me){var ce=[],_e=me.length,Le,Ke=0,dt=H,It=N,St,Mt,Bt,Lt,Pt,Vt,lr,Gt,ar;for(St=me.lastIndexOf(q),St<0&&(St=0),Mt=0;Mt<St;++Mt)me.charCodeAt(Mt)>=128&&Fe("not-basic"),ce.push(me.charCodeAt(Mt));for(Bt=St>0?St+1:0;Bt<_e;){for(Lt=Ke,Pt=1,Vt=w;Bt>=_e&&Fe("invalid-input"),lr=at(me.charCodeAt(Bt++)),(lr>=w||lr>X((S-Ke)/Pt))&&Fe("overflow"),Ke+=lr*Pt,Gt=Vt<=It?I:Vt>=It+k?k:Vt-It,!(lr<Gt);Vt+=w)ar=w-Gt,Pt>X(S/ar)&&Fe("overflow"),Pt*=ar;Le=ce.length+1,It=z(Ke-Lt,Le,Lt==0),X(Ke/Le)>S-dt&&Fe("overflow"),dt+=X(Ke/Le),Ke%=Le,ce.splice(Ke++,0,dt)}return Te(ce)}function Re(me){var ce,_e,Le,Ke,dt,It,St,Mt,Bt,Lt,Pt,Vt=[],lr,Gt,ar,Wt;for(me=qe(me),lr=me.length,ce=H,_e=0,dt=N,It=0;It<lr;++It)Pt=me[It],Pt<128&&Vt.push(de(Pt));for(Le=Ke=Vt.length,Ke&&Vt.push(q);Le<lr;){for(St=S,It=0;It<lr;++It)Pt=me[It],Pt>=ce&&Pt<St&&(St=Pt);for(Gt=Le+1,St-ce>X((S-_e)/Gt)&&Fe("overflow"),_e+=(St-ce)*Gt,ce=St,It=0;It<lr;++It)if(Pt=me[It],Pt<ce&&++_e>S&&Fe("overflow"),Pt==ce){for(Mt=_e,Bt=w;Lt=Bt<=dt?I:Bt>=dt+k?k:Bt-dt,!(Mt<Lt);Bt+=w)Wt=Mt-Lt,ar=w-Lt,Vt.push(de(_t(Lt+Wt%ar,0))),Mt=X(Wt/ar);Vt.push(de(_t(Mt,0))),dt=z(_e,Gt,Le==Ke),_e=0,++Le}++_e,++ce}return Vt.join("")}function ie(me){return ke(me,function(ce){return j.test(ce)?be(ce.slice(4).toLowerCase()):ce})}function pe(me){return ke(me,function(ce){return se.test(ce)?"xn--"+Re(ce):ce})}if(v={version:"1.4.1",ucs2:{decode:qe,encode:Te},decode:be,encode:Re,toASCII:pe,toUnicode:ie},u&&f)if(l.exports==u)f.exports=v;else for(fe in v)v.hasOwnProperty(fe)&&(u[fe]=v[fe]);else a.punycode=v})(QZe)})(iA,iA.exports)),iA.exports}var $4,noe;function nE(){return noe||(noe=1,$4=TypeError),$4}const eQe={},tQe=Object.freeze(Object.defineProperty({__proto__:null,default:eQe},Symbol.toStringTag,{value:"Module"})),rQe=e$(tQe);var G4,ioe;function mR(){if(ioe)return G4;ioe=1;var l=typeof Map=="function"&&Map.prototype,o=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=l&&o&&typeof o.get=="function"?o.get:null,u=l&&Map.prototype.forEach,f=typeof Set=="function"&&Set.prototype,g=Object.getOwnPropertyDescriptor&&f?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,v=f&&g&&typeof g.get=="function"?g.get:null,S=f&&Set.prototype.forEach,w=typeof WeakMap=="function"&&WeakMap.prototype,I=w?WeakMap.prototype.has:null,k=typeof WeakSet=="function"&&WeakSet.prototype,F=k?WeakSet.prototype.has:null,U=typeof WeakRef=="function"&&WeakRef.prototype,N=U?WeakRef.prototype.deref:null,H=Boolean.prototype.valueOf,q=Object.prototype.toString,j=Function.prototype.toString,se=String.prototype.match,he=String.prototype.slice,oe=String.prototype.replace,ue=String.prototype.toUpperCase,X=String.prototype.toLowerCase,de=RegExp.prototype.test,fe=Array.prototype.concat,Fe=Array.prototype.join,M=Array.prototype.slice,ke=Math.floor,qe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Te=Object.getOwnPropertySymbols,at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_t=typeof Symbol=="function"&&typeof Symbol.iterator=="object",z=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_t||!0)?Symbol.toStringTag:null,be=Object.prototype.propertyIsEnumerable,Re=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(wt){return wt.__proto__}:null);function ie(wt,pt){if(wt===1/0||wt===-1/0||wt!==wt||wt&&wt>-1e3&&wt<1e3||de.call(/e/,pt))return pt;var un=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof wt=="number"){var Yn=wt<0?-ke(-wt):ke(wt);if(Yn!==wt){var Xn=String(Yn),Yr=he.call(pt,Xn.length+1);return oe.call(Xn,un,"$&_")+"."+oe.call(oe.call(Yr,/([0-9]{3})/g,"$&_"),/_$/,"")}}return oe.call(pt,un,"$&_")}var pe=rQe,me=pe.custom,ce=Gt(me)?me:null,_e={__proto__:null,double:'"',single:"'"},Le={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};G4=function wt(pt,un,Yn,Xn){var Yr=un||{};if(Dr(Yr,"quoteStyle")&&!Dr(_e,Yr.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dr(Yr,"maxStringLength")&&(typeof Yr.maxStringLength=="number"?Yr.maxStringLength<0&&Yr.maxStringLength!==1/0:Yr.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Io=Dr(Yr,"customInspect")?Yr.customInspect:!0;if(typeof Io!="boolean"&&Io!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dr(Yr,"indent")&&Yr.indent!==null&&Yr.indent!=="	"&&!(parseInt(Yr.indent,10)===Yr.indent&&Yr.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dr(Yr,"numericSeparator")&&typeof Yr.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ql=Yr.numericSeparator;if(typeof pt>"u")return"undefined";if(pt===null)return"null";if(typeof pt=="boolean")return pt?"true":"false";if(typeof pt=="string")return ho(pt,Yr);if(typeof pt=="number"){if(pt===0)return 1/0/pt>0?"0":"-0";var fo=String(pt);return Ql?ie(pt,fo):fo}if(typeof pt=="bigint"){var gl=String(pt)+"n";return Ql?ie(pt,gl):gl}var dd=typeof Yr.depth>"u"?5:Yr.depth;if(typeof Yn>"u"&&(Yn=0),Yn>=dd&&dd>0&&typeof pt=="object")return St(pt)?"[Array]":"[Object]";var Lu=Vr(Yr,Yn);if(typeof Xn>"u")Xn=[];else if(Vn(Xn,pt)>=0)return"[Circular]";function Do(_l,Fc,lm){if(Fc&&(Xn=M.call(Xn),Xn.push(Fc)),lm){var vd={depth:Yr.depth};return Dr(Yr,"quoteStyle")&&(vd.quoteStyle=Yr.quoteStyle),wt(_l,vd,Yn+1,Xn)}return wt(_l,Yr,Yn+1,Xn)}if(typeof pt=="function"&&!Bt(pt)){var am=_i(pt),Mc=Li(pt,Do);return"[Function"+(am?": "+am:" (anonymous)")+"]"+(Mc.length>0?" { "+Fe.call(Mc,", ")+" }":"")}if(Gt(pt)){var pd=_t?oe.call(String(pt),/^(Symbol\(.*\))_[^)]*$/,"$1"):at.call(pt);return typeof pt=="object"&&!_t?mn(pd):pd}if(ma(pt)){for(var vl="<"+X.call(String(pt.nodeName)),om=pt.attributes||[],$s=0;$s<om.length;$s++)vl+=" "+om[$s].name+"="+Ke(dt(om[$s].value),"double",Yr);return vl+=">",pt.childNodes&&pt.childNodes.length&&(vl+="..."),vl+="</"+X.call(String(pt.nodeName))+">",vl}if(St(pt)){if(pt.length===0)return"[]";var Lc=Li(pt,Do);return Lu&&!Wn(Lc)?"["+Ei(Lc,Lu)+"]":"[ "+Fe.call(Lc,", ")+" ]"}if(Lt(pt)){var Bc=Li(pt,Do);return!("cause"in Error.prototype)&&"cause"in pt&&!be.call(pt,"cause")?"{ ["+String(pt)+"] "+Fe.call(fe.call("[cause]: "+Do(pt.cause),Bc),", ")+" }":Bc.length===0?"["+String(pt)+"]":"{ ["+String(pt)+"] "+Fe.call(Bc,", ")+" }"}if(typeof pt=="object"&&Io){if(ce&&typeof pt[ce]=="function"&&pe)return pe(pt,{depth:dd-Yn});if(Io!=="symbol"&&typeof pt.inspect=="function")return pt.inspect()}if(Nn(pt)){var md=[];return u&&u.call(pt,function(_l,Fc){md.push(Do(Fc,pt,!0)+" => "+Do(_l,pt))}),Ka("Map",a.call(pt),md,Lu)}if(Mn(pt)){var e0=[];return S&&S.call(pt,function(_l){e0.push(Do(_l,pt))}),Ka("Set",v.call(pt),e0,Lu)}if(pi(pt))return Ga("WeakMap");if(Aa(pt))return Ga("WeakSet");if(Jn(pt))return Ga("WeakRef");if(Vt(pt))return mn(Do(Number(pt)));if(ar(pt))return mn(Do(qe.call(pt)));if(lr(pt))return mn(H.call(pt));if(Pt(pt))return mn(Do(String(pt)));if(typeof window<"u"&&pt===window)return"{ [object Window] }";if(typeof globalThis<"u"&&pt===globalThis||typeof $P<"u"&&pt===$P)return"{ [object globalThis] }";if(!Mt(pt)&&!Bt(pt)){var po=Li(pt,Do),t0=Re?Re(pt)===Object.prototype:pt instanceof Object||pt.constructor===Object,yl=pt instanceof Object?"":"null prototype",sm=!t0&&z&&Object(pt)===pt&&z in pt?he.call(Tn(pt),8,-1):yl?"Object":"",r0=t0||typeof pt.constructor!="function"?"":pt.constructor.name?pt.constructor.name+" ":"",gd=r0+(sm||yl?"["+Fe.call(fe.call([],sm||[],yl||[]),": ")+"] ":"");return po.length===0?gd+"{}":Lu?gd+"{"+Ei(po,Lu)+"}":gd+"{ "+Fe.call(po,", ")+" }"}return String(pt)};function Ke(wt,pt,un){var Yn=un.quoteStyle||pt,Xn=_e[Yn];return Xn+wt+Xn}function dt(wt){return oe.call(String(wt),/"/g,"&quot;")}function It(wt){return!z||!(typeof wt=="object"&&(z in wt||typeof wt[z]<"u"))}function St(wt){return Tn(wt)==="[object Array]"&&It(wt)}function Mt(wt){return Tn(wt)==="[object Date]"&&It(wt)}function Bt(wt){return Tn(wt)==="[object RegExp]"&&It(wt)}function Lt(wt){return Tn(wt)==="[object Error]"&&It(wt)}function Pt(wt){return Tn(wt)==="[object String]"&&It(wt)}function Vt(wt){return Tn(wt)==="[object Number]"&&It(wt)}function lr(wt){return Tn(wt)==="[object Boolean]"&&It(wt)}function Gt(wt){if(_t)return wt&&typeof wt=="object"&&wt instanceof Symbol;if(typeof wt=="symbol")return!0;if(!wt||typeof wt!="object"||!at)return!1;try{return at.call(wt),!0}catch{}return!1}function ar(wt){if(!wt||typeof wt!="object"||!qe)return!1;try{return qe.call(wt),!0}catch{}return!1}var Wt=Object.prototype.hasOwnProperty||function(wt){return wt in this};function Dr(wt,pt){return Wt.call(wt,pt)}function Tn(wt){return q.call(wt)}function _i(wt){if(wt.name)return wt.name;var pt=se.call(j.call(wt),/^function\s*([\w$]+)/);return pt?pt[1]:null}function Vn(wt,pt){if(wt.indexOf)return wt.indexOf(pt);for(var un=0,Yn=wt.length;un<Yn;un++)if(wt[un]===pt)return un;return-1}function Nn(wt){if(!a||!wt||typeof wt!="object")return!1;try{a.call(wt);try{v.call(wt)}catch{return!0}return wt instanceof Map}catch{}return!1}function pi(wt){if(!I||!wt||typeof wt!="object")return!1;try{I.call(wt,I);try{F.call(wt,F)}catch{return!0}return wt instanceof WeakMap}catch{}return!1}function Jn(wt){if(!N||!wt||typeof wt!="object")return!1;try{return N.call(wt),!0}catch{}return!1}function Mn(wt){if(!v||!wt||typeof wt!="object")return!1;try{v.call(wt);try{a.call(wt)}catch{return!0}return wt instanceof Set}catch{}return!1}function Aa(wt){if(!F||!wt||typeof wt!="object")return!1;try{F.call(wt,F);try{I.call(wt,I)}catch{return!0}return wt instanceof WeakSet}catch{}return!1}function ma(wt){return!wt||typeof wt!="object"?!1:typeof HTMLElement<"u"&&wt instanceof HTMLElement?!0:typeof wt.nodeName=="string"&&typeof wt.getAttribute=="function"}function ho(wt,pt){if(wt.length>pt.maxStringLength){var un=wt.length-pt.maxStringLength,Yn="... "+un+" more character"+(un>1?"s":"");return ho(he.call(wt,0,pt.maxStringLength),pt)+Yn}var Xn=Le[pt.quoteStyle||"single"];Xn.lastIndex=0;var Yr=oe.call(oe.call(wt,Xn,"\\$1"),/[\x00-\x1f]/g,Wi);return Ke(Yr,"single",pt)}function Wi(wt){var pt=wt.charCodeAt(0),un={8:"b",9:"t",10:"n",12:"f",13:"r"}[pt];return un?"\\"+un:"\\x"+(pt<16?"0":"")+ue.call(pt.toString(16))}function mn(wt){return"Object("+wt+")"}function Ga(wt){return wt+" { ? }"}function Ka(wt,pt,un,Yn){var Xn=Yn?Ei(un,Yn):Fe.call(un,", ");return wt+" ("+pt+") {"+Xn+"}"}function Wn(wt){for(var pt=0;pt<wt.length;pt++)if(Vn(wt[pt],`
`)>=0)return!1;return!0}function Vr(wt,pt){var un;if(wt.indent==="	")un="	";else if(typeof wt.indent=="number"&&wt.indent>0)un=Fe.call(Array(wt.indent+1)," ");else return null;return{base:un,prev:Fe.call(Array(pt+1),un)}}function Ei(wt,pt){if(wt.length===0)return"";var un=`
`+pt.prev+pt.base;return un+Fe.call(wt,","+un)+`
`+pt.prev}function Li(wt,pt){var un=St(wt),Yn=[];if(un){Yn.length=wt.length;for(var Xn=0;Xn<wt.length;Xn++)Yn[Xn]=Dr(wt,Xn)?pt(wt[Xn],wt):""}var Yr=typeof Te=="function"?Te(wt):[],Io;if(_t){Io={};for(var Ql=0;Ql<Yr.length;Ql++)Io["$"+Yr[Ql]]=Yr[Ql]}for(var fo in wt)Dr(wt,fo)&&(un&&String(Number(fo))===fo&&fo<wt.length||_t&&Io["$"+fo]instanceof Symbol||(de.call(/[^\w$]/,fo)?Yn.push(pt(fo,wt)+": "+pt(wt[fo],wt)):Yn.push(fo+": "+pt(wt[fo],wt))));if(typeof Te=="function")for(var gl=0;gl<Yr.length;gl++)be.call(wt,Yr[gl])&&Yn.push("["+pt(Yr[gl])+"]: "+pt(wt[Yr[gl]],wt));return Yn}return G4}var z4,aoe;function nQe(){if(aoe)return z4;aoe=1;var l=mR(),o=nE(),a=function(S,w,I){for(var k=S,F;(F=k.next)!=null;k=F)if(F.key===w)return k.next=F.next,I||(F.next=S.next,S.next=F),F},u=function(S,w){if(S){var I=a(S,w);return I&&I.value}},f=function(S,w,I){var k=a(S,w);k?k.value=I:S.next={key:w,next:S.next,value:I}},g=function(S,w){return S?!!a(S,w):!1},v=function(S,w){if(S)return a(S,w,!0)};return z4=function(){var w,I={assert:function(k){if(!I.has(k))throw new o("Side channel does not contain "+l(k))},delete:function(k){var F=w&&w.next,U=v(w,k);return U&&F&&F===U&&(w=void 0),!!U},get:function(k){return u(w,k)},has:function(k){return g(w,k)},set:function(k,F){w||(w={next:void 0}),f(w,k,F)}};return I},z4}var j4,ooe;function Sce(){return ooe||(ooe=1,j4=Object),j4}var V4,soe;function iQe(){return soe||(soe=1,V4=Error),V4}var W4,loe;function aQe(){return loe||(loe=1,W4=EvalError),W4}var Y4,uoe;function oQe(){return uoe||(uoe=1,Y4=RangeError),Y4}var X4,coe;function sQe(){return coe||(coe=1,X4=ReferenceError),X4}var q4,hoe;function lQe(){return hoe||(hoe=1,q4=SyntaxError),q4}var K4,foe;function uQe(){return foe||(foe=1,K4=URIError),K4}var Z4,doe;function cQe(){return doe||(doe=1,Z4=Math.abs),Z4}var Q4,poe;function hQe(){return poe||(poe=1,Q4=Math.floor),Q4}var J4,moe;function fQe(){return moe||(moe=1,J4=Math.max),J4}var e8,goe;function dQe(){return goe||(goe=1,e8=Math.min),e8}var t8,voe;function pQe(){return voe||(voe=1,t8=Math.pow),t8}var r8,yoe;function mQe(){return yoe||(yoe=1,r8=Math.round),r8}var n8,_oe;function gQe(){return _oe||(_oe=1,n8=Number.isNaN||function(o){return o!==o}),n8}var i8,Eoe;function vQe(){if(Eoe)return i8;Eoe=1;var l=gQe();return i8=function(a){return l(a)||a===0?a:a<0?-1:1},i8}var a8,Toe;function yQe(){return Toe||(Toe=1,a8=Object.getOwnPropertyDescriptor),a8}var o8,boe;function Cce(){if(boe)return o8;boe=1;var l=yQe();if(l)try{l([],"length")}catch{l=null}return o8=l,o8}var s8,Soe;function _Qe(){if(Soe)return s8;Soe=1;var l=Object.defineProperty||!1;if(l)try{l({},"a",{value:1})}catch{l=!1}return s8=l,s8}var l8,Coe;function EQe(){return Coe||(Coe=1,l8=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var o={},a=Symbol("test"),u=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;var f=42;o[a]=f;for(var g in o)return!1;if(typeof Object.keys=="function"&&Object.keys(o).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(o).length!==0)return!1;var v=Object.getOwnPropertySymbols(o);if(v.length!==1||v[0]!==a||!Object.prototype.propertyIsEnumerable.call(o,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var S=Object.getOwnPropertyDescriptor(o,a);if(S.value!==f||S.enumerable!==!0)return!1}return!0}),l8}var u8,Aoe;function TQe(){if(Aoe)return u8;Aoe=1;var l=typeof Symbol<"u"&&Symbol,o=EQe();return u8=function(){return typeof l!="function"||typeof Symbol!="function"||typeof l("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:o()},u8}var c8,woe;function Ace(){return woe||(woe=1,c8=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),c8}var h8,xoe;function wce(){if(xoe)return h8;xoe=1;var l=Sce();return h8=l.getPrototypeOf||null,h8}var f8,Ioe;function bQe(){if(Ioe)return f8;Ioe=1;var l="Function.prototype.bind called on incompatible ",o=Object.prototype.toString,a=Math.max,u="[object Function]",f=function(w,I){for(var k=[],F=0;F<w.length;F+=1)k[F]=w[F];for(var U=0;U<I.length;U+=1)k[U+w.length]=I[U];return k},g=function(w,I){for(var k=[],F=I,U=0;F<w.length;F+=1,U+=1)k[U]=w[F];return k},v=function(S,w){for(var I="",k=0;k<S.length;k+=1)I+=S[k],k+1<S.length&&(I+=w);return I};return f8=function(w){var I=this;if(typeof I!="function"||o.apply(I)!==u)throw new TypeError(l+I);for(var k=g(arguments,1),F,U=function(){if(this instanceof F){var se=I.apply(this,f(k,arguments));return Object(se)===se?se:this}return I.apply(w,f(k,arguments))},N=a(0,I.length-k.length),H=[],q=0;q<N;q++)H[q]="$"+q;if(F=Function("binder","return function ("+v(H,",")+"){ return binder.apply(this,arguments); }")(U),I.prototype){var j=function(){};j.prototype=I.prototype,F.prototype=new j,j.prototype=null}return F},f8}var d8,Doe;function gR(){if(Doe)return d8;Doe=1;var l=bQe();return d8=Function.prototype.bind||l,d8}var p8,Ooe;function x$(){return Ooe||(Ooe=1,p8=Function.prototype.call),p8}var m8,koe;function xce(){return koe||(koe=1,m8=Function.prototype.apply),m8}var g8,Poe;function SQe(){return Poe||(Poe=1,g8=typeof Reflect<"u"&&Reflect&&Reflect.apply),g8}var v8,Roe;function CQe(){if(Roe)return v8;Roe=1;var l=gR(),o=xce(),a=x$(),u=SQe();return v8=u||l.call(a,o),v8}var y8,Noe;function Ice(){if(Noe)return y8;Noe=1;var l=gR(),o=nE(),a=x$(),u=CQe();return y8=function(g){if(g.length<1||typeof g[0]!="function")throw new o("a function is required");return u(l,a,g)},y8}var _8,Moe;function AQe(){if(Moe)return _8;Moe=1;var l=Ice(),o=Cce(),a;try{a=[].__proto__===Array.prototype}catch(v){if(!v||typeof v!="object"||!("code"in v)||v.code!=="ERR_PROTO_ACCESS")throw v}var u=!!a&&o&&o(Object.prototype,"__proto__"),f=Object,g=f.getPrototypeOf;return _8=u&&typeof u.get=="function"?l([u.get]):typeof g=="function"?function(S){return g(S==null?S:f(S))}:!1,_8}var E8,Loe;function wQe(){if(Loe)return E8;Loe=1;var l=Ace(),o=wce(),a=AQe();return E8=l?function(f){return l(f)}:o?function(f){if(!f||typeof f!="object"&&typeof f!="function")throw new TypeError("getProto: not an object");return o(f)}:a?function(f){return a(f)}:null,E8}var T8,Boe;function xQe(){if(Boe)return T8;Boe=1;var l=Function.prototype.call,o=Object.prototype.hasOwnProperty,a=gR();return T8=a.call(l,o),T8}var b8,Foe;function I$(){if(Foe)return b8;Foe=1;var l,o=Sce(),a=iQe(),u=aQe(),f=oQe(),g=sQe(),v=lQe(),S=nE(),w=uQe(),I=cQe(),k=hQe(),F=fQe(),U=dQe(),N=pQe(),H=mQe(),q=vQe(),j=Function,se=function(Bt){try{return j('"use strict"; return ('+Bt+").constructor;")()}catch{}},he=Cce(),oe=_Qe(),ue=function(){throw new S},X=he?(function(){try{return arguments.callee,ue}catch{try{return he(arguments,"callee").get}catch{return ue}}})():ue,de=TQe()(),fe=wQe(),Fe=wce(),M=Ace(),ke=xce(),qe=x$(),Te={},at=typeof Uint8Array>"u"||!fe?l:fe(Uint8Array),_t={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?l:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?l:ArrayBuffer,"%ArrayIteratorPrototype%":de&&fe?fe([][Symbol.iterator]()):l,"%AsyncFromSyncIteratorPrototype%":l,"%AsyncFunction%":Te,"%AsyncGenerator%":Te,"%AsyncGeneratorFunction%":Te,"%AsyncIteratorPrototype%":Te,"%Atomics%":typeof Atomics>"u"?l:Atomics,"%BigInt%":typeof BigInt>"u"?l:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?l:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?l:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?l:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":u,"%Float16Array%":typeof Float16Array>"u"?l:Float16Array,"%Float32Array%":typeof Float32Array>"u"?l:Float32Array,"%Float64Array%":typeof Float64Array>"u"?l:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?l:FinalizationRegistry,"%Function%":j,"%GeneratorFunction%":Te,"%Int8Array%":typeof Int8Array>"u"?l:Int8Array,"%Int16Array%":typeof Int16Array>"u"?l:Int16Array,"%Int32Array%":typeof Int32Array>"u"?l:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":de&&fe?fe(fe([][Symbol.iterator]())):l,"%JSON%":typeof JSON=="object"?JSON:l,"%Map%":typeof Map>"u"?l:Map,"%MapIteratorPrototype%":typeof Map>"u"||!de||!fe?l:fe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":he,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?l:Promise,"%Proxy%":typeof Proxy>"u"?l:Proxy,"%RangeError%":f,"%ReferenceError%":g,"%Reflect%":typeof Reflect>"u"?l:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?l:Set,"%SetIteratorPrototype%":typeof Set>"u"||!de||!fe?l:fe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?l:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":de&&fe?fe(""[Symbol.iterator]()):l,"%Symbol%":de?Symbol:l,"%SyntaxError%":v,"%ThrowTypeError%":X,"%TypedArray%":at,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array>"u"?l:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?l:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?l:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?l:Uint32Array,"%URIError%":w,"%WeakMap%":typeof WeakMap>"u"?l:WeakMap,"%WeakRef%":typeof WeakRef>"u"?l:WeakRef,"%WeakSet%":typeof WeakSet>"u"?l:WeakSet,"%Function.prototype.call%":qe,"%Function.prototype.apply%":ke,"%Object.defineProperty%":oe,"%Object.getPrototypeOf%":Fe,"%Math.abs%":I,"%Math.floor%":k,"%Math.max%":F,"%Math.min%":U,"%Math.pow%":N,"%Math.round%":H,"%Math.sign%":q,"%Reflect.getPrototypeOf%":M};if(fe)try{null.error}catch(Bt){var z=fe(fe(Bt));_t["%Error.prototype%"]=z}var be=function Bt(Lt){var Pt;if(Lt==="%AsyncFunction%")Pt=se("async function () {}");else if(Lt==="%GeneratorFunction%")Pt=se("function* () {}");else if(Lt==="%AsyncGeneratorFunction%")Pt=se("async function* () {}");else if(Lt==="%AsyncGenerator%"){var Vt=Bt("%AsyncGeneratorFunction%");Vt&&(Pt=Vt.prototype)}else if(Lt==="%AsyncIteratorPrototype%"){var lr=Bt("%AsyncGenerator%");lr&&fe&&(Pt=fe(lr.prototype))}return _t[Lt]=Pt,Pt},Re={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=gR(),pe=xQe(),me=ie.call(qe,Array.prototype.concat),ce=ie.call(ke,Array.prototype.splice),_e=ie.call(qe,String.prototype.replace),Le=ie.call(qe,String.prototype.slice),Ke=ie.call(qe,RegExp.prototype.exec),dt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,It=/\\(\\)?/g,St=function(Lt){var Pt=Le(Lt,0,1),Vt=Le(Lt,-1);if(Pt==="%"&&Vt!=="%")throw new v("invalid intrinsic syntax, expected closing `%`");if(Vt==="%"&&Pt!=="%")throw new v("invalid intrinsic syntax, expected opening `%`");var lr=[];return _e(Lt,dt,function(Gt,ar,Wt,Dr){lr[lr.length]=Wt?_e(Dr,It,"$1"):ar||Gt}),lr},Mt=function(Lt,Pt){var Vt=Lt,lr;if(pe(Re,Vt)&&(lr=Re[Vt],Vt="%"+lr[0]+"%"),pe(_t,Vt)){var Gt=_t[Vt];if(Gt===Te&&(Gt=be(Vt)),typeof Gt>"u"&&!Pt)throw new S("intrinsic "+Lt+" exists, but is not available. Please file an issue!");return{alias:lr,name:Vt,value:Gt}}throw new v("intrinsic "+Lt+" does not exist!")};return b8=function(Lt,Pt){if(typeof Lt!="string"||Lt.length===0)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Pt!="boolean")throw new S('"allowMissing" argument must be a boolean');if(Ke(/^%?[^%]*%?$/,Lt)===null)throw new v("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Vt=St(Lt),lr=Vt.length>0?Vt[0]:"",Gt=Mt("%"+lr+"%",Pt),ar=Gt.name,Wt=Gt.value,Dr=!1,Tn=Gt.alias;Tn&&(lr=Tn[0],ce(Vt,me([0,1],Tn)));for(var _i=1,Vn=!0;_i<Vt.length;_i+=1){var Nn=Vt[_i],pi=Le(Nn,0,1),Jn=Le(Nn,-1);if((pi==='"'||pi==="'"||pi==="`"||Jn==='"'||Jn==="'"||Jn==="`")&&pi!==Jn)throw new v("property names with quotes must have matching quotes");if((Nn==="constructor"||!Vn)&&(Dr=!0),lr+="."+Nn,ar="%"+lr+"%",pe(_t,ar))Wt=_t[ar];else if(Wt!=null){if(!(Nn in Wt)){if(!Pt)throw new S("base intrinsic for "+Lt+" exists, but the property is not available.");return}if(he&&_i+1>=Vt.length){var Mn=he(Wt,Nn);Vn=!!Mn,Vn&&"get"in Mn&&!("originalValue"in Mn.get)?Wt=Mn.get:Wt=Wt[Nn]}else Vn=pe(Wt,Nn),Wt=Wt[Nn];Vn&&!Dr&&(_t[ar]=Wt)}}return Wt},b8}var S8,Uoe;function Dce(){if(Uoe)return S8;Uoe=1;var l=I$(),o=Ice(),a=o([l("%String.prototype.indexOf%")]);return S8=function(f,g){var v=l(f,!!g);return typeof v=="function"&&a(f,".prototype.")>-1?o([v]):v},S8}var C8,Hoe;function Oce(){if(Hoe)return C8;Hoe=1;var l=I$(),o=Dce(),a=mR(),u=nE(),f=l("%Map%",!0),g=o("Map.prototype.get",!0),v=o("Map.prototype.set",!0),S=o("Map.prototype.has",!0),w=o("Map.prototype.delete",!0),I=o("Map.prototype.size",!0);return C8=!!f&&function(){var F,U={assert:function(N){if(!U.has(N))throw new u("Side channel does not contain "+a(N))},delete:function(N){if(F){var H=w(F,N);return I(F)===0&&(F=void 0),H}return!1},get:function(N){if(F)return g(F,N)},has:function(N){return F?S(F,N):!1},set:function(N,H){F||(F=new f),v(F,N,H)}};return U},C8}var A8,$oe;function IQe(){if($oe)return A8;$oe=1;var l=I$(),o=Dce(),a=mR(),u=Oce(),f=nE(),g=l("%WeakMap%",!0),v=o("WeakMap.prototype.get",!0),S=o("WeakMap.prototype.set",!0),w=o("WeakMap.prototype.has",!0),I=o("WeakMap.prototype.delete",!0);return A8=g?function(){var F,U,N={assert:function(H){if(!N.has(H))throw new f("Side channel does not contain "+a(H))},delete:function(H){if(g&&H&&(typeof H=="object"||typeof H=="function")){if(F)return I(F,H)}else if(u&&U)return U.delete(H);return!1},get:function(H){return g&&H&&(typeof H=="object"||typeof H=="function")&&F?v(F,H):U&&U.get(H)},has:function(H){return g&&H&&(typeof H=="object"||typeof H=="function")&&F?w(F,H):!!U&&U.has(H)},set:function(H,q){g&&H&&(typeof H=="object"||typeof H=="function")?(F||(F=new g),S(F,H,q)):u&&(U||(U=u()),U.set(H,q))}};return N}:u,A8}var w8,Goe;function DQe(){if(Goe)return w8;Goe=1;var l=nE(),o=mR(),a=nQe(),u=Oce(),f=IQe(),g=f||u||a;return w8=function(){var S,w={assert:function(I){if(!w.has(I))throw new l("Side channel does not contain "+o(I))},delete:function(I){return!!S&&S.delete(I)},get:function(I){return S&&S.get(I)},has:function(I){return!!S&&S.has(I)},set:function(I,k){S||(S=g()),S.set(I,k)}};return w},w8}var x8,zoe;function D$(){if(zoe)return x8;zoe=1;var l=String.prototype.replace,o=/%20/g,a={RFC1738:"RFC1738",RFC3986:"RFC3986"};return x8={default:a.RFC3986,formatters:{RFC1738:function(u){return l.call(u,o,"+")},RFC3986:function(u){return String(u)}},RFC1738:a.RFC1738,RFC3986:a.RFC3986},x8}var I8,joe;function kce(){if(joe)return I8;joe=1;var l=D$(),o=Object.prototype.hasOwnProperty,a=Array.isArray,u=(function(){for(var j=[],se=0;se<256;++se)j.push("%"+((se<16?"0":"")+se.toString(16)).toUpperCase());return j})(),f=function(se){for(;se.length>1;){var he=se.pop(),oe=he.obj[he.prop];if(a(oe)){for(var ue=[],X=0;X<oe.length;++X)typeof oe[X]<"u"&&ue.push(oe[X]);he.obj[he.prop]=ue}}},g=function(se,he){for(var oe=he&&he.plainObjects?{__proto__:null}:{},ue=0;ue<se.length;++ue)typeof se[ue]<"u"&&(oe[ue]=se[ue]);return oe},v=function j(se,he,oe){if(!he)return se;if(typeof he!="object"&&typeof he!="function"){if(a(se))se.push(he);else if(se&&typeof se=="object")(oe&&(oe.plainObjects||oe.allowPrototypes)||!o.call(Object.prototype,he))&&(se[he]=!0);else return[se,he];return se}if(!se||typeof se!="object")return[se].concat(he);var ue=se;return a(se)&&!a(he)&&(ue=g(se,oe)),a(se)&&a(he)?(he.forEach(function(X,de){if(o.call(se,de)){var fe=se[de];fe&&typeof fe=="object"&&X&&typeof X=="object"?se[de]=j(fe,X,oe):se.push(X)}else se[de]=X}),se):Object.keys(he).reduce(function(X,de){var fe=he[de];return o.call(X,de)?X[de]=j(X[de],fe,oe):X[de]=fe,X},ue)},S=function(se,he){return Object.keys(he).reduce(function(oe,ue){return oe[ue]=he[ue],oe},se)},w=function(j,se,he){var oe=j.replace(/\+/g," ");if(he==="iso-8859-1")return oe.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(oe)}catch{return oe}},I=1024,k=function(se,he,oe,ue,X){if(se.length===0)return se;var de=se;if(typeof se=="symbol"?de=Symbol.prototype.toString.call(se):typeof se!="string"&&(de=String(se)),oe==="iso-8859-1")return escape(de).replace(/%u[0-9a-f]{4}/gi,function(at){return"%26%23"+parseInt(at.slice(2),16)+"%3B"});for(var fe="",Fe=0;Fe<de.length;Fe+=I){for(var M=de.length>=I?de.slice(Fe,Fe+I):de,ke=[],qe=0;qe<M.length;++qe){var Te=M.charCodeAt(qe);if(Te===45||Te===46||Te===95||Te===126||Te>=48&&Te<=57||Te>=65&&Te<=90||Te>=97&&Te<=122||X===l.RFC1738&&(Te===40||Te===41)){ke[ke.length]=M.charAt(qe);continue}if(Te<128){ke[ke.length]=u[Te];continue}if(Te<2048){ke[ke.length]=u[192|Te>>6]+u[128|Te&63];continue}if(Te<55296||Te>=57344){ke[ke.length]=u[224|Te>>12]+u[128|Te>>6&63]+u[128|Te&63];continue}qe+=1,Te=65536+((Te&1023)<<10|M.charCodeAt(qe)&1023),ke[ke.length]=u[240|Te>>18]+u[128|Te>>12&63]+u[128|Te>>6&63]+u[128|Te&63]}fe+=ke.join("")}return fe},F=function(se){for(var he=[{obj:{o:se},prop:"o"}],oe=[],ue=0;ue<he.length;++ue)for(var X=he[ue],de=X.obj[X.prop],fe=Object.keys(de),Fe=0;Fe<fe.length;++Fe){var M=fe[Fe],ke=de[M];typeof ke=="object"&&ke!==null&&oe.indexOf(ke)===-1&&(he.push({obj:de,prop:M}),oe.push(ke))}return f(he),se},U=function(se){return Object.prototype.toString.call(se)==="[object RegExp]"},N=function(se){return!se||typeof se!="object"?!1:!!(se.constructor&&se.constructor.isBuffer&&se.constructor.isBuffer(se))},H=function(se,he){return[].concat(se,he)},q=function(se,he){if(a(se)){for(var oe=[],ue=0;ue<se.length;ue+=1)oe.push(he(se[ue]));return oe}return he(se)};return I8={arrayToObject:g,assign:S,combine:H,compact:F,decode:w,encode:k,isBuffer:N,isRegExp:U,maybeMap:q,merge:v},I8}var D8,Voe;function OQe(){if(Voe)return D8;Voe=1;var l=DQe(),o=kce(),a=D$(),u=Object.prototype.hasOwnProperty,f={brackets:function(j){return j+"[]"},comma:"comma",indices:function(j,se){return j+"["+se+"]"},repeat:function(j){return j}},g=Array.isArray,v=Array.prototype.push,S=function(q,j){v.apply(q,g(j)?j:[j])},w=Date.prototype.toISOString,I=a.default,k={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,filter:void 0,format:I,formatter:a.formatters[I],indices:!1,serializeDate:function(j){return w.call(j)},skipNulls:!1,strictNullHandling:!1},F=function(j){return typeof j=="string"||typeof j=="number"||typeof j=="boolean"||typeof j=="symbol"||typeof j=="bigint"},U={},N=function q(j,se,he,oe,ue,X,de,fe,Fe,M,ke,qe,Te,at,_t,z,be,Re){for(var ie=j,pe=Re,me=0,ce=!1;(pe=pe.get(U))!==void 0&&!ce;){var _e=pe.get(j);if(me+=1,typeof _e<"u"){if(_e===me)throw new RangeError("Cyclic object value");ce=!0}typeof pe.get(U)>"u"&&(me=0)}if(typeof M=="function"?ie=M(se,ie):ie instanceof Date?ie=Te(ie):he==="comma"&&g(ie)&&(ie=o.maybeMap(ie,function(ar){return ar instanceof Date?Te(ar):ar})),ie===null){if(X)return Fe&&!z?Fe(se,k.encoder,be,"key",at):se;ie=""}if(F(ie)||o.isBuffer(ie)){if(Fe){var Le=z?se:Fe(se,k.encoder,be,"key",at);return[_t(Le)+"="+_t(Fe(ie,k.encoder,be,"value",at))]}return[_t(se)+"="+_t(String(ie))]}var Ke=[];if(typeof ie>"u")return Ke;var dt;if(he==="comma"&&g(ie))z&&Fe&&(ie=o.maybeMap(ie,Fe)),dt=[{value:ie.length>0?ie.join(",")||null:void 0}];else if(g(M))dt=M;else{var It=Object.keys(ie);dt=ke?It.sort(ke):It}var St=fe?String(se).replace(/\./g,"%2E"):String(se),Mt=oe&&g(ie)&&ie.length===1?St+"[]":St;if(ue&&g(ie)&&ie.length===0)return Mt+"[]";for(var Bt=0;Bt<dt.length;++Bt){var Lt=dt[Bt],Pt=typeof Lt=="object"&&Lt&&typeof Lt.value<"u"?Lt.value:ie[Lt];if(!(de&&Pt===null)){var Vt=qe&&fe?String(Lt).replace(/\./g,"%2E"):String(Lt),lr=g(ie)?typeof he=="function"?he(Mt,Vt):Mt:Mt+(qe?"."+Vt:"["+Vt+"]");Re.set(j,me);var Gt=l();Gt.set(U,Re),S(Ke,q(Pt,lr,he,oe,ue,X,de,fe,he==="comma"&&z&&g(ie)?null:Fe,M,ke,qe,Te,at,_t,z,be,Gt))}}return Ke},H=function(j){if(!j)return k;if(typeof j.allowEmptyArrays<"u"&&typeof j.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof j.encodeDotInKeys<"u"&&typeof j.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(j.encoder!==null&&typeof j.encoder<"u"&&typeof j.encoder!="function")throw new TypeError("Encoder has to be a function.");var se=j.charset||k.charset;if(typeof j.charset<"u"&&j.charset!=="utf-8"&&j.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var he=a.default;if(typeof j.format<"u"){if(!u.call(a.formatters,j.format))throw new TypeError("Unknown format option provided.");he=j.format}var oe=a.formatters[he],ue=k.filter;(typeof j.filter=="function"||g(j.filter))&&(ue=j.filter);var X;if(j.arrayFormat in f?X=j.arrayFormat:"indices"in j?X=j.indices?"indices":"repeat":X=k.arrayFormat,"commaRoundTrip"in j&&typeof j.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var de=typeof j.allowDots>"u"?j.encodeDotInKeys===!0?!0:k.allowDots:!!j.allowDots;return{addQueryPrefix:typeof j.addQueryPrefix=="boolean"?j.addQueryPrefix:k.addQueryPrefix,allowDots:de,allowEmptyArrays:typeof j.allowEmptyArrays=="boolean"?!!j.allowEmptyArrays:k.allowEmptyArrays,arrayFormat:X,charset:se,charsetSentinel:typeof j.charsetSentinel=="boolean"?j.charsetSentinel:k.charsetSentinel,commaRoundTrip:!!j.commaRoundTrip,delimiter:typeof j.delimiter>"u"?k.delimiter:j.delimiter,encode:typeof j.encode=="boolean"?j.encode:k.encode,encodeDotInKeys:typeof j.encodeDotInKeys=="boolean"?j.encodeDotInKeys:k.encodeDotInKeys,encoder:typeof j.encoder=="function"?j.encoder:k.encoder,encodeValuesOnly:typeof j.encodeValuesOnly=="boolean"?j.encodeValuesOnly:k.encodeValuesOnly,filter:ue,format:he,formatter:oe,serializeDate:typeof j.serializeDate=="function"?j.serializeDate:k.serializeDate,skipNulls:typeof j.skipNulls=="boolean"?j.skipNulls:k.skipNulls,sort:typeof j.sort=="function"?j.sort:null,strictNullHandling:typeof j.strictNullHandling=="boolean"?j.strictNullHandling:k.strictNullHandling}};return D8=function(q,j){var se=q,he=H(j),oe,ue;typeof he.filter=="function"?(ue=he.filter,se=ue("",se)):g(he.filter)&&(ue=he.filter,oe=ue);var X=[];if(typeof se!="object"||se===null)return"";var de=f[he.arrayFormat],fe=de==="comma"&&he.commaRoundTrip;oe||(oe=Object.keys(se)),he.sort&&oe.sort(he.sort);for(var Fe=l(),M=0;M<oe.length;++M){var ke=oe[M],qe=se[ke];he.skipNulls&&qe===null||S(X,N(qe,ke,de,fe,he.allowEmptyArrays,he.strictNullHandling,he.skipNulls,he.encodeDotInKeys,he.encode?he.encoder:null,he.filter,he.sort,he.allowDots,he.serializeDate,he.format,he.formatter,he.encodeValuesOnly,he.charset,Fe))}var Te=X.join(he.delimiter),at=he.addQueryPrefix===!0?"?":"";return he.charsetSentinel&&(he.charset==="iso-8859-1"?at+="utf8=%26%2310003%3B&":at+="utf8=%E2%9C%93&"),Te.length>0?at+Te:""},D8}var O8,Woe;function kQe(){if(Woe)return O8;Woe=1;var l=kce(),o=Object.prototype.hasOwnProperty,a=Array.isArray,u={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:l.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},f=function(U){return U.replace(/&#(\d+);/g,function(N,H){return String.fromCharCode(parseInt(H,10))})},g=function(U,N,H){if(U&&typeof U=="string"&&N.comma&&U.indexOf(",")>-1)return U.split(",");if(N.throwOnLimitExceeded&&H>=N.arrayLimit)throw new RangeError("Array limit exceeded. Only "+N.arrayLimit+" element"+(N.arrayLimit===1?"":"s")+" allowed in an array.");return U},v="utf8=%26%2310003%3B",S="utf8=%E2%9C%93",w=function(N,H){var q={__proto__:null},j=H.ignoreQueryPrefix?N.replace(/^\?/,""):N;j=j.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var se=H.parameterLimit===1/0?void 0:H.parameterLimit,he=j.split(H.delimiter,H.throwOnLimitExceeded?se+1:se);if(H.throwOnLimitExceeded&&he.length>se)throw new RangeError("Parameter limit exceeded. Only "+se+" parameter"+(se===1?"":"s")+" allowed.");var oe=-1,ue,X=H.charset;if(H.charsetSentinel)for(ue=0;ue<he.length;++ue)he[ue].indexOf("utf8=")===0&&(he[ue]===S?X="utf-8":he[ue]===v&&(X="iso-8859-1"),oe=ue,ue=he.length);for(ue=0;ue<he.length;++ue)if(ue!==oe){var de=he[ue],fe=de.indexOf("]="),Fe=fe===-1?de.indexOf("="):fe+1,M,ke;Fe===-1?(M=H.decoder(de,u.decoder,X,"key"),ke=H.strictNullHandling?null:""):(M=H.decoder(de.slice(0,Fe),u.decoder,X,"key"),ke=l.maybeMap(g(de.slice(Fe+1),H,a(q[M])?q[M].length:0),function(Te){return H.decoder(Te,u.decoder,X,"value")})),ke&&H.interpretNumericEntities&&X==="iso-8859-1"&&(ke=f(String(ke))),de.indexOf("[]=")>-1&&(ke=a(ke)?[ke]:ke);var qe=o.call(q,M);qe&&H.duplicates==="combine"?q[M]=l.combine(q[M],ke):(!qe||H.duplicates==="last")&&(q[M]=ke)}return q},I=function(U,N,H,q){var j=0;if(U.length>0&&U[U.length-1]==="[]"){var se=U.slice(0,-1).join("");j=Array.isArray(N)&&N[se]?N[se].length:0}for(var he=q?N:g(N,H,j),oe=U.length-1;oe>=0;--oe){var ue,X=U[oe];if(X==="[]"&&H.parseArrays)ue=H.allowEmptyArrays&&(he===""||H.strictNullHandling&&he===null)?[]:l.combine([],he);else{ue=H.plainObjects?{__proto__:null}:{};var de=X.charAt(0)==="["&&X.charAt(X.length-1)==="]"?X.slice(1,-1):X,fe=H.decodeDotInKeys?de.replace(/%2E/g,"."):de,Fe=parseInt(fe,10);!H.parseArrays&&fe===""?ue={0:he}:!isNaN(Fe)&&X!==fe&&String(Fe)===fe&&Fe>=0&&H.parseArrays&&Fe<=H.arrayLimit?(ue=[],ue[Fe]=he):fe!=="__proto__"&&(ue[fe]=he)}he=ue}return he},k=function(N,H,q,j){if(N){var se=q.allowDots?N.replace(/\.([^.[]+)/g,"[$1]"):N,he=/(\[[^[\]]*])/,oe=/(\[[^[\]]*])/g,ue=q.depth>0&&he.exec(se),X=ue?se.slice(0,ue.index):se,de=[];if(X){if(!q.plainObjects&&o.call(Object.prototype,X)&&!q.allowPrototypes)return;de.push(X)}for(var fe=0;q.depth>0&&(ue=oe.exec(se))!==null&&fe<q.depth;){if(fe+=1,!q.plainObjects&&o.call(Object.prototype,ue[1].slice(1,-1))&&!q.allowPrototypes)return;de.push(ue[1])}if(ue){if(q.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+q.depth+" and strictDepth is true");de.push("["+se.slice(ue.index)+"]")}return I(de,H,q,j)}},F=function(N){if(!N)return u;if(typeof N.allowEmptyArrays<"u"&&typeof N.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof N.decodeDotInKeys<"u"&&typeof N.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(N.decoder!==null&&typeof N.decoder<"u"&&typeof N.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof N.charset<"u"&&N.charset!=="utf-8"&&N.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof N.throwOnLimitExceeded<"u"&&typeof N.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var H=typeof N.charset>"u"?u.charset:N.charset,q=typeof N.duplicates>"u"?u.duplicates:N.duplicates;if(q!=="combine"&&q!=="first"&&q!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var j=typeof N.allowDots>"u"?N.decodeDotInKeys===!0?!0:u.allowDots:!!N.allowDots;return{allowDots:j,allowEmptyArrays:typeof N.allowEmptyArrays=="boolean"?!!N.allowEmptyArrays:u.allowEmptyArrays,allowPrototypes:typeof N.allowPrototypes=="boolean"?N.allowPrototypes:u.allowPrototypes,allowSparse:typeof N.allowSparse=="boolean"?N.allowSparse:u.allowSparse,arrayLimit:typeof N.arrayLimit=="number"?N.arrayLimit:u.arrayLimit,charset:H,charsetSentinel:typeof N.charsetSentinel=="boolean"?N.charsetSentinel:u.charsetSentinel,comma:typeof N.comma=="boolean"?N.comma:u.comma,decodeDotInKeys:typeof N.decodeDotInKeys=="boolean"?N.decodeDotInKeys:u.decodeDotInKeys,decoder:typeof N.decoder=="function"?N.decoder:u.decoder,delimiter:typeof N.delimiter=="string"||l.isRegExp(N.delimiter)?N.delimiter:u.delimiter,depth:typeof N.depth=="number"||N.depth===!1?+N.depth:u.depth,duplicates:q,ignoreQueryPrefix:N.ignoreQueryPrefix===!0,interpretNumericEntities:typeof N.interpretNumericEntities=="boolean"?N.interpretNumericEntities:u.interpretNumericEntities,parameterLimit:typeof N.parameterLimit=="number"?N.parameterLimit:u.parameterLimit,parseArrays:N.parseArrays!==!1,plainObjects:typeof N.plainObjects=="boolean"?N.plainObjects:u.plainObjects,strictDepth:typeof N.strictDepth=="boolean"?!!N.strictDepth:u.strictDepth,strictNullHandling:typeof N.strictNullHandling=="boolean"?N.strictNullHandling:u.strictNullHandling,throwOnLimitExceeded:typeof N.throwOnLimitExceeded=="boolean"?N.throwOnLimitExceeded:!1}};return O8=function(U,N){var H=F(N);if(U===""||U===null||typeof U>"u")return H.plainObjects?{__proto__:null}:{};for(var q=typeof U=="string"?w(U,H):U,j=H.plainObjects?{__proto__:null}:{},se=Object.keys(q),he=0;he<se.length;++he){var oe=se[he],ue=k(oe,q[oe],H,typeof U=="string");j=l.merge(j,ue,H)}return H.allowSparse===!0?j:l.compact(j)},O8}var k8,Yoe;function PQe(){if(Yoe)return k8;Yoe=1;var l=OQe(),o=kQe(),a=D$();return k8={formats:a,parse:o,stringify:l},k8}var Xoe;function RQe(){if(Xoe)return pv;Xoe=1;var l=JZe();function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],v=["{","}","|","\\","^","`"].concat(g),S=["'"].concat(v),w=["%","/","?",";","#"].concat(S),I=["/","?","#"],k=255,F=/^[+a-z0-9A-Z_-]{0,63}$/,U=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},H={javascript:!0,"javascript:":!0},q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=PQe();function se(X,de,fe){if(X&&typeof X=="object"&&X instanceof o)return X;var Fe=new o;return Fe.parse(X,de,fe),Fe}o.prototype.parse=function(X,de,fe){if(typeof X!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof X);var Fe=X.indexOf("?"),M=Fe!==-1&&Fe<X.indexOf("#")?"?":"#",ke=X.split(M),qe=/\\/g;ke[0]=ke[0].replace(qe,"/"),X=ke.join(M);var Te=X;if(Te=Te.trim(),!fe&&X.split("#").length===1){var at=f.exec(Te);if(at)return this.path=Te,this.href=Te,this.pathname=at[1],at[2]?(this.search=at[2],de?this.query=j.parse(this.search.substr(1)):this.query=this.search.substr(1)):de&&(this.search="",this.query={}),this}var _t=a.exec(Te);if(_t){_t=_t[0];var z=_t.toLowerCase();this.protocol=z,Te=Te.substr(_t.length)}if(fe||_t||Te.match(/^\/\/[^@/]+@[^@/]+/)){var be=Te.substr(0,2)==="//";be&&!(_t&&H[_t])&&(Te=Te.substr(2),this.slashes=!0)}if(!H[_t]&&(be||_t&&!q[_t])){for(var Re=-1,ie=0;ie<I.length;ie++){var pe=Te.indexOf(I[ie]);pe!==-1&&(Re===-1||pe<Re)&&(Re=pe)}var me,ce;Re===-1?ce=Te.lastIndexOf("@"):ce=Te.lastIndexOf("@",Re),ce!==-1&&(me=Te.slice(0,ce),Te=Te.slice(ce+1),this.auth=decodeURIComponent(me)),Re=-1;for(var ie=0;ie<w.length;ie++){var pe=Te.indexOf(w[ie]);pe!==-1&&(Re===-1||pe<Re)&&(Re=pe)}Re===-1&&(Re=Te.length),this.host=Te.slice(0,Re),Te=Te.slice(Re),this.parseHost(),this.hostname=this.hostname||"";var _e=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_e)for(var Le=this.hostname.split(/\./),ie=0,Ke=Le.length;ie<Ke;ie++){var dt=Le[ie];if(dt&&!dt.match(F)){for(var It="",St=0,Mt=dt.length;St<Mt;St++)dt.charCodeAt(St)>127?It+="x":It+=dt[St];if(!It.match(F)){var Bt=Le.slice(0,ie),Lt=Le.slice(ie+1),Pt=dt.match(U);Pt&&(Bt.push(Pt[1]),Lt.unshift(Pt[2])),Lt.length&&(Te="/"+Lt.join(".")+Te),this.hostname=Bt.join(".");break}}}this.hostname.length>k?this.hostname="":this.hostname=this.hostname.toLowerCase(),_e||(this.hostname=l.toASCII(this.hostname));var Vt=this.port?":"+this.port:"",lr=this.hostname||"";this.host=lr+Vt,this.href+=this.host,_e&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Te[0]!=="/"&&(Te="/"+Te))}if(!N[z])for(var ie=0,Ke=S.length;ie<Ke;ie++){var Gt=S[ie];if(Te.indexOf(Gt)!==-1){var ar=encodeURIComponent(Gt);ar===Gt&&(ar=escape(Gt)),Te=Te.split(Gt).join(ar)}}var Wt=Te.indexOf("#");Wt!==-1&&(this.hash=Te.substr(Wt),Te=Te.slice(0,Wt));var Dr=Te.indexOf("?");if(Dr!==-1?(this.search=Te.substr(Dr),this.query=Te.substr(Dr+1),de&&(this.query=j.parse(this.query)),Te=Te.slice(0,Dr)):de&&(this.search="",this.query={}),Te&&(this.pathname=Te),q[z]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Vt=this.pathname||"",Tn=this.search||"";this.path=Vt+Tn}return this.href=this.format(),this};function he(X){return typeof X=="string"&&(X=se(X)),X instanceof o?X.format():o.prototype.format.call(X)}o.prototype.format=function(){var X=this.auth||"";X&&(X=encodeURIComponent(X),X=X.replace(/%3A/i,":"),X+="@");var de=this.protocol||"",fe=this.pathname||"",Fe=this.hash||"",M=!1,ke="";this.host?M=X+this.host:this.hostname&&(M=X+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(M+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(ke=j.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var qe=this.search||ke&&"?"+ke||"";return de&&de.substr(-1)!==":"&&(de+=":"),this.slashes||(!de||q[de])&&M!==!1?(M="//"+(M||""),fe&&fe.charAt(0)!=="/"&&(fe="/"+fe)):M||(M=""),Fe&&Fe.charAt(0)!=="#"&&(Fe="#"+Fe),qe&&qe.charAt(0)!=="?"&&(qe="?"+qe),fe=fe.replace(/[?#]/g,function(Te){return encodeURIComponent(Te)}),qe=qe.replace("#","%23"),de+M+fe+qe+Fe};function oe(X,de){return se(X,!1,!0).resolve(de)}o.prototype.resolve=function(X){return this.resolveObject(se(X,!1,!0)).format()};function ue(X,de){return X?se(X,!1,!0).resolveObject(de):de}return o.prototype.resolveObject=function(X){if(typeof X=="string"){var de=new o;de.parse(X,!1,!0),X=de}for(var fe=new o,Fe=Object.keys(this),M=0;M<Fe.length;M++){var ke=Fe[M];fe[ke]=this[ke]}if(fe.hash=X.hash,X.href==="")return fe.href=fe.format(),fe;if(X.slashes&&!X.protocol){for(var qe=Object.keys(X),Te=0;Te<qe.length;Te++){var at=qe[Te];at!=="protocol"&&(fe[at]=X[at])}return q[fe.protocol]&&fe.hostname&&!fe.pathname&&(fe.pathname="/",fe.path=fe.pathname),fe.href=fe.format(),fe}if(X.protocol&&X.protocol!==fe.protocol){if(!q[X.protocol]){for(var _t=Object.keys(X),z=0;z<_t.length;z++){var be=_t[z];fe[be]=X[be]}return fe.href=fe.format(),fe}if(fe.protocol=X.protocol,!X.host&&!H[X.protocol]){for(var Ke=(X.pathname||"").split("/");Ke.length&&!(X.host=Ke.shift()););X.host||(X.host=""),X.hostname||(X.hostname=""),Ke[0]!==""&&Ke.unshift(""),Ke.length<2&&Ke.unshift(""),fe.pathname=Ke.join("/")}else fe.pathname=X.pathname;if(fe.search=X.search,fe.query=X.query,fe.host=X.host||"",fe.auth=X.auth,fe.hostname=X.hostname||X.host,fe.port=X.port,fe.pathname||fe.search){var Re=fe.pathname||"",ie=fe.search||"";fe.path=Re+ie}return fe.slashes=fe.slashes||X.slashes,fe.href=fe.format(),fe}var pe=fe.pathname&&fe.pathname.charAt(0)==="/",me=X.host||X.pathname&&X.pathname.charAt(0)==="/",ce=me||pe||fe.host&&X.pathname,_e=ce,Le=fe.pathname&&fe.pathname.split("/")||[],Ke=X.pathname&&X.pathname.split("/")||[],dt=fe.protocol&&!q[fe.protocol];if(dt&&(fe.hostname="",fe.port=null,fe.host&&(Le[0]===""?Le[0]=fe.host:Le.unshift(fe.host)),fe.host="",X.protocol&&(X.hostname=null,X.port=null,X.host&&(Ke[0]===""?Ke[0]=X.host:Ke.unshift(X.host)),X.host=null),ce=ce&&(Ke[0]===""||Le[0]==="")),me)fe.host=X.host||X.host===""?X.host:fe.host,fe.hostname=X.hostname||X.hostname===""?X.hostname:fe.hostname,fe.search=X.search,fe.query=X.query,Le=Ke;else if(Ke.length)Le||(Le=[]),Le.pop(),Le=Le.concat(Ke),fe.search=X.search,fe.query=X.query;else if(X.search!=null){if(dt){fe.host=Le.shift(),fe.hostname=fe.host;var It=fe.host&&fe.host.indexOf("@")>0?fe.host.split("@"):!1;It&&(fe.auth=It.shift(),fe.hostname=It.shift(),fe.host=fe.hostname)}return fe.search=X.search,fe.query=X.query,(fe.pathname!==null||fe.search!==null)&&(fe.path=(fe.pathname?fe.pathname:"")+(fe.search?fe.search:"")),fe.href=fe.format(),fe}if(!Le.length)return fe.pathname=null,fe.search?fe.path="/"+fe.search:fe.path=null,fe.href=fe.format(),fe;for(var St=Le.slice(-1)[0],Mt=(fe.host||X.host||Le.length>1)&&(St==="."||St==="..")||St==="",Bt=0,Lt=Le.length;Lt>=0;Lt--)St=Le[Lt],St==="."?Le.splice(Lt,1):St===".."?(Le.splice(Lt,1),Bt++):Bt&&(Le.splice(Lt,1),Bt--);if(!ce&&!_e)for(;Bt--;Bt)Le.unshift("..");ce&&Le[0]!==""&&(!Le[0]||Le[0].charAt(0)!=="/")&&Le.unshift(""),Mt&&Le.join("/").substr(-1)!=="/"&&Le.push("");var Pt=Le[0]===""||Le[0]&&Le[0].charAt(0)==="/";if(dt){fe.hostname=Pt?"":Le.length?Le.shift():"",fe.host=fe.hostname;var It=fe.host&&fe.host.indexOf("@")>0?fe.host.split("@"):!1;It&&(fe.auth=It.shift(),fe.hostname=It.shift(),fe.host=fe.hostname)}return ce=ce||fe.host&&Le.length,ce&&!Pt&&Le.unshift(""),Le.length>0?fe.pathname=Le.join("/"):(fe.pathname=null,fe.path=null),(fe.pathname!==null||fe.search!==null)&&(fe.path=(fe.pathname?fe.pathname:"")+(fe.search?fe.search:"")),fe.auth=X.auth||fe.auth,fe.slashes=fe.slashes||X.slashes,fe.href=fe.format(),fe},o.prototype.parseHost=function(){var X=this.host,de=u.exec(X);de&&(de=de[0],de!==":"&&(this.port=de.substr(1)),X=X.substr(0,X.length-de.length)),X&&(this.hostname=X)},pv.parse=se,pv.resolve=oe,pv.resolveObject=ue,pv.format=he,pv.Url=o,pv}var P8=RQe();/*!
 * @pixi/constants - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Xh;(function(l){l[l.WEBGL_LEGACY=0]="WEBGL_LEGACY",l[l.WEBGL=1]="WEBGL",l[l.WEBGL2=2]="WEBGL2"})(Xh||(Xh={}));var Z_;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.WEBGL=1]="WEBGL",l[l.CANVAS=2]="CANVAS"})(Z_||(Z_={}));var yA;(function(l){l[l.COLOR=16384]="COLOR",l[l.DEPTH=256]="DEPTH",l[l.STENCIL=1024]="STENCIL"})(yA||(yA={}));var Wr;(function(l){l[l.NORMAL=0]="NORMAL",l[l.ADD=1]="ADD",l[l.MULTIPLY=2]="MULTIPLY",l[l.SCREEN=3]="SCREEN",l[l.OVERLAY=4]="OVERLAY",l[l.DARKEN=5]="DARKEN",l[l.LIGHTEN=6]="LIGHTEN",l[l.COLOR_DODGE=7]="COLOR_DODGE",l[l.COLOR_BURN=8]="COLOR_BURN",l[l.HARD_LIGHT=9]="HARD_LIGHT",l[l.SOFT_LIGHT=10]="SOFT_LIGHT",l[l.DIFFERENCE=11]="DIFFERENCE",l[l.EXCLUSION=12]="EXCLUSION",l[l.HUE=13]="HUE",l[l.SATURATION=14]="SATURATION",l[l.COLOR=15]="COLOR",l[l.LUMINOSITY=16]="LUMINOSITY",l[l.NORMAL_NPM=17]="NORMAL_NPM",l[l.ADD_NPM=18]="ADD_NPM",l[l.SCREEN_NPM=19]="SCREEN_NPM",l[l.NONE=20]="NONE",l[l.SRC_OVER=0]="SRC_OVER",l[l.SRC_IN=21]="SRC_IN",l[l.SRC_OUT=22]="SRC_OUT",l[l.SRC_ATOP=23]="SRC_ATOP",l[l.DST_OVER=24]="DST_OVER",l[l.DST_IN=25]="DST_IN",l[l.DST_OUT=26]="DST_OUT",l[l.DST_ATOP=27]="DST_ATOP",l[l.ERASE=26]="ERASE",l[l.SUBTRACT=28]="SUBTRACT",l[l.XOR=29]="XOR"})(Wr||(Wr={}));var Pu;(function(l){l[l.POINTS=0]="POINTS",l[l.LINES=1]="LINES",l[l.LINE_LOOP=2]="LINE_LOOP",l[l.LINE_STRIP=3]="LINE_STRIP",l[l.TRIANGLES=4]="TRIANGLES",l[l.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",l[l.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Pu||(Pu={}));var Dc;(function(l){l[l.RGBA=6408]="RGBA",l[l.RGB=6407]="RGB",l[l.ALPHA=6406]="ALPHA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",l[l.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",l[l.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Dc||(Dc={}));var Zp;(function(l){l[l.TEXTURE_2D=3553]="TEXTURE_2D",l[l.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",l[l.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",l[l.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",l[l.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",l[l.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",l[l.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Zp||(Zp={}));var Di;(function(l){l[l.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",l[l.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",l[l.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",l[l.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",l[l.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",l[l.FLOAT=5126]="FLOAT",l[l.HALF_FLOAT=36193]="HALF_FLOAT"})(Di||(Di={}));var _A;(function(l){l[l.FLOAT=0]="FLOAT",l[l.INT=1]="INT",l[l.UINT=2]="UINT"})(_A||(_A={}));var jh;(function(l){l[l.NEAREST=0]="NEAREST",l[l.LINEAR=1]="LINEAR"})(jh||(jh={}));var Wh;(function(l){l[l.CLAMP=33071]="CLAMP",l[l.REPEAT=10497]="REPEAT",l[l.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Wh||(Wh={}));var ud;(function(l){l[l.OFF=0]="OFF",l[l.POW2=1]="POW2",l[l.ON=2]="ON",l[l.ON_MANUAL=3]="ON_MANUAL"})(ud||(ud={}));var qh;(function(l){l[l.NPM=0]="NPM",l[l.UNPACK=1]="UNPACK",l[l.PMA=2]="PMA",l[l.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",l[l.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",l[l.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(qh||(qh={}));var td;(function(l){l[l.NO=0]="NO",l[l.YES=1]="YES",l[l.AUTO=2]="AUTO",l[l.BLEND=0]="BLEND",l[l.CLEAR=1]="CLEAR",l[l.BLIT=2]="BLIT"})(td||(td={}));var WP;(function(l){l[l.AUTO=0]="AUTO",l[l.MANUAL=1]="MANUAL"})(WP||(WP={}));var Pc;(function(l){l.LOW="lowp",l.MEDIUM="mediump",l.HIGH="highp"})(Pc||(Pc={}));var fl;(function(l){l[l.NONE=0]="NONE",l[l.SCISSOR=1]="SCISSOR",l[l.STENCIL=2]="STENCIL",l[l.SPRITE=3]="SPRITE"})(fl||(fl={}));var Vv;(function(l){l[l.NONE=0]="NONE",l[l.LOW=2]="LOW",l[l.MEDIUM=4]="MEDIUM",l[l.HIGH=8]="HIGH"})(Vv||(Vv={}));/*!
 * @pixi/utils - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Nv={parse:P8.parse,format:P8.format,resolve:P8.resolve};Gr.RETINA_PREFIX=/@([0-9\.]+)x/;Gr.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var oH=!1,qoe="6.0.4";function NQe(){oH=!0}function Pce(l){var o;if(!oH){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var a=[`
 %c %c %c PixiJS `+qoe+" -  "+l+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(o=self.console).log.apply(o,a)}else self.console&&self.console.log("PixiJS "+qoe+" - "+l+" - http://www.pixijs.com/");oH=!0}}var R8;function Rce(){return typeof R8>"u"&&(R8=(function(){var o={stencil:!0,failIfMajorPerformanceCaveat:Gr.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var a=document.createElement("canvas"),u=a.getContext("webgl",o)||a.getContext("experimental-webgl",o),f=!!(u&&u.getContextAttributes().stencil);if(u){var g=u.getExtension("WEBGL_lose_context");g&&g.loseContext()}return u=null,f}catch{return!1}})()),R8}var MQe="#f0f8ff",LQe="#faebd7",BQe="#00ffff",FQe="#7fffd4",UQe="#f0ffff",HQe="#f5f5dc",$Qe="#ffe4c4",GQe="#000000",zQe="#ffebcd",jQe="#0000ff",VQe="#8a2be2",WQe="#a52a2a",YQe="#deb887",XQe="#5f9ea0",qQe="#7fff00",KQe="#d2691e",ZQe="#ff7f50",QQe="#6495ed",JQe="#fff8dc",eJe="#dc143c",tJe="#00ffff",rJe="#00008b",nJe="#008b8b",iJe="#b8860b",aJe="#a9a9a9",oJe="#006400",sJe="#a9a9a9",lJe="#bdb76b",uJe="#8b008b",cJe="#556b2f",hJe="#ff8c00",fJe="#9932cc",dJe="#8b0000",pJe="#e9967a",mJe="#8fbc8f",gJe="#483d8b",vJe="#2f4f4f",yJe="#2f4f4f",_Je="#00ced1",EJe="#9400d3",TJe="#ff1493",bJe="#00bfff",SJe="#696969",CJe="#696969",AJe="#1e90ff",wJe="#b22222",xJe="#fffaf0",IJe="#228b22",DJe="#ff00ff",OJe="#dcdcdc",kJe="#f8f8ff",PJe="#daa520",RJe="#ffd700",NJe="#808080",MJe="#008000",LJe="#adff2f",BJe="#808080",FJe="#f0fff0",UJe="#ff69b4",HJe="#cd5c5c",$Je="#4b0082",GJe="#fffff0",zJe="#f0e68c",jJe="#fff0f5",VJe="#e6e6fa",WJe="#7cfc00",YJe="#fffacd",XJe="#add8e6",qJe="#f08080",KJe="#e0ffff",ZJe="#fafad2",QJe="#d3d3d3",JJe="#90ee90",eet="#d3d3d3",tet="#ffb6c1",ret="#ffa07a",net="#20b2aa",iet="#87cefa",aet="#778899",oet="#778899",set="#b0c4de",uet="#ffffe0",cet="#00ff00",het="#32cd32",fet="#faf0e6",det="#ff00ff",pet="#800000",met="#66cdaa",get="#0000cd",vet="#ba55d3",yet="#9370db",_et="#3cb371",Eet="#7b68ee",Tet="#00fa9a",bet="#48d1cc",Cet="#c71585",Aet="#191970",wet="#f5fffa",xet="#ffe4e1",Iet="#ffe4b5",Det="#ffdead",Oet="#000080",ket="#fdf5e6",Pet="#808000",Ret="#6b8e23",Net="#ffa500",Met="#ff4500",Let="#da70d6",Bet="#eee8aa",Fet="#98fb98",Uet="#afeeee",Het="#db7093",$et="#ffefd5",Get="#ffdab9",zet="#cd853f",jet="#ffc0cb",Vet="#dda0dd",Wet="#b0e0e6",Yet="#800080",Xet="#663399",qet="#ff0000",Ket="#bc8f8f",Zet="#4169e1",Qet="#8b4513",Jet="#fa8072",ett="#f4a460",ttt="#2e8b57",rtt="#fff5ee",ntt="#a0522d",itt="#c0c0c0",att="#87ceeb",ott="#6a5acd",stt="#708090",ltt="#708090",utt="#fffafa",ctt="#00ff7f",htt="#4682b4",ftt="#d2b48c",dtt="#008080",ptt="#d8bfd8",mtt="#ff6347",gtt="#40e0d0",vtt="#ee82ee",ytt="#f5deb3",_tt="#ffffff",Ett="#f5f5f5",Ttt="#ffff00",btt="#9acd32",Stt={aliceblue:MQe,antiquewhite:LQe,aqua:BQe,aquamarine:FQe,azure:UQe,beige:HQe,bisque:$Qe,black:GQe,blanchedalmond:zQe,blue:jQe,blueviolet:VQe,brown:WQe,burlywood:YQe,cadetblue:XQe,chartreuse:qQe,chocolate:KQe,coral:ZQe,cornflowerblue:QQe,cornsilk:JQe,crimson:eJe,cyan:tJe,darkblue:rJe,darkcyan:nJe,darkgoldenrod:iJe,darkgray:aJe,darkgreen:oJe,darkgrey:sJe,darkkhaki:lJe,darkmagenta:uJe,darkolivegreen:cJe,darkorange:hJe,darkorchid:fJe,darkred:dJe,darksalmon:pJe,darkseagreen:mJe,darkslateblue:gJe,darkslategray:vJe,darkslategrey:yJe,darkturquoise:_Je,darkviolet:EJe,deeppink:TJe,deepskyblue:bJe,dimgray:SJe,dimgrey:CJe,dodgerblue:AJe,firebrick:wJe,floralwhite:xJe,forestgreen:IJe,fuchsia:DJe,gainsboro:OJe,ghostwhite:kJe,goldenrod:PJe,gold:RJe,gray:NJe,green:MJe,greenyellow:LJe,grey:BJe,honeydew:FJe,hotpink:UJe,indianred:HJe,indigo:$Je,ivory:GJe,khaki:zJe,lavenderblush:jJe,lavender:VJe,lawngreen:WJe,lemonchiffon:YJe,lightblue:XJe,lightcoral:qJe,lightcyan:KJe,lightgoldenrodyellow:ZJe,lightgray:QJe,lightgreen:JJe,lightgrey:eet,lightpink:tet,lightsalmon:ret,lightseagreen:net,lightskyblue:iet,lightslategray:aet,lightslategrey:oet,lightsteelblue:set,lightyellow:uet,lime:cet,limegreen:het,linen:fet,magenta:det,maroon:pet,mediumaquamarine:met,mediumblue:get,mediumorchid:vet,mediumpurple:yet,mediumseagreen:_et,mediumslateblue:Eet,mediumspringgreen:Tet,mediumturquoise:bet,mediumvioletred:Cet,midnightblue:Aet,mintcream:wet,mistyrose:xet,moccasin:Iet,navajowhite:Det,navy:Oet,oldlace:ket,olive:Pet,olivedrab:Ret,orange:Net,orangered:Met,orchid:Let,palegoldenrod:Bet,palegreen:Fet,paleturquoise:Uet,palevioletred:Het,papayawhip:$et,peachpuff:Get,peru:zet,pink:jet,plum:Vet,powderblue:Wet,purple:Yet,rebeccapurple:Xet,red:qet,rosybrown:Ket,royalblue:Zet,saddlebrown:Qet,salmon:Jet,sandybrown:ett,seagreen:ttt,seashell:rtt,sienna:ntt,silver:itt,skyblue:att,slateblue:ott,slategray:stt,slategrey:ltt,snow:utt,springgreen:ctt,steelblue:htt,tan:ftt,teal:dtt,thistle:ptt,tomato:mtt,turquoise:gtt,violet:vtt,wheat:ytt,white:_tt,whitesmoke:Ett,yellow:Ttt,yellowgreen:btt};function Wv(l,o){return o===void 0&&(o=[]),o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255,o}function O$(l){var o=l.toString(16);return o="000000".substr(0,6-o.length)+o,"#"+o}function k$(l){return typeof l=="string"&&(l=Stt[l.toLowerCase()]||l,l[0]==="#"&&(l=l.substr(1))),parseInt(l,16)}function Ctt(l){return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)}function Att(){for(var l=[],o=[],a=0;a<32;a++)l[a]=a,o[a]=a;l[Wr.NORMAL_NPM]=Wr.NORMAL,l[Wr.ADD_NPM]=Wr.ADD,l[Wr.SCREEN_NPM]=Wr.SCREEN,o[Wr.NORMAL]=Wr.NORMAL_NPM,o[Wr.ADD]=Wr.ADD_NPM,o[Wr.SCREEN]=Wr.SCREEN_NPM;var u=[];return u.push(o),u.push(l),u}var P$=Att();function R$(l,o){return P$[o?1:0][l]}function Nce(l,o,a,u){return a=a||new Float32Array(4),u||u===void 0?(a[0]=l[0]*o,a[1]=l[1]*o,a[2]=l[2]*o):(a[0]=l[0],a[1]=l[1],a[2]=l[2]),a[3]=o,a}function vR(l,o){if(o===1)return(o*255<<24)+l;if(o===0)return 0;var a=l>>16&255,u=l>>8&255,f=l&255;return a=a*o+.5|0,u=u*o+.5|0,f=f*o+.5|0,(o*255<<24)+(a<<16)+(u<<8)+f}function N$(l,o,a,u){return a=a||new Float32Array(4),a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255,(u||u===void 0)&&(a[0]*=o,a[1]*=o,a[2]*=o),a[3]=o,a}function Mce(l,o){o===void 0&&(o=null);var a=l*6;if(o=o||new Uint16Array(a),o.length!==a)throw new Error("Out buffer length is incorrect, got "+o.length+" and expected "+a);for(var u=0,f=0;u<a;u+=6,f+=4)o[u+0]=f+0,o[u+1]=f+1,o[u+2]=f+2,o[u+3]=f+0,o[u+4]=f+2,o[u+5]=f+3;return o}function Lce(l){if(l.BYTES_PER_ELEMENT===4)return l instanceof Float32Array?"Float32Array":l instanceof Uint32Array?"Uint32Array":"Int32Array";if(l.BYTES_PER_ELEMENT===2){if(l instanceof Uint16Array)return"Uint16Array"}else if(l.BYTES_PER_ELEMENT===1&&l instanceof Uint8Array)return"Uint8Array";return null}var wtt={Float32Array,Uint32Array,Int32Array,Uint8Array};function xtt(l,o){for(var a=0,u=0,f={},g=0;g<l.length;g++)u+=o[g],a+=l[g].length;for(var v=new ArrayBuffer(a*4),S=null,w=0,g=0;g<l.length;g++){var I=o[g],k=l[g],F=Lce(k);f[F]||(f[F]=new wtt[F](v)),S=f[F];for(var U=0;U<k.length;U++){var N=(U/I|0)*u+w,H=U%I;S[N+H]=k[U]}w+=I}return new Float32Array(v)}function EA(l){return l+=l===0?1:0,--l,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l+1}function sH(l){return!(l&l-1)&&!!l}function lH(l){var o=(l>65535?1:0)<<4;l>>>=o;var a=(l>255?1:0)<<3;return l>>>=a,o|=a,a=(l>15?1:0)<<2,l>>>=a,o|=a,a=(l>3?1:0)<<1,l>>>=a,o|=a,o|l>>1}function Hv(l,o,a){var u=l.length,f;if(!(o>=u||a===0)){a=o+a>u?u-o:a;var g=u-a;for(f=o;f<g;++f)l[f]=l[f+a];l.length=g}}function Mv(l){return l===0?0:l<0?-1:1}var Itt=0;function Yv(){return++Itt}var Koe={};function Xv(l,o,a){if(a===void 0&&(a=3),!Koe[o]){var u=new Error().stack;typeof u>"u"?console.warn("PixiJS Deprecation Warning: ",o+`
Deprecated since v`+l):(u=u.split(`
`).splice(a).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",o+`
Deprecated since v`+l),console.warn(u),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",o+`
Deprecated since v`+l),console.warn(u))),Koe[o]=!0}}var uH={},dl=Object.create(null),Ou=Object.create(null);function Dtt(){var l;for(l in dl)dl[l].destroy();for(l in Ou)Ou[l].destroy()}function Ott(){var l;for(l in dl)delete dl[l];for(l in Ou)delete Ou[l]}var cH=(function(){function l(o,a,u){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=u||Gr.RESOLUTION,this.resize(o,a)}return l.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},l.prototype.resize=function(o,a){this.canvas.width=o*this.resolution,this.canvas.height=a*this.resolution},l.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(l.prototype,"width",{get:function(){return this.canvas.width},set:function(o){this.canvas.width=o},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.canvas.height},set:function(o){this.canvas.height=o},enumerable:!1,configurable:!0}),l})();function Bce(l){var o=l.width,a=l.height,u=l.getContext("2d"),f=u.getImageData(0,0,o,a),g=f.data,v=g.length,S={top:null,left:null,right:null,bottom:null},w=null,I,k,F;for(I=0;I<v;I+=4)g[I+3]!==0&&(k=I/4%o,F=~~(I/4/o),S.top===null&&(S.top=F),(S.left===null||k<S.left)&&(S.left=k),(S.right===null||S.right<k)&&(S.right=k+1),(S.bottom===null||S.bottom<F)&&(S.bottom=F));return S.top!==null&&(o=S.right-S.left,a=S.bottom-S.top+1,w=u.getImageData(S.left,S.top,o,a)),{height:a,width:o,data:w}}var Fce=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ktt(l){var o=Fce.exec(l);if(o)return{mediaType:o[1]?o[1].toLowerCase():void 0,subType:o[2]?o[2].toLowerCase():void 0,charset:o[3]?o[3].toLowerCase():void 0,encoding:o[4]?o[4].toLowerCase():void 0,data:o[5]}}var rP;function Uce(l,o){if(o===void 0&&(o=self.location),l.indexOf("data:")===0)return"";o=o||self.location,rP||(rP=document.createElement("a")),rP.href=l;var a=Nv.parse(rP.href),u=!a.port&&o.port===""||a.port===o.port;return a.hostname!==o.hostname||!u||a.protocol!==o.protocol?"anonymous":""}function TA(l,o){var a=Gr.RETINA_PREFIX.exec(l);return a?parseFloat(a[1]):o!==void 0?o:1}const Ptt=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Ou,CanvasRenderTarget:cH,DATA_URI:Fce,EventEmitter:rE,ProgramCache:uH,TextureCache:dl,clearTextureCache:Ott,correctBlendMode:R$,createIndicesForQuads:Mce,decomposeDataUri:ktt,deprecation:Xv,destroyTextureCache:Dtt,determineCrossOrigin:Uce,earcut:w$,getBufferType:Lce,getResolutionOfUrl:TA,hex2rgb:Wv,hex2string:O$,interleaveTypedArrays:xtt,isMobile:ku,isPow2:sH,isWebGLSupported:Rce,log2:lH,nextPow2:EA,premultiplyBlendMode:P$,premultiplyRgba:Nce,premultiplyTint:vR,premultiplyTintToRgba:N$,removeItems:Hv,rgb2hex:Ctt,sayHello:Pce,sign:Mv,skipHello:NQe,string2hex:k$,trimCanvas:Bce,uid:Yv,url:Nv},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var bA=Math.PI*2,Hce=180/Math.PI,$ce=Math.PI/180,Sa;(function(l){l[l.POLY=0]="POLY",l[l.RECT=1]="RECT",l[l.CIRC=2]="CIRC",l[l.ELIP=3]="ELIP",l[l.RREC=4]="RREC"})(Sa||(Sa={}));var Zn=(function(){function l(o,a,u,f){o===void 0&&(o=0),a===void 0&&(a=0),u===void 0&&(u=0),f===void 0&&(f=0),this.x=Number(o),this.y=Number(a),this.width=Number(u),this.height=Number(f),this.type=Sa.RECT}return Object.defineProperty(l.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(l,"EMPTY",{get:function(){return new l(0,0,0,0)},enumerable:!1,configurable:!0}),l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height)},l.prototype.copyFrom=function(o){return this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height,this},l.prototype.copyTo=function(o){return o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o},l.prototype.contains=function(o,a){return this.width<=0||this.height<=0?!1:o>=this.x&&o<this.x+this.width&&a>=this.y&&a<this.y+this.height},l.prototype.pad=function(o,a){return o===void 0&&(o=0),a===void 0&&(a=o),this.x-=o,this.y-=a,this.width+=o*2,this.height+=a*2,this},l.prototype.fit=function(o){var a=Math.max(this.x,o.x),u=Math.min(this.x+this.width,o.x+o.width),f=Math.max(this.y,o.y),g=Math.min(this.y+this.height,o.y+o.height);return this.x=a,this.width=Math.max(u-a,0),this.y=f,this.height=Math.max(g-f,0),this},l.prototype.ceil=function(o,a){o===void 0&&(o=1),a===void 0&&(a=.001);var u=Math.ceil((this.x+this.width-a)*o)/o,f=Math.ceil((this.y+this.height-a)*o)/o;return this.x=Math.floor((this.x+a)*o)/o,this.y=Math.floor((this.y+a)*o)/o,this.width=u-this.x,this.height=f-this.y,this},l.prototype.enlarge=function(o){var a=Math.min(this.x,o.x),u=Math.max(this.x+this.width,o.x+o.width),f=Math.min(this.y,o.y),g=Math.max(this.y+this.height,o.y+o.height);return this.x=a,this.width=u-a,this.y=f,this.height=g-f,this},l.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},l})(),Gce=(function(){function l(o,a,u){o===void 0&&(o=0),a===void 0&&(a=0),u===void 0&&(u=0),this.x=o,this.y=a,this.radius=u,this.type=Sa.CIRC}return l.prototype.clone=function(){return new l(this.x,this.y,this.radius)},l.prototype.contains=function(o,a){if(this.radius<=0)return!1;var u=this.radius*this.radius,f=this.x-o,g=this.y-a;return f*=f,g*=g,f+g<=u},l.prototype.getBounds=function(){return new Zn(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},l.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},l})(),zce=(function(){function l(o,a,u,f){o===void 0&&(o=0),a===void 0&&(a=0),u===void 0&&(u=0),f===void 0&&(f=0),this.x=o,this.y=a,this.width=u,this.height=f,this.type=Sa.ELIP}return l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height)},l.prototype.contains=function(o,a){if(this.width<=0||this.height<=0)return!1;var u=(o-this.x)/this.width,f=(a-this.y)/this.height;return u*=u,f*=f,u+f<=1},l.prototype.getBounds=function(){return new Zn(this.x-this.width,this.y-this.height,this.width,this.height)},l.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},l})(),fA=(function(){function l(){for(var o=arguments,a=[],u=0;u<arguments.length;u++)a[u]=o[u];var f=Array.isArray(a[0])?a[0]:a;if(typeof f[0]!="number"){for(var g=[],v=0,S=f.length;v<S;v++)g.push(f[v].x,f[v].y);f=g}this.points=f,this.type=Sa.POLY,this.closeStroke=!0}return l.prototype.clone=function(){var o=this.points.slice(),a=new l(o);return a.closeStroke=this.closeStroke,a},l.prototype.contains=function(o,a){for(var u=!1,f=this.points.length/2,g=0,v=f-1;g<f;v=g++){var S=this.points[g*2],w=this.points[g*2+1],I=this.points[v*2],k=this.points[v*2+1],F=w>a!=k>a&&o<(I-S)*((a-w)/(k-w))+S;F&&(u=!u)}return u},l.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(o,a){return o+", "+a},"")+"]")},l})(),jce=(function(){function l(o,a,u,f,g){o===void 0&&(o=0),a===void 0&&(a=0),u===void 0&&(u=0),f===void 0&&(f=0),g===void 0&&(g=20),this.x=o,this.y=a,this.width=u,this.height=f,this.radius=g,this.type=Sa.RREC}return l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.radius)},l.prototype.contains=function(o,a){if(this.width<=0||this.height<=0)return!1;if(o>=this.x&&o<=this.x+this.width&&a>=this.y&&a<=this.y+this.height){if(a>=this.y+this.radius&&a<=this.y+this.height-this.radius||o>=this.x+this.radius&&o<=this.x+this.width-this.radius)return!0;var u=o-(this.x+this.radius),f=a-(this.y+this.radius),g=this.radius*this.radius;if(u*u+f*f<=g||(u=o-(this.x+this.width-this.radius),u*u+f*f<=g)||(f=a-(this.y+this.height-this.radius),u*u+f*f<=g)||(u=o-(this.x+this.radius),u*u+f*f<=g))return!0}return!1},l.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},l})(),Ca=(function(){function l(o,a){o===void 0&&(o=0),a===void 0&&(a=0),this.x=0,this.y=0,this.x=o,this.y=a}return l.prototype.clone=function(){return new l(this.x,this.y)},l.prototype.copyFrom=function(o){return this.set(o.x,o.y),this},l.prototype.copyTo=function(o){return o.set(this.x,this.y),o},l.prototype.equals=function(o){return o.x===this.x&&o.y===this.y},l.prototype.set=function(o,a){return o===void 0&&(o=0),a===void 0&&(a=o),this.x=o,this.y=a,this},l.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},l})(),Lv=(function(){function l(o,a,u,f){u===void 0&&(u=0),f===void 0&&(f=0),this._x=u,this._y=f,this.cb=o,this.scope=a}return l.prototype.clone=function(o,a){return o===void 0&&(o=this.cb),a===void 0&&(a=this.scope),new l(o,a,this._x,this._y)},l.prototype.set=function(o,a){return o===void 0&&(o=0),a===void 0&&(a=o),(this._x!==o||this._y!==a)&&(this._x=o,this._y=a,this.cb.call(this.scope)),this},l.prototype.copyFrom=function(o){return(this._x!==o.x||this._y!==o.y)&&(this._x=o.x,this._y=o.y,this.cb.call(this.scope)),this},l.prototype.copyTo=function(o){return o.set(this._x,this._y),o},l.prototype.equals=function(o){return o.x===this._x&&o.y===this._y},l.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(l.prototype,"x",{get:function(){return this._x},set:function(o){this._x!==o&&(this._x=o,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this._y},set:function(o){this._y!==o&&(this._y=o,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),l})(),Ha=(function(){function l(o,a,u,f,g,v){o===void 0&&(o=1),a===void 0&&(a=0),u===void 0&&(u=0),f===void 0&&(f=1),g===void 0&&(g=0),v===void 0&&(v=0),this.array=null,this.a=o,this.b=a,this.c=u,this.d=f,this.tx=g,this.ty=v}return l.prototype.fromArray=function(o){this.a=o[0],this.b=o[1],this.c=o[3],this.d=o[4],this.tx=o[2],this.ty=o[5]},l.prototype.set=function(o,a,u,f,g,v){return this.a=o,this.b=a,this.c=u,this.d=f,this.tx=g,this.ty=v,this},l.prototype.toArray=function(o,a){this.array||(this.array=new Float32Array(9));var u=a||this.array;return o?(u[0]=this.a,u[1]=this.b,u[2]=0,u[3]=this.c,u[4]=this.d,u[5]=0,u[6]=this.tx,u[7]=this.ty,u[8]=1):(u[0]=this.a,u[1]=this.c,u[2]=this.tx,u[3]=this.b,u[4]=this.d,u[5]=this.ty,u[6]=0,u[7]=0,u[8]=1),u},l.prototype.apply=function(o,a){a=a||new Ca;var u=o.x,f=o.y;return a.x=this.a*u+this.c*f+this.tx,a.y=this.b*u+this.d*f+this.ty,a},l.prototype.applyInverse=function(o,a){a=a||new Ca;var u=1/(this.a*this.d+this.c*-this.b),f=o.x,g=o.y;return a.x=this.d*u*f+-this.c*u*g+(this.ty*this.c-this.tx*this.d)*u,a.y=this.a*u*g+-this.b*u*f+(-this.ty*this.a+this.tx*this.b)*u,a},l.prototype.translate=function(o,a){return this.tx+=o,this.ty+=a,this},l.prototype.scale=function(o,a){return this.a*=o,this.d*=a,this.c*=o,this.b*=a,this.tx*=o,this.ty*=a,this},l.prototype.rotate=function(o){var a=Math.cos(o),u=Math.sin(o),f=this.a,g=this.c,v=this.tx;return this.a=f*a-this.b*u,this.b=f*u+this.b*a,this.c=g*a-this.d*u,this.d=g*u+this.d*a,this.tx=v*a-this.ty*u,this.ty=v*u+this.ty*a,this},l.prototype.append=function(o){var a=this.a,u=this.b,f=this.c,g=this.d;return this.a=o.a*a+o.b*f,this.b=o.a*u+o.b*g,this.c=o.c*a+o.d*f,this.d=o.c*u+o.d*g,this.tx=o.tx*a+o.ty*f+this.tx,this.ty=o.tx*u+o.ty*g+this.ty,this},l.prototype.setTransform=function(o,a,u,f,g,v,S,w,I){return this.a=Math.cos(S+I)*g,this.b=Math.sin(S+I)*g,this.c=-Math.sin(S-w)*v,this.d=Math.cos(S-w)*v,this.tx=o-(u*this.a+f*this.c),this.ty=a-(u*this.b+f*this.d),this},l.prototype.prepend=function(o){var a=this.tx;if(o.a!==1||o.b!==0||o.c!==0||o.d!==1){var u=this.a,f=this.c;this.a=u*o.a+this.b*o.c,this.b=u*o.b+this.b*o.d,this.c=f*o.a+this.d*o.c,this.d=f*o.b+this.d*o.d}return this.tx=a*o.a+this.ty*o.c+o.tx,this.ty=a*o.b+this.ty*o.d+o.ty,this},l.prototype.decompose=function(o){var a=this.a,u=this.b,f=this.c,g=this.d,v=o.pivot,S=-Math.atan2(-f,g),w=Math.atan2(u,a),I=Math.abs(S+w);return I<1e-5||Math.abs(bA-I)<1e-5?(o.rotation=w,o.skew.x=o.skew.y=0):(o.rotation=0,o.skew.x=S,o.skew.y=w),o.scale.x=Math.sqrt(a*a+u*u),o.scale.y=Math.sqrt(f*f+g*g),o.position.x=this.tx+(v.x*a+v.y*f),o.position.y=this.ty+(v.x*u+v.y*g),o},l.prototype.invert=function(){var o=this.a,a=this.b,u=this.c,f=this.d,g=this.tx,v=o*f-a*u;return this.a=f/v,this.b=-a/v,this.c=-u/v,this.d=o/v,this.tx=(u*this.ty-f*g)/v,this.ty=-(o*this.ty-a*g)/v,this},l.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},l.prototype.clone=function(){var o=new l;return o.a=this.a,o.b=this.b,o.c=this.c,o.d=this.d,o.tx=this.tx,o.ty=this.ty,o},l.prototype.copyTo=function(o){return o.a=this.a,o.b=this.b,o.c=this.c,o.d=this.d,o.tx=this.tx,o.ty=this.ty,o},l.prototype.copyFrom=function(o){return this.a=o.a,this.b=o.b,this.c=o.c,this.d=o.d,this.tx=o.tx,this.ty=o.ty,this},l.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(l,"IDENTITY",{get:function(){return new l},enumerable:!1,configurable:!0}),Object.defineProperty(l,"TEMP_MATRIX",{get:function(){return new l},enumerable:!1,configurable:!0}),l})(),wv=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xv=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Iv=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Dv=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hH=[],Vce=[],nP=Math.sign;function Rtt(){for(var l=0;l<16;l++){var o=[];hH.push(o);for(var a=0;a<16;a++)for(var u=nP(wv[l]*wv[a]+Iv[l]*xv[a]),f=nP(xv[l]*wv[a]+Dv[l]*xv[a]),g=nP(wv[l]*Iv[a]+Iv[l]*Dv[a]),v=nP(xv[l]*Iv[a]+Dv[l]*Dv[a]),S=0;S<16;S++)if(wv[S]===u&&xv[S]===f&&Iv[S]===g&&Dv[S]===v){o.push(S);break}}for(var l=0;l<16;l++){var w=new Ha;w.set(wv[l],xv[l],Iv[l],Dv[l],0,0),Vce.push(w)}}Rtt();var aa={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(l){return wv[l]},uY:function(l){return xv[l]},vX:function(l){return Iv[l]},vY:function(l){return Dv[l]},inv:function(l){return l&8?l&15:-l&7},add:function(l,o){return hH[l][o]},sub:function(l,o){return hH[l][aa.inv(o)]},rotate180:function(l){return l^4},isVertical:function(l){return(l&3)===2},byDirection:function(l,o){return Math.abs(l)*2<=Math.abs(o)?o>=0?aa.S:aa.N:Math.abs(o)*2<=Math.abs(l)?l>0?aa.E:aa.W:o>0?l>0?aa.SE:aa.SW:l>0?aa.NE:aa.NW},matrixAppendRotationInv:function(l,o,a,u){a===void 0&&(a=0),u===void 0&&(u=0);var f=Vce[aa.inv(o)];f.tx=a,f.ty=u,l.append(f)}},M$=(function(){function l(){this.worldTransform=new Ha,this.localTransform=new Ha,this.position=new Lv(this.onChange,this,0,0),this.scale=new Lv(this.onChange,this,1,1),this.pivot=new Lv(this.onChange,this,0,0),this.skew=new Lv(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return l.prototype.onChange=function(){this._localID++},l.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},l.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},l.prototype.updateLocalTransform=function(){var o=this.localTransform;this._localID!==this._currentLocalID&&(o.a=this._cx*this.scale.x,o.b=this._sx*this.scale.x,o.c=this._cy*this.scale.y,o.d=this._sy*this.scale.y,o.tx=this.position.x-(this.pivot.x*o.a+this.pivot.y*o.c),o.ty=this.position.y-(this.pivot.x*o.b+this.pivot.y*o.d),this._currentLocalID=this._localID,this._parentID=-1)},l.prototype.updateTransform=function(o){var a=this.localTransform;if(this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale.x,a.b=this._sx*this.scale.x,a.c=this._cy*this.scale.y,a.d=this._sy*this.scale.y,a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c),a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==o._worldID){var u=o.worldTransform,f=this.worldTransform;f.a=a.a*u.a+a.b*u.c,f.b=a.a*u.b+a.b*u.d,f.c=a.c*u.a+a.d*u.c,f.d=a.c*u.b+a.d*u.d,f.tx=a.tx*u.a+a.ty*u.c+u.tx,f.ty=a.tx*u.b+a.ty*u.d+u.ty,this._parentID=o._worldID,this._worldID++}},l.prototype.setFromMatrix=function(o){o.decompose(this),this._localID++},Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(o){this._rotation!==o&&(this._rotation=o,this.updateSkew())},enumerable:!1,configurable:!0}),l.IDENTITY=new l,l})();/*!
 * @pixi/display - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Gr.SORTABLE_CHILDREN=!1;var SA=(function(){function l(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return l.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},l.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},l.prototype.getRectangle=function(o){return this.minX>this.maxX||this.minY>this.maxY?Zn.EMPTY:(o=o||new Zn(0,0,1,1),o.x=this.minX,o.y=this.minY,o.width=this.maxX-this.minX,o.height=this.maxY-this.minY,o)},l.prototype.addPoint=function(o){this.minX=Math.min(this.minX,o.x),this.maxX=Math.max(this.maxX,o.x),this.minY=Math.min(this.minY,o.y),this.maxY=Math.max(this.maxY,o.y)},l.prototype.addPointMatrix=function(o,a){var u=o.a,f=o.b,g=o.c,v=o.d,S=o.tx,w=o.ty,I=u*a.x+g*a.y+S,k=f*a.x+v*a.y+w;this.minX=Math.min(this.minX,I),this.maxX=Math.max(this.maxX,I),this.minY=Math.min(this.minY,k),this.maxY=Math.max(this.maxY,k)},l.prototype.addQuad=function(o){var a=this.minX,u=this.minY,f=this.maxX,g=this.maxY,v=o[0],S=o[1];a=v<a?v:a,u=S<u?S:u,f=v>f?v:f,g=S>g?S:g,v=o[2],S=o[3],a=v<a?v:a,u=S<u?S:u,f=v>f?v:f,g=S>g?S:g,v=o[4],S=o[5],a=v<a?v:a,u=S<u?S:u,f=v>f?v:f,g=S>g?S:g,v=o[6],S=o[7],a=v<a?v:a,u=S<u?S:u,f=v>f?v:f,g=S>g?S:g,this.minX=a,this.minY=u,this.maxX=f,this.maxY=g},l.prototype.addFrame=function(o,a,u,f,g){this.addFrameMatrix(o.worldTransform,a,u,f,g)},l.prototype.addFrameMatrix=function(o,a,u,f,g){var v=o.a,S=o.b,w=o.c,I=o.d,k=o.tx,F=o.ty,U=this.minX,N=this.minY,H=this.maxX,q=this.maxY,j=v*a+w*u+k,se=S*a+I*u+F;U=j<U?j:U,N=se<N?se:N,H=j>H?j:H,q=se>q?se:q,j=v*f+w*u+k,se=S*f+I*u+F,U=j<U?j:U,N=se<N?se:N,H=j>H?j:H,q=se>q?se:q,j=v*a+w*g+k,se=S*a+I*g+F,U=j<U?j:U,N=se<N?se:N,H=j>H?j:H,q=se>q?se:q,j=v*f+w*g+k,se=S*f+I*g+F,U=j<U?j:U,N=se<N?se:N,H=j>H?j:H,q=se>q?se:q,this.minX=U,this.minY=N,this.maxX=H,this.maxY=q},l.prototype.addVertexData=function(o,a,u){for(var f=this.minX,g=this.minY,v=this.maxX,S=this.maxY,w=a;w<u;w+=2){var I=o[w],k=o[w+1];f=I<f?I:f,g=k<g?k:g,v=I>v?I:v,S=k>S?k:S}this.minX=f,this.minY=g,this.maxX=v,this.maxY=S},l.prototype.addVertices=function(o,a,u,f){this.addVerticesMatrix(o.worldTransform,a,u,f)},l.prototype.addVerticesMatrix=function(o,a,u,f,g,v){g===void 0&&(g=0),v===void 0&&(v=g);for(var S=o.a,w=o.b,I=o.c,k=o.d,F=o.tx,U=o.ty,N=this.minX,H=this.minY,q=this.maxX,j=this.maxY,se=u;se<f;se+=2){var he=a[se],oe=a[se+1],ue=S*he+I*oe+F,X=k*oe+w*he+U;N=Math.min(N,ue-g),q=Math.max(q,ue+g),H=Math.min(H,X-v),j=Math.max(j,X+v)}this.minX=N,this.minY=H,this.maxX=q,this.maxY=j},l.prototype.addBounds=function(o){var a=this.minX,u=this.minY,f=this.maxX,g=this.maxY;this.minX=o.minX<a?o.minX:a,this.minY=o.minY<u?o.minY:u,this.maxX=o.maxX>f?o.maxX:f,this.maxY=o.maxY>g?o.maxY:g},l.prototype.addBoundsMask=function(o,a){var u=o.minX>a.minX?o.minX:a.minX,f=o.minY>a.minY?o.minY:a.minY,g=o.maxX<a.maxX?o.maxX:a.maxX,v=o.maxY<a.maxY?o.maxY:a.maxY;if(u<=g&&f<=v){var S=this.minX,w=this.minY,I=this.maxX,k=this.maxY;this.minX=u<S?u:S,this.minY=f<w?f:w,this.maxX=g>I?g:I,this.maxY=v>k?v:k}},l.prototype.addBoundsMatrix=function(o,a){this.addFrameMatrix(a,o.minX,o.minY,o.maxX,o.maxY)},l.prototype.addBoundsArea=function(o,a){var u=o.minX>a.x?o.minX:a.x,f=o.minY>a.y?o.minY:a.y,g=o.maxX<a.x+a.width?o.maxX:a.x+a.width,v=o.maxY<a.y+a.height?o.maxY:a.y+a.height;if(u<=g&&f<=v){var S=this.minX,w=this.minY,I=this.maxX,k=this.maxY;this.minX=u<S?u:S,this.minY=f<w?f:w,this.maxX=g>I?g:I,this.maxY=v>k?v:k}},l.prototype.pad=function(o,a){o===void 0&&(o=0),a===void 0&&(a=o),this.isEmpty()||(this.minX-=o,this.maxX+=o,this.minY-=a,this.maxY+=a)},l.prototype.addFramePad=function(o,a,u,f,g,v){o-=g,a-=v,u+=g,f+=v,this.minX=this.minX<o?this.minX:o,this.maxX=this.maxX>u?this.maxX:u,this.minY=this.minY<a?this.minY:a,this.maxY=this.maxY>f?this.maxY:f},l})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fH=function(l,o){return fH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},fH(l,o)};function L$(l,o){fH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var $a=(function(l){L$(o,l);function o(){var a=l.call(this)||this;return a.tempDisplayObjectParent=null,a.transform=new M$,a.alpha=1,a.visible=!0,a.renderable=!0,a.parent=null,a.worldAlpha=1,a._lastSortedIndex=0,a._zIndex=0,a.filterArea=null,a.filters=null,a._enabledFilters=null,a._bounds=new SA,a._localBounds=null,a._boundsID=0,a._boundsRect=null,a._localBoundsRect=null,a._mask=null,a._destroyed=!1,a.isSprite=!1,a.isMask=!1,a}return o.mixin=function(a){for(var u=Object.keys(a),f=0;f<u.length;++f){var g=u[f];Object.defineProperty(o.prototype,g,Object.getOwnPropertyDescriptor(a,g))}},o.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},o.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},o.prototype.getBounds=function(a,u){return a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),u||(this._boundsRect||(this._boundsRect=new Zn),u=this._boundsRect),this._bounds.getRectangle(u)},o.prototype.getLocalBounds=function(a){a||(this._localBoundsRect||(this._localBoundsRect=new Zn),a=this._localBoundsRect),this._localBounds||(this._localBounds=new SA);var u=this.transform,f=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var g=this._bounds,v=this._boundsID;this._bounds=this._localBounds;var S=this.getBounds(!1,a);return this.parent=f,this.transform=u,this._bounds=g,this._bounds.updateID+=this._boundsID-v,S},o.prototype.toGlobal=function(a,u,f){return f===void 0&&(f=!1),f||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(a,u)},o.prototype.toLocal=function(a,u,f,g){return u&&(a=u.toGlobal(a,f,g)),g||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(a,f)},o.prototype.setParent=function(a){if(!a||!a.addChild)throw new Error("setParent: Argument must be a Container");return a.addChild(this),a},o.prototype.setTransform=function(a,u,f,g,v,S,w,I,k){return a===void 0&&(a=0),u===void 0&&(u=0),f===void 0&&(f=1),g===void 0&&(g=1),v===void 0&&(v=0),S===void 0&&(S=0),w===void 0&&(w=0),I===void 0&&(I=0),k===void 0&&(k=0),this.position.x=a,this.position.y=u,this.scale.x=f||1,this.scale.y=g||1,this.rotation=v,this.skew.x=S,this.skew.y=w,this.pivot.x=I,this.pivot.y=k,this},o.prototype.destroy=function(a){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(o.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new B$),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),o.prototype.enableTempParent=function(){var a=this.parent;return this.parent=this._tempDisplayObjectParent,a},o.prototype.disableTempParent=function(a){this.parent=a},Object.defineProperty(o.prototype,"x",{get:function(){return this.position.x},set:function(a){this.transform.position.x=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"y",{get:function(){return this.position.y},set:function(a){this.transform.position.y=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"position",{get:function(){return this.transform.position},set:function(a){this.transform.position.copyFrom(a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scale",{get:function(){return this.transform.scale},set:function(a){this.transform.scale.copyFrom(a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copyFrom(a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"skew",{get:function(){return this.transform.skew},set:function(a){this.transform.skew.copyFrom(a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"angle",{get:function(){return this.transform.rotation*Hce},set:function(a){this.transform.rotation=a*$ce},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"zIndex",{get:function(){return this._zIndex},set:function(a){this._zIndex=a,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"worldVisible",{get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"mask",{get:function(){return this._mask},set:function(a){if(this._mask){var u=this._mask.maskObject||this._mask;u.renderable=!0,u.isMask=!1}if(this._mask=a,this._mask){var u=this._mask.maskObject||this._mask;u.renderable=!1,u.isMask=!0}},enumerable:!1,configurable:!0}),o})(rE),B$=(function(l){L$(o,l);function o(){var a=l!==null&&l.apply(this,arguments)||this;return a.sortDirty=null,a}return o})($a);$a.prototype.displayObjectUpdateTransform=$a.prototype.updateTransform;function Ntt(l,o){return l.zIndex===o.zIndex?l._lastSortedIndex-o._lastSortedIndex:l.zIndex-o.zIndex}var Rc=(function(l){L$(o,l);function o(){var a=l.call(this)||this;return a.children=[],a.sortableChildren=Gr.SORTABLE_CHILDREN,a.sortDirty=!1,a}return o.prototype.onChildrenChange=function(a){},o.prototype.addChild=function(){for(var a=arguments,u=[],f=0;f<arguments.length;f++)u[f]=a[f];if(u.length>1)for(var g=0;g<u.length;g++)this.addChild(u[g]);else{var v=u[0];v.parent&&v.parent.removeChild(v),v.parent=this,this.sortDirty=!0,v.transform._parentID=-1,this.children.push(v),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",v,this,this.children.length-1),v.emit("added",this)}return u[0]},o.prototype.addChildAt=function(a,u){if(u<0||u>this.children.length)throw new Error(a+"addChildAt: The index "+u+" supplied is out of bounds "+this.children.length);return a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.splice(u,0,a),this._boundsID++,this.onChildrenChange(u),a.emit("added",this),this.emit("childAdded",a,this,u),a},o.prototype.swapChildren=function(a,u){if(a!==u){var f=this.getChildIndex(a),g=this.getChildIndex(u);this.children[f]=u,this.children[g]=a,this.onChildrenChange(f<g?f:g)}},o.prototype.getChildIndex=function(a){var u=this.children.indexOf(a);if(u===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return u},o.prototype.setChildIndex=function(a,u){if(u<0||u>=this.children.length)throw new Error("The index "+u+" supplied is out of bounds "+this.children.length);var f=this.getChildIndex(a);Hv(this.children,f,1),this.children.splice(u,0,a),this.onChildrenChange(u)},o.prototype.getChildAt=function(a){if(a<0||a>=this.children.length)throw new Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]},o.prototype.removeChild=function(){for(var a=arguments,u=[],f=0;f<arguments.length;f++)u[f]=a[f];if(u.length>1)for(var g=0;g<u.length;g++)this.removeChild(u[g]);else{var v=u[0],S=this.children.indexOf(v);if(S===-1)return null;v.parent=null,v.transform._parentID=-1,Hv(this.children,S,1),this._boundsID++,this.onChildrenChange(S),v.emit("removed",this),this.emit("childRemoved",v,this,S)}return u[0]},o.prototype.removeChildAt=function(a){var u=this.getChildAt(a);return u.parent=null,u.transform._parentID=-1,Hv(this.children,a,1),this._boundsID++,this.onChildrenChange(a),u.emit("removed",this),this.emit("childRemoved",u,this,a),u},o.prototype.removeChildren=function(a,u){a===void 0&&(a=0),u===void 0&&(u=this.children.length);var f=a,g=u,v=g-f,S;if(v>0&&v<=g){S=this.children.splice(f,v);for(var w=0;w<S.length;++w)S[w].parent=null,S[w].transform&&(S[w].transform._parentID=-1);this._boundsID++,this.onChildrenChange(a);for(var w=0;w<S.length;++w)S[w].emit("removed",this),this.emit("childRemoved",S[w],this,w);return S}else if(v===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},o.prototype.sortChildren=function(){for(var a=!1,u=0,f=this.children.length;u<f;++u){var g=this.children[u];g._lastSortedIndex=u,!a&&g.zIndex!==0&&(a=!0)}a&&this.children.length>1&&this.children.sort(Ntt),this.sortDirty=!1},o.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,u=this.children.length;a<u;++a){var f=this.children[a];f.visible&&f.updateTransform()}},o.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var a=0;a<this.children.length;a++){var u=this.children[a];if(!(!u.visible||!u.renderable))if(u.calculateBounds(),u._mask){var f=u._mask.maskObject||u._mask;f.calculateBounds(),this._bounds.addBoundsMask(u._bounds,f._bounds)}else u.filterArea?this._bounds.addBoundsArea(u._bounds,u.filterArea):this._bounds.addBounds(u._bounds)}this._bounds.updateID=this._boundsID},o.prototype.getLocalBounds=function(a,u){u===void 0&&(u=!1);var f=l.prototype.getLocalBounds.call(this,a);if(!u)for(var g=0,v=this.children.length;g<v;++g){var S=this.children[g];S.visible&&S.updateTransform()}return f},o.prototype._calculateBounds=function(){},o.prototype.render=function(a){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(a);else{this._render(a);for(var u=0,f=this.children.length;u<f;++u)this.children[u].render(a)}},o.prototype.renderAdvanced=function(a){a.batch.flush();var u=this.filters,f=this._mask;if(u){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var g=0;g<u.length;g++)u[g].enabled&&this._enabledFilters.push(u[g]);this._enabledFilters.length&&a.filter.push(this,this._enabledFilters)}f&&a.mask.push(this,this._mask),this._render(a);for(var g=0,v=this.children.length;g<v;g++)this.children[g].render(a);a.batch.flush(),f&&a.mask.pop(this),u&&this._enabledFilters&&this._enabledFilters.length&&a.filter.pop()},o.prototype._render=function(a){},o.prototype.destroy=function(a){l.prototype.destroy.call(this),this.sortDirty=!1;var u=typeof a=="boolean"?a:a&&a.children,f=this.removeChildren(0,this.children.length);if(u)for(var g=0;g<f.length;++g)f[g].destroy(a)},Object.defineProperty(o.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var u=this.getLocalBounds().width;u!==0?this.scale.x=a/u:this.scale.x=1,this._width=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var u=this.getLocalBounds().height;u!==0?this.scale.y=a/u:this.scale.y=1,this._height=a},enumerable:!1,configurable:!0}),o})($a);Rc.prototype.containerUpdateTransform=Rc.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wce={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};$a.mixin(Wce);var Mtt=9,iP=100,Ltt=0,Btt=0,Zoe=2,Qoe=1,Ftt=-1e3,Utt=-1e3,Htt=2,Yce=(function(){function l(o){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ku.tablet||ku.phone)&&this.createTouchHook();var a=document.createElement("div");a.style.width=iP+"px",a.style.height=iP+"px",a.style.position="absolute",a.style.top=Ltt+"px",a.style.left=Btt+"px",a.style.zIndex=Zoe.toString(),this.div=a,this.renderer=o,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(l.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),l.prototype.createTouchHook=function(){var o=this,a=document.createElement("button");a.style.width=Qoe+"px",a.style.height=Qoe+"px",a.style.position="absolute",a.style.top=Ftt+"px",a.style.left=Utt+"px",a.style.zIndex=Htt.toString(),a.style.backgroundColor="#FF0000",a.title="select to enable accessibility for this content",a.addEventListener("focus",function(){o._isMobileAccessibility=!0,o.activate(),o.destroyTouchHook()}),document.body.appendChild(a),this._hookDiv=a},l.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},l.prototype.activate=function(){var o;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(o=this.renderer.view.parentNode)===null||o===void 0||o.appendChild(this.div))},l.prototype.deactivate=function(){var o;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(o=this.div.parentNode)===null||o===void 0||o.removeChild(this.div))},l.prototype.updateAccessibleObjects=function(o){if(!(!o.visible||!o.accessibleChildren)){o.accessible&&o.interactive&&(o._accessibleActive||this.addChild(o),o.renderId=this.renderId);for(var a=o.children,u=0;u<a.length;u++)this.updateAccessibleObjects(a[u])}},l.prototype.update=function(){var o=performance.now();if(!(ku.android.device&&o<this.androidUpdateCount)&&(this.androidUpdateCount=o+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),u=a.left,f=a.top,g=a.width,v=a.height,S=this.renderer,w=S.width,I=S.height,k=S.resolution,F=g/w*k,U=v/I*k,N=this.div;N.style.left=u+"px",N.style.top=f+"px",N.style.width=w+"px",N.style.height=I+"px";for(var H=0;H<this.children.length;H++){var q=this.children[H];if(q.renderId!==this.renderId)q._accessibleActive=!1,Hv(this.children,H,1),this.div.removeChild(q._accessibleDiv),this.pool.push(q._accessibleDiv),q._accessibleDiv=null,H--;else{N=q._accessibleDiv;var j=q.hitArea,se=q.worldTransform;q.hitArea?(N.style.left=(se.tx+j.x*se.a)*F+"px",N.style.top=(se.ty+j.y*se.d)*U+"px",N.style.width=j.width*se.a*F+"px",N.style.height=j.height*se.d*U+"px"):(j=q.getBounds(),this.capHitArea(j),N.style.left=j.x*F+"px",N.style.top=j.y*U+"px",N.style.width=j.width*F+"px",N.style.height=j.height*U+"px",N.title!==q.accessibleTitle&&q.accessibleTitle!==null&&(N.title=q.accessibleTitle),N.getAttribute("aria-label")!==q.accessibleHint&&q.accessibleHint!==null&&N.setAttribute("aria-label",q.accessibleHint)),(q.accessibleTitle!==N.title||q.tabIndex!==N.tabIndex)&&(N.title=q.accessibleTitle,N.tabIndex=q.tabIndex,this.debug&&this.updateDebugHTML(N))}}this.renderId++}},l.prototype.updateDebugHTML=function(o){o.innerHTML="type: "+o.type+"</br> title : "+o.title+"</br> tabIndex: "+o.tabIndex},l.prototype.capHitArea=function(o){o.x<0&&(o.width+=o.x,o.x=0),o.y<0&&(o.height+=o.y,o.y=0);var a=this.renderer,u=a.width,f=a.height;o.x+o.width>u&&(o.width=u-o.x),o.y+o.height>f&&(o.height=f-o.y)},l.prototype.addChild=function(o){var a=this.pool.pop();a||(a=document.createElement("button"),a.style.width=iP+"px",a.style.height=iP+"px",a.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",a.style.position="absolute",a.style.zIndex=Zoe.toString(),a.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?a.setAttribute("aria-live","off"):a.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?a.setAttribute("aria-relevant","additions"):a.setAttribute("aria-relevant","text"),a.addEventListener("click",this._onClick.bind(this)),a.addEventListener("focus",this._onFocus.bind(this)),a.addEventListener("focusout",this._onFocusOut.bind(this))),a.style.pointerEvents=o.accessiblePointerEvents,a.type=o.accessibleType,o.accessibleTitle&&o.accessibleTitle!==null?a.title=o.accessibleTitle:(!o.accessibleHint||o.accessibleHint===null)&&(a.title="displayObject "+o.tabIndex),o.accessibleHint&&o.accessibleHint!==null&&a.setAttribute("aria-label",o.accessibleHint),this.debug&&this.updateDebugHTML(a),o._accessibleActive=!0,o._accessibleDiv=a,a.displayObject=o,this.children.push(o),this.div.appendChild(o._accessibleDiv),o._accessibleDiv.tabIndex=o.tabIndex},l.prototype._onClick=function(o){var a=this.renderer.plugins.interaction,u=o.target.displayObject,f=a.eventData;a.dispatchEvent(u,"click",f),a.dispatchEvent(u,"pointertap",f),a.dispatchEvent(u,"tap",f)},l.prototype._onFocus=function(o){o.target.getAttribute("aria-live")||o.target.setAttribute("aria-live","assertive");var a=this.renderer.plugins.interaction,u=o.target.displayObject,f=a.eventData;a.dispatchEvent(u,"mouseover",f)},l.prototype._onFocusOut=function(o){o.target.getAttribute("aria-live")||o.target.setAttribute("aria-live","polite");var a=this.renderer.plugins.interaction,u=o.target.displayObject,f=a.eventData;a.dispatchEvent(u,"mouseout",f)},l.prototype._onKeyDown=function(o){o.keyCode===Mtt&&this.activate()},l.prototype._onMouseMove=function(o){o.movementX===0&&o.movementY===0||this.deactivate()},l.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},l})();/*!
 * @pixi/ticker - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Gr.TARGET_FPMS=.06;var Kh;(function(l){l[l.INTERACTION=50]="INTERACTION",l[l.HIGH=25]="HIGH",l[l.NORMAL=0]="NORMAL",l[l.LOW=-25]="LOW",l[l.UTILITY=-50]="UTILITY"})(Kh||(Kh={}));var N8=(function(){function l(o,a,u,f){a===void 0&&(a=null),u===void 0&&(u=0),f===void 0&&(f=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=o,this.context=a,this.priority=u,this.once=f}return l.prototype.match=function(o,a){return a===void 0&&(a=null),this.fn===o&&this.context===a},l.prototype.emit=function(o){this.fn&&(this.context?this.fn.call(this.context,o):this.fn(o));var a=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),a},l.prototype.connect=function(o){this.previous=o,o.next&&(o.next.previous=this),this.next=o.next,o.next=this},l.prototype.destroy=function(o){o===void 0&&(o=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var a=this.next;return this.next=o?null:a,this.previous=null,a},l})(),Ao=(function(){function l(){var o=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new N8(null,null,1/0),this.deltaMS=1/Gr.TARGET_FPMS,this.elapsedMS=1/Gr.TARGET_FPMS,this._tick=function(a){o._requestId=null,o.started&&(o.update(a),o.started&&o._requestId===null&&o._head.next&&(o._requestId=requestAnimationFrame(o._tick)))}}return l.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},l.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},l.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},l.prototype.add=function(o,a,u){return u===void 0&&(u=Kh.NORMAL),this._addListener(new N8(o,a,u))},l.prototype.addOnce=function(o,a,u){return u===void 0&&(u=Kh.NORMAL),this._addListener(new N8(o,a,u,!0))},l.prototype._addListener=function(o){var a=this._head.next,u=this._head;if(!a)o.connect(u);else{for(;a;){if(o.priority>a.priority){o.connect(u);break}u=a,a=a.next}o.previous||o.connect(u)}return this._startIfPossible(),this},l.prototype.remove=function(o,a){for(var u=this._head.next;u;)u.match(o,a)?u=u.destroy():u=u.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(l.prototype,"count",{get:function(){if(!this._head)return 0;for(var o=0,a=this._head;a=a.next;)o++;return o},enumerable:!1,configurable:!0}),l.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},l.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},l.prototype.destroy=function(){if(!this._protected){this.stop();for(var o=this._head.next;o;)o=o.destroy(!0);this._head.destroy(),this._head=null}},l.prototype.update=function(o){o===void 0&&(o=performance.now());var a;if(o>this.lastTime){if(a=this.elapsedMS=o-this.lastTime,a>this._maxElapsedMS&&(a=this._maxElapsedMS),a*=this.speed,this._minElapsedMS){var u=o-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=o-u%this._minElapsedMS}this.deltaMS=a,this.deltaTime=this.deltaMS*Gr.TARGET_FPMS;for(var f=this._head,g=f.next;g;)g=g.emit(this.deltaTime);f.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=o},Object.defineProperty(l.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(o){var a=Math.min(this.maxFPS,o),u=Math.min(Math.max(0,a)/1e3,Gr.TARGET_FPMS);this._maxElapsedMS=1/u},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(o){if(o===0)this._minElapsedMS=0;else{var a=Math.max(this.minFPS,o);this._minElapsedMS=1/(a/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(l,"shared",{get:function(){if(!l._shared){var o=l._shared=new l;o.autoStart=!0,o._protected=!0}return l._shared},enumerable:!1,configurable:!0}),Object.defineProperty(l,"system",{get:function(){if(!l._system){var o=l._system=new l;o.autoStart=!0,o._protected=!0}return l._system},enumerable:!1,configurable:!0}),l})(),Xce=(function(){function l(){}return l.init=function(o){var a=this;o=Object.assign({autoStart:!0,sharedTicker:!1},o),Object.defineProperty(this,"ticker",{set:function(u){this._ticker&&this._ticker.remove(this.render,this),this._ticker=u,u&&u.add(this.render,this,Kh.LOW)},get:function(){return this._ticker}}),this.stop=function(){a._ticker.stop()},this.start=function(){a._ticker.start()},this._ticker=null,this.ticker=o.sharedTicker?Ao.shared:new Ao,o.autoStart&&this.start()},l.destroy=function(){if(this._ticker){var o=this._ticker;this.ticker=null,o.destroy()}},l})();/*!
 * @pixi/interaction - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dH=(function(){function l(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ca,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(l.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),l.prototype.getLocalPosition=function(o,a,u){return o.worldTransform.applyInverse(u||this.global,a)},l.prototype.copyEvent=function(o){"isPrimary"in o&&o.isPrimary&&(this.isPrimary=!0),this.button="button"in o&&o.button;var a="buttons"in o&&o.buttons;this.buttons=Number.isInteger(a)?a:"which"in o&&o.which,this.width="width"in o&&o.width,this.height="height"in o&&o.height,this.tiltX="tiltX"in o&&o.tiltX,this.tiltY="tiltY"in o&&o.tiltY,this.pointerType="pointerType"in o&&o.pointerType,this.pressure="pressure"in o&&o.pressure,this.rotationAngle="rotationAngle"in o&&o.rotationAngle,this.twist="twist"in o&&o.twist||0,this.tangentialPressure="tangentialPressure"in o&&o.tangentialPressure||0},l.prototype.reset=function(){this.isPrimary=!1},l})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pH=function(l,o){return pH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},pH(l,o)};function $tt(l,o){pH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var qce=(function(){function l(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return l.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},l.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},l})(),NP=(function(){function l(o){this._pointerId=o,this._flags=l.FLAGS.NONE}return l.prototype._doSet=function(o,a){a?this._flags=this._flags|o:this._flags=this._flags&~o},Object.defineProperty(l.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"flags",{get:function(){return this._flags},set:function(o){this._flags=o},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"none",{get:function(){return this._flags===l.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"over",{get:function(){return(this._flags&l.FLAGS.OVER)!==0},set:function(o){this._doSet(l.FLAGS.OVER,o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rightDown",{get:function(){return(this._flags&l.FLAGS.RIGHT_DOWN)!==0},set:function(o){this._doSet(l.FLAGS.RIGHT_DOWN,o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"leftDown",{get:function(){return(this._flags&l.FLAGS.LEFT_DOWN)!==0},set:function(o){this._doSet(l.FLAGS.LEFT_DOWN,o)},enumerable:!1,configurable:!0}),l.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),l})(),Gtt=(function(){function l(){this._tempPoint=new Ca}return l.prototype.recursiveFindHit=function(o,a,u,f,g){if(!a||!a.visible)return!1;var v=o.data.global;g=a.interactive||g;var S=!1,w=g,I=!0;if(a.hitArea?(f&&(a.worldTransform.applyInverse(v,this._tempPoint),a.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?S=!0:(f=!1,I=!1)),w=!1):a._mask&&f&&(a._mask.containsPoint&&a._mask.containsPoint(v)||(f=!1)),I&&a.interactiveChildren&&a.children)for(var k=a.children,F=k.length-1;F>=0;F--){var U=k[F],N=this.recursiveFindHit(o,U,u,f,w);if(N){if(!U.parent)continue;w=!1,N&&(o.target&&(f=!1),S=!0)}}return g&&(f&&!o.target&&!a.hitArea&&a.containsPoint&&a.containsPoint(v)&&(S=!0),a.interactive&&(S&&!o.target&&(o.target=a),u&&u(o,a,!!S))),S},l.prototype.findHit=function(o,a,u,f){this.recursiveFindHit(o,a,u,f,!1)},l})(),Kce={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(l){l?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};$a.mixin(Kce);var aP=1,oP={target:null,data:{global:null}},Zce=(function(l){$tt(o,l);function o(a,u){var f=l.call(this)||this;return u=u||{},f.renderer=a,f.autoPreventDefault=u.autoPreventDefault!==void 0?u.autoPreventDefault:!0,f.interactionFrequency=u.interactionFrequency||10,f.mouse=new dH,f.mouse.identifier=aP,f.mouse.global.set(-999999),f.activeInteractionData={},f.activeInteractionData[aP]=f.mouse,f.interactionDataPool=[],f.eventData=new qce,f.interactionDOMElement=null,f.moveWhenInside=!1,f.eventsAdded=!1,f.tickerAdded=!1,f.mouseOverRenderer=!("PointerEvent"in self),f.supportsTouchEvents="ontouchstart"in self,f.supportsPointerEvents=!!self.PointerEvent,f.onPointerUp=f.onPointerUp.bind(f),f.processPointerUp=f.processPointerUp.bind(f),f.onPointerCancel=f.onPointerCancel.bind(f),f.processPointerCancel=f.processPointerCancel.bind(f),f.onPointerDown=f.onPointerDown.bind(f),f.processPointerDown=f.processPointerDown.bind(f),f.onPointerMove=f.onPointerMove.bind(f),f.processPointerMove=f.processPointerMove.bind(f),f.onPointerOut=f.onPointerOut.bind(f),f.processPointerOverOut=f.processPointerOverOut.bind(f),f.onPointerOver=f.onPointerOver.bind(f),f.cursorStyles={default:"inherit",pointer:"pointer"},f.currentCursorMode=null,f.cursor=null,f.resolution=1,f.delayedEvents=[],f.search=new Gtt,f._tempDisplayObject=new B$,f._useSystemTicker=u.useSystemTicker!==void 0?u.useSystemTicker:!0,f.setTargetElement(f.renderer.view,f.renderer.resolution),f}return Object.defineProperty(o.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(a){this._useSystemTicker=a,a?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),o.prototype.hitTest=function(a,u){return oP.target=null,oP.data.global=a,u||(u=this.lastObjectRendered),this.processInteractive(oP,u,null,!0),oP.target},o.prototype.setTargetElement=function(a,u){u===void 0&&(u=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=a,this.resolution=u,this.addEvents(),this.addTickerListener()},o.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ao.system.add(this.tickerUpdate,this,Kh.INTERACTION),this.tickerAdded=!0)},o.prototype.removeTickerListener=function(){this.tickerAdded&&(Ao.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},o.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var a=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(a.msContentZooming="none",a.msTouchAction="none"):this.supportsPointerEvents&&(a.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),self.addEventListener("pointercancel",this.onPointerCancel,!0),self.addEventListener("pointerup",this.onPointerUp,!0)):(self.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),self.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},o.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var a=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(a.msContentZooming="",a.msTouchAction=""):this.supportsPointerEvents&&(a.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),self.removeEventListener("pointercancel",this.onPointerCancel,!0),self.removeEventListener("pointerup",this.onPointerUp,!0)):(self.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),self.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},o.prototype.tickerUpdate=function(a){this._deltaTime+=a,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},o.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var a in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(a)){var u=this.activeInteractionData[a];if(u.originalEvent&&u.pointerType!=="touch"){var f=this.configureInteractionEventForDOMEvent(this.eventData,u.originalEvent,u);this.processInteractive(f,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},o.prototype.setCursorMode=function(a){a=a||"default";var u=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(u=!1),this.currentCursorMode!==a){this.currentCursorMode=a;var f=this.cursorStyles[a];if(f)switch(typeof f){case"string":u&&(this.interactionDOMElement.style.cursor=f);break;case"function":f(a);break;case"object":u&&Object.assign(this.interactionDOMElement.style,f);break}else u&&typeof a=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,a)&&(this.interactionDOMElement.style.cursor=a)}},o.prototype.dispatchEvent=function(a,u,f){(!f.stopPropagationHint||a===f.stopsPropagatingAt)&&(f.currentTarget=a,f.type=u,a.emit(u,f),a[u]&&a[u](f))},o.prototype.delayDispatchEvent=function(a,u,f){this.delayedEvents.push({displayObject:a,eventString:u,eventData:f})},o.prototype.mapPositionToPoint=function(a,u,f){var g;this.interactionDOMElement.parentElement?g=this.interactionDOMElement.getBoundingClientRect():g={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var v=1/this.resolution;a.x=(u-g.left)*(this.interactionDOMElement.width/g.width)*v,a.y=(f-g.top)*(this.interactionDOMElement.height/g.height)*v},o.prototype.processInteractive=function(a,u,f,g){var v=this.search.findHit(a,u,f,g),S=this.delayedEvents;if(!S.length)return v;a.stopPropagationHint=!1;var w=S.length;this.delayedEvents=[];for(var I=0;I<w;I++){var k=S[I],F=k.displayObject,U=k.eventString,N=k.eventData;N.stopsPropagatingAt===F&&(N.stopPropagationHint=!0),this.dispatchEvent(F,U,N)}return v},o.prototype.onPointerDown=function(a){if(!(this.supportsTouchEvents&&a.pointerType==="touch")){var u=this.normalizeToPointerData(a);if(this.autoPreventDefault&&u[0].isNormalized){var f=a.cancelable||!("cancelable"in a);f&&a.preventDefault()}for(var g=u.length,v=0;v<g;v++){var S=u[v],w=this.getInteractionDataForPointerId(S),I=this.configureInteractionEventForDOMEvent(this.eventData,S,w);if(I.data.originalEvent=a,this.processInteractive(I,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",I),S.pointerType==="touch")this.emit("touchstart",I);else if(S.pointerType==="mouse"||S.pointerType==="pen"){var k=S.button===2;this.emit(k?"rightdown":"mousedown",this.eventData)}}}},o.prototype.processPointerDown=function(a,u,f){var g=a.data,v=a.data.identifier;if(f){if(u.trackedPointers[v]||(u.trackedPointers[v]=new NP(v)),this.dispatchEvent(u,"pointerdown",a),g.pointerType==="touch")this.dispatchEvent(u,"touchstart",a);else if(g.pointerType==="mouse"||g.pointerType==="pen"){var S=g.button===2;S?u.trackedPointers[v].rightDown=!0:u.trackedPointers[v].leftDown=!0,this.dispatchEvent(u,S?"rightdown":"mousedown",a)}}},o.prototype.onPointerComplete=function(a,u,f){for(var g=this.normalizeToPointerData(a),v=g.length,S=a.target!==this.interactionDOMElement?"outside":"",w=0;w<v;w++){var I=g[w],k=this.getInteractionDataForPointerId(I),F=this.configureInteractionEventForDOMEvent(this.eventData,I,k);if(F.data.originalEvent=a,this.processInteractive(F,this.lastObjectRendered,f,u||!S),this.emit(u?"pointercancel":"pointerup"+S,F),I.pointerType==="mouse"||I.pointerType==="pen"){var U=I.button===2;this.emit(U?"rightup"+S:"mouseup"+S,F)}else I.pointerType==="touch"&&(this.emit(u?"touchcancel":"touchend"+S,F),this.releaseInteractionDataForPointerId(I.pointerId))}},o.prototype.onPointerCancel=function(a){this.supportsTouchEvents&&a.pointerType==="touch"||this.onPointerComplete(a,!0,this.processPointerCancel)},o.prototype.processPointerCancel=function(a,u){var f=a.data,g=a.data.identifier;u.trackedPointers[g]!==void 0&&(delete u.trackedPointers[g],this.dispatchEvent(u,"pointercancel",a),f.pointerType==="touch"&&this.dispatchEvent(u,"touchcancel",a))},o.prototype.onPointerUp=function(a){this.supportsTouchEvents&&a.pointerType==="touch"||this.onPointerComplete(a,!1,this.processPointerUp)},o.prototype.processPointerUp=function(a,u,f){var g=a.data,v=a.data.identifier,S=u.trackedPointers[v],w=g.pointerType==="touch",I=g.pointerType==="mouse"||g.pointerType==="pen",k=!1;if(I){var F=g.button===2,U=NP.FLAGS,N=F?U.RIGHT_DOWN:U.LEFT_DOWN,H=S!==void 0&&S.flags&N;f?(this.dispatchEvent(u,F?"rightup":"mouseup",a),H&&(this.dispatchEvent(u,F?"rightclick":"click",a),k=!0)):H&&this.dispatchEvent(u,F?"rightupoutside":"mouseupoutside",a),S&&(F?S.rightDown=!1:S.leftDown=!1)}f?(this.dispatchEvent(u,"pointerup",a),w&&this.dispatchEvent(u,"touchend",a),S&&((!I||k)&&this.dispatchEvent(u,"pointertap",a),w&&(this.dispatchEvent(u,"tap",a),S.over=!1))):S&&(this.dispatchEvent(u,"pointerupoutside",a),w&&this.dispatchEvent(u,"touchendoutside",a)),S&&S.none&&delete u.trackedPointers[v]},o.prototype.onPointerMove=function(a){if(!(this.supportsTouchEvents&&a.pointerType==="touch")){var u=this.normalizeToPointerData(a);(u[0].pointerType==="mouse"||u[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var f=u.length,g=0;g<f;g++){var v=u[g],S=this.getInteractionDataForPointerId(v),w=this.configureInteractionEventForDOMEvent(this.eventData,v,S);w.data.originalEvent=a,this.processInteractive(w,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",w),v.pointerType==="touch"&&this.emit("touchmove",w),(v.pointerType==="mouse"||v.pointerType==="pen")&&this.emit("mousemove",w)}u[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},o.prototype.processPointerMove=function(a,u,f){var g=a.data,v=g.pointerType==="touch",S=g.pointerType==="mouse"||g.pointerType==="pen";S&&this.processPointerOverOut(a,u,f),(!this.moveWhenInside||f)&&(this.dispatchEvent(u,"pointermove",a),v&&this.dispatchEvent(u,"touchmove",a),S&&this.dispatchEvent(u,"mousemove",a))},o.prototype.onPointerOut=function(a){if(!(this.supportsTouchEvents&&a.pointerType==="touch")){var u=this.normalizeToPointerData(a),f=u[0];f.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var g=this.getInteractionDataForPointerId(f),v=this.configureInteractionEventForDOMEvent(this.eventData,f,g);v.data.originalEvent=f,this.processInteractive(v,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",v),f.pointerType==="mouse"||f.pointerType==="pen"?this.emit("mouseout",v):this.releaseInteractionDataForPointerId(g.identifier)}},o.prototype.processPointerOverOut=function(a,u,f){var g=a.data,v=a.data.identifier,S=g.pointerType==="mouse"||g.pointerType==="pen",w=u.trackedPointers[v];f&&!w&&(w=u.trackedPointers[v]=new NP(v)),w!==void 0&&(f&&this.mouseOverRenderer?(w.over||(w.over=!0,this.delayDispatchEvent(u,"pointerover",a),S&&this.delayDispatchEvent(u,"mouseover",a)),S&&this.cursor===null&&(this.cursor=u.cursor)):w.over&&(w.over=!1,this.dispatchEvent(u,"pointerout",this.eventData),S&&this.dispatchEvent(u,"mouseout",a),w.none&&delete u.trackedPointers[v]))},o.prototype.onPointerOver=function(a){var u=this.normalizeToPointerData(a),f=u[0],g=this.getInteractionDataForPointerId(f),v=this.configureInteractionEventForDOMEvent(this.eventData,f,g);v.data.originalEvent=f,f.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",v),(f.pointerType==="mouse"||f.pointerType==="pen")&&this.emit("mouseover",v)},o.prototype.getInteractionDataForPointerId=function(a){var u=a.pointerId,f;return u===aP||a.pointerType==="mouse"?f=this.mouse:this.activeInteractionData[u]?f=this.activeInteractionData[u]:(f=this.interactionDataPool.pop()||new dH,f.identifier=u,this.activeInteractionData[u]=f),f.copyEvent(a),f},o.prototype.releaseInteractionDataForPointerId=function(a){var u=this.activeInteractionData[a];u&&(delete this.activeInteractionData[a],u.reset(),this.interactionDataPool.push(u))},o.prototype.configureInteractionEventForDOMEvent=function(a,u,f){return a.data=f,this.mapPositionToPoint(f.global,u.clientX,u.clientY),u.pointerType==="touch"&&(u.globalX=f.global.x,u.globalY=f.global.y),f.originalEvent=u,a.reset(),a},o.prototype.normalizeToPointerData=function(a){var u=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var f=0,g=a.changedTouches.length;f<g;f++){var v=a.changedTouches[f];typeof v.button>"u"&&(v.button=a.touches.length?1:0),typeof v.buttons>"u"&&(v.buttons=a.touches.length?1:0),typeof v.isPrimary>"u"&&(v.isPrimary=a.touches.length===1&&a.type==="touchstart"),typeof v.width>"u"&&(v.width=v.radiusX||1),typeof v.height>"u"&&(v.height=v.radiusY||1),typeof v.tiltX>"u"&&(v.tiltX=0),typeof v.tiltY>"u"&&(v.tiltY=0),typeof v.pointerType>"u"&&(v.pointerType="touch"),typeof v.pointerId>"u"&&(v.pointerId=v.identifier||0),typeof v.pressure>"u"&&(v.pressure=v.force||.5),typeof v.twist>"u"&&(v.twist=0),typeof v.tangentialPressure>"u"&&(v.tangentialPressure=0),typeof v.layerX>"u"&&(v.layerX=v.offsetX=v.clientX),typeof v.layerY>"u"&&(v.layerY=v.offsetY=v.clientY),v.isNormalized=!0,u.push(v)}else if(!self.MouseEvent||a instanceof MouseEvent&&(!this.supportsPointerEvents||!(a instanceof self.PointerEvent))){var S=a;typeof S.isPrimary>"u"&&(S.isPrimary=!0),typeof S.width>"u"&&(S.width=1),typeof S.height>"u"&&(S.height=1),typeof S.tiltX>"u"&&(S.tiltX=0),typeof S.tiltY>"u"&&(S.tiltY=0),typeof S.pointerType>"u"&&(S.pointerType="mouse"),typeof S.pointerId>"u"&&(S.pointerId=aP),typeof S.pressure>"u"&&(S.pressure=.5),typeof S.twist>"u"&&(S.twist=0),typeof S.tangentialPressure>"u"&&(S.tangentialPressure=0),S.isNormalized=!0,u.push(S)}else u.push(a);return u},o.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},o})(rE);/*!
 * @pixi/runner - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yo=(function(){function l(o){this.items=[],this._name=o,this._aliasCount=0}return l.prototype.emit=function(o,a,u,f,g,v,S,w){if(arguments.length>8)throw new Error("max arguments reached");var I=this,k=I.name,F=I.items;this._aliasCount++;for(var U=0,N=F.length;U<N;U++)F[U][k](o,a,u,f,g,v,S,w);return F===this.items&&this._aliasCount--,this},l.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},l.prototype.add=function(o){return o[this._name]&&(this.ensureNonAliasedItems(),this.remove(o),this.items.push(o)),this},l.prototype.remove=function(o){var a=this.items.indexOf(o);return a!==-1&&(this.ensureNonAliasedItems(),this.items.splice(a,1)),this},l.prototype.contains=function(o){return this.items.indexOf(o)!==-1},l.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},l.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(l.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),l})();Object.defineProperties(Yo.prototype,{dispatch:{value:Yo.prototype.emit},run:{value:Yo.prototype.emit}});/*!
 * @pixi/core - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Gr.PREFER_ENV=ku.any?Xh.WEBGL:Xh.WEBGL2;Gr.STRICT_TEXTURE_CACHE=!1;var CA=[];function yR(l,o){if(!l)return null;var a="";if(typeof l=="string"){var u=/\.(\w{3,4})(?:$|\?|#)/i.exec(l);u&&(a=u[1].toLowerCase())}for(var f=CA.length-1;f>=0;--f){var g=CA[f];if(g.test&&g.test(l,a))return new g(l,o)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mH=function(l,o){return mH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},mH(l,o)};function Sn(l,o){mH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var qv=(function(){function l(o,a){o===void 0&&(o=0),a===void 0&&(a=0),this._width=o,this._height=a,this.destroyed=!1,this.internal=!1,this.onResize=new Yo("setRealSize"),this.onUpdate=new Yo("update"),this.onError=new Yo("onError")}return l.prototype.bind=function(o){this.onResize.add(o),this.onUpdate.add(o),this.onError.add(o),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},l.prototype.unbind=function(o){this.onResize.remove(o),this.onUpdate.remove(o),this.onError.remove(o)},l.prototype.resize=function(o,a){(o!==this._width||a!==this._height)&&(this._width=o,this._height=a,this.onResize.emit(o,a))},Object.defineProperty(l.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),l.prototype.update=function(){this.destroyed||this.onUpdate.emit()},l.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),l.prototype.style=function(o,a,u){return!1},l.prototype.dispose=function(){},l.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},l.test=function(o,a){return!1},l})(),iE=(function(l){Sn(o,l);function o(a,u){var f=this,g=u||{},v=g.width,S=g.height;if(!v||!S)throw new Error("BufferResource width or height invalid");return f=l.call(this,v,S)||this,f.data=a,f}return o.prototype.upload=function(a,u,f){var g=a.gl;g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.alphaMode===qh.UNPACK);var v=u.realWidth,S=u.realHeight;return f.width===v&&f.height===S?g.texSubImage2D(u.target,0,0,0,v,S,u.format,u.type,this.data):(f.width=v,f.height=S,g.texImage2D(u.target,0,f.internalFormat,v,S,0,u.format,f.type,this.data)),!0},o.prototype.dispose=function(){this.data=null},o.test=function(a){return a instanceof Float32Array||a instanceof Uint8Array||a instanceof Uint32Array},o})(qv),ztt={scaleMode:jh.NEAREST,format:Dc.RGBA,alphaMode:qh.NPM},Ii=(function(l){Sn(o,l);function o(a,u){a===void 0&&(a=null),u===void 0&&(u=null);var f=l.call(this)||this;u=u||{};var g=u.alphaMode,v=u.mipmap,S=u.anisotropicLevel,w=u.scaleMode,I=u.width,k=u.height,F=u.wrapMode,U=u.format,N=u.type,H=u.target,q=u.resolution,j=u.resourceOptions;return a&&!(a instanceof qv)&&(a=yR(a,j),a.internal=!0),f.width=I||0,f.height=k||0,f.resolution=q||Gr.RESOLUTION,f.mipmap=v!==void 0?v:Gr.MIPMAP_TEXTURES,f.anisotropicLevel=S!==void 0?S:Gr.ANISOTROPIC_LEVEL,f.wrapMode=F||Gr.WRAP_MODE,f.scaleMode=w!==void 0?w:Gr.SCALE_MODE,f.format=U||Dc.RGBA,f.type=N||Di.UNSIGNED_BYTE,f.target=H||Zp.TEXTURE_2D,f.alphaMode=g!==void 0?g:qh.UNPACK,f.uid=Yv(),f.touched=0,f.isPowerOfTwo=!1,f._refreshPOT(),f._glTextures={},f.dirtyId=0,f.dirtyStyleId=0,f.cacheId=null,f.valid=I>0&&k>0,f.textureCacheIds=[],f.destroyed=!1,f.resource=null,f._batchEnabled=0,f._batchLocation=0,f.parentTextureArray=null,f.setResource(a),f}return Object.defineProperty(o.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),o.prototype.setStyle=function(a,u){var f;return a!==void 0&&a!==this.scaleMode&&(this.scaleMode=a,f=!0),u!==void 0&&u!==this.mipmap&&(this.mipmap=u,f=!0),f&&this.dirtyStyleId++,this},o.prototype.setSize=function(a,u,f){return this.resolution=f||this.resolution,this.width=a,this.height=u,this._refreshPOT(),this.update(),this},o.prototype.setRealSize=function(a,u,f){return this.resolution=f||this.resolution,this.width=a/this.resolution,this.height=u/this.resolution,this._refreshPOT(),this.update(),this},o.prototype._refreshPOT=function(){this.isPowerOfTwo=sH(this.realWidth)&&sH(this.realHeight)},o.prototype.setResolution=function(a){var u=this.resolution;return u===a?this:(this.resolution=a,this.valid&&(this.width=this.width*u/a,this.height=this.height*u/a,this.emit("update",this)),this._refreshPOT(),this)},o.prototype.setResource=function(a){if(this.resource===a)return this;if(this.resource)throw new Error("Resource can be set only once");return a.bind(this),this.resource=a,this},o.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},o.prototype.onError=function(a){this.emit("error",this,a)},o.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ou[this.cacheId],delete dl[this.cacheId],this.cacheId=null),this.dispose(),o.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},o.prototype.dispose=function(){this.emit("dispose",this)},o.prototype.castToBaseTexture=function(){return this},o.from=function(a,u,f){f===void 0&&(f=Gr.STRICT_TEXTURE_CACHE);var g=typeof a=="string",v=null;if(g)v=a;else{if(!a._pixiId){var S=u&&u.pixiIdPrefix||"pixiid";a._pixiId=S+"_"+Yv()}v=a._pixiId}var w=Ou[v];if(g&&f&&!w)throw new Error('The cacheId "'+v+'" does not exist in BaseTextureCache.');return w||(w=new o(a,u),w.cacheId=v,o.addToCache(w,v)),w},o.fromBuffer=function(a,u,f,g){a=a||new Float32Array(u*f*4);var v=new iE(a,{width:u,height:f}),S=a instanceof Float32Array?Di.FLOAT:Di.UNSIGNED_BYTE;return new o(v,Object.assign(ztt,g||{width:u,height:f,type:S}))},o.addToCache=function(a,u){u&&(a.textureCacheIds.indexOf(u)===-1&&a.textureCacheIds.push(u),Ou[u]&&console.warn("BaseTexture added to the cache with an id ["+u+"] that already had an entry"),Ou[u]=a)},o.removeFromCache=function(a){if(typeof a=="string"){var u=Ou[a];if(u){var f=u.textureCacheIds.indexOf(a);return f>-1&&u.textureCacheIds.splice(f,1),delete Ou[a],u}}else if(a&&a.textureCacheIds){for(var g=0;g<a.textureCacheIds.length;++g)delete Ou[a.textureCacheIds[g]];return a.textureCacheIds.length=0,a}return null},o._globalBatch=0,o})(rE),_R=(function(l){Sn(o,l);function o(a,u){var f=this,g=u||{},v=g.width,S=g.height;f=l.call(this,v,S)||this,f.items=[],f.itemDirtyIds=[];for(var w=0;w<a;w++){var I=new Ii;f.items.push(I),f.itemDirtyIds.push(-2)}return f.length=a,f._load=null,f.baseTexture=null,f}return o.prototype.initFromArray=function(a,u){for(var f=0;f<this.length;f++)a[f]&&(a[f].castToBaseTexture?this.addBaseTextureAt(a[f].castToBaseTexture(),f):a[f]instanceof qv?this.addResourceAt(a[f],f):this.addResourceAt(yR(a[f],u),f))},o.prototype.dispose=function(){for(var a=0,u=this.length;a<u;a++)this.items[a].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},o.prototype.addResourceAt=function(a,u){if(!this.items[u])throw new Error("Index "+u+" is out of bounds");return a.valid&&!this.valid&&this.resize(a.width,a.height),this.items[u].setResource(a),this},o.prototype.bind=function(a){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");l.prototype.bind.call(this,a);for(var u=0;u<this.length;u++)this.items[u].parentTextureArray=a,this.items[u].on("update",a.update,a)},o.prototype.unbind=function(a){l.prototype.unbind.call(this,a);for(var u=0;u<this.length;u++)this.items[u].parentTextureArray=null,this.items[u].off("update",a.update,a)},o.prototype.load=function(){var a=this;if(this._load)return this._load;var u=this.items.map(function(g){return g.resource}).filter(function(g){return g}),f=u.map(function(g){return g.load()});return this._load=Promise.all(f).then(function(){var g=a.items[0],v=g.realWidth,S=g.realHeight;return a.resize(v,S),Promise.resolve(a)}),this._load},o})(qv),F$=(function(l){Sn(o,l);function o(a,u){var f=this,g=u||{},v=g.width,S=g.height,w,I;return Array.isArray(a)?(w=a,I=a.length):I=a,f=l.call(this,I,{width:v,height:S})||this,w&&f.initFromArray(w,u),f}return o.prototype.addBaseTextureAt=function(a,u){if(a.resource)this.addResourceAt(a.resource,u);else throw new Error("ArrayResource does not support RenderTexture");return this},o.prototype.bind=function(a){l.prototype.bind.call(this,a),a.target=Zp.TEXTURE_2D_ARRAY},o.prototype.upload=function(a,u,f){var g=this,v=g.length,S=g.itemDirtyIds,w=g.items,I=a.gl;f.dirtyId<0&&I.texImage3D(I.TEXTURE_2D_ARRAY,0,u.format,this._width,this._height,v,0,u.format,u.type,null);for(var k=0;k<v;k++){var F=w[k];S[k]<F.dirtyId&&(S[k]=F.dirtyId,F.valid&&I.texSubImage3D(I.TEXTURE_2D_ARRAY,0,0,0,k,F.resource.width,F.resource.height,1,u.format,u.type,F.resource.source))}return!0},o})(_R),Zh=(function(l){Sn(o,l);function o(a){var u=this,f=a,g=f.naturalWidth||f.videoWidth||f.width,v=f.naturalHeight||f.videoHeight||f.height;return u=l.call(this,g,v)||this,u.source=a,u.noSubImage=!1,u}return o.crossOrigin=function(a,u,f){f===void 0&&u.indexOf("data:")!==0?a.crossOrigin=Uce(u):f!==!1&&(a.crossOrigin=typeof f=="string"?f:"anonymous")},o.prototype.upload=function(a,u,f,g){var v=a.gl,S=u.realWidth,w=u.realHeight;return g=g||this.source,v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.alphaMode===qh.UNPACK),!this.noSubImage&&u.target===v.TEXTURE_2D&&f.width===S&&f.height===w?v.texSubImage2D(v.TEXTURE_2D,0,0,0,u.format,u.type,g):(f.width=S,f.height=w,v.texImage2D(u.target,0,u.format,u.format,u.type,g)),!0},o.prototype.update=function(){if(!this.destroyed){var a=this.source,u=a.naturalWidth||a.videoWidth||a.width,f=a.naturalHeight||a.videoHeight||a.height;this.resize(u,f),l.prototype.update.call(this)}},o.prototype.dispose=function(){this.source=null},o})(qv),ER=(function(l){Sn(o,l);function o(a){return l.call(this,a)||this}return o.test=function(a){var u=self.OffscreenCanvas;return u&&a instanceof u?!0:self.HTMLCanvasElement&&a instanceof HTMLCanvasElement},o})(Zh),U$=(function(l){Sn(o,l);function o(a,u){var f=this,g=u||{},v=g.width,S=g.height,w=g.autoLoad,I=g.linkBaseTexture;if(a&&a.length!==o.SIDES)throw new Error("Invalid length. Got "+a.length+", expected 6");f=l.call(this,6,{width:v,height:S})||this;for(var k=0;k<o.SIDES;k++)f.items[k].target=Zp.TEXTURE_CUBE_MAP_POSITIVE_X+k;return f.linkBaseTexture=I!==!1,a&&f.initFromArray(a,u),w!==!1&&f.load(),f}return o.prototype.bind=function(a){l.prototype.bind.call(this,a),a.target=Zp.TEXTURE_CUBE_MAP},o.prototype.addBaseTextureAt=function(a,u,f){if(f===void 0&&(f=this.linkBaseTexture),!this.items[u])throw new Error("Index "+u+" is out of bounds");if(!this.linkBaseTexture||a.parentTextureArray||Object.keys(a._glTextures).length>0)if(a.resource)this.addResourceAt(a.resource,u);else throw new Error("CubeResource does not support copying of renderTexture.");else a.target=Zp.TEXTURE_CUBE_MAP_POSITIVE_X+u,a.parentTextureArray=this.baseTexture,this.items[u]=a;return a.valid&&!this.valid&&this.resize(a.realWidth,a.realHeight),this.items[u]=a,this},o.prototype.upload=function(a,u,f){for(var g=this.itemDirtyIds,v=0;v<o.SIDES;v++){var S=this.items[v];g[v]<S.dirtyId&&(S.valid&&S.resource?(S.resource.upload(a,S,f),g[v]=S.dirtyId):g[v]<-1&&(a.gl.texImage2D(S.target,0,f.internalFormat,u.realWidth,u.realHeight,0,u.format,f.type,null),g[v]=-1))}return!0},o.test=function(a){return Array.isArray(a)&&a.length===o.SIDES},o.SIDES=6,o})(_R),TR=(function(l){Sn(o,l);function o(a,u){var f=this;if(u=u||{},!(a instanceof HTMLImageElement)){var g=new Image;Zh.crossOrigin(g,a,u.crossorigin),g.src=a,a=g}return f=l.call(this,a)||this,!a.complete&&f._width&&f._height&&(f._width=0,f._height=0),f.url=a.src,f._process=null,f.preserveBitmap=!1,f.createBitmap=(u.createBitmap!==void 0?u.createBitmap:Gr.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,f.alphaMode=typeof u.alphaMode=="number"?u.alphaMode:null,f.bitmap=null,f._load=null,u.autoLoad!==!1&&f.load(),f}return o.prototype.load=function(a){var u=this;return this._load?this._load:(a!==void 0&&(this.createBitmap=a),this._load=new Promise(function(f,g){var v=u.source;u.url=v.src;var S=function(){u.destroyed||(v.onload=null,v.onerror=null,u.resize(v.width,v.height),u._load=null,u.createBitmap?f(u.process()):f(u))};v.complete&&v.src?S():(v.onload=S,v.onerror=function(w){g(w),u.onError.emit(w)})}),this._load)},o.prototype.process=function(){var a=this,u=this.source;return this._process!==null?this._process:this.bitmap!==null||!self.createImageBitmap?Promise.resolve(this):(this._process=self.createImageBitmap(u,0,0,u.width,u.height,{premultiplyAlpha:this.alphaMode===qh.UNPACK?"premultiply":"none"}).then(function(f){return a.destroyed?Promise.reject():(a.bitmap=f,a.update(),a._process=null,Promise.resolve(a))}),this._process)},o.prototype.upload=function(a,u,f){if(typeof this.alphaMode=="number"&&(u.alphaMode=this.alphaMode),!this.createBitmap)return l.prototype.upload.call(this,a,u,f);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(l.prototype.upload.call(this,a,u,f,this.bitmap),!this.preserveBitmap){var g=!0,v=u._glTextures;for(var S in v){var w=v[S];if(w!==f&&w.dirtyId!==u.dirtyId){g=!1;break}}g&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},o.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,l.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},o.test=function(a){return typeof a=="string"||a instanceof HTMLImageElement},o})(Zh),H$=(function(l){Sn(o,l);function o(a,u){var f=this;return u=u||{},f=l.call(this,document.createElement("canvas"))||this,f._width=0,f._height=0,f.svg=a,f.scale=u.scale||1,f._overrideWidth=u.width,f._overrideHeight=u.height,f._resolve=null,f._crossorigin=u.crossorigin,f._load=null,u.autoLoad!==!1&&f.load(),f}return o.prototype.load=function(){var a=this;return this._load?this._load:(this._load=new Promise(function(u){if(a._resolve=function(){a.resize(a.source.width,a.source.height),u(a)},/^\<svg/.test(a.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");a.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(a.svg)))}a._loadSvg()}),this._load)},o.prototype._loadSvg=function(){var a=this,u=new Image;Zh.crossOrigin(u,this.svg,this._crossorigin),u.src=this.svg,u.onerror=function(f){a._resolve&&(u.onerror=null,a.onError.emit(f))},u.onload=function(){if(a._resolve){var f=u.width,g=u.height;if(!f||!g)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var v=f*a.scale,S=g*a.scale;(a._overrideWidth||a._overrideHeight)&&(v=a._overrideWidth||a._overrideHeight/g*f,S=a._overrideHeight||a._overrideWidth/f*g),v=Math.round(v),S=Math.round(S);var w=a.source;w.width=v,w.height=S,w._pixiId="canvas_"+Yv(),w.getContext("2d").drawImage(u,0,0,f,g,0,0,v,S),a._resolve(),a._resolve=null}}},o.getSize=function(a){var u=o.SVG_SIZE.exec(a),f={};return u&&(f[u[1]]=Math.round(parseFloat(u[3])),f[u[5]]=Math.round(parseFloat(u[7]))),f},o.prototype.dispose=function(){l.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},o.test=function(a,u){return u==="svg"||typeof a=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(a)||typeof a=="string"&&a.indexOf("<svg")===0},o.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,o})(Zh),G$=(function(l){Sn(o,l);function o(a,u){var f=this;if(u=u||{},!(a instanceof HTMLVideoElement)){var g=document.createElement("video");g.setAttribute("preload","auto"),g.setAttribute("webkit-playsinline",""),g.setAttribute("playsinline",""),typeof a=="string"&&(a=[a]);var v=a[0].src||a[0];Zh.crossOrigin(g,v,u.crossorigin);for(var S=0;S<a.length;++S){var w=document.createElement("source"),I=a[S],k=I.src,F=I.mime;k=k||a[S];var U=k.split("?").shift().toLowerCase(),N=U.substr(U.lastIndexOf(".")+1);F=F||o.MIME_TYPES[N]||"video/"+N,w.src=k,w.type=F,g.appendChild(w)}a=g}return f=l.call(this,a)||this,f.noSubImage=!0,f._autoUpdate=!0,f._isConnectedToTicker=!1,f._updateFPS=u.updateFPS||0,f._msToNextUpdate=0,f.autoPlay=u.autoPlay!==!1,f._load=null,f._resolve=null,f._onCanPlay=f._onCanPlay.bind(f),f._onError=f._onError.bind(f),u.autoLoad!==!1&&f.load(),f}return o.prototype.update=function(a){if(!this.destroyed){var u=Ao.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-u),(!this._updateFPS||this._msToNextUpdate<=0)&&(l.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},o.prototype.load=function(){var a=this;if(this._load)return this._load;var u=this.source;return(u.readyState===u.HAVE_ENOUGH_DATA||u.readyState===u.HAVE_FUTURE_DATA)&&u.width&&u.height&&(u.complete=!0),u.addEventListener("play",this._onPlayStart.bind(this)),u.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(u.addEventListener("canplay",this._onCanPlay),u.addEventListener("canplaythrough",this._onCanPlay),u.addEventListener("error",this._onError,!0)),this._load=new Promise(function(f){a.valid?f(a):(a._resolve=f,u.load())}),this._load},o.prototype._onError=function(a){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(a)},o.prototype._isSourcePlaying=function(){var a=this.source;return a.currentTime>0&&a.paused===!1&&a.ended===!1&&a.readyState>2},o.prototype._isSourceReady=function(){var a=this.source;return a.readyState===3||a.readyState===4},o.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ao.shared.add(this.update,this),this._isConnectedToTicker=!0)},o.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ao.shared.remove(this.update,this),this._isConnectedToTicker=!1)},o.prototype._onCanPlay=function(){var a=this.source;a.removeEventListener("canplay",this._onCanPlay),a.removeEventListener("canplaythrough",this._onCanPlay);var u=this.valid;this.resize(a.videoWidth,a.videoHeight),!u&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&a.play()},o.prototype.dispose=function(){this._isConnectedToTicker&&Ao.shared.remove(this.update,this);var a=this.source;a&&(a.removeEventListener("error",this._onError,!0),a.pause(),a.src="",a.load()),l.prototype.dispose.call(this)},Object.defineProperty(o.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isConnectedToTicker?(Ao.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ao.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(a){a!==this._updateFPS&&(this._updateFPS=a)},enumerable:!1,configurable:!0}),o.test=function(a,u){return self.HTMLVideoElement&&a instanceof HTMLVideoElement||o.TYPES.indexOf(u)>-1},o.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],o.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},o})(Zh),z$=(function(l){Sn(o,l);function o(a){return l.call(this,a)||this}return o.test=function(a){return!!self.createImageBitmap&&a instanceof ImageBitmap},o})(Zh);CA.push(TR,z$,ER,G$,H$,iE,U$,F$);var Qce={__proto__:null,Resource:qv,BaseImageResource:Zh,INSTALLED:CA,autoDetectResource:yR,AbstractMultiResource:_R,ArrayResource:F$,BufferResource:iE,CanvasResource:ER,CubeResource:U$,ImageResource:TR,SVGResource:H$,VideoResource:G$,ImageBitmapResource:z$},pl=(function(){function l(o){this.renderer=o}return l.prototype.destroy=function(){this.renderer=null},l})(),jtt=(function(l){Sn(o,l);function o(){return l!==null&&l.apply(this,arguments)||this}return o.prototype.upload=function(a,u,f){var g=a.gl;g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.alphaMode===qh.UNPACK);var v=u.realWidth,S=u.realHeight;return f.width===v&&f.height===S?g.texSubImage2D(u.target,0,0,0,v,S,u.format,u.type,this.data):(f.width=v,f.height=S,g.texImage2D(u.target,0,a.context.webGLVersion===1?g.DEPTH_COMPONENT:g.DEPTH_COMPONENT16,v,S,0,u.format,u.type,this.data)),!0},o})(iE),YP=(function(){function l(o,a){this.width=Math.ceil(o||100),this.height=Math.ceil(a||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Yo("disposeFramebuffer"),this.multisample=Vv.NONE}return Object.defineProperty(l.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),l.prototype.addColorTexture=function(o,a){return o===void 0&&(o=0),this.colorTextures[o]=a||new Ii(null,{scaleMode:jh.NEAREST,resolution:1,mipmap:ud.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},l.prototype.addDepthTexture=function(o){return this.depthTexture=o||new Ii(new jtt(null,{width:this.width,height:this.height}),{scaleMode:jh.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ud.OFF,format:Dc.DEPTH_COMPONENT,type:Di.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},l.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},l.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},l.prototype.resize=function(o,a){if(o=Math.ceil(o),a=Math.ceil(a),!(o===this.width&&a===this.height)){this.width=o,this.height=a,this.dirtyId++,this.dirtySize++;for(var u=0;u<this.colorTextures.length;u++){var f=this.colorTextures[u],g=f.resolution;f.setSize(o/g,a/g)}if(this.depthTexture){var g=this.depthTexture.resolution;this.depthTexture.setSize(o/g,a/g)}}},l.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},l.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},l})(),j$=(function(l){Sn(o,l);function o(a){var u=this;if(typeof a=="number"){var f=arguments[0],g=arguments[1],v=arguments[2],S=arguments[3];a={width:f,height:g,scaleMode:v,resolution:S}}u=l.call(this,null,a)||this;var w=a||{},I=w.width,k=w.height;return u.mipmap=ud.OFF,u.width=Math.ceil(I)||100,u.height=Math.ceil(k)||100,u.valid=!0,u.clearColor=[0,0,0,0],u.framebuffer=new YP(u.width*u.resolution,u.height*u.resolution).addColorTexture(0,u),u.maskStack=[],u.filterStack=[{}],u}return o.prototype.resize=function(a,u){a=Math.ceil(a),u=Math.ceil(u),this.framebuffer.resize(a*this.resolution,u*this.resolution)},o.prototype.dispose=function(){this.framebuffer.dispose(),l.prototype.dispose.call(this)},o.prototype.destroy=function(){l.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},o})(Ii),V$=(function(){function l(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return l.prototype.set=function(o,a,u){var f=a.width,g=a.height;if(u){var v=o.width/2/f,S=o.height/2/g,w=o.x/f+v,I=o.y/g+S;u=aa.add(u,aa.NW),this.x0=w+v*aa.uX(u),this.y0=I+S*aa.uY(u),u=aa.add(u,2),this.x1=w+v*aa.uX(u),this.y1=I+S*aa.uY(u),u=aa.add(u,2),this.x2=w+v*aa.uX(u),this.y2=I+S*aa.uY(u),u=aa.add(u,2),this.x3=w+v*aa.uX(u),this.y3=I+S*aa.uY(u)}else this.x0=o.x/f,this.y0=o.y/g,this.x1=(o.x+o.width)/f,this.y1=o.y/g,this.x2=(o.x+o.width)/f,this.y2=(o.y+o.height)/g,this.x3=o.x/f,this.y3=(o.y+o.height)/g;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},l.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},l})(),Joe=new V$,an=(function(l){Sn(o,l);function o(a,u,f,g,v,S){var w=l.call(this)||this;if(w.noFrame=!1,u||(w.noFrame=!0,u=new Zn(0,0,1,1)),a instanceof o&&(a=a.baseTexture),w.baseTexture=a,w._frame=u,w.trim=g,w.valid=!1,w._uvs=Joe,w.uvMatrix=null,w.orig=f||u,w._rotate=Number(v||0),v===!0)w._rotate=2;else if(w._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return w.defaultAnchor=S?new Ca(S.x,S.y):new Ca(0,0),w._updateID=0,w.textureCacheIds=[],a.valid?w.noFrame?a.valid&&w.onBaseTextureUpdated(a):w.frame=u:a.once("loaded",w.onBaseTextureUpdated,w),w.noFrame&&a.on("update",w.onBaseTextureUpdated,w),w}return o.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},o.prototype.onBaseTextureUpdated=function(a){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=a.width,this._frame.height=a.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},o.prototype.destroy=function(a){if(this.baseTexture){if(a){var u=this.baseTexture.resource;u&&u.url&&dl[u.url]&&o.removeFromCache(u.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,o.removeFromCache(this),this.textureCacheIds=null},o.prototype.clone=function(){var a=this._frame.clone(),u=this._frame===this.orig?a:this.orig.clone(),f=new o(this.baseTexture,!this.noFrame&&a,u,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(f._frame=a),f},o.prototype.updateUvs=function(){this._uvs===Joe&&(this._uvs=new V$),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},o.from=function(a,u,f){u===void 0&&(u={}),f===void 0&&(f=Gr.STRICT_TEXTURE_CACHE);var g=typeof a=="string",v=null;if(g)v=a;else{if(!a._pixiId){var S=u&&u.pixiIdPrefix||"pixiid";a._pixiId=S+"_"+Yv()}v=a._pixiId}var w=dl[v];if(g&&f&&!w)throw new Error('The cacheId "'+v+'" does not exist in TextureCache.');return w||(u.resolution||(u.resolution=TA(a)),w=new o(new Ii(a,u)),w.baseTexture.cacheId=v,Ii.addToCache(w.baseTexture,v),o.addToCache(w,v)),w},o.fromURL=function(a,u){var f=Object.assign({autoLoad:!1},u?.resourceOptions),g=o.from(a,Object.assign({resourceOptions:f},u),!1),v=g.baseTexture.resource;return g.baseTexture.valid?Promise.resolve(g):v.load().then(function(){return Promise.resolve(g)})},o.fromBuffer=function(a,u,f,g){return new o(Ii.fromBuffer(a,u,f,g))},o.fromLoader=function(a,u,f,g){var v=new Ii(a,Object.assign({scaleMode:Gr.SCALE_MODE,resolution:TA(u)},g)),S=v.resource;S instanceof TR&&(S.url=u);var w=new o(v);return f||(f=u),Ii.addToCache(w.baseTexture,f),o.addToCache(w,f),f!==u&&(Ii.addToCache(w.baseTexture,u),o.addToCache(w,u)),w.baseTexture.valid?Promise.resolve(w):new Promise(function(I){w.baseTexture.once("loaded",function(){return I(w)})})},o.addToCache=function(a,u){u&&(a.textureCacheIds.indexOf(u)===-1&&a.textureCacheIds.push(u),dl[u]&&console.warn("Texture added to the cache with an id ["+u+"] that already had an entry"),dl[u]=a)},o.removeFromCache=function(a){if(typeof a=="string"){var u=dl[a];if(u){var f=u.textureCacheIds.indexOf(a);return f>-1&&u.textureCacheIds.splice(f,1),delete dl[a],u}}else if(a&&a.textureCacheIds){for(var g=0;g<a.textureCacheIds.length;++g)dl[a.textureCacheIds[g]]===a&&delete dl[a.textureCacheIds[g]];return a.textureCacheIds.length=0,a}return null},Object.defineProperty(o.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frame",{get:function(){return this._frame},set:function(a){this._frame=a,this.noFrame=!1;var u=a.x,f=a.y,g=a.width,v=a.height,S=u+g>this.baseTexture.width,w=f+v>this.baseTexture.height;if(S||w){var I=S&&w?"and":"or",k="X: "+u+" + "+g+" = "+(u+g)+" > "+this.baseTexture.width,F="Y: "+f+" + "+v+" = "+(f+v)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(k+" "+I+" "+F))}this.valid=g&&v&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=a),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rotate",{get:function(){return this._rotate},set:function(a){this._rotate=a,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),o.prototype.castToBaseTexture=function(){return this.baseTexture},o})(rE);function Vtt(){var l=document.createElement("canvas");l.width=16,l.height=16;var o=l.getContext("2d");return o.fillStyle="white",o.fillRect(0,0,16,16),new an(new Ii(new ER(l)))}function bR(l){l.destroy=function(){},l.on=function(){},l.once=function(){},l.emit=function(){}}an.EMPTY=new an(new Ii);bR(an.EMPTY);bR(an.EMPTY.baseTexture);an.WHITE=Vtt();bR(an.WHITE);bR(an.WHITE.baseTexture);var tm=(function(l){Sn(o,l);function o(a,u){var f=l.call(this,a,u)||this;return f.valid=!0,f.filterFrame=null,f.filterPoolKey=null,f.updateUvs(),f}return Object.defineProperty(o.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),o.prototype.resize=function(a,u,f){f===void 0&&(f=!0),a=Math.ceil(a),u=Math.ceil(u),this.valid=a>0&&u>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=u,f&&this.baseTexture.resize(a,u),this.updateUvs()},o.prototype.setResolution=function(a){var u=this.baseTexture;u.resolution!==a&&(u.setResolution(a),this.resize(u.width,u.height,!1))},o.create=function(a){for(var u=arguments,f=[],g=1;g<arguments.length;g++)f[g-1]=u[g];return typeof a=="number"&&(Xv("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),a={width:a,height:f[0],scaleMode:f[1],resolution:f[2]}),new o(new j$(a))},o})(an),Jce=(function(){function l(o){this.texturePool={},this.textureOptions=o||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return l.prototype.createTexture=function(o,a){var u=new j$(Object.assign({width:o,height:a,resolution:1},this.textureOptions));return new tm(u)},l.prototype.getOptimalTexture=function(o,a,u){u===void 0&&(u=1);var f=l.SCREEN_KEY;o*=u,a*=u,(!this.enableFullScreen||o!==this._pixelsWidth||a!==this._pixelsHeight)&&(o=EA(o),a=EA(a),f=(o&65535)<<16|a&65535),this.texturePool[f]||(this.texturePool[f]=[]);var g=this.texturePool[f].pop();return g||(g=this.createTexture(o,a)),g.filterPoolKey=f,g.setResolution(u),g},l.prototype.getFilterTexture=function(o,a){var u=this.getOptimalTexture(o.width,o.height,a||o.resolution);return u.filterFrame=o.filterFrame,u},l.prototype.returnTexture=function(o){var a=o.filterPoolKey;o.filterFrame=null,this.texturePool[a].push(o)},l.prototype.returnFilterTexture=function(o){this.returnTexture(o)},l.prototype.clear=function(o){if(o=o!==!1,o)for(var a in this.texturePool){var u=this.texturePool[a];if(u)for(var f=0;f<u.length;f++)u[f].destroy(!0)}this.texturePool={}},l.prototype.setScreenSize=function(o){if(!(o.width===this._pixelsWidth&&o.height===this._pixelsHeight)){var a=l.SCREEN_KEY,u=this.texturePool[a];if(this.enableFullScreen=o.width>0&&o.height>0,u)for(var f=0;f<u.length;f++)u[f].destroy(!0);this.texturePool[a]=[],this._pixelsWidth=o.width,this._pixelsHeight=o.height}},l.SCREEN_KEY="screen",l})(),gH=(function(){function l(o,a,u,f,g,v,S){a===void 0&&(a=0),u===void 0&&(u=!1),f===void 0&&(f=Di.FLOAT),this.buffer=o,this.size=a,this.normalized=u,this.type=f,this.stride=g,this.start=v,this.instance=S}return l.prototype.destroy=function(){this.buffer=null},l.from=function(o,a,u,f,g){return new l(o,a,u,f,g)},l})(),Wtt=0,Co=(function(){function l(o,a,u){a===void 0&&(a=!0),u===void 0&&(u=!1),this.data=o||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=u,this.static=a,this.id=Wtt++,this.disposeRunner=new Yo("disposeBuffer")}return l.prototype.update=function(o){this.data=o||this.data,this._updateID++},l.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},l.prototype.destroy=function(){this.dispose(),this.data=null},l.from=function(o){return o instanceof Array&&(o=new Float32Array(o)),new l(o)},l})();function ehe(l){if(l.BYTES_PER_ELEMENT===4)return l instanceof Float32Array?"Float32Array":l instanceof Uint32Array?"Uint32Array":"Int32Array";if(l.BYTES_PER_ELEMENT===2){if(l instanceof Uint16Array)return"Uint16Array"}else if(l.BYTES_PER_ELEMENT===1&&l instanceof Uint8Array)return"Uint8Array";return null}var Ytt={Float32Array,Uint32Array,Int32Array,Uint8Array};function Xtt(l,o){for(var a=0,u=0,f={},g=0;g<l.length;g++)u+=o[g],a+=l[g].length;for(var v=new ArrayBuffer(a*4),S=null,w=0,g=0;g<l.length;g++){var I=o[g],k=l[g],F=ehe(k);f[F]||(f[F]=new Ytt[F](v)),S=f[F];for(var U=0;U<k.length;U++){var N=(U/I|0)*u+w,H=U%I;S[N+H]=k[U]}w+=I}return new Float32Array(v)}var ese={5126:4,5123:2,5121:1},qtt=0,Ktt={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},aE=(function(){function l(o,a){o===void 0&&(o=[]),a===void 0&&(a={}),this.buffers=o,this.indexBuffer=null,this.attributes=a,this.glVertexArrayObjects={},this.id=qtt++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Yo("disposeGeometry"),this.refCount=0}return l.prototype.addAttribute=function(o,a,u,f,g,v,S,w){if(u===void 0&&(u=0),f===void 0&&(f=!1),w===void 0&&(w=!1),!a)throw new Error("You must pass a buffer when creating an attribute");a instanceof Co||(a instanceof Array&&(a=new Float32Array(a)),a=new Co(a));var I=o.split("|");if(I.length>1){for(var k=0;k<I.length;k++)this.addAttribute(I[k],a,u,f,g);return this}var F=this.buffers.indexOf(a);return F===-1&&(this.buffers.push(a),F=this.buffers.length-1),this.attributes[o]=new gH(F,u,f,g,v,S,w),this.instanced=this.instanced||w,this},l.prototype.getAttribute=function(o){return this.attributes[o]},l.prototype.getBuffer=function(o){return this.buffers[this.getAttribute(o).buffer]},l.prototype.addIndex=function(o){return o instanceof Co||(o instanceof Array&&(o=new Uint16Array(o)),o=new Co(o)),o.index=!0,this.indexBuffer=o,this.buffers.indexOf(o)===-1&&this.buffers.push(o),this},l.prototype.getIndex=function(){return this.indexBuffer},l.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var o=[],a=[],u=new Co,f;for(f in this.attributes){var g=this.attributes[f],v=this.buffers[g.buffer];o.push(v.data),a.push(g.size*ese[g.type]/4),g.buffer=0}for(u.data=Xtt(o,a),f=0;f<this.buffers.length;f++)this.buffers[f]!==this.indexBuffer&&this.buffers[f].destroy();return this.buffers=[u],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},l.prototype.getSize=function(){for(var o in this.attributes){var a=this.attributes[o],u=this.buffers[a.buffer];return u.data.length/(a.stride/4||a.size)}return 0},l.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},l.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},l.prototype.clone=function(){for(var o=new l,a=0;a<this.buffers.length;a++)o.buffers[a]=new Co(this.buffers[a].data.slice(0));for(var a in this.attributes){var u=this.attributes[a];o.attributes[a]=new gH(u.buffer,u.size,u.normalized,u.type,u.stride,u.start,u.instance)}return this.indexBuffer&&(o.indexBuffer=o.buffers[this.buffers.indexOf(this.indexBuffer)],o.indexBuffer.index=!0),o},l.merge=function(o){for(var a=new l,u=[],f=[],g=[],v,S=0;S<o.length;S++){v=o[S];for(var w=0;w<v.buffers.length;w++)f[w]=f[w]||0,f[w]+=v.buffers[w].data.length,g[w]=0}for(var S=0;S<v.buffers.length;S++)u[S]=new Ktt[ehe(v.buffers[S].data)](f[S]),a.buffers[S]=new Co(u[S]);for(var S=0;S<o.length;S++){v=o[S];for(var w=0;w<v.buffers.length;w++)u[w].set(v.buffers[w].data,g[w]),g[w]+=v.buffers[w].data.length}if(a.attributes=v.attributes,v.indexBuffer){a.indexBuffer=a.buffers[v.buffers.indexOf(v.indexBuffer)],a.indexBuffer.index=!0;for(var I=0,k=0,F=0,U=0,S=0;S<v.buffers.length;S++)if(v.buffers[S]!==v.indexBuffer){U=S;break}for(var S in v.attributes){var N=v.attributes[S];(N.buffer|0)===U&&(k+=N.size*ese[N.type]/4)}for(var S=0;S<o.length;S++){for(var H=o[S].indexBuffer.data,w=0;w<H.length;w++)a.indexBuffer.data[w+F]+=I;I+=v.buffers[U].data.length/k,F+=H.length}}return a},l})(),the=(function(l){Sn(o,l);function o(){var a=l.call(this)||this;return a.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),a}return o})(aE),W$=(function(l){Sn(o,l);function o(){var a=l.call(this)||this;return a.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),a.uvs=new Float32Array([0,0,1,0,1,1,0,1]),a.vertexBuffer=new Co(a.vertices),a.uvBuffer=new Co(a.uvs),a.addAttribute("aVertexPosition",a.vertexBuffer).addAttribute("aTextureCoord",a.uvBuffer).addIndex([0,1,2,0,2,3]),a}return o.prototype.map=function(a,u){var f=0,g=0;return this.uvs[0]=f,this.uvs[1]=g,this.uvs[2]=f+u.width/a.width,this.uvs[3]=g,this.uvs[4]=f+u.width/a.width,this.uvs[5]=g+u.height/a.height,this.uvs[6]=f,this.uvs[7]=g+u.height/a.height,f=u.x,g=u.y,this.vertices[0]=f,this.vertices[1]=g,this.vertices[2]=f+u.width,this.vertices[3]=g,this.vertices[4]=f+u.width,this.vertices[5]=g+u.height,this.vertices[6]=f,this.vertices[7]=g+u.height,this.invalidate(),this},o.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},o})(aE),Ztt=0,Qp=(function(){function l(o,a){this.uniforms=o,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ztt++,this.static=!!a}return l.prototype.update=function(){this.dirtyId++},l.prototype.add=function(o,a,u){this.uniforms[o]=new l(a,u)},l.from=function(o,a){return new l(o,a)},l})(),rhe=(function(){function l(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Zn,this.destinationFrame=new Zn,this.bindingSourceFrame=new Zn,this.bindingDestinationFrame=new Zn,this.filters=[],this.transform=null}return l.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},l})(),sP=[new Ca,new Ca,new Ca,new Ca],M8=new Ha,Y$=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.defaultFilterStack=[{}],u.texturePool=new Jce,u.texturePool.setScreenSize(a.view),u.statePool=[],u.quad=new the,u.quadUv=new W$,u.tempRect=new Zn,u.activeState={},u.globalUniforms=new Qp({outputFrame:new Zn,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),u.forceClear=!1,u.useMaxPadding=!1,u}return o.prototype.push=function(a,u){for(var f=this.renderer,g=this.defaultFilterStack,v=this.statePool.pop()||new rhe,S=this.renderer.renderTexture,w=u[0].resolution,I=u[0].padding,k=u[0].autoFit,F=u[0].legacy,U=1;U<u.length;U++){var N=u[U];w=Math.min(w,N.resolution),I=this.useMaxPadding?Math.max(I,N.padding):I+N.padding,k=k&&N.autoFit,F=F||N.legacy}if(g.length===1&&(this.defaultFilterStack[0].renderTexture=S.current),g.push(v),v.resolution=w,v.legacy=F,v.target=a,v.sourceFrame.copyFrom(a.filterArea||a.getBounds(!0)),v.sourceFrame.pad(I),k){var H=this.tempRect.copyFrom(S.sourceFrame);f.projection.transform&&this.transformAABB(M8.copyFrom(f.projection.transform).invert(),H),v.sourceFrame.fit(H)}this.roundFrame(v.sourceFrame,S.current?S.current.resolution:f.resolution,S.sourceFrame,S.destinationFrame,f.projection.transform),v.renderTexture=this.getOptimalFilterTexture(v.sourceFrame.width,v.sourceFrame.height,w),v.filters=u,v.destinationFrame.width=v.renderTexture.width,v.destinationFrame.height=v.renderTexture.height;var q=this.tempRect;q.x=0,q.y=0,q.width=v.sourceFrame.width,q.height=v.sourceFrame.height,v.renderTexture.filterFrame=v.sourceFrame,v.bindingSourceFrame.copyFrom(S.sourceFrame),v.bindingDestinationFrame.copyFrom(S.destinationFrame),v.transform=f.projection.transform,f.projection.transform=null,S.bind(v.renderTexture,v.sourceFrame,q),f.framebuffer.clear(0,0,0,0)},o.prototype.pop=function(){var a=this.defaultFilterStack,u=a.pop(),f=u.filters;this.activeState=u;var g=this.globalUniforms.uniforms;g.outputFrame=u.sourceFrame,g.resolution=u.resolution;var v=g.inputSize,S=g.inputPixel,w=g.inputClamp;if(v[0]=u.destinationFrame.width,v[1]=u.destinationFrame.height,v[2]=1/v[0],v[3]=1/v[1],S[0]=v[0]*u.resolution,S[1]=v[1]*u.resolution,S[2]=1/S[0],S[3]=1/S[1],w[0]=.5*S[2],w[1]=.5*S[3],w[2]=u.sourceFrame.width*v[2]-.5*S[2],w[3]=u.sourceFrame.height*v[3]-.5*S[3],u.legacy){var I=g.filterArea;I[0]=u.destinationFrame.width,I[1]=u.destinationFrame.height,I[2]=u.sourceFrame.x,I[3]=u.sourceFrame.y,g.filterClamp=g.inputClamp}this.globalUniforms.update();var k=a[a.length-1];if(u.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),f.length===1)f[0].apply(this,u.renderTexture,k.renderTexture,td.BLEND,u),this.returnFilterTexture(u.renderTexture);else{var F=u.renderTexture,U=this.getOptimalFilterTexture(F.width,F.height,u.resolution);U.filterFrame=F.filterFrame;var N=0;for(N=0;N<f.length-1;++N){f[N].apply(this,F,U,td.CLEAR,u);var H=F;F=U,U=H}f[N].apply(this,F,k.renderTexture,td.BLEND,u),this.returnFilterTexture(F),this.returnFilterTexture(U)}u.clear(),this.statePool.push(u)},o.prototype.bindAndClear=function(a,u){u===void 0&&(u=td.CLEAR);var f=this.renderer,g=f.renderTexture,v=f.state;if(a===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,a&&a.filterFrame){var S=this.tempRect;S.x=0,S.y=0,S.width=a.filterFrame.width,S.height=a.filterFrame.height,g.bind(a,a.filterFrame,S)}else a!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?g.bind(a):this.renderer.renderTexture.bind(a,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var w=v.stateId&1||this.forceClear;(u===td.CLEAR||u===td.BLIT&&w)&&this.renderer.framebuffer.clear(0,0,0,0)},o.prototype.applyFilter=function(a,u,f,g){var v=this.renderer;v.state.set(a.state),this.bindAndClear(f,g),a.uniforms.uSampler=u,a.uniforms.filterGlobals=this.globalUniforms,v.shader.bind(a),a.legacy?(this.quadUv.map(u._frame,u.filterFrame),v.geometry.bind(this.quadUv),v.geometry.draw(Pu.TRIANGLES)):(v.geometry.bind(this.quad),v.geometry.draw(Pu.TRIANGLE_STRIP))},o.prototype.calculateSpriteMatrix=function(a,u){var f=this.activeState,g=f.sourceFrame,v=f.destinationFrame,S=u._texture.orig,w=a.set(v.width,0,0,v.height,g.x,g.y),I=u.worldTransform.copyTo(Ha.TEMP_MATRIX);return I.invert(),w.prepend(I),w.scale(1/S.width,1/S.height),w.translate(u.anchor.x,u.anchor.y),w},o.prototype.destroy=function(){this.texturePool.clear(!1)},o.prototype.getOptimalFilterTexture=function(a,u,f){return f===void 0&&(f=1),this.texturePool.getOptimalTexture(a,u,f)},o.prototype.getFilterTexture=function(a,u){if(typeof a=="number"){var f=a;a=u,u=f}a=a||this.activeState.renderTexture;var g=this.texturePool.getOptimalTexture(a.width,a.height,u||a.resolution);return g.filterFrame=a.filterFrame,g},o.prototype.returnFilterTexture=function(a){this.texturePool.returnTexture(a)},o.prototype.emptyPool=function(){this.texturePool.clear(!0)},o.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},o.prototype.transformAABB=function(a,u){var f=sP[0],g=sP[1],v=sP[2],S=sP[3];f.set(u.left,u.top),g.set(u.left,u.bottom),v.set(u.right,u.top),S.set(u.right,u.bottom),a.apply(f,f),a.apply(g,g),a.apply(v,v),a.apply(S,S);var w=Math.min(f.x,g.x,v.x,S.x),I=Math.min(f.y,g.y,v.y,S.y),k=Math.max(f.x,g.x,v.x,S.x),F=Math.max(f.y,g.y,v.y,S.y);u.x=w,u.y=I,u.width=k-w,u.height=F-I},o.prototype.roundFrame=function(a,u,f,g,v){if(v){var S=v.a,w=v.b,I=v.c,k=v.d;if((w!==0||I!==0)&&(S!==0||k!==0))return}v=v?M8.copyFrom(v):M8.identity(),v.translate(-f.x,-f.y).scale(g.width/f.width,g.height/f.height).translate(g.x,g.y),this.transformAABB(v,a),a.ceil(u),this.transformAABB(v.invert(),a)},o})(pl),NA=(function(){function l(o){this.renderer=o}return l.prototype.flush=function(){},l.prototype.destroy=function(){this.renderer=null},l.prototype.start=function(){},l.prototype.stop=function(){this.flush()},l.prototype.render=function(o){},l})(),X$=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.emptyRenderer=new NA(a),u.currentRenderer=u.emptyRenderer,u}return o.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())},o.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.copyBoundTextures=function(a,u){for(var f=this.renderer.texture.boundTextures,g=u-1;g>=0;--g)a[g]=f[g]||null,a[g]&&(a[g]._batchLocation=g)},o.prototype.boundArray=function(a,u,f,g){for(var v=a.elements,S=a.ids,w=a.count,I=0,k=0;k<w;k++){var F=v[k],U=F._batchLocation;if(U>=0&&U<g&&u[U]===F){S[k]=U;continue}for(;I<g;){var N=u[I];if(N&&N._batchEnabled===f&&N._batchLocation===I){I++;continue}S[k]=I,F._batchLocation=I,u[I]=F;break}}},o})(pl),tse=0,q$=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.webGLVersion=1,u.extensions={},u.supports={uint32Indices:!1},u.handleContextLost=u.handleContextLost.bind(u),u.handleContextRestored=u.handleContextRestored.bind(u),a.view.addEventListener("webglcontextlost",u.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",u.handleContextRestored,!1),u}return Object.defineProperty(o.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),o.prototype.contextChange=function(a){this.gl=a,this.renderer.gl=a,this.renderer.CONTEXT_UID=tse++,a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext()},o.prototype.initFromContext=function(a){this.gl=a,this.validateContext(a),this.renderer.gl=a,this.renderer.CONTEXT_UID=tse++,this.renderer.runners.contextChange.emit(a)},o.prototype.initFromOptions=function(a){var u=this.createContext(this.renderer.view,a);this.initFromContext(u)},o.prototype.createContext=function(a,u){var f;if(Gr.PREFER_ENV>=Xh.WEBGL2&&(f=a.getContext("webgl2",u)),f)this.webGLVersion=2;else if(this.webGLVersion=1,f=a.getContext("webgl",u)||a.getContext("experimental-webgl",u),!f)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=f,this.getExtensions(),this.gl},o.prototype.getExtensions=function(){var a=this.gl,u={anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),s3tc:a.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:a.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:a.getExtension("WEBGL_compressed_texture_etc"),etc1:a.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:a.getExtension("WEBGL_compressed_texture_atc"),astc:a.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,u,{drawBuffers:a.getExtension("WEBGL_draw_buffers"),depthTexture:a.getExtension("WEBGL_depth_texture"),loseContext:a.getExtension("WEBGL_lose_context"),vertexArrayObject:a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:a.getExtension("OES_element_index_uint"),floatTexture:a.getExtension("OES_texture_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),textureHalfFloat:a.getExtension("OES_texture_half_float"),textureHalfFloatLinear:a.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,u,{colorBufferFloat:a.getExtension("EXT_color_buffer_float")})},o.prototype.handleContextLost=function(a){a.preventDefault()},o.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},o.prototype.destroy=function(){var a=this.renderer.view;a.removeEventListener("webglcontextlost",this.handleContextLost),a.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},o.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},o.prototype.validateContext=function(a){var u=a.getContextAttributes(),f="WebGL2RenderingContext"in self&&a instanceof self.WebGL2RenderingContext;f&&(this.webGLVersion=2),u.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var g=f||!!a.getExtension("OES_element_index_uint");this.supports.uint32Indices=g,g||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},o})(pl),nhe=(function(){function l(o){this.framebuffer=o,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=Vv.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return l})(),Qtt=new Zn,K$=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.managedFramebuffers=[],u.unknownFramebuffer=new YP(10,10),u.msaaSamples=null,u}return o.prototype.contextChange=function(){var a=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Zn,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var u=this.renderer.context.extensions.drawBuffers,f=this.renderer.context.extensions.depthTexture;Gr.PREFER_ENV===Xh.WEBGL_LEGACY&&(u=null,f=null),u?a.drawBuffers=function(g){return u.drawBuffersWEBGL(g)}:(this.hasMRT=!1,a.drawBuffers=function(){}),f||(this.writeDepthTexture=!1)}else this.msaaSamples=a.getInternalformatParameter(a.RENDERBUFFER,a.RGBA8,a.SAMPLES)},o.prototype.bind=function(a,u){var f=this.gl;if(a){var g=a.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(a);this.current!==a&&(this.current=a,f.bindFramebuffer(f.FRAMEBUFFER,g.framebuffer)),g.dirtyId!==a.dirtyId&&(g.dirtyId=a.dirtyId,g.dirtyFormat!==a.dirtyFormat?(g.dirtyFormat=a.dirtyFormat,this.updateFramebuffer(a)):g.dirtySize!==a.dirtySize&&(g.dirtySize=a.dirtySize,this.resizeFramebuffer(a)));for(var v=0;v<a.colorTextures.length;v++){var S=a.colorTextures[v];this.renderer.texture.unbind(S.parentTextureArray||S)}a.depthTexture&&this.renderer.texture.unbind(a.depthTexture),u?this.setViewport(u.x,u.y,u.width,u.height):this.setViewport(0,0,a.width,a.height)}else this.current&&(this.current=null,f.bindFramebuffer(f.FRAMEBUFFER,null)),u?this.setViewport(u.x,u.y,u.width,u.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},o.prototype.setViewport=function(a,u,f,g){var v=this.viewport;(v.width!==f||v.height!==g||v.x!==a||v.y!==u)&&(v.x=a,v.y=u,v.width=f,v.height=g,this.gl.viewport(a,u,f,g))},Object.defineProperty(o.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),o.prototype.clear=function(a,u,f,g,v){v===void 0&&(v=yA.COLOR|yA.DEPTH);var S=this.gl;S.clearColor(a,u,f,g),S.clear(v)},o.prototype.initFramebuffer=function(a){var u=this.gl,f=new nhe(u.createFramebuffer());return f.multisample=this.detectSamples(a.multisample),a.glFramebuffers[this.CONTEXT_UID]=f,this.managedFramebuffers.push(a),a.disposeRunner.add(this),f},o.prototype.resizeFramebuffer=function(a){var u=this.gl,f=a.glFramebuffers[this.CONTEXT_UID];f.stencil&&(u.bindRenderbuffer(u.RENDERBUFFER,f.stencil),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,a.width,a.height));for(var g=a.colorTextures,v=0;v<g.length;v++)this.renderer.texture.bind(g[v],0);a.depthTexture&&this.renderer.texture.bind(a.depthTexture,0)},o.prototype.updateFramebuffer=function(a){var u=this.gl,f=a.glFramebuffers[this.CONTEXT_UID],g=a.colorTextures,v=g.length;u.drawBuffers||(v=Math.min(v,1)),f.multisample>1&&(f.msaaBuffer=u.createRenderbuffer(),u.bindRenderbuffer(u.RENDERBUFFER,f.msaaBuffer),u.renderbufferStorageMultisample(u.RENDERBUFFER,f.multisample,u.RGBA8,a.width,a.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.RENDERBUFFER,f.msaaBuffer));for(var S=[],w=0;w<v;w++)if(!(w===0&&f.multisample>1)){var I=a.colorTextures[w],k=I.parentTextureArray||I;this.renderer.texture.bind(k,0),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0+w,I.target,k._glTextures[this.CONTEXT_UID].texture,0),S.push(u.COLOR_ATTACHMENT0+w)}if(S.length>1&&u.drawBuffers(S),a.depthTexture){var F=this.writeDepthTexture;if(F){var U=a.depthTexture;this.renderer.texture.bind(U,0),u.framebufferTexture2D(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.TEXTURE_2D,U._glTextures[this.CONTEXT_UID].texture,0)}}!f.stencil&&(a.stencil||a.depth)&&(f.stencil=u.createRenderbuffer(),u.bindRenderbuffer(u.RENDERBUFFER,f.stencil),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,a.width,a.height),a.depthTexture||u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,f.stencil))},o.prototype.detectSamples=function(a){var u=this.msaaSamples,f=Vv.NONE;if(a<=1||u===null)return f;for(var g=0;g<u.length;g++)if(u[g]<=a){f=u[g];break}return f===1&&(f=Vv.NONE),f},o.prototype.blit=function(a,u,f){var g=this,v=g.current,S=g.renderer,w=g.gl,I=g.CONTEXT_UID;if(S.context.webGLVersion===2&&v){var k=v.glFramebuffers[I];if(k){if(!a){if(k.multisample<=1)return;k.blitFramebuffer||(k.blitFramebuffer=new YP(v.width,v.height),k.blitFramebuffer.addColorTexture(0,v.colorTextures[0])),a=k.blitFramebuffer,a.width=v.width,a.height=v.height}u||(u=Qtt,u.width=v.width,u.height=v.height),f||(f=u);var F=u.width===f.width&&u.height===f.height;this.bind(a),w.bindFramebuffer(w.READ_FRAMEBUFFER,k.framebuffer),w.blitFramebuffer(u.x,u.y,u.width,u.height,f.x,f.y,f.width,f.height,w.COLOR_BUFFER_BIT,F?w.NEAREST:w.LINEAR)}}},o.prototype.disposeFramebuffer=function(a,u){var f=a.glFramebuffers[this.CONTEXT_UID],g=this.gl;if(f){delete a.glFramebuffers[this.CONTEXT_UID];var v=this.managedFramebuffers.indexOf(a);v>=0&&this.managedFramebuffers.splice(v,1),a.disposeRunner.remove(this),u||(g.deleteFramebuffer(f.framebuffer),f.stencil&&g.deleteRenderbuffer(f.stencil))}},o.prototype.disposeAll=function(a){var u=this.managedFramebuffers;this.managedFramebuffers=[];for(var f=0;f<u.length;f++)this.disposeFramebuffer(u[f],a)},o.prototype.forceStencil=function(){var a=this.current;if(a){var u=a.glFramebuffers[this.CONTEXT_UID];if(!(!u||u.stencil)){a.enableStencil();var f=a.width,g=a.height,v=this.gl,S=v.createRenderbuffer();v.bindRenderbuffer(v.RENDERBUFFER,S),v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_STENCIL,f,g),u.stencil=S,v.framebufferRenderbuffer(v.FRAMEBUFFER,v.DEPTH_STENCIL_ATTACHMENT,v.RENDERBUFFER,S)}}},o.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Zn},o})(pl),Jtt=(function(){function l(o){this.buffer=o||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return l})(),L8={5126:4,5123:2,5121:1},Z$=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u._activeGeometry=null,u._activeVao=null,u.hasVao=!0,u.hasInstance=!0,u.canUseUInt32ElementIndex=!1,u.managedGeometries={},u.managedBuffers={},u}return o.prototype.contextChange=function(){this.disposeAll(!0);var a=this.gl=this.renderer.gl,u=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,u.webGLVersion!==2){var f=this.renderer.context.extensions.vertexArrayObject;Gr.PREFER_ENV===Xh.WEBGL_LEGACY&&(f=null),f?(a.createVertexArray=function(){return f.createVertexArrayOES()},a.bindVertexArray=function(v){return f.bindVertexArrayOES(v)},a.deleteVertexArray=function(v){return f.deleteVertexArrayOES(v)}):(this.hasVao=!1,a.createVertexArray=function(){return null},a.bindVertexArray=function(){return null},a.deleteVertexArray=function(){return null})}if(u.webGLVersion!==2){var g=a.getExtension("ANGLE_instanced_arrays");g?(a.vertexAttribDivisor=function(v,S){return g.vertexAttribDivisorANGLE(v,S)},a.drawElementsInstanced=function(v,S,w,I,k){return g.drawElementsInstancedANGLE(v,S,w,I,k)},a.drawArraysInstanced=function(v,S,w,I){return g.drawArraysInstancedANGLE(v,S,w,I)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=u.webGLVersion===2||!!u.extensions.uint32ElementIndex},o.prototype.bind=function(a,u){u=u||this.renderer.shader.shader;var f=this.gl,g=a.glVertexArrayObjects[this.CONTEXT_UID],v=!1;g||(this.managedGeometries[a.id]=a,a.disposeRunner.add(this),a.glVertexArrayObjects[this.CONTEXT_UID]=g={},v=!0);var S=g[u.program.id]||this.initGeometryVao(a,u.program,v);this._activeGeometry=a,this._activeVao!==S&&(this._activeVao=S,this.hasVao?f.bindVertexArray(S):this.activateVao(a,u.program)),this.updateBuffers()},o.prototype.reset=function(){this.unbind()},o.prototype.updateBuffers=function(){for(var a=this._activeGeometry,u=this.gl,f=0;f<a.buffers.length;f++){var g=a.buffers[f],v=g._glBuffers[this.CONTEXT_UID];if(g._updateID!==v.updateID){v.updateID=g._updateID;var S=g.index?u.ELEMENT_ARRAY_BUFFER:u.ARRAY_BUFFER;if(u.bindBuffer(S,v.buffer),this._boundBuffer=v,v.byteLength>=g.data.byteLength)u.bufferSubData(S,0,g.data);else{var w=g.static?u.STATIC_DRAW:u.DYNAMIC_DRAW;v.byteLength=g.data.byteLength,u.bufferData(S,g.data,w)}}}},o.prototype.checkCompatibility=function(a,u){var f=a.attributes,g=u.attributeData;for(var v in g)if(!f[v])throw new Error('shader and geometry incompatible, geometry missing the "'+v+'" attribute')},o.prototype.getSignature=function(a,u){var f=a.attributes,g=u.attributeData,v=["g",a.id];for(var S in f)g[S]&&v.push(S);return v.join("-")},o.prototype.initGeometryVao=function(a,u,f){f===void 0&&(f=!0),this.checkCompatibility(a,u);var g=this.gl,v=this.CONTEXT_UID,S=this.getSignature(a,u),w=a.glVertexArrayObjects[this.CONTEXT_UID],I=w[S];if(I)return w[u.id]=I,I;var k=a.buffers,F=a.attributes,U={},N={};for(var H in k)U[H]=0,N[H]=0;for(var H in F)!F[H].size&&u.attributeData[H]?F[H].size=u.attributeData[H].size:F[H].size||console.warn("PIXI Geometry attribute '"+H+"' size cannot be determined (likely the bound shader does not have the attribute)"),U[F[H].buffer]+=F[H].size*L8[F[H].type];for(var H in F){var q=F[H],j=q.size;q.stride===void 0&&(U[q.buffer]===j*L8[q.type]?q.stride=0:q.stride=U[q.buffer]),q.start===void 0&&(q.start=N[q.buffer],N[q.buffer]+=j*L8[q.type])}I=g.createVertexArray(),g.bindVertexArray(I);for(var se=0;se<k.length;se++){var he=k[se];he._glBuffers[v]||(he._glBuffers[v]=new Jtt(g.createBuffer()),this.managedBuffers[he.id]=he,he.disposeRunner.add(this)),f&&he._glBuffers[v].refCount++}return this.activateVao(a,u),this._activeVao=I,w[u.id]=I,w[S]=I,I},o.prototype.disposeBuffer=function(a,u){if(this.managedBuffers[a.id]){delete this.managedBuffers[a.id];var f=a._glBuffers[this.CONTEXT_UID],g=this.gl;a.disposeRunner.remove(this),f&&(u||g.deleteBuffer(f.buffer),delete a._glBuffers[this.CONTEXT_UID])}},o.prototype.disposeGeometry=function(a,u){if(this.managedGeometries[a.id]){delete this.managedGeometries[a.id];var f=a.glVertexArrayObjects[this.CONTEXT_UID],g=this.gl,v=a.buffers;if(a.disposeRunner.remove(this),!!f){for(var S=0;S<v.length;S++){var w=v[S]._glBuffers[this.CONTEXT_UID];w.refCount--,w.refCount===0&&!u&&this.disposeBuffer(v[S],u)}if(!u){for(var I in f)if(I[0]==="g"){var k=f[I];this._activeVao===k&&this.unbind(),g.deleteVertexArray(k)}}delete a.glVertexArrayObjects[this.CONTEXT_UID]}}},o.prototype.disposeAll=function(a){for(var u=Object.keys(this.managedGeometries),f=0;f<u.length;f++)this.disposeGeometry(this.managedGeometries[u[f]],a);u=Object.keys(this.managedBuffers);for(var f=0;f<u.length;f++)this.disposeBuffer(this.managedBuffers[u[f]],a)},o.prototype.activateVao=function(a,u){var f=this.gl,g=this.CONTEXT_UID,v=a.buffers,S=a.attributes;a.indexBuffer&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a.indexBuffer._glBuffers[g].buffer);var w=null;for(var I in S){var k=S[I],F=v[k.buffer],U=F._glBuffers[g];if(u.attributeData[I]){w!==U&&(f.bindBuffer(f.ARRAY_BUFFER,U.buffer),w=U);var N=u.attributeData[I].location;if(f.enableVertexAttribArray(N),f.vertexAttribPointer(N,k.size,k.type||f.FLOAT,k.normalized,k.stride,k.start),k.instance)if(this.hasInstance)f.vertexAttribDivisor(N,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},o.prototype.draw=function(a,u,f,g){var v=this.gl,S=this._activeGeometry;if(S.indexBuffer){var w=S.indexBuffer.data.BYTES_PER_ELEMENT,I=w===2?v.UNSIGNED_SHORT:v.UNSIGNED_INT;w===2||w===4&&this.canUseUInt32ElementIndex?S.instanced?v.drawElementsInstanced(a,u||S.indexBuffer.data.length,I,(f||0)*w,g||1):v.drawElements(a,u||S.indexBuffer.data.length,I,(f||0)*w):console.warn("unsupported index buffer type: uint32")}else S.instanced?v.drawArraysInstanced(a,f,u||S.getSize(),g||1):v.drawArrays(a,f,u||S.getSize());return this},o.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},o})(pl),ihe=(function(){function l(o){o===void 0&&(o=null),this.type=fl.NONE,this.autoDetect=!0,this.maskObject=o||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return l.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=fl.NONE,this.autoDetect=!0),this._target=null},l.prototype.copyCountersOrReset=function(o){o?(this._stencilCounter=o._stencilCounter,this._scissorCounter=o._scissorCounter,this._scissorRect=o._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},l})();function rse(l,o,a){var u=l.createShader(o);return l.shaderSource(u,a),l.compileShader(u),u}function ahe(l,o,a,u){var f=rse(l,l.VERTEX_SHADER,o),g=rse(l,l.FRAGMENT_SHADER,a),v=l.createProgram();if(l.attachShader(v,f),l.attachShader(v,g),u)for(var S in u)l.bindAttribLocation(v,u[S],S);return l.linkProgram(v),l.getProgramParameter(v,l.LINK_STATUS)||(l.getShaderParameter(f,l.COMPILE_STATUS)||(console.warn(o),console.error(l.getShaderInfoLog(f))),l.getShaderParameter(g,l.COMPILE_STATUS)||(console.warn(a),console.error(l.getShaderInfoLog(g))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",l.getProgramParameter(v,l.VALIDATE_STATUS)),console.error("gl.getError()",l.getError()),l.getProgramInfoLog(v)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",l.getProgramInfoLog(v)),l.deleteProgram(v),v=null),l.deleteShader(f),l.deleteShader(g),v}function B8(l){for(var o=new Array(l),a=0;a<o.length;a++)o[a]=!1;return o}function ohe(l,o){switch(l){case"float":return 0;case"vec2":return new Float32Array(2*o);case"vec3":return new Float32Array(3*o);case"vec4":return new Float32Array(4*o);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*o);case"ivec3":return new Int32Array(3*o);case"ivec4":return new Int32Array(4*o);case"uvec2":return new Uint32Array(2*o);case"uvec3":return new Uint32Array(3*o);case"uvec4":return new Uint32Array(4*o);case"bool":return!1;case"bvec2":return B8(2*o);case"bvec3":return B8(3*o);case"bvec4":return B8(4*o);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var she={},GC=she;function lhe(){if(GC===she||GC&&GC.isContextLost()){var l=document.createElement("canvas"),o=void 0;Gr.PREFER_ENV>=Xh.WEBGL2&&(o=l.getContext("webgl2",{})),o||(o=l.getContext("webgl",{})||l.getContext("experimental-webgl",{}),o?o.getExtension("WEBGL_draw_buffers"):o=null),GC=o}return GC}var lP;function ert(){if(!lP){lP=Pc.MEDIUM;var l=lhe();if(l&&l.getShaderPrecisionFormat){var o=l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT);lP=o.precision?Pc.HIGH:Pc.MEDIUM}}return lP}function nse(l,o,a){if(l.substring(0,9)!=="precision"){var u=o;return o===Pc.HIGH&&a!==Pc.HIGH&&(u=Pc.MEDIUM),"precision "+u+` float;
`+l}else if(a!==Pc.HIGH&&l.substring(0,15)==="precision highp")return l.replace("precision highp","precision mediump");return l}var trt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function rrt(l){return trt[l]}var uP=null,ise={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ase(l,o){if(!uP){var a=Object.keys(ise);uP={};for(var u=0;u<a.length;++u){var f=a[u];uP[l[f]]=ise[f]}}return uP[o]}var MP=[{test:function(l){return l.type==="float"&&l.size===1},code:function(l){return`
            if(uv["`+l+'"] !== ud["'+l+`"].value)
            {
                ud["`+l+'"].value = uv["'+l+`"]
                gl.uniform1f(ud["`+l+'"].location, uv["'+l+`"])
            }
            `}},{test:function(l){return(l.type==="sampler2D"||l.type==="samplerCube"||l.type==="sampler2DArray")&&l.size===1&&!l.isArray},code:function(l){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+l+`"], t);

            if(ud["`+l+`"].value !== t)
            {
                ud["`+l+`"].value = t;
                gl.uniform1i(ud["`+l+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(l,o){return l.type==="mat3"&&l.size===1&&o.a!==void 0},code:function(l){return`
            gl.uniformMatrix3fv(ud["`+l+'"].location, false, uv["'+l+`"].toArray(true));
            `}},{test:function(l,o){return l.type==="vec2"&&l.size===1&&o.x!==void 0},code:function(l){return`
                cv = ud["`+l+`"].value;
                v = uv["`+l+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+l+`"].location, v.x, v.y);
                }`}},{test:function(l){return l.type==="vec2"&&l.size===1},code:function(l){return`
                cv = ud["`+l+`"].value;
                v = uv["`+l+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+l+`"].location, v[0], v[1]);
                }
            `}},{test:function(l,o){return l.type==="vec4"&&l.size===1&&o.width!==void 0},code:function(l){return`
                cv = ud["`+l+`"].value;
                v = uv["`+l+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+l+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(l){return l.type==="vec4"&&l.size===1},code:function(l){return`
                cv = ud["`+l+`"].value;
                v = uv["`+l+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+l+`"].location, v[0], v[1], v[2], v[3])
                }`}}],nrt={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},irt={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function art(l,o){var a=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var u in l.uniforms){var f=o[u];if(!f){l.uniforms[u].group&&a.push(`
                    renderer.shader.syncUniformGroup(uv["`+u+`"], syncData);
                `);continue}for(var g=l.uniforms[u],v=!1,S=0;S<MP.length;S++)if(MP[S].test(f,g)){a.push(MP[S].code(u,g)),v=!0;break}if(!v){var w=f.size===1?nrt:irt,I=w[f.type].replace("location",'ud["'+u+'"].location');a.push(`
            cv = ud["`+u+`"].value;
            v = uv["`+u+`"];
            `+I+";")}}return new Function("ud","uv","renderer","syncData",a.join(`
`))}var ort=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function srt(l){for(var o="",a=0;a<l;++a)a>0&&(o+=`
else `),a<l-1&&(o+="if(test == "+a+".0){}");return o}function uhe(l,o){if(l===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var a=o.createShader(o.FRAGMENT_SHADER);;){var u=ort.replace(/%forloop%/gi,srt(l));if(o.shaderSource(a,u),o.compileShader(a),!o.getShaderParameter(a,o.COMPILE_STATUS))l=l/2|0;else break}return l}var zC;function lrt(){if(typeof zC=="boolean")return zC;try{var l=new Function("param1","param2","param3","return param1[param2] === param3;");zC=l({a:"b"},"a","b")===!0}catch{zC=!1}return zC}var urt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,crt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,hrt=0,cP={},MA=(function(){function l(o,a,u){u===void 0&&(u="pixi-shader"),this.id=hrt++,this.vertexSrc=o||l.defaultVertexSrc,this.fragmentSrc=a||l.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(u=u.replace(/\s+/g,"-"),cP[u]?(cP[u]++,u+="-"+cP[u]):cP[u]=1,this.vertexSrc="#define SHADER_NAME "+u+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+u+`
`+this.fragmentSrc,this.vertexSrc=nse(this.vertexSrc,Gr.PRECISION_VERTEX,Pc.HIGH),this.fragmentSrc=nse(this.fragmentSrc,Gr.PRECISION_FRAGMENT,ert())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return l.prototype.extractData=function(o,a){var u=lhe();if(u){var f=ahe(u,o,a);this.attributeData=this.getAttributeData(f,u),this.uniformData=this.getUniformData(f,u),u.deleteProgram(f)}else this.uniformData={},this.attributeData={}},l.prototype.getAttributeData=function(o,a){for(var u={},f=[],g=a.getProgramParameter(o,a.ACTIVE_ATTRIBUTES),v=0;v<g;v++){var S=a.getActiveAttrib(o,v),w=ase(a,S.type),I={type:w,name:S.name,size:rrt(w),location:0};u[S.name]=I,f.push(I)}f.sort(function(k,F){return k.name>F.name?1:-1});for(var v=0;v<f.length;v++)f[v].location=v;return u},l.prototype.getUniformData=function(o,a){for(var u={},f=a.getProgramParameter(o,a.ACTIVE_UNIFORMS),g=0;g<f;g++){var v=a.getActiveUniform(o,g),S=v.name.replace(/\[.*?\]$/,""),w=v.name.match(/\[.*?\]$/),I=ase(a,v.type);u[S]={type:I,size:v.size,isArray:w,value:ohe(I,v.size)}}return u},Object.defineProperty(l,"defaultVertexSrc",{get:function(){return crt},enumerable:!1,configurable:!0}),Object.defineProperty(l,"defaultFragmentSrc",{get:function(){return urt},enumerable:!1,configurable:!0}),l.from=function(o,a,u){var f=o+a,g=uH[f];return g||(uH[f]=g=new l(o,a,u)),g},l})(),rm=(function(){function l(o,a){this.program=o,a?a instanceof Qp?this.uniformGroup=a:this.uniformGroup=new Qp(a):this.uniformGroup=new Qp({});for(var u in o.uniformData)this.uniformGroup.uniforms[u]instanceof Array&&(this.uniformGroup.uniforms[u]=new Float32Array(this.uniformGroup.uniforms[u]))}return l.prototype.checkUniformExists=function(o,a){if(a.uniforms[o])return!0;for(var u in a.uniforms){var f=a.uniforms[u];if(f.group&&this.checkUniformExists(o,f))return!0}return!1},l.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(l.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),l.from=function(o,a,u){var f=MA.from(o,a);return new l(f,u)},l})(),F8=0,U8=1,H8=2,$8=3,G8=4,z8=5,im=(function(){function l(){this.data=0,this.blendMode=Wr.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(l.prototype,"blend",{get:function(){return!!(this.data&1<<F8)},set:function(o){!!(this.data&1<<F8)!==o&&(this.data^=1<<F8)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"offsets",{get:function(){return!!(this.data&1<<U8)},set:function(o){!!(this.data&1<<U8)!==o&&(this.data^=1<<U8)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"culling",{get:function(){return!!(this.data&1<<H8)},set:function(o){!!(this.data&1<<H8)!==o&&(this.data^=1<<H8)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"depthTest",{get:function(){return!!(this.data&1<<$8)},set:function(o){!!(this.data&1<<$8)!==o&&(this.data^=1<<$8)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"depthMask",{get:function(){return!!(this.data&1<<z8)},set:function(o){!!(this.data&1<<z8)!==o&&(this.data^=1<<z8)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<G8)},set:function(o){!!(this.data&1<<G8)!==o&&(this.data^=1<<G8)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"blendMode",{get:function(){return this._blendMode},set:function(o){this.blend=o!==Wr.NONE,this._blendMode=o},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(o){this.offsets=!!o,this._polygonOffset=o},enumerable:!1,configurable:!0}),l.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},l.for2d=function(){var o=new l;return o.depthTest=!1,o.blend=!0,o},l})(),frt=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,drt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,cd=(function(l){Sn(o,l);function o(a,u,f){var g=this,v=MA.from(a||o.defaultVertexSrc,u||o.defaultFragmentSrc);return g=l.call(this,v,f)||this,g.padding=0,g.resolution=Gr.FILTER_RESOLUTION,g.enabled=!0,g.autoFit=!0,g.legacy=!!g.program.attributeData.aTextureCoord,g.state=new im,g}return o.prototype.apply=function(a,u,f,g,v){a.applyFilter(this,u,f,g)},Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultVertexSrc",{get:function(){return frt},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultFragmentSrc",{get:function(){return drt},enumerable:!1,configurable:!0}),o})(rm),prt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,mrt=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ose=new Ha,SR=(function(){function l(o,a){this._texture=o,this.mapCoord=new Ha,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof a>"u"?.5:a,this.isSimple=!1}return Object.defineProperty(l.prototype,"texture",{get:function(){return this._texture},set:function(o){this._texture=o,this._textureID=-1},enumerable:!1,configurable:!0}),l.prototype.multiplyUvs=function(o,a){a===void 0&&(a=o);for(var u=this.mapCoord,f=0;f<o.length;f+=2){var g=o[f],v=o[f+1];a[f]=g*u.a+v*u.c+u.tx,a[f+1]=g*u.b+v*u.d+u.ty}return a},l.prototype.update=function(o){var a=this._texture;if(!a||!a.valid||!o&&this._textureID===a._updateID)return!1;this._textureID=a._updateID,this._updateID++;var u=a._uvs;this.mapCoord.set(u.x1-u.x0,u.y1-u.y0,u.x3-u.x0,u.y3-u.y0,u.x0,u.y0);var f=a.orig,g=a.trim;g&&(ose.set(f.width/g.width,0,0,f.height/g.height,-g.x/g.width,-g.y/g.height),this.mapCoord.append(ose));var v=a.baseTexture,S=this.uClampFrame,w=this.clampMargin/v.resolution,I=this.clampOffset;return S[0]=(a._frame.x+w+I)/v.width,S[1]=(a._frame.y+w+I)/v.height,S[2]=(a._frame.x+a._frame.width-w+I)/v.width,S[3]=(a._frame.y+a._frame.height-w+I)/v.height,this.uClampOffset[0]=I/v.realWidth,this.uClampOffset[1]=I/v.realHeight,this.isSimple=a._frame.width===v.width&&a._frame.height===v.height&&a.rotate===0,!0},l})(),che=(function(l){Sn(o,l);function o(a){var u=this,f=new Ha;return u=l.call(this,prt,mrt)||this,a.renderable=!1,u.maskSprite=a,u.maskMatrix=f,u}return o.prototype.apply=function(a,u,f,g){var v=this.maskSprite,S=v._texture;S.valid&&(S.uvMatrix||(S.uvMatrix=new SR(S,0)),S.uvMatrix.update(),this.uniforms.npmAlpha=S.baseTexture.alphaMode?0:1,this.uniforms.mask=S,this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,v).prepend(S.uvMatrix.mapCoord),this.uniforms.alpha=v.worldAlpha,this.uniforms.maskClamp=S.uvMatrix.uClampFrame,a.applyFilter(this,u,f,g))},o})(cd),Q$=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.enableScissor=!0,u.alphaMaskPool=[],u.maskDataPool=[],u.maskStack=[],u.alphaMaskIndex=0,u}return o.prototype.setMaskStack=function(a){this.maskStack=a,this.renderer.scissor.setMaskStack(a),this.renderer.stencil.setMaskStack(a)},o.prototype.push=function(a,u){var f=u;if(!f.isMaskData){var g=this.maskDataPool.pop()||new ihe;g.pooled=!0,g.maskObject=u,f=g}switch(f.autoDetect&&this.detect(f),f.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),f._target=a,f.type){case fl.SCISSOR:this.maskStack.push(f),this.renderer.scissor.push(f);break;case fl.STENCIL:this.maskStack.push(f),this.renderer.stencil.push(f);break;case fl.SPRITE:f.copyCountersOrReset(null),this.pushSpriteMask(f),this.maskStack.push(f);break}},o.prototype.pop=function(a){var u=this.maskStack.pop();if(!(!u||u._target!==a)){switch(u.type){case fl.SCISSOR:this.renderer.scissor.pop();break;case fl.STENCIL:this.renderer.stencil.pop(u.maskObject);break;case fl.SPRITE:this.popSpriteMask();break}u.reset(),u.pooled&&this.maskDataPool.push(u)}},o.prototype.detect=function(a){var u=a.maskObject;if(u.isSprite){a.type=fl.SPRITE;return}if(a.type=fl.STENCIL,this.enableScissor&&u.isFastRect&&u.isFastRect()){var f=u.worldTransform,g=Math.atan2(f.b,f.a),v=Math.atan2(f.d,f.c);g=Math.round(g*(180/Math.PI)*100),v=Math.round(v*(180/Math.PI)*100)-g,g=(g%9e3+9e3)%9e3,v=(v%18e3+18e3)%18e3,g===0&&v===9e3&&(a.type=fl.SCISSOR)}},o.prototype.pushSpriteMask=function(a){var u=a.maskObject,f=a._target,g=this.alphaMaskPool[this.alphaMaskIndex];g||(g=this.alphaMaskPool[this.alphaMaskIndex]=[new che(u)]),g[0].resolution=this.renderer.resolution,g[0].maskSprite=u;var v=f.filterArea;f.filterArea=u.getBounds(!0),this.renderer.filter.push(f,g),f.filterArea=v,this.alphaMaskIndex++},o.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},o})(pl),hhe=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.maskStack=[],u.glConst=0,u}return o.prototype.getStackLength=function(){return this.maskStack.length},o.prototype.setMaskStack=function(a){var u=this.renderer.gl,f=this.getStackLength();this.maskStack=a;var g=this.getStackLength();g!==f&&(g===0?u.disable(this.glConst):(u.enable(this.glConst),this._useCurrent()))},o.prototype._useCurrent=function(){},o.prototype.destroy=function(){l.prototype.destroy.call(this),this.maskStack=null},o})(pl),J$=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.glConst=WebGLRenderingContext.SCISSOR_TEST,u}return o.prototype.getStackLength=function(){var a=this.maskStack[this.maskStack.length-1];return a?a._scissorCounter:0},o.prototype.push=function(a){var u=a.maskObject;u.renderable=!0;var f=a._scissorRect,g=u.getBounds(!0),v=this.renderer.gl;u.renderable=!1,f?g.fit(f):v.enable(v.SCISSOR_TEST),a._scissorCounter++,a._scissorRect=g,this._useCurrent()},o.prototype.pop=function(){var a=this.renderer.gl;this.getStackLength()>0?this._useCurrent():a.disable(a.SCISSOR_TEST)},o.prototype._useCurrent=function(){var a=this.maskStack[this.maskStack.length-1]._scissorRect,u=this.renderer.renderTexture.current,f=this.renderer.projection,g=f.transform,v=f.sourceFrame,S=f.destinationFrame,w=u?u.resolution:this.renderer.resolution,I=S.width/v.width,k=S.height/v.height,F=((a.x-v.x)*I+S.x)*w,U=((a.y-v.y)*k+S.y)*w,N=a.width*I*w,H=a.height*k*w;g&&(F+=g.tx*w,U+=g.ty*w),u||(U=this.renderer.height-H-U),this.renderer.gl.scissor(F,U,N,H)},o})(hhe),e9=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.glConst=WebGLRenderingContext.STENCIL_TEST,u}return o.prototype.getStackLength=function(){var a=this.maskStack[this.maskStack.length-1];return a?a._stencilCounter:0},o.prototype.push=function(a){var u=a.maskObject,f=this.renderer.gl,g=a._stencilCounter;g===0&&(this.renderer.framebuffer.forceStencil(),f.enable(f.STENCIL_TEST)),a._stencilCounter++,f.colorMask(!1,!1,!1,!1),f.stencilFunc(f.EQUAL,g,this._getBitwiseMask()),f.stencilOp(f.KEEP,f.KEEP,f.INCR),u.renderable=!0,u.render(this.renderer),this.renderer.batch.flush(),this.renderer.framebuffer.blit(),u.renderable=!1,this._useCurrent()},o.prototype.pop=function(a){var u=this.renderer.gl;this.getStackLength()===0?(u.disable(u.STENCIL_TEST),u.clear(u.STENCIL_BUFFER_BIT),u.clearStencil(0)):(u.colorMask(!1,!1,!1,!1),u.stencilOp(u.KEEP,u.KEEP,u.DECR),a.renderable=!0,a.render(this.renderer),this.renderer.batch.flush(),a.renderable=!1,this._useCurrent())},o.prototype._useCurrent=function(){var a=this.renderer.gl;a.colorMask(!0,!0,!0,!0),a.stencilFunc(a.EQUAL,this.getStackLength(),this._getBitwiseMask()),a.stencilOp(a.KEEP,a.KEEP,a.KEEP)},o.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},o})(hhe),t9=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.destinationFrame=null,u.sourceFrame=null,u.defaultFrame=null,u.projectionMatrix=new Ha,u.transform=null,u}return o.prototype.update=function(a,u,f,g){this.destinationFrame=a||this.destinationFrame||this.defaultFrame,this.sourceFrame=u||this.sourceFrame||a,this.calculateProjection(this.destinationFrame,this.sourceFrame,f,g),this.transform&&this.projectionMatrix.append(this.transform);var v=this.renderer;v.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,v.globalUniforms.update(),v.shader.shader&&v.shader.syncUniformGroup(v.shader.shader.uniforms.globals)},o.prototype.calculateProjection=function(a,u,f,g){var v=this.projectionMatrix,S=g?-1:1;v.identity(),v.a=1/u.width*2,v.d=S*(1/u.height*2),v.tx=-1-u.x*v.a,v.ty=-S-u.y*v.d},o.prototype.setTransform=function(a){},o})(pl),mv=new Zn,jC=new Zn,r9=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.clearColor=a._backgroundColorRgba,u.defaultMaskStack=[],u.current=null,u.sourceFrame=new Zn,u.destinationFrame=new Zn,u.viewportFrame=new Zn,u}return o.prototype.bind=function(a,u,f){a===void 0&&(a=null);var g=this.renderer;this.current=a;var v,S,w;a?(v=a.baseTexture,w=v.resolution,u||(mv.width=a.frame.width,mv.height=a.frame.height,u=mv),f||(jC.x=a.frame.x,jC.y=a.frame.y,jC.width=u.width,jC.height=u.height,f=jC),S=v.framebuffer):(w=g.resolution,u||(mv.width=g.screen.width,mv.height=g.screen.height,u=mv),f||(f=mv,f.width=u.width,f.height=u.height));var I=this.viewportFrame;I.x=f.x*w,I.y=f.y*w,I.width=f.width*w,I.height=f.height*w,a||(I.y=g.view.height-(I.y+I.height)),this.renderer.framebuffer.bind(S,I),this.renderer.projection.update(f,u,w,!S),a?this.renderer.mask.setMaskStack(v.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(u),this.destinationFrame.copyFrom(f)},o.prototype.clear=function(a,u){this.current?a=a||this.current.baseTexture.clearColor:a=a||this.clearColor;var f=this.destinationFrame,g=this.current?this.current.baseTexture:this.renderer.screen,v=f.width!==g.width||f.height!==g.height;if(v){var S=this.viewportFrame,w=S.x,I=S.y,k=S.width,F=S.height;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(w,I,k,F)}this.renderer.framebuffer.clear(a[0],a[1],a[2],a[3],u),v&&this.renderer.scissor.pop()},o.prototype.resize=function(){this.bind(null)},o.prototype.reset=function(){this.bind(null)},o})(pl),grt=(function(){function l(){}return l})(),fhe=(function(){function l(o,a){this.program=o,this.uniformData=a,this.uniformGroups={}}return l.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},l})(),vrt=0,sse={textureCount:0},n9=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.destroyed=!1,u.systemCheck(),u.gl=null,u.shader=null,u.program=null,u.cache={},u.id=vrt++,u}return o.prototype.systemCheck=function(){if(!lrt())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},o.prototype.contextChange=function(a){this.gl=a,this.reset()},o.prototype.bind=function(a,u){a.uniforms.globals=this.renderer.globalUniforms;var f=a.program,g=f.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(a);return this.shader=a,this.program!==f&&(this.program=f,this.gl.useProgram(g.program)),u||(sse.textureCount=0,this.syncUniformGroup(a.uniformGroup,sse)),g},o.prototype.setUniforms=function(a){var u=this.shader.program,f=u.glPrograms[this.renderer.CONTEXT_UID];u.syncUniforms(f.uniformData,a,this.renderer)},o.prototype.syncUniformGroup=function(a,u){var f=this.getglProgram();(!a.static||a.dirtyId!==f.uniformGroups[a.id])&&(f.uniformGroups[a.id]=a.dirtyId,this.syncUniforms(a,f,u))},o.prototype.syncUniforms=function(a,u,f){var g=a.syncUniforms[this.shader.program.id]||this.createSyncGroups(a);g(u.uniformData,a.uniforms,this.renderer,f)},o.prototype.createSyncGroups=function(a){var u=this.getSignature(a,this.shader.program.uniformData);return this.cache[u]||(this.cache[u]=art(a,this.shader.program.uniformData)),a.syncUniforms[this.shader.program.id]=this.cache[u],a.syncUniforms[this.shader.program.id]},o.prototype.getSignature=function(a,u){var f=a.uniforms,g=[];for(var v in f)g.push(v),u[v]&&g.push(u[v].type);return g.join("-")},o.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},o.prototype.generateShader=function(a){var u=this.gl,f=a.program,g={};for(var v in f.attributeData)g[v]=f.attributeData[v].location;var S=ahe(u,f.vertexSrc,f.fragmentSrc,g),w={};for(var v in f.uniformData){var I=f.uniformData[v];w[v]={location:u.getUniformLocation(S,v),value:ohe(I.type,I.size)}}var k=new fhe(S,w);return f.glPrograms[this.renderer.CONTEXT_UID]=k,k},o.prototype.reset=function(){this.program=null,this.shader=null},o.prototype.destroy=function(){this.destroyed=!0},o})(pl);function yrt(l,o){return o===void 0&&(o=[]),o[Wr.NORMAL]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.ADD]=[l.ONE,l.ONE],o[Wr.MULTIPLY]=[l.DST_COLOR,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.SCREEN]=[l.ONE,l.ONE_MINUS_SRC_COLOR,l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.OVERLAY]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.DARKEN]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.LIGHTEN]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.COLOR_DODGE]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.COLOR_BURN]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.HARD_LIGHT]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.SOFT_LIGHT]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.DIFFERENCE]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.EXCLUSION]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.HUE]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.SATURATION]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.COLOR]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.LUMINOSITY]=[l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.NONE]=[0,0],o[Wr.NORMAL_NPM]=[l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.ADD_NPM]=[l.SRC_ALPHA,l.ONE,l.ONE,l.ONE],o[Wr.SCREEN_NPM]=[l.SRC_ALPHA,l.ONE_MINUS_SRC_COLOR,l.ONE,l.ONE_MINUS_SRC_ALPHA],o[Wr.SRC_IN]=[l.DST_ALPHA,l.ZERO],o[Wr.SRC_OUT]=[l.ONE_MINUS_DST_ALPHA,l.ZERO],o[Wr.SRC_ATOP]=[l.DST_ALPHA,l.ONE_MINUS_SRC_ALPHA],o[Wr.DST_OVER]=[l.ONE_MINUS_DST_ALPHA,l.ONE],o[Wr.DST_IN]=[l.ZERO,l.SRC_ALPHA],o[Wr.DST_OUT]=[l.ZERO,l.ONE_MINUS_SRC_ALPHA],o[Wr.DST_ATOP]=[l.ONE_MINUS_DST_ALPHA,l.SRC_ALPHA],o[Wr.XOR]=[l.ONE_MINUS_DST_ALPHA,l.ONE_MINUS_SRC_ALPHA],o[Wr.SUBTRACT]=[l.ONE,l.ONE,l.ONE,l.ONE,l.FUNC_REVERSE_SUBTRACT,l.FUNC_ADD],o}var _rt=0,Ert=1,Trt=2,brt=3,Srt=4,Crt=5,i9=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.gl=null,u.stateId=0,u.polygonOffset=0,u.blendMode=Wr.NONE,u._blendEq=!1,u.map=[],u.map[_rt]=u.setBlend,u.map[Ert]=u.setOffset,u.map[Trt]=u.setCullFace,u.map[brt]=u.setDepthTest,u.map[Srt]=u.setFrontFace,u.map[Crt]=u.setDepthMask,u.checks=[],u.defaultState=new im,u.defaultState.blend=!0,u}return o.prototype.contextChange=function(a){this.gl=a,this.blendModes=yrt(a),this.set(this.defaultState),this.reset()},o.prototype.set=function(a){if(a=a||this.defaultState,this.stateId!==a.data){for(var u=this.stateId^a.data,f=0;u;)u&1&&this.map[f].call(this,!!(a.data&1<<f)),u=u>>1,f++;this.stateId=a.data}for(var f=0;f<this.checks.length;f++)this.checks[f](this,a)},o.prototype.forceState=function(a){a=a||this.defaultState;for(var u=0;u<this.map.length;u++)this.map[u].call(this,!!(a.data&1<<u));for(var u=0;u<this.checks.length;u++)this.checks[u](this,a);this.stateId=a.data},o.prototype.setBlend=function(a){this.updateCheck(o.checkBlendMode,a),this.gl[a?"enable":"disable"](this.gl.BLEND)},o.prototype.setOffset=function(a){this.updateCheck(o.checkPolygonOffset,a),this.gl[a?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},o.prototype.setDepthTest=function(a){this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST)},o.prototype.setDepthMask=function(a){this.gl.depthMask(a)},o.prototype.setCullFace=function(a){this.gl[a?"enable":"disable"](this.gl.CULL_FACE)},o.prototype.setFrontFace=function(a){this.gl.frontFace(this.gl[a?"CW":"CCW"])},o.prototype.setBlendMode=function(a){if(a!==this.blendMode){this.blendMode=a;var u=this.blendModes[a],f=this.gl;u.length===2?f.blendFunc(u[0],u[1]):f.blendFuncSeparate(u[0],u[1],u[2],u[3]),u.length===6?(this._blendEq=!0,f.blendEquationSeparate(u[4],u[5])):this._blendEq&&(this._blendEq=!1,f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD))}},o.prototype.setPolygonOffset=function(a,u){this.gl.polygonOffset(a,u)},o.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},o.prototype.updateCheck=function(a,u){var f=this.checks.indexOf(a);u&&f===-1?this.checks.push(a):!u&&f!==-1&&this.checks.splice(f,1)},o.checkBlendMode=function(a,u){a.setBlendMode(u.blendMode)},o.checkPolygonOffset=function(a,u){a.setPolygonOffset(1,u.polygonOffset)},o})(pl),a9=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.count=0,u.checkCount=0,u.maxIdle=Gr.GC_MAX_IDLE,u.checkCountMax=Gr.GC_MAX_CHECK_COUNT,u.mode=Gr.GC_MODE,u}return o.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==WP.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},o.prototype.run=function(){for(var a=this.renderer.texture,u=a.managedTextures,f=!1,g=0;g<u.length;g++){var v=u[g];!v.framebuffer&&this.count-v.touched>this.maxIdle&&(a.destroyTexture(v,!0),u[g]=null,f=!0)}if(f){for(var S=0,g=0;g<u.length;g++)u[g]!==null&&(u[S++]=u[g]);u.length=S}},o.prototype.unload=function(a){var u=this.renderer.texture,f=a._texture;f&&!f.framebuffer&&u.destroyTexture(f);for(var g=a.children.length-1;g>=0;g--)this.unload(a.children[g])},o})(pl),LP=(function(){function l(o){this.texture=o,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121,this.samplerType=0}return l})(),o9=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.boundTextures=[],u.currentLocation=-1,u.managedTextures=[],u._unknownBoundTextures=!1,u.unknownTexture=new Ii,u.hasIntegerTextures=!1,u}return o.prototype.contextChange=function(){var a=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var u=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=u;for(var f=0;f<u;f++)this.boundTextures[f]=null;this.emptyTextures={};var g=new LP(a.createTexture());a.bindTexture(a.TEXTURE_2D,g.texture),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[a.TEXTURE_2D]=g,this.emptyTextures[a.TEXTURE_CUBE_MAP]=new LP(a.createTexture()),a.bindTexture(a.TEXTURE_CUBE_MAP,this.emptyTextures[a.TEXTURE_CUBE_MAP].texture);for(var f=0;f<6;f++)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,null);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR);for(var f=0;f<this.boundTextures.length;f++)this.bind(null,f)},o.prototype.bind=function(a,u){u===void 0&&(u=0);var f=this.gl;if(a){if(a=a.castToBaseTexture(),a.parentTextureArray)return;if(a.valid){a.touched=this.renderer.textureGC.count;var g=a._glTextures[this.CONTEXT_UID]||this.initTexture(a);this.boundTextures[u]!==a&&(this.currentLocation!==u&&(this.currentLocation=u,f.activeTexture(f.TEXTURE0+u)),f.bindTexture(a.target,g.texture)),g.dirtyId!==a.dirtyId&&(this.currentLocation!==u&&(this.currentLocation=u,f.activeTexture(f.TEXTURE0+u)),this.updateTexture(a)),this.boundTextures[u]=a}}else this.currentLocation!==u&&(this.currentLocation=u,f.activeTexture(f.TEXTURE0+u)),f.bindTexture(f.TEXTURE_2D,this.emptyTextures[f.TEXTURE_2D].texture),this.boundTextures[u]=null},o.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.unknownTexture},o.prototype.unbind=function(a){var u=this,f=u.gl,g=u.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var v=0;v<g.length;v++)g[v]===this.unknownTexture&&this.bind(null,v)}for(var v=0;v<g.length;v++)g[v]===a&&(this.currentLocation!==v&&(f.activeTexture(f.TEXTURE0+v),this.currentLocation=v),f.bindTexture(a.target,this.emptyTextures[a.target].texture),g[v]=null)},o.prototype.ensureSamplerType=function(a){var u=this,f=u.boundTextures,g=u.hasIntegerTextures,v=u.CONTEXT_UID;if(g)for(var S=a-1;S>=0;--S){var w=f[S];if(w){var I=w._glTextures[v];I.samplerType!==_A.FLOAT&&this.renderer.texture.unbind(w)}}},o.prototype.initTexture=function(a){var u=new LP(this.gl.createTexture());return u.dirtyId=-1,a._glTextures[this.CONTEXT_UID]=u,this.managedTextures.push(a),a.on("dispose",this.destroyTexture,this),u},o.prototype.initTextureType=function(a,u){if(u.internalFormat=a.format,u.type=a.type,this.webGLVersion===2){var f=this.renderer.gl;a.type===f.FLOAT&&a.format===f.RGBA&&(u.internalFormat=f.RGBA32F),a.type===Di.HALF_FLOAT&&(u.type=f.HALF_FLOAT),u.type===f.HALF_FLOAT&&a.format===f.RGBA&&(u.internalFormat=f.RGBA16F)}},o.prototype.updateTexture=function(a){var u=a._glTextures[this.CONTEXT_UID];if(u){var f=this.renderer;if(this.initTextureType(a,u),a.resource&&a.resource.upload(f,a,u))u.samplerType!==_A.FLOAT&&(this.hasIntegerTextures=!0);else{var g=a.realWidth,v=a.realHeight,S=f.gl;(u.width!==g||u.height!==v||u.dirtyId<0)&&(u.width=g,u.height=v,S.texImage2D(a.target,0,u.internalFormat,g,v,0,a.format,u.type,null))}a.dirtyStyleId!==u.dirtyStyleId&&this.updateTextureStyle(a),u.dirtyId=a.dirtyId}},o.prototype.destroyTexture=function(a,u){var f=this.gl;if(a=a.castToBaseTexture(),a._glTextures[this.CONTEXT_UID]&&(this.unbind(a),f.deleteTexture(a._glTextures[this.CONTEXT_UID].texture),a.off("dispose",this.destroyTexture,this),delete a._glTextures[this.CONTEXT_UID],!u)){var g=this.managedTextures.indexOf(a);g!==-1&&Hv(this.managedTextures,g,1)}},o.prototype.updateTextureStyle=function(a){var u=a._glTextures[this.CONTEXT_UID];u&&((a.mipmap===ud.POW2||this.webGLVersion!==2)&&!a.isPowerOfTwo?u.mipmap=!1:u.mipmap=a.mipmap>=1,this.webGLVersion!==2&&!a.isPowerOfTwo?u.wrapMode=Wh.CLAMP:u.wrapMode=a.wrapMode,a.resource&&a.resource.style(this.renderer,a,u)||this.setStyle(a,u),u.dirtyStyleId=a.dirtyStyleId)},o.prototype.setStyle=function(a,u){var f=this.gl;if(u.mipmap&&a.mipmap!==ud.ON_MANUAL&&f.generateMipmap(a.target),f.texParameteri(a.target,f.TEXTURE_WRAP_S,u.wrapMode),f.texParameteri(a.target,f.TEXTURE_WRAP_T,u.wrapMode),u.mipmap){f.texParameteri(a.target,f.TEXTURE_MIN_FILTER,a.scaleMode===jh.LINEAR?f.LINEAR_MIPMAP_LINEAR:f.NEAREST_MIPMAP_NEAREST);var g=this.renderer.context.extensions.anisotropicFiltering;if(g&&a.anisotropicLevel>0&&a.scaleMode===jh.LINEAR){var v=Math.min(a.anisotropicLevel,f.getParameter(g.MAX_TEXTURE_MAX_ANISOTROPY_EXT));f.texParameterf(a.target,g.TEXTURE_MAX_ANISOTROPY_EXT,v)}}else f.texParameteri(a.target,f.TEXTURE_MIN_FILTER,a.scaleMode===jh.LINEAR?f.LINEAR:f.NEAREST);f.texParameteri(a.target,f.TEXTURE_MAG_FILTER,a.scaleMode===jh.LINEAR?f.LINEAR:f.NEAREST)},o})(pl),dhe={__proto__:null,FilterSystem:Y$,BatchSystem:X$,ContextSystem:q$,FramebufferSystem:K$,GeometrySystem:Z$,MaskSystem:Q$,ScissorSystem:J$,StencilSystem:e9,ProjectionSystem:t9,RenderTextureSystem:r9,ShaderSystem:n9,StateSystem:i9,TextureGCSystem:a9,TextureSystem:o9},j8=new Ha,phe=(function(l){Sn(o,l);function o(a,u){a===void 0&&(a=Z_.UNKNOWN);var f=l.call(this)||this;return u=Object.assign({},Gr.RENDER_OPTIONS,u),f.options=u,f.type=a,f.screen=new Zn(0,0,u.width,u.height),f.view=u.view||document.createElement("canvas"),f.resolution=u.resolution||Gr.RESOLUTION,f.useContextAlpha=u.useContextAlpha,f.autoDensity=!!u.autoDensity,f.preserveDrawingBuffer=u.preserveDrawingBuffer,f.clearBeforeRender=u.clearBeforeRender,f._backgroundColor=0,f._backgroundColorRgba=[0,0,0,1],f._backgroundColorString="#000000",f.backgroundColor=u.backgroundColor||f._backgroundColor,f.backgroundAlpha=u.backgroundAlpha,u.transparent!==void 0&&(Xv("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),f.useContextAlpha=u.transparent,f.backgroundAlpha=u.transparent?0:1),f._lastObjectRendered=null,f.plugins={},f}return o.prototype.initPlugins=function(a){for(var u in a)this.plugins[u]=new a[u](this)},Object.defineProperty(o.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),o.prototype.resize=function(a,u){this.screen.width=a,this.screen.height=u,this.view.width=a*this.resolution,this.view.height=u*this.resolution,this.autoDensity&&(this.view.style.width=a+"px",this.view.style.height=u+"px"),this.emit("resize",a,u)},o.prototype.generateTexture=function(a,u,f,g){g=g||a.getLocalBounds(null,!0),g.width===0&&(g.width=1),g.height===0&&(g.height=1);var v=tm.create({width:g.width|0,height:g.height|0,scaleMode:u,resolution:f});return j8.tx=-g.x,j8.ty=-g.y,this.render(a,{renderTexture:v,clear:!1,transform:j8,skipUpdateTransform:!!a.parent}),v},o.prototype.destroy=function(a){for(var u in this.plugins)this.plugins[u].destroy(),this.plugins[u]=null;a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var f=this;f.plugins=null,f.type=Z_.UNKNOWN,f.view=null,f.screen=null,f._tempDisplayObjectParent=null,f.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(o.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a,this._backgroundColorString=O$(a),Wv(a,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(a){this._backgroundColorRgba[3]=a},enumerable:!1,configurable:!0}),o})(rE),hd=(function(l){Sn(o,l);function o(a){var u=l.call(this,Z_.WEBGL,a)||this;return a=u.options,u.gl=null,u.CONTEXT_UID=0,u.runners={destroy:new Yo("destroy"),contextChange:new Yo("contextChange"),reset:new Yo("reset"),update:new Yo("update"),postrender:new Yo("postrender"),prerender:new Yo("prerender"),resize:new Yo("resize")},u.globalUniforms=new Qp({projectionMatrix:new Ha},!0),u.addSystem(Q$,"mask").addSystem(q$,"context").addSystem(i9,"state").addSystem(n9,"shader").addSystem(o9,"texture").addSystem(Z$,"geometry").addSystem(K$,"framebuffer").addSystem(J$,"scissor").addSystem(e9,"stencil").addSystem(t9,"projection").addSystem(a9,"textureGC").addSystem(Y$,"filter").addSystem(r9,"renderTexture").addSystem(X$,"batch"),u.initPlugins(o.__plugins),a.context?u.context.initFromContext(a.context):u.context.initFromOptions({alpha:!!u.useContextAlpha,antialias:a.antialias,premultipliedAlpha:u.useContextAlpha&&u.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:a.preserveDrawingBuffer,powerPreference:u.options.powerPreference}),u.renderingToScreen=!0,Pce(u.context.webGLVersion===2?"WebGL 2":"WebGL 1"),u.resize(u.options.width,u.options.height),u}return o.create=function(a){if(Rce())return new o(a);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},o.prototype.addSystem=function(a,u){u||(u=a.name);var f=new a(this);if(this[u])throw new Error('Whoops! The name "'+u+'" is already in use');this[u]=f;for(var g in this.runners)this.runners[g].add(f);return this},o.prototype.render=function(a,u){var f,g,v,S;if(u&&(u instanceof tm?(Xv("6.0.0","Renderer#render arguments changed, use options instead."),f=u,g=arguments[2],v=arguments[3],S=arguments[4]):(f=u.renderTexture,g=u.clear,v=u.transform,S=u.skipUpdateTransform)),this.renderingToScreen=!f,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=v,!this.context.isLost){if(f||(this._lastObjectRendered=a),!S){var w=a.enableTempParent();a.updateTransform(),a.disableTempParent(w)}this.renderTexture.bind(f),this.batch.currentRenderer.start(),(g!==void 0?g:this.clearBeforeRender)&&this.renderTexture.clear(),a.render(this),this.batch.currentRenderer.flush(),f&&f.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},o.prototype.resize=function(a,u){l.prototype.resize.call(this,a,u),this.runners.resize.emit(a,u)},o.prototype.reset=function(){return this.runners.reset.emit(),this},o.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},o.prototype.destroy=function(a){this.runners.destroy.emit();for(var u in this.runners)this.runners[u].destroy();l.prototype.destroy.call(this,a),this.gl=null},Object.defineProperty(o.prototype,"extract",{get:function(){return Xv("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),o.registerPlugin=function(a,u){o.__plugins=o.__plugins||{},o.__plugins[a]=u},o})(phe);function mhe(l){return hd.create(l)}var Art=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wrt=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,ghe=Art,s9=wrt,XP=(function(){function l(){this.texArray=null,this.blend=0,this.type=Pu.TRIANGLES,this.start=0,this.size=0,this.data=null}return l})(),qP=(function(){function l(){this.elements=[],this.ids=[],this.count=0}return l.prototype.clear=function(){for(var o=0;o<this.count;o++)this.elements[o]=null;this.count=0},l})(),KP=(function(){function l(o){typeof o=="number"?this.rawBinaryData=new ArrayBuffer(o):o instanceof Uint8Array?this.rawBinaryData=o.buffer:this.rawBinaryData=o,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(l.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),l.prototype.view=function(o){return this[o+"View"]},l.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},l.sizeOf=function(o){switch(o){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(o+" isn't a valid view type")}},l})(),vhe=(function(l){Sn(o,l);function o(a){var u=l.call(this,a)||this;return u.shaderGenerator=null,u.geometryClass=null,u.vertexSize=null,u.state=im.for2d(),u.size=Gr.SPRITE_BATCH_SIZE*4,u._vertexCount=0,u._indexCount=0,u._bufferedElements=[],u._bufferedTextures=[],u._bufferSize=0,u._shader=null,u._packedGeometries=[],u._packedGeometryPoolSize=2,u._flushId=0,u._aBuffers={},u._iBuffers={},u.MAX_TEXTURES=1,u.renderer.on("prerender",u.onPrerender,u),a.runners.contextChange.add(u),u._dcIndex=0,u._aIndex=0,u._iIndex=0,u._attributeBuffer=null,u._indexBuffer=null,u._tempBoundTextures=[],u}return o.prototype.contextChange=function(){var a=this.renderer.gl;Gr.PREFER_ENV===Xh.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),Gr.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=uhe(this.MAX_TEXTURES,a)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var u=0;u<this._packedGeometryPoolSize;u++)this._packedGeometries[u]=new this.geometryClass;this.initFlushBuffers()},o.prototype.initFlushBuffers=function(){for(var a=o._drawCallPool,u=o._textureArrayPool,f=this.size/4,g=Math.floor(f/this.MAX_TEXTURES)+1;a.length<f;)a.push(new XP);for(;u.length<g;)u.push(new qP);for(var v=0;v<this.MAX_TEXTURES;v++)this._tempBoundTextures[v]=null},o.prototype.onPrerender=function(){this._flushId=0},o.prototype.render=function(a){a._texture.valid&&(this._vertexCount+a.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=a.vertexData.length/2,this._indexCount+=a.indices.length,this._bufferedTextures[this._bufferSize]=a._texture.baseTexture,this._bufferedElements[this._bufferSize++]=a)},o.prototype.buildTexturesAndDrawCalls=function(){var a=this,u=a._bufferedTextures,f=a.MAX_TEXTURES,g=o._textureArrayPool,v=this.renderer.batch,S=this._tempBoundTextures,w=this.renderer.textureGC.count,I=++Ii._globalBatch,k=0,F=g[0],U=0;v.copyBoundTextures(S,f);for(var N=0;N<this._bufferSize;++N){var H=u[N];u[N]=null,H._batchEnabled!==I&&(F.count>=f&&(v.boundArray(F,S,I,f),this.buildDrawCalls(F,U,N),U=N,F=g[++k],++I),H._batchEnabled=I,H.touched=w,F.elements[F.count++]=H)}F.count>0&&(v.boundArray(F,S,I,f),this.buildDrawCalls(F,U,this._bufferSize),++k,++I);for(var N=0;N<S.length;N++)S[N]=null;Ii._globalBatch=I},o.prototype.buildDrawCalls=function(a,u,f){var g=this,v=g._bufferedElements,S=g._attributeBuffer,w=g._indexBuffer,I=g.vertexSize,k=o._drawCallPool,F=this._dcIndex,U=this._aIndex,N=this._iIndex,H=k[F];H.start=this._iIndex,H.texArray=a;for(var q=u;q<f;++q){var j=v[q],se=j._texture.baseTexture,he=P$[se.alphaMode?1:0][j.blendMode];v[q]=null,u<q&&H.blend!==he&&(H.size=N-H.start,u=q,H=k[++F],H.texArray=a,H.start=N),this.packInterleavedGeometry(j,S,w,U,N),U+=j.vertexData.length/2*I,N+=j.indices.length,H.blend=he}u<f&&(H.size=N-H.start,++F),this._dcIndex=F,this._aIndex=U,this._iIndex=N},o.prototype.bindAndClearTexArray=function(a){for(var u=this.renderer.texture,f=0;f<a.count;f++)u.bind(a.elements[f],a.ids[f]),a.elements[f]=null;a.count=0},o.prototype.updateGeometry=function(){var a=this,u=a._packedGeometries,f=a._attributeBuffer,g=a._indexBuffer;Gr.CAN_UPLOAD_SAME_BUFFER?(u[this._flushId]._buffer.update(f.rawBinaryData),u[this._flushId]._indexBuffer.update(g),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,u[this._flushId]=new this.geometryClass),u[this._flushId]._buffer.update(f.rawBinaryData),u[this._flushId]._indexBuffer.update(g),this.renderer.geometry.bind(u[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},o.prototype.drawBatches=function(){for(var a=this._dcIndex,u=this.renderer,f=u.gl,g=u.state,v=o._drawCallPool,S=null,w=0;w<a;w++){var I=v[w],k=I.texArray,F=I.type,U=I.size,N=I.start,H=I.blend;S!==k&&(S=k,this.bindAndClearTexArray(k)),this.state.blendMode=H,g.set(this.state),f.drawElements(F,U,f.UNSIGNED_SHORT,N*2)}},o.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},o.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Gr.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},o.prototype.stop=function(){this.flush()},o.prototype.destroy=function(){for(var a=0;a<this._packedGeometryPoolSize;a++)this._packedGeometries[a]&&this._packedGeometries[a].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),l.prototype.destroy.call(this)},o.prototype.getAttributeBuffer=function(a){var u=EA(Math.ceil(a/8)),f=lH(u),g=u*8;this._aBuffers.length<=f&&(this._iBuffers.length=f+1);var v=this._aBuffers[g];return v||(this._aBuffers[g]=v=new KP(g*this.vertexSize*4)),v},o.prototype.getIndexBuffer=function(a){var u=EA(Math.ceil(a/12)),f=lH(u),g=u*12;this._iBuffers.length<=f&&(this._iBuffers.length=f+1);var v=this._iBuffers[f];return v||(this._iBuffers[f]=v=new Uint16Array(g)),v},o.prototype.packInterleavedGeometry=function(a,u,f,g,v){for(var S=u.uint32View,w=u.float32View,I=g/this.vertexSize,k=a.uvs,F=a.indices,U=a.vertexData,N=a._texture.baseTexture._batchLocation,H=Math.min(a.worldAlpha,1),q=H<1&&a._texture.baseTexture.alphaMode?vR(a._tintRGB,H):a._tintRGB+(H*255<<24),j=0;j<U.length;j+=2)w[g++]=U[j],w[g++]=U[j+1],w[g++]=k[j],w[g++]=k[j+1],S[g++]=q,w[g++]=N;for(var j=0;j<F.length;j++)f[v++]=I+F[j]},o._drawCallPool=[],o._textureArrayPool=[],o})(NA),yhe=(function(){function l(o,a){if(this.vertexSrc=o,this.fragTemplate=a,this.programCache={},this.defaultGroupCache={},a.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(a.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return l.prototype.generateShader=function(o){if(!this.programCache[o]){for(var a=new Int32Array(o),u=0;u<o;u++)a[u]=u;this.defaultGroupCache[o]=Qp.from({uSamplers:a},!0);var f=this.fragTemplate;f=f.replace(/%count%/gi,""+o),f=f.replace(/%forloop%/gi,this.generateSampleSrc(o)),this.programCache[o]=new MA(this.vertexSrc,f)}var g={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ha,default:this.defaultGroupCache[o]};return new rm(this.programCache[o],g)},l.prototype.generateSampleSrc=function(o){var a="";a+=`
`,a+=`
`;for(var u=0;u<o;u++)u>0&&(a+=`
else `),u<o-1&&(a+="if(vTextureId < "+u+".5)"),a+=`
{`,a+=`
	color = texture2D(uSamplers[`+u+"], vTextureCoord);",a+=`
}`;return a+=`
`,a+=`
`,a},l})(),l9=(function(l){Sn(o,l);function o(a){a===void 0&&(a=!1);var u=l.call(this)||this;return u._buffer=new Co(null,a,!1),u._indexBuffer=new Co(null,a,!0),u.addAttribute("aVertexPosition",u._buffer,2,!1,Di.FLOAT).addAttribute("aTextureCoord",u._buffer,2,!1,Di.FLOAT).addAttribute("aColor",u._buffer,4,!0,Di.UNSIGNED_BYTE).addAttribute("aTextureId",u._buffer,1,!0,Di.FLOAT).addIndex(u._indexBuffer),u}return o})(aE),lse=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,use=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,_he=(function(){function l(){}return l.create=function(o){var a=Object.assign({vertex:lse,fragment:use,geometryClass:l9,vertexSize:6},o),u=a.vertex,f=a.fragment,g=a.vertexSize,v=a.geometryClass;return(function(S){Sn(w,S);function w(I){var k=S.call(this,I)||this;return k.shaderGenerator=new yhe(u,f),k.geometryClass=v,k.vertexSize=g,k}return w})(vhe)},Object.defineProperty(l,"defaultVertexSrc",{get:function(){return lse},enumerable:!1,configurable:!0}),Object.defineProperty(l,"defaultFragmentTemplate",{get:function(){return use},enumerable:!1,configurable:!0}),l})(),Ehe=_he.create(),The={},xrt=function(l){Object.defineProperty(The,l,{get:function(){return Xv("6.0.0","PIXI.systems."+l+" has moved to PIXI."+l),Qce[l]}})};for(var u9 in Qce)xrt(u9);var bhe={},Irt=function(l){Object.defineProperty(bhe,l,{get:function(){return Xv("6.0.0","PIXI.resources."+l+" has moved to PIXI."+l),dhe[l]}})};for(var u9 in dhe)Irt(u9);/*!
 * @pixi/app - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var CR=(function(){function l(o){var a=this;this.stage=new Rc,o=Object.assign({forceCanvas:!1},o),this.renderer=mhe(o),l._plugins.forEach(function(u){u.init.call(a,o)})}return l.registerPlugin=function(o){l._plugins.push(o)},l.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(l.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),l.prototype.destroy=function(o,a){var u=this,f=l._plugins.slice(0);f.reverse(),f.forEach(function(g){g.destroy.call(u)}),this.stage.destroy(a),this.stage=null,this.renderer.destroy(o),this.renderer=null},l._plugins=[],l})(),Drt=(function(){function l(){}return l.init=function(o){var a=this;Object.defineProperty(this,"resizeTo",{set:function(u){self.removeEventListener("resize",this.queueResize),this._resizeTo=u,u&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){a._resizeTo&&(a.cancelResize(),a._resizeId=requestAnimationFrame(function(){return a.resize()}))},this.cancelResize=function(){a._resizeId&&(cancelAnimationFrame(a._resizeId),a._resizeId=null)},this.resize=function(){if(a._resizeTo){a.cancelResize();var u,f;if(a._resizeTo===self)u=self.innerWidth,f=self.innerHeight;else{var g=a._resizeTo,v=g.clientWidth,S=g.clientHeight;u=v,f=S}a.renderer.resize(u,f)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=o.resizeTo||null},l.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},l})();CR.registerPlugin(Drt);/*!
 * @pixi/extract - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cse=new Zn,hse=4,She=(function(){function l(o){this.renderer=o}return l.prototype.image=function(o,a,u){var f=new Image;return f.src=this.base64(o,a,u),f},l.prototype.base64=function(o,a,u){return this.canvas(o).toDataURL(a,u)},l.prototype.canvas=function(o){var a=this.renderer,u,f,g=!1,v,S=!1;o&&(o instanceof tm?v=o:(v=this.renderer.generateTexture(o),S=!0)),v?(u=v.baseTexture.resolution,f=v.frame,g=!1,a.renderTexture.bind(v)):(u=this.renderer.resolution,g=!0,f=cse,f.width=this.renderer.width,f.height=this.renderer.height,a.renderTexture.bind(null));var w=Math.floor(f.width*u+1e-4),I=Math.floor(f.height*u+1e-4),k=new cH(w,I,1),F=new Uint8Array(hse*w*I),U=a.gl;U.readPixels(f.x*u,f.y*u,w,I,U.RGBA,U.UNSIGNED_BYTE,F);var N=k.context.getImageData(0,0,w,I);if(l.arrayPostDivide(F,N.data),k.context.putImageData(N,0,0),g){var H=new cH(k.width,k.height,1);H.context.scale(1,-1),H.context.drawImage(k.canvas,0,-I),k.destroy(),k=H}return S&&v.destroy(!0),k.canvas},l.prototype.pixels=function(o){var a=this.renderer,u,f,g,v=!1;o&&(o instanceof tm?g=o:(g=this.renderer.generateTexture(o),v=!0)),g?(u=g.baseTexture.resolution,f=g.frame,a.renderTexture.bind(g)):(u=a.resolution,f=cse,f.width=a.width,f.height=a.height,a.renderTexture.bind(null));var S=f.width*u,w=f.height*u,I=new Uint8Array(hse*S*w),k=a.gl;return k.readPixels(f.x*u,f.y*u,S,w,k.RGBA,k.UNSIGNED_BYTE,I),v&&g.destroy(!0),l.arrayPostDivide(I,I),I},l.prototype.destroy=function(){this.renderer=null},l.arrayPostDivide=function(o,a){for(var u=0;u<o.length;u+=4){var f=a[u+3]=o[u+3];f!==0?(a[u]=Math.round(Math.min(o[u]*255/f,255)),a[u+1]=Math.round(Math.min(o[u+1]*255/f,255)),a[u+2]=Math.round(Math.min(o[u+2]*255/f,255))):(a[u]=o[u],a[u+1]=o[u+1],a[u+2]=o[u+2])}},l})(),V8,fse;function Ort(){return fse||(fse=1,V8=(l,o={})=>{if(!l)return;const a=/(?:^|&)([^&=]*)=?([^&]*)/g,u={strict:/^(?:([^:/?#]+):)?(?:\/\/([^/?#]*)|([^?#]*?))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/,loose:/^(?:([^:/?#.]+):)?(?:\/\/([^/?#]*)|([^?#]*?))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},g=(o.strictMode?u.strict:u.loose).exec(l);if(!g)return;const[,v="",S="",w="",I="",k="",F=""]=g,U=S||"",N=S?I:w+I,H={source:l,protocol:v,authority:U,relative:N,query:k,anchor:F,userInfo:"",user:"",password:"",host:"",port:"",path:N,directory:"",file:"",queryKey:{}};if(U){const j=/^(?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?/.exec(U);if(j){const[,se="",he="",oe="",ue="",X=""]=j;Object.assign(H,{userInfo:se,user:he,password:oe,host:ue,port:X})}}if(N){const q=N.lastIndexOf("/");q>-1?(H.directory=N.substring(0,q+1),H.file=N.substring(q+1)):H.file=N}if(k)for(const[,q,j]of k.matchAll(a))q&&(H.queryKey[q]=j);return H}),V8}var krt=Ort();const Che=nm(krt);class hP{constructor(o,a=!1,u){this._fn=o,this._once=a,this._thisArg=u,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function dse(l,o){return l._head?(l._tail._next=o,o._prev=l._tail,l._tail=o):(l._head=o,l._tail=o),o._owner=l,o}class nd{constructor(){this._head=this._tail=void 0}handlers(o=!1){let a=this._head;if(o)return!!a;const u=[];for(;a;)u.push(a),a=a._next;return u}has(o){if(!(o instanceof hP))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return o._owner===this}dispatch(){let o=this._head;if(!o)return!1;for(;o;)o._once&&this.detach(o),o._fn.apply(o._thisArg,arguments),o=o._next;return!0}add(o,a=null){if(typeof o!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return dse(this,new hP(o,!1,a))}once(o,a=null){if(typeof o!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return dse(this,new hP(o,!0,a))}detach(o){if(!(o instanceof hP))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return o._owner!==this?this:(o._prev&&(o._prev._next=o._next),o._next&&(o._next._prev=o._prev),o===this._head?(this._head=o._next,o._next===null&&(this._tail=null)):o===this._tail&&(this._tail=o._prev,this._tail._next=null),o._owner=null,this)}detachAll(){let o=this._head;if(!o)return this;for(this._head=this._tail=null;o;)o._owner=null,o=o._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function gv(){}function pse(l,o,a,u){var f=0,g=l.length;(function v(S){if(S||f===g){a&&a(S);return}u?setTimeout(function(){o(l[f++],v)},1):o(l[f++],v)})()}function Prt(l){return function(){if(l===null)throw new Error("Callback was already called.");var a=l;l=null,a.apply(this,arguments)}}function Rrt(l,o){if(o==null)o=1;else if(o===0)throw new Error("Concurrency must not be zero");var a=0,u={_tasks:[],concurrency:o,saturated:gv,unsaturated:gv,buffer:o/4,empty:gv,drain:gv,error:gv,started:!1,paused:!1,push:function(S,w){f(S,!1,w)},kill:function(){a=0,u.drain=gv,u.started=!1,u._tasks=[]},unshift:function(S,w){f(S,!0,w)},process:function(){for(;!u.paused&&a<u.concurrency&&u._tasks.length;){var S=u._tasks.shift();u._tasks.length===0&&u.empty(),a+=1,a===u.concurrency&&u.saturated(),l(S.data,Prt(g(S)))}},length:function(){return u._tasks.length},running:function(){return a},idle:function(){return u._tasks.length+a===0},pause:function(){u.paused!==!0&&(u.paused=!0)},resume:function(){if(u.paused!==!1){u.paused=!1;for(var S=1;S<=u.concurrency;S++)u.process()}}};function f(v,S,w){if(w!=null&&typeof w!="function")throw new Error("task callback must be a function");if(u.started=!0,v==null&&u.idle()){setTimeout(function(){return u.drain()},1);return}var I={data:v,callback:typeof w=="function"?w:gv};S?u._tasks.unshift(I):u._tasks.push(I),setTimeout(function(){return u.process()},1)}function g(v){return function(){a-=1,v.callback.apply(v,arguments),arguments[0]!=null&&u.error(arguments[0],v.data),a<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}return u}function Nrt(l,o){for(var a=0;a<o.length;a++){var u=o[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function Ahe(l,o,a){return o&&Nrt(l.prototype,o),l}var Mrt=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),fP=null,Lrt=0,mse=200,Brt=204,Frt=1223,Urt=2;function Hrt(){}var Fr=(function(){l.setExtensionLoadType=function(u,f){gse(l._loadTypeMap,u,f)},l.setExtensionXhrType=function(u,f){gse(l._xhrTypeMap,u,f)};function l(a,u,f){if(typeof a!="string"||typeof u!="string")throw new Error("Both name and url are required for constructing a resource.");f=f||{},this._flags=0,this._setFlag(l.STATUS_FLAGS.DATA_URL,u.indexOf("data:")===0),this.name=a,this.url=u,this.extension=this._getExtension(),this.data=null,this.crossOrigin=f.crossOrigin===!0?"anonymous":f.crossOrigin,this.timeout=f.timeout||0,this.loadType=f.loadType||this._determineLoadType(),this.xhrType=f.xhrType,this.metadata=f.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=l.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Hrt,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new nd,this.onProgress=new nd,this.onComplete=new nd,this.onAfterMiddleware=new nd}var o=l.prototype;return o.complete=function(){this._clearEvents(),this._finish()},o.abort=function(u){if(!this.error){if(this.error=new Error(u),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=l.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},o.load=function(u){var f=this;if(!this.isLoading){if(this.isComplete){u&&setTimeout(function(){return u(f)},1);return}else u&&this.onComplete.once(u);switch(this._setFlag(l.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case l.LOAD_TYPE.IMAGE:this.type=l.TYPE.IMAGE,this._loadElement("image");break;case l.LOAD_TYPE.AUDIO:this.type=l.TYPE.AUDIO,this._loadSourceElement("audio");break;case l.LOAD_TYPE.VIDEO:this.type=l.TYPE.VIDEO,this._loadSourceElement("video");break;case l.LOAD_TYPE.XHR:default:Mrt&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},o._hasFlag=function(u){return(this._flags&u)!==0},o._setFlag=function(u,f){this._flags=f?this._flags|u:this._flags&~u},o._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},o._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(l.STATUS_FLAGS.COMPLETE,!0),this._setFlag(l.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},o._loadElement=function(u){this.metadata.loadElement?this.data=this.metadata.loadElement:u==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(u),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},o._loadSourceElement=function(u){if(this.metadata.loadElement?this.data=this.metadata.loadElement:u==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(u),this.data===null){this.abort("Unsupported element: "+u);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var f=this.metadata.mimeType,g=0;g<this.url.length;++g)this.data.appendChild(this._createSource(u,this.url[g],Array.isArray(f)?f[g]:f));else{var v=this.metadata.mimeType;this.data.appendChild(this._createSource(u,this.url,Array.isArray(v)?v[0]:v))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},o._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var u=this.xhr=new XMLHttpRequest;u.open("GET",this.url,!0),u.timeout=this.timeout,this.xhrType===l.XHR_RESPONSE_TYPE.JSON||this.xhrType===l.XHR_RESPONSE_TYPE.DOCUMENT?u.responseType=l.XHR_RESPONSE_TYPE.TEXT:u.responseType=this.xhrType,u.addEventListener("error",this._boundXhrOnError,!1),u.addEventListener("timeout",this._boundXhrOnTimeout,!1),u.addEventListener("abort",this._boundXhrOnAbort,!1),u.addEventListener("progress",this._boundOnProgress,!1),u.addEventListener("load",this._boundXhrOnLoad,!1),u.send()},o._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var u=this.xhr=new XDomainRequest;u.timeout=this.timeout||5e3,u.onerror=this._boundXhrOnError,u.ontimeout=this._boundXhrOnTimeout,u.onprogress=this._boundOnProgress,u.onload=this._boundXhrOnLoad,u.open("GET",this.url,!0),setTimeout(function(){return u.send()},1)},o._createSource=function(u,f,g){g||(g=u+"/"+this._getExtension(f));var v=document.createElement("source");return v.src=f,v.type=g,v},o._onError=function(u){this.abort("Failed to load element using: "+u.target.nodeName)},o._onProgress=function(u){u&&u.lengthComputable&&this.onProgress.dispatch(this,u.loaded/u.total)},o._onTimeout=function(){this.abort("Load timed out.")},o._xhrOnError=function(){var u=this.xhr;this.abort(W8(u)+" Request failed. Status: "+u.status+', text: "'+u.statusText+'"')},o._xhrOnTimeout=function(){var u=this.xhr;this.abort(W8(u)+" Request timed out.")},o._xhrOnAbort=function(){var u=this.xhr;this.abort(W8(u)+" Request was aborted by the user.")},o._xhrOnLoad=function(){var u=this.xhr,f="",g=typeof u.status>"u"?mse:u.status;(u.responseType===""||u.responseType==="text"||typeof u.responseType>"u")&&(f=u.responseText),g===Lrt&&(f.length>0||u.responseType===l.XHR_RESPONSE_TYPE.BUFFER)?g=mse:g===Frt&&(g=Brt);var v=g/100|0;if(v===Urt)if(this.xhrType===l.XHR_RESPONSE_TYPE.TEXT)this.data=f,this.type=l.TYPE.TEXT;else if(this.xhrType===l.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(f),this.type=l.TYPE.JSON}catch(I){this.abort("Error trying to parse loaded json: "+I);return}else if(this.xhrType===l.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var S=new DOMParser;this.data=S.parseFromString(f,"text/xml")}else{var w=document.createElement("div");w.innerHTML=f,this.data=w}this.type=l.TYPE.XML}catch(I){this.abort("Error trying to parse loaded xml: "+I);return}else this.data=u.response||f;else{this.abort("["+u.status+"] "+u.statusText+": "+u.responseURL);return}this.complete()},o._determineCrossOrigin=function(u,f){if(u.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";f=f||window.location,fP||(fP=document.createElement("a")),fP.href=u,u=Che(fP.href,{strictMode:!0});var g=!u.port&&f.port===""||u.port===f.port,v=u.protocol?u.protocol+":":"";return u.host!==f.hostname||!g||v!==f.protocol?"anonymous":""},o._determineXhrType=function(){return l._xhrTypeMap[this.extension]||l.XHR_RESPONSE_TYPE.TEXT},o._determineLoadType=function(){return l._loadTypeMap[this.extension]||l.LOAD_TYPE.XHR},o._getExtension=function(){var u=this.url,f="";if(this.isDataUrl){var g=u.indexOf("/");f=u.substring(g+1,u.indexOf(";",g))}else{var v=u.indexOf("?"),S=u.indexOf("#"),w=Math.min(v>-1?v:u.length,S>-1?S:u.length);u=u.substring(0,w),f=u.substring(u.lastIndexOf(".")+1)}return f.toLowerCase()},o._getMimeFromXhrType=function(u){switch(u){case l.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case l.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case l.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case l.XHR_RESPONSE_TYPE.JSON:return"application/json";case l.XHR_RESPONSE_TYPE.DEFAULT:case l.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ahe(l,[{key:"isDataUrl",get:function(){return this._hasFlag(l.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(l.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(l.STATUS_FLAGS.LOADING)}}]),l})();Fr.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};Fr.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};Fr.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};Fr.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};Fr._loadTypeMap={gif:Fr.LOAD_TYPE.IMAGE,png:Fr.LOAD_TYPE.IMAGE,bmp:Fr.LOAD_TYPE.IMAGE,jpg:Fr.LOAD_TYPE.IMAGE,jpeg:Fr.LOAD_TYPE.IMAGE,tif:Fr.LOAD_TYPE.IMAGE,tiff:Fr.LOAD_TYPE.IMAGE,webp:Fr.LOAD_TYPE.IMAGE,tga:Fr.LOAD_TYPE.IMAGE,svg:Fr.LOAD_TYPE.IMAGE,"svg+xml":Fr.LOAD_TYPE.IMAGE,mp3:Fr.LOAD_TYPE.AUDIO,ogg:Fr.LOAD_TYPE.AUDIO,wav:Fr.LOAD_TYPE.AUDIO,mp4:Fr.LOAD_TYPE.VIDEO,webm:Fr.LOAD_TYPE.VIDEO};Fr._xhrTypeMap={xhtml:Fr.XHR_RESPONSE_TYPE.DOCUMENT,html:Fr.XHR_RESPONSE_TYPE.DOCUMENT,htm:Fr.XHR_RESPONSE_TYPE.DOCUMENT,xml:Fr.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Fr.XHR_RESPONSE_TYPE.DOCUMENT,svg:Fr.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Fr.XHR_RESPONSE_TYPE.DOCUMENT,gif:Fr.XHR_RESPONSE_TYPE.BLOB,png:Fr.XHR_RESPONSE_TYPE.BLOB,bmp:Fr.XHR_RESPONSE_TYPE.BLOB,jpg:Fr.XHR_RESPONSE_TYPE.BLOB,jpeg:Fr.XHR_RESPONSE_TYPE.BLOB,tif:Fr.XHR_RESPONSE_TYPE.BLOB,tiff:Fr.XHR_RESPONSE_TYPE.BLOB,webp:Fr.XHR_RESPONSE_TYPE.BLOB,tga:Fr.XHR_RESPONSE_TYPE.BLOB,json:Fr.XHR_RESPONSE_TYPE.JSON,text:Fr.XHR_RESPONSE_TYPE.TEXT,txt:Fr.XHR_RESPONSE_TYPE.TEXT,ttf:Fr.XHR_RESPONSE_TYPE.BUFFER,otf:Fr.XHR_RESPONSE_TYPE.BUFFER};Fr.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function gse(l,o,a){o&&o.indexOf(".")===0&&(o=o.substring(1)),o&&(l[o]=a)}function W8(l){return l.toString().replace("object ","")}var $rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Grt(l){for(var o="",a=0;a<l.length;){for(var u=[0,0,0],f=[0,0,0,0],g=0;g<u.length;++g)a<l.length?u[g]=l.charCodeAt(a++)&255:u[g]=0;f[0]=u[0]>>2,f[1]=(u[0]&3)<<4|u[1]>>4,f[2]=(u[1]&15)<<2|u[2]>>6,f[3]=u[2]&63;var v=a-(l.length-1);switch(v){case 2:f[3]=64,f[2]=64;break;case 1:f[3]=64;break}for(var S=0;S<f.length;++S)o+=$rt.charAt(f[S])}return o}var vse=window.URL||window.webkitURL;function zrt(l,o){if(!l.data){o();return}if(l.xhr&&l.xhrType===Fr.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof l.data=="string"){var a=l.xhr.getResponseHeader("content-type");if(a&&a.indexOf("image")===0){l.data=new Image,l.data.src="data:"+a+";base64,"+Grt(l.xhr.responseText),l.type=Fr.TYPE.IMAGE,l.data.onload=function(){l.data.onload=null,o()};return}}else if(l.data.type.indexOf("image")===0){var u=vse.createObjectURL(l.data);l.blob=l.data,l.data=new Image,l.data.src=u,l.type=Fr.TYPE.IMAGE,l.data.onload=function(){vse.revokeObjectURL(u),l.data.onload=null,o()};return}}o()}var jrt={parsing:zrt},Y8=100,Vrt=/(#[\w-]+)?$/,ld=(function(){function l(a,u){var f=this;a===void 0&&(a=""),u===void 0&&(u=10),this.baseUrl=a,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(S,w){return f._loadResource(S,w)},this._queue=Rrt(this._boundLoadResource,u),this._queue.pause(),this.resources={},this.onProgress=new nd,this.onError=new nd,this.onLoad=new nd,this.onStart=new nd,this.onComplete=new nd;for(var g=0;g<l._defaultBeforeMiddleware.length;++g)this.pre(l._defaultBeforeMiddleware[g]);for(var v=0;v<l._defaultAfterMiddleware.length;++v)this.use(l._defaultAfterMiddleware[v])}var o=l.prototype;return o.add=function(u,f,g,v){if(Array.isArray(u)){for(var S=0;S<u.length;++S)this.add(u[S]);return this}if(typeof u=="object"&&(v=f||u.callback||u.onComplete,g=u,f=u.url,u=u.name||u.key||u.url),typeof f!="string"&&(v=g,g=f,f=u),typeof f!="string")throw new Error("No url passed to add resource to loader.");if(typeof g=="function"&&(v=g,g=null),this.loading&&(!g||!g.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[u])throw new Error('Resource named "'+u+'" already exists.');if(f=this._prepareUrl(f),this.resources[u]=new Fr(u,f,g),typeof v=="function"&&this.resources[u].onAfterMiddleware.once(v),this.loading){for(var w=g.parentResource,I=[],k=0;k<w.children.length;++k)w.children[k].isComplete||I.push(w.children[k]);var F=w.progressChunk*(I.length+1),U=F/(I.length+2);w.children.push(this.resources[u]),w.progressChunk=U;for(var N=0;N<I.length;++N)I[N].progressChunk=U;this.resources[u].progressChunk=U}return this._queue.push(this.resources[u]),this},o.pre=function(u){return this._beforeMiddleware.push(u),this},o.use=function(u){return this._afterMiddleware.push(u),this},o.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var u in this.resources){var f=this.resources[u];f._onLoadBinding&&f._onLoadBinding.detach(),f.isLoading&&f.abort()}return this.resources={},this},o.load=function(u){if(typeof u=="function"&&this.onComplete.once(u),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var f=this._queue._tasks.length,g=Y8/f,v=0;v<this._queue._tasks.length;++v)this._queue._tasks[v].data.progressChunk=g;this._onStart(),this._queue.resume()}return this},o._prepareUrl=function(u){var f=Che(u,{strictMode:!0}),g;if(f.protocol||!f.path||u.indexOf("//")===0?g=u:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&u.charAt(0)!=="/"?g=this.baseUrl+"/"+u:g=this.baseUrl+u,this.defaultQueryString){var v=Vrt.exec(g)[0];g=g.substr(0,g.length-v.length),g.indexOf("?")!==-1?g+="&"+this.defaultQueryString:g+="?"+this.defaultQueryString,g+=v}return g},o._loadResource=function(u,f){var g=this;u._dequeue=f,pse(this._beforeMiddleware,function(v,S){v.call(g,u,function(){S(u.isComplete?{}:null)})},function(){u.isComplete?g._onLoad(u):(u._onLoadBinding=u.onComplete.once(g._onLoad,g),u.load())},!0)},o._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},o._onComplete=function(){this.progress=Y8,this.loading=!1,this.onComplete.dispatch(this,this.resources)},o._onLoad=function(u){var f=this;u._onLoadBinding=null,this._resourcesParsing.push(u),u._dequeue(),pse(this._afterMiddleware,function(g,v){g.call(f,u,v)},function(){u.onAfterMiddleware.dispatch(u),f.progress=Math.min(Y8,f.progress+u.progressChunk),f.onProgress.dispatch(f,u),u.error?f.onError.dispatch(u.error,f,u):f.onLoad.dispatch(f,u),f._resourcesParsing.splice(f._resourcesParsing.indexOf(u),1),f._queue.idle()&&f._resourcesParsing.length===0&&f._onComplete()},!0)},Ahe(l,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(u){this._queue.concurrency=u}}]),l})();ld._defaultBeforeMiddleware=[];ld._defaultAfterMiddleware=[];ld.pre=function(o){return ld._defaultBeforeMiddleware.push(o),ld};ld.use=function(o){return ld._defaultAfterMiddleware.push(o),ld};/*!
 * @pixi/loaders - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vH=function(l,o){return vH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},vH(l,o)};function Wrt(l,o){vH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var whe=(function(){function l(){}return l.add=function(){Fr.setExtensionLoadType("svg",Fr.LOAD_TYPE.XHR),Fr.setExtensionXhrType("svg",Fr.XHR_RESPONSE_TYPE.TEXT)},l.use=function(o,a){if(o.data&&(o.type===Fr.TYPE.IMAGE||o.extension==="svg")){var u=o.data,f=o.url,g=o.name,v=o.metadata;an.fromLoader(u,f,g,v).then(function(S){o.texture=S,a()}).catch(a)}else a()},l})(),Qh=(function(l){Wrt(o,l);function o(a,u){for(var f=l.call(this,a,u)||this,g=0;g<o._plugins.length;++g){var v=o._plugins[g],S=v.pre,w=v.use;S&&f.pre(S),w&&f.use(w)}return f._protected=!1,f}return o.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(o,"shared",{get:function(){var a=o._shared;return a||(a=new o,a._protected=!0,o._shared=a),a},enumerable:!1,configurable:!0}),o.registerPlugin=function(a){return o._plugins.push(a),a.add&&a.add(),o},o._plugins=[],o})(ld);Qh.registerPlugin({use:jrt.parsing});Qh.registerPlugin(whe);var xhe=(function(){function l(){}return l.init=function(o){o=Object.assign({sharedLoader:!1},o),this.loader=o.sharedLoader?Qh.shared:new Qh},l.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},l})(),Ru=Fr;/*!
 * @pixi/compressed-textures - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var xi,yn;(function(l){l[l.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",l[l.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",l[l.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",l[l.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",l[l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",l[l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",l[l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",l[l.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",l[l.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",l[l.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",l[l.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",l[l.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",l[l.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",l[l.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",l[l.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",l[l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",l[l.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",l[l.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",l[l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",l[l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",l[l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",l[l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",l[l.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",l[l.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",l[l.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",l[l.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(yn||(yn={}));var AA=(xi={},xi[yn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,xi[yn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,xi[yn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,xi[yn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,xi[yn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,xi[yn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,xi[yn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,xi[yn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,xi[yn.COMPRESSED_R11_EAC]=.5,xi[yn.COMPRESSED_SIGNED_R11_EAC]=.5,xi[yn.COMPRESSED_RG11_EAC]=1,xi[yn.COMPRESSED_SIGNED_RG11_EAC]=1,xi[yn.COMPRESSED_RGB8_ETC2]=.5,xi[yn.COMPRESSED_RGBA8_ETC2_EAC]=1,xi[yn.COMPRESSED_SRGB8_ETC2]=.5,xi[yn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,xi[yn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,xi[yn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,xi[yn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,xi[yn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,xi[yn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,xi[yn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,xi[yn.COMPRESSED_RGB_ETC1_WEBGL]=.5,xi[yn.COMPRESSED_RGB_ATC_WEBGL]=.5,xi[yn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,xi[yn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,xi);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yH=function(l,o){return yH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},yH(l,o)};function Ihe(l,o){yH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}function Yrt(l,o,a,u){return new(a||(a=Promise))(function(f,g){function v(I){try{w(u.next(I))}catch(k){g(k)}}function S(I){try{w(u.throw(I))}catch(k){g(k)}}function w(I){I.done?f(I.value):new a(function(k){k(I.value)}).then(v,S)}w((u=u.apply(l,[])).next())})}function Xrt(l,o){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,f,g,v;return v={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function S(I){return function(k){return w([I,k])}}function w(I){if(u)throw new TypeError("Generator is already executing.");for(;a;)try{if(u=1,f&&(g=I[0]&2?f.return:I[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,I[1])).done)return g;switch(f=0,g&&(I=[I[0]&2,g.value]),I[0]){case 0:case 1:g=I;break;case 4:return a.label++,{value:I[1],done:!1};case 5:a.label++,f=I[1],I=[0];continue;case 7:I=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(I[0]===6||I[0]===2)){a=0;continue}if(I[0]===3&&(!g||I[1]>g[0]&&I[1]<g[3])){a.label=I[1];break}if(I[0]===6&&a.label<g[1]){a.label=g[1],g=I;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(I);break}g[2]&&a.ops.pop(),a.trys.pop();continue}I=o.call(l,a)}catch(k){I=[6,k],f=0}finally{u=g=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}}var Dhe=(function(l){Ihe(o,l);function o(a,u){u===void 0&&(u={width:1,height:1,autoLoad:!0});var f=this,g,v;return typeof a=="string"?(g=a,v=new Uint8Array):(g=null,v=a),f=l.call(this,v,u)||this,f.origin=g,f.buffer=v?new KP(v):null,f.origin&&u.autoLoad!==!1&&f.load(),v&&v.length&&(f.loaded=!0,f.onBlobLoaded(f.buffer.rawBinaryData)),f}return o.prototype.onBlobLoaded=function(a){},o.prototype.load=function(){return Yrt(this,void 0,Promise,function(){var a,u,f;return Xrt(this,function(g){switch(g.label){case 0:return[4,fetch(this.origin)];case 1:return a=g.sent(),[4,a.blob()];case 2:return u=g.sent(),[4,u.arrayBuffer()];case 3:return f=g.sent(),this.data=new Uint32Array(f),this.buffer=new KP(f),this.loaded=!0,this.onBlobLoaded(f),this.update(),[2,this]}})})},o})(iE),ZP=(function(l){Ihe(o,l);function o(a,u){var f=l.call(this,a,u)||this;return f.format=u.format,f.levels=u.levels||1,f._width=u.width,f._height=u.height,f._extension=o._formatToExtension(f.format),(u.levelBuffers||f.buffer)&&(f._levelBuffers=u.levelBuffers||o._createLevelBuffers(a instanceof Uint8Array?a:f.buffer.uint8View,f.format,f.levels,4,4,f.width,f.height)),f}return o.prototype.upload=function(a,u,f){var g=a.gl,v=a.context.extensions[this._extension];if(!v)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var S=0,w=this.levels;S<w;S++){var I=this._levelBuffers[S],k=I.levelID,F=I.levelWidth,U=I.levelHeight,N=I.levelBuffer;g.compressedTexImage2D(g.TEXTURE_2D,k,this.format,F,U,0,N)}return!0},o.prototype.onBlobLoaded=function(){this._levelBuffers=o._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},o._formatToExtension=function(a){if(a>=33776&&a<=33779)return"s3tc";if(a>=37488&&a<=37497)return"etc";if(a>=35840&&a<=35843)return"pvrtc";if(a>=36196)return"etc1";if(a>=35986&&a<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},o._createLevelBuffers=function(a,u,f,g,v,S,w){for(var I=new Array(f),k=a.byteOffset,F=S,U=w,N=F+g-1&~(g-1),H=U+v-1&~(v-1),q=N*H*AA[u],j=0;j<f;j++)I[j]={levelID:j,levelWidth:f>1?F:N,levelHeight:f>1?U:H,levelBuffer:new Uint8Array(a.buffer,k,q)},k+=q,F=F>>1||1,U=U>>1||1,N=F+g-1&~(g-1),H=U+v-1&~(v-1),q=N*H*AA[u];return I},o})(Dhe),Ohe=(function(){function l(){}return l.use=function(o,a){var u=o.data,f=this;if(o.type===Ru.TYPE.JSON&&u&&u.cacheID&&u.textures){for(var g=u.textures,v=void 0,S=void 0,w=0,I=g.length;w<I;w++){var k=g[w],F=k.src,U=k.format;if(U||(S=F),l.textureFormats[U]){v=F;break}}if(v=v||S,!v){a(new Error("Cannot load compressed-textures in "+o.url+", make sure you provide a fallback"));return}if(v===o.url){a(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var N={crossOrigin:o.crossOrigin,metadata:o.metadata.imageMetadata,parentResource:o},H=Nv.resolve(o.url.replace(f.baseUrl,""),v),q=u.cacheID;f.add(q,H,N,function(j){if(j.error){a(j.error);return}var se=j.texture,he=se===void 0?null:se,oe=j.textures,ue=oe===void 0?{}:oe;Object.assign(o,{texture:he,textures:ue}),a()})}else a()},l.add=function(){var o=document.createElement("canvas"),a=o.getContext("webgl");if(!a){console.error("WebGL not available for compressed textures. Silently failing.");return}var u={s3tc:a.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:a.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:a.getExtension("WEBGL_compressed_texture_etc"),etc1:a.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:a.getExtension("WEBGL_compressed_texture_atc"),astc:a.getExtension("WEBGL_compressed_texture_astc")};l.textureExtensions=u,l.textureFormats={};for(var f in u){var g=u[f];g&&Object.assign(l.textureFormats,Object.getPrototypeOf(g))}},l})();function khe(l,o,a){var u={textures:{},texture:null};if(!o)return u;var f=o.map(function(g){return new an(new Ii(g,Object.assign({mipmap:ud.OFF,alphaMode:qh.NO_PREMULTIPLIED_ALPHA},a)))});return f.forEach(function(g,v){var S=g.baseTexture,w=l+"-"+(v+1);Ii.addToCache(S,w),an.addToCache(g,w),v===0&&(Ii.addToCache(S,l),an.addToCache(g,l),u.texture=g),u.textures[w]=g}),u}var VC,Cc;Ru.setExtensionXhrType("dds",Ru.XHR_RESPONSE_TYPE.BUFFER);var X8=4,dP=124,qrt=32,yse=20,Krt=542327876,pP={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Zrt={FOURCC:2},mP={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},Ic;(function(l){l[l.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",l[l.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",l[l.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",l[l.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",l[l.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",l[l.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",l[l.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",l[l.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",l[l.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",l[l.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",l[l.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",l[l.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",l[l.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",l[l.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",l[l.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",l[l.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",l[l.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",l[l.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",l[l.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",l[l.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",l[l.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",l[l.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",l[l.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",l[l.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",l[l.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",l[l.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",l[l.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",l[l.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",l[l.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",l[l.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",l[l.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",l[l.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",l[l.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",l[l.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",l[l.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",l[l.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",l[l.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",l[l.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",l[l.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",l[l.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",l[l.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",l[l.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",l[l.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",l[l.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",l[l.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",l[l.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",l[l.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",l[l.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",l[l.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",l[l.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",l[l.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",l[l.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",l[l.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",l[l.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",l[l.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",l[l.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",l[l.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",l[l.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",l[l.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",l[l.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",l[l.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",l[l.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",l[l.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",l[l.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",l[l.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",l[l.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",l[l.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",l[l.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",l[l.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",l[l.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",l[l.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",l[l.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",l[l.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",l[l.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",l[l.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",l[l.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",l[l.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",l[l.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",l[l.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",l[l.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",l[l.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",l[l.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",l[l.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",l[l.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",l[l.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",l[l.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",l[l.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",l[l.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",l[l.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",l[l.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",l[l.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",l[l.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",l[l.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",l[l.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",l[l.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",l[l.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",l[l.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",l[l.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",l[l.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",l[l.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",l[l.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",l[l.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",l[l.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",l[l.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",l[l.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",l[l.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",l[l.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",l[l.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",l[l.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",l[l.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",l[l.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",l[l.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",l[l.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",l[l.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",l[l.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",l[l.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",l[l.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",l[l.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",l[l.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",l[l.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",l[l.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",l[l.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Ic||(Ic={}));var _H;(function(l){l[l.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",l[l.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",l[l.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(_H||(_H={}));var Qrt=1,Jrt=2,ent=4,tnt=64,rnt=512,nnt=131072,int=827611204,ant=861165636,ont=894720068,snt=808540228,lnt=4,unt=(VC={},VC[int]=yn.COMPRESSED_RGBA_S3TC_DXT1_EXT,VC[ant]=yn.COMPRESSED_RGBA_S3TC_DXT3_EXT,VC[ont]=yn.COMPRESSED_RGBA_S3TC_DXT5_EXT,VC),cnt=(Cc={},Cc[Ic.DXGI_FORMAT_BC1_TYPELESS]=yn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Cc[Ic.DXGI_FORMAT_BC1_UNORM]=yn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Cc[Ic.DXGI_FORMAT_BC2_TYPELESS]=yn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Cc[Ic.DXGI_FORMAT_BC2_UNORM]=yn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Cc[Ic.DXGI_FORMAT_BC3_TYPELESS]=yn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Cc[Ic.DXGI_FORMAT_BC3_UNORM]=yn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Cc[Ic.DXGI_FORMAT_BC1_UNORM_SRGB]=yn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Cc[Ic.DXGI_FORMAT_BC2_UNORM_SRGB]=yn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Cc[Ic.DXGI_FORMAT_BC3_UNORM_SRGB]=yn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Cc),Phe=(function(){function l(){}return l.use=function(o,a){if(o.extension==="dds"&&o.data)try{Object.assign(o,khe(o.name||o.url,l.parse(o.data),o.metadata))}catch(u){a(u);return}a()},l.parse=function(o){var a=new Uint32Array(o),u=a[0];if(u!==Krt)throw new Error("Invalid DDS file magic word");var f=new Uint32Array(o,0,dP/Uint32Array.BYTES_PER_ELEMENT),g=f[pP.HEIGHT],v=f[pP.WIDTH],S=f[pP.MIPMAP_COUNT],w=new Uint32Array(o,pP.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,qrt/Uint32Array.BYTES_PER_ELEMENT),I=w[Qrt];if(I&ent){var k=w[Zrt.FOURCC];if(k!==snt){var F=unt[k],U=X8+dP,N=new Uint8Array(o,U),H=new ZP(N,{format:F,width:v,height:g,levels:S});return[H]}var q=X8+dP,j=new Uint32Array(a.buffer,q,yse/Uint32Array.BYTES_PER_ELEMENT),se=j[mP.DXGI_FORMAT],he=j[mP.RESOURCE_DIMENSION],oe=j[mP.MISC_FLAG],ue=j[mP.ARRAY_SIZE],X=cnt[se];if(X===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+se);if(oe===lnt)throw new Error("DDSLoader does not support cubemap textures");if(he===_H.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var de=new Array,fe=X8+dP+yse;if(ue===1)de.push(new Uint8Array(o,fe));else{for(var Fe=AA[X],M=0,ke=v,qe=g,Te=0;Te<S;Te++){var at=Math.max(1,ke+3&-4),_t=Math.max(1,qe+3&-4),z=at*_t*Fe;M+=z,ke=ke>>>1,qe=qe>>>1}for(var be=fe,Te=0;Te<ue;Te++)de.push(new Uint8Array(o,be,M)),be+=M}return de.map(function(Re){return new ZP(Re,{format:X,width:v,height:g,levels:S})})}throw I&tnt?new Error("DDSLoader does not support uncompressed texture data."):I&rnt?new Error("DDSLoader does not supported YUV uncompressed texture data."):I&nnt?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):I&Jrt?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},l})(),U_,vv,WC;Ru.setExtensionXhrType("ktx",Ru.XHR_RESPONSE_TYPE.BUFFER);var _se=[171,75,84,88,32,49,49,187,13,10,26,10],hnt=67305985,Ac={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},fnt=64,EH=(U_={},U_[Di.UNSIGNED_BYTE]=1,U_[Di.UNSIGNED_SHORT]=2,U_[Di.FLOAT]=4,U_[Di.HALF_FLOAT]=8,U_),Rhe=(vv={},vv[Dc.RGBA]=4,vv[Dc.RGB]=3,vv[Dc.LUMINANCE]=1,vv[Dc.LUMINANCE_ALPHA]=2,vv[Dc.ALPHA]=1,vv),Nhe=(WC={},WC[Di.UNSIGNED_SHORT_4_4_4_4]=2,WC[Di.UNSIGNED_SHORT_5_5_5_1]=2,WC[Di.UNSIGNED_SHORT_5_6_5]=2,WC),Mhe=(function(){function l(){}return l.use=function(o,a){if(o.extension==="ktx"&&o.data)try{var u=o.name||o.url;Object.assign(o,khe(u,l.parse(u,o.data),o.metadata))}catch(f){a(f);return}a()},l.parse=function(o,a){var u=new DataView(a);if(!l.validate(o,u))return null;var f=u.getUint32(Ac.ENDIANNESS,!0)===hnt,g=u.getUint32(Ac.GL_TYPE,f),v=u.getUint32(Ac.GL_FORMAT,f),S=u.getUint32(Ac.GL_INTERNAL_FORMAT,f),w=u.getUint32(Ac.PIXEL_WIDTH,f),I=u.getUint32(Ac.PIXEL_HEIGHT,f)||1,k=u.getUint32(Ac.PIXEL_DEPTH,f)||1,F=u.getUint32(Ac.NUMBER_OF_ARRAY_ELEMENTS,f)||1,U=u.getUint32(Ac.NUMBER_OF_FACES,f),N=u.getUint32(Ac.NUMBER_OF_MIPMAP_LEVELS,f),H=u.getUint32(Ac.BYTES_OF_KEY_VALUE_DATA,f);if(I===0||k!==1)throw new Error("Only 2D textures are supported");if(U!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(F!==1)throw new Error("WebGL does not support array textures");var q=4,j=4,se=w+3&-4,he=I+3&-4,oe=new Array(F),ue=w*I;g===0&&(ue=se*he);var X;if(g!==0?EH[g]?X=EH[g]*Rhe[v]:X=Nhe[g]:X=AA[S],X===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var de=ue*X,fe=de,Fe=w,M=I,ke=se,qe=he,Te=fnt+H,at=0;at<N;at++){for(var _t=u.getUint32(Te,f),z=Te+4,be=0;be<F;be++){var Re=oe[be];Re||(Re=oe[be]=new Array(N)),Re[at]={levelID:at,levelWidth:N>1?Fe:ke,levelHeight:N>1?M:qe,levelBuffer:new Uint8Array(a,z,fe)},z+=fe}Te+=_t+4,Te=Te%4!==0?Te+4-Te%4:Te,Fe=Fe>>1||1,M=M>>1||1,ke=Fe+q-1&-4,qe=M+j-1&-4,fe=ke*qe*X}if(g!==0)throw new Error("TODO: Uncompressed");return oe.map(function(ie){return new ZP(null,{format:S,width:w,height:I,levels:N,levelBuffers:ie})})},l.validate=function(o,a){for(var u=0;u<_se.length;u++)if(a.getUint8(u)!==_se[u])return console.error(o+" is not a valid *.ktx file!"),!1;return!0},l})();/*!
 * @pixi/particles - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var TH=function(l,o){return TH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},TH(l,o)};function Lhe(l,o){TH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var dnt=(function(l){Lhe(o,l);function o(a,u,f,g){a===void 0&&(a=1500),f===void 0&&(f=16384),g===void 0&&(g=!1);var v=l.call(this)||this,S=16384;return f>S&&(f=S),v._properties=[!1,!0,!1,!1,!1],v._maxSize=a,v._batchSize=f,v._buffers=null,v._bufferUpdateIDs=[],v._updateID=0,v.interactiveChildren=!1,v.blendMode=Wr.NORMAL,v.autoResize=g,v.roundPixels=!0,v.baseTexture=null,v.setProperties(u),v._tint=0,v.tintRgb=new Float32Array(4),v.tint=16777215,v}return o.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])},o.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(a){this._tint=a,Wv(a,this.tintRgb)},enumerable:!1,configurable:!0}),o.prototype.render=function(a){var u=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return u.onChildrenChange(0)})),a.batch.setObjectRenderer(a.plugins.particle),a.plugins.particle.render(this))},o.prototype.onChildrenChange=function(a){for(var u=Math.floor(a/this._batchSize);this._bufferUpdateIDs.length<u;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[u]=++this._updateID},o.prototype.dispose=function(){if(this._buffers){for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._buffers=null}},o.prototype.destroy=function(a){l.prototype.destroy.call(this,a),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},o})(Rc),Ese=(function(){function l(o,a,u){this.geometry=new aE,this.indexBuffer=null,this.size=u,this.dynamicProperties=[],this.staticProperties=[];for(var f=0;f<o.length;++f){var g=o[f];g={attributeName:g.attributeName,size:g.size,uploadFunction:g.uploadFunction,type:g.type||Di.FLOAT,offset:g.offset},a[f]?this.dynamicProperties.push(g):this.staticProperties.push(g)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return l.prototype.initBuffers=function(){var o=this.geometry,a=0;this.indexBuffer=new Co(Mce(this.size),!0,!0),o.addIndex(this.indexBuffer),this.dynamicStride=0;for(var u=0;u<this.dynamicProperties.length;++u){var f=this.dynamicProperties[u];f.offset=a,a+=f.size,this.dynamicStride+=f.size}var g=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(g),this.dynamicDataUint32=new Uint32Array(g),this.dynamicBuffer=new Co(this.dynamicData,!1,!1);var v=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var f=this.staticProperties[u];f.offset=v,v+=f.size,this.staticStride+=f.size}var S=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(S),this.staticDataUint32=new Uint32Array(S),this.staticBuffer=new Co(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var f=this.dynamicProperties[u];o.addAttribute(f.attributeName,this.dynamicBuffer,0,f.type===Di.UNSIGNED_BYTE,f.type,this.dynamicStride*4,f.offset*4)}for(var u=0;u<this.staticProperties.length;++u){var f=this.staticProperties[u];o.addAttribute(f.attributeName,this.staticBuffer,0,f.type===Di.UNSIGNED_BYTE,f.type,this.staticStride*4,f.offset*4)}},l.prototype.uploadDynamic=function(o,a,u){for(var f=0;f<this.dynamicProperties.length;f++){var g=this.dynamicProperties[f];g.uploadFunction(o,a,u,g.type===Di.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,g.offset)}this.dynamicBuffer._updateID++},l.prototype.uploadStatic=function(o,a,u){for(var f=0;f<this.staticProperties.length;f++){var g=this.staticProperties[f];g.uploadFunction(o,a,u,g.type===Di.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,g.offset)}this.staticBuffer._updateID++},l.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},l})(),pnt=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,mnt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Bhe=(function(l){Lhe(o,l);function o(a){var u=l.call(this,a)||this;return u.shader=null,u.properties=null,u.tempMatrix=new Ha,u.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:u.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:u.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:u.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:u.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Di.UNSIGNED_BYTE,uploadFunction:u.uploadTint,offset:0}],u.shader=rm.from(mnt,pnt,{}),u.state=im.for2d(),u}return o.prototype.render=function(a){var u=a.children,f=a._maxSize,g=a._batchSize,v=this.renderer,S=u.length;if(S!==0){S>f&&!a.autoResize&&(S=f);var w=a._buffers;w||(w=a._buffers=this.generateBuffers(a));var I=u[0]._texture.baseTexture;this.state.blendMode=R$(a.blendMode,I.alphaMode),v.state.set(this.state);var k=v.gl,F=a.worldTransform.copyTo(this.tempMatrix);F.prepend(v.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=F.toArray(!0),this.shader.uniforms.uColor=Nce(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,I.alphaMode),this.shader.uniforms.uSampler=I,this.renderer.shader.bind(this.shader);for(var U=!1,N=0,H=0;N<S;N+=g,H+=1){var q=S-N;q>g&&(q=g),H>=w.length&&w.push(this._generateOneMoreBuffer(a));var j=w[H];j.uploadDynamic(u,N,q);var se=a._bufferUpdateIDs[H]||0;U=U||j._updateID<se,U&&(j._updateID=a._updateID,j.uploadStatic(u,N,q)),v.geometry.bind(j.geometry),k.drawElements(k.TRIANGLES,q*6,k.UNSIGNED_SHORT,0)}}},o.prototype.generateBuffers=function(a){for(var u=[],f=a._maxSize,g=a._batchSize,v=a._properties,S=0;S<f;S+=g)u.push(new Ese(this.properties,v,g));return u},o.prototype._generateOneMoreBuffer=function(a){var u=a._batchSize,f=a._properties;return new Ese(this.properties,f,u)},o.prototype.uploadVertices=function(a,u,f,g,v,S){for(var w=0,I=0,k=0,F=0,U=0;U<f;++U){var N=a[u+U],H=N._texture,q=N.scale.x,j=N.scale.y,se=H.trim,he=H.orig;se?(I=se.x-N.anchor.x*he.width,w=I+se.width,F=se.y-N.anchor.y*he.height,k=F+se.height):(w=he.width*(1-N.anchor.x),I=he.width*-N.anchor.x,k=he.height*(1-N.anchor.y),F=he.height*-N.anchor.y),g[S]=I*q,g[S+1]=F*j,g[S+v]=w*q,g[S+v+1]=F*j,g[S+v*2]=w*q,g[S+v*2+1]=k*j,g[S+v*3]=I*q,g[S+v*3+1]=k*j,S+=v*4}},o.prototype.uploadPosition=function(a,u,f,g,v,S){for(var w=0;w<f;w++){var I=a[u+w].position;g[S]=I.x,g[S+1]=I.y,g[S+v]=I.x,g[S+v+1]=I.y,g[S+v*2]=I.x,g[S+v*2+1]=I.y,g[S+v*3]=I.x,g[S+v*3+1]=I.y,S+=v*4}},o.prototype.uploadRotation=function(a,u,f,g,v,S){for(var w=0;w<f;w++){var I=a[u+w].rotation;g[S]=I,g[S+v]=I,g[S+v*2]=I,g[S+v*3]=I,S+=v*4}},o.prototype.uploadUvs=function(a,u,f,g,v,S){for(var w=0;w<f;++w){var I=a[u+w]._texture._uvs;I?(g[S]=I.x0,g[S+1]=I.y0,g[S+v]=I.x1,g[S+v+1]=I.y1,g[S+v*2]=I.x2,g[S+v*2+1]=I.y2,g[S+v*3]=I.x3,g[S+v*3+1]=I.y3,S+=v*4):(g[S]=0,g[S+1]=0,g[S+v]=0,g[S+v+1]=0,g[S+v*2]=0,g[S+v*2+1]=0,g[S+v*3]=0,g[S+v*3+1]=0,S+=v*4)}},o.prototype.uploadTint=function(a,u,f,g,v,S){for(var w=0;w<f;++w){var I=a[u+w],k=I._texture.baseTexture.alphaMode>0,F=I.alpha,U=F<1&&k?vR(I._tintRGB,F):I._tintRGB+(F*255<<24);g[S]=U,g[S+v]=U,g[S+v*2]=U,g[S+v*3]=U,S+=v*4}},o.prototype.destroy=function(){l.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},o})(NA);/*!
 * @pixi/graphics - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var id;(function(l){l.MITER="miter",l.BEVEL="bevel",l.ROUND="round"})(id||(id={}));var ad;(function(l){l.BUTT="butt",l.ROUND="round",l.SQUARE="square"})(ad||(ad={}));var Q_={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(l,o){if(o===void 0&&(o=20),!this.adaptive||!l||isNaN(l))return o;var a=Math.ceil(l/this.maxLength);return a<this.minSegments?a=this.minSegments:a>this.maxSegments&&(a=this.maxSegments),a}},c9=(function(){function l(){this.color=16777215,this.alpha=1,this.texture=an.WHITE,this.matrix=null,this.visible=!1,this.reset()}return l.prototype.clone=function(){var o=new l;return o.color=this.color,o.alpha=this.alpha,o.texture=this.texture,o.matrix=this.matrix,o.visible=this.visible,o},l.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=an.WHITE,this.matrix=null,this.visible=!1},l.prototype.destroy=function(){this.texture=null,this.matrix=null},l})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bH=function(l,o){return bH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},bH(l,o)};function h9(l,o){bH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var f9={build:function(l){l.points=l.shape.points.slice()},triangulate:function(l,o){var a=l.points,u=l.holes,f=o.points,g=o.indices;if(a.length>=6){for(var v=[],S=0;S<u.length;S++){var w=u[S];v.push(a.length/2),a=a.concat(w.points)}var I=w$(a,v,2);if(!I)return;for(var k=f.length/2,S=0;S<I.length;S+=3)g.push(I[S]+k),g.push(I[S+1]+k),g.push(I[S+2]+k);for(var S=0;S<a.length;S++)f.push(a[S])}}},SH={build:function(l){var o=l.shape,a=l.points,u=o.x,f=o.y,g,v;if(a.length=0,l.type===Sa.CIRC)g=o.radius,v=o.radius;else{var S=l.shape;g=S.width,v=S.height}if(!(g===0||v===0)){var w=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(g+v));w/=2.3;for(var I=Math.PI*2/w,k=0;k<w-.5;k++)a.push(u+Math.sin(-I*k)*g,f+Math.cos(-I*k)*v);a.push(a[0],a[1])}},triangulate:function(l,o){var a=l.points,u=o.points,f=o.indices,g=u.length/2,v=g,S=l.shape,w=l.matrix,I=S.x,k=S.y;u.push(l.matrix?w.a*I+w.c*k+w.tx:I,l.matrix?w.b*I+w.d*k+w.ty:k);for(var F=0;F<a.length;F+=2)u.push(a[F],a[F+1]),f.push(g++,v,g)}},Fhe={build:function(l){var o=l.shape,a=o.x,u=o.y,f=o.width,g=o.height,v=l.points;v.length=0,v.push(a,u,a+f,u,a+f,u+g,a,u+g)},triangulate:function(l,o){var a=l.points,u=o.points,f=u.length/2;u.push(a[0],a[1],a[2],a[3],a[6],a[7],a[4],a[5]),o.indices.push(f,f+1,f+2,f+1,f+2,f+3)}};function H_(l,o,a){var u=o-l;return l+u*a}function gP(l,o,a,u,f,g,v){v===void 0&&(v=[]);for(var S=20,w=v,I=0,k=0,F=0,U=0,N=0,H=0,q=0,j=0;q<=S;++q)j=q/S,I=H_(l,a,j),k=H_(o,u,j),F=H_(a,f,j),U=H_(u,g,j),N=H_(I,F,j),H=H_(k,U,j),w.push(N,H);return w}var Uhe={build:function(l){var o=l.shape,a=l.points,u=o.x,f=o.y,g=o.width,v=o.height,S=Math.max(0,Math.min(o.radius,Math.min(g,v)/2));a.length=0,S?(gP(u,f+S,u,f,u+S,f,a),gP(u+g-S,f,u+g,f,u+g,f+S,a),gP(u+g,f+v-S,u+g,f+v,u+g-S,f+v,a),gP(u+S,f+v,u,f+v,u,f+v-S,a)):a.push(u,f,u+g,f,u+g,f+v,u,f+v)},triangulate:function(l,o){for(var a=l.points,u=o.points,f=o.indices,g=u.length/2,v=w$(a,null,2),S=0,w=v.length;S<w;S+=3)f.push(v[S]+g),f.push(v[S+1]+g),f.push(v[S+2]+g);for(var S=0,w=a.length;S<w;S++)u.push(a[S],a[++S])}};function Tse(l,o,a,u,f,g,v,S){var w=l-a*f,I=o-u*f,k=l+a*g,F=o+u*g,U,N;v?(U=u,N=-a):(U=-u,N=a);var H=w+U,q=I+N,j=k+U,se=F+N;return S.push(H,q),S.push(j,se),2}function $_(l,o,a,u,f,g,v,S){var w=a-l,I=u-o,k=Math.atan2(w,I),F=Math.atan2(f-l,g-o);S&&k<F?k+=Math.PI*2:!S&&k>F&&(F+=Math.PI*2);var U=k,N=F-k,H=Math.abs(N),q=Math.sqrt(w*w+I*I),j=(15*H*Math.sqrt(q)/Math.PI>>0)+1,se=N/j;if(U+=se,S){v.push(l,o),v.push(a,u);for(var he=1,oe=U;he<j;he++,oe+=se)v.push(l,o),v.push(l+Math.sin(oe)*q,o+Math.cos(oe)*q);v.push(l,o),v.push(f,g)}else{v.push(a,u),v.push(l,o);for(var he=1,oe=U;he<j;he++,oe+=se)v.push(l+Math.sin(oe)*q,o+Math.cos(oe)*q),v.push(l,o);v.push(f,g),v.push(l,o)}return j*2}function gnt(l,o){var a=l.shape,u=l.points||a.points.slice(),f=o.closePointEps;if(u.length!==0){var g=l.lineStyle,v=new Ca(u[0],u[1]),S=new Ca(u[u.length-2],u[u.length-1]),w=a.type!==Sa.POLY||a.closeStroke,I=Math.abs(v.x-S.x)<f&&Math.abs(v.y-S.y)<f;if(w){u=u.slice(),I&&(u.pop(),u.pop(),S.set(u[u.length-2],u[u.length-1]));var k=(v.x+S.x)*.5,F=(S.y+v.y)*.5;u.unshift(k,F),u.push(k,F)}var U=o.points,N=u.length/2,H=u.length,q=U.length/2,j=g.width/2,se=j*j,he=g.miterLimit*g.miterLimit,oe=u[0],ue=u[1],X=u[2],de=u[3],fe=0,Fe=0,M=-(ue-de),ke=oe-X,qe=0,Te=0,at=Math.sqrt(M*M+ke*ke);M/=at,ke/=at,M*=j,ke*=j;var _t=g.alignment,z=(1-_t)*2,be=_t*2;w||(g.cap===ad.ROUND?H+=$_(oe-M*(z-be)*.5,ue-ke*(z-be)*.5,oe-M*z,ue-ke*z,oe+M*be,ue+ke*be,U,!0)+2:g.cap===ad.SQUARE&&(H+=Tse(oe,ue,M,ke,z,be,!0,U))),U.push(oe-M*z,ue-ke*z),U.push(oe+M*be,ue+ke*be);for(var Re=1;Re<N-1;++Re){oe=u[(Re-1)*2],ue=u[(Re-1)*2+1],X=u[Re*2],de=u[Re*2+1],fe=u[(Re+1)*2],Fe=u[(Re+1)*2+1],M=-(ue-de),ke=oe-X,at=Math.sqrt(M*M+ke*ke),M/=at,ke/=at,M*=j,ke*=j,qe=-(de-Fe),Te=X-fe,at=Math.sqrt(qe*qe+Te*Te),qe/=at,Te/=at,qe*=j,Te*=j;var ie=X-oe,pe=ue-de,me=X-fe,ce=Fe-de,_e=pe*me-ce*ie,Le=_e<0;if(Math.abs(_e)<.1){U.push(X-M*z,de-ke*z),U.push(X+M*be,de+ke*be);continue}var Ke=(-M+oe)*(-ke+de)-(-M+X)*(-ke+ue),dt=(-qe+fe)*(-Te+de)-(-qe+X)*(-Te+Fe),It=(ie*dt-me*Ke)/_e,St=(ce*Ke-pe*dt)/_e,Mt=(It-X)*(It-X)+(St-de)*(St-de),Bt=X+(It-X)*z,Lt=de+(St-de)*z,Pt=X-(It-X)*be,Vt=de-(St-de)*be,lr=Math.min(ie*ie+pe*pe,me*me+ce*ce),Gt=Le?z:be,ar=lr+Gt*Gt*se,Wt=Mt<=ar;Wt?g.join===id.BEVEL||Mt/se>he?(Le?(U.push(Bt,Lt),U.push(X+M*be,de+ke*be),U.push(Bt,Lt),U.push(X+qe*be,de+Te*be)):(U.push(X-M*z,de-ke*z),U.push(Pt,Vt),U.push(X-qe*z,de-Te*z),U.push(Pt,Vt)),H+=2):g.join===id.ROUND?Le?(U.push(Bt,Lt),U.push(X+M*be,de+ke*be),H+=$_(X,de,X+M*be,de+ke*be,X+qe*be,de+Te*be,U,!0)+4,U.push(Bt,Lt),U.push(X+qe*be,de+Te*be)):(U.push(X-M*z,de-ke*z),U.push(Pt,Vt),H+=$_(X,de,X-M*z,de-ke*z,X-qe*z,de-Te*z,U,!1)+4,U.push(X-qe*z,de-Te*z),U.push(Pt,Vt)):(U.push(Bt,Lt),U.push(Pt,Vt)):(U.push(X-M*z,de-ke*z),U.push(X+M*be,de+ke*be),g.join===id.BEVEL||Mt/se>he||(g.join===id.ROUND?Le?H+=$_(X,de,X+M*be,de+ke*be,X+qe*be,de+Te*be,U,!0)+2:H+=$_(X,de,X-M*z,de-ke*z,X-qe*z,de-Te*z,U,!1)+2:(Le?(U.push(Pt,Vt),U.push(Pt,Vt)):(U.push(Bt,Lt),U.push(Bt,Lt)),H+=2)),U.push(X-qe*z,de-Te*z),U.push(X+qe*be,de+Te*be),H+=2)}oe=u[(N-2)*2],ue=u[(N-2)*2+1],X=u[(N-1)*2],de=u[(N-1)*2+1],M=-(ue-de),ke=oe-X,at=Math.sqrt(M*M+ke*ke),M/=at,ke/=at,M*=j,ke*=j,U.push(X-M*z,de-ke*z),U.push(X+M*be,de+ke*be),w||(g.cap===ad.ROUND?H+=$_(X-M*(z-be)*.5,de-ke*(z-be)*.5,X-M*z,de-ke*z,X+M*be,de+ke*be,U,!1)+2:g.cap===ad.SQUARE&&(H+=Tse(X,de,M,ke,z,be,!1,U)));for(var Dr=o.indices,Tn=Q_.epsilon*Q_.epsilon,Re=q;Re<H+q-2;++Re)oe=U[Re*2],ue=U[Re*2+1],X=U[(Re+1)*2],de=U[(Re+1)*2+1],fe=U[(Re+2)*2],Fe=U[(Re+2)*2+1],!(Math.abs(oe*(de-Fe)+X*(Fe-ue)+fe*(ue-de))<Tn)&&Dr.push(Re,Re+1,Re+2)}}function vnt(l,o){var a=0,u=l.shape,f=l.points||u.points,g=u.type!==Sa.POLY||u.closeStroke;if(f.length!==0){var v=o.points,S=o.indices,w=f.length/2,I=v.length/2,k=I;for(v.push(f[0],f[1]),a=1;a<w;a++)v.push(f[a*2],f[a*2+1]),S.push(k,k+1),k++;g&&S.push(k,I)}}function CH(l,o){l.lineStyle.native?vnt(l,o):gnt(l,o)}var AH=(function(){function l(){}return l.curveTo=function(o,a,u,f,g,v){var S=v[v.length-2],w=v[v.length-1],I=w-a,k=S-o,F=f-a,U=u-o,N=Math.abs(I*U-k*F);if(N<1e-8||g===0)return(v[v.length-2]!==o||v[v.length-1]!==a)&&v.push(o,a),null;var H=I*I+k*k,q=F*F+U*U,j=I*F+k*U,se=g*Math.sqrt(H)/N,he=g*Math.sqrt(q)/N,oe=se*j/H,ue=he*j/q,X=se*U+he*k,de=se*F+he*I,fe=k*(he+oe),Fe=I*(he+oe),M=U*(se+ue),ke=F*(se+ue),qe=Math.atan2(Fe-de,fe-X),Te=Math.atan2(ke-de,M-X);return{cx:X+o,cy:de+a,radius:g,startAngle:qe,endAngle:Te,anticlockwise:k*F>U*I}},l.arc=function(o,a,u,f,g,v,S,w,I){for(var k=S-v,F=Q_._segmentsCount(Math.abs(k)*g,Math.ceil(Math.abs(k)/bA)*40),U=k/(F*2),N=U*2,H=Math.cos(U),q=Math.sin(U),j=F-1,se=j%1/j,he=0;he<=j;++he){var oe=he+se*he,ue=U+v+N*oe,X=Math.cos(ue),de=-Math.sin(ue);I.push((H*X+q*de)*g+u,(H*-de+q*X)*g+f)}},l})(),Hhe=(function(){function l(){}return l.curveLength=function(o,a,u,f,g,v,S,w){for(var I=10,k=0,F=0,U=0,N=0,H=0,q=0,j=0,se=0,he=0,oe=0,ue=0,X=o,de=a,fe=1;fe<=I;++fe)F=fe/I,U=F*F,N=U*F,H=1-F,q=H*H,j=q*H,se=j*o+3*q*F*u+3*H*U*g+N*S,he=j*a+3*q*F*f+3*H*U*v+N*w,oe=X-se,ue=de-he,X=se,de=he,k+=Math.sqrt(oe*oe+ue*ue);return k},l.curveTo=function(o,a,u,f,g,v,S){var w=S[S.length-2],I=S[S.length-1];S.length-=2;var k=Q_._segmentsCount(l.curveLength(w,I,o,a,u,f,g,v)),F=0,U=0,N=0,H=0,q=0;S.push(w,I);for(var j=1,se=0;j<=k;++j)se=j/k,F=1-se,U=F*F,N=U*F,H=se*se,q=H*se,S.push(N*w+3*U*se*o+3*F*H*u+q*g,N*I+3*U*se*a+3*F*H*f+q*v)},l})(),$he=(function(){function l(){}return l.curveLength=function(o,a,u,f,g,v){var S=o-2*u+g,w=a-2*f+v,I=2*u-2*o,k=2*f-2*a,F=4*(S*S+w*w),U=4*(S*I+w*k),N=I*I+k*k,H=2*Math.sqrt(F+U+N),q=Math.sqrt(F),j=2*F*q,se=2*Math.sqrt(N),he=U/q;return(j*H+q*U*(H-se)+(4*N*F-U*U)*Math.log((2*q+he+H)/(he+se)))/(4*j)},l.curveTo=function(o,a,u,f,g){for(var v=g[g.length-2],S=g[g.length-1],w=Q_._segmentsCount(l.curveLength(v,S,o,a,u,f)),I=0,k=0,F=1;F<=w;++F){var U=F/w;I=v+(o-v)*U,k=S+(a-S)*U,g.push(I+(o+(u-o)*U-I)*U,k+(a+(f-a)*U-k)*U)}},l})(),Ghe=(function(){function l(){this.reset()}return l.prototype.begin=function(o,a,u){this.reset(),this.style=o,this.start=a,this.attribStart=u},l.prototype.end=function(o,a){this.attribSize=a-this.attribStart,this.size=o-this.start},l.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},l})(),yv,BP=(yv={},yv[Sa.POLY]=f9,yv[Sa.CIRC]=SH,yv[Sa.ELIP]=SH,yv[Sa.RECT]=Fhe,yv[Sa.RREC]=Uhe,yv),wH=[],aA=[],xH=(function(){function l(o,a,u,f){a===void 0&&(a=null),u===void 0&&(u=null),f===void 0&&(f=null),this.shape=o,this.lineStyle=u,this.fillStyle=a,this.matrix=f,this.type=o.type,this.points=[],this.holes=[]}return l.prototype.clone=function(){return new l(this.shape,this.fillStyle,this.lineStyle,this.matrix)},l.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},l})(),G_=new Ca,ynt=new SA,zhe=(function(l){h9(o,l);function o(){var a=l.call(this)||this;return a.uvsFloat32=null,a.indicesUint16=null,a.points=[],a.colors=[],a.uvs=[],a.indices=[],a.textureIds=[],a.graphicsData=[],a.dirty=0,a.batchDirty=-1,a.cacheDirty=-1,a.clearDirty=0,a.drawCalls=[],a.batches=[],a.shapeIndex=0,a._bounds=new SA,a.boundsDirty=-1,a.boundsPadding=0,a.batchable=!1,a.indicesUint16=null,a.uvsFloat32=null,a.closePointEps=1e-4,a}return Object.defineProperty(o.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),o.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var a=0;a<this.drawCalls.length;a++)this.drawCalls[a].texArray.clear(),aA.push(this.drawCalls[a]);this.drawCalls.length=0;for(var a=0;a<this.batches.length;a++){var u=this.batches[a];u.reset(),wH.push(u)}this.batches.length=0},o.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},o.prototype.drawShape=function(a,u,f,g){u===void 0&&(u=null),f===void 0&&(f=null),g===void 0&&(g=null);var v=new xH(a,u,f,g);return this.graphicsData.push(v),this.dirty++,this},o.prototype.drawHole=function(a,u){if(u===void 0&&(u=null),!this.graphicsData.length)return null;var f=new xH(a,null,null,u),g=this.graphicsData[this.graphicsData.length-1];return f.lineStyle=g.lineStyle,g.holes.push(f),this.dirty++,this},o.prototype.destroy=function(){l.prototype.destroy.call(this);for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},o.prototype.containsPoint=function(a){for(var u=this.graphicsData,f=0;f<u.length;++f){var g=u[f];if(g.fillStyle.visible&&g.shape&&(g.matrix?g.matrix.applyInverse(a,G_):G_.copyFrom(a),g.shape.contains(G_.x,G_.y))){var v=!1;if(g.holes)for(var S=0;S<g.holes.length;S++){var w=g.holes[S];if(w.shape.contains(G_.x,G_.y)){v=!0;break}}if(!v)return!0}}return!1},o.prototype.updateBatches=function(a){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var u=this.uvs,f=this.graphicsData,g=null,v=null;this.batches.length>0&&(g=this.batches[this.batches.length-1],v=g.style);for(var S=this.shapeIndex;S<f.length;S++){this.shapeIndex++;var w=f[S],I=w.fillStyle,k=w.lineStyle,F=BP[w.type];F.build(w),w.matrix&&this.transformPoints(w.points,w.matrix);for(var U=0;U<2;U++){var N=U===0?I:k;if(N.visible){var H=N.texture.baseTexture,q=this.indices.length,j=this.points.length/2;H.wrapMode=Wh.REPEAT,U===0?this.processFill(w):this.processLine(w);var se=this.points.length/2-j;se!==0&&(g&&!this._compareStyles(v,N)&&(g.end(q,j),g=null),g||(g=wH.pop()||new Ghe,g.begin(N,q,j),this.batches.push(g),v=N),this.addUvs(this.points,u,N.texture,j,se,N.matrix))}}}var he=this.indices.length,oe=this.points.length/2;if(g&&g.end(he,oe),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var ue=oe>65535&&a;this.indicesUint16=ue?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},o.prototype._compareStyles=function(a,u){return!(!a||!u||a.texture.baseTexture!==u.texture.baseTexture||a.color+a.alpha!==u.color+u.alpha||!!a.native!=!!u.native)},o.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var a=0,u=this.graphicsData.length;a<u;a++){var f=this.graphicsData[a],g=f.fillStyle,v=f.lineStyle;if(g&&!g.texture.baseTexture.valid||v&&!v.texture.baseTexture.valid)return!1}return!0},o.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var a=this.batches,u=0,f=a.length;u<f;u++)for(var g=a[u],v=0;v<g.size;v++){var S=g.start+v;this.indicesUint16[S]=this.indicesUint16[S]-g.attribStart}},o.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var a=this.batches,u=0;u<a.length;u++)if(a[u].style.native)return!1;return this.points.length<o.BATCHABLE_SIZE*2},o.prototype.buildDrawCalls=function(){for(var a=++Ii._globalBatch,u=0;u<this.drawCalls.length;u++)this.drawCalls[u].texArray.clear(),aA.push(this.drawCalls[u]);this.drawCalls.length=0;var f=this.colors,g=this.textureIds,v=aA.pop();v||(v=new XP,v.texArray=new qP),v.texArray.count=0,v.start=0,v.size=0,v.type=Pu.TRIANGLES;var S=0,w=null,I=0,k=!1,F=Pu.TRIANGLES,U=0;this.drawCalls.push(v);for(var u=0;u<this.batches.length;u++){var N=this.batches[u],H=8,q=N.style,j=q.texture.baseTexture;k!==!!q.native&&(k=!!q.native,F=k?Pu.LINES:Pu.TRIANGLES,w=null,S=H,a++),w!==j&&(w=j,j._batchEnabled!==a&&(S===H&&(a++,S=0,v.size>0&&(v=aA.pop(),v||(v=new XP,v.texArray=new qP),this.drawCalls.push(v)),v.start=U,v.size=0,v.texArray.count=0,v.type=F),j.touched=1,j._batchEnabled=a,j._batchLocation=S,j.wrapMode=Wh.REPEAT,v.texArray.elements[v.texArray.count++]=j,S++)),v.size+=N.size,U+=N.size,I=j._batchLocation,this.addColors(f,q.color,q.alpha,N.attribSize),this.addTextureIds(g,I,N.attribSize)}Ii._globalBatch=a,this.packAttributes()},o.prototype.packAttributes=function(){for(var a=this.points,u=this.uvs,f=this.colors,g=this.textureIds,v=new ArrayBuffer(a.length*3*4),S=new Float32Array(v),w=new Uint32Array(v),I=0,k=0;k<a.length/2;k++)S[I++]=a[k*2],S[I++]=a[k*2+1],S[I++]=u[k*2],S[I++]=u[k*2+1],w[I++]=f[k],S[I++]=g[k];this._buffer.update(v),this._indexBuffer.update(this.indicesUint16)},o.prototype.processFill=function(a){if(a.holes.length)this.processHoles(a.holes),f9.triangulate(a,this);else{var u=BP[a.type];u.triangulate(a,this)}},o.prototype.processLine=function(a){CH(a,this);for(var u=0;u<a.holes.length;u++)CH(a.holes[u],this)},o.prototype.processHoles=function(a){for(var u=0;u<a.length;u++){var f=a[u],g=BP[f.type];g.build(f),f.matrix&&this.transformPoints(f.points,f.matrix)}},o.prototype.calculateBounds=function(){var a=this._bounds,u=ynt,f=Ha.IDENTITY;this._bounds.clear(),u.clear();for(var g=0;g<this.graphicsData.length;g++){var v=this.graphicsData[g],S=v.shape,w=v.type,I=v.lineStyle,k=v.matrix||Ha.IDENTITY,F=0;if(I&&I.visible){var U=I.alignment;F=I.width,w===Sa.POLY?F=F*(.5+Math.abs(.5-U)):F=F*Math.max(0,U)}if(f!==k&&(u.isEmpty()||(a.addBoundsMatrix(u,f),u.clear()),f=k),w===Sa.RECT||w===Sa.RREC){var N=S;u.addFramePad(N.x,N.y,N.x+N.width,N.y+N.height,F,F)}else if(w===Sa.CIRC){var H=S;u.addFramePad(H.x,H.y,H.x,H.y,H.radius+F,H.radius+F)}else if(w===Sa.ELIP){var q=S;u.addFramePad(q.x,q.y,q.x,q.y,q.width+F,q.height+F)}else{var j=S;a.addVerticesMatrix(f,j.points,0,j.points.length,F,F)}}u.isEmpty()||a.addBoundsMatrix(u,f),a.pad(this.boundsPadding,this.boundsPadding)},o.prototype.transformPoints=function(a,u){for(var f=0;f<a.length/2;f++){var g=a[f*2],v=a[f*2+1];a[f*2]=u.a*g+u.c*v+u.tx,a[f*2+1]=u.b*g+u.d*v+u.ty}},o.prototype.addColors=function(a,u,f,g){for(var v=(u>>16)+(u&65280)+((u&255)<<16),S=vR(v,f);g-- >0;)a.push(S)},o.prototype.addTextureIds=function(a,u,f){for(;f-- >0;)a.push(u)},o.prototype.addUvs=function(a,u,f,g,v,S){S===void 0&&(S=null);for(var w=0,I=u.length,k=f.frame;w<v;){var F=a[(g+w)*2],U=a[(g+w)*2+1];if(S){var N=S.a*F+S.c*U+S.tx;U=S.b*F+S.d*U+S.ty,F=N}w++,u.push(F/k.width,U/k.height)}var H=f.baseTexture;(k.width<H.width||k.height<H.height)&&this.adjustUvs(u,f,I,v)},o.prototype.adjustUvs=function(a,u,f,g){for(var v=u.baseTexture,S=1e-6,w=f+g*2,I=u.frame,k=I.width/v.width,F=I.height/v.height,U=I.x/I.width,N=I.y/I.height,H=Math.floor(a[f]+S),q=Math.floor(a[f+1]+S),j=f+2;j<w;j+=2)H=Math.min(H,Math.floor(a[j]+S)),q=Math.min(q,Math.floor(a[j+1]+S));U-=H,N-=q;for(var j=f;j<w;j+=2)a[j]=(a[j]+U)*k,a[j+1]=(a[j+1]+N)*F},o.BATCHABLE_SIZE=100,o})(l9),jhe=(function(l){h9(o,l);function o(){var a=l!==null&&l.apply(this,arguments)||this;return a.width=0,a.alignment=.5,a.native=!1,a.cap=ad.BUTT,a.join=id.MITER,a.miterLimit=10,a}return o.prototype.clone=function(){var a=new o;return a.color=this.color,a.alpha=this.alpha,a.texture=this.texture,a.matrix=this.matrix,a.visible=this.visible,a.width=this.width,a.alignment=this.alignment,a.native=this.native,a.cap=this.cap,a.join=this.join,a.miterLimit=this.miterLimit,a},o.prototype.reset=function(){l.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},o})(c9),_nt=new Float32Array(3),q8={},d9=(function(l){h9(o,l);function o(a){a===void 0&&(a=null);var u=l.call(this)||this;return u._geometry=a||new zhe,u._geometry.refCount++,u.shader=null,u.state=im.for2d(),u._fillStyle=new c9,u._lineStyle=new jhe,u._matrix=null,u._holeMode=!1,u.currentPath=null,u.batches=[],u.batchTint=-1,u.batchDirty=-1,u.vertexData=null,u.pluginName="batch",u._transformID=-1,u.tint=16777215,u.blendMode=Wr.NORMAL,u}return Object.defineProperty(o.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),o.prototype.clone=function(){return this.finishPoly(),new o(this._geometry)},Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(a){this._tint=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),o.prototype.lineStyle=function(a,u,f,g,v){return a===void 0&&(a=null),u===void 0&&(u=0),f===void 0&&(f=1),g===void 0&&(g=.5),v===void 0&&(v=!1),typeof a=="number"&&(a={width:a,color:u,alpha:f,alignment:g,native:v}),this.lineTextureStyle(a)},o.prototype.lineTextureStyle=function(a){a=Object.assign({width:0,texture:an.WHITE,color:a&&a.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:ad.BUTT,join:id.MITER,miterLimit:10},a),this.currentPath&&this.startPoly();var u=a.width>0&&a.alpha>0;return u?(a.matrix&&(a.matrix=a.matrix.clone(),a.matrix.invert()),Object.assign(this._lineStyle,{visible:u},a)):this._lineStyle.reset(),this},o.prototype.startPoly=function(){if(this.currentPath){var a=this.currentPath.points,u=this.currentPath.points.length;u>2&&(this.drawShape(this.currentPath),this.currentPath=new fA,this.currentPath.closeStroke=!1,this.currentPath.points.push(a[u-2],a[u-1]))}else this.currentPath=new fA,this.currentPath.closeStroke=!1},o.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},o.prototype.moveTo=function(a,u){return this.startPoly(),this.currentPath.points[0]=a,this.currentPath.points[1]=u,this},o.prototype.lineTo=function(a,u){this.currentPath||this.moveTo(0,0);var f=this.currentPath.points,g=f[f.length-2],v=f[f.length-1];return(g!==a||v!==u)&&f.push(a,u),this},o.prototype._initCurve=function(a,u){a===void 0&&(a=0),u===void 0&&(u=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[a,u]):this.moveTo(a,u)},o.prototype.quadraticCurveTo=function(a,u,f,g){this._initCurve();var v=this.currentPath.points;return v.length===0&&this.moveTo(0,0),$he.curveTo(a,u,f,g,v),this},o.prototype.bezierCurveTo=function(a,u,f,g,v,S){return this._initCurve(),Hhe.curveTo(a,u,f,g,v,S,this.currentPath.points),this},o.prototype.arcTo=function(a,u,f,g,v){this._initCurve(a,u);var S=this.currentPath.points,w=AH.curveTo(a,u,f,g,v,S);if(w){var I=w.cx,k=w.cy,F=w.radius,U=w.startAngle,N=w.endAngle,H=w.anticlockwise;this.arc(I,k,F,U,N,H)}return this},o.prototype.arc=function(a,u,f,g,v,S){if(S===void 0&&(S=!1),g===v)return this;!S&&v<=g?v+=bA:S&&g<=v&&(g+=bA);var w=v-g;if(w===0)return this;var I=a+Math.cos(g)*f,k=u+Math.sin(g)*f,F=this._geometry.closePointEps,U=this.currentPath?this.currentPath.points:null;if(U){var N=Math.abs(U[U.length-2]-I),H=Math.abs(U[U.length-1]-k);N<F&&H<F||U.push(I,k)}else this.moveTo(I,k),U=this.currentPath.points;return AH.arc(I,k,a,u,f,g,v,S,U),this},o.prototype.beginFill=function(a,u){return a===void 0&&(a=0),u===void 0&&(u=1),this.beginTextureFill({texture:an.WHITE,color:a,alpha:u})},o.prototype.beginTextureFill=function(a){a=Object.assign({texture:an.WHITE,color:16777215,alpha:1,matrix:null},a),this.currentPath&&this.startPoly();var u=a.alpha>0;return u?(a.matrix&&(a.matrix=a.matrix.clone(),a.matrix.invert()),Object.assign(this._fillStyle,{visible:u},a)):this._fillStyle.reset(),this},o.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},o.prototype.drawRect=function(a,u,f,g){return this.drawShape(new Zn(a,u,f,g))},o.prototype.drawRoundedRect=function(a,u,f,g,v){return this.drawShape(new jce(a,u,f,g,v))},o.prototype.drawCircle=function(a,u,f){return this.drawShape(new Gce(a,u,f))},o.prototype.drawEllipse=function(a,u,f,g){return this.drawShape(new zce(a,u,f,g))},o.prototype.drawPolygon=function(){for(var a=arguments,u=[],f=0;f<arguments.length;f++)u[f]=a[f];var g,v=!0,S=u[0];S.points?(v=S.closeStroke,g=S.points):Array.isArray(u[0])?g=u[0]:g=u;var w=new fA(g);return w.closeStroke=v,this.drawShape(w),this},o.prototype.drawShape=function(a){return this._holeMode?this._geometry.drawHole(a,this._matrix):this._geometry.drawShape(a,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},o.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},o.prototype.isFastRect=function(){var a=this._geometry.graphicsData;return a.length===1&&a[0].shape.type===Sa.RECT&&!a[0].holes.length&&!(a[0].lineStyle.visible&&a[0].lineStyle.width)},o.prototype._render=function(a){this.finishPoly();var u=this._geometry,f=a.context.supports.uint32Indices;u.updateBatches(f),u.batchable?(this.batchDirty!==u.batchDirty&&this._populateBatches(),this._renderBatched(a)):(a.batch.flush(),this._renderDirect(a))},o.prototype._populateBatches=function(){var a=this._geometry,u=this.blendMode,f=a.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=a.batchDirty,this.batches.length=f,this.vertexData=new Float32Array(a.points);for(var g=0;g<f;g++){var v=a.batches[g],S=v.style.color,w=new Float32Array(this.vertexData.buffer,v.attribStart*4*2,v.attribSize*2),I=new Float32Array(a.uvsFloat32.buffer,v.attribStart*4*2,v.attribSize*2),k=new Uint16Array(a.indicesUint16.buffer,v.start*2,v.size),F={vertexData:w,blendMode:u,indices:k,uvs:I,_batchRGB:Wv(S),_tintRGB:S,_texture:v.style.texture,alpha:v.style.alpha,worldAlpha:1};this.batches[g]=F}},o.prototype._renderBatched=function(a){if(this.batches.length){a.batch.setObjectRenderer(a.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var u=0,f=this.batches.length;u<f;u++){var g=this.batches[u];g.worldAlpha=this.worldAlpha*g.alpha,a.plugins[this.pluginName].render(g)}}},o.prototype._renderDirect=function(a){var u=this._resolveDirectShader(a),f=this._geometry,g=this.tint,v=this.worldAlpha,S=u.uniforms,w=f.drawCalls;S.translationMatrix=this.transform.worldTransform,S.tint[0]=(g>>16&255)/255*v,S.tint[1]=(g>>8&255)/255*v,S.tint[2]=(g&255)/255*v,S.tint[3]=v,a.shader.bind(u),a.geometry.bind(f,u),a.state.set(this.state);for(var I=0,k=w.length;I<k;I++)this._renderDrawCallDirect(a,f.drawCalls[I])},o.prototype._renderDrawCallDirect=function(a,u){for(var f=u.texArray,g=u.type,v=u.size,S=u.start,w=f.count,I=0;I<w;I++)a.texture.bind(f.elements[I],I);a.geometry.draw(g,v,S)},o.prototype._resolveDirectShader=function(a){var u=this.shader,f=this.pluginName;if(!u){if(!q8[f]){for(var g=a.plugins.batch.MAX_TEXTURES,v=new Int32Array(g),S=0;S<g;S++)v[S]=S;var w={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ha,default:Qp.from({uSamplers:v},!0)},I=a.plugins[f]._shader.program;q8[f]=new rm(I,w)}u=q8[f]}return u},o.prototype._calculateBounds=function(){this.finishPoly();var a=this._geometry;if(a.graphicsData.length){var u=a.bounds,f=u.minX,g=u.minY,v=u.maxX,S=u.maxY;this._bounds.addFrame(this.transform,f,g,v,S)}},o.prototype.containsPoint=function(a){return this.worldTransform.applyInverse(a,o._TEMP_POINT),this._geometry.containsPoint(o._TEMP_POINT)},o.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var a=Wv(this.tint,_nt),u=0;u<this.batches.length;u++){var f=this.batches[u],g=f._batchRGB,v=a[0]*g[0]*255,S=a[1]*g[1]*255,w=a[2]*g[2]*255,I=(v<<16)+(S<<8)+(w|0);f._tintRGB=(I>>16)+(I&65280)+((I&255)<<16)}}},o.prototype.calculateVertices=function(){var a=this.transform._worldID;if(this._transformID!==a){this._transformID=a;for(var u=this.transform.worldTransform,f=u.a,g=u.b,v=u.c,S=u.d,w=u.tx,I=u.ty,k=this._geometry.points,F=this.vertexData,U=0,N=0;N<k.length;N+=2){var H=k[N],q=k[N+1];F[U++]=f*H+v*q+w,F[U++]=S*q+g*H+I}}},o.prototype.closePath=function(){var a=this.currentPath;return a&&(a.closeStroke=!0),this},o.prototype.setMatrix=function(a){return this._matrix=a,this},o.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},o.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},o.prototype.destroy=function(a){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,l.prototype.destroy.call(this,a)},o._TEMP_POINT=new Ca,o})(Rc),Ent={buildPoly:f9,buildCircle:SH,buildRectangle:Fhe,buildRoundedRectangle:Uhe,buildLine:CH,ArcUtils:AH,BezierUtils:Hhe,QuadraticUtils:$he,BatchPart:Ghe,FILL_COMMANDS:BP,BATCH_POOL:wH,DRAW_CALL_POOL:aA};/*!
 * @pixi/sprite - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var IH=function(l,o){return IH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},IH(l,o)};function Tnt(l,o){IH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var YC=new Ca,bnt=new Uint16Array([0,1,2,0,2,3]),oE=(function(l){Tnt(o,l);function o(a){var u=l.call(this)||this;return u._anchor=new Lv(u._onAnchorUpdate,u,a?a.defaultAnchor.x:0,a?a.defaultAnchor.y:0),u._texture=null,u._width=0,u._height=0,u._tint=null,u._tintRGB=null,u.tint=16777215,u.blendMode=Wr.NORMAL,u._cachedTint=16777215,u.uvs=null,u.texture=a||an.EMPTY,u.vertexData=new Float32Array(8),u.vertexTrimmedData=null,u._transformID=-1,u._textureID=-1,u._transformTrimmedID=-1,u._textureTrimmedID=-1,u.indices=bnt,u.pluginName="batch",u.isSprite=!0,u._roundPixels=Gr.ROUND_PIXELS,u}return o.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Mv(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Mv(this.scale.y)*this._height/this._texture.orig.height)},o.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},o.prototype.calculateVertices=function(){var a=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===a._updateID)){this._textureID!==a._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=a._updateID;var u=this.transform.worldTransform,f=u.a,g=u.b,v=u.c,S=u.d,w=u.tx,I=u.ty,k=this.vertexData,F=a.trim,U=a.orig,N=this._anchor,H=0,q=0,j=0,se=0;if(F?(q=F.x-N._x*U.width,H=q+F.width,se=F.y-N._y*U.height,j=se+F.height):(q=-N._x*U.width,H=q+U.width,se=-N._y*U.height,j=se+U.height),k[0]=f*q+v*se+w,k[1]=S*se+g*q+I,k[2]=f*H+v*se+w,k[3]=S*se+g*H+I,k[4]=f*H+v*j+w,k[5]=S*j+g*H+I,k[6]=f*q+v*j+w,k[7]=S*j+g*q+I,this._roundPixels)for(var he=Gr.RESOLUTION,oe=0;oe<k.length;++oe)k[oe]=Math.round((k[oe]*he|0)/he)}},o.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var a=this._texture,u=this.vertexTrimmedData,f=a.orig,g=this._anchor,v=this.transform.worldTransform,S=v.a,w=v.b,I=v.c,k=v.d,F=v.tx,U=v.ty,N=-g._x*f.width,H=N+f.width,q=-g._y*f.height,j=q+f.height;u[0]=S*N+I*q+F,u[1]=k*q+w*N+U,u[2]=S*H+I*q+F,u[3]=k*q+w*H+U,u[4]=S*H+I*j+F,u[5]=k*j+w*H+U,u[6]=S*N+I*j+F,u[7]=k*j+w*N+U},o.prototype._render=function(a){this.calculateVertices(),a.batch.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)},o.prototype._calculateBounds=function(){var a=this._texture.trim,u=this._texture.orig;!a||a.width===u.width&&a.height===u.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},o.prototype.getLocalBounds=function(a){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),a||(this._localBoundsRect||(this._localBoundsRect=new Zn),a=this._localBoundsRect),this._bounds.getRectangle(a)):l.prototype.getLocalBounds.call(this,a)},o.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,YC);var u=this._texture.orig.width,f=this._texture.orig.height,g=-u*this.anchor.x,v=0;return YC.x>=g&&YC.x<g+u&&(v=-f*this.anchor.y,YC.y>=v&&YC.y<v+f)},o.prototype.destroy=function(a){l.prototype.destroy.call(this,a),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var u=typeof a=="boolean"?a:a&&a.texture;if(u){var f=typeof a=="boolean"?a:a&&a.baseTexture;this._texture.destroy(!!f)}this._texture=null},o.from=function(a,u){var f=a instanceof an?a:an.from(a,u);return new o(f)},Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){this._roundPixels!==a&&(this._transformID=-1),this._roundPixels=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var u=Mv(this.scale.x)||1;this.scale.x=u*a/this._texture.orig.width,this._width=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var u=Mv(this.scale.y)||1;this.scale.y=u*a/this._texture.orig.height,this._height=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(a){this._anchor.copyFrom(a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(a){this._tint=a,this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"texture",{get:function(){return this._texture},set:function(a){this._texture!==a&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=a||an.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,a&&(a.baseTexture.valid?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),o})(Rc);/*!
 * @pixi/text - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var DH=function(l,o){return DH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},DH(l,o)};function Snt(l,o){DH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var J_;(function(l){l[l.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",l[l.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(J_||(J_={}));var K8={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:J_.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Cnt=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Kv=(function(){function l(o){this.styleID=0,this.reset(),Q8(this,o,o)}return l.prototype.clone=function(){var o={};return Q8(o,this,K8),new l(o)},l.prototype.reset=function(){Q8(this,K8,K8)},Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(o){this._align!==o&&(this._align=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"breakWords",{get:function(){return this._breakWords},set:function(o){this._breakWords!==o&&(this._breakWords=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(o){this._dropShadow!==o&&(this._dropShadow=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(o){this._dropShadowAlpha!==o&&(this._dropShadowAlpha=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(o){this._dropShadowAngle!==o&&(this._dropShadowAngle=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(o){this._dropShadowBlur!==o&&(this._dropShadowBlur=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(o){var a=Z8(o);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(o){this._dropShadowDistance!==o&&(this._dropShadowDistance=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fill",{get:function(){return this._fill},set:function(o){var a=Z8(o);this._fill!==a&&(this._fill=a,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(o){this._fillGradientType!==o&&(this._fillGradientType=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(o){Ant(this._fillGradientStops,o)||(this._fillGradientStops=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(o){this.fontFamily!==o&&(this._fontFamily=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontSize",{get:function(){return this._fontSize},set:function(o){this._fontSize!==o&&(this._fontSize=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(o){this._fontStyle!==o&&(this._fontStyle=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(o){this._fontVariant!==o&&(this._fontVariant=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(o){this._fontWeight!==o&&(this._fontWeight=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(o){this._letterSpacing!==o&&(this._letterSpacing=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(o){this._lineHeight!==o&&(this._lineHeight=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"leading",{get:function(){return this._leading},set:function(o){this._leading!==o&&(this._leading=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(o){this._lineJoin!==o&&(this._lineJoin=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(o){this._miterLimit!==o&&(this._miterLimit=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._padding},set:function(o){this._padding!==o&&(this._padding=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this._stroke},set:function(o){var a=Z8(o);this._stroke!==a&&(this._stroke=a,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(o){this._strokeThickness!==o&&(this._strokeThickness=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(o){this._textBaseline!==o&&(this._textBaseline=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"trim",{get:function(){return this._trim},set:function(o){this._trim!==o&&(this._trim=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(o){this._whiteSpace!==o&&(this._whiteSpace=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(o){this._wordWrap!==o&&(this._wordWrap=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(o){this._wordWrapWidth!==o&&(this._wordWrapWidth=o,this.styleID++)},enumerable:!1,configurable:!0}),l.prototype.toFontString=function(){var o=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,a=this.fontFamily;Array.isArray(this.fontFamily)||(a=this.fontFamily.split(","));for(var u=a.length-1;u>=0;u--){var f=a[u].trim();!/([\"\'])[^\'\"]+\1/.test(f)&&Cnt.indexOf(f)<0&&(f='"'+f+'"'),a[u]=f}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+o+" "+a.join(",")},l})();function bse(l){return typeof l=="number"?O$(l):(typeof l=="string"&&l.indexOf("0x")===0&&(l=l.replace("0x","#")),l)}function Z8(l){if(Array.isArray(l)){for(var o=0;o<l.length;++o)l[o]=bse(l[o]);return l}else return bse(l)}function Ant(l,o){if(!Array.isArray(l)||!Array.isArray(o)||l.length!==o.length)return!1;for(var a=0;a<l.length;++a)if(l[a]!==o[a])return!1;return!0}function Q8(l,o,a){for(var u in a)Array.isArray(o[u])?l[u]=o[u].slice():l[u]=o[u]}var Zl=(function(){function l(o,a,u,f,g,v,S,w,I){this.text=o,this.style=a,this.width=u,this.height=f,this.lines=g,this.lineWidths=v,this.lineHeight=S,this.maxLineWidth=w,this.fontProperties=I}return l.measureText=function(o,a,u,f){f===void 0&&(f=l._canvas),u=u??a.wordWrap;var g=a.toFontString(),v=l.measureFont(g);v.fontSize===0&&(v.fontSize=a.fontSize,v.ascent=a.fontSize);var S=f.getContext("2d");S.font=g;for(var w=u?l.wordWrap(o,a,f):o,I=w.split(/(?:\r\n|\r|\n)/),k=new Array(I.length),F=0,U=0;U<I.length;U++){var N=S.measureText(I[U]).width+(I[U].length-1)*a.letterSpacing;k[U]=N,F=Math.max(F,N)}var H=F+a.strokeThickness;a.dropShadow&&(H+=a.dropShadowDistance);var q=a.lineHeight||v.fontSize+a.strokeThickness,j=Math.max(q,v.fontSize+a.strokeThickness)+(I.length-1)*(q+a.leading);return a.dropShadow&&(j+=a.dropShadowDistance),new l(o,a,H,j,I,k,q+a.leading,F,v)},l.wordWrap=function(o,a,u){u===void 0&&(u=l._canvas);for(var f=u.getContext("2d"),g=0,v="",S="",w=Object.create(null),I=a.letterSpacing,k=a.whiteSpace,F=l.collapseSpaces(k),U=l.collapseNewlines(k),N=!F,H=a.wordWrapWidth+I,q=l.tokenize(o),j=0;j<q.length;j++){var se=q[j];if(l.isNewline(se)){if(!U){S+=l.addLine(v),N=!F,v="",g=0;continue}se=" "}if(F){var he=l.isBreakingSpace(se),oe=l.isBreakingSpace(v[v.length-1]);if(he&&oe)continue}var ue=l.getFromCache(se,I,w,f);if(ue>H)if(v!==""&&(S+=l.addLine(v),v="",g=0),l.canBreakWords(se,a.breakWords))for(var X=l.wordWrapSplit(se),de=0;de<X.length;de++){for(var fe=X[de],Fe=1;X[de+Fe];){var M=X[de+Fe],ke=fe[fe.length-1];if(!l.canBreakChars(ke,M,se,de,a.breakWords))fe+=M;else break;Fe++}de+=fe.length-1;var qe=l.getFromCache(fe,I,w,f);qe+g>H&&(S+=l.addLine(v),N=!1,v="",g=0),v+=fe,g+=qe}else{v.length>0&&(S+=l.addLine(v),v="",g=0);var Te=j===q.length-1;S+=l.addLine(se,!Te),N=!1,v="",g=0}else ue+g>H&&(N=!1,S+=l.addLine(v),v="",g=0),(v.length>0||!l.isBreakingSpace(se)||N)&&(v+=se,g+=ue)}return S+=l.addLine(v,!1),S},l.addLine=function(o,a){return a===void 0&&(a=!0),o=l.trimRight(o),o=a?o+`
`:o,o},l.getFromCache=function(o,a,u,f){var g=u[o];if(typeof g!="number"){var v=o.length*a;g=f.measureText(o).width+v,u[o]=g}return g},l.collapseSpaces=function(o){return o==="normal"||o==="pre-line"},l.collapseNewlines=function(o){return o==="normal"},l.trimRight=function(o){if(typeof o!="string")return"";for(var a=o.length-1;a>=0;a--){var u=o[a];if(!l.isBreakingSpace(u))break;o=o.slice(0,-1)}return o},l.isNewline=function(o){return typeof o!="string"?!1:l._newlines.indexOf(o.charCodeAt(0))>=0},l.isBreakingSpace=function(o,a){return typeof o!="string"?!1:l._breakingSpaces.indexOf(o.charCodeAt(0))>=0},l.tokenize=function(o){var a=[],u="";if(typeof o!="string")return a;for(var f=0;f<o.length;f++){var g=o[f],v=o[f+1];if(l.isBreakingSpace(g,v)||l.isNewline(g)){u!==""&&(a.push(u),u=""),a.push(g);continue}u+=g}return u!==""&&a.push(u),a},l.canBreakWords=function(o,a){return a},l.canBreakChars=function(o,a,u,f,g){return!0},l.wordWrapSplit=function(o){return o.split("")},l.measureFont=function(o){if(l._fonts[o])return l._fonts[o];var a={ascent:0,descent:0,fontSize:0},u=l._canvas,f=l._context;f.font=o;var g=l.METRICS_STRING+l.BASELINE_SYMBOL,v=Math.ceil(f.measureText(g).width),S=Math.ceil(f.measureText(l.BASELINE_SYMBOL).width),w=Math.ceil(l.HEIGHT_MULTIPLIER*S);S=S*l.BASELINE_MULTIPLIER|0,u.width=v,u.height=w,f.fillStyle="#f00",f.fillRect(0,0,v,w),f.font=o,f.textBaseline="alphabetic",f.fillStyle="#000",f.fillText(g,0,S);var I=f.getImageData(0,0,v,w).data,k=I.length,F=v*4,U=0,N=0,H=!1;for(U=0;U<S;++U){for(var q=0;q<F;q+=4)if(I[N+q]!==255){H=!0;break}if(!H)N+=F;else break}for(a.ascent=S-U,N=k-F,H=!1,U=w;U>S;--U){for(var q=0;q<F;q+=4)if(I[N+q]!==255){H=!0;break}if(!H)N-=F;else break}return a.descent=U-S,a.fontSize=a.ascent+a.descent,l._fonts[o]=a,a},l.clearMetrics=function(o){o===void 0&&(o=""),o?delete l._fonts[o]:l._fonts={}},l})(),QP=(function(){try{var l=new OffscreenCanvas(0,0),o=l.getContext("2d");return o&&o.measureText?l:document.createElement("canvas")}catch{return document.createElement("canvas")}})();QP.width=QP.height=10;Zl._canvas=QP;Zl._context=QP.getContext("2d");Zl._fonts={};Zl.METRICS_STRING="|q";Zl.BASELINE_SYMBOL="M";Zl.BASELINE_MULTIPLIER=1.4;Zl.HEIGHT_MULTIPLIER=2;Zl._newlines=[10,13];Zl._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var wnt={texture:!0,children:!1,baseTexture:!0},p9=(function(l){Snt(o,l);function o(a,u,f){var g=this,v=!1;f||(f=document.createElement("canvas"),v=!0),f.width=3,f.height=3;var S=an.from(f);return S.orig=new Zn,S.trim=new Zn,g=l.call(this,S)||this,g._ownCanvas=v,g.canvas=f,g.context=g.canvas.getContext("2d"),g._resolution=Gr.RESOLUTION,g._autoResolution=!0,g._text=null,g._style=null,g._styleListener=null,g._font="",g.text=a,g.style=u,g.localStyleID=-1,g}return o.prototype.updateText=function(a){var u=this._style;if(this.localStyleID!==u.styleID&&(this.dirty=!0,this.localStyleID=u.styleID),!(!this.dirty&&a)){this._font=this._style.toFontString();var f=this.context,g=Zl.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),v=g.width,S=g.height,w=g.lines,I=g.lineHeight,k=g.lineWidths,F=g.maxLineWidth,U=g.fontProperties;this.canvas.width=Math.ceil((Math.max(1,v)+u.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,S)+u.padding*2)*this._resolution),f.scale(this._resolution,this._resolution),f.clearRect(0,0,this.canvas.width,this.canvas.height),f.font=this._font,f.lineWidth=u.strokeThickness,f.textBaseline=u.textBaseline,f.lineJoin=u.lineJoin,f.miterLimit=u.miterLimit;for(var N,H,q=u.dropShadow?2:1,j=0;j<q;++j){var se=u.dropShadow&&j===0,he=se?Math.ceil(Math.max(1,S)+u.padding*2):0,oe=he*this._resolution;if(se){f.fillStyle="black",f.strokeStyle="black";var ue=u.dropShadowColor,X=Wv(typeof ue=="number"?ue:k$(ue));f.shadowColor="rgba("+X[0]*255+","+X[1]*255+","+X[2]*255+","+u.dropShadowAlpha+")",f.shadowBlur=u.dropShadowBlur,f.shadowOffsetX=Math.cos(u.dropShadowAngle)*u.dropShadowDistance,f.shadowOffsetY=Math.sin(u.dropShadowAngle)*u.dropShadowDistance+oe}else f.fillStyle=this._generateFillStyle(u,w,g),f.strokeStyle=u.stroke,f.shadowColor="black",f.shadowBlur=0,f.shadowOffsetX=0,f.shadowOffsetY=0;var de=(I-U.fontSize)/2;(!o.nextLineHeightBehavior||I-U.fontSize<0)&&(de=0);for(var fe=0;fe<w.length;fe++)N=u.strokeThickness/2,H=u.strokeThickness/2+fe*I+U.ascent+de,u.align==="right"?N+=F-k[fe]:u.align==="center"&&(N+=(F-k[fe])/2),u.stroke&&u.strokeThickness&&this.drawLetterSpacing(w[fe],N+u.padding,H+u.padding-he,!0),u.fill&&this.drawLetterSpacing(w[fe],N+u.padding,H+u.padding-he)}this.updateTexture()}},o.prototype.drawLetterSpacing=function(a,u,f,g){g===void 0&&(g=!1);var v=this._style,S=v.letterSpacing;if(S===0){g?this.context.strokeText(a,u,f):this.context.fillText(a,u,f);return}for(var w=u,I=Array.from?Array.from(a):a.split(""),k=this.context.measureText(a).width,F=0,U=0;U<I.length;++U){var N=I[U];g?this.context.strokeText(N,w,f):this.context.fillText(N,w,f),F=this.context.measureText(a.substring(U+1)).width,w+=k-F+S,k=F}},o.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var u=Bce(a);u.data&&(a.width=u.width,a.height=u.height,this.context.putImageData(u.data,0,0))}var f=this._texture,g=this._style,v=g.trim?0:g.padding,S=f.baseTexture;f.trim.width=f._frame.width=Math.ceil(a.width/this._resolution),f.trim.height=f._frame.height=Math.ceil(a.height/this._resolution),f.trim.x=-v,f.trim.y=-v,f.orig.width=f._frame.width-v*2,f.orig.height=f._frame.height-v*2,this._onTextureUpdate(),S.setRealSize(a.width,a.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},o.prototype._render=function(a){this._autoResolution&&this._resolution!==a.resolution&&(this._resolution=a.resolution,this.dirty=!0),this.updateText(!0),l.prototype._render.call(this,a)},o.prototype.getLocalBounds=function(a){return this.updateText(!0),l.prototype.getLocalBounds.call(this,a)},o.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},o.prototype._generateFillStyle=function(a,u,f){var g=a.fill;if(Array.isArray(g)){if(g.length===1)return g[0]}else return g;var v,S=a.dropShadow?a.dropShadowDistance:0,w=a.padding||0,I=Math.ceil(this.canvas.width/this._resolution)-S-w*2,k=Math.ceil(this.canvas.height/this._resolution)-S-w*2,F=g.slice(),U=a.fillGradientStops.slice();if(!U.length)for(var N=F.length+1,H=1;H<N;++H)U.push(H/N);if(F.unshift(g[0]),U.unshift(0),F.push(g[g.length-1]),U.push(1),a.fillGradientType===J_.LINEAR_VERTICAL){v=this.context.createLinearGradient(I/2,w,I/2,k+w);for(var q=f.fontProperties.fontSize+a.strokeThickness,j=q/k,H=0;H<u.length;H++)for(var se=f.lineHeight*H,he=0;he<F.length;he++){var oe=0;typeof U[he]=="number"?oe=U[he]:oe=he/F.length;var ue=Math.min(1,Math.max(0,se/k+oe*j));ue=Number(ue.toFixed(5)),v.addColorStop(ue,F[he])}}else{v=this.context.createLinearGradient(w,k/2,I+w,k/2);for(var X=F.length+1,de=1,H=0;H<F.length;H++){var fe=void 0;typeof U[H]=="number"?fe=U[H]:fe=de/X,v.addColorStop(fe,F[H]),de++}}return v},o.prototype.destroy=function(a){typeof a=="boolean"&&(a={children:a}),a=Object.assign({},wnt,a),l.prototype.destroy.call(this,a),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(o.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var u=Mv(this.scale.x)||1;this.scale.x=u*a/this._texture.orig.width,this._width=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var u=Mv(this.scale.y)||1;this.scale.y=u*a/this._texture.orig.height,this._height=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"style",{get:function(){return this._style},set:function(a){a=a||{},a instanceof Kv?this._style=a:this._style=new Kv(a),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(a){a=String(a??""),this._text!==a&&(this._text=a,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._autoResolution=!1,this._resolution!==a&&(this._resolution=a,this.dirty=!0)},enumerable:!1,configurable:!0}),o.nextLineHeightBehavior=!1,o})(oE);/*!
 * @pixi/prepare - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Gr.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var OH=function(l,o){return OH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},OH(l,o)};function xnt(l,o){OH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var Vhe=(function(){function l(o){this.maxItemsPerFrame=o,this.itemsLeft=0}return l.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},l.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},l})();function Int(l,o){var a=!1;if(l&&l._textures&&l._textures.length){for(var u=0;u<l._textures.length;u++)if(l._textures[u]instanceof an){var f=l._textures[u].baseTexture;o.indexOf(f)===-1&&(o.push(f),a=!0)}}return a}function Dnt(l,o){if(l.baseTexture instanceof Ii){var a=l.baseTexture;return o.indexOf(a)===-1&&o.push(a),!0}return!1}function Ont(l,o){if(l._texture&&l._texture instanceof an){var a=l._texture.baseTexture;return o.indexOf(a)===-1&&o.push(a),!0}return!1}function knt(l,o){return o instanceof p9?(o.updateText(!0),!0):!1}function Pnt(l,o){if(o instanceof Kv){var a=o.toFontString();return Zl.measureFont(a),!0}return!1}function Rnt(l,o){if(l instanceof p9){o.indexOf(l.style)===-1&&o.push(l.style),o.indexOf(l)===-1&&o.push(l);var a=l._texture.baseTexture;return o.indexOf(a)===-1&&o.push(a),!0}return!1}function Nnt(l,o){return l instanceof Kv?(o.indexOf(l)===-1&&o.push(l),!0):!1}var Whe=(function(){function l(o){var a=this;this.limiter=new Vhe(Gr.UPLOADS_PER_FRAME),this.renderer=o,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){a.queue&&a.prepareItems()},this.registerFindHook(Rnt),this.registerFindHook(Nnt),this.registerFindHook(Int),this.registerFindHook(Dnt),this.registerFindHook(Ont),this.registerUploadHook(knt),this.registerUploadHook(Pnt)}return l.prototype.upload=function(o,a){typeof o=="function"&&(a=o,o=null),o&&this.add(o),this.queue.length?(a&&this.completes.push(a),this.ticking||(this.ticking=!0,Ao.system.addOnce(this.tick,this,Kh.UTILITY))):a&&a()},l.prototype.tick=function(){setTimeout(this.delayedTick,0)},l.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var o=this.queue[0],a=!1;if(o&&!o._destroyed){for(var u=0,f=this.uploadHooks.length;u<f;u++)if(this.uploadHooks[u](this.uploadHookHelper,o)){this.queue.shift(),a=!0;break}}a||this.queue.shift()}if(this.queue.length)Ao.system.addOnce(this.tick,this,Kh.UTILITY);else{this.ticking=!1;var g=this.completes.slice(0);this.completes.length=0;for(var u=0,f=g.length;u<f;u++)g[u]()}},l.prototype.registerFindHook=function(o){return o&&this.addHooks.push(o),this},l.prototype.registerUploadHook=function(o){return o&&this.uploadHooks.push(o),this},l.prototype.add=function(o){for(var a=0,u=this.addHooks.length;a<u&&!this.addHooks[a](o,this.queue);a++);if(o instanceof Rc)for(var a=o.children.length-1;a>=0;a--)this.add(o.children[a]);return this},l.prototype.destroy=function(){this.ticking&&Ao.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},l})();function Yhe(l,o){return o instanceof Ii?(o._glTextures[l.CONTEXT_UID]||l.texture.bind(o),!0):!1}function Mnt(l,o){if(!(o instanceof d9))return!1;var a=o.geometry;o.finishPoly(),a.updateBatches();for(var u=a.batches,f=0;f<u.length;f++){var g=u[f].style.texture;g&&Yhe(l,g.baseTexture)}return a.batchable||l.geometry.bind(a,o._resolveDirectShader(l)),!0}function Lnt(l,o){return l instanceof d9?(o.push(l),!0):!1}var Xhe=(function(l){xnt(o,l);function o(a){var u=l.call(this,a)||this;return u.uploadHookHelper=u.renderer,u.registerFindHook(Lnt),u.registerUploadHook(Yhe),u.registerUploadHook(Mnt),u}return o})(Whe),Bnt=(function(){function l(o){this.maxMilliseconds=o,this.frameStart=0}return l.prototype.beginFrame=function(){this.frameStart=Date.now()},l.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},l})();/*!
 * @pixi/spritesheet - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var qhe=(function(){function l(o,a,u){u===void 0&&(u=null),this._texture=o instanceof an?o:null,this.baseTexture=o instanceof Ii?o:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;var f=this.baseTexture.resource;this.resolution=this._updateResolution(u||(f?f.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return l.prototype._updateResolution=function(o){o===void 0&&(o=null);var a=this.data.meta.scale,u=TA(o,null);return u===null&&(u=a!==void 0?parseFloat(a):1),u!==1&&this.baseTexture.setResolution(u),u},l.prototype.parse=function(o){this._batchIndex=0,this._callback=o,this._frameKeys.length<=l.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},l.prototype._processFrames=function(o){for(var a=o,u=l.BATCH_SIZE;a-o<u&&a<this._frameKeys.length;){var f=this._frameKeys[a],g=this._frames[f],v=g.frame;if(v){var S=null,w=null,I=g.trimmed!==!1&&g.sourceSize?g.sourceSize:g.frame,k=new Zn(0,0,Math.floor(I.w)/this.resolution,Math.floor(I.h)/this.resolution);g.rotated?S=new Zn(Math.floor(v.x)/this.resolution,Math.floor(v.y)/this.resolution,Math.floor(v.h)/this.resolution,Math.floor(v.w)/this.resolution):S=new Zn(Math.floor(v.x)/this.resolution,Math.floor(v.y)/this.resolution,Math.floor(v.w)/this.resolution,Math.floor(v.h)/this.resolution),g.trimmed!==!1&&g.spriteSourceSize&&(w=new Zn(Math.floor(g.spriteSourceSize.x)/this.resolution,Math.floor(g.spriteSourceSize.y)/this.resolution,Math.floor(v.w)/this.resolution,Math.floor(v.h)/this.resolution)),this.textures[f]=new an(this.baseTexture,S,k,w,g.rotated?2:0,g.anchor),an.addToCache(this.textures[f],f)}a++}},l.prototype._processAnimations=function(){var o=this.data.animations||{};for(var a in o){this.animations[a]=[];for(var u=0;u<o[a].length;u++){var f=o[a][u];this.animations[a].push(this.textures[f])}}},l.prototype._parseComplete=function(){var o=this._callback;this._callback=null,this._batchIndex=0,o.call(this,this.textures)},l.prototype._nextBatch=function(){var o=this;this._processFrames(this._batchIndex*l.BATCH_SIZE),this._batchIndex++,setTimeout(function(){o._batchIndex*l.BATCH_SIZE<o._frameKeys.length?o._nextBatch():(o._processAnimations(),o._parseComplete())},0)},l.prototype.destroy=function(o){var a;o===void 0&&(o=!1);for(var u in this.textures)this.textures[u].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,o&&((a=this._texture)===null||a===void 0||a.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},l.BATCH_SIZE=1e3,l})(),Khe=(function(){function l(){}return l.use=function(o,a){var u,f,g=this,v=o.name+"_image";if(!o.data||o.type!==Ru.TYPE.JSON||!o.data.frames||g.resources[v]){a();return}var S=(f=(u=o.data)===null||u===void 0?void 0:u.meta)===null||f===void 0?void 0:f.related_multi_packs;if(Array.isArray(S))for(var w=function(H){if(typeof H!="string")return"continue";var q=H.replace(".json",""),j=Nv.resolve(o.url.replace(g.baseUrl,""),H);if(g.resources[q]||Object.values(g.resources).some(function(he){return Nv.format(Nv.parse(he.url))===j}))return"continue";var se={crossOrigin:o.crossOrigin,loadType:Ru.LOAD_TYPE.XHR,xhrType:Ru.XHR_RESPONSE_TYPE.JSON,parentResource:o};g.add(q,j,se)},I=0,k=S;I<k.length;I++){var F=k[I];w(F)}var U={crossOrigin:o.crossOrigin,metadata:o.metadata.imageMetadata,parentResource:o},N=l.getResourcePath(o,g.baseUrl);g.add(v,N,U,function(q){if(q.error){a(q.error);return}var j=new qhe(q.texture,o.data,o.url);j.parse(function(){o.spritesheet=j,o.textures=j.textures,a()})})},l.getResourcePath=function(o,a){return o.isDataUrl?o.data.meta.image:Nv.resolve(o.url.replace(a,""),o.data.meta.image)},l})();/*!
 * @pixi/sprite-tiling - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kH=function(l,o){return kH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},kH(l,o)};function Zhe(l,o){kH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var XC=new Ca,Fnt=(function(l){Zhe(o,l);function o(a,u,f){u===void 0&&(u=100),f===void 0&&(f=100);var g=l.call(this,a)||this;return g.tileTransform=new M$,g._width=u,g._height=f,g.uvMatrix=g.texture.uvMatrix||new SR(a),g.pluginName="tilingSprite",g.uvRespectAnchor=!1,g}return Object.defineProperty(o.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(a){this.uvMatrix.clampMargin=a,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copyFrom(a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copyFrom(a)},enumerable:!1,configurable:!0}),o.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},o.prototype._render=function(a){var u=this._texture;!u||!u.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),a.batch.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))},o.prototype._calculateBounds=function(){var a=this._width*-this._anchor._x,u=this._height*-this._anchor._y,f=this._width*(1-this._anchor._x),g=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,a,u,f,g)},o.prototype.getLocalBounds=function(a){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),a||(this._localBoundsRect||(this._localBoundsRect=new Zn),a=this._localBoundsRect),this._bounds.getRectangle(a)):l.prototype.getLocalBounds.call(this,a)},o.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,XC);var u=this._width,f=this._height,g=-u*this.anchor._x;if(XC.x>=g&&XC.x<g+u){var v=-f*this.anchor._y;if(XC.y>=v&&XC.y<v+f)return!0}return!1},o.prototype.destroy=function(a){l.prototype.destroy.call(this,a),this.tileTransform=null,this.uvMatrix=null},o.from=function(a,u){var f=a instanceof an?a:an.from(a,u);return new o(f,u.width,u.height)},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(a){this._width=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(a){this._height=a},enumerable:!1,configurable:!0}),o})(oE),Sse=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Unt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,Hnt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`,vP=new Ha,Qhe=(function(l){Zhe(o,l);function o(a){var u=l.call(this,a)||this,f={globals:u.renderer.globalUniforms};return u.shader=rm.from(Sse,Unt,f),u.simpleShader=rm.from(Sse,Hnt,f),u.quad=new W$,u.state=im.for2d(),u}return o.prototype.render=function(a){var u=this.renderer,f=this.quad,g=f.vertices;g[0]=g[6]=a._width*-a.anchor.x,g[1]=g[3]=a._height*-a.anchor.y,g[2]=g[4]=a._width*(1-a.anchor.x),g[5]=g[7]=a._height*(1-a.anchor.y);var v=a.uvRespectAnchor?a.anchor.x:0,S=a.uvRespectAnchor?a.anchor.y:0;g=f.uvs,g[0]=g[6]=-v,g[1]=g[3]=-S,g[2]=g[4]=1-v,g[5]=g[7]=1-S,f.invalidate();var w=a._texture,I=w.baseTexture,k=a.tileTransform.localTransform,F=a.uvMatrix,U=I.isPowerOfTwo&&w.frame.width===I.width&&w.frame.height===I.height;U&&(I._glTextures[u.CONTEXT_UID]?U=I.wrapMode!==Wh.CLAMP:I.wrapMode===Wh.CLAMP&&(I.wrapMode=Wh.REPEAT));var N=U?this.simpleShader:this.shader,H=w.width,q=w.height,j=a._width,se=a._height;vP.set(k.a*H/j,k.b*H/se,k.c*q/j,k.d*q/se,k.tx/j,k.ty/se),vP.invert(),U?vP.prepend(F.mapCoord):(N.uniforms.uMapCoord=F.mapCoord.toArray(!0),N.uniforms.uClampFrame=F.uClampFrame,N.uniforms.uClampOffset=F.uClampOffset),N.uniforms.uTransform=vP.toArray(!0),N.uniforms.uColor=N$(a.tint,a.worldAlpha,N.uniforms.uColor,I.alphaMode),N.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0),N.uniforms.uSampler=w,u.shader.bind(N),u.geometry.bind(f),this.state.blendMode=R$(a.blendMode,I.alphaMode),u.state.set(this.state),u.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},o})(NA);/*!
 * @pixi/mesh - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var PH=function(l,o){return PH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},PH(l,o)};function m9(l,o){PH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var Jhe=(function(){function l(o,a){this.uvBuffer=o,this.uvMatrix=a,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return l.prototype.update=function(o){if(!(!o&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var a=this.uvBuffer.data;(!this.data||this.data.length!==a.length)&&(this.data=new Float32Array(a.length)),this.uvMatrix.multiplyUvs(a,this.data),this._updateID++}},l})(),J8=new Ca,Cse=new fA,eE=(function(l){m9(o,l);function o(a,u,f,g){g===void 0&&(g=Pu.TRIANGLES);var v=l.call(this)||this;return v.geometry=a,a.refCount++,v.shader=u,v.state=f||im.for2d(),v.drawMode=g,v.start=0,v.size=0,v.uvs=null,v.indices=null,v.vertexData=new Float32Array(1),v.vertexDirty=-1,v._transformID=-1,v._roundPixels=Gr.ROUND_PIXELS,v.batchUvs=null,v}return Object.defineProperty(o.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"material",{get:function(){return this.shader},set:function(a){this.shader=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){this._roundPixels!==a&&(this._transformID=-1),this._roundPixels=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(a){this.shader.tint=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(a){this.shader.texture=a},enumerable:!1,configurable:!0}),o.prototype._render=function(a){var u=this.geometry.buffers[0].data,f=this.shader;f.batchable&&this.drawMode===Pu.TRIANGLES&&u.length<o.BATCHABLE_SIZE*2?this._renderToBatch(a):this._renderDefault(a)},o.prototype._renderDefault=function(a){var u=this.shader;u.alpha=this.worldAlpha,u.update&&u.update(),a.batch.flush(),u.program.uniformData.translationMatrix&&(u.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),a.shader.bind(u),a.state.set(this.state),a.geometry.bind(this.geometry,u),a.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},o.prototype._renderToBatch=function(a){var u=this.geometry,f=this.shader;f.uvMatrix&&(f.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=u.indexBuffer.data,this._tintRGB=f._tintRGB,this._texture=f.texture;var g=this.material.pluginName;a.batch.setObjectRenderer(a.plugins[g]),a.plugins[g].render(this)},o.prototype.calculateVertices=function(){var a=this.geometry,u=a.buffers[0],f=u.data,g=u._updateID;if(!(g===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==f.length&&(this.vertexData=new Float32Array(f.length));for(var v=this.transform.worldTransform,S=v.a,w=v.b,I=v.c,k=v.d,F=v.tx,U=v.ty,N=this.vertexData,H=0;H<N.length/2;H++){var q=f[H*2],j=f[H*2+1];N[H*2]=S*q+I*j+F,N[H*2+1]=w*q+k*j+U}if(this._roundPixels)for(var se=Gr.RESOLUTION,H=0;H<N.length;++H)N[H]=Math.round((N[H]*se|0)/se);this.vertexDirty=g}},o.prototype.calculateUvs=function(){var a=this.geometry.buffers[1],u=this.shader;u.uvMatrix.isSimple?this.uvs=a.data:(this.batchUvs||(this.batchUvs=new Jhe(a,u.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},o.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},o.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,J8);for(var u=this.geometry.getBuffer("aVertexPosition").data,f=Cse.points,g=this.geometry.getIndex().data,v=g.length,S=this.drawMode===4?3:1,w=0;w+2<v;w+=S){var I=g[w]*2,k=g[w+1]*2,F=g[w+2]*2;if(f[0]=u[I],f[1]=u[I+1],f[2]=u[k],f[3]=u[k+1],f[4]=u[F],f[5]=u[F+1],Cse.contains(J8.x,J8.y))return!0}return!1},o.prototype.destroy=function(a){l.prototype.destroy.call(this,a),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},o.BATCHABLE_SIZE=100,o})(Rc),$nt=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Gnt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,LA=(function(l){m9(o,l);function o(a,u){var f=this,g={uSampler:a,alpha:1,uTextureMatrix:Ha.IDENTITY,uColor:new Float32Array([1,1,1,1])};return u=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},u),u.uniforms&&Object.assign(g,u.uniforms),f=l.call(this,u.program||MA.from(Gnt,$nt),g)||this,f._colorDirty=!1,f.uvMatrix=new SR(a),f.batchable=u.program===void 0,f.pluginName=u.pluginName,f.tint=u.tint,f.alpha=u.alpha,f}return Object.defineProperty(o.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(a){this.uniforms.uSampler!==a&&(this.uniforms.uSampler=a,this.uvMatrix.texture=a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"alpha",{get:function(){return this._alpha},set:function(a){a!==this._alpha&&(this._alpha=a,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(a){a!==this._tint&&(this._tint=a,this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),o.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var a=this.texture.baseTexture;N$(this._tint,this._alpha,this.uniforms.uColor,a.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},o})(rm),BA=(function(l){m9(o,l);function o(a,u,f){var g=l.call(this)||this,v=new Co(a),S=new Co(u,!0),w=new Co(f,!0,!0);return g.addAttribute("aVertexPosition",v,2,!1,Di.FLOAT).addAttribute("aTextureCoord",S,2,!1,Di.FLOAT).addIndex(w),g._updateId=-1,g}return Object.defineProperty(o.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),o})(aE);/*!
 * @pixi/text-bitmap - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var RH=function(l,o){return RH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},RH(l,o)};function znt(l,o){RH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var wA=(function(){function l(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return l})(),jnt=(function(){function l(){}return l.test=function(o){return typeof o=="string"&&o.indexOf("info face=")===0},l.parse=function(o){var a=o.match(/^[a-z]+\s+.+$/gm),u={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var f in a){var g=a[f].match(/^[a-z]+/gm)[0],v=a[f].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),S={};for(var w in v){var I=v[w].split("="),k=I[0],F=I[1].replace(/"/gm,""),U=parseFloat(F),N=isNaN(U)?F:U;S[k]=N}u[g].push(S)}var H=new wA;return u.info.forEach(function(q){return H.info.push({face:q.face,size:parseInt(q.size,10)})}),u.common.forEach(function(q){return H.common.push({lineHeight:parseInt(q.lineHeight,10)})}),u.page.forEach(function(q){return H.page.push({id:parseInt(q.id,10),file:q.file})}),u.char.forEach(function(q){return H.char.push({id:parseInt(q.id,10),page:parseInt(q.page,10),x:parseInt(q.x,10),y:parseInt(q.y,10),width:parseInt(q.width,10),height:parseInt(q.height,10),xoffset:parseInt(q.xoffset,10),yoffset:parseInt(q.yoffset,10),xadvance:parseInt(q.xadvance,10)})}),u.kerning.forEach(function(q){return H.kerning.push({first:parseInt(q.first,10),second:parseInt(q.second,10),amount:parseInt(q.amount,10)})}),H},l})(),NH=(function(){function l(){}return l.test=function(o){return o instanceof XMLDocument&&o.getElementsByTagName("page").length&&o.getElementsByTagName("info")[0].getAttribute("face")!==null},l.parse=function(o){for(var a=new wA,u=o.getElementsByTagName("info"),f=o.getElementsByTagName("common"),g=o.getElementsByTagName("page"),v=o.getElementsByTagName("char"),S=o.getElementsByTagName("kerning"),w=0;w<u.length;w++)a.info.push({face:u[w].getAttribute("face"),size:parseInt(u[w].getAttribute("size"),10)});for(var w=0;w<f.length;w++)a.common.push({lineHeight:parseInt(f[w].getAttribute("lineHeight"),10)});for(var w=0;w<g.length;w++)a.page.push({id:parseInt(g[w].getAttribute("id"),10)||0,file:g[w].getAttribute("file")});for(var w=0;w<v.length;w++){var I=v[w];a.char.push({id:parseInt(I.getAttribute("id"),10),page:parseInt(I.getAttribute("page"),10)||0,x:parseInt(I.getAttribute("x"),10),y:parseInt(I.getAttribute("y"),10),width:parseInt(I.getAttribute("width"),10),height:parseInt(I.getAttribute("height"),10),xoffset:parseInt(I.getAttribute("xoffset"),10),yoffset:parseInt(I.getAttribute("yoffset"),10),xadvance:parseInt(I.getAttribute("xadvance"),10)})}for(var w=0;w<S.length;w++)a.kerning.push({first:parseInt(S[w].getAttribute("first"),10),second:parseInt(S[w].getAttribute("second"),10),amount:parseInt(S[w].getAttribute("amount"),10)});return a},l})(),Vnt=(function(){function l(){}return l.test=function(o){if(typeof o=="string"&&o.indexOf("<font>")>-1){var a=new self.DOMParser().parseFromString(o,"text/xml");return NH.test(a)}return!1},l.parse=function(o){var a=new self.DOMParser().parseFromString(o,"text/xml");return NH.parse(a)},l})(),eU=[jnt,NH,Vnt];function efe(l){for(var o=0;o<eU.length;o++)if(eU[o].test(l))return eU[o];return null}function Ase(l,o,a,u,f,g){var v=a.fill;if(Array.isArray(v)){if(v.length===1)return v[0]}else return v;var S,w=a.dropShadow?a.dropShadowDistance:0,I=a.padding||0,k=Math.ceil(l.width/u)-w-I*2,F=Math.ceil(l.height/u)-w-I*2,U=v.slice(),N=a.fillGradientStops.slice();if(!N.length)for(var H=U.length+1,q=1;q<H;++q)N.push(q/H);if(U.unshift(v[0]),N.unshift(0),U.push(v[v.length-1]),N.push(1),a.fillGradientType===J_.LINEAR_VERTICAL){S=o.createLinearGradient(k/2,I,k/2,F+I);for(var j=0,se=g.fontProperties.fontSize+a.strokeThickness,he=se/F,q=0;q<f.length;q++)for(var oe=g.lineHeight*q,ue=0;ue<U.length;ue++){var X=0;typeof N[ue]=="number"?X=N[ue]:X=ue/U.length;var de=oe/F+X*he,fe=Math.max(j,de);fe=Math.min(fe,1),S.addColorStop(fe,U[ue]),j=fe}}else{S=o.createLinearGradient(I,F/2,k+I,F/2);for(var Fe=U.length+1,M=1,q=0;q<U.length;q++){var ke=void 0;typeof N[q]=="number"?ke=N[q]:ke=M/Fe,S.addColorStop(ke,U[q]),M++}}return S}function Wnt(l,o,a,u,f,g,v){var S=a.text,w=a.fontProperties;o.translate(u,f),o.scale(g,g);var I=v.strokeThickness/2,k=-(v.strokeThickness/2);o.font=v.toFontString(),o.lineWidth=v.strokeThickness,o.textBaseline=v.textBaseline,o.lineJoin=v.lineJoin,o.miterLimit=v.miterLimit,o.fillStyle=Ase(l,o,v,g,[S],a),o.strokeStyle=v.stroke,o.font=v.toFontString(),o.lineWidth=v.strokeThickness,o.textBaseline=v.textBaseline,o.lineJoin=v.lineJoin,o.miterLimit=v.miterLimit,o.fillStyle=Ase(l,o,v,g,[S],a),o.strokeStyle=v.stroke;var F=v.dropShadowColor,U=Wv(typeof F=="number"?F:k$(F));v.dropShadow?(o.shadowColor="rgba("+U[0]*255+","+U[1]*255+","+U[2]*255+","+v.dropShadowAlpha+")",o.shadowBlur=v.dropShadowBlur,o.shadowOffsetX=Math.cos(v.dropShadowAngle)*v.dropShadowDistance,o.shadowOffsetY=Math.sin(v.dropShadowAngle)*v.dropShadowDistance):(o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0),v.stroke&&v.strokeThickness&&o.strokeText(S,I,k+a.lineHeight-w.descent),v.fill&&o.fillText(S,I,k+a.lineHeight-w.descent),o.setTransform(1,0,0,1,0,0),o.fillStyle="rgba(0, 0, 0, 0)"}function Ynt(l){typeof l=="string"&&(l=[l]);for(var o=[],a=0,u=l.length;a<u;a++){var f=l[a];if(Array.isArray(f)){if(f.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+f.length+".");var g=f[0].charCodeAt(0),v=f[1].charCodeAt(0);if(v<g)throw new Error("[BitmapFont]: Invalid character range.");for(var S=g,w=v;S<=w;S++)o.push(String.fromCharCode(S))}else o.push.apply(o,f.split(""))}if(o.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return o}var W_=(function(){function l(o,a,u){var f=o.info[0],g=o.common[0],v=o.page[0],S=TA(v.file),w={};this._ownsTextures=u,this.font=f.face,this.size=f.size,this.lineHeight=g.lineHeight/S,this.chars={},this.pageTextures=w;for(var I=0;I<o.page.length;I++){var k=o.page[I],F=k.id,U=k.file;w[F]=a instanceof Array?a[I]:a[U]}for(var I=0;I<o.char.length;I++){var N=o.char[I],F=N.id,H=N.page,q=o.char[I],j=q.x,se=q.y,he=q.width,oe=q.height,ue=q.xoffset,X=q.yoffset,de=q.xadvance;j/=S,se/=S,he/=S,oe/=S,ue/=S,X/=S,de/=S;var fe=new Zn(j+w[H].frame.x/S,se+w[H].frame.y/S,he,oe);this.chars[F]={xOffset:ue,yOffset:X,xAdvance:de,kerning:{},texture:new an(w[H].baseTexture,fe),page:H}}for(var I=0;I<o.kerning.length;I++){var Fe=o.kerning[I],M=Fe.first,ke=Fe.second,qe=Fe.amount;M/=S,ke/=S,qe/=S,this.chars[ke]&&(this.chars[ke].kerning[M]=qe)}}return l.prototype.destroy=function(){for(var o in this.chars)this.chars[o].texture.destroy(),this.chars[o].texture=null;for(var o in this.pageTextures)this._ownsTextures&&this.pageTextures[o].destroy(!0),this.pageTextures[o]=null;this.chars=null,this.pageTextures=null},l.install=function(o,a,u){var f;if(o instanceof wA)f=o;else{var g=efe(o);if(!g)throw new Error("Unrecognized data format for font.");f=g.parse(o)}a instanceof an&&(a=[a]);var v=new l(f,a,u);return l.available[v.font]=v,v},l.uninstall=function(o){var a=l.available[o];if(!a)throw new Error("No font found named '"+o+"'");a.destroy(),delete l.available[o]},l.from=function(o,a,u){if(!o)throw new Error("[BitmapFont] Property `name` is required.");var f=Object.assign({},l.defaultOptions,u),g=f.chars,v=f.padding,S=f.resolution,w=f.textureWidth,I=f.textureHeight,k=Ynt(g),F=a instanceof Kv?a:new Kv(a),U=w,N=new wA;N.info[0]={face:F.fontFamily,size:F.fontSize},N.common[0]={lineHeight:F.fontSize};for(var H=0,q=0,j,se,he,oe=0,ue=[],X=0;X<k.length;X++){j||(j=document.createElement("canvas"),j.width=w,j.height=I,se=j.getContext("2d"),he=new Ii(j,{resolution:S}),ue.push(new an(he)),N.page.push({id:ue.length-1,file:""}));var de=Zl.measureText(k[X],F,!1,j),fe=de.width,Fe=Math.ceil(de.height),M=Math.ceil((F.fontStyle==="italic"?2:1)*fe);if(q>=I-Fe*S){if(q===0)throw new Error("[BitmapFont] textureHeight "+I+"px is "+("too small for "+F.fontSize+"px fonts"));--X,j=null,se=null,he=null,q=0,H=0,oe=0;continue}if(oe=Math.max(Fe+de.fontProperties.descent,oe),M*S+H>=U){--X,q+=oe*S,q=Math.ceil(q),H=0,oe=0;continue}Wnt(j,se,de,H,q,S,F);var ke=de.text.charCodeAt(0);N.char.push({id:ke,page:ue.length-1,x:H/S,y:q/S,width:M,height:Fe,xoffset:0,yoffset:0,xadvance:Math.ceil(fe-(F.dropShadow?F.dropShadowDistance:0)-(F.stroke?F.strokeThickness:0))}),H+=(M+2*v)*S,H=Math.ceil(H)}for(var X=0,qe=k.length;X<qe;X++)for(var Te=k[X],at=0;at<qe;at++){var _t=k[at],z=se.measureText(Te).width,be=se.measureText(_t).width,Re=se.measureText(Te+_t).width,ie=Re-(z+be);ie&&N.kerning.push({first:Te.charCodeAt(0),second:_t.charCodeAt(0),amount:ie})}var pe=new l(N,ue,!0);return l.available[o]!==void 0&&l.uninstall(o),l.available[o]=pe,pe},l.ALPHA=[["a","z"],["A","Z"]," "],l.NUMERIC=[["0","9"]],l.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],l.ASCII=[[" ","~"]],l.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:l.ALPHANUMERIC},l.available={},l})(),wse=[],xse=[],Xnt=(function(l){znt(o,l);function o(a,u){u===void 0&&(u={});var f=l.call(this)||this;f._tint=16777215;var g=Object.assign({},o.styleDefaults,u),v=g.align,S=g.tint,w=g.maxWidth,I=g.letterSpacing,k=g.fontName,F=g.fontSize;if(!W_.available[k])throw new Error('Missing BitmapFont "'+k+'"');return f._activePagesMeshData=[],f._textWidth=0,f._textHeight=0,f._align=v,f._tint=S,f._fontName=k,f._fontSize=F||W_.available[k].size,f._text=a,f._maxWidth=w,f._maxLineHeight=0,f._letterSpacing=I,f._anchor=new Lv(function(){f.dirty=!0},f,0,0),f._roundPixels=Gr.ROUND_PIXELS,f.dirty=!0,f._textureCache={},f}return o.prototype.updateText=function(){for(var a,u=W_.available[this._fontName],f=this._fontSize/u.size,g=new Ca,v=[],S=[],w=[],I=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",k=I.length,F=this._maxWidth*u.size/this._fontSize,U=null,N=0,H=0,q=0,j=-1,se=0,he=0,oe=0,ue=0,X=0;X<k;X++){var de=I.charCodeAt(X),fe=I.charAt(X);if(/(?:\s)/.test(fe)&&(j=X,se=N,ue++),fe==="\r"||fe===`
`){S.push(N),w.push(-1),H=Math.max(H,N),++q,++he,g.x=0,g.y+=u.lineHeight,U=null,ue=0;continue}var Fe=u.chars[de];if(Fe){U&&Fe.kerning[U]&&(g.x+=Fe.kerning[U]);var M=xse.pop()||{texture:an.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ca};M.texture=Fe.texture,M.line=q,M.charCode=de,M.position.x=g.x+Fe.xOffset+this._letterSpacing/2,M.position.y=g.y+Fe.yOffset,M.prevSpaces=ue,v.push(M),g.x+=Fe.xAdvance+this._letterSpacing,N=g.x,oe=Math.max(oe,Fe.yOffset+Fe.texture.height),U=de,j!==-1&&F>0&&g.x>F&&(++he,Hv(v,1+j-he,1+X-j),X=j,j=-1,S.push(se),w.push(v.length>0?v[v.length-1].prevSpaces:0),H=Math.max(H,se),q++,g.x=0,g.y+=u.lineHeight,U=null,ue=0)}}var ke=I.charAt(I.length-1);ke!=="\r"&&ke!==`
`&&(/(?:\s)/.test(ke)&&(N=se),S.push(N),H=Math.max(H,N),w.push(-1));for(var qe=[],X=0;X<=q;X++){var Te=0;this._align==="right"?Te=H-S[X]:this._align==="center"?Te=(H-S[X])/2:this._align==="justify"&&(Te=w[X]<0?0:(H-S[X])/w[X]),qe.push(Te)}for(var at=v.length,_t={},z=[],be=this._activePagesMeshData,X=0;X<be.length;X++)wse.push(be[X]);for(var X=0;X<at;X++){var Re=v[X].texture,ie=Re.baseTexture.uid;if(!_t[ie]){var pe=wse.pop();if(!pe){var me=new BA,ce=new LA(an.EMPTY),_e=new eE(me,ce);pe={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:_e,vertices:null,uvs:null,indices:null}}pe.index=0,pe.indexCount=0,pe.vertexCount=0,pe.uvsCount=0,pe.total=0;var Le=this._textureCache;Le[ie]=Le[ie]||new an(Re.baseTexture),pe.mesh.texture=Le[ie],pe.mesh.tint=this._tint,z.push(pe),_t[ie]=pe}_t[ie].total++}for(var X=0;X<be.length;X++)z.indexOf(be[X])===-1&&this.removeChild(be[X].mesh);for(var X=0;X<z.length;X++)z[X].mesh.parent!==this&&this.addChild(z[X].mesh);this._activePagesMeshData=z;for(var X in _t){var pe=_t[X],Ke=pe.total;if(!(((a=pe.indices)===null||a===void 0?void 0:a.length)>6*Ke)||pe.vertices.length<eE.BATCHABLE_SIZE*2)pe.vertices=new Float32Array(8*Ke),pe.uvs=new Float32Array(8*Ke),pe.indices=new Uint16Array(6*Ke);else for(var dt=pe.total,It=pe.vertices,St=dt*4*2;St<It.length;St++)It[St]=0;pe.mesh.size=6*Ke}for(var X=0;X<at;X++){var fe=v[X],Mt=fe.position.x+qe[fe.line]*(this._align==="justify"?fe.prevSpaces:1);this._roundPixels&&(Mt=Math.round(Mt));var Bt=Mt*f,Lt=fe.position.y*f,Re=fe.texture,Pt=_t[Re.baseTexture.uid],Vt=Re.frame,lr=Re._uvs,Gt=Pt.index++;Pt.indices[Gt*6+0]=0+Gt*4,Pt.indices[Gt*6+1]=1+Gt*4,Pt.indices[Gt*6+2]=2+Gt*4,Pt.indices[Gt*6+3]=0+Gt*4,Pt.indices[Gt*6+4]=2+Gt*4,Pt.indices[Gt*6+5]=3+Gt*4,Pt.vertices[Gt*8+0]=Bt,Pt.vertices[Gt*8+1]=Lt,Pt.vertices[Gt*8+2]=Bt+Vt.width*f,Pt.vertices[Gt*8+3]=Lt,Pt.vertices[Gt*8+4]=Bt+Vt.width*f,Pt.vertices[Gt*8+5]=Lt+Vt.height*f,Pt.vertices[Gt*8+6]=Bt,Pt.vertices[Gt*8+7]=Lt+Vt.height*f,Pt.uvs[Gt*8+0]=lr.x0,Pt.uvs[Gt*8+1]=lr.y0,Pt.uvs[Gt*8+2]=lr.x1,Pt.uvs[Gt*8+3]=lr.y1,Pt.uvs[Gt*8+4]=lr.x2,Pt.uvs[Gt*8+5]=lr.y2,Pt.uvs[Gt*8+6]=lr.x3,Pt.uvs[Gt*8+7]=lr.y3}this._textWidth=H*f,this._textHeight=(g.y+u.lineHeight)*f;for(var X in _t){var pe=_t[X];if(this.anchor.x!==0||this.anchor.y!==0)for(var ar=0,Wt=this._textWidth*this.anchor.x,Dr=this._textHeight*this.anchor.y,Tn=0;Tn<pe.total;Tn++)pe.vertices[ar++]-=Wt,pe.vertices[ar++]-=Dr,pe.vertices[ar++]-=Wt,pe.vertices[ar++]-=Dr,pe.vertices[ar++]-=Wt,pe.vertices[ar++]-=Dr,pe.vertices[ar++]-=Wt,pe.vertices[ar++]-=Dr;this._maxLineHeight=oe*f;var _i=pe.mesh.geometry.getBuffer("aVertexPosition"),Vn=pe.mesh.geometry.getBuffer("aTextureCoord"),Nn=pe.mesh.geometry.getIndex();_i.data=pe.vertices,Vn.data=pe.uvs,Nn.data=pe.indices,_i.update(),Vn.update(),Nn.update()}for(var X=0;X<v.length;X++)xse.push(v[X])},o.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},o.prototype.getLocalBounds=function(){return this.validate(),l.prototype.getLocalBounds.call(this)},o.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(a){if(this._tint!==a){this._tint=a;for(var u=0;u<this._activePagesMeshData.length;u++)this._activePagesMeshData[u].mesh.tint=a}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"align",{get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontName",{get:function(){return this._fontName},set:function(a){if(!W_.available[a])throw new Error('Missing BitmapFont "'+a+'"');this._fontName!==a&&(this._fontName=a,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontSize",{get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(a){typeof a=="number"?this._anchor.set(a):this._anchor.copyFrom(a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(a){a=String(a??""),this._text!==a&&(this._text=a,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(a){this._maxWidth!==a&&(this._maxWidth=a,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){a!==this._roundPixels&&(this._roundPixels=a,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),o.prototype.destroy=function(a){var u=this._textureCache;for(var f in u){var g=u[f];g.destroy(),delete u[f]}this._textureCache=null,l.prototype.destroy.call(this,a)},o.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},o})(Rc),tfe=(function(){function l(){}return l.add=function(){Ru.setExtensionXhrType("fnt",Ru.XHR_RESPONSE_TYPE.TEXT)},l.use=function(o,a){var u=efe(o.data);if(!u){a();return}for(var f=l.getBaseUrl(this,o),g=u.parse(o.data),v={},S=function(q){v[q.metadata.pageFile]=q.texture,Object.keys(v).length===g.page.length&&(o.bitmapFont=W_.install(g,v,!0),a())},w=0;w<g.page.length;++w){var I=g.page[w].file,k=f+I,F=!1;for(var U in this.resources){var N=this.resources[U];if(N.url===k){N.metadata.pageFile=I,N.texture?S(N):N.onAfterMiddleware.add(S),F=!0;break}}if(!F){var H={crossOrigin:o.crossOrigin,loadType:Ru.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:I},o.metadata.imageMetadata),parentResource:o};this.add(k,H,S)}}},l.getBaseUrl=function(o,a){var u=a.isDataUrl?"":l.dirname(a.url);return a.isDataUrl&&(u==="."&&(u=""),o.baseUrl&&u&&o.baseUrl.charAt(o.baseUrl.length-1)==="/"&&(u+="/")),u=u.replace(o.baseUrl,""),u&&u.charAt(u.length-1)!=="/"&&(u+="/"),u},l.dirname=function(o){var a=o.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return a===o?".":a===""?"/":a},l})();/*!
 * @pixi/filter-alpha - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var MH=function(l,o){return MH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},MH(l,o)};function qnt(l,o){MH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var Knt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,Znt=(function(l){qnt(o,l);function o(a){a===void 0&&(a=1);var u=l.call(this,ghe,Knt,{uAlpha:1})||this;return u.alpha=a,u}return Object.defineProperty(o.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a},enumerable:!1,configurable:!0}),o})(cd);/*!
 * @pixi/filter-blur - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var LH=function(l,o){return LH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},LH(l,o)};function rfe(l,o){LH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var Qnt=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Jnt(l,o){var a=Math.ceil(l/2),u=Qnt,f="",g;o?g="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":g="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var v=0;v<l;v++){var S=g.replace("%index%",v.toString());S=S.replace("%sampleIndex%",v-(a-1)+".0"),f+=S,f+=`
`}return u=u.replace("%blur%",f),u=u.replace("%size%",l.toString()),u}var eit={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},tit=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function rit(l){for(var o=eit[l],a=o.length,u=tit,f="",g="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",v,S=0;S<l;S++){var w=g.replace("%index%",S.toString());v=S,S>=a&&(v=l-S-1),w=w.replace("%value%",o[v].toString()),f+=w,f+=`
`}return u=u.replace("%blur%",f),u=u.replace("%size%",l.toString()),u}var Ise;(function(l){l[l.WEBGL_LEGACY=0]="WEBGL_LEGACY",l[l.WEBGL=1]="WEBGL",l[l.WEBGL2=2]="WEBGL2"})(Ise||(Ise={}));var Dse;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.WEBGL=1]="WEBGL",l[l.CANVAS=2]="CANVAS"})(Dse||(Dse={}));var Ose;(function(l){l[l.COLOR=16384]="COLOR",l[l.DEPTH=256]="DEPTH",l[l.STENCIL=1024]="STENCIL"})(Ose||(Ose={}));var kse;(function(l){l[l.NORMAL=0]="NORMAL",l[l.ADD=1]="ADD",l[l.MULTIPLY=2]="MULTIPLY",l[l.SCREEN=3]="SCREEN",l[l.OVERLAY=4]="OVERLAY",l[l.DARKEN=5]="DARKEN",l[l.LIGHTEN=6]="LIGHTEN",l[l.COLOR_DODGE=7]="COLOR_DODGE",l[l.COLOR_BURN=8]="COLOR_BURN",l[l.HARD_LIGHT=9]="HARD_LIGHT",l[l.SOFT_LIGHT=10]="SOFT_LIGHT",l[l.DIFFERENCE=11]="DIFFERENCE",l[l.EXCLUSION=12]="EXCLUSION",l[l.HUE=13]="HUE",l[l.SATURATION=14]="SATURATION",l[l.COLOR=15]="COLOR",l[l.LUMINOSITY=16]="LUMINOSITY",l[l.NORMAL_NPM=17]="NORMAL_NPM",l[l.ADD_NPM=18]="ADD_NPM",l[l.SCREEN_NPM=19]="SCREEN_NPM",l[l.NONE=20]="NONE",l[l.SRC_OVER=0]="SRC_OVER",l[l.SRC_IN=21]="SRC_IN",l[l.SRC_OUT=22]="SRC_OUT",l[l.SRC_ATOP=23]="SRC_ATOP",l[l.DST_OVER=24]="DST_OVER",l[l.DST_IN=25]="DST_IN",l[l.DST_OUT=26]="DST_OUT",l[l.DST_ATOP=27]="DST_ATOP",l[l.ERASE=26]="ERASE",l[l.SUBTRACT=28]="SUBTRACT",l[l.XOR=29]="XOR"})(kse||(kse={}));var Pse;(function(l){l[l.POINTS=0]="POINTS",l[l.LINES=1]="LINES",l[l.LINE_LOOP=2]="LINE_LOOP",l[l.LINE_STRIP=3]="LINE_STRIP",l[l.TRIANGLES=4]="TRIANGLES",l[l.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",l[l.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Pse||(Pse={}));var Rse;(function(l){l[l.RGBA=6408]="RGBA",l[l.RGB=6407]="RGB",l[l.ALPHA=6406]="ALPHA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",l[l.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",l[l.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Rse||(Rse={}));var Nse;(function(l){l[l.TEXTURE_2D=3553]="TEXTURE_2D",l[l.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",l[l.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",l[l.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",l[l.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",l[l.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",l[l.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Nse||(Nse={}));var Mse;(function(l){l[l.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",l[l.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",l[l.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",l[l.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",l[l.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",l[l.FLOAT=5126]="FLOAT",l[l.HALF_FLOAT=36193]="HALF_FLOAT"})(Mse||(Mse={}));var Lse;(function(l){l[l.FLOAT=0]="FLOAT",l[l.INT=1]="INT",l[l.UINT=2]="UINT"})(Lse||(Lse={}));var Bse;(function(l){l[l.NEAREST=0]="NEAREST",l[l.LINEAR=1]="LINEAR"})(Bse||(Bse={}));var Fse;(function(l){l[l.CLAMP=33071]="CLAMP",l[l.REPEAT=10497]="REPEAT",l[l.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Fse||(Fse={}));var Use;(function(l){l[l.OFF=0]="OFF",l[l.POW2=1]="POW2",l[l.ON=2]="ON",l[l.ON_MANUAL=3]="ON_MANUAL"})(Use||(Use={}));var Hse;(function(l){l[l.NPM=0]="NPM",l[l.UNPACK=1]="UNPACK",l[l.PMA=2]="PMA",l[l.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",l[l.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",l[l.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Hse||(Hse={}));var xA;(function(l){l[l.NO=0]="NO",l[l.YES=1]="YES",l[l.AUTO=2]="AUTO",l[l.BLEND=0]="BLEND",l[l.CLEAR=1]="CLEAR",l[l.BLIT=2]="BLIT"})(xA||(xA={}));var $se;(function(l){l[l.AUTO=0]="AUTO",l[l.MANUAL=1]="MANUAL"})($se||($se={}));var Gse;(function(l){l.LOW="lowp",l.MEDIUM="mediump",l.HIGH="highp"})(Gse||(Gse={}));var zse;(function(l){l[l.NONE=0]="NONE",l[l.SCISSOR=1]="SCISSOR",l[l.STENCIL=2]="STENCIL",l[l.SPRITE=3]="SPRITE"})(zse||(zse={}));var jse;(function(l){l[l.NONE=0]="NONE",l[l.LOW=2]="LOW",l[l.MEDIUM=4]="MEDIUM",l[l.HIGH=8]="HIGH"})(jse||(jse={}));var BH=(function(l){rfe(o,l);function o(a,u,f,g,v){u===void 0&&(u=8),f===void 0&&(f=4),g===void 0&&(g=Gr.FILTER_RESOLUTION),v===void 0&&(v=5);var S=this,w=Jnt(v,a),I=rit(v);return S=l.call(this,w,I)||this,S.horizontal=a,S.resolution=g,S._quality=0,S.quality=f,S.blur=u,S}return o.prototype.apply=function(a,u,f,g){if(f?this.horizontal?this.uniforms.strength=1/f.width*(f.width/u.width):this.uniforms.strength=1/f.height*(f.height/u.height):this.horizontal?this.uniforms.strength=1/a.renderer.width*(a.renderer.width/u.width):this.uniforms.strength=1/a.renderer.height*(a.renderer.height/u.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)a.applyFilter(this,u,f,g);else{var v=a.getFilterTexture(),S=a.renderer,w=u,I=v;this.state.blend=!1,a.applyFilter(this,w,I,xA.CLEAR);for(var k=1;k<this.passes-1;k++){a.bindAndClear(w,xA.BLIT),this.uniforms.uSampler=I;var F=I;I=w,w=F,S.shader.bind(this),S.geometry.draw(5)}this.state.blend=!0,a.applyFilter(this,I,f,g),a.returnFilterTexture(v)}},Object.defineProperty(o.prototype,"blur",{get:function(){return this.strength},set:function(a){this.padding=1+Math.abs(a)*2,this.strength=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"quality",{get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a},enumerable:!1,configurable:!0}),o})(cd),nit=(function(l){rfe(o,l);function o(a,u,f,g){a===void 0&&(a=8),u===void 0&&(u=4),f===void 0&&(f=Gr.FILTER_RESOLUTION),g===void 0&&(g=5);var v=l.call(this)||this;return v.blurXFilter=new BH(!0,a,u,f,g),v.blurYFilter=new BH(!1,a,u,f,g),v.resolution=f,v.quality=u,v.blur=a,v.repeatEdgePixels=!1,v}return o.prototype.apply=function(a,u,f,g){var v=Math.abs(this.blurXFilter.strength),S=Math.abs(this.blurYFilter.strength);if(v&&S){var w=a.getFilterTexture();this.blurXFilter.apply(a,u,w,xA.CLEAR),this.blurYFilter.apply(a,w,f,g),a.returnFilterTexture(w)}else S?this.blurYFilter.apply(a,u,f,g):this.blurXFilter.apply(a,u,f,g)},o.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(o.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(a){this.blurYFilter.blendMode=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(a){this._repeatEdgePixels=a,this.updatePadding()},enumerable:!1,configurable:!0}),o})(cd);/*!
 * @pixi/filter-color-matrix - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var FH=function(l,o){return FH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},FH(l,o)};function iit(l,o){FH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var ait=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,UH=(function(l){iit(o,l);function o(){var a=this,u={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return a=l.call(this,s9,ait,u)||this,a.alpha=1,a}return o.prototype._loadMatrix=function(a,u){u===void 0&&(u=!1);var f=a;u&&(this._multiply(f,this.uniforms.m,a),f=this._colorMatrix(f)),this.uniforms.m=f},o.prototype._multiply=function(a,u,f){return a[0]=u[0]*f[0]+u[1]*f[5]+u[2]*f[10]+u[3]*f[15],a[1]=u[0]*f[1]+u[1]*f[6]+u[2]*f[11]+u[3]*f[16],a[2]=u[0]*f[2]+u[1]*f[7]+u[2]*f[12]+u[3]*f[17],a[3]=u[0]*f[3]+u[1]*f[8]+u[2]*f[13]+u[3]*f[18],a[4]=u[0]*f[4]+u[1]*f[9]+u[2]*f[14]+u[3]*f[19]+u[4],a[5]=u[5]*f[0]+u[6]*f[5]+u[7]*f[10]+u[8]*f[15],a[6]=u[5]*f[1]+u[6]*f[6]+u[7]*f[11]+u[8]*f[16],a[7]=u[5]*f[2]+u[6]*f[7]+u[7]*f[12]+u[8]*f[17],a[8]=u[5]*f[3]+u[6]*f[8]+u[7]*f[13]+u[8]*f[18],a[9]=u[5]*f[4]+u[6]*f[9]+u[7]*f[14]+u[8]*f[19]+u[9],a[10]=u[10]*f[0]+u[11]*f[5]+u[12]*f[10]+u[13]*f[15],a[11]=u[10]*f[1]+u[11]*f[6]+u[12]*f[11]+u[13]*f[16],a[12]=u[10]*f[2]+u[11]*f[7]+u[12]*f[12]+u[13]*f[17],a[13]=u[10]*f[3]+u[11]*f[8]+u[12]*f[13]+u[13]*f[18],a[14]=u[10]*f[4]+u[11]*f[9]+u[12]*f[14]+u[13]*f[19]+u[14],a[15]=u[15]*f[0]+u[16]*f[5]+u[17]*f[10]+u[18]*f[15],a[16]=u[15]*f[1]+u[16]*f[6]+u[17]*f[11]+u[18]*f[16],a[17]=u[15]*f[2]+u[16]*f[7]+u[17]*f[12]+u[18]*f[17],a[18]=u[15]*f[3]+u[16]*f[8]+u[17]*f[13]+u[18]*f[18],a[19]=u[15]*f[4]+u[16]*f[9]+u[17]*f[14]+u[18]*f[19]+u[19],a},o.prototype._colorMatrix=function(a){var u=new Float32Array(a);return u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,u},o.prototype.brightness=function(a,u){var f=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(f,u)},o.prototype.greyscale=function(a,u){var f=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(f,u)},o.prototype.blackAndWhite=function(a){var u=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.hue=function(a,u){a=(a||0)/180*Math.PI;var f=Math.cos(a),g=Math.sin(a),v=Math.sqrt,S=1/3,w=v(S),I=f+(1-f)*S,k=S*(1-f)-w*g,F=S*(1-f)+w*g,U=S*(1-f)+w*g,N=f+S*(1-f),H=S*(1-f)-w*g,q=S*(1-f)-w*g,j=S*(1-f)+w*g,se=f+S*(1-f),he=[I,k,F,0,0,U,N,H,0,0,q,j,se,0,0,0,0,0,1,0];this._loadMatrix(he,u)},o.prototype.contrast=function(a,u){var f=(a||0)+1,g=-.5*(f-1),v=[f,0,0,0,g,0,f,0,0,g,0,0,f,0,g,0,0,0,1,0];this._loadMatrix(v,u)},o.prototype.saturate=function(a,u){a===void 0&&(a=0);var f=a*2/3+1,g=(f-1)*-.5,v=[f,g,g,0,0,g,f,g,0,0,g,g,f,0,0,0,0,0,1,0];this._loadMatrix(v,u)},o.prototype.desaturate=function(){this.saturate(-1)},o.prototype.negative=function(a){var u=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.sepia=function(a){var u=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.technicolor=function(a){var u=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.polaroid=function(a){var u=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.toBGR=function(a){var u=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.kodachrome=function(a){var u=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.browni=function(a){var u=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.vintage=function(a){var u=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.colorTone=function(a,u,f,g,v){a=a||.2,u=u||.15,f=f||16770432,g=g||3375104;var S=(f>>16&255)/255,w=(f>>8&255)/255,I=(f&255)/255,k=(g>>16&255)/255,F=(g>>8&255)/255,U=(g&255)/255,N=[.3,.59,.11,0,0,S,w,I,a,0,k,F,U,u,0,S-k,w-F,I-U,0,0];this._loadMatrix(N,v)},o.prototype.night=function(a,u){a=a||.1;var f=[a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0];this._loadMatrix(f,u)},o.prototype.predator=function(a,u){var f=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(f,u)},o.prototype.lsd=function(a){var u=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(u,a)},o.prototype.reset=function(){var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(a,!1)},Object.defineProperty(o.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a},enumerable:!1,configurable:!0}),o})(cd);UH.prototype.grayscale=UH.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var HH=function(l,o){return HH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},HH(l,o)};function oit(l,o){HH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var sit=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,lit=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,uit=(function(l){oit(o,l);function o(a,u){var f=this,g=new Ha;return a.renderable=!1,f=l.call(this,lit,sit,{mapSampler:a._texture,filterMatrix:g,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,f.maskSprite=a,f.maskMatrix=g,u==null&&(u=20),f.scale=new Ca(u,u),f}return o.prototype.apply=function(a,u,f,g){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var v=this.maskSprite.worldTransform,S=Math.sqrt(v.a*v.a+v.b*v.b),w=Math.sqrt(v.c*v.c+v.d*v.d);S!==0&&w!==0&&(this.uniforms.rotation[0]=v.a/S,this.uniforms.rotation[1]=v.b/S,this.uniforms.rotation[2]=v.c/w,this.uniforms.rotation[3]=v.d/w),a.applyFilter(this,u,f,g)},Object.defineProperty(o.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a},enumerable:!1,configurable:!0}),o})(cd);/*!
 * @pixi/filter-fxaa - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $H=function(l,o){return $H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},$H(l,o)};function cit(l,o){$H(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var hit=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,fit=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,dit=(function(l){cit(o,l);function o(){return l.call(this,hit,fit)||this}return o})(cd);/*!
 * @pixi/filter-noise - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var GH=function(l,o){return GH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},GH(l,o)};function pit(l,o){GH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var mit=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,git=(function(l){pit(o,l);function o(a,u){a===void 0&&(a=.5),u===void 0&&(u=Math.random());var f=l.call(this,s9,mit,{uNoise:0,uSeed:0})||this;return f.noise=a,f.seed=u,f}return Object.defineProperty(o.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a},enumerable:!1,configurable:!0}),o})(cd);/*!
 * @pixi/mixin-cache-as-bitmap - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var nfe=new Ha;$a.prototype._cacheAsBitmap=!1;$a.prototype._cacheData=null;$a.prototype._cacheAsBitmapResolution=null;var vit=(function(){function l(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return l})();Object.defineProperties($a.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(l){l!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=l,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(l){if(this._cacheAsBitmap!==l){this._cacheAsBitmap=l;var o;l?(this._cacheData||(this._cacheData=new vit),o=this._cacheData,o.originalRender=this.render,o.originalRenderCanvas=this.renderCanvas,o.originalUpdateTransform=this.updateTransform,o.originalCalculateBounds=this.calculateBounds,o.originalGetLocalBounds=this.getLocalBounds,o.originalDestroy=this.destroy,o.originalContainsPoint=this.containsPoint,o.originalMask=this._mask,o.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(o=this._cacheData,o.sprite&&this._destroyCachedDisplayObject(),this.render=o.originalRender,this.renderCanvas=o.originalRenderCanvas,this.calculateBounds=o.originalCalculateBounds,this.getLocalBounds=o.originalGetLocalBounds,this.destroy=o.originalDestroy,this.updateTransform=o.originalUpdateTransform,this.containsPoint=o.originalContainsPoint,this._mask=o.originalMask,this.filterArea=o.originalFilterArea)}}}});$a.prototype._renderCached=function(o){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(o),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(o))};$a.prototype._initCachedDisplayObject=function(o){if(!(this._cacheData&&this._cacheData.sprite)){var a=this.alpha;this.alpha=1,o.batch.flush();var u=this.getLocalBounds(null,!0).clone();if(this.filters){var f=this.filters[0].padding;u.pad(f)}u.ceil(Gr.RESOLUTION);var g=o.renderTexture.current,v=o.renderTexture.sourceFrame.clone(),S=o.renderTexture.destinationFrame.clone(),w=o.projection.transform,I=tm.create({width:u.width,height:u.height,resolution:this.cacheAsBitmapResolution||o.resolution}),k="cacheAsBitmap_"+Yv();this._cacheData.textureCacheId=k,Ii.addToCache(I.baseTexture,k),an.addToCache(I,k);var F=this.transform.localTransform.copyTo(nfe).invert().translate(-u.x,-u.y);this.render=this._cacheData.originalRender,o.render(this,{renderTexture:I,clear:!0,transform:F,skipUpdateTransform:!1}),o.projection.transform=w,o.renderTexture.bind(g,v,S),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=a;var U=new oE(I);U.transform.worldTransform=this.transform.worldTransform,U.anchor.x=-(u.x/u.width),U.anchor.y=-(u.y/u.height),U.alpha=a,U._bounds=this._bounds,this._cacheData.sprite=U,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=U.containsPoint.bind(U)}};$a.prototype._renderCachedCanvas=function(o){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(o),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(o))};$a.prototype._initCachedDisplayObjectCanvas=function(o){if(!(this._cacheData&&this._cacheData.sprite)){var a=this.getLocalBounds(null,!0),u=this.alpha;this.alpha=1;var f=o.context,g=o._projTransform;a.ceil(Gr.RESOLUTION);var v=tm.create({width:a.width,height:a.height}),S="cacheAsBitmap_"+Yv();this._cacheData.textureCacheId=S,Ii.addToCache(v.baseTexture,S),an.addToCache(v,S);var w=nfe;this.transform.localTransform.copyTo(w),w.invert(),w.tx-=a.x,w.ty-=a.y,this.renderCanvas=this._cacheData.originalRenderCanvas,o.render(this,{renderTexture:v,clear:!0,transform:w,skipUpdateTransform:!1}),o.context=f,o._projTransform=g,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=u;var I=new oE(v);I.transform.worldTransform=this.transform.worldTransform,I.anchor.x=-(a.x/a.width),I.anchor.y=-(a.y/a.height),I.alpha=u,I._bounds=this._bounds,this._cacheData.sprite=I,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=o._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=I.containsPoint.bind(I)}};$a.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};$a.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};$a.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ii.removeFromCache(this._cacheData.textureCacheId),an.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};$a.prototype._cacheAsBitmapDestroy=function(o){this.cacheAsBitmap=!1,this.destroy(o)};/*!
 * @pixi/mixin-get-child-by-name - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */$a.prototype.name=null;Rc.prototype.getChildByName=function(o,a){for(var u=0,f=this.children.length;u<f;u++)if(this.children[u].name===o)return this.children[u];if(a)for(var u=0,f=this.children.length;u<f;u++){var g=this.children[u];if(g.getChildByName){var v=this.children[u].getChildByName(o,!0);if(v)return v}}return null};/*!
 * @pixi/mixin-get-global-position - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */$a.prototype.getGlobalPosition=function(o,a){return o===void 0&&(o=new Ca),a===void 0&&(a=!1),this.parent?this.parent.toGlobal(this.position,o,a):(o.x=this.position.x,o.y=this.position.y),o};/*!
 * @pixi/mesh-extras - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zH=function(l,o){return zH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},zH(l,o)};function sE(l,o){zH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var ife=(function(l){sE(o,l);function o(a,u,f,g){a===void 0&&(a=100),u===void 0&&(u=100),f===void 0&&(f=10),g===void 0&&(g=10);var v=l.call(this)||this;return v.segWidth=f,v.segHeight=g,v.width=a,v.height=u,v.build(),v}return o.prototype.build=function(){for(var a=this.segWidth*this.segHeight,u=[],f=[],g=[],v=this.segWidth-1,S=this.segHeight-1,w=this.width/v,I=this.height/S,k=0;k<a;k++){var F=k%this.segWidth,U=k/this.segWidth|0;u.push(F*w,U*I),f.push(F/v,U/S)}for(var N=v*S,k=0;k<N;k++){var H=k%v,q=k/v|0,j=q*this.segWidth+H,se=q*this.segWidth+H+1,he=(q+1)*this.segWidth+H,oe=(q+1)*this.segWidth+H+1;g.push(j,se,he,se,oe,he)}this.buffers[0].data=new Float32Array(u),this.buffers[1].data=new Float32Array(f),this.indexBuffer.data=new Uint16Array(g),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},o})(BA),afe=(function(l){sE(o,l);function o(a,u,f){a===void 0&&(a=200),f===void 0&&(f=0);var g=l.call(this,new Float32Array(u.length*4),new Float32Array(u.length*4),new Uint16Array((u.length-1)*6))||this;return g.points=u,g._width=a,g.textureScale=f,g.build(),g}return Object.defineProperty(o.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),o.prototype.build=function(){var a=this.points;if(a){var u=this.getBuffer("aVertexPosition"),f=this.getBuffer("aTextureCoord"),g=this.getIndex();if(!(a.length<1)){u.data.length/4!==a.length&&(u.data=new Float32Array(a.length*4),f.data=new Float32Array(a.length*4),g.data=new Uint16Array((a.length-1)*6));var v=f.data,S=g.data;v[0]=0,v[1]=0,v[2]=0,v[3]=1;for(var w=0,I=a[0],k=this._width*this.textureScale,F=a.length,U=0;U<F;U++){var N=U*4;if(this.textureScale>0){var H=I.x-a[U].x,q=I.y-a[U].y,j=Math.sqrt(H*H+q*q);I=a[U],w+=j/k}else w=U/(F-1);v[N]=w,v[N+1]=0,v[N+2]=w,v[N+3]=1}for(var se=0,U=0;U<F-1;U++){var N=U*2;S[se++]=N,S[se++]=N+1,S[se++]=N+2,S[se++]=N+2,S[se++]=N+1,S[se++]=N+3}f.update(),g.update(),this.updateVertices()}}},o.prototype.updateVertices=function(){var a=this.points;if(!(a.length<1)){for(var u=a[0],f,g=0,v=0,S=this.buffers[0].data,w=a.length,I=0;I<w;I++){var k=a[I],F=I*4;I<a.length-1?f=a[I+1]:f=k,v=-(f.x-u.x),g=f.y-u.y;var U=Math.sqrt(g*g+v*v),N=this.textureScale>0?this.textureScale*this._width/2:this._width/2;g/=U,v/=U,g*=N,v*=N,S[F]=k.x+g,S[F+1]=k.y+v,S[F+2]=k.x-g,S[F+3]=k.y-v,u=k}this.buffers[0].update()}},o.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},o})(BA),yit=(function(l){sE(o,l);function o(a,u,f){f===void 0&&(f=0);var g=this,v=new afe(a.height,u,f),S=new LA(a);return f>0&&(a.baseTexture.wrapMode=Wh.REPEAT),g=l.call(this,v,S)||this,g.autoUpdate=!0,g}return o.prototype._render=function(a){var u=this.geometry;(this.autoUpdate||u._width!==this.shader.texture.height)&&(u._width=this.shader.texture.height,u.update()),l.prototype._render.call(this,a)},o})(eE),ofe=(function(l){sE(o,l);function o(a,u,f){var g=this,v=new ife(a.width,a.height,u,f),S=new LA(an.WHITE);return g=l.call(this,v,S)||this,g.texture=a,g}return o.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var a=this.geometry;a.width=this.shader.texture.width,a.height=this.shader.texture.height,a.build()},Object.defineProperty(o.prototype,"texture",{get:function(){return this.shader.texture},set:function(a){this.shader.texture!==a&&(this.shader.texture=a,this._textureID=-1,a.baseTexture.valid?this.textureUpdated():a.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),o.prototype._render=function(a){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),l.prototype._render.call(this,a)},o.prototype.destroy=function(a){this.shader.texture.off("update",this.textureUpdated,this),l.prototype.destroy.call(this,a)},o})(eE),_it=(function(l){sE(o,l);function o(a,u,f,g,v){a===void 0&&(a=an.EMPTY);var S=this,w=new BA(u,f,g);w.getBuffer("aVertexPosition").static=!1;var I=new LA(a);return S=l.call(this,w,I,null,v)||this,S.autoUpdate=!0,S}return Object.defineProperty(o.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(a){this.geometry.getBuffer("aVertexPosition").data=a},enumerable:!1,configurable:!0}),o.prototype._render=function(a){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),l.prototype._render.call(this,a)},o})(eE),yP=10,Eit=(function(l){sE(o,l);function o(a,u,f,g,v){u===void 0&&(u=yP),f===void 0&&(f=yP),g===void 0&&(g=yP),v===void 0&&(v=yP);var S=l.call(this,an.WHITE,4,4)||this;return S._origWidth=a.orig.width,S._origHeight=a.orig.height,S._width=S._origWidth,S._height=S._origHeight,S._leftWidth=u,S._rightWidth=g,S._topHeight=f,S._bottomHeight=v,S.texture=a,S}return o.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(o.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(a){this.geometry.getBuffer("aVertexPosition").data=a},enumerable:!1,configurable:!0}),o.prototype.updateHorizontalVertices=function(){var a=this.vertices,u=this._getMinScale();a[9]=a[11]=a[13]=a[15]=this._topHeight*u,a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight*u,a[25]=a[27]=a[29]=a[31]=this._height},o.prototype.updateVerticalVertices=function(){var a=this.vertices,u=this._getMinScale();a[2]=a[10]=a[18]=a[26]=this._leftWidth*u,a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth*u,a[6]=a[14]=a[22]=a[30]=this._width},o.prototype._getMinScale=function(){var a=this._leftWidth+this._rightWidth,u=this._width>a?1:this._width/a,f=this._topHeight+this._bottomHeight,g=this._height>f?1:this._height/f,v=Math.min(u,g);return v},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(a){this._width=a,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(a){this._height=a,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(a){this._leftWidth=a,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(a){this._rightWidth=a,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"topHeight",{get:function(){return this._topHeight},set:function(a){this._topHeight=a,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a,this._refresh()},enumerable:!1,configurable:!0}),o.prototype._refresh=function(){var a=this.texture,u=this.geometry.buffers[1].data;this._origWidth=a.orig.width,this._origHeight=a.orig.height;var f=1/this._origWidth,g=1/this._origHeight;u[0]=u[8]=u[16]=u[24]=0,u[1]=u[3]=u[5]=u[7]=0,u[6]=u[14]=u[22]=u[30]=1,u[25]=u[27]=u[29]=u[31]=1,u[2]=u[10]=u[18]=u[26]=f*this._leftWidth,u[4]=u[12]=u[20]=u[28]=1-f*this._rightWidth,u[9]=u[11]=u[13]=u[15]=g*this._topHeight,u[17]=u[19]=u[21]=u[23]=1-g*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},o})(ofe);/*!
 * @pixi/sprite-animated - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jH=function(l,o){return jH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)u.hasOwnProperty(f)&&(a[f]=u[f])},jH(l,o)};function Tit(l,o){jH(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var bit=(function(l){Tit(o,l);function o(a,u){u===void 0&&(u=!0);var f=l.call(this,a[0]instanceof an?a[0]:a[0].texture)||this;return f._textures=null,f._durations=null,f._autoUpdate=u,f._isConnectedToTicker=!1,f.animationSpeed=1,f.loop=!0,f.updateAnchor=!1,f.onComplete=null,f.onFrameChange=null,f.onLoop=null,f._currentTime=0,f._playing=!1,f._previousFrame=null,f.textures=a,f}return o.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ao.shared.remove(this.update,this),this._isConnectedToTicker=!1))},o.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ao.shared.add(this.update,this,Kh.HIGH),this._isConnectedToTicker=!0))},o.prototype.gotoAndStop=function(a){this.stop();var u=this.currentFrame;this._currentTime=a,u!==this.currentFrame&&this.updateTexture()},o.prototype.gotoAndPlay=function(a){var u=this.currentFrame;this._currentTime=a,u!==this.currentFrame&&this.updateTexture(),this.play()},o.prototype.update=function(a){if(this._playing){var u=this.animationSpeed*a,f=this.currentFrame;if(this._durations!==null){var g=this._currentTime%1*this._durations[this.currentFrame];for(g+=u/60*1e3;g<0;)this._currentTime--,g+=this._durations[this.currentFrame];var v=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);g>=this._durations[this.currentFrame];)g-=this._durations[this.currentFrame]*v,this._currentTime+=v;this._currentTime+=g/this._durations[this.currentFrame]}else this._currentTime+=u;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):f!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<f?this.onLoop():this.animationSpeed<0&&this.currentFrame>f&&this.onLoop()),this.updateTexture())}},o.prototype.updateTexture=function(){var a=this.currentFrame;this._previousFrame!==a&&(this._previousFrame=a,this._texture=this._textures[a],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},o.prototype.destroy=function(a){this.stop(),l.prototype.destroy.call(this,a),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},o.fromFrames=function(a){for(var u=[],f=0;f<a.length;++f)u.push(an.from(a[f]));return new o(u)},o.fromImages=function(a){for(var u=[],f=0;f<a.length;++f)u.push(an.from(a[f]));return new o(u)},Object.defineProperty(o.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textures",{get:function(){return this._textures},set:function(a){if(a[0]instanceof an)this._textures=a,this._durations=null;else{this._textures=[],this._durations=[];for(var u=0;u<a.length;u++)this._textures.push(a[u].texture),this._durations.push(a[u].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentFrame",{get:function(){var a=Math.floor(this._currentTime)%this._textures.length;return a<0&&(a+=this._textures.length),a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isConnectedToTicker?(Ao.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ao.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),o})(oE);/*!
 * pixi.js - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */hd.registerPlugin("accessibility",Yce);hd.registerPlugin("extract",She);hd.registerPlugin("interaction",Zce);hd.registerPlugin("particle",Bhe);hd.registerPlugin("prepare",Xhe);hd.registerPlugin("batch",Ehe);hd.registerPlugin("tilingSprite",Qhe);Qh.registerPlugin(tfe);Qh.registerPlugin(Ohe);Qh.registerPlugin(Phe);Qh.registerPlugin(Mhe);Qh.registerPlugin(Khe);CR.registerPlugin(Xce);CR.registerPlugin(xhe);var Sit="6.0.4",Cit={AlphaFilter:Znt,BlurFilter:nit,BlurFilterPass:BH,ColorMatrixFilter:UH,DisplacementFilter:uit,FXAAFilter:dit,NoiseFilter:git};const Ait=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return qh},AbstractBatchRenderer:vhe,AbstractMultiResource:_R,AbstractRenderer:phe,AccessibilityManager:Yce,AnimatedSprite:bit,AppLoaderPlugin:xhe,Application:CR,ArrayResource:F$,Attribute:gH,get BLEND_MODES(){return Wr},get BUFFER_BITS(){return yA},BaseImageResource:Zh,BasePrepare:Whe,BaseRenderTexture:j$,BaseTexture:Ii,BatchDrawCall:XP,BatchGeometry:l9,BatchPluginFactory:_he,BatchRenderer:Ehe,BatchShaderGenerator:yhe,BatchSystem:X$,BatchTextureArray:qP,BitmapFont:W_,BitmapFontData:wA,BitmapFontLoader:tfe,BitmapText:Xnt,BlobResource:Dhe,Bounds:SA,Buffer:Co,BufferResource:iE,get CLEAR_MODES(){return td},CanvasResource:ER,Circle:Gce,CompressedTextureLoader:Ohe,CompressedTextureResource:ZP,Container:Rc,ContextSystem:q$,CountLimiter:Vhe,CubeResource:U$,DDSLoader:Phe,DEG_TO_RAD:$ce,get DRAW_MODES(){return Pu},DisplayObject:$a,get ENV(){return Xh},Ellipse:zce,Extract:She,get FORMATS(){return Dc},FORMATS_TO_COMPONENTS:Rhe,FillStyle:c9,Filter:cd,FilterState:rhe,FilterSystem:Y$,Framebuffer:YP,FramebufferSystem:K$,get GC_MODES(){return WP},GLFramebuffer:nhe,GLProgram:fhe,GLTexture:LP,GRAPHICS_CURVES:Q_,Geometry:aE,GeometrySystem:Z$,Graphics:d9,GraphicsData:xH,GraphicsGeometry:zhe,IGLUniformData:grt,INSTALLED:CA,get INTERNAL_FORMATS(){return yn},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:AA,ImageBitmapResource:z$,ImageResource:TR,InteractionData:dH,InteractionEvent:qce,InteractionManager:Zce,InteractionTrackingData:NP,KTXLoader:Mhe,get LINE_CAP(){return ad},get LINE_JOIN(){return id},LineStyle:jhe,Loader:Qh,LoaderResource:Ru,get MASK_TYPES(){return fl},get MIPMAP_MODES(){return ud},get MSAA_QUALITY(){return Vv},MaskData:ihe,MaskSystem:Q$,Matrix:Ha,Mesh:eE,MeshBatchUvs:Jhe,MeshGeometry:BA,MeshMaterial:LA,NineSlicePlane:Eit,ObjectRenderer:NA,ObservablePoint:Lv,PI_2:bA,get PRECISION(){return Pc},ParticleContainer:dnt,ParticleRenderer:Bhe,PlaneGeometry:ife,Point:Ca,Polygon:fA,Prepare:Xhe,Program:MA,ProjectionSystem:t9,Quad:the,QuadUv:W$,RAD_TO_DEG:Hce,get RENDERER_TYPE(){return Z_},Rectangle:Zn,RenderTexture:tm,RenderTexturePool:Jce,RenderTextureSystem:r9,Renderer:hd,Resource:qv,RopeGeometry:afe,RoundedRectangle:jce,Runner:Yo,get SAMPLER_TYPES(){return _A},get SCALE_MODES(){return jh},get SHAPES(){return Sa},SVGResource:H$,ScissorSystem:J$,Shader:rm,ShaderSystem:n9,SimpleMesh:_it,SimplePlane:ofe,SimpleRope:yit,Sprite:oE,SpriteMaskFilter:che,Spritesheet:qhe,SpritesheetLoader:Khe,State:im,StateSystem:i9,StencilSystem:e9,System:pl,get TARGETS(){return Zp},get TEXT_GRADIENT(){return J_},get TYPES(){return Di},TYPES_TO_BYTES_PER_COMPONENT:EH,TYPES_TO_BYTES_PER_PIXEL:Nhe,TemporaryDisplayObject:B$,Text:p9,TextMetrics:Zl,TextStyle:Kv,Texture:an,TextureGCSystem:a9,TextureLoader:whe,TextureMatrix:SR,TextureSystem:o9,TextureUvs:V$,Ticker:Ao,TickerPlugin:Xce,TilingSprite:Fnt,TilingSpriteRenderer:Qhe,TimeLimiter:Bnt,Transform:M$,get UPDATE_PRIORITY(){return Kh},UniformGroup:Qp,VERSION:Sit,VideoResource:G$,ViewableBuffer:KP,get WRAP_MODES(){return Wh},accessibleTarget:Wce,autoDetectRenderer:mhe,autoDetectResource:yR,checkMaxIfStatementsInShader:uhe,defaultFilterVertex:s9,defaultVertex:ghe,filters:Cit,graphicsUtils:Ent,groupD8:aa,interactiveTarget:Kce,isMobile:ku,resources:The,settings:Gr,systems:bhe,uniformParsers:MP,utils:Ptt},Symbol.toStringTag,{value:"Module"})),wit=e$(Ait);var xit=nA.exports,Vse;function Iit(){return Vse||(Vse=1,(function(l,o){function a(){return typeof Reflect<"u"&&Reflect.get?a=Reflect.get.bind():a=function(ue,X,de){var fe=u(ue,X);if(fe){var Fe=Object.getOwnPropertyDescriptor(fe,X);return Fe.get?Fe.get.call(arguments.length<3?ue:de):Fe.value}},a.apply(this,arguments)}function u(oe,ue){for(;!Object.prototype.hasOwnProperty.call(oe,ue)&&(oe=N(oe),oe!==null););return oe}function f(oe,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(ue&&ue.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),Object.defineProperty(oe,"prototype",{writable:!1}),ue&&U(oe,ue)}function g(oe){var ue=k();return function(){var de=N(oe),fe;if(ue){var Fe=N(this).constructor;fe=Reflect.construct(de,arguments,Fe)}else fe=de.apply(this,arguments);return v(this,fe)}}function v(oe,ue){if(ue&&(typeof ue=="object"||typeof ue=="function"))return ue;if(ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(oe)}function S(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function w(oe){var ue=typeof Map=="function"?new Map:void 0;return w=function(de){if(de===null||!F(de))return de;if(typeof de!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ue<"u"){if(ue.has(de))return ue.get(de);ue.set(de,fe)}function fe(){return I(de,arguments,N(this).constructor)}return fe.prototype=Object.create(de.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),U(fe,de)},w(oe)}function I(oe,ue,X){return k()?I=Reflect.construct.bind():I=function(fe,Fe,M){var ke=[null];ke.push.apply(ke,Fe);var qe=Function.bind.apply(fe,ke),Te=new qe;return M&&U(Te,M.prototype),Te},I.apply(null,arguments)}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(oe){return Function.toString.call(oe).indexOf("[native code]")!==-1}function U(oe,ue){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,fe){return de.__proto__=fe,de},U(oe,ue)}function N(oe){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)},N(oe)}function H(oe,ue){if(!(oe instanceof ue))throw new TypeError("Cannot call a class as a function")}function q(oe,ue){for(var X=0;X<ue.length;X++){var de=ue[X];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(oe,se(de.key),de)}}function j(oe,ue,X){return ue&&q(oe.prototype,ue),X&&q(oe,X),Object.defineProperty(oe,"prototype",{writable:!1}),oe}function se(oe){var ue=he(oe,"string");return typeof ue=="symbol"?ue:String(ue)}function he(oe,ue){if(typeof oe!="object"||oe===null)return oe;var X=oe[Symbol.toPrimitive];if(X!==void 0){var de=X.call(oe,ue);if(typeof de!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(oe)}(function(oe,ue){ue(o,oR(),wue(),wit)})(xit,function(oe,ue,X,de){const fe=e=>e&&typeof e=="object"&&"default"in e?e:{default:e};function Fe(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const M=fe(ue),ke=fe(X),qe=Fe(de);var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function at(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _t(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var z={exports:{}},be,Re;function ie(){if(Re)return be;Re=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return be=e,be}var pe,me;function ce(){if(me)return pe;me=1;var e=ie();function t(){}function r(){}return r.resetWarningCache=t,pe=function(){function i(c,h,p,m,d,E){if(E!==e){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function n(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:n,element:i,elementType:i,instanceOf:n,node:i,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},pe}z.exports=ce()();var _e="http://www.w3.org/1999/xhtml";const Le={svg:"http://www.w3.org/2000/svg",xhtml:_e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ke(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Le.hasOwnProperty(t)?{space:Le[t],local:e}:e}function dt(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===_e&&t.documentElement.namespaceURI===_e?t.createElement(e):t.createElementNS(r,e)}}function It(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function St(e){var t=Ke(e);return(t.local?It:dt)(t)}function Mt(){}function Bt(e){return e==null?Mt:function(){return this.querySelector(e)}}function Lt(e){typeof e!="function"&&(e=Bt(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var s=t[n],c=s.length,h=i[n]=new Array(c),p,m,d=0;d<c;++d)(p=s[d])&&(m=e.call(p,p.__data__,d,s))&&("__data__"in p&&(m.__data__=p.__data__),h[d]=m);return new wa(i,this._parents)}function Pt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Vt(){return[]}function lr(e){return e==null?Vt:function(){return this.querySelectorAll(e)}}function Gt(e){return function(){var t=e.apply(this,arguments);return t==null?[]:Pt(t)}}function ar(e){typeof e=="function"?e=Gt(e):e=lr(e);for(var t=this._groups,r=t.length,i=[],n=[],s=0;s<r;++s)for(var c=t[s],h=c.length,p,m=0;m<h;++m)(p=c[m])&&(i.push(e.call(p,p.__data__,m,c)),n.push(p));return new wa(i,n)}function Wt(e){return function(){return this.matches(e)}}function Dr(e){return function(t){return t.matches(e)}}var Tn=Array.prototype.find;function _i(e){return function(){return Tn.call(this.children,e)}}function Vn(){return this.firstElementChild}function Nn(e){return this.select(e==null?Vn:_i(typeof e=="function"?e:Dr(e)))}var pi=Array.prototype.filter;function Jn(){return this.children}function Mn(e){return function(){return pi.call(this.children,e)}}function Aa(e){return this.selectAll(e==null?Jn:Mn(typeof e=="function"?e:Dr(e)))}function ma(e){typeof e!="function"&&(e=Wt(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var s=t[n],c=s.length,h=i[n]=[],p,m=0;m<c;++m)(p=s[m])&&e.call(p,p.__data__,m,s)&&h.push(p);return new wa(i,this._parents)}function ho(e){return new Array(e.length)}function Wi(){return new wa(this._enter||this._groups.map(ho),this._parents)}function mn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}mn.prototype={constructor:mn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ga(e){return function(){return e}}function Ka(e,t,r,i,n,s){for(var c=0,h,p=t.length,m=s.length;c<m;++c)(h=t[c])?(h.__data__=s[c],i[c]=h):r[c]=new mn(e,s[c]);for(;c<p;++c)(h=t[c])&&(n[c]=h)}function Wn(e,t,r,i,n,s,c){var h,p,m=new Map,d=t.length,E=s.length,_=new Array(d),T;for(h=0;h<d;++h)(p=t[h])&&(_[h]=T=c.call(p,p.__data__,h,t)+"",m.has(T)?n[h]=p:m.set(T,p));for(h=0;h<E;++h)T=c.call(e,s[h],h,s)+"",(p=m.get(T))?(i[h]=p,p.__data__=s[h],m.delete(T)):r[h]=new mn(e,s[h]);for(h=0;h<d;++h)(p=t[h])&&m.get(_[h])===p&&(n[h]=p)}function Vr(e){return e.__data__}function Ei(e,t){if(!arguments.length)return Array.from(this,Vr);var r=t?Wn:Ka,i=this._parents,n=this._groups;typeof e!="function"&&(e=Ga(e));for(var s=n.length,c=new Array(s),h=new Array(s),p=new Array(s),m=0;m<s;++m){var d=i[m],E=n[m],_=E.length,T=Pt(e.call(d,d&&d.__data__,m,i)),C=T.length,A=h[m]=new Array(C),D=c[m]=new Array(C),O=p[m]=new Array(_);r(d,E,A,D,O,T,t);for(var B=0,P=0,R,$;B<C;++B)if(R=A[B]){for(B>=P&&(P=B+1);!($=D[P])&&++P<C;);R._next=$||null}}return c=new wa(c,i),c._enter=h,c._exit=p,c}function Li(){return new wa(this._exit||this._groups.map(ho),this._parents)}function wt(e,t,r){var i=this.enter(),n=this,s=this.exit();return i=typeof e=="function"?e(i):i.append(e+""),t!=null&&(n=t(n)),r==null?s.remove():r(s),i&&n?i.merge(n).order():n}function pt(e){if(!(e instanceof wa))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,i=t.length,n=r.length,s=Math.min(i,n),c=new Array(i),h=0;h<s;++h)for(var p=t[h],m=r[h],d=p.length,E=c[h]=new Array(d),_,T=0;T<d;++T)(_=p[T]||m[T])&&(E[T]=_);for(;h<i;++h)c[h]=t[h];return new wa(c,this._parents)}function un(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],n=i.length-1,s=i[n],c;--n>=0;)(c=i[n])&&(s&&c.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(c,s),s=c);return this}function Yn(e){e||(e=Xn);function t(E,_){return E&&_?e(E.__data__,_.__data__):!E-!_}for(var r=this._groups,i=r.length,n=new Array(i),s=0;s<i;++s){for(var c=r[s],h=c.length,p=n[s]=new Array(h),m,d=0;d<h;++d)(m=c[d])&&(p[d]=m);p.sort(t)}return new wa(n,this._parents).order()}function Xn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Yr(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Io(){return Array.from(this)}function Ql(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,s=i.length;n<s;++n){var c=i[n];if(c)return c}return null}function fo(){let e=0;for(const t of this)++e;return e}function gl(){return!this.node()}function dd(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n=t[r],s=0,c=n.length,h;s<c;++s)(h=n[s])&&e.call(h,h.__data__,s,n);return this}function Lu(e){return function(){this.removeAttribute(e)}}function Do(e){return function(){this.removeAttributeNS(e.space,e.local)}}function am(e,t){return function(){this.setAttribute(e,t)}}function Mc(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pd(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function vl(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function om(e,t){var r=Ke(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?Do:Lu:typeof t=="function"?r.local?vl:pd:r.local?Mc:am)(r,t))}function $s(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lc(e){return function(){this.style.removeProperty(e)}}function Bc(e,t,r){return function(){this.style.setProperty(e,t,r)}}function md(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function e0(e,t,r){return arguments.length>1?this.each((t==null?Lc:typeof t=="function"?md:Bc)(e,t,r??"")):po(this.node(),e)}function po(e,t){return e.style.getPropertyValue(t)||$s(e).getComputedStyle(e,null).getPropertyValue(t)}function t0(e){return function(){delete this[e]}}function yl(e,t){return function(){this[e]=t}}function sm(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function r0(e,t){return arguments.length>1?this.each((t==null?t0:typeof t=="function"?sm:yl)(e,t)):this.node()[e]}function gd(e){return e.trim().split(/^|\s+/)}function _l(e){return e.classList||new Fc(e)}function Fc(e){this._node=e,this._names=gd(e.getAttribute("class")||"")}Fc.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function lm(e,t){for(var r=_l(e),i=-1,n=t.length;++i<n;)r.add(t[i])}function vd(e,t){for(var r=_l(e),i=-1,n=t.length;++i<n;)r.remove(t[i])}function FR(e){return function(){lm(this,e)}}function UR(e){return function(){vd(this,e)}}function sa(e,t){return function(){(t.apply(this,arguments)?lm:vd)(this,e)}}function HR(e,t){var r=gd(e+"");if(arguments.length<2){for(var i=_l(this.node()),n=-1,s=r.length;++n<s;)if(!i.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?sa:t?FR:UR)(r,t))}function uE(){this.textContent=""}function HA(e){return function(){this.textContent=e}}function n0(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $R(e){return arguments.length?this.each(e==null?uE:(typeof e=="function"?n0:HA)(e)):this.node().textContent}function $A(){this.innerHTML=""}function i0(e){return function(){this.innerHTML=e}}function Jl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function GR(e){return arguments.length?this.each(e==null?$A:(typeof e=="function"?Jl:i0)(e)):this.node().innerHTML}function El(){this.nextSibling&&this.parentNode.appendChild(this)}function zR(){return this.each(El)}function jR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VR(){return this.each(jR)}function a0(e){var t=typeof e=="function"?e:St(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function o0(){return null}function um(e,t){var r=typeof e=="function"?e:St(e),i=t==null?o0:typeof t=="function"?t:Bt(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function s0(){var e=this.parentNode;e&&e.removeChild(this)}function WR(){return this.each(s0)}function YR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function GA(e){return this.select(e?cE:YR)}function hE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cm(e){return function(t){e.call(this,t,this.__data__)}}function XR(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function fE(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,n=t.length,s;r<n;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function ii(e,t,r){return function(){var i=this.__on,n,s=cm(t);if(i){for(var c=0,h=i.length;c<h;++c)if((n=i[c]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=r),n.value=t;return}}this.addEventListener(e.type,s,r),n={type:e.type,name:e.name,value:t,listener:s,options:r},i?i.push(n):this.__on=[n]}}function zA(e,t,r){var i=XR(e+""),n,s=i.length,c;if(arguments.length<2){var h=this.node().__on;if(h){for(var p=0,m=h.length,d;p<m;++p)for(n=0,d=h[p];n<s;++n)if((c=i[n]).type===d.type&&c.name===d.name)return d.value}return}for(h=t?ii:fE,n=0;n<s;++n)this.each(h(i[n],t,r));return this}function dE(e,t,r){var i=$s(e),n=i.CustomEvent;typeof n=="function"?n=new n(t,r):(n=i.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function pE(e,t){return function(){return dE(this,e,t)}}function jA(e,t){return function(){return dE(this,e,t.apply(this,arguments))}}function VA(e,t){return this.each((typeof t=="function"?jA:pE)(e,t))}function*WA(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,s=i.length,c;n<s;++n)(c=i[n])&&(yield c)}var hm=[null];function wa(e,t){this._groups=e,this._parents=t}function za(){return new wa([[document.documentElement]],hm)}function Uc(){return this}wa.prototype=za.prototype={constructor:wa,select:Lt,selectAll:ar,selectChild:Nn,selectChildren:Aa,filter:ma,data:Ei,enter:Wi,exit:Li,join:wt,merge:pt,selection:Uc,order:un,sort:Yn,call:Yr,nodes:Io,node:Ql,size:fo,empty:gl,each:dd,attr:om,style:e0,property:r0,classed:HR,text:$R,html:GR,raise:zR,lower:VR,append:a0,insert:um,remove:WR,clone:GA,datum:hE,on:zA,dispatch:VA,[Symbol.iterator]:WA};function tn(e){return typeof e=="string"?new wa([[document.querySelector(e)]],[document.documentElement]):new wa([[e]],hm)}function fm(e){return tn(St(e).call(document.documentElement))}var dm=0;function Bu(){return new mE}function mE(){this._="@"+(++dm).toString(36)}mE.prototype=Bu.prototype={constructor:mE,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function gE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ln(e,t){if(e=gE(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var n=t.getBoundingClientRect();return[e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop]}}return[e.pageX,e.pageY]}function qR(e,t){return e.target&&(e=gE(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>Ln(r,t))}function YA(e){return typeof e=="string"?new wa([document.querySelectorAll(e)],[document.documentElement]):new wa([e==null?[]:Pt(e)],hm)}const l0=Object.freeze(Object.defineProperty({__proto__:null,create:fm,creator:St,local:Bu,matcher:Wt,namespace:Ke,namespaces:Le,pointer:Ln,pointers:qR,select:tn,selectAll:YA,selection:za,selector:Bt,selectorAll:lr,style:po,window:$s},Symbol.toStringTag,{value:"Module"}));function la(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function yd(e){let t=e,r=e;e.length===1&&(t=(c,h)=>e(c)-h,r=pm(e));function i(c,h,p,m){for(p==null&&(p=0),m==null&&(m=c.length);p<m;){const d=p+m>>>1;r(c[d],h)<0?p=d+1:m=d}return p}function n(c,h,p,m){for(p==null&&(p=0),m==null&&(m=c.length);p<m;){const d=p+m>>>1;r(c[d],h)>0?m=d:p=d+1}return p}function s(c,h,p,m){p==null&&(p=0),m==null&&(m=c.length);const d=i(c,h,p,m-1);return d>p&&t(c[d-1],h)>-t(c[d],h)?d-1:d}return{left:i,center:s,right:n}}function pm(e){return(t,r)=>la(e(t),r)}function _d(e){return e===null?NaN:+e}function*Ed(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&(yield i)}}const mm=yd(la),XA=mm.right,KR=mm.left,vE=yd(_d).center,eu=XA;function Td(e,t){let r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&++r;else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(n=+n)>=n&&++r}return r}function qA(e){return e.length|0}function Hc(e){return!(e>0)}function yE(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function u0(e){return t=>e(...t)}function KA(...e){const t=typeof e[e.length-1]=="function"&&u0(e.pop());e=e.map(yE);const r=e.map(qA),i=e.length-1,n=new Array(i+1).fill(0),s=[];if(i<0||r.some(Hc))return s;for(;;){s.push(n.map((h,p)=>e[p][h]));let c=i;for(;++n[c]===r[c];){if(c===0)return t?s.map(t):s;n[c--]=0}}}function c0(e,t){var r=0,i=0;return Float64Array.from(e,t===void 0?n=>r+=+n||0:n=>r+=+t(n,i++,e)||0)}function h0(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function f0(e,t){let r=0,i,n=0,s=0;if(t===void 0)for(let c of e)c!=null&&(c=+c)>=c&&(i=c-n,n+=i/++r,s+=i*(c-n));else{let c=-1;for(let h of e)(h=t(h,++c,e))!=null&&(h=+h)>=h&&(i=h-n,n+=i/++r,s+=i*(h-n))}if(r>1)return s/(r-1)}function Oo(e,t){const r=f0(e,t);return r&&Math.sqrt(r)}function Fu(e,t){let r,i;if(t===void 0)for(const n of e)n!=null&&(r===void 0?n>=n&&(r=i=n):(r>n&&(r=n),i<n&&(i=n)));else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}return[r,i]}let ua=(function(){function e(){H(this,e),this._partials=new Float64Array(32),this._n=0}return j(e,[{key:"add",value:function(r){const i=this._partials;let n=0;for(let s=0;s<this._n&&s<32;s++){const c=i[s],h=r+c,p=Math.abs(r)<Math.abs(c)?r-(h-c):c-(h-r);p&&(i[n++]=p),r=h}return i[n]=r,this._n=n+1,this}},{key:"valueOf",value:function(){const r=this._partials;let i=this._n,n,s,c,h=0;if(i>0){for(h=r[--i];i>0&&(n=h,s=r[--i],h=n+s,c=s-(h-n),!c););i>0&&(c<0&&r[i-1]<0||c>0&&r[i-1]>0)&&(s=c*2,n=h+s,s==n-h&&(h=n))}return h}}]),e})();function gm(e,t){const r=new ua;if(t===void 0)for(let i of e)(i=+i)&&r.add(i);else{let i=-1;for(let n of e)(n=+t(n,++i,e))&&r.add(n)}return+r}function ZR(e,t){const r=new ua;let i=-1;return Float64Array.from(e,t===void 0?n=>r.add(+n||0):n=>r.add(+t(n,++i,e)||0))}let bd=(function(e){f(r,e);var t=g(r);function r(i,n=ZA){var s;if(H(this,r),s=t.call(this),Object.defineProperties(S(s),{_intern:{value:new Map},_key:{value:n}}),i!=null)for(const[c,h]of i)s.set(c,h);return s}return j(r,[{key:"get",value:function(n){return a(N(r.prototype),"get",this).call(this,tf(this,n))}},{key:"has",value:function(n){return a(N(r.prototype),"has",this).call(this,tf(this,n))}},{key:"set",value:function(n,s){return a(N(r.prototype),"set",this).call(this,vm(this,n),s)}},{key:"delete",value:function(n){return a(N(r.prototype),"delete",this).call(this,EE(this,n))}}]),r})(w(Map)),_E=(function(e){f(r,e);var t=g(r);function r(i,n=ZA){var s;if(H(this,r),s=t.call(this),Object.defineProperties(S(s),{_intern:{value:new Map},_key:{value:n}}),i!=null)for(const c of i)s.add(c);return s}return j(r,[{key:"has",value:function(n){return a(N(r.prototype),"has",this).call(this,tf(this,n))}},{key:"add",value:function(n){return a(N(r.prototype),"add",this).call(this,vm(this,n))}},{key:"delete",value:function(n){return a(N(r.prototype),"delete",this).call(this,EE(this,n))}}]),r})(w(Set));function tf({_intern:e,_key:t},r){const i=t(r);return e.has(i)?e.get(i):r}function vm({_intern:e,_key:t},r){const i=t(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function EE({_intern:e,_key:t},r){const i=t(r);return e.has(i)&&(r=e.get(r),e.delete(i)),r}function ZA(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Sd(e){return e}function QA(e,...t){return rf(e,Sd,Sd,t)}function TE(e,...t){return rf(e,Array.from,Sd,t)}function JA(e,t,...r){return rf(e,Sd,t,r)}function QR(e,t,...r){return rf(e,Array.from,t,r)}function JR(e,...t){return rf(e,Sd,ew,t)}function eN(e,...t){return rf(e,Array.from,ew,t)}function ew(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function rf(e,t,r,i){return(function n(s,c){if(c>=i.length)return r(s);const h=new bd,p=i[c++];let m=-1;for(const d of s){const E=p(d,++m,s),_=h.get(E);_?_.push(d):h.set(E,[d])}for(const[d,E]of h)h.set(d,n(E,c));return t(h)})(e,0)}function tw(e,t){return Array.from(t,r=>e[r])}function bE(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r=la]=t;if(r.length===1||t.length>1){const i=Uint32Array.from(e,(n,s)=>s);return t.length>1?(t=t.map(n=>e.map(n)),i.sort((n,s)=>{for(const c of t){const h=la(c[n],c[s]);if(h)return h}})):(r=e.map(r),i.sort((n,s)=>la(r[n],r[s]))),tw(e,i)}return e.sort(r)}function tN(e,t,r){return(t.length===1?bE(JA(e,t,r),([i,n],[s,c])=>la(n,c)||la(i,s)):bE(QA(e,r),([i,n],[s,c])=>t(n,c)||la(i,s))).map(([i])=>i)}var rN=Array.prototype,SE=rN.slice;function d0(e){return function(){return e}}var CE=Math.sqrt(50),AE=Math.sqrt(10),p0=Math.sqrt(2);function nf(e,t,r){var i,n=-1,s,c,h;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((i=t<e)&&(s=e,e=t,t=s),(h=ym(e,t,r))===0||!isFinite(h))return[];if(h>0){let p=Math.round(e/h),m=Math.round(t/h);for(p*h<e&&++p,m*h>t&&--m,c=new Array(s=m-p+1);++n<s;)c[n]=(p+n)*h}else{h=-h;let p=Math.round(e*h),m=Math.round(t*h);for(p/h<e&&++p,m/h>t&&--m,c=new Array(s=m-p+1);++n<s;)c[n]=(p+n)/h}return i&&c.reverse(),c}function ym(e,t,r){var i=(t-e)/Math.max(0,r),n=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,n);return n>=0?(s>=CE?10:s>=AE?5:s>=p0?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(s>=CE?10:s>=AE?5:s>=p0?2:1)}function m0(e,t,r){var i=Math.abs(t-e)/Math.max(0,r),n=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/n;return s>=CE?n*=10:s>=AE?n*=5:s>=p0&&(n*=2),t<e?-n:n}function rw(e,t,r){let i;for(;;){const n=ym(e,t,r);if(n===i||n===0||!isFinite(n))return[e,t];n>0?(e=Math.floor(e/n)*n,t=Math.ceil(t/n)*n):n<0&&(e=Math.ceil(e*n)/n,t=Math.floor(t*n)/n),i=n}}function nw(e){return Math.ceil(Math.log(Td(e))/Math.LN2)+1}function iw(){var e=Sd,t=Fu,r=nw;function i(n){Array.isArray(n)||(n=Array.from(n));var s,c=n.length,h,p=new Array(c);for(s=0;s<c;++s)p[s]=e(n[s],s,n);var m=t(p),d=m[0],E=m[1],_=r(p,d,E);if(!Array.isArray(_)){const D=E,O=+_;if(t===Fu&&([d,E]=rw(d,E,O)),_=nf(d,E,O),_[_.length-1]>=E)if(D>=E&&t===Fu){const B=ym(d,E,O);isFinite(B)&&(B>0?E=(Math.floor(E/B)+1)*B:B<0&&(E=(Math.ceil(E*-B)+1)/-B))}else _.pop()}for(var T=_.length;_[0]<=d;)_.shift(),--T;for(;_[T-1]>E;)_.pop(),--T;var C=new Array(T+1),A;for(s=0;s<=T;++s)A=C[s]=[],A.x0=s>0?_[s-1]:d,A.x1=s<T?_[s]:E;for(s=0;s<c;++s)h=p[s],d<=h&&h<=E&&C[eu(_,h,0,T)].push(n[s]);return C}return i.value=function(n){return arguments.length?(e=typeof n=="function"?n:d0(n),i):e},i.domain=function(n){return arguments.length?(t=typeof n=="function"?n:d0([n[0],n[1]]),i):t},i.thresholds=function(n){return arguments.length?(r=typeof n=="function"?n:Array.isArray(n)?d0(SE.call(n)):d0(n),i):r},i}function wE(e,t){let r;if(t===void 0)for(const i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r<n||r===void 0&&n>=n)&&(r=n)}return r}function Cd(e,t){let r;if(t===void 0)for(const i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r>n||r===void 0&&n>=n)&&(r=n)}return r}function af(e,t,r=0,i=e.length-1,n=la){for(;i>r;){if(i-r>600){const p=i-r+1,m=t-r+1,d=Math.log(p),E=.5*Math.exp(2*d/3),_=.5*Math.sqrt(d*E*(p-E)/p)*(m-p/2<0?-1:1),T=Math.max(r,Math.floor(t-m*E/p+_)),C=Math.min(i,Math.floor(t+(p-m)*E/p+_));af(e,t,T,C,n)}const s=e[t];let c=r,h=i;for(_m(e,r,t),n(e[i],s)>0&&_m(e,r,i);c<h;){for(_m(e,c,h),++c,--h;n(e[c],s)<0;)++c;for(;n(e[h],s)>0;)--h}n(e[r],s)===0?_m(e,r,h):(++h,_m(e,h,i)),h<=t&&(r=h+1),t<=h&&(i=h-1)}return e}function _m(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function Ad(e,t,r){if(e=Float64Array.from(Ed(e,r)),!!(i=e.length)){if((t=+t)<=0||i<2)return Cd(e);if(t>=1)return wE(e);var i,n=(i-1)*t,s=Math.floor(n),c=wE(af(e,s).subarray(0,s+1)),h=Cd(e.subarray(s+1));return c+(h-c)*(n-s)}}function xE(e,t,r=_d){if(i=e.length){if((t=+t)<=0||i<2)return+r(e[0],0,e);if(t>=1)return+r(e[i-1],i-1,e);var i,n=(i-1)*t,s=Math.floor(n),c=+r(e[s],s,e),h=+r(e[s+1],s+1,e);return c+(h-c)*(n-s)}}function aw(e,t,r){return Math.ceil((r-t)/(2*(Ad(e,.75)-Ad(e,.25))*Math.pow(Td(e),-1/3)))}function ow(e,t,r){return Math.ceil((r-t)/(3.5*Oo(e)*Math.pow(Td(e),-1/3)))}function IE(e,t){let r,i=-1,n=-1;if(t===void 0)for(const s of e)++n,s!=null&&(r<s||r===void 0&&s>=s)&&(r=s,i=n);else for(let s of e)(s=t(s,++n,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s,i=n);return i}function $c(e,t){let r=0,i=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(++r,i+=n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(s=+s)>=s&&(++r,i+=s)}if(r)return i/r}function DE(e,t){return Ad(e,.5,t)}function*nN(e){for(const t of e)yield*t}function OE(e){return Array.from(nN(e))}function kE(e,t){let r,i=-1,n=-1;if(t===void 0)for(const s of e)++n,s!=null&&(r>s||r===void 0&&s>=s)&&(r=s,i=n);else for(let s of e)(s=t(s,++n,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s,i=n);return i}function sw(e,t=Em){const r=[];let i,n=!1;for(const s of e)n&&r.push(t(i,s)),i=s,n=!0;return r}function Em(e,t){return[e,t]}function xa(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var i=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(n);++i<n;)s[i]=e+i*r;return s}function iN(e,t=la){let r,i=!1;if(t.length===1){let n;for(const s of e){const c=t(s);(i?la(c,n)<0:la(c,c)===0)&&(r=s,n=c,i=!0)}}else for(const n of e)(i?t(n,r)<0:t(n,n)===0)&&(r=n,i=!0);return r}function Tm(e,t=la){if(t.length===1)return kE(e,t);let r,i=-1,n=-1;for(const s of e)++n,(i<0?t(s,s)===0:t(s,r)<0)&&(r=s,i=n);return i}function aN(e,t=la){let r,i=!1;if(t.length===1){let n;for(const s of e){const c=t(s);(i?la(c,n)>0:la(c,c)===0)&&(r=s,n=c,i=!0)}}else for(const n of e)(i?t(n,r)>0:t(n,n)===0)&&(r=n,i=!0);return r}function lw(e,t=la){if(t.length===1)return IE(e,t);let r,i=-1,n=-1;for(const s of e)++n,(i<0?t(s,s)===0:t(s,r)>0)&&(r=s,i=n);return i}function PE(e,t){const r=Tm(e,t);return r<0?void 0:r}const RE=NE(Math.random);function NE(e){return function(r,i=0,n=r.length){let s=n-(i=+i);for(;s;){const c=e()*s--|0,h=r[s+i];r[s+i]=r[c+i],r[c+i]=h}return r}}function ME(e,t){let r=0;if(t===void 0)for(let i of e)(i=+i)&&(r+=i);else{let i=-1;for(let n of e)(n=+t(n,++i,e))&&(r+=n)}return r}function LE(e){if(!(s=e.length))return[];for(var t=-1,r=Cd(e,oN),i=new Array(r);++t<r;)for(var n=-1,s,c=i[t]=new Array(s);++n<s;)c[n]=e[n][t];return i}function oN(e){return e.length}function sN(){return LE(arguments)}function lN(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(const i of e)if(!t(i,++r,e))return!1;return!0}function uN(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(const i of e)if(t(i,++r,e))return!0;return!1}function cN(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const r=[];let i=-1;for(const n of e)t(n,++i,e)&&r.push(n);return r}function Tl(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,i)=>t(r,i,e))}function bm(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");const i=e[Symbol.iterator]();let n,s,c=-1;if(arguments.length<3){if({done:n,value:r}=i.next(),n)return;++c}for(;{done:n,value:s}=i.next(),!n;)r=t(r,s,++c,e);return r}function uw(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function cw(e,...t){e=new Set(e);for(const r of t)for(const i of r)e.delete(i);return e}function hw(e,t){const r=t[Symbol.iterator](),i=new Set;for(const n of e){if(i.has(n))return!1;let s,c;for(;({value:s,done:c}=r.next())&&!c;){if(Object.is(n,s))return!1;i.add(s)}}return!0}function fw(e){return e instanceof Set?e:new Set(e)}function BE(e,...t){e=new Set(e),t=t.map(fw);e:for(const r of e)for(const i of t)if(!i.has(r)){e.delete(r);continue e}return e}function dw(e,t){const r=e[Symbol.iterator](),i=new Set;for(const n of t){if(i.has(n))continue;let s,c;for(;{value:s,done:c}=r.next();){if(c)return!1;if(i.add(s),Object.is(n,s))break}}return!0}function hN(e,t){return dw(t,e)}function wd(...e){const t=new Set;for(const r of e)for(const i of r)t.add(i);return t}const FE=Object.freeze(Object.defineProperty({__proto__:null,bisect:eu,bisectRight:XA,bisectLeft:KR,bisectCenter:vE,ascending:la,bisector:yd,count:Td,cross:KA,cumsum:c0,descending:h0,deviation:Oo,extent:Fu,Adder:ua,fsum:gm,fcumsum:ZR,group:QA,groups:TE,index:JR,indexes:eN,rollup:JA,rollups:QR,groupSort:tN,bin:iw,histogram:iw,thresholdFreedmanDiaconis:aw,thresholdScott:ow,thresholdSturges:nw,max:wE,maxIndex:IE,mean:$c,median:DE,merge:OE,min:Cd,minIndex:kE,nice:rw,pairs:sw,permute:tw,quantile:Ad,quantileSorted:xE,quickselect:af,range:xa,least:iN,leastIndex:Tm,greatest:aN,greatestIndex:lw,scan:PE,shuffle:RE,shuffler:NE,sum:ME,ticks:nf,tickIncrement:ym,tickStep:m0,transpose:LE,variance:f0,zip:sN,every:lN,some:uN,filter:cN,map:Tl,reduce:bm,reverse:uw,sort:bE,difference:cw,disjoint:hw,intersection:BE,subset:hN,superset:dw,union:wd,InternMap:bd,InternSet:_E},Symbol.toStringTag,{value:"Module"}));function mo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const g0=Symbol("implicit");function xd(){var e=new bd,t=[],r=[],i=g0;function n(s){let c=e.get(s);if(c===void 0){if(i!==g0)return i;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return n.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new bd;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return n},n.range=function(s){return arguments.length?(r=Array.from(s),n):r.slice()},n.unknown=function(s){return arguments.length?(i=s,n):i},n.copy=function(){return xd(t,r).unknown(i)},mo.apply(n,arguments),n}function tu(){var e=xd().unknown(void 0),t=e.domain,r=e.range,i=0,n=1,s,c,h=!1,p=0,m=0,d=.5;delete e.unknown;function E(){var _=t().length,T=n<i,C=T?n:i,A=T?i:n;s=(A-C)/Math.max(1,_-p+m*2),h&&(s=Math.floor(s)),C+=(A-C-s*(_-p))*d,c=s*(1-p),h&&(C=Math.round(C),c=Math.round(c));var D=xa(_).map(function(O){return C+s*O});return r(T?D.reverse():D)}return e.domain=function(_){return arguments.length?(t(_),E()):t()},e.range=function(_){return arguments.length?([i,n]=_,i=+i,n=+n,E()):[i,n]},e.rangeRound=function(_){return[i,n]=_,i=+i,n=+n,h=!0,E()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(_){return arguments.length?(h=!!_,E()):h},e.padding=function(_){return arguments.length?(p=Math.min(1,m=+_),E()):p},e.paddingInner=function(_){return arguments.length?(p=Math.min(1,_),E()):p},e.paddingOuter=function(_){return arguments.length?(m=+_,E()):m},e.align=function(_){return arguments.length?(d=Math.max(0,Math.min(1,_)),E()):d},e.copy=function(){return tu(t(),[i,n]).round(h).paddingInner(p).paddingOuter(m).align(d)},mo.apply(E(),arguments)}function v0(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return v0(t())},e}function pw(){return v0(tu.apply(null,arguments).paddingInner(1))}function Uu(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Id(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function Hu(){}var Gc=.7,of=1/Gc,sf="\\s*([+-]?\\d+)\\s*",Dd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Za="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UE=/^#([0-9a-f]{3,8})$/,HE=new RegExp("^rgb\\("+[sf,sf,sf]+"\\)$"),fN=new RegExp("^rgb\\("+[Za,Za,Za]+"\\)$"),dN=new RegExp("^rgba\\("+[sf,sf,sf,Dd]+"\\)$"),Sm=new RegExp("^rgba\\("+[Za,Za,Za,Dd]+"\\)$"),pN=new RegExp("^hsl\\("+[Dd,Za,Za]+"\\)$"),mw=new RegExp("^hsla\\("+[Dd,Za,Za,Dd]+"\\)$"),$E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uu(Hu,Bi,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ti,formatHex:Ti,formatHsl:GE,formatRgb:Cm,toString:Cm});function Ti(){return this.rgb().formatHex()}function GE(){return Am(this).formatHsl()}function Cm(){return this.rgb().formatRgb()}function Bi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=UE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zE(t):r===3?new Yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Od(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Od(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HE.exec(e))?new Yi(t[1],t[2],t[3],1):(t=fN.exec(e))?new Yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dN.exec(e))?Od(t[1],t[2],t[3],t[4]):(t=Sm.exec(e))?Od(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pN.exec(e))?WE(t[1],t[2]/100,t[3]/100,1):(t=mw.exec(e))?WE(t[1],t[2]/100,t[3]/100,t[4]):$E.hasOwnProperty(e)?zE($E[e]):e==="transparent"?new Yi(NaN,NaN,NaN,0):null}function zE(e){return new Yi(e>>16&255,e>>8&255,e&255,1)}function Od(e,t,r,i){return i<=0&&(e=t=r=NaN),new Yi(e,t,r,i)}function lf(e){return e instanceof Hu||(e=Bi(e)),e?(e=e.rgb(),new Yi(e.r,e.g,e.b,e.opacity)):new Yi}function $u(e,t,r,i){return arguments.length===1?lf(e):new Yi(e,t,r,i??1)}function Yi(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}Uu(Yi,$u,Id(Hu,{brighter:function(e){return e=e==null?of:Math.pow(of,e),new Yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Gc:Math.pow(Gc,e),new Yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jE,formatHex:jE,formatRgb:gw,toString:gw}));function jE(){return"#"+VE(this.r)+VE(this.g)+VE(this.b)}function gw(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function VE(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function WE(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gs(e,t,r,i)}function Am(e){if(e instanceof Gs)return new Gs(e.h,e.s,e.l,e.opacity);if(e instanceof Hu||(e=Bi(e)),!e)return new Gs;if(e instanceof Gs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),s=Math.max(t,r,i),c=NaN,h=s-n,p=(s+n)/2;return h?(t===s?c=(r-i)/h+(r<i)*6:r===s?c=(i-t)/h+2:c=(t-r)/h+4,h/=p<.5?s+n:2-s-n,c*=60):h=p>0&&p<1?0:c,new Gs(c,h,p,e.opacity)}function wm(e,t,r,i){return arguments.length===1?Am(e):new Gs(e,t,r,i??1)}function Gs(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}Uu(Gs,wm,Id(Hu,{brighter:function(e){return e=e==null?of:Math.pow(of,e),new Gs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Gc:Math.pow(Gc,e),new Gs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new Yi(xm(e>=240?e-240:e+120,n,i),xm(e,n,i),xm(e<120?e+240:e-120,n,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function xm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const y0=Math.PI/180,_0=180/Math.PI,E0=18,YE=.96422,vw=1,yw=.82521,T0=4/29,vs=6/29,XE=3*vs*vs,kd=vs*vs*vs;function Sl(e){if(e instanceof ys)return new ys(e.l,e.a,e.b,e.opacity);if(e instanceof ko)return zu(e);e instanceof Yi||(e=lf(e));var t=uf(e.r),r=uf(e.g),i=uf(e.b),n=qE((.2225045*t+.7168786*r+.0606169*i)/vw),s,c;return t===r&&r===i?s=c=n:(s=qE((.4360747*t+.3850649*r+.1430804*i)/YE),c=qE((.0139322*t+.0971045*r+.7141733*i)/yw)),new ys(116*n-16,500*(s-n),200*(n-c),e.opacity)}function Im(e,t){return new ys(e,0,0,t??1)}function ru(e,t,r,i){return arguments.length===1?Sl(e):new ys(e,t,r,i??1)}function ys(e,t,r,i){this.l=+e,this.a=+t,this.b=+r,this.opacity=+i}Uu(ys,ru,Id(Hu,{brighter:function(e){return new ys(this.l+E0*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new ys(this.l-E0*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=YE*KE(t),e=vw*KE(e),r=yw*KE(r),new Yi(Gu(3.1338561*t-1.6168667*e-.4906146*r),Gu(-.9787684*t+1.9161415*e+.033454*r),Gu(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function qE(e){return e>kd?Math.pow(e,1/3):e/XE+T0}function KE(e){return e>vs?e*e*e:XE*(e-T0)}function Gu(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function uf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function cf(e){if(e instanceof ko)return new ko(e.h,e.c,e.l,e.opacity);if(e instanceof ys||(e=Sl(e)),e.a===0&&e.b===0)return new ko(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*_0;return new ko(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function b0(e,t,r,i){return arguments.length===1?cf(e):new ko(r,t,e,i??1)}function S0(e,t,r,i){return arguments.length===1?cf(e):new ko(e,t,r,i??1)}function ko(e,t,r,i){this.h=+e,this.c=+t,this.l=+r,this.opacity=+i}function zu(e){if(isNaN(e.h))return new ys(e.l,0,0,e.opacity);var t=e.h*y0;return new ys(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Uu(ko,S0,Id(Hu,{brighter:function(e){return new ko(this.h,this.c,this.l+E0*(e??1),this.opacity)},darker:function(e){return new ko(this.h,this.c,this.l-E0*(e??1),this.opacity)},rgb:function(){return zu(this).rgb()}}));var bi=-.14861,fi=1.78277,nu=-.29227,Ia=-.90649,ja=1.97294,zc=ja*Ia,hf=ja*fi,Po=fi*nu-Ia*bi;function C0(e){if(e instanceof jc)return new jc(e.h,e.s,e.l,e.opacity);e instanceof Yi||(e=lf(e));var t=e.r/255,r=e.g/255,i=e.b/255,n=(Po*i+zc*t-hf*r)/(Po+zc-hf),s=i-n,c=(ja*(r-n)-nu*s)/Ia,h=Math.sqrt(c*c+s*s)/(ja*n*(1-n)),p=h?Math.atan2(c,s)*_0-120:NaN;return new jc(p<0?p+360:p,h,n,e.opacity)}function ZE(e,t,r,i){return arguments.length===1?C0(e):new jc(e,t,r,i??1)}function jc(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}Uu(jc,ZE,Id(Hu,{brighter:function(e){return e=e==null?of:Math.pow(of,e),new jc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Gc:Math.pow(Gc,e),new jc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*y0,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),n=Math.sin(e);return new Yi(255*(t+r*(bi*i+fi*n)),255*(t+r*(nu*i+Ia*n)),255*(t+r*(ja*i)),this.opacity)}}));const A0=Object.freeze(Object.defineProperty({__proto__:null,color:Bi,rgb:$u,hsl:wm,lab:ru,hcl:S0,lch:b0,gray:Im,cubehelix:ZE},Symbol.toStringTag,{value:"Module"})),w0=e=>()=>e;function ju(e,t){return function(r){return e+r*t}}function x0(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function QE(e){return(e=+e)==1?JE:function(t,r){return r-t?x0(t,r,e):w0(isNaN(t)?r:t)}}function JE(e,t){var r=t-e;return r?ju(e,r):w0(isNaN(e)?t:e)}const Pd=(function e(t){var r=QE(t);function i(n,s){var c=r((n=$u(n)).r,(s=$u(s)).r),h=r(n.g,s.g),p=r(n.b,s.b),m=JE(n.opacity,s.opacity);return function(d){return n.r=c(d),n.g=h(d),n.b=p(d),n.opacity=m(d),n+""}}return i.gamma=e,i})(1);function Vc(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,i=t.slice(),n;return function(s){for(n=0;n<r;++n)i[n]=e[n]*(1-s)+t[n]*s;return i}}function Rd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nd(e,t){var r=t?t.length:0,i=e?Math.min(r,e.length):0,n=new Array(i),s=new Array(r),c;for(c=0;c<i;++c)n[c]=Wc(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(h){for(c=0;c<i;++c)s[c]=n[c](h);return s}}function I0(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}function Ro(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zs(e,t){var r={},i={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=Wc(e[n],t[n]):i[n]=t[n];return function(s){for(n in r)i[n]=r[n](s);return i}}var qo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vu=new RegExp(qo.source,"g");function Wu(e){return function(){return e}}function Yu(e){return function(t){return e(t)+""}}function Xu(e,t){var r=qo.lastIndex=Vu.lastIndex=0,i,n,s,c=-1,h=[],p=[];for(e=e+"",t=t+"";(i=qo.exec(e))&&(n=Vu.exec(t));)(s=n.index)>r&&(s=t.slice(r,s),h[c]?h[c]+=s:h[++c]=s),(i=i[0])===(n=n[0])?h[c]?h[c]+=n:h[++c]=n:(h[++c]=null,p.push({i:c,x:Ro(i,n)})),r=Vu.lastIndex;return r<t.length&&(s=t.slice(r),h[c]?h[c]+=s:h[++c]=s),h.length<2?p[0]?Yu(p[0].x):Wu(t):(t=p.length,function(m){for(var d=0,E;d<t;++d)h[(E=p[d]).i]=E.x(m);return h.join("")})}function Wc(e,t){var r=typeof t,i;return t==null||r==="boolean"?w0(t):(r==="number"?Ro:r==="string"?(i=Bi(t))?(t=i,Pd):Xu:t instanceof Bi?Pd:t instanceof Date?I0:Rd(t)?Vc:Array.isArray(t)?Nd:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zs:Ro)(e,t)}function Dm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var D0=180/Math.PI,No={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ko(e,t,r,i,n,s){var c,h,p;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(p=e*r+t*i)&&(r-=e*p,i-=t*p),(h=Math.sqrt(r*r+i*i))&&(r/=h,i/=h,p/=h),e*i<t*r&&(e=-e,t=-t,p=-p,c=-c),{translateX:n,translateY:s,rotate:Math.atan2(t,e)*D0,skewX:Math.atan(p)*D0,scaleX:c,scaleY:h}}var mi;function Cl(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?No:Ko(t.a,t.b,t.c,t.d,t.e,t.f)}function _w(e){return e==null||(mi||(mi=document.createElementNS("http://www.w3.org/2000/svg","g")),mi.setAttribute("transform",e),!(e=mi.transform.baseVal.consolidate()))?No:(e=e.matrix,Ko(e.a,e.b,e.c,e.d,e.e,e.f))}function eT(e,t,r,i){function n(m){return m.length?m.pop()+" ":""}function s(m,d,E,_,T,C){if(m!==E||d!==_){var A=T.push("translate(",null,t,null,r);C.push({i:A-4,x:Ro(m,E)},{i:A-2,x:Ro(d,_)})}else(E||_)&&T.push("translate("+E+t+_+r)}function c(m,d,E,_){m!==d?(m-d>180?d+=360:d-m>180&&(m+=360),_.push({i:E.push(n(E)+"rotate(",null,i)-2,x:Ro(m,d)})):d&&E.push(n(E)+"rotate("+d+i)}function h(m,d,E,_){m!==d?_.push({i:E.push(n(E)+"skewX(",null,i)-2,x:Ro(m,d)}):d&&E.push(n(E)+"skewX("+d+i)}function p(m,d,E,_,T,C){if(m!==E||d!==_){var A=T.push(n(T)+"scale(",null,",",null,")");C.push({i:A-4,x:Ro(m,E)},{i:A-2,x:Ro(d,_)})}else(E!==1||_!==1)&&T.push(n(T)+"scale("+E+","+_+")")}return function(m,d){var E=[],_=[];return m=e(m),d=e(d),s(m.translateX,m.translateY,d.translateX,d.translateY,E,_),c(m.rotate,d.rotate,E,_),h(m.skewX,d.skewX,E,_),p(m.scaleX,m.scaleY,d.scaleX,d.scaleY,E,_),m=d=null,function(T){for(var C=-1,A=_.length,D;++C<A;)E[(D=_[C]).i]=D.x(T);return E.join("")}}}var O0=eT(Cl,"px, ","px)","deg)"),k0=eT(_w,", ",")",")"),Ew=1e-12;function Om(e){return((e=Math.exp(e))+1/e)/2}function Tw(e){return((e=Math.exp(e))-1/e)/2}function Md(e){return((e=Math.exp(2*e))-1)/(e+1)}const tT=(function e(t,r,i){function n(s,c){var h=s[0],p=s[1],m=s[2],d=c[0],E=c[1],_=c[2],T=d-h,C=E-p,A=T*T+C*C,D,O;if(A<Ew)O=Math.log(_/m)/t,D=function(Z){return[h+Z*T,p+Z*C,m*Math.exp(t*Z*O)]};else{var B=Math.sqrt(A),P=(_*_-m*m+i*A)/(2*m*r*B),R=(_*_-m*m-i*A)/(2*_*r*B),$=Math.log(Math.sqrt(P*P+1)-P),W=Math.log(Math.sqrt(R*R+1)-R);O=(W-$)/t,D=function(Z){var K=Z*O,ae=Om($),le=m/(r*B)*(ae*Md(t*K+$)-Tw($));return[h+le*T,p+le*C,m*ae/Om(t*K+$)]}}return D.duration=O*1e3*t/Math.SQRT2,D}return n.rho=function(s){var c=Math.max(.001,+s),h=c*c,p=h*h;return e(c,h,p)},n})(Math.SQRT2,2,4);function mN(e,t){t===void 0&&(t=e,e=Wc);for(var r=0,i=t.length-1,n=t[0],s=new Array(i<0?0:i);r<i;)s[r]=e(n,n=t[++r]);return function(c){var h=Math.max(0,Math.min(i-1,Math.floor(c*=i)));return s[h](c-h)}}function km(e){return function(){return e}}function ff(e){return+e}var rT=[0,1];function go(e){return e}function Yc(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:km(isNaN(t)?NaN:.5)}function bw(e,t){var r;return e>t&&(r=e,e=t,t=r),function(i){return Math.max(e,Math.min(t,i))}}function P0(e,t,r){var i=e[0],n=e[1],s=t[0],c=t[1];return n<i?(i=Yc(n,i),s=r(c,s)):(i=Yc(i,n),s=r(s,c)),function(h){return s(i(h))}}function R0(e,t,r){var i=Math.min(e.length,t.length)-1,n=new Array(i),s=new Array(i),c=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<i;)n[c]=Yc(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(h){var p=eu(e,h,1,i)-1;return s[p](n[p](h))}}function iu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ld(){var e=rT,t=rT,r=Wc,i,n,s,c=go,h,p,m;function d(){var _=Math.min(e.length,t.length);return c!==go&&(c=bw(e[0],e[_-1])),h=_>2?R0:P0,p=m=null,E}function E(_){return _==null||isNaN(_=+_)?s:(p||(p=h(e.map(i),t,r)))(i(c(_)))}return E.invert=function(_){return c(n((m||(m=h(t,e.map(i),Ro)))(_)))},E.domain=function(_){return arguments.length?(e=Array.from(_,ff),d()):e.slice()},E.range=function(_){return arguments.length?(t=Array.from(_),d()):t.slice()},E.rangeRound=function(_){return t=Array.from(_),r=Dm,d()},E.clamp=function(_){return arguments.length?(c=_?!0:go,d()):c!==go},E.interpolate=function(_){return arguments.length?(r=_,d()):r},E.unknown=function(_){return arguments.length?(s=_,E):s},function(_,T){return i=_,n=T,d()}}function Pm(){return Ld()(go,go)}function nT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function Al(e){return e=Bd(Math.abs(e)),e?e[1]:NaN}function js(e,t){return function(r,i){for(var n=r.length,s=[],c=0,h=e[0],p=0;n>0&&h>0&&(p+h+1>i&&(h=Math.max(1,i-p)),s.push(r.substring(n-=h,n+h)),!((p+=h+1)>i));)h=e[c=(c+1)%e.length];return s.reverse().join(t)}}function df(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pf(e){if(!(t=iT.exec(e)))throw new Error("invalid format: "+e);var t;return new Vs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pf.prototype=Vs.prototype;function Vs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xc(e){e:for(var t=e.length,r=1,i=-1,n;r<t;++r)switch(e[r]){case".":i=n=r;break;case"0":i===0&&(i=r),n=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(n+1):e}var N0;function Sw(e,t){var r=Bd(e,t);if(!r)return e+"";var i=r[0],n=r[1],s=n-(N0=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,c=i.length;return s===c?i:s>c?i+new Array(s-c+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Bd(e,Math.max(0,t+s-1))[0]}function au(e,t){var r=Bd(e,t);if(!r)return e+"";var i=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}const qu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>au(e*100,t),r:au,s:Sw,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Rm(e){return e}var aT=Array.prototype.map,Nm=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oT(e){var t=e.grouping===void 0||e.thousands===void 0?Rm:js(aT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Rm:df(aT.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",h=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function m(E){E=pf(E);var _=E.fill,T=E.align,C=E.sign,A=E.symbol,D=E.zero,O=E.width,B=E.comma,P=E.precision,R=E.trim,$=E.type;$==="n"?(B=!0,$="g"):qu[$]||(P===void 0&&(P=12),R=!0,$="g"),(D||_==="0"&&T==="=")&&(D=!0,_="0",T="=");var W=A==="$"?r:A==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",Z=A==="$"?i:/[%p]/.test($)?c:"",K=qu[$],ae=/[defgprs%]/.test($);P=P===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function le(J){var ge=W,Ee=Z,ne,ve,Me;if($==="c")Ee=K(J)+Ee,J="";else{J=+J;var je=J<0||1/J<0;if(J=isNaN(J)?p:K(Math.abs(J),P),R&&(J=Xc(J)),je&&+J==0&&C!=="+"&&(je=!1),ge=(je?C==="("?C:h:C==="-"||C==="("?"":C)+ge,Ee=($==="s"?Nm[8+N0/3]:"")+Ee+(je&&C==="("?")":""),ae){for(ne=-1,ve=J.length;++ne<ve;)if(Me=J.charCodeAt(ne),48>Me||Me>57){Ee=(Me===46?n+J.slice(ne+1):J.slice(ne))+Ee,J=J.slice(0,ne);break}}}B&&!D&&(J=t(J,1/0));var Qe=ge.length+J.length+Ee.length,tt=Qe<O?new Array(O-Qe+1).join(_):"";switch(B&&D&&(J=t(tt+J,tt.length?O-Ee.length:1/0),tt=""),T){case"<":J=ge+J+Ee+tt;break;case"=":J=ge+tt+J+Ee;break;case"^":J=tt.slice(0,Qe=tt.length>>1)+ge+J+Ee+tt.slice(Qe);break;default:J=tt+ge+J+Ee;break}return s(J)}return le.toString=function(){return E+""},le}function d(E,_){var T=m((E=pf(E),E.type="f",E)),C=Math.max(-8,Math.min(8,Math.floor(Al(_)/3)))*3,A=Math.pow(10,-C),D=Nm[8+C/3];return function(O){return T(A*O)+D}}return{format:m,formatPrefix:d}}var qc,Xi,wl;Fd({thousands:",",grouping:[3],currency:["$",""]});function Fd(e){return qc=oT(e),Xi=qc.format,wl=qc.formatPrefix,qc}function Kc(e){return Math.max(0,-Al(Math.abs(e)))}function Zc(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Al(t)/3)))*3-Al(Math.abs(e)))}function mf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Al(t)-Al(e))+1}const Cw=Object.freeze(Object.defineProperty({__proto__:null,formatDefaultLocale:Fd,get format(){return Xi},get formatPrefix(){return wl},formatLocale:oT,formatSpecifier:pf,FormatSpecifier:Vs,precisionFixed:Kc,precisionPrefix:Zc,precisionRound:mf},Symbol.toStringTag,{value:"Module"}));function M0(e,t,r,i){var n=m0(e,t,r),s;switch(i=pf(i??",f"),i.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=Zc(n,c))&&(i.precision=s),wl(i,c)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=mf(n,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Kc(n))&&(i.precision=s-(i.type==="%")*2);break}}return Xi(i)}function ei(e){var t=e.domain;return e.ticks=function(r){var i=t();return nf(i[0],i[i.length-1],r??10)},e.tickFormat=function(r,i){var n=t();return M0(n[0],n[n.length-1],r??10,i)},e.nice=function(r){r==null&&(r=10);var i=t(),n=0,s=i.length-1,c=i[n],h=i[s],p,m,d=10;for(h<c&&(m=c,c=h,h=m,m=n,n=s,s=m);d-- >0;){if(m=ym(c,h,r),m===p)return i[n]=c,i[s]=h,t(i);if(m>0)c=Math.floor(c/m)*m,h=Math.ceil(h/m)*m;else if(m<0)c=Math.ceil(c*m)/m,h=Math.floor(h*m)/m;else break;p=m}return e},e}function qr(){var e=Pm();return e.copy=function(){return iu(e,qr())},mo.apply(e,arguments),ei(e)}function L0(e){var t;function r(i){return i==null||isNaN(i=+i)?t:i}return r.invert=r,r.domain=r.range=function(i){return arguments.length?(e=Array.from(i,ff),r):e.slice()},r.unknown=function(i){return arguments.length?(t=i,r):t},r.copy=function(){return L0(e).unknown(t)},e=arguments.length?Array.from(e,ff):[0,1],ei(r)}function B0(e,t){e=e.slice();var r=0,i=e.length-1,n=e[r],s=e[i],c;return s<n&&(c=r,r=i,i=c,c=n,n=s,s=c),e[r]=t.floor(n),e[i]=t.ceil(s),e}function Mm(e){return Math.log(e)}function F0(e){return Math.exp(e)}function gf(e){return-Math.log(-e)}function Fi(e){return-Math.exp(-e)}function Da(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Va(e){return e===10?Da:e===Math.E?Math.exp:t=>Math.pow(e,t)}function U0(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ud(e){return(t,r)=>-e(-t,r)}function vf(e){const t=e(Mm,F0),r=t.domain;let i=10,n,s;function c(){return n=U0(i),s=Va(i),r()[0]<0?(n=Ud(n),s=Ud(s),e(gf,Fi)):e(Mm,F0),t}return t.base=function(h){return arguments.length?(i=+h,c()):i},t.domain=function(h){return arguments.length?(r(h),c()):r()},t.ticks=h=>{const p=r();let m=p[0],d=p[p.length-1];const E=d<m;E&&([m,d]=[d,m]);let _=n(m),T=n(d),C,A;const D=h==null?10:+h;let O=[];if(!(i%1)&&T-_<D){if(_=Math.floor(_),T=Math.ceil(T),m>0){for(;_<=T;++_)for(C=1;C<i;++C)if(A=_<0?C/s(-_):C*s(_),!(A<m)){if(A>d)break;O.push(A)}}else for(;_<=T;++_)for(C=i-1;C>=1;--C)if(A=_>0?C/s(-_):C*s(_),!(A<m)){if(A>d)break;O.push(A)}O.length*2<D&&(O=nf(m,d,D))}else O=nf(_,T,Math.min(T-_,D)).map(s);return E?O.reverse():O},t.tickFormat=(h,p)=>{if(h==null&&(h=10),p==null&&(p=i===10?"s":","),typeof p!="function"&&(!(i%1)&&(p=pf(p)).precision==null&&(p.trim=!0),p=Xi(p)),h===1/0)return p;const m=Math.max(1,i*h/t.ticks().length);return d=>{let E=d/s(Math.round(n(d)));return E*i<i-.5&&(E*=i),E<=m?p(d):""}},t.nice=()=>r(B0(r(),{floor:h=>s(Math.floor(n(h))),ceil:h=>s(Math.ceil(n(h)))})),t}function Qc(){const e=vf(Ld()).domain([1,10]);return e.copy=()=>iu(e,Qc()).base(e.base()),mo.apply(e,arguments),e}function Qa(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H0(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lm(e){var t=1,r=e(Qa(t),H0(t));return r.constant=function(i){return arguments.length?e(Qa(t=+i),H0(t)):t},ei(r)}function $0(){var e=Lm(Ld());return e.copy=function(){return iu(e,$0()).constant(e.constant())},mo.apply(e,arguments)}function xl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ws(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Bm(e){return e<0?-e*e:e*e}function Fm(e){var t=e(go,go),r=1;function i(){return r===1?e(go,go):r===.5?e(Ws,Bm):e(xl(r),xl(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,i()):r},ei(t)}function Um(){var e=Fm(Ld());return e.copy=function(){return iu(e,Um()).exponent(e.exponent())},mo.apply(e,arguments),e}function Aw(){return Um.apply(null,arguments).exponent(.5)}function sT(e){return Math.sign(e)*e*e}function ww(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lT(){var e=Pm(),t=[0,1],r=!1,i;function n(s){var c=ww(e(s));return isNaN(c)?i:r?Math.round(c):c}return n.invert=function(s){return e.invert(sT(s))},n.domain=function(s){return arguments.length?(e.domain(s),n):e.domain()},n.range=function(s){return arguments.length?(e.range((t=Array.from(s,ff)).map(sT)),n):t.slice()},n.rangeRound=function(s){return n.range(s).round(!0)},n.round=function(s){return arguments.length?(r=!!s,n):r},n.clamp=function(s){return arguments.length?(e.clamp(s),n):e.clamp()},n.unknown=function(s){return arguments.length?(i=s,n):i},n.copy=function(){return lT(e.domain(),t).round(r).clamp(e.clamp()).unknown(i)},mo.apply(n,arguments),ei(n)}function Hm(){var e=[],t=[],r=[],i;function n(){var c=0,h=Math.max(1,t.length);for(r=new Array(h-1);++c<h;)r[c-1]=xE(e,c/h);return s}function s(c){return c==null||isNaN(c=+c)?i:t[eu(r,c)]}return s.invertExtent=function(c){var h=t.indexOf(c);return h<0?[NaN,NaN]:[h>0?r[h-1]:e[0],h<r.length?r[h]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let h of c)h!=null&&!isNaN(h=+h)&&e.push(h);return e.sort(la),n()},s.range=function(c){return arguments.length?(t=Array.from(c),n()):t.slice()},s.unknown=function(c){return arguments.length?(i=c,s):i},s.quantiles=function(){return r.slice()},s.copy=function(){return Hm().domain(e).range(t).unknown(i)},mo.apply(s,arguments)}function uT(){var e=0,t=1,r=1,i=[.5],n=[0,1],s;function c(p){return p!=null&&p<=p?n[eu(i,p,0,r)]:s}function h(){var p=-1;for(i=new Array(r);++p<r;)i[p]=((p+1)*t-(p-r)*e)/(r+1);return c}return c.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,h()):[e,t]},c.range=function(p){return arguments.length?(r=(n=Array.from(p)).length-1,h()):n.slice()},c.invertExtent=function(p){var m=n.indexOf(p);return m<0?[NaN,NaN]:m<1?[e,i[0]]:m>=r?[i[r-1],t]:[i[m-1],i[m]]},c.unknown=function(p){return arguments.length&&(s=p),c},c.thresholds=function(){return i.slice()},c.copy=function(){return uT().domain([e,t]).range(n).unknown(s)},mo.apply(ei(c),arguments)}function cT(){var e=[.5],t=[0,1],r,i=1;function n(s){return s!=null&&s<=s?t[eu(e,s,0,i)]:r}return n.domain=function(s){return arguments.length?(e=Array.from(s),i=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(s){return arguments.length?(t=Array.from(s),i=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return cT().domain(e).range(t).unknown(r)},mo.apply(n,arguments)}const G0=new Date,yf=new Date;function ga(e,t,r,i){function n(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return n.floor=s=>(e(s=new Date(+s)),s),n.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),n.round=s=>{const c=n(s),h=n.ceil(s);return s-c<h-s?c:h},n.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),n.range=(s,c,h)=>{const p=[];if(s=n.ceil(s),h=h==null?1:Math.floor(h),!(s<c)||!(h>0))return p;let m;do p.push(m=new Date(+s)),t(s,h),e(s);while(m<s&&s<c);return p},n.filter=s=>ga(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,h)=>{if(c>=c)if(h<0)for(;++h<=0;)for(;t(c,-1),!s(c););else for(;--h>=0;)for(;t(c,1),!s(c););}),r&&(n.count=(s,c)=>(G0.setTime(+s),yf.setTime(+c),e(G0),e(yf),Math.floor(r(G0,yf))),n.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?n.filter(i?c=>i(c)%s===0:c=>n.count(0,c)%s===0):n)),n}const _f=ga(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_f.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ga(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_f),_f.range;const Ys=1e3,_s=Ys*60,Il=_s*60,ou=Il*24,z0=ou*7,hT=ou*30,j0=ou*365,Ku=ga(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ys)},(e,t)=>(t-e)/Ys,e=>e.getUTCSeconds());Ku.range;const V0=ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ys)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getMinutes());V0.range;const W0=ga(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getUTCMinutes());W0.range;const Y0=ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ys-e.getMinutes()*_s)},(e,t)=>{e.setTime(+e+t*Il)},(e,t)=>(t-e)/Il,e=>e.getHours());Y0.range;const fT=ga(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Il)},(e,t)=>(t-e)/Il,e=>e.getUTCHours());fT.range;const Hd=ga(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_s)/ou,e=>e.getDate()-1);Hd.range;const X0=ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>e.getUTCDate()-1);X0.range;const xw=ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>Math.floor(e/ou));xw.range;function Jc(e){return ga(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_s)/z0)}const $m=Jc(0),Gm=Jc(1),q0=Jc(2),gN=Jc(3),$d=Jc(4),vN=Jc(5),Dl=Jc(6);$m.range,Gm.range,q0.range,gN.range,$d.range,vN.range,Dl.range;function Zu(e){return ga(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/z0)}const Ef=Zu(0),zm=Zu(1),Iw=Zu(2),Dw=Zu(3),eh=Zu(4),Gd=Zu(5),dT=Zu(6);Ef.range,zm.range,Iw.range,Dw.range,eh.range,Gd.range,dT.range;const jm=ga(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jm.range;const pT=ga(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pT.range;const su=ga(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());su.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ga(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),su.range;const lu=ga(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());lu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ga(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),lu.range;function mT(e,t,r,i,n,s){const c=[[Ku,1,Ys],[Ku,5,5*Ys],[Ku,15,15*Ys],[Ku,30,30*Ys],[s,1,_s],[s,5,5*_s],[s,15,15*_s],[s,30,30*_s],[n,1,Il],[n,3,3*Il],[n,6,6*Il],[n,12,12*Il],[i,1,ou],[i,2,2*ou],[r,1,z0],[t,1,hT],[t,3,3*hT],[e,1,j0]];function h(m,d,E){const _=d<m;_&&([m,d]=[d,m]);const T=E&&typeof E.range=="function"?E:p(m,d,E),C=T?T.range(m,+d+1):[];return _?C.reverse():C}function p(m,d,E){const _=Math.abs(d-m)/E,T=yd(([,,D])=>D).right(c,_);if(T===c.length)return e.every(m0(m/j0,d/j0,E));if(T===0)return _f.every(Math.max(m0(m,d,E),1));const[C,A]=c[_/c[T-1][2]<c[T][2]/_?T-1:T];return C.every(A)}return[h,p]}const[Ow,kw]=mT(lu,pT,Ef,xw,fT,W0),[yN,Zo]=mT(su,jm,$m,Hd,Y0,V0);function Ja(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function K0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Pw(e){var t=e.dateTime,r=e.date,i=e.time,n=e.periods,s=e.days,c=e.shortDays,h=e.months,p=e.shortMonths,m=jd(n),d=Tf(n),E=jd(s),_=Tf(s),T=jd(c),C=Tf(c),A=jd(h),D=Tf(h),O=jd(p),B=Tf(p),P={a:je,A:Qe,b:tt,B:st,c:null,d:eo,e:eo,f:$w,g:Ol,G:jw,H:bN,I:Er,j:Vd,L:ry,m:SN,M:Wm,p:Ct,q:Be,Q:Xm,s:ay,S:ny,u:TT,U:Gw,V:zw,w:ST,W:CT,x:null,X:null,y:to,Y:th,Z:Vw,"%":rh},R={a:Ae,A:Ne,b:Ue,B:it,c:null,d:Xs,e:Xs,f:Yw,g:Ts,G:ka,H:Ww,I:uu,j:CN,L:AT,m:Xw,M:qw,p:mt,q:Ft,Q:Xm,s:ay,S:AN,u:iy,U:wT,V:Bn,w:Wa,W:va,x:null,X:null,y:ro,Y:Wd,Z:Ym,"%":rh},$={a:le,A:J,b:ge,B:Ee,c:ne,d:Bw,e:Bw,f:vo,g:Q0,G:ET,H:ey,I:ey,j:Fw,L:Vm,m:Qu,M:Uw,p:ae,q:J0,Q:TN,s:ty,S:Hw,u:Mw,U:_T,V:Z0,w:yT,W:_N,x:ve,X:Me,y:Q0,Y:ET,Z:Lw,"%":EN};P.x=W(r,P),P.X=W(i,P),P.c=W(t,P),R.x=W(r,R),R.X=W(i,R),R.c=W(t,R);function W(Dt,$t){return function(cr){var Ut=[],mr=-1,fr=0,Jr=Dt.length,Lr,gr,sn;for(cr instanceof Date||(cr=new Date(+cr));++mr<Jr;)Dt.charCodeAt(mr)===37&&(Ut.push(Dt.slice(fr,mr)),(gr=gT[Lr=Dt.charAt(++mr)])!=null?Lr=Dt.charAt(++mr):gr=Lr==="e"?" ":"0",(sn=$t[Lr])&&(Lr=sn(cr,gr)),Ut.push(Lr),fr=mr+1);return Ut.push(Dt.slice(fr,mr)),Ut.join("")}}function Z(Dt,$t){return function(cr){var Ut=zd(1900,void 0,1),mr=K(Ut,Dt,cr+="",0),fr,Jr;if(mr!=cr.length)return null;if("Q"in Ut)return new Date(Ut.Q);if("s"in Ut)return new Date(Ut.s*1e3+("L"in Ut?Ut.L:0));if($t&&!("Z"in Ut)&&(Ut.Z=0),"p"in Ut&&(Ut.H=Ut.H%12+Ut.p*12),Ut.m===void 0&&(Ut.m="q"in Ut?Ut.q:0),"V"in Ut){if(Ut.V<1||Ut.V>53)return null;"w"in Ut||(Ut.w=1),"Z"in Ut?(fr=K0(zd(Ut.y,0,1)),Jr=fr.getUTCDay(),fr=Jr>4||Jr===0?zm.ceil(fr):zm(fr),fr=X0.offset(fr,(Ut.V-1)*7),Ut.y=fr.getUTCFullYear(),Ut.m=fr.getUTCMonth(),Ut.d=fr.getUTCDate()+(Ut.w+6)%7):(fr=Ja(zd(Ut.y,0,1)),Jr=fr.getDay(),fr=Jr>4||Jr===0?Gm.ceil(fr):Gm(fr),fr=Hd.offset(fr,(Ut.V-1)*7),Ut.y=fr.getFullYear(),Ut.m=fr.getMonth(),Ut.d=fr.getDate()+(Ut.w+6)%7)}else("W"in Ut||"U"in Ut)&&("w"in Ut||(Ut.w="u"in Ut?Ut.u%7:"W"in Ut?1:0),Jr="Z"in Ut?K0(zd(Ut.y,0,1)).getUTCDay():Ja(zd(Ut.y,0,1)).getDay(),Ut.m=0,Ut.d="W"in Ut?(Ut.w+6)%7+Ut.W*7-(Jr+5)%7:Ut.w+Ut.U*7-(Jr+6)%7);return"Z"in Ut?(Ut.H+=Ut.Z/100|0,Ut.M+=Ut.Z%100,K0(Ut)):Ja(Ut)}}function K(Dt,$t,cr,Ut){for(var mr=0,fr=$t.length,Jr=cr.length,Lr,gr;mr<fr;){if(Ut>=Jr)return-1;if(Lr=$t.charCodeAt(mr++),Lr===37){if(Lr=$t.charAt(mr++),gr=$[Lr in gT?$t.charAt(mr++):Lr],!gr||(Ut=gr(Dt,cr,Ut))<0)return-1}else if(Lr!=cr.charCodeAt(Ut++))return-1}return Ut}function ae(Dt,$t,cr){var Ut=m.exec($t.slice(cr));return Ut?(Dt.p=d.get(Ut[0].toLowerCase()),cr+Ut[0].length):-1}function le(Dt,$t,cr){var Ut=T.exec($t.slice(cr));return Ut?(Dt.w=C.get(Ut[0].toLowerCase()),cr+Ut[0].length):-1}function J(Dt,$t,cr){var Ut=E.exec($t.slice(cr));return Ut?(Dt.w=_.get(Ut[0].toLowerCase()),cr+Ut[0].length):-1}function ge(Dt,$t,cr){var Ut=O.exec($t.slice(cr));return Ut?(Dt.m=B.get(Ut[0].toLowerCase()),cr+Ut[0].length):-1}function Ee(Dt,$t,cr){var Ut=A.exec($t.slice(cr));return Ut?(Dt.m=D.get(Ut[0].toLowerCase()),cr+Ut[0].length):-1}function ne(Dt,$t,cr){return K(Dt,t,$t,cr)}function ve(Dt,$t,cr){return K(Dt,r,$t,cr)}function Me(Dt,$t,cr){return K(Dt,i,$t,cr)}function je(Dt){return c[Dt.getDay()]}function Qe(Dt){return s[Dt.getDay()]}function tt(Dt){return p[Dt.getMonth()]}function st(Dt){return h[Dt.getMonth()]}function Ct(Dt){return n[+(Dt.getHours()>=12)]}function Be(Dt){return 1+~~(Dt.getMonth()/3)}function Ae(Dt){return c[Dt.getUTCDay()]}function Ne(Dt){return s[Dt.getUTCDay()]}function Ue(Dt){return p[Dt.getUTCMonth()]}function it(Dt){return h[Dt.getUTCMonth()]}function mt(Dt){return n[+(Dt.getUTCHours()>=12)]}function Ft(Dt){return 1+~~(Dt.getUTCMonth()/3)}return{format:function(Dt){var $t=W(Dt+="",P);return $t.toString=function(){return Dt},$t},parse:function(Dt){var $t=Z(Dt+="",!1);return $t.toString=function(){return Dt},$t},utcFormat:function(Dt){var $t=W(Dt+="",R);return $t.toString=function(){return Dt},$t},utcParse:function(Dt){var $t=Z(Dt+="",!0);return $t.toString=function(){return Dt},$t}}}var gT={"-":"",_:" ",0:"0"},Oa=/^\s*\d+/,vT=/^%/,Rw=/[\\^$*+?|[\]().{}]/g;function kn(e,t,r){var i=e<0?"-":"",n=(i?-e:e)+"",s=n.length;return i+(s<r?new Array(r-s+1).join(t)+n:n)}function Nw(e){return e.replace(Rw,"\\$&")}function jd(e){return new RegExp("^(?:"+e.map(Nw).join("|")+")","i")}function Tf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yT(e,t,r){var i=Oa.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function Mw(e,t,r){var i=Oa.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function _T(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function Z0(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function _N(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function ET(e,t,r){var i=Oa.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function Q0(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function Lw(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function J0(e,t,r){var i=Oa.exec(t.slice(r,r+1));return i?(e.q=i[0]*3-3,r+i[0].length):-1}function Qu(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function Bw(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function Fw(e,t,r){var i=Oa.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function ey(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function Uw(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function Hw(e,t,r){var i=Oa.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function Vm(e,t,r){var i=Oa.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function vo(e,t,r){var i=Oa.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function EN(e,t,r){var i=vT.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function TN(e,t,r){var i=Oa.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function ty(e,t,r){var i=Oa.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function eo(e,t){return kn(e.getDate(),t,2)}function bN(e,t){return kn(e.getHours(),t,2)}function Er(e,t){return kn(e.getHours()%12||12,t,2)}function Vd(e,t){return kn(1+Hd.count(su(e),e),t,3)}function ry(e,t){return kn(e.getMilliseconds(),t,3)}function $w(e,t){return ry(e,t)+"000"}function SN(e,t){return kn(e.getMonth()+1,t,2)}function Wm(e,t){return kn(e.getMinutes(),t,2)}function ny(e,t){return kn(e.getSeconds(),t,2)}function TT(e){var t=e.getDay();return t===0?7:t}function Gw(e,t){return kn($m.count(su(e)-1,e),t,2)}function bT(e){var t=e.getDay();return t>=4||t===0?$d(e):$d.ceil(e)}function zw(e,t){return e=bT(e),kn($d.count(su(e),e)+(su(e).getDay()===4),t,2)}function ST(e){return e.getDay()}function CT(e,t){return kn(Gm.count(su(e)-1,e),t,2)}function to(e,t){return kn(e.getFullYear()%100,t,2)}function Ol(e,t){return e=bT(e),kn(e.getFullYear()%100,t,2)}function th(e,t){return kn(e.getFullYear()%1e4,t,4)}function jw(e,t){var r=e.getDay();return e=r>=4||r===0?$d(e):$d.ceil(e),kn(e.getFullYear()%1e4,t,4)}function Vw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kn(t/60|0,"0",2)+kn(t%60,"0",2)}function Xs(e,t){return kn(e.getUTCDate(),t,2)}function Ww(e,t){return kn(e.getUTCHours(),t,2)}function uu(e,t){return kn(e.getUTCHours()%12||12,t,2)}function CN(e,t){return kn(1+X0.count(lu(e),e),t,3)}function AT(e,t){return kn(e.getUTCMilliseconds(),t,3)}function Yw(e,t){return AT(e,t)+"000"}function Xw(e,t){return kn(e.getUTCMonth()+1,t,2)}function qw(e,t){return kn(e.getUTCMinutes(),t,2)}function AN(e,t){return kn(e.getUTCSeconds(),t,2)}function iy(e){var t=e.getUTCDay();return t===0?7:t}function wT(e,t){return kn(Ef.count(lu(e)-1,e),t,2)}function Es(e){var t=e.getUTCDay();return t>=4||t===0?eh(e):eh.ceil(e)}function Bn(e,t){return e=Es(e),kn(eh.count(lu(e),e)+(lu(e).getUTCDay()===4),t,2)}function Wa(e){return e.getUTCDay()}function va(e,t){return kn(zm.count(lu(e)-1,e),t,2)}function ro(e,t){return kn(e.getUTCFullYear()%100,t,2)}function Ts(e,t){return e=Es(e),kn(e.getUTCFullYear()%100,t,2)}function Wd(e,t){return kn(e.getUTCFullYear()%1e4,t,4)}function ka(e,t){var r=e.getUTCDay();return e=r>=4||r===0?eh(e):eh.ceil(e),kn(e.getUTCFullYear()%1e4,t,4)}function Ym(){return"+0000"}function rh(){return"%"}function Xm(e){return+e}function ay(e){return Math.floor(+e/1e3)}var cu,Mo,oy;Yd({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yd(e){return cu=Pw(e),Mo=cu.format,cu.parse,oy=cu.utcFormat,cu.utcParse,cu}function Ju(e){return new Date(e)}function sy(e){return e instanceof Date?+e:+new Date(+e)}function qm(e,t,r,i,n,s,c,h,p,m){var d=Pm(),E=d.invert,_=d.domain,T=m(".%L"),C=m(":%S"),A=m("%I:%M"),D=m("%I %p"),O=m("%a %d"),B=m("%b %d"),P=m("%B"),R=m("%Y");function $(W){return(p(W)<W?T:h(W)<W?C:c(W)<W?A:s(W)<W?D:i(W)<W?n(W)<W?O:B:r(W)<W?P:R)(W)}return d.invert=function(W){return new Date(E(W))},d.domain=function(W){return arguments.length?_(Array.from(W,sy)):_().map(Ju)},d.ticks=function(W){var Z=_();return e(Z[0],Z[Z.length-1],W??10)},d.tickFormat=function(W,Z){return Z==null?$:m(Z)},d.nice=function(W){var Z=_();return(!W||typeof W.range!="function")&&(W=t(Z[0],Z[Z.length-1],W??10)),W?_(B0(Z,W)):d},d.copy=function(){return iu(d,qm(e,t,r,i,n,s,c,h,p,m))},d}function nh(){return mo.apply(qm(yN,Zo,su,jm,$m,Hd,Y0,V0,Ku,Mo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ly(){return mo.apply(qm(Ow,kw,lu,pT,Ef,X0,fT,W0,Ku,oy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kl(){var e=0,t=1,r,i,n,s,c=go,h=!1,p;function m(E){return E==null||isNaN(E=+E)?p:c(n===0?.5:(E=(s(E)-r)*n,h?Math.max(0,Math.min(1,E)):E))}m.domain=function(E){return arguments.length?([e,t]=E,r=s(e=+e),i=s(t=+t),n=r===i?0:1/(i-r),m):[e,t]},m.clamp=function(E){return arguments.length?(h=!!E,m):h},m.interpolator=function(E){return arguments.length?(c=E,m):c};function d(E){return function(_){var T,C;return arguments.length?([T,C]=_,c=E(T,C),m):[c(0),c(1)]}}return m.range=d(Wc),m.rangeRound=d(Dm),m.unknown=function(E){return arguments.length?(p=E,m):p},function(E){return s=E,r=E(e),i=E(t),n=r===i?0:1/(i-r),m}}function Pl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Xd(){var e=ei(kl()(go));return e.copy=function(){return Pl(e,Xd())},bl.apply(e,arguments)}function uy(){var e=vf(kl()).domain([1,10]);return e.copy=function(){return Pl(e,uy()).base(e.base())},bl.apply(e,arguments)}function Km(){var e=Lm(kl());return e.copy=function(){return Pl(e,Km()).constant(e.constant())},bl.apply(e,arguments)}function qd(){var e=Fm(kl());return e.copy=function(){return Pl(e,qd()).exponent(e.exponent())},bl.apply(e,arguments)}function Lo(){return qd.apply(null,arguments).exponent(.5)}function ec(){var e=[],t=go;function r(i){if(i!=null&&!isNaN(i=+i))return t((eu(e,i,1)-1)/(e.length-1))}return r.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let n of i)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(la),r},r.interpolator=function(i){return arguments.length?(t=i,r):t},r.range=function(){return e.map((i,n)=>t(n/(e.length-1)))},r.quantiles=function(i){return Array.from({length:i+1},(n,s)=>Ad(e,s/i))},r.copy=function(){return ec(t).domain(e)},bl.apply(r,arguments)}function Qo(){var e=0,t=.5,r=1,i=1,n,s,c,h,p,m=go,d,E=!1,_;function T(A){return isNaN(A=+A)?_:(A=.5+((A=+d(A))-s)*(i*A<i*s?h:p),m(E?Math.max(0,Math.min(1,A)):A))}T.domain=function(A){return arguments.length?([e,t,r]=A,n=d(e=+e),s=d(t=+t),c=d(r=+r),h=n===s?0:.5/(s-n),p=s===c?0:.5/(c-s),i=s<n?-1:1,T):[e,t,r]},T.clamp=function(A){return arguments.length?(E=!!A,T):E},T.interpolator=function(A){return arguments.length?(m=A,T):m};function C(A){return function(D){var O,B,P;return arguments.length?([O,B,P]=D,m=mN(A,[O,B,P]),T):[m(0),m(.5),m(1)]}}return T.range=C(Wc),T.rangeRound=C(Dm),T.unknown=function(A){return arguments.length?(_=A,T):_},function(A){return d=A,n=A(e),s=A(t),c=A(r),h=n===s?0:.5/(s-n),p=s===c?0:.5/(c-s),i=s<n?-1:1,T}}function Bo(){var e=ei(Qo()(go));return e.copy=function(){return Pl(e,Bo())},bl.apply(e,arguments)}function xT(){var e=vf(Qo()).domain([.1,1,10]);return e.copy=function(){return Pl(e,xT()).base(e.base())},bl.apply(e,arguments)}function cy(){var e=Lm(Qo());return e.copy=function(){return Pl(e,cy()).constant(e.constant())},bl.apply(e,arguments)}function Zm(){var e=Fm(Qo());return e.copy=function(){return Pl(e,Zm()).exponent(e.exponent())},bl.apply(e,arguments)}function wN(){return Zm.apply(null,arguments).exponent(.5)}const ih=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tu,scalePoint:pw,scaleIdentity:L0,scaleLinear:qr,scaleLog:Qc,scaleSymlog:$0,scaleOrdinal:xd,scaleImplicit:g0,scalePow:Um,scaleSqrt:Aw,scaleRadial:lT,scaleQuantile:Hm,scaleQuantize:uT,scaleThreshold:cT,scaleTime:nh,scaleUtc:ly,scaleSequential:Xd,scaleSequentialLog:uy,scaleSequentialPow:qd,scaleSequentialSqrt:Lo,scaleSequentialSymlog:Km,scaleSequentialQuantile:ec,scaleDiverging:Bo,scaleDivergingLog:xT,scaleDivergingPow:Zm,scaleDivergingSqrt:wN,scaleDivergingSymlog:cy,tickFormat:M0},Symbol.toStringTag,{value:"Module"}));var IT={exports:{}},bf={},hu,DT=new Uint8Array(16);function ah(){if(!hu&&(hu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hu(DT)}const Kw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Qm(e){return typeof e=="string"&&Kw.test(e)}for(var Pa=[],Kd=0;Kd<256;++Kd)Pa.push((Kd+256).toString(16).substr(1));function hy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Pa[e[t+0]]+Pa[e[t+1]]+Pa[e[t+2]]+Pa[e[t+3]]+"-"+Pa[e[t+4]]+Pa[e[t+5]]+"-"+Pa[e[t+6]]+Pa[e[t+7]]+"-"+Pa[e[t+8]]+Pa[e[t+9]]+"-"+Pa[e[t+10]]+Pa[e[t+11]]+Pa[e[t+12]]+Pa[e[t+13]]+Pa[e[t+14]]+Pa[e[t+15]]).toLowerCase();if(!Qm(r))throw TypeError("Stringified UUID is invalid");return r}var Zw,fy,dy=0,tc=0;function xN(e,t,r){var i=t&&r||0,n=t||new Array(16);e=e||{};var s=e.node||Zw,c=e.clockseq!==void 0?e.clockseq:fy;if(s==null||c==null){var h=e.random||(e.rng||ah)();s==null&&(s=Zw=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),c==null&&(c=fy=(h[6]<<8|h[7])&16383)}var p=e.msecs!==void 0?e.msecs:Date.now(),m=e.nsecs!==void 0?e.nsecs:tc+1,d=p-dy+(m-tc)/1e4;if(d<0&&e.clockseq===void 0&&(c=c+1&16383),(d<0||p>dy)&&e.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");dy=p,tc=m,fy=c,p+=122192928e5;var E=((p&268435455)*1e4+m)%4294967296;n[i++]=E>>>24&255,n[i++]=E>>>16&255,n[i++]=E>>>8&255,n[i++]=E&255;var _=p/4294967296*1e4&268435455;n[i++]=_>>>8&255,n[i++]=_&255,n[i++]=_>>>24&15|16,n[i++]=_>>>16&255,n[i++]=c>>>8|128,n[i++]=c&255;for(var T=0;T<6;++T)n[i+T]=s[T];return t||hy(n)}function Sf(e){if(!Qm(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function Qw(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var qi="6ba7b810-9dad-11d1-80b4-00c04fd430c8",IN="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function OT(e,t,r){function i(n,s,c,h){if(typeof n=="string"&&(n=Qw(n)),typeof s=="string"&&(s=Sf(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+n.length);if(p.set(s),p.set(n,s.length),p=r(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,c){h=h||0;for(var m=0;m<16;++m)c[h+m]=p[m];return c}return hy(p)}try{i.name=e}catch{}return i.DNS=qi,i.URL=IN,i}function DN(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return ON(Jw(kN(e),e.length*8))}function ON(e){for(var t=[],r=e.length*32,i="0123456789abcdef",n=0;n<r;n+=8){var s=e[n>>5]>>>n%32&255,c=parseInt(i.charAt(s>>>4&15)+i.charAt(s&15),16);t.push(c)}return t}function kT(e){return(e+64>>>9<<4)+14+1}function Jw(e,t){e[t>>5]|=128<<t%32,e[kT(t)-1]=t;for(var r=1732584193,i=-271733879,n=-1732584194,s=271733878,c=0;c<e.length;c+=16){var h=r,p=i,m=n,d=s;r=Ui(r,i,n,s,e[c],7,-680876936),s=Ui(s,r,i,n,e[c+1],12,-389564586),n=Ui(n,s,r,i,e[c+2],17,606105819),i=Ui(i,n,s,r,e[c+3],22,-1044525330),r=Ui(r,i,n,s,e[c+4],7,-176418897),s=Ui(s,r,i,n,e[c+5],12,1200080426),n=Ui(n,s,r,i,e[c+6],17,-1473231341),i=Ui(i,n,s,r,e[c+7],22,-45705983),r=Ui(r,i,n,s,e[c+8],7,1770035416),s=Ui(s,r,i,n,e[c+9],12,-1958414417),n=Ui(n,s,r,i,e[c+10],17,-42063),i=Ui(i,n,s,r,e[c+11],22,-1990404162),r=Ui(r,i,n,s,e[c+12],7,1804603682),s=Ui(s,r,i,n,e[c+13],12,-40341101),n=Ui(n,s,r,i,e[c+14],17,-1502002290),i=Ui(i,n,s,r,e[c+15],22,1236535329),r=Na(r,i,n,s,e[c+1],5,-165796510),s=Na(s,r,i,n,e[c+6],9,-1069501632),n=Na(n,s,r,i,e[c+11],14,643717713),i=Na(i,n,s,r,e[c],20,-373897302),r=Na(r,i,n,s,e[c+5],5,-701558691),s=Na(s,r,i,n,e[c+10],9,38016083),n=Na(n,s,r,i,e[c+15],14,-660478335),i=Na(i,n,s,r,e[c+4],20,-405537848),r=Na(r,i,n,s,e[c+9],5,568446438),s=Na(s,r,i,n,e[c+14],9,-1019803690),n=Na(n,s,r,i,e[c+3],14,-187363961),i=Na(i,n,s,r,e[c+8],20,1163531501),r=Na(r,i,n,s,e[c+13],5,-1444681467),s=Na(s,r,i,n,e[c+2],9,-51403784),n=Na(n,s,r,i,e[c+7],14,1735328473),i=Na(i,n,s,r,e[c+12],20,-1926607734),r=Ki(r,i,n,s,e[c+5],4,-378558),s=Ki(s,r,i,n,e[c+8],11,-2022574463),n=Ki(n,s,r,i,e[c+11],16,1839030562),i=Ki(i,n,s,r,e[c+14],23,-35309556),r=Ki(r,i,n,s,e[c+1],4,-1530992060),s=Ki(s,r,i,n,e[c+4],11,1272893353),n=Ki(n,s,r,i,e[c+7],16,-155497632),i=Ki(i,n,s,r,e[c+10],23,-1094730640),r=Ki(r,i,n,s,e[c+13],4,681279174),s=Ki(s,r,i,n,e[c],11,-358537222),n=Ki(n,s,r,i,e[c+3],16,-722521979),i=Ki(i,n,s,r,e[c+6],23,76029189),r=Ki(r,i,n,s,e[c+9],4,-640364487),s=Ki(s,r,i,n,e[c+12],11,-421815835),n=Ki(n,s,r,i,e[c+15],16,530742520),i=Ki(i,n,s,r,e[c+2],23,-995338651),r=Ma(r,i,n,s,e[c],6,-198630844),s=Ma(s,r,i,n,e[c+7],10,1126891415),n=Ma(n,s,r,i,e[c+14],15,-1416354905),i=Ma(i,n,s,r,e[c+5],21,-57434055),r=Ma(r,i,n,s,e[c+12],6,1700485571),s=Ma(s,r,i,n,e[c+3],10,-1894986606),n=Ma(n,s,r,i,e[c+10],15,-1051523),i=Ma(i,n,s,r,e[c+1],21,-2054922799),r=Ma(r,i,n,s,e[c+8],6,1873313359),s=Ma(s,r,i,n,e[c+15],10,-30611744),n=Ma(n,s,r,i,e[c+6],15,-1560198380),i=Ma(i,n,s,r,e[c+13],21,1309151649),r=Ma(r,i,n,s,e[c+4],6,-145523070),s=Ma(s,r,i,n,e[c+11],10,-1120210379),n=Ma(n,s,r,i,e[c+2],15,718787259),i=Ma(i,n,s,r,e[c+9],21,-343485551),r=Ra(r,h),i=Ra(i,p),n=Ra(n,m),s=Ra(s,d)}return[r,i,n,s]}function kN(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(kT(t)),i=0;i<t;i+=8)r[i>>5]|=(e[i/8]&255)<<i%32;return r}function Ra(e,t){var r=(e&65535)+(t&65535),i=(e>>16)+(t>>16)+(r>>16);return i<<16|r&65535}function PT(e,t){return e<<t|e>>>32-t}function py(e,t,r,i,n,s){return Ra(PT(Ra(Ra(t,e),Ra(i,s)),n),r)}function Ui(e,t,r,i,n,s,c){return py(t&r|~t&i,e,t,n,s,c)}function Na(e,t,r,i,n,s,c){return py(t&i|r&~i,e,t,n,s,c)}function Ki(e,t,r,i,n,s,c){return py(t^r^i,e,t,n,s,c)}function Ma(e,t,r,i,n,s,c){return py(r^(t|~i),e,t,n,s,c)}var RT=OT("v3",48,DN);const NT=RT;function PN(e,t,r){e=e||{};var i=e.random||(e.rng||ah)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){r=r||0;for(var n=0;n<16;++n)t[r+n]=i[n];return t}return hy(i)}function MT(e,t,r,i){switch(e){case 0:return t&r^~t&i;case 1:return t^r^i;case 2:return t&r^t&i^r&i;case 3:return t^r^i}}function LT(e,t){return e<<t|e>>>32-t}function ex(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var i=unescape(encodeURIComponent(e));e=[];for(var n=0;n<i.length;++n)e.push(i.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,c=Math.ceil(s/16),h=new Array(c),p=0;p<c;++p){for(var m=new Uint32Array(16),d=0;d<16;++d)m[d]=e[p*64+d*4]<<24|e[p*64+d*4+1]<<16|e[p*64+d*4+2]<<8|e[p*64+d*4+3];h[p]=m}h[c-1][14]=(e.length-1)*8/Math.pow(2,32),h[c-1][14]=Math.floor(h[c-1][14]),h[c-1][15]=(e.length-1)*8&4294967295;for(var E=0;E<c;++E){for(var _=new Uint32Array(80),T=0;T<16;++T)_[T]=h[E][T];for(var C=16;C<80;++C)_[C]=LT(_[C-3]^_[C-8]^_[C-14]^_[C-16],1);for(var A=r[0],D=r[1],O=r[2],B=r[3],P=r[4],R=0;R<80;++R){var $=Math.floor(R/20),W=LT(A,5)+MT($,D,O,B)+P+t[$]+_[R]>>>0;P=B,B=O,O=LT(D,30)>>>0,D=A,A=W}r[0]=r[0]+A>>>0,r[1]=r[1]+D>>>0,r[2]=r[2]+O>>>0,r[3]=r[3]+B>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var tx=OT("v5",80,ex);const my=tx,gy="00000000-0000-0000-0000-000000000000";function rx(e){if(!Qm(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Jm=_t(Object.freeze(Object.defineProperty({__proto__:null,v1:xN,v3:NT,v4:PN,v5:my,NIL:gy,version:rx,validate:Qm,stringify:hy,parse:Sf},Symbol.toStringTag,{value:"Module"}))),eg=typeof Buffer<"u"?e=>Buffer.from(e).toString("base64"):e=>btoa(String.fromCharCode(...e)),vy=typeof Buffer<"u"?e=>Buffer.from(e,"base64"):e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0));bf.encode=function(e){var t=Jm.parse(e),r=eg(t),i=r.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return i},bf.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/")+"==";return Jm.stringify(vy(t))},bf.v4=function(){var e=Jm.v4(null,new Uint8Array(16)),t=eg(e),r=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return r},bf.nice=function(){var e=Jm.v4(null,new Uint8Array(16));e[0]=e[0]&127;var t=eg(e),r=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return r},(function(e){e.exports=bf})(IT);const hn=at(IT.exports);var tg={exports:{}},rg={},Zd={exports:{}};(function(e,t){var r=200,i="__lodash_hash_undefined__",n=1,s=2,c=9007199254740991,h="[object Arguments]",p="[object Array]",m="[object AsyncFunction]",d="[object Boolean]",E="[object Date]",_="[object Error]",T="[object Function]",C="[object GeneratorFunction]",A="[object Map]",D="[object Number]",O="[object Null]",B="[object Object]",P="[object Promise]",R="[object Proxy]",$="[object RegExp]",W="[object Set]",Z="[object String]",K="[object Symbol]",ae="[object Undefined]",le="[object WeakMap]",J="[object ArrayBuffer]",ge="[object DataView]",Ee="[object Float32Array]",ne="[object Float64Array]",ve="[object Int8Array]",Me="[object Int16Array]",je="[object Int32Array]",Qe="[object Uint8Array]",tt="[object Uint8ClampedArray]",st="[object Uint16Array]",Ct="[object Uint32Array]",Be=/[\\^$.*+?()[\]{}|]/g,Ae=/^\[object .+?Constructor\]$/,Ne=/^(?:0|[1-9]\d*)$/,Ue={};Ue[Ee]=Ue[ne]=Ue[ve]=Ue[Me]=Ue[je]=Ue[Qe]=Ue[tt]=Ue[st]=Ue[Ct]=!0,Ue[h]=Ue[p]=Ue[J]=Ue[d]=Ue[ge]=Ue[E]=Ue[_]=Ue[T]=Ue[A]=Ue[D]=Ue[B]=Ue[$]=Ue[W]=Ue[Z]=Ue[le]=!1;var it=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,mt=typeof self=="object"&&self&&self.Object===Object&&self,Ft=it||mt||Function("return this")(),Dt=t&&!t.nodeType&&t,$t=Dt&&!0&&e&&!e.nodeType&&e,cr=$t&&$t.exports===Dt,Ut=cr&&it.process,mr=(function(){try{return Ut&&Ut.binding&&Ut.binding("util")}catch{}})(),fr=mr&&mr.isTypedArray;function Jr(We,Tt){for(var Kt=-1,Sr=We==null?0:We.length,Vi=0,vn=[];++Kt<Sr;){var ba=We[Kt];Tt(ba,Kt,We)&&(vn[Vi++]=ba)}return vn}function Lr(We,Tt){for(var Kt=-1,Sr=Tt.length,Vi=We.length;++Kt<Sr;)We[Vi+Kt]=Tt[Kt];return We}function gr(We,Tt){for(var Kt=-1,Sr=We==null?0:We.length;++Kt<Sr;)if(Tt(We[Kt],Kt,We))return!0;return!1}function sn(We,Tt){for(var Kt=-1,Sr=Array(We);++Kt<We;)Sr[Kt]=Tt(Kt);return Sr}function nn(We){return function(Tt){return We(Tt)}}function Dn(We,Tt){return We.has(Tt)}function ta(We,Tt){return We?.[Tt]}function en(We){var Tt=-1,Kt=Array(We.size);return We.forEach(function(Sr,Vi){Kt[++Tt]=[Vi,Sr]}),Kt}function kt(We,Tt){return function(Kt){return We(Tt(Kt))}}function ze(We){var Tt=-1,Kt=Array(We.size);return We.forEach(function(Sr){Kt[++Tt]=Sr}),Kt}var Xe=Array.prototype,ft=Function.prototype,Q=Object.prototype,G=Ft["__core-js_shared__"],Y=ft.toString,ye=Q.hasOwnProperty,Ge=(function(){var We=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return We?"Symbol(src)_1."+We:""})(),Ze=Q.toString,ct=RegExp("^"+Y.call(ye).replace(Be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),or=cr?Ft.Buffer:void 0,dr=Ft.Symbol,xr=Ft.Uint8Array,br=Q.propertyIsEnumerable,Nr=Xe.splice,ra=dr?dr.toStringTag:void 0,jo=Object.getOwnPropertySymbols,Yl=or?or.isBuffer:void 0,us=kt(Object.keys,Object),cs=N_(Ft,"DataView"),xt=N_(Ft,"Map"),lt=N_(Ft,"Promise"),Oe=N_(Ft,"Set"),Pe=N_(Ft,"WeakMap"),nt=N_(Object,"create"),yt=fv(cs),bt=fv(xt),gt=fv(lt),rt=fv(Oe),ht=fv(Pe),xe=dr?dr.prototype:void 0,Se=xe?xe.valueOf:void 0;function Ve(We){var Tt=-1,Kt=We==null?0:We.length;for(this.clear();++Tt<Kt;){var Sr=We[Tt];this.set(Sr[0],Sr[1])}}function vt(){this.__data__=nt?nt(null):{},this.size=0}function Et(We){var Tt=this.has(We)&&delete this.__data__[We];return this.size-=Tt?1:0,Tt}function ur(We){var Tt=this.__data__;if(nt){var Kt=Tt[We];return Kt===i?void 0:Kt}return ye.call(Tt,We)?Tt[We]:void 0}function hr(We){var Tt=this.__data__;return nt?Tt[We]!==void 0:ye.call(Tt,We)}function Hr(We,Tt){var Kt=this.__data__;return this.size+=this.has(We)?0:1,Kt[We]=nt&&Tt===void 0?i:Tt,this}Ve.prototype.clear=vt,Ve.prototype.delete=Et,Ve.prototype.get=ur,Ve.prototype.has=hr,Ve.prototype.set=Hr;function on(We){var Tt=-1,Kt=We==null?0:We.length;for(this.clear();++Tt<Kt;){var Sr=We[Tt];this.set(Sr[0],Sr[1])}}function Pn(){this.__data__=[],this.size=0}function Kr(We){var Tt=this.__data__,Kt=Vo(Tt,We);if(Kt<0)return!1;var Sr=Tt.length-1;return Kt==Sr?Tt.pop():Nr.call(Tt,Kt,1),--this.size,!0}function An(We){var Tt=this.__data__,Kt=Vo(Tt,We);return Kt<0?void 0:Tt[Kt][1]}function ri(We){return Vo(this.__data__,We)>-1}function $r(We,Tt){var Kt=this.__data__,Sr=Vo(Kt,We);return Sr<0?(++this.size,Kt.push([We,Tt])):Kt[Sr][1]=Tt,this}on.prototype.clear=Pn,on.prototype.delete=Kr,on.prototype.get=An,on.prototype.has=ri,on.prototype.set=$r;function On(We){var Tt=-1,Kt=We==null?0:We.length;for(this.clear();++Tt<Kt;){var Sr=We[Tt];this.set(Sr[0],Sr[1])}}function ni(){this.size=0,this.__data__={hash:new Ve,map:new(xt||on),string:new Ve}}function oi(We){var Tt=Wk(this,We).delete(We);return this.size-=Tt?1:0,Tt}function ji(We){return Wk(this,We).get(We)}function hs(We){return Wk(this,We).has(We)}function tr(We,Tt){var Kt=Wk(this,We),Sr=Kt.size;return Kt.set(We,Tt),this.size+=Kt.size==Sr?0:1,this}On.prototype.clear=ni,On.prototype.delete=oi,On.prototype.get=ji,On.prototype.has=hs,On.prototype.set=tr;function Ar(We){var Tt=-1,Kt=We==null?0:We.length;for(this.__data__=new On;++Tt<Kt;)this.add(We[Tt])}function gn(We){return this.__data__.set(We,i),this}function ln(We){return this.__data__.has(We)}Ar.prototype.add=Ar.prototype.push=gn,Ar.prototype.has=ln;function zr(We){var Tt=this.__data__=new on(We);this.size=Tt.size}function Rn(){this.__data__=new on,this.size=0}function dn(We){var Tt=this.__data__,Kt=Tt.delete(We);return this.size=Tt.size,Kt}function En(We){return this.__data__.get(We)}function jn(We){return this.__data__.has(We)}function si(We,Tt){var Kt=this.__data__;if(Kt instanceof on){var Sr=Kt.__data__;if(!xt||Sr.length<r-1)return Sr.push([We,Tt]),this.size=++Kt.size,this;Kt=this.__data__=new On(Sr)}return Kt.set(We,Tt),this.size=Kt.size,this}zr.prototype.clear=Rn,zr.prototype.delete=dn,zr.prototype.get=En,zr.prototype.has=jn,zr.prototype.set=si;function li(We,Tt){var Kt=Yk(We),Sr=!Kt&&ZVe(We),Vi=!Kt&&!Sr&&e4(We),vn=!Kt&&!Sr&&!Vi&&Oie(We),ba=Kt||Sr||Vi||vn,To=ba?sn(We.length,String):[],Wo=To.length;for(var da in We)ye.call(We,da)&&!(ba&&(da=="length"||Vi&&(da=="offset"||da=="parent")||vn&&(da=="buffer"||da=="byteLength"||da=="byteOffset")||WVe(da,Wo)))&&To.push(da);return To}function Vo(We,Tt){for(var Kt=We.length;Kt--;)if(wie(We[Kt][0],Tt))return Kt;return-1}function Au(We,Tt,Kt){var Sr=Tt(We);return Yk(We)?Sr:Lr(Sr,Kt(We))}function zp(We){return We==null?We===void 0?ae:O:ra&&ra in Object(We)?jVe(We):KVe(We)}function FC(We){return UC(We)&&zp(We)==h}function jp(We,Tt,Kt,Sr,Vi){return We===Tt?!0:We==null||Tt==null||!UC(We)&&!UC(Tt)?We!==We&&Tt!==Tt:FVe(We,Tt,Kt,Sr,jp,Vi)}function FVe(We,Tt,Kt,Sr,Vi,vn){var ba=Yk(We),To=Yk(Tt),Wo=ba?p:Vp(We),da=To?p:Vp(Tt);Wo=Wo==h?B:Wo,da=da==h?B:da;var Xl=Wo==B,Sc=da==B,fs=Wo==da;if(fs&&e4(We)){if(!e4(Tt))return!1;ba=!0,Xl=!1}if(fs&&!Xl)return vn||(vn=new zr),ba||Oie(We)?Cie(We,Tt,Kt,Sr,Vi,vn):GVe(We,Tt,Wo,Kt,Sr,Vi,vn);if(!(Kt&n)){var wu=Xl&&ye.call(We,"__wrapped__"),xu=Sc&&ye.call(Tt,"__wrapped__");if(wu||xu){var Wp=wu?We.value():We,Kf=xu?Tt.value():Tt;return vn||(vn=new zr),Vi(Wp,Kf,Kt,Sr,vn)}}return fs?(vn||(vn=new zr),zVe(We,Tt,Kt,Sr,Vi,vn)):!1}function UVe(We){if(!Die(We)||XVe(We))return!1;var Tt=xie(We)?ct:Ae;return Tt.test(fv(We))}function HVe(We){return UC(We)&&Iie(We.length)&&!!Ue[zp(We)]}function $Ve(We){if(!qVe(We))return us(We);var Tt=[];for(var Kt in Object(We))ye.call(We,Kt)&&Kt!="constructor"&&Tt.push(Kt);return Tt}function Cie(We,Tt,Kt,Sr,Vi,vn){var ba=Kt&n,To=We.length,Wo=Tt.length;if(To!=Wo&&!(ba&&Wo>To))return!1;var da=vn.get(We);if(da&&vn.get(Tt))return da==Tt;var Xl=-1,Sc=!0,fs=Kt&s?new Ar:void 0;for(vn.set(We,Tt),vn.set(Tt,We);++Xl<To;){var wu=We[Xl],xu=Tt[Xl];if(Sr)var Wp=ba?Sr(xu,wu,Xl,Tt,We,vn):Sr(wu,xu,Xl,We,Tt,vn);if(Wp!==void 0){if(Wp)continue;Sc=!1;break}if(fs){if(!gr(Tt,function(Kf,dv){if(!Dn(fs,dv)&&(wu===Kf||Vi(wu,Kf,Kt,Sr,vn)))return fs.push(dv)})){Sc=!1;break}}else if(!(wu===xu||Vi(wu,xu,Kt,Sr,vn))){Sc=!1;break}}return vn.delete(We),vn.delete(Tt),Sc}function GVe(We,Tt,Kt,Sr,Vi,vn,ba){switch(Kt){case ge:if(We.byteLength!=Tt.byteLength||We.byteOffset!=Tt.byteOffset)return!1;We=We.buffer,Tt=Tt.buffer;case J:return!(We.byteLength!=Tt.byteLength||!vn(new xr(We),new xr(Tt)));case d:case E:case D:return wie(+We,+Tt);case _:return We.name==Tt.name&&We.message==Tt.message;case $:case Z:return We==Tt+"";case A:var To=en;case W:var Wo=Sr&n;if(To||(To=ze),We.size!=Tt.size&&!Wo)return!1;var da=ba.get(We);if(da)return da==Tt;Sr|=s,ba.set(We,Tt);var Xl=Cie(To(We),To(Tt),Sr,Vi,vn,ba);return ba.delete(We),Xl;case K:if(Se)return Se.call(We)==Se.call(Tt)}return!1}function zVe(We,Tt,Kt,Sr,Vi,vn){var ba=Kt&n,To=Aie(We),Wo=To.length,da=Aie(Tt),Xl=da.length;if(Wo!=Xl&&!ba)return!1;for(var Sc=Wo;Sc--;){var fs=To[Sc];if(!(ba?fs in Tt:ye.call(Tt,fs)))return!1}var wu=vn.get(We);if(wu&&vn.get(Tt))return wu==Tt;var xu=!0;vn.set(We,Tt),vn.set(Tt,We);for(var Wp=ba;++Sc<Wo;){fs=To[Sc];var Kf=We[fs],dv=Tt[fs];if(Sr)var kie=ba?Sr(dv,Kf,fs,Tt,We,vn):Sr(Kf,dv,fs,We,Tt,vn);if(!(kie===void 0?Kf===dv||Vi(Kf,dv,Kt,Sr,vn):kie)){xu=!1;break}Wp||(Wp=fs=="constructor")}if(xu&&!Wp){var Xk=We.constructor,qk=Tt.constructor;Xk!=qk&&"constructor"in We&&"constructor"in Tt&&!(typeof Xk=="function"&&Xk instanceof Xk&&typeof qk=="function"&&qk instanceof qk)&&(xu=!1)}return vn.delete(We),vn.delete(Tt),xu}function Aie(We){return Au(We,eWe,VVe)}function Wk(We,Tt){var Kt=We.__data__;return YVe(Tt)?Kt[typeof Tt=="string"?"string":"hash"]:Kt.map}function N_(We,Tt){var Kt=ta(We,Tt);return UVe(Kt)?Kt:void 0}function jVe(We){var Tt=ye.call(We,ra),Kt=We[ra];try{We[ra]=void 0;var Sr=!0}catch{}var Vi=Ze.call(We);return Sr&&(Tt?We[ra]=Kt:delete We[ra]),Vi}var VVe=jo?function(We){return We==null?[]:(We=Object(We),Jr(jo(We),function(Tt){return br.call(We,Tt)}))}:tWe,Vp=zp;(cs&&Vp(new cs(new ArrayBuffer(1)))!=ge||xt&&Vp(new xt)!=A||lt&&Vp(lt.resolve())!=P||Oe&&Vp(new Oe)!=W||Pe&&Vp(new Pe)!=le)&&(Vp=function(We){var Tt=zp(We),Kt=Tt==B?We.constructor:void 0,Sr=Kt?fv(Kt):"";if(Sr)switch(Sr){case yt:return ge;case bt:return A;case gt:return P;case rt:return W;case ht:return le}return Tt});function WVe(We,Tt){return Tt=Tt??c,!!Tt&&(typeof We=="number"||Ne.test(We))&&We>-1&&We%1==0&&We<Tt}function YVe(We){var Tt=typeof We;return Tt=="string"||Tt=="number"||Tt=="symbol"||Tt=="boolean"?We!=="__proto__":We===null}function XVe(We){return!!Ge&&Ge in We}function qVe(We){var Tt=We&&We.constructor,Kt=typeof Tt=="function"&&Tt.prototype||Q;return We===Kt}function KVe(We){return Ze.call(We)}function fv(We){if(We!=null){try{return Y.call(We)}catch{}try{return We+""}catch{}}return""}function wie(We,Tt){return We===Tt||We!==We&&Tt!==Tt}var ZVe=FC((function(){return arguments})())?FC:function(We){return UC(We)&&ye.call(We,"callee")&&!br.call(We,"callee")},Yk=Array.isArray;function QVe(We){return We!=null&&Iie(We.length)&&!xie(We)}var e4=Yl||rWe;function JVe(We,Tt){return jp(We,Tt)}function xie(We){if(!Die(We))return!1;var Tt=zp(We);return Tt==T||Tt==C||Tt==m||Tt==R}function Iie(We){return typeof We=="number"&&We>-1&&We%1==0&&We<=c}function Die(We){var Tt=typeof We;return We!=null&&(Tt=="object"||Tt=="function")}function UC(We){return We!=null&&typeof We=="object"}var Oie=fr?nn(fr):HVe;function eWe(We){return QVe(We)?li(We):$Ve(We)}function tWe(){return[]}function rWe(){return!1}e.exports=JVe})(Zd,Zd.exports);var Qd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i=[],n=0;n<arguments.length;n++){var s=arguments[n];if(s){var c=typeof s;if(c==="string"||c==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var h=r.apply(null,s);h&&i.push(h)}}else if(c==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var p in s)t.call(s,p)&&s[p]&&i.push(p)}}}return i.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Qd);var Qn={};Qn.__esModule=!0,Qn.noop=void 0;var ng=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};Qn.bottom=L,Qn.cloneLayout=V,Qn.cloneLayoutItem=ee,Qn.childrenEqual=Ce,Qn.collides=Ye,Qn.compact=ot,Qn.compactItem=rr,Qn.correctBounds=qt,Qn.getLayoutItem=pr,Qn.getFirstCollision=vr,Qn.getAllCollisions=Cr,Qn.getStatics=Hi,Qn.moveElement=At,Qn.moveElementAwayFromCollision=ut,Qn.perc=Ot,Qn.setTransform=sr,Qn.setTopLeft=Ir,Qn.sortLayoutItems=Rr,Qn.sortLayoutItemsByRowCol=Mr,Qn.sortLayoutItemsByColRow=Xr,Qn.synchronizeLayoutWithChildren=Ya,Qn.validateLayout=qn,Qn.autoBindHandlers=oh;var RN=Zd.exports,yy=x(RN),y=M.default,b=x(y);function x(e){return e&&e.__esModule?e:{default:e}}function L(e){for(var t=0,r=void 0,i=0,n=e.length;i<n;i++)r=e[i].y+e[i].h,r>t&&(t=r);return t}function V(e){for(var t=Array(e.length),r=0,i=e.length;r<i;r++)t[r]=ee(e[r]);return t}function ee(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable}}function Ce(e,t){return(0,yy.default)(b.default.Children.map(e,function(r){return r.key}),b.default.Children.map(t,function(r){return r.key}))}function Ye(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function ot(e,t,r){for(var i=Hi(e),n=Rr(e,t),s=Array(e.length),c=0,h=n.length;c<h;c++){var p=ee(n[c]);p.static||(p=rr(i,p,t,r,n),i.push(p)),s[e.indexOf(n[c])]=p,p.moved=!1}return s}var Nt={x:"w",y:"h"};function Jt(e,t,r,i){var n=Nt[i];t[i]+=1;for(var s=e.indexOf(t),c=s+1;c<e.length;c++){var h=e[c];if(!h.static){if(h.y>t.y+t.h)break;Ye(t,h)&&Jt(e,h,r+t[n],i)}}t[i]=r}function rr(e,t,r,i,n){var s=r==="vertical",c=r==="horizontal";if(s)for(t.y=Math.min(L(e),t.y);t.y>0&&!vr(e,t);)t.y--;else if(c)for(t.y=Math.min(L(e),t.y);t.x>0&&!vr(e,t);)t.x--;for(var h=void 0;h=vr(e,t);)c?Jt(n,t,h.x+h.w,"x"):Jt(n,t,h.y+h.h,"y"),c&&t.x+t.w>i&&(t.x=i-t.w,t.y++);return t}function qt(e,t){for(var r=Hi(e),i=0,n=e.length;i<n;i++){var s=e[i];if(s.x+s.w>t.cols&&(s.x=t.cols-s.w),s.x<0&&(s.x=0,s.w=t.cols),!s.static)r.push(s);else for(;vr(r,s);)s.y++}return e}function pr(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r].i===t)return e[r]}function vr(e,t){for(var r=0,i=e.length;r<i;r++)if(Ye(e[r],t))return e[r]}function Cr(e,t){return e.filter(function(r){return Ye(r,t)})}function Hi(e){return e.filter(function(t){return t.static})}function At(e,t,r,i,n,s,c,h){if(t.static||t.y===i&&t.x===r)return e;""+t.i+String(r)+String(i)+t.x+t.y;var p=t.x,m=t.y;typeof r=="number"&&(t.x=r),typeof i=="number"&&(t.y=i),t.moved=!0;var d=Rr(e,c),E=c==="vertical"&&typeof i=="number"?m>=i:c==="horizontal"&&typeof r=="number"?p>=r:!1;E&&(d=d.reverse());var _=Cr(d,t);if(s&&_.length)return""+t.i,t.x=p,t.y=m,t.moved=!1,e;for(var T=0,C=_.length;T<C;T++){var A=_[T];""+t.i+t.x+t.y+A.i+A.x+A.y,!A.moved&&(A.static?e=ut(e,A,t,n,c):e=ut(e,t,A,n,c))}return e}function ut(e,t,r,i,n,s){var c=n==="horizontal",h=n==="vertical",p=!1;if(i){i=!1;var m={x:c?Math.max(t.x-r.w,0):r.x,y:h?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"};if(!vr(e,m))return""+r.i+m.x+m.y,At(e,r,c?m.x:void 0,h?m.y:void 0,i,p,n)}return At(e,r,c?r.x+1:void 0,h?r.y+1:void 0,i,p,n)}function Ot(e){return e*100+"%"}function sr(e){var t=e.top,r=e.left,i=e.width,n=e.height,s="translate("+r+"px,"+t+"px)";return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:i+"px",height:n+"px",position:"absolute"}}function Ir(e){var t=e.top,r=e.left,i=e.width,n=e.height;return{top:t+"px",left:r+"px",width:i+"px",height:n+"px",position:"absolute"}}function Rr(e,t){return t==="horizontal"?Xr(e):Mr(e)}function Mr(e){return[].concat(e).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function Xr(e){return[].concat(e).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function Ya(e,t,r,i){e=e||[];var n=[];return b.default.Children.forEach(t,function(s,c){var h=pr(e,String(s.key));if(h)n[c]=ee(h);else{var p=s.props["data-grid"]||s.props._grid;p?n[c]=ee(ng({},p,{i:s.key})):n[c]=ee({w:1,h:1,x:0,y:L(n),i:String(s.key)})}}),n=qt(n,{cols:r}),n=ot(n,i,r),n}function qn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var i=0,n=e.length;i<n;i++){for(var s=e[i],c=0;c<r.length;c++)if(typeof s[r[c]]!="number")throw new Error("ReactGridLayout: "+t+"["+i+"]."+r[c]+" must be a number!");if(s.i&&typeof s.i!="string")throw new Error("ReactGridLayout: "+t+"["+i+"].i must be a string!");if(s.static!==void 0&&typeof s.static!="boolean")throw new Error("ReactGridLayout: "+t+"["+i+"].static must be a boolean!")}}function oh(e,t){t.forEach(function(r){return e[r]=e[r].bind(e)})}function D9(){}Qn.noop=function(){};var NN={},O9={exports:{}};(function(e,t){(function(r,i){e.exports=i(ke.default,M.default)})(Te,function(r,i){r=r&&r.hasOwnProperty("default")?r.default:r,i=i&&i.hasOwnProperty("default")?i.default:i;function n(Oe,Pe){return Pe={exports:{}},Oe(Pe,Pe.exports),Pe.exports}function s(Oe){return function(){return Oe}}var c=function(){};c.thatReturns=s,c.thatReturnsFalse=s(!1),c.thatReturnsTrue=s(!0),c.thatReturnsNull=s(null),c.thatReturnsThis=function(){return this},c.thatReturnsArgument=function(Oe){return Oe};var h=c,p=function(Pe){};p=function(Pe){if(Pe===void 0)throw new Error("invariant requires an error message argument")};function m(Oe,Pe,nt,yt,bt,gt,rt,ht){if(p(Pe),!Oe){var xe;if(Pe===void 0)xe=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Se=[nt,yt,bt,gt,rt,ht],Ve=0;xe=new Error(Pe.replace(/%s/g,function(){return Se[Ve++]})),xe.name="Invariant Violation"}throw xe.framesToPop=1,xe}}var d=m,E=h;{var _=function(Pe){for(var nt=arguments.length,yt=Array(nt>1?nt-1:0),bt=1;bt<nt;bt++)yt[bt-1]=arguments[bt];var gt=0,rt="Warning: "+Pe.replace(/%s/g,function(){return yt[gt++]});typeof console<"u"&&console.error(rt);try{throw new Error(rt)}catch{}};E=function(Pe,nt){if(nt===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(nt.indexOf("Failed Composite propType: ")!==0&&!Pe){for(var yt=arguments.length,bt=Array(yt>2?yt-2:0),gt=2;gt<yt;gt++)bt[gt-2]=arguments[gt];_.apply(void 0,[nt].concat(bt))}}}var T=E;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var C=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;function O(Oe){if(Oe==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Oe)}function B(){try{if(!Object.assign)return!1;var Oe=new String("abc");if(Oe[5]="de",Object.getOwnPropertyNames(Oe)[0]==="5")return!1;for(var Pe={},nt=0;nt<10;nt++)Pe["_"+String.fromCharCode(nt)]=nt;var yt=Object.getOwnPropertyNames(Pe).map(function(gt){return Pe[gt]});if(yt.join("")!=="0123456789")return!1;var bt={};return"abcdefghijklmnopqrst".split("").forEach(function(gt){bt[gt]=gt}),Object.keys(Object.assign({},bt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var P=B()?Object.assign:function(Oe,Pe){for(var nt,yt=O(Oe),bt,gt=1;gt<arguments.length;gt++){nt=Object(arguments[gt]);for(var rt in nt)A.call(nt,rt)&&(yt[rt]=nt[rt]);if(C){bt=C(nt);for(var ht=0;ht<bt.length;ht++)D.call(nt,bt[ht])&&(yt[bt[ht]]=nt[bt[ht]])}}return yt},R="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$=R,W=d,Z=T,K=$,ae={};function le(Oe,Pe,nt,yt,bt){for(var gt in Oe)if(Oe.hasOwnProperty(gt)){var rt;try{W(typeof Oe[gt]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",yt||"React class",nt,gt,typeof Oe[gt]),rt=Oe[gt](Pe,gt,yt,nt,null,K)}catch(xe){rt=xe}if(Z(!rt||rt instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",yt||"React class",nt,gt,typeof rt),rt instanceof Error&&!(rt.message in ae)){ae[rt.message]=!0;var ht=bt?bt():"";Z(!1,"Failed %s type: %s%s",nt,rt.message,ht??"")}}}var J=le,ge=function(Oe,Pe){var nt=typeof Symbol=="function"&&Symbol.iterator,yt="@@iterator";function bt(tr){var Ar=tr&&(nt&&tr[nt]||tr[yt]);if(typeof Ar=="function")return Ar}var gt="<<anonymous>>",rt={array:Ve("array"),bool:Ve("boolean"),func:Ve("function"),number:Ve("number"),object:Ve("object"),string:Ve("string"),symbol:Ve("symbol"),any:vt(),arrayOf:Et,element:ur(),instanceOf:hr,node:Kr(),objectOf:on,oneOf:Hr,oneOfType:Pn,shape:An,exact:ri};function ht(tr,Ar){return tr===Ar?tr!==0||1/tr===1/Ar:tr!==tr&&Ar!==Ar}function xe(tr){this.message=tr,this.stack=""}xe.prototype=Error.prototype;function Se(tr){var Ar={},gn=0;function ln(Rn,dn,En,jn,si,li,Vo){if(jn=jn||gt,li=li||En,Vo!==$){if(Pe)d(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(typeof console<"u"){var Au=jn+":"+En;!Ar[Au]&&gn<3&&(T(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",li,jn),Ar[Au]=!0,gn++)}}return dn[En]==null?Rn?dn[En]===null?new xe("The "+si+" `"+li+"` is marked as required "+("in `"+jn+"`, but its value is `null`.")):new xe("The "+si+" `"+li+"` is marked as required in "+("`"+jn+"`, but its value is `undefined`.")):null:tr(dn,En,jn,si,li)}var zr=ln.bind(null,!1);return zr.isRequired=ln.bind(null,!0),zr}function Ve(tr){function Ar(gn,ln,zr,Rn,dn,En){var jn=gn[ln],si=ni(jn);if(si!==tr){var li=oi(jn);return new xe("Invalid "+Rn+" `"+dn+"` of type "+("`"+li+"` supplied to `"+zr+"`, expected ")+("`"+tr+"`."))}return null}return Se(Ar)}function vt(){return Se(h.thatReturnsNull)}function Et(tr){function Ar(gn,ln,zr,Rn,dn){if(typeof tr!="function")return new xe("Property `"+dn+"` of component `"+zr+"` has invalid PropType notation inside arrayOf.");var En=gn[ln];if(!Array.isArray(En)){var jn=ni(En);return new xe("Invalid "+Rn+" `"+dn+"` of type "+("`"+jn+"` supplied to `"+zr+"`, expected an array."))}for(var si=0;si<En.length;si++){var li=tr(En,si,zr,Rn,dn+"["+si+"]",$);if(li instanceof Error)return li}return null}return Se(Ar)}function ur(){function tr(Ar,gn,ln,zr,Rn){var dn=Ar[gn];if(!Oe(dn)){var En=ni(dn);return new xe("Invalid "+zr+" `"+Rn+"` of type "+("`"+En+"` supplied to `"+ln+"`, expected a single ReactElement."))}return null}return Se(tr)}function hr(tr){function Ar(gn,ln,zr,Rn,dn){if(!(gn[ln]instanceof tr)){var En=tr.name||gt,jn=hs(gn[ln]);return new xe("Invalid "+Rn+" `"+dn+"` of type "+("`"+jn+"` supplied to `"+zr+"`, expected ")+("instance of `"+En+"`."))}return null}return Se(Ar)}function Hr(tr){if(!Array.isArray(tr))return T(!1,"Invalid argument supplied to oneOf, expected an instance of array."),h.thatReturnsNull;function Ar(gn,ln,zr,Rn,dn){for(var En=gn[ln],jn=0;jn<tr.length;jn++)if(ht(En,tr[jn]))return null;var si=JSON.stringify(tr);return new xe("Invalid "+Rn+" `"+dn+"` of value `"+En+"` "+("supplied to `"+zr+"`, expected one of "+si+"."))}return Se(Ar)}function on(tr){function Ar(gn,ln,zr,Rn,dn){if(typeof tr!="function")return new xe("Property `"+dn+"` of component `"+zr+"` has invalid PropType notation inside objectOf.");var En=gn[ln],jn=ni(En);if(jn!=="object")return new xe("Invalid "+Rn+" `"+dn+"` of type "+("`"+jn+"` supplied to `"+zr+"`, expected an object."));for(var si in En)if(En.hasOwnProperty(si)){var li=tr(En,si,zr,Rn,dn+"."+si,$);if(li instanceof Error)return li}return null}return Se(Ar)}function Pn(tr){if(!Array.isArray(tr))return T(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),h.thatReturnsNull;for(var Ar=0;Ar<tr.length;Ar++){var gn=tr[Ar];if(typeof gn!="function")return T(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",ji(gn),Ar),h.thatReturnsNull}function ln(zr,Rn,dn,En,jn){for(var si=0;si<tr.length;si++){var li=tr[si];if(li(zr,Rn,dn,En,jn,$)==null)return null}return new xe("Invalid "+En+" `"+jn+"` supplied to "+("`"+dn+"`."))}return Se(ln)}function Kr(){function tr(Ar,gn,ln,zr,Rn){return $r(Ar[gn])?null:new xe("Invalid "+zr+" `"+Rn+"` supplied to "+("`"+ln+"`, expected a ReactNode."))}return Se(tr)}function An(tr){function Ar(gn,ln,zr,Rn,dn){var En=gn[ln],jn=ni(En);if(jn!=="object")return new xe("Invalid "+Rn+" `"+dn+"` of type `"+jn+"` "+("supplied to `"+zr+"`, expected `object`."));for(var si in tr){var li=tr[si];if(li){var Vo=li(En,si,zr,Rn,dn+"."+si,$);if(Vo)return Vo}}return null}return Se(Ar)}function ri(tr){function Ar(gn,ln,zr,Rn,dn){var En=gn[ln],jn=ni(En);if(jn!=="object")return new xe("Invalid "+Rn+" `"+dn+"` of type `"+jn+"` "+("supplied to `"+zr+"`, expected `object`."));var si=P({},gn[ln],tr);for(var li in si){var Vo=tr[li];if(!Vo)return new xe("Invalid "+Rn+" `"+dn+"` key `"+li+"` supplied to `"+zr+"`.\nBad object: "+JSON.stringify(gn[ln],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(tr),null,"  "));var Au=Vo(En,li,zr,Rn,dn+"."+li,$);if(Au)return Au}return null}return Se(Ar)}function $r(tr){switch(typeof tr){case"number":case"string":case"undefined":return!0;case"boolean":return!tr;case"object":if(Array.isArray(tr))return tr.every($r);if(tr===null||Oe(tr))return!0;var Ar=bt(tr);if(Ar){var gn=Ar.call(tr),ln;if(Ar!==tr.entries){for(;!(ln=gn.next()).done;)if(!$r(ln.value))return!1}else for(;!(ln=gn.next()).done;){var zr=ln.value;if(zr&&!$r(zr[1]))return!1}}else return!1;return!0;default:return!1}}function On(tr,Ar){return tr==="symbol"||Ar["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Ar instanceof Symbol}function ni(tr){var Ar=typeof tr;return Array.isArray(tr)?"array":tr instanceof RegExp?"object":On(Ar,tr)?"symbol":Ar}function oi(tr){if(typeof tr>"u"||tr===null)return""+tr;var Ar=ni(tr);if(Ar==="object"){if(tr instanceof Date)return"date";if(tr instanceof RegExp)return"regexp"}return Ar}function ji(tr){var Ar=oi(tr);switch(Ar){case"array":case"object":return"an "+Ar;case"boolean":case"date":case"regexp":return"a "+Ar;default:return Ar}}function hs(tr){return!tr.constructor||!tr.constructor.name?gt:tr.constructor.name}return rt.checkPropTypes=J,rt.PropTypes=rt,rt},Ee=n(function(Oe){{var Pe=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,nt=function(bt){return typeof bt=="object"&&bt!==null&&bt.$$typeof===Pe},yt=!0;Oe.exports=ge(nt,yt)}}),ne=n(function(Oe){/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var Pe={}.hasOwnProperty;function nt(){for(var yt=[],bt=0;bt<arguments.length;bt++){var gt=arguments[bt];if(gt){var rt=typeof gt;if(rt==="string"||rt==="number")yt.push(gt);else if(Array.isArray(gt))yt.push(nt.apply(null,gt));else if(rt==="object")for(var ht in gt)Pe.call(gt,ht)&&gt[ht]&&yt.push(ht)}}return yt.join(" ")}Oe.exports?Oe.exports=nt:window.classNames=nt})()});function ve(Oe,Pe){for(var nt=0,yt=Oe.length;nt<yt;nt++)if(Pe.apply(Pe,[Oe[nt],nt,Oe]))return Oe[nt]}function Me(Oe){return typeof Oe=="function"||Object.prototype.toString.call(Oe)==="[object Function]"}function je(Oe){return typeof Oe=="number"&&!isNaN(Oe)}function Qe(Oe){return parseInt(Oe,10)}function tt(Oe,Pe,nt){if(Oe[Pe])return new Error("Invalid prop "+Pe+" passed to "+nt+" - do not set this, set it on the child.")}var st=["Moz","Webkit","O","ms"];function Ct(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u"||typeof window.document>"u")return"";var Pe=window.document.documentElement.style;if(Oe in Pe)return"";for(var nt=0;nt<st.length;nt++)if(Be(Oe,st[nt])in Pe)return st[nt];return""}function Be(Oe,Pe){return Pe?""+Pe+Ae(Oe):Oe}function Ae(Oe){for(var Pe="",nt=!0,yt=0;yt<Oe.length;yt++)nt?(Pe+=Oe[yt].toUpperCase(),nt=!1):Oe[yt]==="-"?nt=!0:Pe+=Oe[yt];return Pe}var Ne=Ct(),Ue=function(Oe,Pe){if(!(Oe instanceof Pe))throw new TypeError("Cannot call a class as a function")},it=(function(){function Oe(Pe,nt){for(var yt=0;yt<nt.length;yt++){var bt=nt[yt];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(Pe,bt.key,bt)}}return function(Pe,nt,yt){return nt&&Oe(Pe.prototype,nt),yt&&Oe(Pe,yt),Pe}})(),mt=function(Oe,Pe,nt){return Pe in Oe?Object.defineProperty(Oe,Pe,{value:nt,enumerable:!0,configurable:!0,writable:!0}):Oe[Pe]=nt,Oe},Ft=Object.assign||function(Oe){for(var Pe=1;Pe<arguments.length;Pe++){var nt=arguments[Pe];for(var yt in nt)Object.prototype.hasOwnProperty.call(nt,yt)&&(Oe[yt]=nt[yt])}return Oe},Dt=function(Oe,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pe);Oe.prototype=Object.create(Pe&&Pe.prototype,{constructor:{value:Oe,enumerable:!1,writable:!0,configurable:!0}}),Pe&&(Object.setPrototypeOf?Object.setPrototypeOf(Oe,Pe):Oe.__proto__=Pe)},$t=function(Oe,Pe){if(!Oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe&&(typeof Pe=="object"||typeof Pe=="function")?Pe:Oe},cr=(function(){function Oe(Pe,nt){var yt=[],bt=!0,gt=!1,rt=void 0;try{for(var ht=Pe[Symbol.iterator](),xe;!(bt=(xe=ht.next()).done)&&(yt.push(xe.value),!(nt&&yt.length===nt));bt=!0);}catch(Se){gt=!0,rt=Se}finally{try{!bt&&ht.return&&ht.return()}finally{if(gt)throw rt}}return yt}return function(Pe,nt){if(Array.isArray(Pe))return Pe;if(Symbol.iterator in Object(Pe))return Oe(Pe,nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),Ut="";function mr(Oe,Pe){return Ut||(Ut=ve(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(nt){return Me(Oe[nt])})),Me(Oe[Ut])?Oe[Ut](Pe):!1}function fr(Oe,Pe,nt){var yt=Oe;do{if(mr(yt,Pe))return!0;if(yt===nt)return!1;yt=yt.parentNode}while(yt);return!1}function Jr(Oe,Pe,nt){Oe&&(Oe.attachEvent?Oe.attachEvent("on"+Pe,nt):Oe.addEventListener?Oe.addEventListener(Pe,nt,!0):Oe["on"+Pe]=nt)}function Lr(Oe,Pe,nt){Oe&&(Oe.detachEvent?Oe.detachEvent("on"+Pe,nt):Oe.removeEventListener?Oe.removeEventListener(Pe,nt,!0):Oe["on"+Pe]=null)}function gr(Oe){var Pe=Oe.clientHeight,nt=Oe.ownerDocument.defaultView.getComputedStyle(Oe);return Pe+=Qe(nt.borderTopWidth),Pe+=Qe(nt.borderBottomWidth),Pe}function sn(Oe){var Pe=Oe.clientWidth,nt=Oe.ownerDocument.defaultView.getComputedStyle(Oe);return Pe+=Qe(nt.borderLeftWidth),Pe+=Qe(nt.borderRightWidth),Pe}function nn(Oe){var Pe=Oe.clientHeight,nt=Oe.ownerDocument.defaultView.getComputedStyle(Oe);return Pe-=Qe(nt.paddingTop),Pe-=Qe(nt.paddingBottom),Pe}function Dn(Oe){var Pe=Oe.clientWidth,nt=Oe.ownerDocument.defaultView.getComputedStyle(Oe);return Pe-=Qe(nt.paddingLeft),Pe-=Qe(nt.paddingRight),Pe}function ta(Oe,Pe){var nt=Pe===Pe.ownerDocument.body,yt=nt?{left:0,top:0}:Pe.getBoundingClientRect(),bt=Oe.clientX+Pe.scrollLeft-yt.left,gt=Oe.clientY+Pe.scrollTop-yt.top;return{x:bt,y:gt}}function en(Oe,Pe){var nt=ze(Oe,Pe,"px");return mt({},Be("transform",Ne),nt)}function kt(Oe,Pe){var nt=ze(Oe,Pe,"");return nt}function ze(Oe,Pe,nt){var yt=Oe.x,bt=Oe.y,gt="translate("+yt+nt+","+bt+nt+")";if(Pe){var rt=""+(typeof Pe.x=="string"?Pe.x:Pe.x+nt),ht=""+(typeof Pe.y=="string"?Pe.y:Pe.y+nt);gt="translate("+rt+", "+ht+")"+gt}return gt}function Xe(Oe,Pe){return Oe.targetTouches&&ve(Oe.targetTouches,function(nt){return Pe===nt.identifier})||Oe.changedTouches&&ve(Oe.changedTouches,function(nt){return Pe===nt.identifier})}function ft(Oe){if(Oe.targetTouches&&Oe.targetTouches[0])return Oe.targetTouches[0].identifier;if(Oe.changedTouches&&Oe.changedTouches[0])return Oe.changedTouches[0].identifier}function Q(Oe){if(Oe){var Pe=Oe.getElementById("react-draggable-style-el");Pe||(Pe=Oe.createElement("style"),Pe.type="text/css",Pe.id="react-draggable-style-el",Pe.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,Pe.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,Oe.getElementsByTagName("head")[0].appendChild(Pe)),Oe.body&&ye(Oe.body,"react-draggable-transparent-selection")}}function G(Oe){try{Oe&&Oe.body&&Ge(Oe.body,"react-draggable-transparent-selection"),Oe.selection?Oe.selection.empty():window.getSelection().removeAllRanges()}catch{}}function Y(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ft({touchAction:"none"},Oe)}function ye(Oe,Pe){Oe.classList?Oe.classList.add(Pe):Oe.className.match(new RegExp("(?:^|\\s)"+Pe+"(?!\\S)"))||(Oe.className+=" "+Pe)}function Ge(Oe,Pe){Oe.classList?Oe.classList.remove(Pe):Oe.className=Oe.className.replace(new RegExp("(?:^|\\s)"+Pe+"(?!\\S)","g"),"")}function Ze(Oe,Pe,nt){if(!Oe.props.bounds)return[Pe,nt];var yt=Oe.props.bounds;yt=typeof yt=="string"?yt:ra(yt);var bt=jo(Oe);if(typeof yt=="string"){var gt=bt.ownerDocument,rt=gt.defaultView,ht=void 0;if(yt==="parent"?ht=bt.parentNode:ht=gt.querySelector(yt),!(ht instanceof rt.HTMLElement))throw new Error('Bounds selector "'+yt+'" could not find an element.');var xe=rt.getComputedStyle(bt),Se=rt.getComputedStyle(ht);yt={left:-bt.offsetLeft+Qe(Se.paddingLeft)+Qe(xe.marginLeft),top:-bt.offsetTop+Qe(Se.paddingTop)+Qe(xe.marginTop),right:Dn(ht)-sn(bt)-bt.offsetLeft+Qe(Se.paddingRight)-Qe(xe.marginRight),bottom:nn(ht)-gr(bt)-bt.offsetTop+Qe(Se.paddingBottom)-Qe(xe.marginBottom)}}return je(yt.right)&&(Pe=Math.min(Pe,yt.right)),je(yt.bottom)&&(nt=Math.min(nt,yt.bottom)),je(yt.left)&&(Pe=Math.max(Pe,yt.left)),je(yt.top)&&(nt=Math.max(nt,yt.top)),[Pe,nt]}function ct(Oe,Pe,nt){var yt=Math.round(Pe/Oe[0])*Oe[0],bt=Math.round(nt/Oe[1])*Oe[1];return[yt,bt]}function or(Oe){return Oe.props.axis==="both"||Oe.props.axis==="x"}function dr(Oe){return Oe.props.axis==="both"||Oe.props.axis==="y"}function xr(Oe,Pe,nt){var yt=typeof Pe=="number"?Xe(Oe,Pe):null;if(typeof Pe=="number"&&!yt)return null;var bt=jo(nt),gt=nt.props.offsetParent||bt.offsetParent||bt.ownerDocument.body;return ta(yt||Oe,gt)}function br(Oe,Pe,nt){var yt=Oe.state,bt=!je(yt.lastX),gt=jo(Oe);return bt?{node:gt,deltaX:0,deltaY:0,lastX:Pe,lastY:nt,x:Pe,y:nt}:{node:gt,deltaX:Pe-yt.lastX,deltaY:nt-yt.lastY,lastX:yt.lastX,lastY:yt.lastY,x:Pe,y:nt}}function Nr(Oe,Pe){var nt=Oe.props.scale;return{node:Pe.node,x:Oe.state.x+Pe.deltaX/nt,y:Oe.state.y+Pe.deltaY/nt,deltaX:Pe.deltaX/nt,deltaY:Pe.deltaY/nt,lastX:Oe.state.x,lastY:Oe.state.y}}function ra(Oe){return{left:Oe.left,top:Oe.top,right:Oe.right,bottom:Oe.bottom}}function jo(Oe){var Pe=r.findDOMNode(Oe);if(!Pe)throw new Error("<DraggableCore>: Unmounted during event!");return Pe}function Yl(){}var us={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},cs=us.mouse,xt=(function(Oe){Dt(Pe,Oe);function Pe(){var nt,yt,bt,gt;Ue(this,Pe);for(var rt=arguments.length,ht=Array(rt),xe=0;xe<rt;xe++)ht[xe]=arguments[xe];return gt=(yt=(bt=$t(this,(nt=Pe.__proto__||Object.getPrototypeOf(Pe)).call.apply(nt,[this].concat(ht))),bt),bt.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},bt.handleDragStart=function(Se){if(bt.props.onMouseDown(Se),!bt.props.allowAnyClick&&typeof Se.button=="number"&&Se.button!==0)return!1;var Ve=r.findDOMNode(bt);if(!Ve||!Ve.ownerDocument||!Ve.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var vt=Ve.ownerDocument;if(!(bt.props.disabled||!(Se.target instanceof vt.defaultView.Node)||bt.props.handle&&!fr(Se.target,bt.props.handle,Ve)||bt.props.cancel&&fr(Se.target,bt.props.cancel,Ve))){var Et=ft(Se);bt.setState({touchIdentifier:Et});var ur=xr(Se,Et,bt);if(ur!=null){var hr=ur.x,Hr=ur.y,on=br(bt,hr,Hr);bt.props.onStart;var Pn=bt.props.onStart(Se,on);Pn!==!1&&(bt.props.enableUserSelectHack&&Q(vt),bt.setState({dragging:!0,lastX:hr,lastY:Hr}),Jr(vt,cs.move,bt.handleDrag),Jr(vt,cs.stop,bt.handleDragStop))}}},bt.handleDrag=function(Se){Se.type==="touchmove"&&Se.preventDefault();var Ve=xr(Se,bt.state.touchIdentifier,bt);if(Ve!=null){var vt=Ve.x,Et=Ve.y;if(Array.isArray(bt.props.grid)){var ur=vt-bt.state.lastX,hr=Et-bt.state.lastY,Hr=ct(bt.props.grid,ur,hr),on=cr(Hr,2);if(ur=on[0],hr=on[1],!ur&&!hr)return;vt=bt.state.lastX+ur,Et=bt.state.lastY+hr}var Pn=br(bt,vt,Et),Kr=bt.props.onDrag(Se,Pn);if(Kr===!1){try{bt.handleDragStop(new MouseEvent("mouseup"))}catch{var An=document.createEvent("MouseEvents");An.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),bt.handleDragStop(An)}return}bt.setState({lastX:vt,lastY:Et})}},bt.handleDragStop=function(Se){if(bt.state.dragging){var Ve=xr(Se,bt.state.touchIdentifier,bt);if(Ve!=null){var vt=Ve.x,Et=Ve.y,ur=br(bt,vt,Et),hr=r.findDOMNode(bt);hr&&bt.props.enableUserSelectHack&&G(hr.ownerDocument),bt.setState({dragging:!1,lastX:NaN,lastY:NaN}),bt.props.onStop(Se,ur),hr&&(Lr(hr.ownerDocument,cs.move,bt.handleDrag),Lr(hr.ownerDocument,cs.stop,bt.handleDragStop))}}},bt.onMouseDown=function(Se){return cs=us.mouse,bt.handleDragStart(Se)},bt.onMouseUp=function(Se){return cs=us.mouse,bt.handleDragStop(Se)},bt.onTouchStart=function(Se){return cs=us.touch,bt.handleDragStart(Se)},bt.onTouchEnd=function(Se){return cs=us.touch,bt.handleDragStop(Se)},yt),$t(bt,gt)}return it(Pe,[{key:"componentWillUnmount",value:function(){var yt=r.findDOMNode(this);if(yt){var bt=yt.ownerDocument;Lr(bt,us.mouse.move,this.handleDrag),Lr(bt,us.touch.move,this.handleDrag),Lr(bt,us.mouse.stop,this.handleDragStop),Lr(bt,us.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&G(bt)}}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{style:Y(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),Pe})(i.Component);xt.displayName="DraggableCore",xt.propTypes={allowAnyClick:Ee.bool,disabled:Ee.bool,enableUserSelectHack:Ee.bool,offsetParent:function(Pe,nt){if(Pe[nt]&&Pe[nt].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ee.arrayOf(Ee.number),scale:Ee.number,handle:Ee.string,cancel:Ee.string,onStart:Ee.func,onDrag:Ee.func,onStop:Ee.func,onMouseDown:Ee.func,className:tt,style:tt,transform:tt},xt.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var lt=(function(Oe){Dt(Pe,Oe);function Pe(nt){Ue(this,Pe);var yt=$t(this,(Pe.__proto__||Object.getPrototypeOf(Pe)).call(this,nt));return yt.onDragStart=function(bt,gt){var rt=yt.props.onStart(bt,Nr(yt,gt));if(rt===!1)return!1;yt.setState({dragging:!0,dragged:!0})},yt.onDrag=function(bt,gt){if(!yt.state.dragging)return!1;var rt=Nr(yt,gt),ht={x:rt.x,y:rt.y};if(yt.props.bounds){var xe=ht.x,Se=ht.y;ht.x+=yt.state.slackX,ht.y+=yt.state.slackY;var Ve=Ze(yt,ht.x,ht.y),vt=cr(Ve,2),Et=vt[0],ur=vt[1];ht.x=Et,ht.y=ur,ht.slackX=yt.state.slackX+(xe-ht.x),ht.slackY=yt.state.slackY+(Se-ht.y),rt.x=ht.x,rt.y=ht.y,rt.deltaX=ht.x-yt.state.x,rt.deltaY=ht.y-yt.state.y}var hr=yt.props.onDrag(bt,rt);if(hr===!1)return!1;yt.setState(ht)},yt.onDragStop=function(bt,gt){if(!yt.state.dragging)return!1;var rt=yt.props.onStop(bt,Nr(yt,gt));if(rt===!1)return!1;var ht={dragging:!1,slackX:0,slackY:0},xe=!!yt.props.position;if(xe){var Se=yt.props.position,Ve=Se.x,vt=Se.y;ht.x=Ve,ht.y=vt}yt.setState(ht)},yt.state={dragging:!1,dragged:!1,x:nt.position?nt.position.x:nt.defaultPosition.x,y:nt.position?nt.position.y:nt.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},nt.position&&!(nt.onDrag||nt.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),yt}return it(Pe,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&r.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(yt){yt.position&&(!this.props.position||yt.position.x!==this.props.position.x||yt.position.y!==this.props.position.y)&&this.setState({x:yt.position.x,y:yt.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var yt,bt={},gt=null,rt=!!this.props.position,ht=!rt||this.state.dragging,xe=this.props.position||this.props.defaultPosition,Se={x:or(this)&&ht?this.state.x:xe.x,y:dr(this)&&ht?this.state.y:xe.y};this.state.isElementSVG?gt=kt(Se,this.props.positionOffset):bt=en(Se,this.props.positionOffset);var Ve=this.props,vt=Ve.defaultClassName,Et=Ve.defaultClassNameDragging,ur=Ve.defaultClassNameDragged,hr=i.Children.only(this.props.children),Hr=ne(hr.props.className||"",vt,(yt={},mt(yt,Et,this.state.dragging),mt(yt,ur,this.state.dragged),yt));return i.createElement(xt,Ft({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(hr,{className:Hr,style:Ft({},hr.props.style,bt),transform:gt}))}}]),Pe})(i.Component);return lt.displayName="Draggable",lt.propTypes=Ft({},xt.propTypes,{axis:Ee.oneOf(["both","x","y","none"]),bounds:Ee.oneOfType([Ee.shape({left:Ee.number,right:Ee.number,top:Ee.number,bottom:Ee.number}),Ee.string,Ee.oneOf([!1])]),defaultClassName:Ee.string,defaultClassNameDragging:Ee.string,defaultClassNameDragged:Ee.string,defaultPosition:Ee.shape({x:Ee.number,y:Ee.number}),positionOffset:Ee.shape({x:Ee.oneOfType([Ee.number,Ee.string]),y:Ee.oneOfType([Ee.number,Ee.string])}),position:Ee.shape({x:Ee.number,y:Ee.number}),className:tt,style:tt,transform:tt}),lt.defaultProps=Ft({},xt.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),lt.default=lt,lt.DraggableCore=xt,lt})})(O9);var ix={exports:{}},BT={},ax={exports:{}},k9={};function P9(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=P9(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function Kn(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=P9(e))&&(i&&(i+=" "),i+=t);return i}const jde=_t(Object.freeze(Object.defineProperty({__proto__:null,clsx:Kn,default:Kn},Symbol.toStringTag,{value:"Module"})));var ya={},sh={};Object.defineProperty(sh,"__esModule",{value:!0}),sh.dontSetMe=qde,sh.findInArray=Vde,sh.int=Xde,sh.isFunction=Wde,sh.isNum=Yde;function Vde(e,t){for(var r=0,i=e.length;r<i;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function Wde(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Yde(e){return typeof e=="number"&&!isNaN(e)}function Xde(e){return parseInt(e,10)}function qde(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var ig={};Object.defineProperty(ig,"__esModule",{value:!0}),ig.browserPrefixToKey=N9,ig.browserPrefixToStyle=Kde,ig.default=void 0,ig.getPrefix=R9;var MN=["Moz","Webkit","O","ms"];function R9(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var i=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!i||r in i)return"";for(var n=0;n<MN.length;n++)if(N9(r,MN[n])in i)return MN[n];return""}function N9(e,t){return t?"".concat(t).concat(Zde(e)):e}function Kde(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Zde(e){for(var t="",r=!0,i=0;i<e.length;i++)r?(t+=e[i].toUpperCase(),r=!1):e[i]==="-"?r=!0:t+=e[i];return t}var Qde=R9();ig.default=Qde;function LN(e){"@babel/helpers - typeof";return LN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LN(e)}Object.defineProperty(ya,"__esModule",{value:!0}),ya.addClassName=$9,ya.addEvent=tpe,ya.addUserSelectStyles=fpe,ya.createCSSTransform=lpe,ya.createSVGTransform=upe,ya.getTouch=cpe,ya.getTouchIdentifier=hpe,ya.getTranslation=BN,ya.innerHeight=ape,ya.innerWidth=ope,ya.matchesSelector=H9,ya.matchesSelectorAndParentsTo=epe,ya.offsetXYFromParent=spe,ya.outerHeight=npe,ya.outerWidth=ipe,ya.removeClassName=G9,ya.removeEvent=rpe,ya.removeUserSelectStyles=dpe;var Rl=sh,M9=Jde(ig);function L9(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(L9=function(n){return n?r:t})(e)}function Jde(e,t){if(e&&e.__esModule)return e;if(e===null||LN(e)!=="object"&&typeof e!="function")return{default:e};var r=L9(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=n?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}function B9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function F9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(r),!0).forEach(function(i){U9(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function U9(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ox="";function H9(e,t){return ox||(ox=(0,Rl.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Rl.isFunction)(e[r])})),(0,Rl.isFunction)(e[ox])?e[ox](t):!1}function epe(e,t,r){var i=e;do{if(H9(i,t))return!0;if(i===r)return!1;i=i.parentNode}while(i);return!1}function tpe(e,t,r,i){if(e){var n=F9({capture:!0},i);e.addEventListener?e.addEventListener(t,r,n):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}}function rpe(e,t,r,i){if(e){var n=F9({capture:!0},i);e.removeEventListener?e.removeEventListener(t,r,n):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}}function npe(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Rl.int)(r.borderTopWidth),t+=(0,Rl.int)(r.borderBottomWidth),t}function ipe(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Rl.int)(r.borderLeftWidth),t+=(0,Rl.int)(r.borderRightWidth),t}function ape(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Rl.int)(r.paddingTop),t-=(0,Rl.int)(r.paddingBottom),t}function ope(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Rl.int)(r.paddingLeft),t-=(0,Rl.int)(r.paddingRight),t}function spe(e,t,r){var i=t===t.ownerDocument.body,n=i?{left:0,top:0}:t.getBoundingClientRect(),s=(e.clientX+t.scrollLeft-n.left)/r,c=(e.clientY+t.scrollTop-n.top)/r;return{x:s,y:c}}function lpe(e,t){var r=BN(e,t,"px");return U9({},(0,M9.browserPrefixToKey)("transform",M9.default),r)}function upe(e,t){var r=BN(e,t,"");return r}function BN(e,t,r){var i=e.x,n=e.y,s="translate(".concat(i).concat(r,",").concat(n).concat(r,")");if(t){var c="".concat(typeof t.x=="string"?t.x:t.x+r),h="".concat(typeof t.y=="string"?t.y:t.y+r);s="translate(".concat(c,", ").concat(h,")")+s}return s}function cpe(e,t){return e.targetTouches&&(0,Rl.findInArray)(e.targetTouches,function(r){return t===r.identifier})||e.changedTouches&&(0,Rl.findInArray)(e.changedTouches,function(r){return t===r.identifier})}function hpe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function fpe(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&$9(e.body,"react-draggable-transparent-selection")}}function dpe(e){if(e)try{if(e.body&&G9(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function $9(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function G9(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var lh={};Object.defineProperty(lh,"__esModule",{value:!0}),lh.canDragX=gpe,lh.canDragY=vpe,lh.createCoreData=_pe,lh.createDraggableData=Epe,lh.getBoundPosition=ppe,lh.getControlPosition=ype,lh.snapToGrid=mpe;var Nl=sh,_y=ya;function ppe(e,t,r){if(!e.props.bounds)return[t,r];var i=e.props.bounds;i=typeof i=="string"?i:Tpe(i);var n=FN(e);if(typeof i=="string"){var s=n.ownerDocument,c=s.defaultView,h;if(i==="parent"?h=n.parentNode:h=s.querySelector(i),!(h instanceof c.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var p=h,m=c.getComputedStyle(n),d=c.getComputedStyle(p);i={left:-n.offsetLeft+(0,Nl.int)(d.paddingLeft)+(0,Nl.int)(m.marginLeft),top:-n.offsetTop+(0,Nl.int)(d.paddingTop)+(0,Nl.int)(m.marginTop),right:(0,_y.innerWidth)(p)-(0,_y.outerWidth)(n)-n.offsetLeft+(0,Nl.int)(d.paddingRight)-(0,Nl.int)(m.marginRight),bottom:(0,_y.innerHeight)(p)-(0,_y.outerHeight)(n)-n.offsetTop+(0,Nl.int)(d.paddingBottom)-(0,Nl.int)(m.marginBottom)}}return(0,Nl.isNum)(i.right)&&(t=Math.min(t,i.right)),(0,Nl.isNum)(i.bottom)&&(r=Math.min(r,i.bottom)),(0,Nl.isNum)(i.left)&&(t=Math.max(t,i.left)),(0,Nl.isNum)(i.top)&&(r=Math.max(r,i.top)),[t,r]}function mpe(e,t,r){var i=Math.round(t/e[0])*e[0],n=Math.round(r/e[1])*e[1];return[i,n]}function gpe(e){return e.props.axis==="both"||e.props.axis==="x"}function vpe(e){return e.props.axis==="both"||e.props.axis==="y"}function ype(e,t,r){var i=typeof t=="number"?(0,_y.getTouch)(e,t):null;if(typeof t=="number"&&!i)return null;var n=FN(r),s=r.props.offsetParent||n.offsetParent||n.ownerDocument.body;return(0,_y.offsetXYFromParent)(i||e,s,r.props.scale)}function _pe(e,t,r){var i=e.state,n=!(0,Nl.isNum)(i.lastX),s=FN(e);return n?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:s,deltaX:t-i.lastX,deltaY:r-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:r}}function Epe(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function Tpe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function FN(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var sx={},lx={};Object.defineProperty(lx,"__esModule",{value:!0}),lx.default=bpe;function bpe(){}function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}Object.defineProperty(sx,"__esModule",{value:!0}),sx.default=void 0;var UN=Cpe(M.default),Ml=$N(z.exports),Spe=$N(ke.default),Jo=ya,Jd=lh,HN=sh,FT=$N(lx);function $N(e){return e&&e.__esModule?e:{default:e}}function z9(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(z9=function(n){return n?r:t})(e)}function Cpe(e,t){if(e&&e.__esModule)return e;if(e===null||ux(e)!=="object"&&typeof e!="function")return{default:e};var r=z9(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=n?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}function j9(e,t){return Ipe(e)||xpe(e,t)||wpe(e,t)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wpe(e,t){if(e){if(typeof e=="string")return V9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V9(e,t)}}function V9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function xpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],n=!0,s=!1,c,h;try{for(r=r.call(e);!(n=(c=r.next()).done)&&(i.push(c.value),!(t&&i.length===t));n=!0);}catch(p){s=!0,h=p}finally{try{!n&&r.return!=null&&r.return()}finally{if(s)throw h}}return i}}function Ipe(e){if(Array.isArray(e))return e}function Dpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ope(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kpe(e,t,r){return t&&Ope(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ppe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GN(e,t)}function GN(e,t){return GN=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},GN(e,t)}function Rpe(e){var t=Mpe();return function(){var i=cx(e),n;if(t){var s=cx(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Npe(this,n)}}function Npe(e,t){if(t&&(ux(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return es(e)}function es(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(e)}function fu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rc={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ep=rc.mouse,hx=(function(e){Ppe(r,e);var t=Rpe(r);function r(){var i;Dpe(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return i=t.call.apply(t,[this].concat(s)),fu(es(i),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),fu(es(i),"mounted",!1),fu(es(i),"handleDragStart",function(h){if(i.props.onMouseDown(h),!i.props.allowAnyClick&&typeof h.button=="number"&&h.button!==0)return!1;var p=i.findDOMNode();if(!p||!p.ownerDocument||!p.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var m=p.ownerDocument;if(!(i.props.disabled||!(h.target instanceof m.defaultView.Node)||i.props.handle&&!(0,Jo.matchesSelectorAndParentsTo)(h.target,i.props.handle,p)||i.props.cancel&&(0,Jo.matchesSelectorAndParentsTo)(h.target,i.props.cancel,p))){h.type==="touchstart"&&h.preventDefault();var d=(0,Jo.getTouchIdentifier)(h);i.setState({touchIdentifier:d});var E=(0,Jd.getControlPosition)(h,d,es(i));if(E!=null){var _=E.x,T=E.y,C=(0,Jd.createCoreData)(es(i),_,T);(0,FT.default)("DraggableCore: handleDragStart: %j",C),(0,FT.default)("calling",i.props.onStart);var A=i.props.onStart(h,C);A===!1||i.mounted===!1||(i.props.enableUserSelectHack&&(0,Jo.addUserSelectStyles)(m),i.setState({dragging:!0,lastX:_,lastY:T}),(0,Jo.addEvent)(m,ep.move,i.handleDrag),(0,Jo.addEvent)(m,ep.stop,i.handleDragStop))}}}),fu(es(i),"handleDrag",function(h){var p=(0,Jd.getControlPosition)(h,i.state.touchIdentifier,es(i));if(p!=null){var m=p.x,d=p.y;if(Array.isArray(i.props.grid)){var E=m-i.state.lastX,_=d-i.state.lastY,T=(0,Jd.snapToGrid)(i.props.grid,E,_),C=j9(T,2);if(E=C[0],_=C[1],!E&&!_)return;m=i.state.lastX+E,d=i.state.lastY+_}var A=(0,Jd.createCoreData)(es(i),m,d);(0,FT.default)("DraggableCore: handleDrag: %j",A);var D=i.props.onDrag(h,A);if(D===!1||i.mounted===!1){try{i.handleDragStop(new MouseEvent("mouseup"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(O)}return}i.setState({lastX:m,lastY:d})}}),fu(es(i),"handleDragStop",function(h){if(i.state.dragging){var p=(0,Jd.getControlPosition)(h,i.state.touchIdentifier,es(i));if(p!=null){var m=p.x,d=p.y;if(Array.isArray(i.props.grid)){var E=m-i.state.lastX||0,_=d-i.state.lastY||0,T=(0,Jd.snapToGrid)(i.props.grid,E,_),C=j9(T,2);E=C[0],_=C[1],m=i.state.lastX+E,d=i.state.lastY+_}var A=(0,Jd.createCoreData)(es(i),m,d),D=i.props.onStop(h,A);if(D===!1||i.mounted===!1)return!1;var O=i.findDOMNode();O&&i.props.enableUserSelectHack&&(0,Jo.removeUserSelectStyles)(O.ownerDocument),(0,FT.default)("DraggableCore: handleDragStop: %j",A),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),O&&((0,FT.default)("DraggableCore: Removing handlers"),(0,Jo.removeEvent)(O.ownerDocument,ep.move,i.handleDrag),(0,Jo.removeEvent)(O.ownerDocument,ep.stop,i.handleDragStop))}}}),fu(es(i),"onMouseDown",function(h){return ep=rc.mouse,i.handleDragStart(h)}),fu(es(i),"onMouseUp",function(h){return ep=rc.mouse,i.handleDragStop(h)}),fu(es(i),"onTouchStart",function(h){return ep=rc.touch,i.handleDragStart(h)}),fu(es(i),"onTouchEnd",function(h){return ep=rc.touch,i.handleDragStop(h)}),i}return kpe(r,[{key:"componentDidMount",value:function(){this.mounted=!0;var n=this.findDOMNode();n&&(0,Jo.addEvent)(n,rc.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.findDOMNode();if(n){var s=n.ownerDocument;(0,Jo.removeEvent)(s,rc.mouse.move,this.handleDrag),(0,Jo.removeEvent)(s,rc.touch.move,this.handleDrag),(0,Jo.removeEvent)(s,rc.mouse.stop,this.handleDragStop),(0,Jo.removeEvent)(s,rc.touch.stop,this.handleDragStop),(0,Jo.removeEvent)(n,rc.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Jo.removeUserSelectStyles)(s)}}},{key:"findDOMNode",value:function(){var n,s,c;return(n=this.props)!==null&&n!==void 0&&n.nodeRef?(s=this.props)===null||s===void 0||(c=s.nodeRef)===null||c===void 0?void 0:c.current:Spe.default.findDOMNode(this)}},{key:"render",value:function(){return UN.cloneElement(UN.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r})(UN.Component);sx.default=hx,fu(hx,"displayName","DraggableCore"),fu(hx,"propTypes",{allowAnyClick:Ml.default.bool,disabled:Ml.default.bool,enableUserSelectHack:Ml.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ml.default.arrayOf(Ml.default.number),handle:Ml.default.string,cancel:Ml.default.string,nodeRef:Ml.default.object,onStart:Ml.default.func,onDrag:Ml.default.func,onStop:Ml.default.func,onMouseDown:Ml.default.func,scale:Ml.default.number,className:HN.dontSetMe,style:HN.dontSetMe,transform:HN.dontSetMe}),fu(hx,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),(function(e){function t(Be){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},t(Be)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),e.default=void 0;var r=C(M.default),i=_(z.exports),n=_(ke.default),s=_(jde),c=ya,h=lh,p=sh,m=_(sx),d=_(lx),E=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function _(Be){return Be&&Be.__esModule?Be:{default:Be}}function T(Be){if(typeof WeakMap!="function")return null;var Ae=new WeakMap,Ne=new WeakMap;return(T=function(it){return it?Ne:Ae})(Be)}function C(Be,Ae){if(Be&&Be.__esModule)return Be;if(Be===null||t(Be)!=="object"&&typeof Be!="function")return{default:Be};var Ne=T(Ae);if(Ne&&Ne.has(Be))return Ne.get(Be);var Ue={},it=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mt in Be)if(mt!=="default"&&Object.prototype.hasOwnProperty.call(Be,mt)){var Ft=it?Object.getOwnPropertyDescriptor(Be,mt):null;Ft&&(Ft.get||Ft.set)?Object.defineProperty(Ue,mt,Ft):Ue[mt]=Be[mt]}return Ue.default=Be,Ne&&Ne.set(Be,Ue),Ue}function A(){return A=Object.assign||function(Be){for(var Ae=1;Ae<arguments.length;Ae++){var Ne=arguments[Ae];for(var Ue in Ne)Object.prototype.hasOwnProperty.call(Ne,Ue)&&(Be[Ue]=Ne[Ue])}return Be},A.apply(this,arguments)}function D(Be,Ae){if(Be==null)return{};var Ne=O(Be,Ae),Ue,it;if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Be);for(it=0;it<mt.length;it++)Ue=mt[it],!(Ae.indexOf(Ue)>=0)&&Object.prototype.propertyIsEnumerable.call(Be,Ue)&&(Ne[Ue]=Be[Ue])}return Ne}function O(Be,Ae){if(Be==null)return{};var Ne={},Ue=Object.keys(Be),it,mt;for(mt=0;mt<Ue.length;mt++)it=Ue[mt],!(Ae.indexOf(it)>=0)&&(Ne[it]=Be[it]);return Ne}function B(Be,Ae){var Ne=Object.keys(Be);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Be);Ae&&(Ue=Ue.filter(function(it){return Object.getOwnPropertyDescriptor(Be,it).enumerable})),Ne.push.apply(Ne,Ue)}return Ne}function P(Be){for(var Ae=1;Ae<arguments.length;Ae++){var Ne=arguments[Ae]!=null?arguments[Ae]:{};Ae%2?B(Object(Ne),!0).forEach(function(Ue){st(Be,Ue,Ne[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Be,Object.getOwnPropertyDescriptors(Ne)):B(Object(Ne)).forEach(function(Ue){Object.defineProperty(Be,Ue,Object.getOwnPropertyDescriptor(Ne,Ue))})}return Be}function R(Be,Ae){return ae(Be)||K(Be,Ae)||W(Be,Ae)||$()}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(Be,Ae){if(Be){if(typeof Be=="string")return Z(Be,Ae);var Ne=Object.prototype.toString.call(Be).slice(8,-1);if(Ne==="Object"&&Be.constructor&&(Ne=Be.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(Be);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return Z(Be,Ae)}}function Z(Be,Ae){(Ae==null||Ae>Be.length)&&(Ae=Be.length);for(var Ne=0,Ue=new Array(Ae);Ne<Ae;Ne++)Ue[Ne]=Be[Ne];return Ue}function K(Be,Ae){var Ne=Be==null?null:typeof Symbol<"u"&&Be[Symbol.iterator]||Be["@@iterator"];if(Ne!=null){var Ue=[],it=!0,mt=!1,Ft,Dt;try{for(Ne=Ne.call(Be);!(it=(Ft=Ne.next()).done)&&(Ue.push(Ft.value),!(Ae&&Ue.length===Ae));it=!0);}catch($t){mt=!0,Dt=$t}finally{try{!it&&Ne.return!=null&&Ne.return()}finally{if(mt)throw Dt}}return Ue}}function ae(Be){if(Array.isArray(Be))return Be}function le(Be,Ae){if(!(Be instanceof Ae))throw new TypeError("Cannot call a class as a function")}function J(Be,Ae){for(var Ne=0;Ne<Ae.length;Ne++){var Ue=Ae[Ne];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Be,Ue.key,Ue)}}function ge(Be,Ae,Ne){return Ae&&J(Be.prototype,Ae),Ne&&J(Be,Ne),Object.defineProperty(Be,"prototype",{writable:!1}),Be}function Ee(Be,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),Ae&&ne(Be,Ae)}function ne(Be,Ae){return ne=Object.setPrototypeOf||function(Ue,it){return Ue.__proto__=it,Ue},ne(Be,Ae)}function ve(Be){var Ae=Qe();return function(){var Ue=tt(Be),it;if(Ae){var mt=tt(this).constructor;it=Reflect.construct(Ue,arguments,mt)}else it=Ue.apply(this,arguments);return Me(this,it)}}function Me(Be,Ae){if(Ae&&(t(Ae)==="object"||typeof Ae=="function"))return Ae;if(Ae!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return je(Be)}function je(Be){if(Be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Be}function Qe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tt(Be){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)},tt(Be)}function st(Be,Ae,Ne){return Ae in Be?Object.defineProperty(Be,Ae,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Be[Ae]=Ne,Be}var Ct=(function(Be){Ee(Ne,Be);var Ae=ve(Ne);function Ne(Ue){var it;return le(this,Ne),it=Ae.call(this,Ue),st(je(it),"onDragStart",function(mt,Ft){(0,d.default)("Draggable: onDragStart: %j",Ft);var Dt=it.props.onStart(mt,(0,h.createDraggableData)(je(it),Ft));if(Dt===!1)return!1;it.setState({dragging:!0,dragged:!0})}),st(je(it),"onDrag",function(mt,Ft){if(!it.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",Ft);var Dt=(0,h.createDraggableData)(je(it),Ft),$t={x:Dt.x,y:Dt.y};if(it.props.bounds){var cr=$t.x,Ut=$t.y;$t.x+=it.state.slackX,$t.y+=it.state.slackY;var mr=(0,h.getBoundPosition)(je(it),$t.x,$t.y),fr=R(mr,2),Jr=fr[0],Lr=fr[1];$t.x=Jr,$t.y=Lr,$t.slackX=it.state.slackX+(cr-$t.x),$t.slackY=it.state.slackY+(Ut-$t.y),Dt.x=$t.x,Dt.y=$t.y,Dt.deltaX=$t.x-it.state.x,Dt.deltaY=$t.y-it.state.y}var gr=it.props.onDrag(mt,Dt);if(gr===!1)return!1;it.setState($t)}),st(je(it),"onDragStop",function(mt,Ft){if(!it.state.dragging)return!1;var Dt=it.props.onStop(mt,(0,h.createDraggableData)(je(it),Ft));if(Dt===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",Ft);var $t={dragging:!1,slackX:0,slackY:0},cr=!!it.props.position;if(cr){var Ut=it.props.position,mr=Ut.x,fr=Ut.y;$t.x=mr,$t.y=fr}it.setState($t)}),it.state={dragging:!1,dragged:!1,x:Ue.position?Ue.position.x:Ue.defaultPosition.x,y:Ue.position?Ue.position.y:Ue.defaultPosition.y,prevPropsPosition:P({},Ue.position),slackX:0,slackY:0,isElementSVG:!1},Ue.position&&!(Ue.onDrag||Ue.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),it}return ge(Ne,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var it,mt,Ft;return(it=(mt=this.props)===null||mt===void 0||(Ft=mt.nodeRef)===null||Ft===void 0?void 0:Ft.current)!==null&&it!==void 0?it:n.default.findDOMNode(this)}},{key:"render",value:function(){var it,mt=this.props;mt.axis,mt.bounds;var Ft=mt.children,Dt=mt.defaultPosition,$t=mt.defaultClassName,cr=mt.defaultClassNameDragging,Ut=mt.defaultClassNameDragged,mr=mt.position,fr=mt.positionOffset;mt.scale;var Jr=D(mt,E),Lr={},gr=null,sn=!!mr,nn=!sn||this.state.dragging,Dn=mr||Dt,ta={x:(0,h.canDragX)(this)&&nn?this.state.x:Dn.x,y:(0,h.canDragY)(this)&&nn?this.state.y:Dn.y};this.state.isElementSVG?gr=(0,c.createSVGTransform)(ta,fr):Lr=(0,c.createCSSTransform)(ta,fr);var en=(0,s.default)(Ft.props.className||"",$t,(it={},st(it,cr,this.state.dragging),st(it,Ut,this.state.dragged),it));return r.createElement(m.default,A({},Jr,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(Ft),{className:en,style:P(P({},Ft.props.style),Lr),transform:gr}))}}],[{key:"getDerivedStateFromProps",value:function(it,mt){var Ft=it.position,Dt=mt.prevPropsPosition;return Ft&&(!Dt||Ft.x!==Dt.x||Ft.y!==Dt.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:Ft,prevPropsPosition:Dt}),{x:Ft.x,y:Ft.y,prevPropsPosition:P({},Ft)}):null}}]),Ne})(r.Component);e.default=Ct,st(Ct,"displayName","Draggable"),st(Ct,"propTypes",P(P({},m.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe})),st(Ct,"defaultProps",P(P({},m.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(k9);var W9=k9,Y9=W9.default,Lpe=W9.DraggableCore;ax.exports=Y9,ax.exports.default=Y9,ax.exports.DraggableCore=Lpe;var zN={};zN.__esModule=!0,zN.cloneElement=Hpe;var Bpe=Fpe(M.default);function Fpe(e){return e&&e.__esModule?e:{default:e}}function X9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function q9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X9(Object(r),!0).forEach(function(i){Upe(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X9(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Upe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hpe(e,t){return t.style&&e.props.style&&(t.style=q9(q9({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),Bpe.default.cloneElement(e,t)}var UT={};UT.__esModule=!0,UT.resizableProps=void 0;var xn=$pe(z.exports);function $pe(e){return e&&e.__esModule?e:{default:e}}var Gpe={axis:xn.default.oneOf(["both","x","y","none"]),className:xn.default.string,children:xn.default.element.isRequired,draggableOpts:xn.default.shape({allowAnyClick:xn.default.bool,cancel:xn.default.string,children:xn.default.node,disabled:xn.default.bool,enableUserSelectHack:xn.default.bool,offsetParent:xn.default.node,grid:xn.default.arrayOf(xn.default.number),handle:xn.default.string,nodeRef:xn.default.object,onStart:xn.default.func,onDrag:xn.default.func,onStop:xn.default.func,onMouseDown:xn.default.func,scale:xn.default.number}),height:xn.default.number.isRequired,handle:xn.default.oneOfType([xn.default.node,xn.default.func]),handleSize:xn.default.arrayOf(xn.default.number),lockAspectRatio:xn.default.bool,maxConstraints:xn.default.arrayOf(xn.default.number),minConstraints:xn.default.arrayOf(xn.default.number),onResizeStop:xn.default.func,onResizeStart:xn.default.func,onResize:xn.default.func,resizeHandles:xn.default.arrayOf(xn.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:xn.default.number,width:xn.default.number.isRequired};UT.resizableProps=Gpe,BT.__esModule=!0,BT.default=void 0;var jN=Wpe(M.default),zpe=ax.exports,jpe=zN,Vpe=UT;function Wpe(e){return e&&e.__esModule?e:{default:e}}function VN(){return VN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},VN.apply(this,arguments)}function K9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Z9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K9(Object(r),!0).forEach(function(i){Ey(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Ype(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,s;for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function WN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xpe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ey(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YN=(function(e){Xpe(t,e);function t(){for(var i,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return i=e.call.apply(e,[this].concat(s))||this,Ey(WN(i),"state",void 0),Ey(WN(i),"lastHandleRect",null),Ey(WN(i),"slack",null),i}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.lockAspectRatio=function(n,s,c){return s=n/c,n=s*c,[n,s]},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(n,s){var c=[this.props.minConstraints,this.props.maxConstraints],h=c[0],p=c[1];if(!h&&!p)return[n,s];if(this.props.lockAspectRatio){var m=s===this.props.height;if(m){var d=this.props.width/this.props.height;s=n/d,n=s*d}else{var E=this.props.height/this.props.width;n=s/E,s=n*E}}var _=n,T=s,C=this.slack||[0,0],A=C[0],D=C[1];return n+=A,s+=D,h&&(n=Math.max(h[0],n),s=Math.max(h[1],s)),p&&(n=Math.min(p[0],n),s=Math.min(p[1],s)),this.slack=[A+(_-n),D+(T-s)],[n,s]},r.resizeHandler=function(n,s){var c=this;return function(h,p){var m=p.node,d=p.deltaX,E=p.deltaY;n==="onResizeStart"&&c.resetData();var _=(c.props.axis==="both"||c.props.axis==="x")&&s!=="n"&&s!=="s",T=(c.props.axis==="both"||c.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!_&&!T)){var C=s[0],A=s[s.length-1],D=m.getBoundingClientRect();if(c.lastHandleRect!=null){if(A==="w"){var O=D.left-c.lastHandleRect.left;d+=O}if(C==="n"){var B=D.top-c.lastHandleRect.top;E+=B}}c.lastHandleRect=D,A==="w"&&(d=-d),C==="n"&&(E=-E);var P=c.props.width+(_?d/c.props.transformScale:0),R=c.props.height+(T?E/c.props.transformScale:0),$=c.runConstraints(P,R);P=$[0],R=$[1];var W=P!==c.props.width||R!==c.props.height,Z=typeof c.props[n]=="function"?c.props[n]:null,K=n==="onResize"&&!W;Z&&!K&&(typeof h.persist=="function"&&h.persist(),Z(h,{node:m,size:{width:P,height:R},handle:s})),n==="onResizeStop"&&c.resetData()}}},r.renderResizeHandle=function(n){var s=this.props.handle;return s?typeof s=="function"?s(n):s:jN.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+n})},r.render=function(){var n=this,s=this.props,c=s.children,h=s.className,p=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var m=s.resizeHandles;s.transformScale;var d=Ype(s,["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"]);return(0,jpe.cloneElement)(c,Z9(Z9({},d),{},{className:(h?h+" ":"")+"react-resizable",children:[].concat(c.props.children,m.map(function(E){return jN.default.createElement(zpe.DraggableCore,VN({},p,{key:"resizableHandle-"+E,onStop:n.resizeHandler("onResizeStop",E),onStart:n.resizeHandler("onResizeStart",E),onDrag:n.resizeHandler("onResize",E)}),n.renderResizeHandle(E))}))}))},t})(jN.default.Component);BT.default=YN,Ey(YN,"propTypes",Vpe.resizableProps),Ey(YN,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1});var fx={};fx.__esModule=!0,fx.default=void 0;var XN=Qpe(M.default),qpe=Q9(z.exports),Kpe=Q9(BT),Zpe=UT;function Q9(e){return e&&e.__esModule?e:{default:e}}function J9(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return J9=function(){return e},e}function Qpe(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=J9();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=i?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(r,n,s):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function qN(){return qN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},qN.apply(this,arguments)}function eG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eG(Object(r),!0).forEach(function(i){px(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eG(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Jpe(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,s;for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function tG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eme(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function px(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rG=(function(e){eme(t,e);function t(){for(var i,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return i=e.call.apply(e,[this].concat(s))||this,px(tG(i),"state",{width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height}),px(tG(i),"onResize",function(h,p){var m=p.size;i.props.onResize?(h.persist&&h.persist(),i.setState(m,function(){return i.props.onResize&&i.props.onResize(h,p)})):i.setState(m)}),i}t.getDerivedStateFromProps=function(n,s){return s.propsWidth!==n.width||s.propsHeight!==n.height?{width:n.width,height:n.height,propsWidth:n.width,propsHeight:n.height}:null};var r=t.prototype;return r.render=function(){var n=this.props,s=n.handle,c=n.handleSize;n.onResize;var h=n.onResizeStart,p=n.onResizeStop,m=n.draggableOpts,d=n.minConstraints,E=n.maxConstraints,_=n.lockAspectRatio,T=n.axis;n.width,n.height;var C=n.resizeHandles,A=n.style,D=n.transformScale,O=Jpe(n,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"]);return XN.createElement(Kpe.default,{axis:T,draggableOpts:m,handle:s,handleSize:c,height:this.state.height,lockAspectRatio:_,maxConstraints:E,minConstraints:d,onResizeStart:h,onResize:this.onResize,onResizeStop:p,resizeHandles:C,transformScale:D,width:this.state.width},XN.createElement("div",qN({},O,{style:dx(dx({},A),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t})(XN.Component);fx.default=rG,px(rG,"propTypes",dx(dx({},Zpe.resizableProps),{},{children:qpe.default.element})),ix.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},ix.exports.Resizable=BT.default,ix.exports.ResizableBox=fx.default,NN.__esModule=!0;var tme=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},rme=M.default,HT=KN(rme),nme=z.exports,$i=KN(nme),ime=O9.exports,ame=ix.exports,mx=Qn,ome=Qd.exports,sme=KN(ome);function KN(e){return e&&e.__esModule?e:{default:e}}function lme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nG(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ume(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ZN=(function(e){ume(t,e);function t(){var r,i,n;lme(this,t);for(var s=arguments.length,c=Array(s),h=0;h<s;h++)c[h]=arguments[h];return n=(r=(i=nG(this,e.call.apply(e,[this].concat(c))),i),i.state={resizing:null,dragging:null,className:""},r),nG(i,n)}return t.prototype.calcColWidth=function(){var i=this.props,n=i.margin,s=i.containerPadding,c=i.containerWidth,h=i.cols;return(c-n[0]*(h-1)-s[0]*2)/h},t.prototype.calcPosition=function(i,n,s,c,h){var p=this.props,m=p.margin,d=p.containerPadding,E=p.rowHeight,_=this.calcColWidth(),T={left:Math.round((_+m[0])*i+d[0]),top:Math.round((E+m[1])*n+d[1]),width:s===1/0?s:Math.round(_*s+Math.max(0,s-1)*m[0]),height:c===1/0?c:Math.round(E*c+Math.max(0,c-1)*m[1])};return h&&h.resizing&&(T.width=Math.round(h.resizing.width),T.height=Math.round(h.resizing.height)),h&&h.dragging&&(T.top=Math.round(h.dragging.top),T.left=Math.round(h.dragging.left)),T},t.prototype.calcXY=function(i,n){var s=this.props,c=s.margin,h=s.cols,p=s.rowHeight,m=s.w,d=s.h,E=s.maxRows,_=this.calcColWidth(),T=Math.round((n-c[0])/(_+c[0])),C=Math.round((i-c[1])/(p+c[1]));return T=Math.max(Math.min(T,h-m),0),C=Math.max(Math.min(C,E-d),0),{x:T,y:C}},t.prototype.calcWH=function(i){var n=i.height,s=i.width,c=this.props,h=c.margin,p=c.maxRows,m=c.cols,d=c.rowHeight,E=c.x,_=c.y,T=this.calcColWidth(),C=Math.round((s+h[0])/(T+h[0])),A=Math.round((n+h[1])/(d+h[1]));return C=Math.max(Math.min(C,m-E),0),A=Math.max(Math.min(A,p-_),0),{w:C,h:A}},t.prototype.createStyle=function(i){var n=this.props,s=n.usePercentages,c=n.containerWidth,h=n.useCSSTransforms,p=void 0;return h?p=(0,mx.setTransform)(i):(p=(0,mx.setTopLeft)(i),s&&(p.left=(0,mx.perc)(i.left/c),p.width=(0,mx.perc)(i.width/c))),p},t.prototype.mixinDraggable=function(i){return HT.default.createElement(ime.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},i)},t.prototype.mixinResizable=function(i,n){var s=this.props,c=s.cols,h=s.x,p=s.minW,m=s.minH,d=s.maxW,E=s.maxH,_=this.calcPosition(0,0,c-h,0).width,T=this.calcPosition(0,0,p,m),C=this.calcPosition(0,0,d,E),A=[T.width,T.height],D=[Math.min(C.width,_),Math.min(C.height,1/0)];return HT.default.createElement(ame.Resizable,{width:n.width,height:n.height,minConstraints:A,maxConstraints:D,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},i)},t.prototype.onDragHandler=function(i){var n=this;return function(s,c){var h=c.node,p=c.deltaX,m=c.deltaY,d=n.props[i];if(d){var E={top:0,left:0};switch(i){case"onDragStart":{var _=h.offsetParent;if(!_)return;var T=_.getBoundingClientRect(),C=h.getBoundingClientRect();E.left=C.left-T.left+_.scrollLeft,E.top=C.top-T.top+_.scrollTop,n.setState({dragging:E});break}case"onDrag":if(!n.state.dragging)throw new Error("onDrag called before onDragStart.");E.left=n.state.dragging.left+p,E.top=n.state.dragging.top+m,n.setState({dragging:E});break;case"onDragStop":if(!n.state.dragging)throw new Error("onDragEnd called before onDragStart.");E.left=n.state.dragging.left,E.top=n.state.dragging.top,n.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+i)}var A=n.calcXY(E.top,E.left),D=A.x,O=A.y;return d.call(n,n.props.i,D,O,{e:s,node:h,newPosition:E})}}},t.prototype.onResizeHandler=function(i){var n=this;return function(s,c){var h=c.node,p=c.size,m=n.props[i];if(m){var d=n.props,E=d.cols,_=d.x,T=d.i,C=d.maxW,A=d.minW,D=d.maxH,O=d.minH,B=n.calcWH(p),P=B.w,R=B.h;P=Math.min(P,E-_),P=Math.max(P,1),P=Math.max(Math.min(P,C),A),R=Math.max(Math.min(R,D),O),n.setState({resizing:i==="onResizeStop"?null:p}),m.call(n,T,P,R,{e:s,node:h,size:p})}}},t.prototype.render=function(){var i=this.props,n=i.x,s=i.y,c=i.w,h=i.h,p=i.isDraggable,m=i.isResizable,d=i.useCSSTransforms,E=this.calcPosition(n,s,c,h,this.state),_=HT.default.Children.only(this.props.children),T=HT.default.cloneElement(_,{className:(0,sme.default)("react-grid-item",_.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":p,"react-draggable-dragging":!!this.state.dragging,cssTransforms:d}),style:tme({},this.props.style,_.props.style,this.createStyle(E))});return m&&(T=this.mixinResizable(T,E)),p&&(T=this.mixinDraggable(T)),T},t})(HT.default.Component);ZN.propTypes={children:$i.default.element,cols:$i.default.number.isRequired,containerWidth:$i.default.number.isRequired,rowHeight:$i.default.number.isRequired,margin:$i.default.array.isRequired,maxRows:$i.default.number.isRequired,containerPadding:$i.default.array.isRequired,x:$i.default.number.isRequired,y:$i.default.number.isRequired,w:$i.default.number.isRequired,h:$i.default.number.isRequired,minW:function(t,r){var i=t[r];if(typeof i!="number")return new Error("minWidth not Number");if(i>t.w||i>t.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(t,r){var i=t[r];if(typeof i!="number")return new Error("maxWidth not Number");if(i<t.w||i<t.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(t,r){var i=t[r];if(typeof i!="number")return new Error("minHeight not Number");if(i>t.h||i>t.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(t,r){var i=t[r];if(typeof i!="number")return new Error("maxHeight not Number");if(i<t.h||i<t.minH)return new Error("maxHeight smaller than item height/minHeight")},i:$i.default.string.isRequired,onDragStop:$i.default.func,onDragStart:$i.default.func,onDrag:$i.default.func,onResizeStop:$i.default.func,onResizeStart:$i.default.func,onResize:$i.default.func,isDraggable:$i.default.bool.isRequired,isResizable:$i.default.bool.isRequired,static:$i.default.bool,useCSSTransforms:$i.default.bool.isRequired,className:$i.default.string,handle:$i.default.string,cancel:$i.default.string},ZN.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},NN.default=ZN,rg.__esModule=!0;var iG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},cme=M.default,ag=$T(cme),hme=z.exports,Gi=$T(hme),fme=Zd.exports,aG=$T(fme),dme=Qd.exports,pme=$T(dme),gi=Qn,mme=NN,oG=$T(mme);function $T(e){return e&&e.__esModule?e:{default:e}}function gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vme(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var gx=(function(e){yme(t,e);function t(r,i){gme(this,t);var n=vme(this,e.call(this,r,i));return _me.call(n),(0,gi.autoBindHandlers)(n,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),n}return t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(i){var n=void 0;if(!(0,aG.default)(i.layout,this.props.layout)||i.compactType!==this.props.compactType?n=i.layout:(0,gi.childrenEqual)(this.props.children,i.children)||(n=this.state.layout),n){var s=(0,gi.synchronizeLayoutWithChildren)(n,i.children,i.cols,this.compactType(i)),c=this.state.layout;this.setState({layout:s}),this.onLayoutMaybeChanged(s,c)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var i=(0,gi.bottom)(this.state.layout),n=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return i*this.props.rowHeight+(i-1)*this.props.margin[1]+n*2+"px"}},t.prototype.compactType=function(i){return i||(i=this.props),i.verticalCompact===!1?null:i.compactType},t.prototype.onDragStart=function(i,n,s,c){var h=c.e,p=c.node,m=this.state.layout,d=(0,gi.getLayoutItem)(m,i);if(d)return this.setState({oldDragItem:(0,gi.cloneLayoutItem)(d),oldLayout:this.state.layout}),this.props.onDragStart(m,d,d,null,h,p)},t.prototype.onDrag=function(i,n,s,c){var h=c.e,p=c.node,m=this.state.oldDragItem,d=this.state.layout,E=this.props.cols,_=(0,gi.getLayoutItem)(d,i);if(_){var T={w:_.w,h:_.h,x:_.x,y:_.y,placeholder:!0,i},C=!0;d=(0,gi.moveElement)(d,_,n,s,C,this.props.preventCollision,this.compactType(),E),this.props.onDrag(d,m,_,T,h,p),this.setState({layout:(0,gi.compact)(d,this.compactType(),E),activeDrag:T})}},t.prototype.onDragStop=function(i,n,s,c){var h=c.e,p=c.node,m=this.state.oldDragItem,d=this.state.layout,E=this.props,_=E.cols,T=E.preventCollision,C=(0,gi.getLayoutItem)(d,i);if(C){var A=!0;d=(0,gi.moveElement)(d,C,n,s,A,T,this.compactType(),_),this.props.onDragStop(d,m,C,null,h,p);var D=(0,gi.compact)(d,this.compactType(),_),O=this.state.oldLayout;this.setState({activeDrag:null,layout:D,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(D,O)}},t.prototype.onLayoutMaybeChanged=function(i,n){n||(n=this.state.layout),(0,aG.default)(n,i)||this.props.onLayoutChange(i)},t.prototype.onResizeStart=function(i,n,s,c){var h=c.e,p=c.node,m=this.state.layout,d=(0,gi.getLayoutItem)(m,i);d&&(this.setState({oldResizeItem:(0,gi.cloneLayoutItem)(d),oldLayout:this.state.layout}),this.props.onResizeStart(m,d,d,null,h,p))},t.prototype.onResize=function(i,n,s,c){var h=c.e,p=c.node,m=this.state,d=m.layout,E=m.oldResizeItem,_=this.props,T=_.cols,C=_.preventCollision,A=(0,gi.getLayoutItem)(d,i);if(A){var D=void 0;if(C){var O=(0,gi.getAllCollisions)(d,iG({},A,{w:n,h:s})).filter(function($){return $.i!==A.i});if(D=O.length>0,D){var B=1/0,P=1/0;O.forEach(function($){$.x>A.x&&(B=Math.min(B,$.x)),$.y>A.y&&(P=Math.min(P,$.y))}),Number.isFinite(B)&&(A.w=B-A.x),Number.isFinite(P)&&(A.h=P-A.y)}}D||(A.w=n,A.h=s);var R={w:A.w,h:A.h,x:A.x,y:A.y,static:!0,i};this.props.onResize(d,E,A,R,h,p),this.setState({layout:(0,gi.compact)(d,this.compactType(),T),activeDrag:R})}},t.prototype.onResizeStop=function(i,n,s,c){var h=c.e,p=c.node,m=this.state,d=m.layout,E=m.oldResizeItem,_=this.props.cols,T=(0,gi.getLayoutItem)(d,i);this.props.onResizeStop(d,E,T,null,h,p);var C=(0,gi.compact)(d,this.compactType(),_),A=this.state.oldLayout;this.setState({activeDrag:null,layout:C,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(C,A)},t.prototype.placeholder=function(){var i=this.state.activeDrag;if(!i)return null;var n=this.props,s=n.width,c=n.cols,h=n.margin,p=n.containerPadding,m=n.rowHeight,d=n.maxRows,E=n.useCSSTransforms;return ag.default.createElement(oG.default,{w:i.w,h:i.h,x:i.x,y:i.y,i:i.i,className:"react-grid-placeholder",containerWidth:s,cols:c,margin:h,containerPadding:p||h,maxRows:d,rowHeight:m,isDraggable:!1,isResizable:!1,useCSSTransforms:E},ag.default.createElement("div",null))},t.prototype.processGridItem=function(i){if(!(!i||!i.key)){var n=(0,gi.getLayoutItem)(this.state.layout,String(i.key));if(!n)return null;var s=this.props,c=s.width,h=s.cols,p=s.margin,m=s.containerPadding,d=s.rowHeight,E=s.maxRows,_=s.isDraggable,T=s.isResizable,C=s.useCSSTransforms,A=s.draggableCancel,D=s.draggableHandle,O=this.state.mounted,B=!!(!n.static&&_&&(n.isDraggable||n.isDraggable==null)),P=!!(!n.static&&T&&(n.isResizable||n.isResizable==null));return ag.default.createElement(oG.default,{containerWidth:c,cols:h,margin:p,containerPadding:m||p,maxRows:E,rowHeight:d,cancel:A,handle:D,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:B,isResizable:P,useCSSTransforms:C&&O,usePercentages:!O,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static},i)}},t.prototype.render=function(){var i=this,n=this.props,s=n.className,c=n.style,h=(0,pme.default)("react-grid-layout",s),p=iG({height:this.containerHeight()},c);return ag.default.createElement("div",{className:h,style:p},ag.default.Children.map(this.props.children,function(m){return i.processGridItem(m)}),this.placeholder())},t})(ag.default.Component);gx.displayName="ReactGridLayout",gx.propTypes={className:Gi.default.string,style:Gi.default.object,width:Gi.default.number,autoSize:Gi.default.bool,cols:Gi.default.number,draggableCancel:Gi.default.string,draggableHandle:Gi.default.string,verticalCompact:function(t){t.verticalCompact},compactType:Gi.default.oneOf(["vertical","horizontal"]),layout:function(t){var r=t.layout;r!==void 0&&(0,gi.validateLayout)(r,"layout")},margin:Gi.default.arrayOf(Gi.default.number),containerPadding:Gi.default.arrayOf(Gi.default.number),rowHeight:Gi.default.number,maxRows:Gi.default.number,isDraggable:Gi.default.bool,isResizable:Gi.default.bool,preventCollision:Gi.default.bool,useCSSTransforms:Gi.default.bool,onLayoutChange:Gi.default.func,onDragStart:Gi.default.func,onDrag:Gi.default.func,onDragStop:Gi.default.func,onResizeStart:Gi.default.func,onResize:Gi.default.func,onResizeStop:Gi.default.func,children:function(t,r){var i=t[r],n={};ag.default.Children.forEach(i,function(s){if(n[s.key])throw new Error('Duplicate child key "'+s.key+'" found! This will cause problems in ReactGridLayout.');n[s.key]=!0})}},gx.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:gi.noop,onDragStart:gi.noop,onDrag:gi.noop,onDragStop:gi.noop,onResizeStart:gi.noop,onResize:gi.noop,onResizeStop:gi.noop};var _me=function(){this.state={activeDrag:null,layout:(0,gi.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};rg.default=gx;var QN={},og={};og.__esModule=!0,og.getBreakpointFromWidth=Eme,og.getColsFromBreakpoint=Tme,og.findOrGenerateResponsiveLayout=bme,og.sortBreakpoints=JN;var vx=Qn;function Eme(e,t){for(var r=JN(e),i=r[0],n=1,s=r.length;n<s;n++){var c=r[n];t>e[c]&&(i=c)}return i}function Tme(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function bme(e,t,r,i,n,s){if(e[r])return(0,vx.cloneLayout)(e[r]);for(var c=e[i],h=JN(t),p=h.slice(h.indexOf(r)),m=0,d=p.length;m<d;m++){var E=p[m];if(e[E]){c=e[E];break}}return c=(0,vx.cloneLayout)(c||[]),(0,vx.compact)((0,vx.correctBounds)(c,{cols:n}),s,n)}function JN(e){var t=Object.keys(e);return t.sort(function(r,i){return e[r]-e[i]})}QN.__esModule=!0;var sG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Sme=M.default,lG=yx(Sme),Cme=z.exports,sg=yx(Cme),Ame=Zd.exports,eM=yx(Ame),Ty=Qn,lg=og,wme=rg,xme=yx(wme);function yx(e){return e&&e.__esModule?e:{default:e}}function Ime(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}function Dme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uG(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ome(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cG=function(t){return Object.prototype.toString.call(t)},tM=(function(e){Ome(t,e);function t(){var r,i,n;Dme(this,t);for(var s=arguments.length,c=Array(s),h=0;h<s;h++)c[h]=arguments[h];return n=(r=(i=uG(this,e.call.apply(e,[this].concat(c))),i),i.state=i.generateInitialState(),i.onLayoutChange=function(p){var m;i.props.onLayoutChange(p,sG({},i.props.layouts,(m={},m[i.state.breakpoint]=p,m)))},r),uG(i,n)}return t.prototype.generateInitialState=function(){var i=this.props,n=i.width,s=i.breakpoints,c=i.layouts,h=i.cols,p=(0,lg.getBreakpointFromWidth)(s,n),m=(0,lg.getColsFromBreakpoint)(p,h),d=this.props.verticalCompact===!1?null:this.props.compactType,E=(0,lg.findOrGenerateResponsiveLayout)(c,s,p,p,m,d);return{layout:E,breakpoint:p,cols:m}},t.prototype.componentWillReceiveProps=function(i){if(i.width!=this.props.width||i.breakpoint!==this.props.breakpoint||!(0,eM.default)(i.breakpoints,this.props.breakpoints)||!(0,eM.default)(i.cols,this.props.cols))this.onWidthChange(i);else if(!(0,eM.default)(i.layouts,this.props.layouts)){var n=this.state,s=n.breakpoint,c=n.cols,h=(0,lg.findOrGenerateResponsiveLayout)(i.layouts,i.breakpoints,s,s,c,i.compactType);this.setState({layout:h})}},t.prototype.onWidthChange=function(i){var n=i.breakpoints,s=i.cols,c=i.layouts,h=i.compactType,p=i.breakpoint||(0,lg.getBreakpointFromWidth)(i.breakpoints,i.width),m=this.state.breakpoint;if(m!==p||this.props.breakpoints!==n||this.props.cols!==s){m in c||(c[m]=(0,Ty.cloneLayout)(this.state.layout));var d=(0,lg.getColsFromBreakpoint)(p,s),E=(0,lg.findOrGenerateResponsiveLayout)(c,n,p,m,d,h);E=(0,Ty.synchronizeLayoutWithChildren)(E,i.children,d,h),c[p]=E,this.props.onLayoutChange(E,c),this.props.onBreakpointChange(p,d),this.props.onWidthChange(i.width,i.margin,d,i.containerPadding),this.setState({breakpoint:p,layout:E,cols:d})}},t.prototype.render=function(){var i=this.props;i.breakpoint,i.breakpoints,i.cols,i.layouts,i.onBreakpointChange,i.onLayoutChange,i.onWidthChange;var n=Ime(i,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]);return lG.default.createElement(xme.default,sG({},n,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t})(lG.default.Component);tM.propTypes={breakpoint:sg.default.string,breakpoints:sg.default.object,cols:sg.default.object,layouts:function(t,r){if(cG(t[r])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+cG(t[r]));Object.keys(t[r]).forEach(function(i){if(!(i in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Ty.validateLayout)(t.layouts[i],"layouts."+i)})},width:sg.default.number.isRequired,onBreakpointChange:sg.default.func,onLayoutChange:sg.default.func,onWidthChange:sg.default.func},tM.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:Ty.noop,onLayoutChange:Ty.noop,onWidthChange:Ty.noop},QN.default=tM;var rM={};rM.__esModule=!0;var kme=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};rM.default=Hme;var Pme=M.default,nM=iM(Pme),Rme=z.exports,Nme=iM(Rme),Mme=ke.default,Lme=iM(Mme);function iM(e){return e&&e.__esModule?e:{default:e}}function Bme(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}function Fme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hG(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ume(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Hme(e){var t,r;return r=t=(function(i){Ume(n,i);function n(){var s,c,h;Fme(this,n);for(var p=arguments.length,m=Array(p),d=0;d<p;d++)m[d]=arguments[d];return h=(s=(c=hG(this,i.call.apply(i,[this].concat(m))),c),c.state={width:1280},c.mounted=!1,c.onWindowResize=function(){if(c.mounted){var E=Lme.default.findDOMNode(c);E instanceof HTMLElement&&c.setState({width:E.offsetWidth})}},s),hG(c,h)}return n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var c=this.props,h=c.measureBeforeMount,p=Bme(c,["measureBeforeMount"]);return h&&!this.mounted?nM.default.createElement("div",{className:this.props.className,style:this.props.style}):nM.default.createElement(e,kme({},p,this.state))},n})(nM.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:Nme.default.bool},r}(function(e){e.exports=rg.default,e.exports.utils=Qn,e.exports.Responsive=QN.default,e.exports.Responsive.utils=og,e.exports.WidthProvider=rM.default})(tg);const $me=tg.exports;var aM={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(typeof window<"u"?window:Te,function(){if(typeof window>"u")return null;var r=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")(),i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(d){return r.setTimeout(d,20)},n=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||function(d){r.clearTimeout(d)};function s(d,E){var _=Object.prototype.toString.call(d),T=_==="[object Array]"||_==="[object NodeList]"||_==="[object HTMLCollection]"||_==="[object Object]"||typeof jQuery<"u"&&d instanceof jQuery||typeof Elements<"u"&&d instanceof Elements,C=0,A=d.length;if(T)for(;C<A;C++)E(d[C]);else E(d)}function c(d){if(!d.getBoundingClientRect)return{width:d.offsetWidth,height:d.offsetHeight};var E=d.getBoundingClientRect();return{width:Math.round(E.width),height:Math.round(E.height)}}function h(d,E){Object.keys(E).forEach(function(_){d.style[_]=E[_]})}var p=function(d,E){var _=0;function T(){var A=[];this.add=function(B){A.push(B)};var D,O;this.call=function(B){for(D=0,O=A.length;D<O;D++)A[D].call(this,B)},this.remove=function(B){var P=[];for(D=0,O=A.length;D<O;D++)A[D]!==B&&P.push(A[D]);A=P},this.length=function(){return A.length}}function C(A,D){if(A){if(A.resizedAttached){A.resizedAttached.add(D);return}A.resizedAttached=new T,A.resizedAttached.add(D),A.resizeSensor=document.createElement("div"),A.resizeSensor.dir="ltr",A.resizeSensor.className="resize-sensor";var O={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},B={position:"absolute",left:"0px",top:"0px",transition:"0s"};h(A.resizeSensor,O);var P=document.createElement("div");P.className="resize-sensor-expand",h(P,O);var R=document.createElement("div");h(R,B),P.appendChild(R);var $=document.createElement("div");$.className="resize-sensor-shrink",h($,O);var W=document.createElement("div");h(W,B),h(W,{width:"200%",height:"200%"}),$.appendChild(W),A.resizeSensor.appendChild(P),A.resizeSensor.appendChild($),A.appendChild(A.resizeSensor);var Z=window.getComputedStyle(A),K=Z?Z.getPropertyValue("position"):null;K!=="absolute"&&K!=="relative"&&K!=="fixed"&&K!=="sticky"&&(A.style.position="relative");var ae=!1,le=0,J=c(A),ge=0,Ee=0,ne=!0;_=0;var ve=function(){var st=A.offsetWidth,Ct=A.offsetHeight;R.style.width=st+10+"px",R.style.height=Ct+10+"px",P.scrollLeft=st+10,P.scrollTop=Ct+10,$.scrollLeft=st+10,$.scrollTop=Ct+10},Me=function(){if(ne){var st=A.offsetWidth===0&&A.offsetHeight===0;if(st){_||(_=i(function(){_=0,Me()}));return}else ne=!1}ve()};A.resizeSensor.resetSensor=Me;var je=function(){le=0,ae&&(ge=J.width,Ee=J.height,A.resizedAttached&&A.resizedAttached.call(J))},Qe=function(){J=c(A),ae=J.width!==ge||J.height!==Ee,ae&&!le&&(le=i(je)),Me()},tt=function(st,Ct,Be){st.attachEvent?st.attachEvent("on"+Ct,Be):st.addEventListener(Ct,Be)};tt(P,"scroll",Qe),tt($,"scroll",Qe),_=i(function(){_=0,Me()})}}s(d,function(A){C(A,E)}),this.detach=function(A){_||(n(_),_=0),p.detach(d,A)},this.reset=function(){d.resizeSensor.resetSensor()}};if(p.reset=function(d){s(d,function(E){E.resizeSensor.resetSensor()})},p.detach=function(d,E){s(d,function(_){_&&(_.resizedAttached&&typeof E=="function"&&(_.resizedAttached.remove(E),_.resizedAttached.length())||_.resizeSensor&&(_.contains(_.resizeSensor)&&_.removeChild(_.resizeSensor),delete _.resizeSensor,delete _.resizedAttached))})},typeof MutationObserver<"u"){var m=new MutationObserver(function(d){for(var E in d)if(d.hasOwnProperty(E))for(var _=d[E].addedNodes,T=0;T<_.length;T++)_[T].resizeSensor&&p.reset(_[T])});document.addEventListener("DOMContentLoaded",function(d){m.observe(document.body,{childList:!0,subtree:!0})})}return p})})(aM);var fG={exports:{}};(function(e,t){(function(r,i){e.exports=i(aM.exports)})(typeof window<"u"?window:Te,function(r){var i=function(){var s,c={},h=[];function p(Z){Z||(Z=document.documentElement);var K=window.getComputedStyle(Z,null).fontSize;return parseFloat(K)||16}function m(Z){if(!Z.getBoundingClientRect)return{width:Z.offsetWidth,height:Z.offsetHeight};var K=Z.getBoundingClientRect();return{width:Math.round(K.width),height:Math.round(K.height)}}function d(Z,K){var ae=K.split(/\d/),le=ae[ae.length-1];switch(K=parseFloat(K),le){case"px":return K;case"em":return K*p(Z);case"rem":return K*p();case"vw":return K*document.documentElement.clientWidth/100;case"vh":return K*document.documentElement.clientHeight/100;case"vmin":case"vmax":var J=document.documentElement.clientWidth/100,ge=document.documentElement.clientHeight/100,Ee=Math[le==="vmin"?"min":"max"];return K*Ee(J,ge);default:return K}}function E(Z,K){this.element=Z;var ae,le,J,ge,Ee,ne,ve,Me,je=["min-width","min-height","max-width","max-height"];this.call=function(){J=m(this.element),ne={};for(ae in c[K])c[K].hasOwnProperty(ae)&&(le=c[K][ae],ge=d(this.element,le.value),Ee=le.property==="width"?J.width:J.height,Me=le.mode+"-"+le.property,ve="",le.mode==="min"&&Ee>=ge&&(ve+=le.value),le.mode==="max"&&Ee<=ge&&(ve+=le.value),ne[Me]||(ne[Me]=""),ve&&(" "+ne[Me]+" ").indexOf(" "+ve+" ")===-1&&(ne[Me]+=" "+ve));for(var Qe in je)je.hasOwnProperty(Qe)&&(ne[je[Qe]]?this.element.setAttribute(je[Qe],ne[je[Qe]].substr(1)):this.element.removeAttribute(je[Qe]))}}function _(Z,K){Z.elementQueriesSetupInformation||(Z.elementQueriesSetupInformation=new E(Z,K)),Z.elementQueriesSensor||(Z.elementQueriesSensor=new r(Z,function(){Z.elementQueriesSetupInformation.call()}))}function T(Z,K,ae,le){if(typeof c[Z]>"u"){c[Z]=[];var J=h.length;s.innerHTML+=`
`+Z+" {animation: 0.1s element-queries;}",s.innerHTML+=`
`+Z+" > .resize-sensor {min-width: "+J+"px;}",h.push(Z)}c[Z].push({mode:K,property:ae,value:le})}function C(Z){var K;if(document.querySelectorAll&&(K=Z?Z.querySelectorAll.bind(Z):document.querySelectorAll.bind(document)),!K&&typeof $$<"u"&&(K=$$),!K&&typeof jQuery<"u"&&(K=jQuery),!K)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return K}function A(Z){var K=C(Z);for(var ae in c)if(c.hasOwnProperty(ae))for(var le=K(ae,Z),J=0,ge=le.length;J<ge;J++)_(le[J],ae)}function D(Z){var K=[],ae=[],le=[],J=0,ge=-1,Ee=[];for(var ne in Z.children)if(Z.children.hasOwnProperty(ne)&&Z.children[ne].tagName&&Z.children[ne].tagName.toLowerCase()==="img"){K.push(Z.children[ne]);var ve=Z.children[ne].getAttribute("min-width")||Z.children[ne].getAttribute("data-min-width"),Me=Z.children[ne].getAttribute("data-src")||Z.children[ne].getAttribute("url");le.push(Me);var je={minWidth:ve};ae.push(je),ve?Z.children[ne].style.display="none":(J=K.length-1,Z.children[ne].style.display="block")}ge=J;function Qe(){var tt=!1,st;for(st in K)K.hasOwnProperty(st)&&ae[st].minWidth&&Z.offsetWidth>ae[st].minWidth&&(tt=st);if(tt||(tt=J),ge!==tt)if(Ee[tt])K[ge].style.display="none",K[tt].style.display="block",ge=tt;else{var Ct=new Image;Ct.onload=function(){K[tt].src=le[tt],K[ge].style.display="none",K[tt].style.display="block",Ee[tt]=!0,ge=tt},Ct.src=le[tt]}else K[tt].src=le[tt]}Z.resizeSensorInstance=new r(Z,Qe),Qe()}function O(){for(var Z=C(),K=Z("[data-responsive-image],[responsive-image]"),ae=0,le=K.length;ae<le;ae++)D(K[ae])}var B=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/mgi,P=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/mgi;function R(Z){var K,ae,le,J;for(Z=Z.replace(/'/g,'"');(K=B.exec(Z))!==null;)for(ae=K[1]+K[3],le=K[2];(J=P.exec(le))!==null;)T(ae,J[1],J[2],J[3])}function $(Z){var K="";if(Z)if(typeof Z=="string")Z=Z.toLowerCase(),(Z.indexOf("min-width")!==-1||Z.indexOf("max-width")!==-1)&&R(Z);else for(var ae=0,le=Z.length;ae<le;ae++)Z[ae].type===1?(K=Z[ae].selectorText||Z[ae].cssText,(K.indexOf("min-height")!==-1||K.indexOf("max-height")!==-1||K.indexOf("min-width")!==-1||K.indexOf("max-width")!==-1)&&R(K)):Z[ae].type===4?$(Z[ae].cssRules||Z[ae].rules):Z[ae].type===3&&Z[ae].styleSheet.hasOwnProperty("cssRules")&&$(Z[ae].styleSheet.cssRules)}var W=!1;this.init=function(){var Z="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?Z="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?Z="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(Z="oanimationstart"),document.body.addEventListener(Z,function(le){var J=le.target,ge=J&&window.getComputedStyle(J,null),Ee=ge&&ge.getPropertyValue("animation-name"),ne=Ee&&Ee.indexOf("element-queries")!==-1;if(ne){J.elementQueriesSensor=new r(J,function(){J.elementQueriesSetupInformation&&J.elementQueriesSetupInformation.call()});var ve=window.getComputedStyle(J.resizeSensor,null),Me=ve.getPropertyValue("min-width");Me=parseInt(Me.replace("px","")),_(le.target,h[Me])}}),W||(s=document.createElement("style"),s.type="text/css",s.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",s.innerHTML+=`
@keyframes element-queries { 0% { visibility: inherit; } }`,document.getElementsByTagName("head")[0].appendChild(s),W=!0);for(var K=0,ae=document.styleSheets.length;K<ae;K++)try{document.styleSheets[K].href&&document.styleSheets[K].href.indexOf("file://")===0&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[K].href),$(document.styleSheets[K].cssRules||document.styleSheets[K].rules||document.styleSheets[K].cssText)}catch{}O()},this.findElementQueriesElements=function(Z){A(Z)},this.update=function(){this.init()}};i.update=function(){i.instance.update()},i.detach=function(s){s.elementQueriesSetupInformation?(s.elementQueriesSensor.detach(),delete s.elementQueriesSetupInformation,delete s.elementQueriesSensor):s.resizeSensorInstance&&(s.resizeSensorInstance.detach(),delete s.resizeSensorInstance)},i.init=function(){i.instance||(i.instance=new i),i.instance.init()};var n=function(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",s,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var c=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(s(),clearInterval(c))},10);else window.onload=s};return i.findElementQueriesElements=function(s){i.instance.findElementQueriesElements(s)},i.listen=function(){n(i.init)},i})})(fG);var _x={ResizeSensor:aM.exports,ElementQueries:fG.exports};function Ex(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            ";break}for(var r=[`
`],i=0;i<100;i++)r.push(r[i]+t);return r}function Cf(){this.step="    ",this.shift=Ex(this.step)}Cf.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,n=!1,s=0,c="",h=0,p=t?Ex(t):this.shift;for(h=0;h<i;h++)r[h].search(/<!/)>-1?(c+=p[s]+r[h],n=!0,(r[h].search(/-->/)>-1||r[h].search(/\]>/)>-1||r[h].search(/!DOCTYPE/)>-1)&&(n=!1)):r[h].search(/-->/)>-1||r[h].search(/\]>/)>-1?(c+=r[h],n=!1):/^<\w/.exec(r[h-1])&&/^<\/\w/.exec(r[h])&&/^<[\w:\-\.\,]+/.exec(r[h-1])==/^<\/[\w:\-\.\,]+/.exec(r[h])[0].replace("/","")?(c+=r[h],n||s--):r[h].search(/<\w/)>-1&&r[h].search(/<\//)==-1&&r[h].search(/\/>/)==-1?c=n?c+=r[h]:c+=p[s++]+r[h]:r[h].search(/<\w/)>-1&&r[h].search(/<\//)>-1?c=n?c+=r[h]:c+=p[s]+r[h]:r[h].search(/<\//)>-1?c=n?c+=r[h]:c+=p[--s]+r[h]:r[h].search(/\/>/)>-1?c=n?c+=r[h]:c+=p[s]+r[h]:r[h].search(/<\?/)>-1||r[h].search(/xmlns\:/)>-1||r[h].search(/xmlns\=/)>-1?c+=p[s]+r[h]:c+=r[h];return c[0]==`
`?c.slice(1):c},Cf.prototype.json=function(e,r){var r=r||this.step;return typeof JSON>"u"?e:typeof e=="string"?JSON.stringify(JSON.parse(e),null,r):typeof e=="object"?JSON.stringify(e,null,r):e},Cf.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,n=0,s="",c=0,h=t?Ex(t):this.shift;for(c=0;c<i;c++)/\{/.exec(r[c])?s+=h[n++]+r[c]:/\}/.exec(r[c])?s+=h[--n]+r[c]:(/\*\\/.exec(r[c]),s+=h[n]+r[c]);return s.replace(/^\n{1,}/,"")};function Gme(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function zme(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /ig,"~::~"+t+t+"AND ").replace(/ BETWEEN /ig,"~::~"+t+"BETWEEN ").replace(/ CASE /ig,"~::~"+t+"CASE ").replace(/ ELSE /ig,"~::~"+t+"ELSE ").replace(/ END /ig,"~::~"+t+"END ").replace(/ FROM /ig,"~::~FROM ").replace(/ GROUP\s{1,}BY/ig,"~::~GROUP BY ").replace(/ HAVING /ig,"~::~HAVING ").replace(/ IN /ig," IN ").replace(/ JOIN /ig,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig,"~::~RIGHT JOIN ").replace(/ ON /ig,"~::~"+t+"ON ").replace(/ OR /ig,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/ig,"~::~ORDER BY ").replace(/ OVER /ig,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /ig,"~::~(SELECT ").replace(/\)\s{0,}SELECT /ig,")~::~SELECT ").replace(/ THEN /ig," THEN~::~"+t).replace(/ UNION /ig,"~::~UNION~::~").replace(/ USING /ig,"~::~USING ").replace(/ WHEN /ig,"~::~"+t+"WHEN ").replace(/ WHERE /ig,"~::~WHERE ").replace(/ WITH /ig,"~::~WITH ").replace(/ ALL /ig," ALL ").replace(/ AS /ig," AS ").replace(/ ASC /ig," ASC ").replace(/ DESC /ig," DESC ").replace(/ DISTINCT /ig," DISTINCT ").replace(/ EXISTS /ig," EXISTS ").replace(/ NOT /ig," NOT ").replace(/ NULL /ig," NULL ").replace(/ LIKE /ig," LIKE ").replace(/\s{0,}SELECT /ig,"SELECT ").replace(/\s{0,}UPDATE /ig,"UPDATE ").replace(/ SET /ig," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}Cf.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/ig,"~::~'").split("~::~"),i=r.length,n=[],s=0,c=this.step,h=0,p="",m=0,d=t?Ex(t):this.shift;for(m=0;m<i;m++)m%2?n=n.concat(r[m]):n=n.concat(zme(r[m],c));for(i=n.length,m=0;m<i;m++)h=Gme(n[m],h),/\s{0,}\s{0,}SELECT\s{0,}/.exec(n[m])&&(n[m]=n[m].replace(/\,/g,`,
`+c+c)),/\s{0,}\s{0,}SET\s{0,}/.exec(n[m])&&(n[m]=n[m].replace(/\,/g,`,
`+c+c)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(n[m])?(s++,p+=d[s]+n[m]):/\'/.exec(n[m])?(h<1&&s&&s--,p+=n[m]):(p+=d[s]+n[m],h<1&&s&&s--);return p=p.replace(/^\n{1,}/,"").replace(/\n{1,}/g,`
`),p},Cf.prototype.xmlmin=function(e,t){var r=t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return r.replace(/>\s{0,}</g,"><")},Cf.prototype.jsonmin=function(e){return typeof JSON>"u"?e:JSON.stringify(JSON.parse(e),null,0)},Cf.prototype.cssmin=function(e,t){var r=t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"");return r.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},Cf.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")};var jme=new Cf,Vme=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},oM={},Wme=Object.prototype.hasOwnProperty,Yme;function dG(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function pG(e){try{return encodeURIComponent(e)}catch{return null}}function Xme(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},i;i=t.exec(e);){var n=dG(i[1]),s=dG(i[2]);n===null||s===null||n in r||(r[n]=s)}return r}function qme(e,t){t=t||"";var r=[],i,n;typeof t!="string"&&(t="?");for(n in e)if(Wme.call(e,n)){if(i=e[n],!i&&(i===null||i===Yme||isNaN(i))&&(i=""),n=pG(n),i=pG(i),n===null||i===null)continue;r.push(n+"="+i)}return r.length?t+r.join("&"):""}oM.stringify=qme,oM.parse=Xme;var mG=Vme,Tx=oM,Kme=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,gG=/[\n\r\t]/g,Zme=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,vG=/:\d+$/,Qme=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Jme=/^[a-zA-Z]:/;function sM(e){return(e||"").toString().replace(Kme,"")}var lM=[["#","hash"],["?","query"],function(t,r){return uh(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],yG={hash:1,query:1};function _G(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var i={},n=typeof e,s;if(e.protocol==="blob:")i=new ch(unescape(e.pathname),{});else if(n==="string"){i=new ch(e,{});for(s in yG)delete i[s]}else if(n==="object"){for(s in e)s in yG||(i[s]=e[s]);i.slashes===void 0&&(i.slashes=Zme.test(e.href))}return i}function uh(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function EG(e,t){e=sM(e),e=e.replace(gG,""),t=t||{};var r=Qme.exec(e),i=r[1]?r[1].toLowerCase():"",n=!!r[2],s=!!r[3],c=0,h;return n?s?(h=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(h=r[2]+r[4],c=r[2].length):s?(h=r[3]+r[4],c=r[3].length):h=r[4],i==="file:"?c>=2&&(h=h.slice(2)):uh(i)?h=r[4]:i?n&&(h=h.slice(2)):c>=2&&uh(t.protocol)&&(h=r[4]),{protocol:i,slashes:n||uh(i),slashesCount:c,rest:h}}function ege(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=r.length,n=r[i-1],s=!1,c=0;i--;)r[i]==="."?r.splice(i,1):r[i]===".."?(r.splice(i,1),c++):c&&(i===0&&(s=!0),r.splice(i,1),c--);return s&&r.unshift(""),(n==="."||n==="..")&&r.push(""),r.join("/")}function ch(e,t,r){if(e=sM(e),e=e.replace(gG,""),!(this instanceof ch))return new ch(e,t,r);var i,n,s,c,h,p,m=lM.slice(),d=typeof t,E=this,_=0;for(d!=="object"&&d!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=Tx.parse),t=_G(t),n=EG(e||"",t),i=!n.protocol&&!n.slashes,E.slashes=n.slashes||i&&t.slashes,E.protocol=n.protocol||t.protocol||"",e=n.rest,(n.protocol==="file:"&&(n.slashesCount!==2||Jme.test(e))||!n.slashes&&(n.protocol||n.slashesCount<2||!uh(E.protocol)))&&(m[3]=[/(.*)/,"pathname"]);_<m.length;_++){if(c=m[_],typeof c=="function"){e=c(e,E);continue}s=c[0],p=c[1],s!==s?E[p]=e:typeof s=="string"?(h=s==="@"?e.lastIndexOf(s):e.indexOf(s),~h&&(typeof c[2]=="number"?(E[p]=e.slice(0,h),e=e.slice(h+c[2])):(E[p]=e.slice(h),e=e.slice(0,h)))):(h=s.exec(e))&&(E[p]=h[1],e=e.slice(0,h.index)),E[p]=E[p]||i&&c[3]&&t[p]||"",c[4]&&(E[p]=E[p].toLowerCase())}r&&(E.query=r(E.query)),i&&t.slashes&&E.pathname.charAt(0)!=="/"&&(E.pathname!==""||t.pathname!=="")&&(E.pathname=ege(E.pathname,t.pathname)),E.pathname.charAt(0)!=="/"&&uh(E.protocol)&&(E.pathname="/"+E.pathname),mG(E.port,E.protocol)||(E.host=E.hostname,E.port=""),E.username=E.password="",E.auth&&(h=E.auth.indexOf(":"),~h?(E.username=E.auth.slice(0,h),E.username=encodeURIComponent(decodeURIComponent(E.username)),E.password=E.auth.slice(h+1),E.password=encodeURIComponent(decodeURIComponent(E.password))):E.username=encodeURIComponent(decodeURIComponent(E.auth)),E.auth=E.password?E.username+":"+E.password:E.username),E.origin=E.protocol!=="file:"&&uh(E.protocol)&&E.host?E.protocol+"//"+E.host:"null",E.href=E.toString()}function tge(e,t,r){var i=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||Tx.parse)(t)),i[e]=t;break;case"port":i[e]=t,mG(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,vG.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!r;break;case"pathname":case"hash":if(t){var n=e==="pathname"?"/":"#";i[e]=t.charAt(0)!==n?n+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(i.username=t.slice(0,s),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(s+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<lM.length;c++){var h=lM[c];h[4]&&(i[h[1]]=i[h[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&uh(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function rge(e){(!e||typeof e!="function")&&(e=Tx.stringify);var t,r=this,i=r.host,n=r.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var s=n+(r.protocol&&r.slashes||uh(r.protocol)?"//":"");return r.username?(s+=r.username,r.password&&(s+=":"+r.password),s+="@"):r.password?(s+=":"+r.password,s+="@"):r.protocol!=="file:"&&uh(r.protocol)&&!i&&r.pathname!=="/"&&(s+="@"),(i[i.length-1]===":"||vG.test(r.hostname)&&!r.port)&&(i+=":"),s+=i+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(s+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(s+=r.hash),s}ch.prototype={set:tge,toString:rge},ch.extractProtocol=EG,ch.location=_G,ch.trimLeft=sM,ch.qs=Tx;var nge=ch;const TG=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),uM=(e,t)=>t?e.toLowerCase():e,bG=(e,{caseInsensitive:t}={})=>(r,i,n=1/0)=>{const s=uM(r,t);return e[s]||(e[s]=[],e.__times__[s]=[]),e[s].push(i),e.__times__[s].push(+n||1/0),{event:s,handler:i}},cM=(e,{caseInsensitive:t}={})=>(r,i)=>{typeof r=="object"&&(i=r.handler,r=r.event);const n=uM(r,t);if(!e[n])return;const s=e[n].indexOf(i);s===-1||s>=e[n].length||(e[n].splice(s,1),e.__times__[n].splice(s,1))},SG=(e,t)=>()=>{e.forEach(r=>r(t))},CG=(e,{isGlobal:t,caseInsensitive:r,async:i}={})=>{const n=cM(e);return(s,c,h={})=>{const p=uM(s,r);if(!e[p])return;const m=[...e[p]];if(m.forEach((d,E)=>{--e.__times__[p][E]<1&&n(p,d)}),i||h.async?setTimeout(SG(m,c),0):SG(m,c)(),t&&!h.isNoGlobalBroadcast)try{TG.postMessage({event:p,news:c})}catch(d){if(d instanceof DOMException)console.warn(`Could not broadcast '${p}' globally. Payload is not clonable.`);else throw d}}},ige=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},AG=()=>({__times__:{}}),bx=({async:e=!1,caseInsensitive:t=!1,stack:r=AG()}={})=>(r.__times__||(r.__times__={}),{publish:CG(r,{async:e,caseInsensitive:t}),subscribe:bG(r,{caseInsensitive:t}),unsubscribe:cM(r,{caseInsensitive:t}),clear:ige(r),stack:r}),Sx=AG(),GT={publish:CG(Sx,{isGlobal:!0}),subscribe:bG(Sx),unsubscribe:cM(Sx),stack:Sx};TG.onmessage=({data:{event:e,news:t}})=>GT.publish(e,t,!0);const Qr={"context-menu":"_context-menu_18ock_1","context-menu-dark":"_context-menu-dark_18ock_12","context-menu-icon":"_context-menu-icon_18ock_17","context-menu-item":"_context-menu-item_18ock_27","context-menu-hr":"_context-menu-hr_18ock_38","play-icon":"_play-icon_18ock_45","context-menu-span":"_context-menu-span_18ock_52"};function cn(e){return M.default.createElement("div",{"data-menu-item-for":typeof e.children=="string"?e.children:null,className:Qr["context-menu-item"],onClick:t=>e.onClick(t),onMouseEnter:t=>e.onMouseEnter(t),onMouseLeave:t=>e.onMouseLeave(t),role:"button",tabIndex:0},M.default.createElement("span",{className:Qr["context-menu-span"]},e.children))}cn.defaultProps={onMouseEnter:()=>{},onMouseLeave:()=>{}},cn.propTypes={children:z.exports.node.isRequired,onClick:z.exports.func.isRequired,onMouseEnter:z.exports.func,onMouseLeave:z.exports.func};var age={value:()=>{}};function by(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Cx(r)}function Cx(e){this._=e}function oge(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",n=r.indexOf(".");if(n>=0&&(i=r.slice(n+1),r=r.slice(0,n)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Cx.prototype=by.prototype={constructor:Cx,on:function(e,t){var r=this._,i=oge(e+"",r),n,s=-1,c=i.length;if(arguments.length<2){for(;++s<c;)if((n=(e=i[s]).type)&&(n=sge(r[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<c;)if(n=(e=i[s]).type)r[n]=wG(r[n],e.name,t);else if(t==null)for(n in r)r[n]=wG(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Cx(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var r=new Array(n),i=0,n,s;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,n=s.length;i<n;++i)s[i].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,s=i.length;n<s;++n)i[n].value.apply(t,r)}};function sge(e,t){for(var r=0,i=e.length,n;r<i;++r)if((n=e[r]).name===t)return n.value}function wG(e,t,r){for(var i=0,n=e.length;i<n;++i)if(e[i].name===t){e[i]=age,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}function hM(e){e.stopImmediatePropagation()}function Sy(e){e.preventDefault(),e.stopImmediatePropagation()}function Ax(e){var t=e.document.documentElement,r=tn(e).on("dragstart.drag",Sy,!0);"onselectstart"in t?r.on("selectstart.drag",Sy,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function wx(e,t){var r=e.document.documentElement,i=tn(e).on("dragstart.drag",null);t&&(i.on("click.drag",Sy,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const xx=e=>()=>e;function fM(e,{sourceEvent:t,subject:r,target:i,identifier:n,active:s,x:c,y:h,dx:p,dy:m,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:d}})}fM.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function lge(e){return!e.ctrlKey&&!e.button}function uge(){return this.parentNode}function cge(e,t){return t??{x:e.x,y:e.y}}function hge(){return navigator.maxTouchPoints||"ontouchstart"in this}function Af(){var e=lge,t=uge,r=cge,i=hge,n={},s=by("start","drag","end"),c=0,h,p,m,d,E=0;function _(R){R.on("mousedown.drag",T).filter(i).on("touchstart.drag",D).on("touchmove.drag",O).on("touchend.drag touchcancel.drag",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(R,$){if(!(d||!e.call(this,R,$))){var W=P(this,t.call(this,R,$),R,$,"mouse");W&&(tn(R.view).on("mousemove.drag",C,!0).on("mouseup.drag",A,!0),Ax(R.view),hM(R),m=!1,h=R.clientX,p=R.clientY,W("start",R))}}function C(R){if(Sy(R),!m){var $=R.clientX-h,W=R.clientY-p;m=$*$+W*W>E}n.mouse("drag",R)}function A(R){tn(R.view).on("mousemove.drag mouseup.drag",null),wx(R.view,m),Sy(R),n.mouse("end",R)}function D(R,$){if(e.call(this,R,$)){var W=R.changedTouches,Z=t.call(this,R,$),K=W.length,ae,le;for(ae=0;ae<K;++ae)(le=P(this,Z,R,$,W[ae].identifier,W[ae]))&&(hM(R),le("start",R,W[ae]))}}function O(R){var $=R.changedTouches,W=$.length,Z,K;for(Z=0;Z<W;++Z)(K=n[$[Z].identifier])&&(Sy(R),K("drag",R,$[Z]))}function B(R){var $=R.changedTouches,W=$.length,Z,K;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),Z=0;Z<W;++Z)(K=n[$[Z].identifier])&&(hM(R),K("end",R,$[Z]))}function P(R,$,W,Z,K,ae){var le=s.copy(),J=Ln(ae||W,$),ge,Ee,ne;if((ne=r.call(R,new fM("beforestart",{sourceEvent:W,target:_,identifier:K,active:c,x:J[0],y:J[1],dx:0,dy:0,dispatch:le}),Z))!=null)return ge=ne.x-J[0]||0,Ee=ne.y-J[1]||0,function ve(Me,je,Qe){var tt=J,st;switch(Me){case"start":n[K]=ve,st=c++;break;case"end":delete n[K],--c;case"drag":J=Ln(Qe||je,$),st=c;break}le.call(Me,R,new fM(Me,{sourceEvent:je,subject:ne,target:_,identifier:K,active:st,x:J[0]+ge,y:J[1]+Ee,dx:J[0]-tt[0],dy:J[1]-tt[1],dispatch:le}),Z)}}return _.filter=function(R){return arguments.length?(e=typeof R=="function"?R:xx(!!R),_):e},_.container=function(R){return arguments.length?(t=typeof R=="function"?R:xx(R),_):t},_.subject=function(R){return arguments.length?(r=typeof R=="function"?R:xx(R),_):r},_.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:xx(!!R),_):i},_.on=function(){var R=s.on.apply(s,arguments);return R===s?_:R},_.clickDistance=function(R){return arguments.length?(E=(R=+R)*R,_):Math.sqrt(E)},_}const fge=Object.freeze(Object.defineProperty({__proto__:null,drag:Af,dragDisable:Ax,dragEnable:wx},Symbol.toStringTag,{value:"Module"}));var Cy=0,zT=0,jT=0,xG=1e3,Ix,VT,Dx=0,ug=0,Ox=0,WT=typeof performance=="object"&&performance.now?performance:Date,IG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dM(){return ug||(IG(dge),ug=WT.now()+Ox)}function dge(){ug=0}function kx(){this._call=this._time=this._next=null}kx.prototype=DG.prototype={constructor:kx,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?dM():+r)+(t==null?0:+t),!this._next&&VT!==this&&(VT?VT._next=this:Ix=this,VT=this),this._call=e,this._time=r,pM()},stop:function(){this._call&&(this._call=null,this._time=1/0,pM())}};function DG(e,t,r){var i=new kx;return i.restart(e,t,r),i}function pge(){dM(),++Cy;for(var e=Ix,t;e;)(t=ug-e._time)>=0&&e._call.call(null,t),e=e._next;--Cy}function OG(){ug=(Dx=WT.now())+Ox,Cy=zT=0;try{pge()}finally{Cy=0,gge(),ug=0}}function mge(){var e=WT.now(),t=e-Dx;t>xG&&(Ox-=t,Dx=e)}function gge(){for(var e,t=Ix,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ix=r);VT=e,pM(i)}function pM(e){if(!Cy){zT&&(zT=clearTimeout(zT));var t=e-ug;t>24?(e<1/0&&(zT=setTimeout(OG,e-WT.now()-Ox)),jT&&(jT=clearInterval(jT))):(jT||(Dx=WT.now(),jT=setInterval(mge,xG)),Cy=1,IG(OG))}}function kG(e,t,r){var i=new kx;return t=t==null?0:+t,i.restart(n=>{i.stop(),e(n+t)},t,r),i}var vge=by("start","end","cancel","interrupt"),yge=[],PG=0,RG=1,mM=2,Px=3,NG=4,gM=5,Rx=6;function Nx(e,t,r,i,n,s){var c=e.__transition;if(!c)e.__transition={};else if(r in c)return;_ge(e,r,{name:t,index:i,group:n,on:vge,tween:yge,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:PG})}function vM(e,t){var r=nc(e,t);if(r.state>PG)throw new Error("too late; already scheduled");return r}function hh(e,t){var r=nc(e,t);if(r.state>Px)throw new Error("too late; already running");return r}function nc(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function _ge(e,t,r){var i=e.__transition,n;i[t]=r,r.timer=DG(s,0,r.time);function s(m){r.state=RG,r.timer.restart(c,r.delay,r.time),r.delay<=m&&c(m-r.delay)}function c(m){var d,E,_,T;if(r.state!==RG)return p();for(d in i)if(T=i[d],T.name===r.name){if(T.state===Px)return kG(c);T.state===NG?(T.state=Rx,T.timer.stop(),T.on.call("interrupt",e,e.__data__,T.index,T.group),delete i[d]):+d<t&&(T.state=Rx,T.timer.stop(),T.on.call("cancel",e,e.__data__,T.index,T.group),delete i[d])}if(kG(function(){r.state===Px&&(r.state=NG,r.timer.restart(h,r.delay,r.time),h(m))}),r.state=mM,r.on.call("start",e,e.__data__,r.index,r.group),r.state===mM){for(r.state=Px,n=new Array(_=r.tween.length),d=0,E=-1;d<_;++d)(T=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(n[++E]=T);n.length=E+1}}function h(m){for(var d=m<r.duration?r.ease.call(null,m/r.duration):(r.timer.restart(p),r.state=gM,1),E=-1,_=n.length;++E<_;)n[E].call(e,d);r.state===gM&&(r.on.call("end",e,e.__data__,r.index,r.group),p())}function p(){r.state=Rx,r.timer.stop(),delete i[t];for(var m in i)return;delete e.__transition}}function yM(e,t){var r=e.__transition,i,n,s=!0,c;if(r){t=t==null?null:t+"";for(c in r){if((i=r[c]).name!==t){s=!1;continue}n=i.state>mM&&i.state<gM,i.state=Rx,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[c]}s&&delete e.__transition}}function Ege(e){return this.each(function(){yM(this,e)})}function Tge(e,t){var r,i;return function(){var n=hh(this,e),s=n.tween;if(s!==r){i=r=s;for(var c=0,h=i.length;c<h;++c)if(i[c].name===t){i=i.slice(),i.splice(c,1);break}}n.tween=i}}function bge(e,t,r){var i,n;if(typeof r!="function")throw new Error;return function(){var s=hh(this,e),c=s.tween;if(c!==i){n=(i=c).slice();for(var h={name:t,value:r},p=0,m=n.length;p<m;++p)if(n[p].name===t){n[p]=h;break}p===m&&n.push(h)}s.tween=n}}function Sge(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=nc(this.node(),r).tween,n=0,s=i.length,c;n<s;++n)if((c=i[n]).name===e)return c.value;return null}return this.each((t==null?Tge:bge)(r,e,t))}function _M(e,t,r){var i=e._id;return e.each(function(){var n=hh(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)}),function(n){return nc(n,i).value[t]}}function MG(e,t){var r;return(typeof t=="number"?Ro:t instanceof Bi?Pd:(r=Bi(t))?(t=r,Pd):Xu)(e,t)}function Cge(e){return function(){this.removeAttribute(e)}}function Age(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wge(e,t,r){var i,n=r+"",s;return function(){var c=this.getAttribute(e);return c===n?null:c===i?s:s=t(i=c,r)}}function xge(e,t,r){var i,n=r+"",s;return function(){var c=this.getAttributeNS(e.space,e.local);return c===n?null:c===i?s:s=t(i=c,r)}}function Ige(e,t,r){var i,n,s;return function(){var c,h=r(this),p;return h==null?void this.removeAttribute(e):(c=this.getAttribute(e),p=h+"",c===p?null:c===i&&p===n?s:(n=p,s=t(i=c,h)))}}function Dge(e,t,r){var i,n,s;return function(){var c,h=r(this),p;return h==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),p=h+"",c===p?null:c===i&&p===n?s:(n=p,s=t(i=c,h)))}}function Oge(e,t){var r=Ke(e),i=r==="transform"?k0:MG;return this.attrTween(e,typeof t=="function"?(r.local?Dge:Ige)(r,i,_M(this,"attr."+e,t)):t==null?(r.local?Age:Cge)(r):(r.local?xge:wge)(r,i,t))}function kge(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Pge(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Rge(e,t){var r,i;function n(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Pge(e,s)),r}return n._value=t,n}function Nge(e,t){var r,i;function n(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&kge(e,s)),r}return n._value=t,n}function Mge(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=Ke(e);return this.tween(r,(i.local?Rge:Nge)(i,t))}function Lge(e,t){return function(){vM(this,e).delay=+t.apply(this,arguments)}}function Bge(e,t){return t=+t,function(){vM(this,e).delay=t}}function Fge(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Lge:Bge)(t,e)):nc(this.node(),t).delay}function Uge(e,t){return function(){hh(this,e).duration=+t.apply(this,arguments)}}function Hge(e,t){return t=+t,function(){hh(this,e).duration=t}}function $ge(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Uge:Hge)(t,e)):nc(this.node(),t).duration}function Gge(e,t){if(typeof t!="function")throw new Error;return function(){hh(this,e).ease=t}}function zge(e){var t=this._id;return arguments.length?this.each(Gge(t,e)):nc(this.node(),t).ease}function jge(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;hh(this,e).ease=r}}function Vge(e){if(typeof e!="function")throw new Error;return this.each(jge(this._id,e))}function Wge(e){typeof e!="function"&&(e=Wt(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var s=t[n],c=s.length,h=i[n]=[],p,m=0;m<c;++m)(p=s[m])&&e.call(p,p.__data__,m,s)&&h.push(p);return new wf(i,this._parents,this._name,this._id)}function Yge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,n=r.length,s=Math.min(i,n),c=new Array(i),h=0;h<s;++h)for(var p=t[h],m=r[h],d=p.length,E=c[h]=new Array(d),_,T=0;T<d;++T)(_=p[T]||m[T])&&(E[T]=_);for(;h<i;++h)c[h]=t[h];return new wf(c,this._parents,this._name,this._id)}function Xge(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function qge(e,t,r){var i,n,s=Xge(t)?vM:hh;return function(){var c=s(this,e),h=c.on;h!==i&&(n=(i=h).copy()).on(t,r),c.on=n}}function Kge(e,t){var r=this._id;return arguments.length<2?nc(this.node(),r).on.on(e):this.each(qge(r,e,t))}function Zge(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Qge(){return this.on("end.remove",Zge(this._id))}function Jge(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Bt(e));for(var i=this._groups,n=i.length,s=new Array(n),c=0;c<n;++c)for(var h=i[c],p=h.length,m=s[c]=new Array(p),d,E,_=0;_<p;++_)(d=h[_])&&(E=e.call(d,d.__data__,_,h))&&("__data__"in d&&(E.__data__=d.__data__),m[_]=E,Nx(m[_],t,r,_,m,nc(d,r)));return new wf(s,this._parents,t,r)}function eve(e){var t=this._name,r=this._id;typeof e!="function"&&(e=lr(e));for(var i=this._groups,n=i.length,s=[],c=[],h=0;h<n;++h)for(var p=i[h],m=p.length,d,E=0;E<m;++E)if(d=p[E]){for(var _=e.call(d,d.__data__,E,p),T,C=nc(d,r),A=0,D=_.length;A<D;++A)(T=_[A])&&Nx(T,t,r,A,_,C);s.push(_),c.push(d)}return new wf(s,c,t,r)}var tve=za.prototype.constructor;function rve(){return new tve(this._groups,this._parents)}function nve(e,t){var r,i,n;return function(){var s=po(this,e),c=(this.style.removeProperty(e),po(this,e));return s===c?null:s===r&&c===i?n:n=t(r=s,i=c)}}function LG(e){return function(){this.style.removeProperty(e)}}function ive(e,t,r){var i,n=r+"",s;return function(){var c=po(this,e);return c===n?null:c===i?s:s=t(i=c,r)}}function ave(e,t,r){var i,n,s;return function(){var c=po(this,e),h=r(this),p=h+"";return h==null&&(p=h=(this.style.removeProperty(e),po(this,e))),c===p?null:c===i&&p===n?s:(n=p,s=t(i=c,h))}}function ove(e,t){var r,i,n,s="style."+t,c="end."+s,h;return function(){var p=hh(this,e),m=p.on,d=p.value[s]==null?h||(h=LG(t)):void 0;(m!==r||n!==d)&&(i=(r=m).copy()).on(c,n=d),p.on=i}}function sve(e,t,r){var i=(e+="")=="transform"?O0:MG;return t==null?this.styleTween(e,nve(e,i)).on("end.style."+e,LG(e)):typeof t=="function"?this.styleTween(e,ave(e,i,_M(this,"style."+e,t))).each(ove(this._id,e)):this.styleTween(e,ive(e,i,t),r).on("end.style."+e,null)}function lve(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function uve(e,t,r){var i,n;function s(){var c=t.apply(this,arguments);return c!==n&&(i=(n=c)&&lve(e,c,r)),i}return s._value=t,s}function cve(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,uve(e,t,r??""))}function hve(e){return function(){this.textContent=e}}function fve(e){return function(){var t=e(this);this.textContent=t??""}}function dve(e){return this.tween("text",typeof e=="function"?fve(_M(this,"text",e)):hve(e==null?"":e+""))}function pve(e){return function(t){this.textContent=e.call(this,t)}}function mve(e){var t,r;function i(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&pve(n)),t}return i._value=e,i}function gve(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,mve(e))}function vve(){for(var e=this._name,t=this._id,r=BG(),i=this._groups,n=i.length,s=0;s<n;++s)for(var c=i[s],h=c.length,p,m=0;m<h;++m)if(p=c[m]){var d=nc(p,t);Nx(p,e,r,m,c,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new wf(i,this._parents,e,r)}function yve(){var e,t,r=this,i=r._id,n=r.size();return new Promise(function(s,c){var h={value:c},p={value:function(){--n===0&&s()}};r.each(function(){var m=hh(this,i),d=m.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(h),t._.interrupt.push(h),t._.end.push(p)),m.on=t}),n===0&&s()})}var _ve=0;function wf(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function BG(){return++_ve}var cg=za.prototype;wf.prototype={constructor:wf,select:Jge,selectAll:eve,filter:Wge,merge:Yge,selection:rve,transition:vve,call:cg.call,nodes:cg.nodes,node:cg.node,size:cg.size,empty:cg.empty,each:cg.each,on:Kge,attr:Oge,attrTween:Mge,style:sve,styleTween:cve,text:dve,textTween:gve,remove:Qge,tween:Sge,delay:Fge,duration:$ge,ease:zge,easeVarying:Vge,end:yve,[Symbol.iterator]:cg[Symbol.iterator]};function Eve(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Tve={time:null,delay:0,duration:250,ease:Eve};function bve(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Sve(e){var t,r;e instanceof wf?(t=e._id,e=e._name):(t=BG(),(r=Tve).time=dM(),e=e==null?null:e+"");for(var i=this._groups,n=i.length,s=0;s<n;++s)for(var c=i[s],h=c.length,p,m=0;m<h;++m)(p=c[m])&&Nx(p,e,t,m,c,r||bve(p,t));return new wf(i,this._parents,e,t)}za.prototype.interrupt=Ege,za.prototype.transition=Sve;const EM=e=>()=>e;function Cve(e,{sourceEvent:t,target:r,selection:i,mode:n,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function Ave(e){e.stopImmediatePropagation()}function TM(e){e.preventDefault(),e.stopImmediatePropagation()}var FG={name:"drag"},bM={name:"space"},Ay={name:"handle"},wy={name:"center"};const{abs:UG,max:ts,min:rs}=Math;function HG(e){return[+e[0],+e[1]]}function SM(e){return[HG(e[0]),HG(e[1])]}var Mx={name:"x",handles:["w","e"].map(YT),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Lx={name:"y",handles:["n","s"].map(YT),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},wve={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(YT),input:function(e){return e==null?null:SM(e)},output:function(e){return e}},xf={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$G={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},GG={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},xve={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ive={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function YT(e){return{type:e}}function Dve(e){return!e.ctrlKey&&!e.button}function Ove(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function kve(){return navigator.maxTouchPoints||"ontouchstart"in this}function CM(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Pve(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Rve(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Bx(){return wM(Mx)}function XT(){return wM(Lx)}function AM(){return wM(wve)}function wM(e){var t=Ove,r=Dve,i=kve,n=!0,s=by("start","brush","end"),c=6,h;function p(D){var O=D.property("__brush",A).selectAll(".overlay").data([YT("overlay")]);O.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",xf.overlay).merge(O).each(function(){var P=CM(this).extent;tn(this).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1])}),D.selectAll(".selection").data([YT("selection")]).enter().append("rect").attr("class","selection").attr("cursor",xf.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var B=D.selectAll(".handle").data(e.handles,function(P){return P.type});B.exit().remove(),B.enter().append("rect").attr("class",function(P){return"handle handle--"+P.type}).attr("cursor",function(P){return xf[P.type]}),D.each(m).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(i).on("touchstart.brush",_).on("touchmove.brush",T).on("touchend.brush touchcancel.brush",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.move=function(D,O){D.tween?D.on("start.brush",function(B){d(this,arguments).beforestart().start(B)}).on("interrupt.brush end.brush",function(B){d(this,arguments).end(B)}).tween("brush",function(){var B=this,P=B.__brush,R=d(B,arguments),$=P.selection,W=e.input(typeof O=="function"?O.apply(this,arguments):O,P.extent),Z=Wc($,W);function K(ae){P.selection=ae===1&&W===null?null:Z(ae),m.call(B),R.brush()}return $!==null&&W!==null?K:K(1)}):D.each(function(){var B=this,P=arguments,R=B.__brush,$=e.input(typeof O=="function"?O.apply(B,P):O,R.extent),W=d(B,P).beforestart();yM(B),R.selection=$===null?null:$,m.call(B),W.start().brush().end()})},p.clear=function(D){p.move(D,null)};function m(){var D=tn(this),O=CM(this).selection;O?(D.selectAll(".selection").style("display",null).attr("x",O[0][0]).attr("y",O[0][1]).attr("width",O[1][0]-O[0][0]).attr("height",O[1][1]-O[0][1]),D.selectAll(".handle").style("display",null).attr("x",function(B){return B.type[B.type.length-1]==="e"?O[1][0]-c/2:O[0][0]-c/2}).attr("y",function(B){return B.type[0]==="s"?O[1][1]-c/2:O[0][1]-c/2}).attr("width",function(B){return B.type==="n"||B.type==="s"?O[1][0]-O[0][0]+c:c}).attr("height",function(B){return B.type==="e"||B.type==="w"?O[1][1]-O[0][1]+c:c})):D.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(D,O,B){var P=D.__brush.emitter;return P&&(!B||!P.clean)?P:new E(D,O,B)}function E(D,O,B){this.that=D,this.args=O,this.state=D.__brush,this.active=0,this.clean=B}E.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(D,O){return this.starting?(this.starting=!1,this.emit("start",D,O)):this.emit("brush",D),this},brush:function(D,O){return this.emit("brush",D,O),this},end:function(D,O){return--this.active===0&&(delete this.state.emitter,this.emit("end",D,O)),this},emit:function(D,O,B){var P=tn(this.that).datum();s.call(D,this.that,new Cve(D,{sourceEvent:O,target:p,selection:e.output(this.state.selection),mode:B,dispatch:s}),P)}};function _(D){if(h&&!D.touches||!r.apply(this,arguments))return;var O=this,B=D.target.__data__.type,P=(n&&D.metaKey?B="overlay":B)==="selection"?FG:n&&D.altKey?wy:Ay,R=e===Lx?null:xve[B],$=e===Mx?null:Ive[B],W=CM(O),Z=W.extent,K=W.selection,ae=Z[0][0],le,J,ge=Z[0][1],Ee,ne,ve=Z[1][0],Me,je,Qe=Z[1][1],tt,st,Ct=0,Be=0,Ae,Ne=R&&$&&n&&D.shiftKey,Ue,it,mt=Array.from(D.touches||[D],gr=>{const sn=gr.identifier;return gr=Ln(gr,O),gr.point0=gr.slice(),gr.identifier=sn,gr});if(B==="overlay"){K&&(Ae=!0);const gr=[mt[0],mt[1]||mt[0]];W.selection=K=[[le=e===Lx?ae:rs(gr[0][0],gr[1][0]),Ee=e===Mx?ge:rs(gr[0][1],gr[1][1])],[Me=e===Lx?ve:ts(gr[0][0],gr[1][0]),tt=e===Mx?Qe:ts(gr[0][1],gr[1][1])]],mt.length>1&&mr()}else le=K[0][0],Ee=K[0][1],Me=K[1][0],tt=K[1][1];J=le,ne=Ee,je=Me,st=tt;var Ft=tn(O).attr("pointer-events","none"),Dt=Ft.selectAll(".overlay").attr("cursor",xf[B]);yM(O);var $t=d(O,arguments,!0).beforestart();if(D.touches)$t.moved=Ut,$t.ended=fr;else{var cr=tn(D.view).on("mousemove.brush",Ut,!0).on("mouseup.brush",fr,!0);n&&cr.on("keydown.brush",Jr,!0).on("keyup.brush",Lr,!0),Ax(D.view)}m.call(O),$t.start(D,P.name);function Ut(gr){for(const sn of gr.changedTouches||[gr])for(const nn of mt)nn.identifier===sn.identifier&&(nn.cur=Ln(sn,O));if(Ne&&!Ue&&!it&&mt.length===1){const sn=mt[0];UG(sn.cur[0]-sn[0])>UG(sn.cur[1]-sn[1])?it=!0:Ue=!0}for(const sn of mt)sn.cur&&(sn[0]=sn.cur[0],sn[1]=sn.cur[1]);Ae=!0,TM(gr),mr(gr)}function mr(gr){const sn=mt[0],nn=sn.point0;var Dn;switch(Ct=sn[0]-nn[0],Be=sn[1]-nn[1],P){case bM:case FG:{R&&(Ct=ts(ae-le,rs(ve-Me,Ct)),J=le+Ct,je=Me+Ct),$&&(Be=ts(ge-Ee,rs(Qe-tt,Be)),ne=Ee+Be,st=tt+Be);break}case Ay:{mt[1]?(R&&(J=ts(ae,rs(ve,mt[0][0])),je=ts(ae,rs(ve,mt[1][0])),R=1),$&&(ne=ts(ge,rs(Qe,mt[0][1])),st=ts(ge,rs(Qe,mt[1][1])),$=1)):(R<0?(Ct=ts(ae-le,rs(ve-le,Ct)),J=le+Ct,je=Me):R>0&&(Ct=ts(ae-Me,rs(ve-Me,Ct)),J=le,je=Me+Ct),$<0?(Be=ts(ge-Ee,rs(Qe-Ee,Be)),ne=Ee+Be,st=tt):$>0&&(Be=ts(ge-tt,rs(Qe-tt,Be)),ne=Ee,st=tt+Be));break}case wy:{R&&(J=ts(ae,rs(ve,le-Ct*R)),je=ts(ae,rs(ve,Me+Ct*R))),$&&(ne=ts(ge,rs(Qe,Ee-Be*$)),st=ts(ge,rs(Qe,tt+Be*$)));break}}je<J&&(R*=-1,Dn=le,le=Me,Me=Dn,Dn=J,J=je,je=Dn,B in $G&&Dt.attr("cursor",xf[B=$G[B]])),st<ne&&($*=-1,Dn=Ee,Ee=tt,tt=Dn,Dn=ne,ne=st,st=Dn,B in GG&&Dt.attr("cursor",xf[B=GG[B]])),W.selection&&(K=W.selection),Ue&&(J=K[0][0],je=K[1][0]),it&&(ne=K[0][1],st=K[1][1]),(K[0][0]!==J||K[0][1]!==ne||K[1][0]!==je||K[1][1]!==st)&&(W.selection=[[J,ne],[je,st]],m.call(O),$t.brush(gr,P.name))}function fr(gr){if(Ave(gr),gr.touches){if(gr.touches.length)return;h&&clearTimeout(h),h=setTimeout(function(){h=null},500)}else wx(gr.view,Ae),cr.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ft.attr("pointer-events","all"),Dt.attr("cursor",xf.overlay),W.selection&&(K=W.selection),Pve(K)&&(W.selection=null,m.call(O)),$t.end(gr,P.name)}function Jr(gr){switch(gr.keyCode){case 16:{Ne=R&&$;break}case 18:{P===Ay&&(R&&(Me=je-Ct*R,le=J+Ct*R),$&&(tt=st-Be*$,Ee=ne+Be*$),P=wy,mr());break}case 32:{(P===Ay||P===wy)&&(R<0?Me=je-Ct:R>0&&(le=J-Ct),$<0?tt=st-Be:$>0&&(Ee=ne-Be),P=bM,Dt.attr("cursor",xf.selection),mr());break}default:return}TM(gr)}function Lr(gr){switch(gr.keyCode){case 16:{Ne&&(Ue=it=Ne=!1,mr());break}case 18:{P===wy&&(R<0?Me=je:R>0&&(le=J),$<0?tt=st:$>0&&(Ee=ne),P=Ay,mr());break}case 32:{P===bM&&(gr.altKey?(R&&(Me=je-Ct*R,le=J+Ct*R),$&&(tt=st-Be*$,Ee=ne+Be*$),P=wy):(R<0?Me=je:R>0&&(le=J),$<0?tt=st:$>0&&(Ee=ne),P=Ay),Dt.attr("cursor",xf[B]),mr());break}default:return}TM(gr)}}function T(D){d(this,arguments).moved(D)}function C(D){d(this,arguments).ended(D)}function A(){var D=this.__brush||{selection:null};return D.extent=SM(t.apply(this,arguments)),D.dim=e,D}return p.extent=function(D){return arguments.length?(t=typeof D=="function"?D:EM(SM(D)),p):t},p.filter=function(D){return arguments.length?(r=typeof D=="function"?D:EM(!!D),p):r},p.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:EM(!!D),p):i},p.handleSize=function(D){return arguments.length?(c=+D,p):c},p.keyModifiers=function(D){return arguments.length?(n=!!D,p):n},p.on=function(){var D=s.on.apply(s,arguments);return D===s?p:D},p}const Nve=Object.freeze(Object.defineProperty({__proto__:null,brush:AM,brushX:Bx,brushY:XT,brushSelection:Rve},Symbol.toStringTag,{value:"Module"}));function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},qT.apply(this,arguments)}function Mve(e){if(Array.isArray(e))return e}function Lve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,n,s,c,h=[],p=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(p=(i=s.call(r)).done)&&(h.push(i.value),h.length!==t);p=!0);}catch(d){m=!0,n=d}finally{try{if(!p&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw n}}return h}}function xM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function zG(e,t){if(e){if(typeof e=="string")return xM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xM(e,t)}}function Bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jG(e,t){return Mve(e)||Lve(e,t)||zG(e,t)||Bve()}function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function Fve(e,t){if(xy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(xy(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VG(e){var t=Fve(e,"string");return xy(t)==="symbol"?t:String(t)}function Si(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.forEach(function(n){Si(e,n,r[n])})}return e}function KT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uve(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,VG(i.key),i)}}function ZT(e,t,r){return t&&Uve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DM(e,t){if(t&&(xy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(e)}function QT(e){return QT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},QT(e)}function OM(e,t){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},OM(e,t)}function kM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OM(e,t)}var Hve=function(e,t,r,i,n,s,c,h){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,n,s,c,h],d=0;p=new Error(t.replace(/%s/g,function(){return m[d++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}},hg=Hve;function $ve(e){if(Array.isArray(e))return xM(e)}function Gve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(e){return $ve(e)||Gve(e)||zG(e)||zve()}var Vve=(function(){function e(){KT(this,e),Si(this,"refs",{})}return ZT(e,[{key:"add",value:function(r,i){this.refs[r]||(this.refs[r]=[]),this.refs[r].push(i)}},{key:"remove",value:function(r,i){var n=this.getIndex(r,i);n!==-1&&this.refs[r].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var r=this;return this.refs[this.active.collection].find(function(i){var n=i.node;return n.sortableInfo.index==r.active.index})}},{key:"getIndex",value:function(r,i){return this.refs[r].indexOf(i)}},{key:"getOrderedRefs",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[r].sort(Wve)}}]),e})();function Wve(e,t){var r=e.node.sortableInfo.index,i=t.node.sortableInfo.index;return r-i}function Yve(e,t,r){return e=e.slice(),e.splice(r<0?e.length+r:r,0,e.splice(t,1)[0]),e}function WG(e,t){return Object.keys(e).reduce(function(r,i){return t.indexOf(i)===-1&&(r[i]=e[i]),r},{})}var Iy={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},YG=(function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}})();function Fx(e,t){Object.keys(t).forEach(function(r){e.style[r]=t[r]})}function Ux(e,t){e.style["".concat(YG,"Transform")]=t==null?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function PM(e,t){e.style["".concat(YG,"TransitionDuration")]=t==null?"":"".concat(t,"ms")}function JT(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function XG(e,t,r){return Math.max(e,Math.min(r,t))}function Dy(e){return e.substr(-2)==="px"?parseFloat(e):0}function Xve(e){var t=window.getComputedStyle(e);return{bottom:Dy(t.marginBottom),left:Dy(t.marginLeft),right:Dy(t.marginRight),top:Dy(t.marginTop)}}function RM(e,t){var r=t.displayName||t.name;return r?"".concat(e,"(").concat(r,")"):e}function NM(e,t){var r=e.getBoundingClientRect();return{top:r.top+t.top,left:r.left+t.left}}function eb(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function qve(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function Hx(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var i={left:r.left+e.offsetLeft,top:r.top+e.offsetTop};return e.parentNode===t?i:Hx(e.parentNode,t,i)}}function Kve(e,t,r){return e<r&&e>t?e-1:e>r&&e<t?e+1:e}function qG(e){var t=e.lockOffset,r=e.width,i=e.height,n=t,s=t,c="px";if(typeof t=="string"){var h=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);hg(h!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),n=parseFloat(t),s=parseFloat(t),c=h[1]}return hg(isFinite(n)&&isFinite(s),"lockOffset value should be a finite. Given %s",t),c==="%"&&(n=n*r/100,s=s*i/100),{x:n,y:s}}function Zve(e){var t=e.height,r=e.width,i=e.lockOffset,n=Array.isArray(i)?i:[i,i];hg(n.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",i);var s=jG(n,2),c=s[0],h=s[1];return[qG({height:t,lockOffset:c,width:r}),qG({height:t,lockOffset:h,width:r})]}function Qve(e){var t=window.getComputedStyle(e),r=/(auto|scroll)/,i=["overflow","overflowX","overflowY"];return i.find(function(n){return r.test(t[n])})}function KG(e){return e instanceof HTMLElement?Qve(e)?e:KG(e.parentNode):null}function Jve(e){var t=window.getComputedStyle(e);return t.display==="grid"?{x:Dy(t.gridColumnGap),y:Dy(t.gridRowGap)}:{x:0,y:0}}var fg={ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},dg={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function e0e(e){var t="input, textarea, select, canvas, [contenteditable]",r=e.querySelectorAll(t),i=e.cloneNode(!0),n=jve(i.querySelectorAll(t));return n.forEach(function(s,c){if(s.type!=="file"&&(s.value=r[c].value),s.type==="radio"&&s.name&&(s.name="__sortableClone__".concat(s.name)),s.tagName===dg.Canvas&&r[c].width>0&&r[c].height>0){var h=s.getContext("2d");h.drawImage(r[c],0,0)}}),i}function MM(e){var t,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=(function(n){kM(s,n);function s(){return KT(this,s),DM(this,QT(s).apply(this,arguments))}return ZT(s,[{key:"componentDidMount",value:function(){var h=X.findDOMNode(this);h.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return hg(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var h=i.withRef?"wrappedInstance":null;return ue.createElement(e,qT({ref:h},this.props))}}]),s})(ue.Component),Si(t,"displayName",RM("sortableHandle",e)),r}function ZG(e){return e.sortableHandle!=null}var t0e=(function(){function e(t,r){KT(this,e),this.container=t,this.onScrollCallback=r}return ZT(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(r){var i=this,n=r.translate,s=r.minTranslate,c=r.maxTranslate,h=r.width,p=r.height,m={x:0,y:0},d={x:1,y:1},E={x:10,y:10},_=this.container,T=_.scrollTop,C=_.scrollLeft,A=_.scrollHeight,D=_.scrollWidth,O=_.clientHeight,B=_.clientWidth,P=T===0,R=A-T-O===0,$=C===0,W=D-C-B===0;n.y>=c.y-p/2&&!R?(m.y=1,d.y=E.y*Math.abs((c.y-p/2-n.y)/p)):n.x>=c.x-h/2&&!W?(m.x=1,d.x=E.x*Math.abs((c.x-h/2-n.x)/h)):n.y<=s.y+p/2&&!P?(m.y=-1,d.y=E.y*Math.abs((n.y-p/2-s.y)/p)):n.x<=s.x+h/2&&!$&&(m.x=-1,d.x=E.x*Math.abs((n.x-h/2-s.x)/h)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(m.x!==0||m.y!==0)&&(this.interval=setInterval(function(){i.isAutoScrolling=!0;var Z={left:d.x*m.x,top:d.y*m.y};i.container.scrollTop+=Z.top,i.container.scrollLeft+=Z.left,i.onScrollCallback(Z)},5))}}]),e})();function r0e(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}}function n0e(e){var t=[dg.Input,dg.Textarea,dg.Select,dg.Option,dg.Button];return!!(t.indexOf(e.target.tagName)!==-1||JT(e.target,function(r){return r.contentEditable==="true"}))}var QG={axis:z.exports.oneOf(["x","y","xy"]),contentWindow:z.exports.any,disableAutoscroll:z.exports.bool,distance:z.exports.number,getContainer:z.exports.func,getHelperDimensions:z.exports.func,helperClass:z.exports.string,helperContainer:z.exports.oneOfType([z.exports.func,typeof HTMLElement>"u"?z.exports.any:z.exports.instanceOf(HTMLElement)]),hideSortableGhost:z.exports.bool,keyboardSortingTransitionDuration:z.exports.number,lockAxis:z.exports.string,lockOffset:z.exports.oneOfType([z.exports.number,z.exports.string,z.exports.arrayOf(z.exports.oneOfType([z.exports.number,z.exports.string]))]),lockToContainerEdges:z.exports.bool,onSortEnd:z.exports.func,onSortMove:z.exports.func,onSortOver:z.exports.func,onSortStart:z.exports.func,pressDelay:z.exports.number,pressThreshold:z.exports.number,keyCodes:z.exports.shape({lift:z.exports.arrayOf(z.exports.number),drop:z.exports.arrayOf(z.exports.number),cancel:z.exports.arrayOf(z.exports.number),up:z.exports.arrayOf(z.exports.number),down:z.exports.arrayOf(z.exports.number)}),shouldCancelStart:z.exports.func,transitionDuration:z.exports.number,updateBeforeSortStart:z.exports.func,useDragHandle:z.exports.bool,useWindowAsScrollContainer:z.exports.bool},JG={lift:[fg.SPACE],drop:[fg.SPACE],cancel:[fg.ESC],up:[fg.UP,fg.LEFT],down:[fg.DOWN,fg.RIGHT]},i0e={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:r0e,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:JG,shouldCancelStart:n0e,transitionDuration:300,useWindowAsScrollContainer:!1},a0e=Object.keys(QG);function o0e(e){hg(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function s0e(e,t){try{var r=e()}catch(i){return t(!0,i)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function l0e(e){var t,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=(function(n){kM(s,n);function s(c){var h;return KT(this,s),h=DM(this,QT(s).call(this,c)),Si(Fn(Fn(h)),"state",{}),Si(Fn(Fn(h)),"handleStart",function(p){var m=h.props,d=m.distance,E=m.shouldCancelStart;if(!(p.button===2||E(p))){h.touched=!0,h.position=eb(p);var _=JT(p.target,function(B){return B.sortableInfo!=null});if(_&&_.sortableInfo&&h.nodeIsChild(_)&&!h.state.sorting){var T=h.props.useDragHandle,C=_.sortableInfo,A=C.index,D=C.collection,O=C.disabled;if(O||T&&!JT(p.target,ZG))return;h.manager.active={collection:D,index:A},!qve(p)&&p.target.tagName===dg.Anchor&&p.preventDefault(),d||(h.props.pressDelay===0?h.handlePress(p):h.pressTimer=setTimeout(function(){return h.handlePress(p)},h.props.pressDelay))}}}),Si(Fn(Fn(h)),"nodeIsChild",function(p){return p.sortableInfo.manager===h.manager}),Si(Fn(Fn(h)),"handleMove",function(p){var m=h.props,d=m.distance,E=m.pressThreshold;if(!h.state.sorting&&h.touched&&!h._awaitingUpdateBeforeSortStart){var _=eb(p),T={x:h.position.x-_.x,y:h.position.y-_.y},C=Math.abs(T.x)+Math.abs(T.y);h.delta=T,!d&&(!E||C>=E)?(clearTimeout(h.cancelTimer),h.cancelTimer=setTimeout(h.cancel,0)):d&&C>=d&&h.manager.isActive()&&h.handlePress(p)}}),Si(Fn(Fn(h)),"handleEnd",function(){h.touched=!1,h.cancel()}),Si(Fn(Fn(h)),"cancel",function(){var p=h.props.distance,m=h.state.sorting;m||(p||clearTimeout(h.pressTimer),h.manager.active=null)}),Si(Fn(Fn(h)),"handlePress",function(p){try{var m=h.manager.getActive(),d=(function(){if(m){var E=function(){var ae=R.sortableInfo.index,le=Xve(R),J=Jve(h.container),ge=h.scrollContainer.getBoundingClientRect(),Ee=C({index:ae,node:R,collection:$});if(h.node=R,h.margin=le,h.gridGap=J,h.width=Ee.width,h.height=Ee.height,h.marginOffset={x:h.margin.left+h.margin.right+h.gridGap.x,y:Math.max(h.margin.top,h.margin.bottom,h.gridGap.y)},h.boundingClientRect=R.getBoundingClientRect(),h.containerBoundingRect=ge,h.index=ae,h.newIndex=ae,h.axis={x:T.indexOf("x")>=0,y:T.indexOf("y")>=0},h.offsetEdge=Hx(R,h.container),W?h.initialOffset=eb(IM({},p,{pageX:h.boundingClientRect.left,pageY:h.boundingClientRect.top})):h.initialOffset=eb(p),h.initialScroll={left:h.scrollContainer.scrollLeft,top:h.scrollContainer.scrollTop},h.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},h.helper=h.helperContainer.appendChild(e0e(R)),Fx(h.helper,{boxSizing:"border-box",height:"".concat(h.height,"px"),left:"".concat(h.boundingClientRect.left-le.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(h.boundingClientRect.top-le.top,"px"),width:"".concat(h.width,"px")}),W&&h.helper.focus(),D&&(h.sortableGhost=R,Fx(R,{opacity:0,visibility:"hidden"})),h.minTranslate={},h.maxTranslate={},W){var ne=P?{top:0,left:0,width:h.contentWindow.innerWidth,height:h.contentWindow.innerHeight}:h.containerBoundingRect,ve=ne.top,Me=ne.left,je=ne.width,Qe=ne.height,tt=ve+Qe,st=Me+je;h.axis.x&&(h.minTranslate.x=Me-h.boundingClientRect.left,h.maxTranslate.x=st-(h.boundingClientRect.left+h.width)),h.axis.y&&(h.minTranslate.y=ve-h.boundingClientRect.top,h.maxTranslate.y=tt-(h.boundingClientRect.top+h.height))}else h.axis.x&&(h.minTranslate.x=(P?0:ge.left)-h.boundingClientRect.left-h.width/2,h.maxTranslate.x=(P?h.contentWindow.innerWidth:ge.left+ge.width)-h.boundingClientRect.left-h.width/2),h.axis.y&&(h.minTranslate.y=(P?0:ge.top)-h.boundingClientRect.top-h.height/2,h.maxTranslate.y=(P?h.contentWindow.innerHeight:ge.top+ge.height)-h.boundingClientRect.top-h.height/2);A&&A.split(" ").forEach(function(Ct){return h.helper.classList.add(Ct)}),h.listenerNode=p.touches?R:h.contentWindow,W?(h.listenerNode.addEventListener("wheel",h.handleKeyEnd,!0),h.listenerNode.addEventListener("mousedown",h.handleKeyEnd,!0),h.listenerNode.addEventListener("keydown",h.handleKeyDown)):(Iy.move.forEach(function(Ct){return h.listenerNode.addEventListener(Ct,h.handleSortMove,!1)}),Iy.end.forEach(function(Ct){return h.listenerNode.addEventListener(Ct,h.handleSortEnd,!1)})),h.setState({sorting:!0,sortingIndex:ae}),B&&B({node:R,index:ae,collection:$,isKeySorting:W,nodes:h.manager.getOrderedRefs(),helper:h.helper},p),W&&h.keyMove(0)},_=h.props,T=_.axis,C=_.getHelperDimensions,A=_.helperClass,D=_.hideSortableGhost,O=_.updateBeforeSortStart,B=_.onSortStart,P=_.useWindowAsScrollContainer,R=m.node,$=m.collection,W=h.manager.isKeySorting,Z=(function(){if(typeof O=="function"){h._awaitingUpdateBeforeSortStart=!0;var K=s0e(function(){var ae=R.sortableInfo.index;return Promise.resolve(O({collection:$,index:ae,node:R,isKeySorting:W},p)).then(function(){})},function(ae,le){if(h._awaitingUpdateBeforeSortStart=!1,ae)throw le;return le});if(K&&K.then)return K.then(function(){})}})();return Z&&Z.then?Z.then(E):E(Z)}})();return Promise.resolve(d&&d.then?d.then(function(){}):void 0)}catch(E){return Promise.reject(E)}}),Si(Fn(Fn(h)),"handleSortMove",function(p){var m=h.props.onSortMove;typeof p.preventDefault=="function"&&p.preventDefault(),h.updateHelperPosition(p),h.animateNodes(),h.autoscroll(),m&&m(p)}),Si(Fn(Fn(h)),"handleSortEnd",function(p){var m=h.props,d=m.hideSortableGhost,E=m.onSortEnd,_=h.manager,T=_.active.collection,C=_.isKeySorting,A=h.manager.getOrderedRefs();h.listenerNode&&(C?(h.listenerNode.removeEventListener("wheel",h.handleKeyEnd,!0),h.listenerNode.removeEventListener("mousedown",h.handleKeyEnd,!0),h.listenerNode.removeEventListener("keydown",h.handleKeyDown)):(Iy.move.forEach(function(R){return h.listenerNode.removeEventListener(R,h.handleSortMove)}),Iy.end.forEach(function(R){return h.listenerNode.removeEventListener(R,h.handleSortEnd)}))),h.helper.parentNode.removeChild(h.helper),d&&h.sortableGhost&&Fx(h.sortableGhost,{opacity:"",visibility:""});for(var D=0,O=A.length;D<O;D++){var B=A[D],P=B.node;B.edgeOffset=null,B.boundingClientRect=null,Ux(P,null),PM(P,null),B.translate=null}h.autoScroller.clear(),h.manager.active=null,h.manager.isKeySorting=!1,h.setState({sorting:!1,sortingIndex:null}),typeof E=="function"&&E({collection:T,newIndex:h.newIndex,oldIndex:h.index,isKeySorting:C,nodes:A},p),h.touched=!1}),Si(Fn(Fn(h)),"autoscroll",function(){var p=h.props.disableAutoscroll,m=h.manager.isKeySorting;if(p){h.autoScroller.clear();return}if(m){var d=IM({},h.translate),E=0,_=0;h.axis.x&&(d.x=Math.min(h.maxTranslate.x,Math.max(h.minTranslate.x,h.translate.x)),E=h.translate.x-d.x),h.axis.y&&(d.y=Math.min(h.maxTranslate.y,Math.max(h.minTranslate.y,h.translate.y)),_=h.translate.y-d.y),h.translate=d,Ux(h.helper,h.translate),h.scrollContainer.scrollLeft+=E,h.scrollContainer.scrollTop+=_;return}h.autoScroller.update({height:h.height,maxTranslate:h.maxTranslate,minTranslate:h.minTranslate,translate:h.translate,width:h.width})}),Si(Fn(Fn(h)),"onAutoScroll",function(p){h.translate.x+=p.left,h.translate.y+=p.top,h.animateNodes()}),Si(Fn(Fn(h)),"handleKeyDown",function(p){var m=p.keyCode,d=h.props,E=d.shouldCancelStart,_=d.keyCodes,T=_===void 0?{}:_,C=IM({},JG,T);h.manager.active&&!h.manager.isKeySorting||!h.manager.active&&(!C.lift.includes(m)||E(p)||!h.isValidSortingTarget(p))||(p.stopPropagation(),p.preventDefault(),C.lift.includes(m)&&!h.manager.active?h.keyLift(p):C.drop.includes(m)&&h.manager.active?h.keyDrop(p):C.cancel.includes(m)?(h.newIndex=h.manager.active.index,h.keyDrop(p)):C.up.includes(m)?h.keyMove(-1):C.down.includes(m)&&h.keyMove(1))}),Si(Fn(Fn(h)),"keyLift",function(p){var m=p.target,d=JT(m,function(C){return C.sortableInfo!=null}),E=d.sortableInfo,_=E.index,T=E.collection;h.initialFocusedNode=m,h.manager.isKeySorting=!0,h.manager.active={index:_,collection:T},h.handlePress(p)}),Si(Fn(Fn(h)),"keyMove",function(p){var m=h.manager.getOrderedRefs(),d=m[m.length-1].node.sortableInfo.index,E=h.newIndex+p,_=h.newIndex;if(!(E<0||E>d)){h.prevIndex=_,h.newIndex=E;var T=Kve(h.newIndex,h.prevIndex,h.index),C=m.find(function(W){var Z=W.node;return Z.sortableInfo.index===T}),A=C.node,D=h.containerScrollDelta,O=C.boundingClientRect||NM(A,D),B=C.translate||{x:0,y:0},P={top:O.top+B.y-D.top,left:O.left+B.x-D.left},R=_<E,$={x:R&&h.axis.x?A.offsetWidth-h.width:0,y:R&&h.axis.y?A.offsetHeight-h.height:0};h.handleSortMove({pageX:P.left+$.x,pageY:P.top+$.y,ignoreTransition:p===0})}}),Si(Fn(Fn(h)),"keyDrop",function(p){h.handleSortEnd(p),h.initialFocusedNode&&h.initialFocusedNode.focus()}),Si(Fn(Fn(h)),"handleKeyEnd",function(p){h.manager.active&&h.keyDrop(p)}),Si(Fn(Fn(h)),"isValidSortingTarget",function(p){var m=h.props.useDragHandle,d=p.target,E=JT(d,function(_){return _.sortableInfo!=null});return E&&E.sortableInfo&&!E.sortableInfo.disabled&&(m?ZG(d):d.sortableInfo)}),o0e(c),h.manager=new Vve,h.events={end:h.handleEnd,move:h.handleMove,start:h.handleStart},h}return ZT(s,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var h=this,p=this.props.useWindowAsScrollContainer,m=this.getContainer();Promise.resolve(m).then(function(d){h.container=d,h.document=h.container.ownerDocument||document;var E=h.props.contentWindow||h.document.defaultView||window;h.contentWindow=typeof E=="function"?E():E,h.scrollContainer=p?h.document.scrollingElement||h.document.documentElement:KG(h.container)||h.container,h.autoScroller=new t0e(h.scrollContainer,h.onAutoScroll),Object.keys(h.events).forEach(function(_){return Iy[_].forEach(function(T){return h.container.addEventListener(T,h.events[_],!1)})}),h.container.addEventListener("keydown",h.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var h=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(p){return Iy[p].forEach(function(m){return h.container.removeEventListener(m,h.events[p])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(h){var p=this.props,m=p.lockAxis,d=p.lockOffset,E=p.lockToContainerEdges,_=p.transitionDuration,T=p.keyboardSortingTransitionDuration,C=T===void 0?_:T,A=this.manager.isKeySorting,D=h.ignoreTransition,O=eb(h),B={x:O.x-this.initialOffset.x,y:O.y-this.initialOffset.y};if(B.y-=window.pageYOffset-this.initialWindowScroll.top,B.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=B,E){var P=Zve({height:this.height,lockOffset:d,width:this.width}),R=jG(P,2),$=R[0],W=R[1],Z={x:this.width/2-$.x,y:this.height/2-$.y},K={x:this.width/2-W.x,y:this.height/2-W.y};B.x=XG(this.minTranslate.x+Z.x,this.maxTranslate.x-K.x,B.x),B.y=XG(this.minTranslate.y+Z.y,this.maxTranslate.y-K.y,B.y)}m==="x"?B.y=0:m==="y"&&(B.x=0),A&&C&&!D&&PM(this.helper,C),Ux(this.helper,B)}},{key:"animateNodes",value:function(){var h=this.props,p=h.transitionDuration,m=h.hideSortableGhost,d=h.onSortOver,E=this.containerScrollDelta,_=this.windowScrollDelta,T=this.manager.getOrderedRefs(),C={left:this.offsetEdge.left+this.translate.x+E.left,top:this.offsetEdge.top+this.translate.y+E.top},A=this.manager.isKeySorting,D=this.newIndex;this.newIndex=null;for(var O=0,B=T.length;O<B;O++){var P=T[O].node,R=P.sortableInfo.index,$=P.offsetWidth,W=P.offsetHeight,Z={height:this.height>W?W/2:this.height/2,width:this.width>$?$/2:this.width/2},K=A&&R>this.index&&R<=D,ae=A&&R<this.index&&R>=D,le={x:0,y:0},J=T[O].edgeOffset;J||(J=Hx(P,this.container),T[O].edgeOffset=J,A&&(T[O].boundingClientRect=NM(P,E)));var ge=O<T.length-1&&T[O+1],Ee=O>0&&T[O-1];if(ge&&!ge.edgeOffset&&(ge.edgeOffset=Hx(ge.node,this.container),A&&(ge.boundingClientRect=NM(ge.node,E))),R===this.index){m&&(this.sortableGhost=P,Fx(P,{opacity:0,visibility:"hidden"}));continue}p&&PM(P,p),this.axis.x?this.axis.y?ae||R<this.index&&(C.left+_.left-Z.width<=J.left&&C.top+_.top<=J.top+Z.height||C.top+_.top+Z.height<=J.top)?(le.x=this.width+this.marginOffset.x,J.left+le.x>this.containerBoundingRect.width-Z.width&&ge&&(le.x=ge.edgeOffset.left-J.left,le.y=ge.edgeOffset.top-J.top),this.newIndex===null&&(this.newIndex=R)):(K||R>this.index&&(C.left+_.left+Z.width>=J.left&&C.top+_.top+Z.height>=J.top||C.top+_.top+Z.height>=J.top+W))&&(le.x=-(this.width+this.marginOffset.x),J.left+le.x<this.containerBoundingRect.left+Z.width&&Ee&&(le.x=Ee.edgeOffset.left-J.left,le.y=Ee.edgeOffset.top-J.top),this.newIndex=R):K||R>this.index&&C.left+_.left+Z.width>=J.left?(le.x=-(this.width+this.marginOffset.x),this.newIndex=R):(ae||R<this.index&&C.left+_.left<=J.left+Z.width)&&(le.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=R)):this.axis.y&&(K||R>this.index&&C.top+_.top+Z.height>=J.top?(le.y=-(this.height+this.marginOffset.y),this.newIndex=R):(ae||R<this.index&&C.top+_.top<=J.top+Z.height)&&(le.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=R))),Ux(P,le),T[O].translate=le}this.newIndex==null&&(this.newIndex=this.index),A&&(this.newIndex=D);var ne=A?this.prevIndex:D;d&&this.newIndex!==ne&&d({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:ne,isKeySorting:A,nodes:T,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return hg(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var h=this.props.getContainer;return typeof h!="function"?X.findDOMNode(this):h(i.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var h=i.withRef?"wrappedInstance":null;return ue.createElement(e,qT({ref:h},WG(this.props,a0e)))}},{key:"helperContainer",get:function(){var h=this.props.helperContainer;return typeof h=="function"?h():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var h=this.props.useWindowAsScrollContainer;return h?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),s})(ue.Component),Si(t,"displayName",RM("sortableList",e)),Si(t,"defaultProps",i0e),Si(t,"propTypes",QG),Si(t,"childContextTypes",{manager:z.exports.object.isRequired}),r}var e7={index:z.exports.number.isRequired,collection:z.exports.oneOfType([z.exports.number,z.exports.string]),disabled:z.exports.bool},u0e=Object.keys(e7);function t7(e){var t,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=(function(n){kM(s,n);function s(){return KT(this,s),DM(this,QT(s).apply(this,arguments))}return ZT(s,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(h){this.node&&(h.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),h.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),h.collection!==this.props.collection&&(this.unregister(h.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var h=this.props,p=h.collection,m=h.disabled,d=h.index,E=X.findDOMNode(this);E.sortableInfo={collection:p,disabled:m,index:d,manager:this.context.manager},this.node=E,this.ref={node:E},this.context.manager.add(p,this.ref)}},{key:"unregister",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(h,this.ref)}},{key:"getWrappedInstance",value:function(){return hg(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var h=i.withRef?"wrappedInstance":null;return ue.createElement(e,qT({ref:h},WG(this.props,u0e)))}}]),s})(ue.Component),Si(t,"displayName",RM("sortableElement",e)),Si(t,"contextTypes",{manager:z.exports.object.isRequired}),Si(t,"propTypes",e7),Si(t,"defaultProps",{collection:0}),r}const r7=yd(e=>e.pos).left,no=(e,t)=>{if(!t||!t.cumPositions||!t.cumPositions.length)return null;let r=r7(t.cumPositions,e);const i=t.cumPositions[t.cumPositions.length-1].chr,n=t.chromLengths[i];r-=r>0&&1;let s=Math.floor(e-t.cumPositions[r].pos),c=0;return s<0&&(c=s-1,s=1),r===t.cumPositions.length-1&&s>n&&(c=s-n,s=n),[t.cumPositions[r].chr,s,c,r]},n7=(e,t)=>r=>r%e*t+Math.floor(r/e),c0e=e=>e,i7=(e,t,r=c0e)=>e.map((i,n)=>i+t[r(n)]),h0e="http://www.w3.org/2000/svg",$x=(e,t)=>{if(e.namespaceURI===h0e){const r=e.getAttribute("class");return r&&!!r.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))},f0e="http://www.w3.org/2000/svg",d0e=(e,t)=>{if(e.namespaceURI===f0e){if(!$x(e,t)){const r=e.getAttribute("class")||"";e.setAttribute("class",`${r} ${t}`)}}else e.classList?e.classList.add(t):$x(e,t)||(e.className+=` ${t}`)},p0e=(e,t,r)=>{const i=document.createElement("canvas");return new Promise((n,s)=>{const c=new window.Image;c.onload=()=>{i.width=t||c.width,i.height=r||c.height,i.getContext("2d").drawImage(c,0,0),n(i)},c.onerror=()=>{s(new Error("Could not convert base64 to canvas"))},c.src=`data:image/png;base64,${e}`})},Gx=(e,t,r)=>r.chrPositions[e].pos+t,a7=e=>{const t=new e.constructor(e.type,e);return t.sourceUid=e.sourceUid,t.forwarded=e.forwarded,t},tp=(e,t=!1)=>{const r=e.map((c,h)=>h*(255/(e.length-1))),i=qr().domain(r).range(e),s=xa(t?255:254,-1,-1).map(i).map(c=>{const h=$u(c);return[h.r,h.g,h.b,h.opacity*255]});return s.length<256&&s.push([255,255,255,0]),s},tb=0,rb=5,o7=10,s7=10,l7=300,zx="move",du="select",LM=100,jx=10,u7=110,nb=3e3,ib="locationListenerPrefix",c7=1e3,BM="http://higlass.io/api/v1",h7=400,f7=300,FM=["top","left","right","bottom","center","whole","gallery"],d7=20,p7=20,Vx=Symbol("Light theme"),Oi=Symbol("Dark theme"),m0e=Vx,er={PIXI:qe},pu={"multitrack-header":"_multitrack-header_1yz7l_1","multitrack-header-focus":"_multitrack-header-focus_1yz7l_2","multitrack-header-squeazed":"_multitrack-header-squeazed_1yz7l_3","multitrack-header-dark":"_multitrack-header-dark_1yz7l_20","multitrack-header-id":"_multitrack-header-id_1yz7l_30","multitrack-header-left":"_multitrack-header-left_1yz7l_39","multitrack-header-grabber":"_multitrack-header-grabber_1yz7l_44","multitrack-header-grabber-squeazed":"_multitrack-header-grabber-squeazed_1yz7l_45","multitrack-header-search":"_multitrack-header-search_1yz7l_80","multitrack-header-nav-list":"_multitrack-header-nav-list_1yz7l_102","multitrack-header-icon":"_multitrack-header-icon_1yz7l_107","multitrack-header-icon-squeazed":"_multitrack-header-icon-squeazed_1yz7l_108","mouse-tool-selection":"_mouse-tool-selection_1yz7l_136"},g0e=[{id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},{id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},{id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},{id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},{id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},{id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},{id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},{id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},{id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]},{id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},{id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},{id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},{id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},{id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]},{id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},{id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]}],ic=new DOMParser,UM=ic.parseFromString('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>',"text/xml").documentElement,v0e=ic.parseFromString(`
<svg width="20px" height="20px" viewBox="0 0 20 20">
  <rect x="0" y="3" width="4" height="14" fill="#637993"/>
  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>
  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>
  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>
  <rect x="14" y="3" width="2" height="14" fill="#000000"/>
  <rect x="16" y="3" width="4" height="14" fill="#637993"/>
</svg>
`,"text/xml").documentElement,y0e=ic.parseFromString(`
<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>line</title>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>
    </g>
</svg>
`,"text/xml").documentElement,m7=ic.parseFromString(`
<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-1"></use>
        </mask>
        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-3"></use>
        </mask>
        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-5"></use>
        </mask>
        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-7"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>
    </g>
</svg>
`,"text/xml").documentElement,g7=ic.parseFromString(`
<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-heatmap</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>
        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>
        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>
        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>
    </g>
</svg>
`,"text/xml").documentElement,v7=`
<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>axis-1d</title>
    <desc>Created with Sketch.</desc>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>
        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>
    </g>
</svg>
`,_0e=ic.parseFromString(v7,"text/xml").documentElement,E0e=tn(ic.parseFromString(v7,"text/xml").documentElement).style("transform","rotate(90deg)").node(),T0e=ic.parseFromString(`
<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>gene-annotations</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>
        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-1"></use>
        </mask>
        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>
        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-3"></use>
        </mask>
        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>
        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">
            <use xlink:href="#geneAnnotations-path-5"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>
        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>
    </g>
</svg>
`,"text/xml").documentElement,y7=`
<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>1d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-1"></use>
        </mask>
        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>
    </g>
</svg>
`,b0e=ic.parseFromString(y7,"text/xml").documentElement,S0e=tn(ic.parseFromString(y7,"text/xml").documentElement).style("transform","rotate(90deg)").node(),ab=ic.parseFromString(`
<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>arrowhead-domains</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>
        </mask>
        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>
        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>
    </g>
</svg>
`,"text/xml").documentElement;function C0e({theStyle:e,onClick:t}){return M.default.createElement("svg",{className:pu[e],viewBox:"0 0 12 13",onClick:t,xmlns:"http://www.w3.org/2000/svg"},M.default.createElement("g",{fill:"none",stroke:"#6c6c6c",strokeWidth:"2"},M.default.createElement("path",{d:"M11.29 11.71l-4-4"}),M.default.createElement("circle",{cx:"5",cy:"5",r:"4"})))}const _7={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:UM,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},E7={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:UM,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},pg=[_7,{..._7,type:"osm"},E7,{...E7,type:"mapbox"},{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:E0e,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:_0e,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:g7,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:{[Oi]:{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"}}},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:g7,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:y0e,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:{[Oi]:{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"}}},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:v0e,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:{[Oi]:{colorbarBackgroundColor:"#000000"}}},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:m7},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:T0e,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:{[Oi]:{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"}}},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:ab,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:ab,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:ab,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainFillOpacity","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainFillOpacity:.4,rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:ab,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:ab,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:{[Oi]:{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"}}},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:S0e},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:b0e},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:m7,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:UM,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}],HM=e=>{const t={},r=i=>!!(i.orientation===e||e==="1d-vertical"&&i.orientation==="1d-horizontal"&&i.rotatable);return pg.filter(r).forEach(i=>{let n=i.datatype;Array.isArray(i.datatype)||(n=[n]),n.forEach(s=>{s in t||(t[s]=[]),t[s].push(i)})}),t.none=[],t},Oy=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]],Ci=pg.reduce((e,t)=>{if(e[t.type]=t,t.aliases)for(const r of t.aliases)e[r]=t;return e},{}),A0e=pg.reduce((e,t)=>{for(let r=0;r<t.datatype.length;r++){const i=t.datatype[r];return e[i]?e[i].add(t.orientation):e[i]=new Set,e}return{}},{}),ob={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}},Wx=(e,t)=>{const r=HM(t);let i=new Set(Object.values(r).flatMap(n=>n));for(const n of e){const s=new Set(n);i=new Set([...i].filter(c=>c.datatype.filter(h=>s.has(h)).length>0))}return[...i]},T7=8,$M=8,w0e=Object.freeze(Object.defineProperty({__proto__:null,THEME_LIGHT:Vx,THEME_DARK:Oi,THEME_DEFAULT:m0e,GLOBALS:er,DATATYPE_TO_TRACK_TYPE:HM,HEATED_OBJECT_MAP:Oy,TRACKS_INFO:pg,TRACKS_INFO_BY_TYPE:Ci,POSITIONS_BY_DATATYPE:A0e,DEFAULT_TRACKS_FOR_DATATYPE:ob,AVAILABLE_TRACK_TYPES:Wx,NUM_PRECOMP_SUBSETS_PER_1D_TTILE:T7,NUM_PRECOMP_SUBSETS_PER_2D_TTILE:$M,DEFAULT_VIEW_MARGIN:tb,DEFAULT_VIEW_PADDING:rb,DEFAULT_CONTAINER_PADDING_X:o7,DEFAULT_CONTAINER_PADDING_Y:s7,MAX_CLICK_DELAY:l7,MOUSE_TOOL_MOVE:zx,MOUSE_TOOL_SELECT:du,TILE_FETCH_DEBOUNCE:LM,ZOOM_DEBOUNCE:jx,SHORT_DRAG_TIMEOUT:u7,LONG_DRAG_TIMEOUT:nb,LOCATION_LISTENER_PREFIX:ib,ZOOM_TRANSITION_DURATION:c7,DEFAULT_SERVER:BM,VIEW_HEADER_MED_WIDTH_SEARCH_BAR:h7,VIEW_HEADER_MIN_WIDTH_SEARCH_BAR:f7,TRACK_LOCATIONS:FM,MIN_HORIZONTAL_HEIGHT:d7,MIN_VERTICAL_WIDTH:p7},Symbol.toStringTag,{value:"Module"})),Pr=e=>{const t=Bi(e);return er.PIXI.utils.rgb2hex([t.r/255,t.g/255,t.b/255])},b7=e=>{if(e==="transparent")return[255,255,255,0];const t=Bi(e);return[t.r,t.g,t.b,255]},Yx=(e,t,r)=>{const i=no(e,r),n=no(t,r);return[i[0],Math.round(i[1]),n[0],Math.round(n[1])]},Xx=(e,t,r)=>{let i;const n=(...s)=>{const c=()=>{i=null,r||e(...s)},h=r&&!i;clearTimeout(i),i=setTimeout(c,t),h&&e(...s)};return Xx.cancel=()=>{clearTimeout(i),i=null},n},GM=e=>(e+16**6).toString(16).substr(-6),S7=e=>{const t={};return e.forEach(r=>{t[r[0]]=r[1]}),t},mu=e=>{const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push([r,e[r]]);return t};function gu(e){const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(r);return t}function vi(e){const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function sb(e,t){const r=typeof t=="string"?new Blob([t],{type:"application/octet-stream"}):t;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(r,e);else{const i=window.document.createElement("a");i.href=window.URL.createObjectURL(r),i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(i.href)}}const C7=e=>{const t=["top","bottom","gallery"],r=["left","right","gallery"];return e.center=e.center||[],e.left=e.left||[],e.right=e.right||[],e.top=e.top||[],e.bottom=e.bottom||[],e.whole=e.whole||[],e.gallery=e.gallery||[],t.map(i=>e[i]).forEach(i=>i.forEach(n=>{const s=Ci[n.type],c=s&&s.defaultOptions||{},h=n.options?{...c,...n.options}:c;h.minHeight!==void 0&&n.height===void 0&&(n.height=h.minHeight),n.height===void 0&&(n.height=s&&s.defaultHeight||d7)})),r.map(i=>e[i]).forEach(i=>i.forEach(n=>{const s=Ci[n.type],c=s&&s.defaultOptions||{},h=n.options?{...c,...n.options}:c;h.minWidth!==void 0&&n.width===void 0&&(n.width=h.minWidth),n.width===void 0&&(n.width=s&&s.defaultWidth||p7)})),e},A7=e=>t=>Array.prototype.reduce.call(t,e),x0e=A7((e,t)=>e.concat(t)),I0e=e=>t=>Array.prototype.forEach.call(t,e),qx=(e,t)=>{t.dispatchEvent(a7(e))},D0e=(e,t)=>[Gx(e[0],e[1],t),Gx(e[2],e[3],t)];function O0e(e,t,r,i,n){const{chr:s,pos:c}=t,{chr:h,pos:p}=r,m=[];if(s===h){const d=s,E=Math.floor(c/i),_=Math.min(E+n,Math.ceil(p/i));m.push([d,E,_])}else{let d=n;const E=e.findIndex(([T])=>T===s),_=e.findIndex(([T])=>T===h);for(let T=E;T<=_;T++){let C,A;const[D,O]=e[T];T<_?(T===E?C=c:C=0,A=O):(C=0,A=p);const B=Math.floor(C/i),P=Math.min(B+d,Math.ceil(A/i));m.push([D,B,P]),d-=P-B}}return m}const zM=(e,t,r)=>{if(r.length===0)return;if(r.length===1)return r[0];let i=r[0];const n=ob[e]!==void 0?ob[e][t]:void 0;return n!==void 0&&(i=r.find(s=>s.type===n)||i),i};var w7={},jM={},VM=34,lb=10,WM=13;function x7(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function k0e(e,t){var r=x7(e);return function(i,n){return t(r(i),n,e)}}function I7(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var n in i)n in t||r.push(t[n]=n)}),r}function qs(e,t){var r=e+"",i=r.length;return i<t?new Array(t-i+1).join(0)+r:r}function P0e(e){return e<0?"-"+qs(-e,6):e>9999?"+"+qs(e,6):qs(e,4)}function R0e(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),n=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":P0e(e.getUTCFullYear())+"-"+qs(e.getUTCMonth()+1,2)+"-"+qs(e.getUTCDate(),2)+(n?"T"+qs(t,2)+":"+qs(r,2)+":"+qs(i,2)+"."+qs(n,3)+"Z":i?"T"+qs(t,2)+":"+qs(r,2)+":"+qs(i,2)+"Z":r||t?"T"+qs(t,2)+":"+qs(r,2)+"Z":"")}function YM(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function i(E,_){var T,C,A=n(E,function(D,O){if(T)return T(D,O-1);C=D,T=_?k0e(D,_):x7(D)});return A.columns=C||[],A}function n(E,_){var T=[],C=E.length,A=0,D=0,O,B=C<=0,P=!1;E.charCodeAt(C-1)===lb&&--C,E.charCodeAt(C-1)===WM&&--C;function R(){if(B)return jM;if(P)return P=!1,w7;var W,Z=A,K;if(E.charCodeAt(Z)===VM){for(;A++<C&&E.charCodeAt(A)!==VM||E.charCodeAt(++A)===VM;);return(W=A)>=C?B=!0:(K=E.charCodeAt(A++))===lb?P=!0:K===WM&&(P=!0,E.charCodeAt(A)===lb&&++A),E.slice(Z+1,W-1).replace(/""/g,'"')}for(;A<C;){if((K=E.charCodeAt(W=A++))===lb)P=!0;else if(K===WM)P=!0,E.charCodeAt(A)===lb&&++A;else if(K!==r)continue;return E.slice(Z,W)}return B=!0,E.slice(Z,C)}for(;(O=R())!==jM;){for(var $=[];O!==w7&&O!==jM;)$.push(O),O=R();_&&($=_($,D++))==null||T.push($)}return T}function s(E,_){return E.map(function(T){return _.map(function(C){return d(T[C])}).join(e)})}function c(E,_){return _==null&&(_=I7(E)),[_.map(d).join(e)].concat(s(E,_)).join(`
`)}function h(E,_){return _==null&&(_=I7(E)),s(E,_).join(`
`)}function p(E){return E.map(m).join(`
`)}function m(E){return E.map(d).join(e)}function d(E){return E==null?"":E instanceof Date?R0e(E):t.test(E+="")?'"'+E.replace(/"/g,'""')+'"':E}return{parse:i,parseRows:n,format:c,formatBody:h,formatRows:p,formatRow:m,formatValue:d}}var mg=YM(","),N0e=mg.parse,M0e=mg.parseRows,L0e=mg.format,B0e=mg.formatBody,F0e=mg.formatRows,U0e=mg.formatRow,H0e=mg.formatValue,gg=YM("	"),$0e=gg.parse,XM=gg.parseRows,G0e=gg.format,z0e=gg.formatBody,j0e=gg.formatRows,V0e=gg.formatRow,W0e=gg.formatValue;function Y0e(e){for(var t in e){var r=e[t].trim(),i,n;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(i=+r))r=i;else if(n=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))X0e&&n[4]&&!n[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;e[t]=r}return e}const X0e=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),q0e=Object.freeze(Object.defineProperty({__proto__:null,dsvFormat:YM,csvParse:N0e,csvParseRows:M0e,csvFormat:L0e,csvFormatBody:B0e,csvFormatRows:F0e,csvFormatRow:U0e,csvFormatValue:H0e,tsvParse:$0e,tsvParseRows:XM,tsvFormat:G0e,tsvFormatBody:z0e,tsvFormatRows:j0e,tsvFormatRow:V0e,tsvFormatValue:W0e,autoType:Y0e},Symbol.toStringTag,{value:"Module"})),Kx={},K0e=(e,t)=>Kx[e]?Promise.resolve(Kx[e]):t(e),Z0e=e=>{if(e.length===0)return null;const t=XM(e);return eI(t)},Q0e=e=>fetch(e,{credentials:"same-origin"}).then(t=>t.text()).then(t=>Z0e(t)).catch(t=>{console.error("Could not retrieve or parse chrom info.",t)}),J0e=(e,t,r)=>t(e,r).then(i=>(Kx[e]=i,Kx[e])),qM={get:e=>J0e(e,K0e,Q0e)};let eye=(function(){function e(t){H(this,e),this.customEventHandlers={},this.registeredEls={},this.pubSub=t}return j(e,[{key:"getEventHandler",value:function(r){return this.customEventHandlers[r]?this.customEventHandlers[r]:i=>this.pubSub.publish(r,i)}},{key:"unregister",value:function(r,i){!this.registeredEls[r]&&this.registeredEls[r]!==i||(this.registeredEls[r].removeEventListener(r,this.registeredEls[r].__handler__),this.registeredEls[r]=void 0,delete this.registeredEls[r])}},{key:"register",value:function(r,i,n=!1){!i||this.registeredEls[r]===i||(this.registeredEls[r]&&this.unregister(this.registeredEls[r]),this.registeredEls[r]=i,this.registeredEls[r].__handler__=this.getEventHandler(r),this.registeredEls[r].addEventListener(r,this.registeredEls[r].__handler__,{capture:n,passive:!1}))}}]),e})();const D7=e=>new eye(e);let O7=!1;const k7={listen:()=>{if(O7)return;const[e,t]=L7(),m=[String.fromCharCode(..."102117110099116105111110040041123115101108102046099111110115111108101046108111103040039".match(/.{1,3}/g).map(Z=>+Z)).toLowerCase(),String.fromCharCode(..."072".match(/.{1,3}/g).map(Z=>+Z)),String.fromCharCode(..."105".match(/.{1,3}/g).map(Z=>+Z)).toLowerCase(),String.fromCharCode(..."071".match(/.{1,3}/g).map(Z=>+Z)),String.fromCharCode(..."108097115115".match(/.{1,3}/g).map(Z=>+Z)).toLowerCase(),String.fromCharCode(..."032118".match(/.{1,3}/g).map(Z=>+Z)).toLowerCase(),String.fromCharCode(...t.match(/.{1,3}/g).map(Z=>+Z)).toLowerCase(),String.fromCharCode(..."058032104116116112058047047104105103108097115115046105111039041125".match(/.{1,3}/g).map(Z=>+Z)).toLowerCase()].join(""),d="085082076",E="066076079066",_="087111114107101114",T="099114101097116101079098106101099116085082076",C="114101118111107101079098106101099116085082076",A=Z=>Z.charAt(0).toUpperCase()+Z.slice(1),D=Z=>Z.slice(0,6)+Z.charAt(6).toUpperCase()+Z.slice(7,12)+Z.slice(12).toUpperCase(),O=e[String.fromCharCode(...d.match(/.{1,3}/g).map(Z=>+Z))],B=e[A(String.fromCharCode(...E.match(/.{1,3}/g).map(Z=>+Z)).toLowerCase())],P=e[A(String.fromCharCode(..._.match(/.{1,3}/g).map(Z=>+Z)).toLowerCase())],R=D(String.fromCharCode(...T.match(/.{1,3}/g).map(Z=>+Z)).toLowerCase()),$=D(String.fromCharCode(...C.match(/.{1,3}/g).map(Z=>+Z)).toLowerCase()),W=O[R](new B([`(${m})()`],{type:"application/javascript"}));new P(W),O[$](W),O7=!0}};function tye(e,t,r,i,n,s,c){let h,p;n&&(h=hL(n),p=(C,A)=>h(A.map(D=>e[D*t[1]+C])));let m,d,E,_,T;for(E=0;E<t[1];E++)for(d=0,_=0;_<i.length;_++)if(h&&c==="server"?m=e[_*t[1]+E]:Array.isArray(i[_])&&h?m=p(E,i[_]):m=e[i[_]*t[1]+E],s&&Array.isArray(i[_]))for(T=0;T<i[_].length;T++)r(d*t[1]+E,m),d++;else r(d*t[1]+E,m),d++}function rye(e,t,r,i,n,s,c=!1,h=!1,p=null,m=null,d=null){let E=null;r==="log"?E=Qc().range([254,0]).domain(i):(r!=="linear"&&console.warn("Unknown value scale type:",r," Defaulting to linear"),E=qr().range([254,0]).domain(i));const{selectedRows:_=null,selectedRowsAggregationMode:T=null,selectedRowsAggregationWithRelativeHeight:C=null,selectedRowsAggregationMethod:A=null}=d||{};let D=e;p&&_&&(D=pb(_,C)*p[1]);let O,B=0;const P=p?p[1]:Math.sqrt(e),R=new Uint8ClampedArray(D*4),$=K=>{const ae=E(K);return Number.isNaN(ae)?254:Math.max(0,Math.min(254,Math.floor(ae)))},W=(K,ae)=>{B=255,!(c&&Math.floor(K/P)<K%P)&&!(h&&Math.floor(K/P)>K%P)&&!Number.isNaN(+ae)&&(B=$(ae+n)),(B<0||B>255)&&console.warn("out of bounds rgbIdx:",B," (should be 0 <= rgbIdx <= 255)"),m&&!Number.isNaN(+ae)&&+ae==0?O=m:O=s[B],R[K*4]=O[0],R[K*4+1]=O[1],R[K*4+2]=O[2],R[K*4+3]=O[3]};let Z;try{if(_)tye(t,p,W,_,T,C,A);else for(let K=0;K<t.length;K++)Z=t[K],W(K,Z)}catch(K){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",E.domain()),console.warn("valueScale.range():",E.range()),console.warn("value:",E(Z+n)),console.warn("pseudocount:",n),console.warn("rgbIdx:",B,"d:",Z,"ct:",E(Z)),console.error("ERROR:",K),R}return R}function nye(e){let t=e&31744,r,i,n;const s=(e&32768)<<16;switch(t){case 0:if(r=e&1023,r===0)return s;for(r<<=1;(r&1024)===0;)r<<=1,t++;return i=112-t<<23,n=(r&1023)<<13,s+i+n;case 31744:return s+2139095040+((e&1023)<<13);default:return s+((e&32767)+114688<<13)}}function iye(e){const t=atob(e),r=t.length,i=new Uint8Array(r);for(let n=0;n<r;n++)i[n]=t.charCodeAt(n);return i.buffer}function aye(e){const t=new Uint32Array(e.length);for(let i=0;i<e.length;i++)t[i]=nye(e[i]);return new Float32Array(t.buffer)}function KM(e,t,r){e||(e={});for(const i of r){i in e||(e[i]={});const n=i,s=n.split(".");if(e[n].server=t,e[n].tileId=n,e[n].zoomLevel=+s[1],e[n].tilePos=s.slice(2,s.length).map(c=>+c).filter(c=>!Number.isNaN(c)),e[n].tilesetUid=s[0],"dense"in e[n]){const c=iye(e[n].dense);let h;if(e[n].dtype==="float16"){const m=new Uint16Array(c);h=aye(m)}else h=new Float32Array(c);const p=e[n].tilePos.length===2?new cL(h):new iI(h);e[n].dense=h,e[n].denseDataExtrema=p,e[n].minNonZero=p.minNonZeroInTile,e[n].maxNonZero=p.maxNonZeroInTile}}return e}function oye(e,t,r,i,n,s){const c={"content-type":"application/json"};i&&(c.Authorization=i),fetch(e,{credentials:"same-origin",headers:c,...s&&Object.keys(s).length>0?{method:"POST",body:JSON.stringify(s)}:{}}).then(h=>h.json()).then(h=>{n(KM(h,t,r))}).catch(h=>console.warn("err:",h))}const P7=15,Zx=hn.nice();let ub=0,ky=null;const sye=(e,t,r)=>{let i,n=[],s={},c=0;const h=T=>{const C=s[T.id];C&&n[C]?n[C].ids=n[C].ids.concat(T.ids):(s[T.id]=n.length,n.push(T))},p=()=>{i=null,n=[],s={}},m=(T,...C)=>{e({sessionId:Zx,requests:n},...C),p()},d=(T,...C)=>{const A=()=>{c>0&&(m(T,...C),c=0)};clearTimeout(i),i=setTimeout(A,r)};d.cancel=()=>{clearTimeout(i),p()},d.immediate=()=>{e({sessionId:Zx,requests:n})};let E=!1;return(T,...C)=>{h(T),E?c++:(m(T,...C),d(T,...C),E=!0,c=0,setTimeout(()=>{E=!1},t))}},cb=e=>{ky=e},lye=()=>ky;function uye(e,t){const r=e.requests,i=[],n={},s={};for(const h of r){n[h.server]||(n[h.server]={},s[h.server]=[]);for(const p of h.ids)if(n[h.server][p]=!0,h.options){const m=p.indexOf("."),d=p.substring(0,m),E=p.substring(m+1),_=s[h.server].find(T=>T.tilesetUid===d);_?_.tileIds.push(E):s[h.server].push({tilesetUid:d,tileIds:[E],options:h.options})}}const c=Object.keys(n);for(const h of c){const p=Object.keys(n[h]),m=s[h];for(let d=0;d<p.length;d+=P7){const E=p.slice(d,d+Math.min(p.length-d,P7)),_=E.map(A=>`d=${A}`).join("&"),T=`${h}/tiles/?${_}&s=${Zx}`,C=new Promise((A,D)=>{t.publish("requestSent",T);const O={};O.outUrl=T,O.server=h,O.theseTileIds=E,O.authHeader=ky,oye(O.outUrl,O.server,O.theseTileIds,O.authHeader,A,m),t.publish("requestReceived",T)});i.push(C)}}Promise.all(i).then(h=>{const p={};for(const m of h){const d=Object.keys(m);for(const E of d)p[`${m[E].server}/${E}`]=m[E]}for(const m of r){const d={},{server:E}=m;for(const _ of m.ids)d[_]=p[`${E}/${_}`];m.done(d)}})}const cye=sye(uye,LM,LM),hye=(e,t)=>{const r=e.map(h=>+h).sort((h,p)=>p-h),i=t.range()[1]-t.range()[0],s=r.map(h=>(t.domain()[1]-t.domain()[0])/h).map(h=>h/i),c=s.filter(h=>h<1);return c.length===0?0:s.indexOf(c[c.length-1])},fye=(e,t)=>{if(e.resolutions)return e.resolutions.map(h=>+h).sort((h,p)=>p-h)[t];const r=e.max_width,i=+e.bins_per_dimension;return r/(2**t*i)},dye=(e,t,r,i)=>{const n=e.range()[1]-e.range()[0],s=Math.max((r-t)/(e.domain()[1]-e.domain()[0]),1),h=Math.max(0,Math.ceil(Math.log(n/384)/Math.LN2));let p=Math.round(Math.log(s)/Math.LN2)+h,m=0;return i&&(m=Math.floor(Math.log(256)/Math.log(2)-Math.log(i)/Math.log(2))),p+=m,p};function pye(e,t,r,i,n){let s=null;const c=e.bins_per_dimension||256;e.resolutions?s=e.resolutions[i]*c:s=t/2**i;const h=Math.floor((n-r)/s),p=Math.floor(c*(n-h*s)/s);return[h,p]}const mye=(e,t,r,i,n,s)=>{const c=Math.min(e,n),h=s/2**c;return xa(Math.max(0,Math.floor((t.domain()[0]-r)/h)),Math.min(2**c,Math.ceil((t.domain()[1]-r-1e-7)/h)))},gye=(e,t,r)=>e.resolutions?e.resolutions.map(n=>+n).sort((n,s)=>s-n)[t]*r:e.max_width/2**t,vye=(e,t,r,i,n)=>{const h=e*(n||256),p=20;i||(i=Number.MAX_VALUE);const m=Math.max(0,Math.floor((t.domain()[0]-r)/h)),d=Math.ceil(Math.min(i,t.domain()[1]-r-1e-7)/h);let E=xa(m,d);return E.length>p&&(console.warn(`Too many visible tiles: ${E.length} truncating to ${p}`),E=E.slice(0,p)),E},yye=(e,t,r,i,n,s,c,h,p,m)=>{const{tileData:d}=e;if(!d.dense){s(null);return}if(e.mirrored&&!e.isMirrored&&e.tileData.tilePos.length>0&&e.tileData.tilePos[0]===e.tileData.tilePos[1]){e.tileData.dense=e.tileData.dense.slice();const _=Math.floor(Math.sqrt(e.tileData.dense.length));for(let T=0;T<_;T++)for(let C=T+1;C<_;C++)e.tileData.dense[T*_+C]=e.tileData.dense[C*_+T];if(h)for(let T=0;T<_;T++)for(let C=0;C<T;C++)e.tileData.dense[T*_+C]=NaN;e.isMirrored=!0}const E=rye(d.dense.length,d.dense,t,r,i,n,c,h,e.tileData.shape,p,m);s({pixData:E})};function R7(e,t,r,i){ub+=1,i.publish("requestSent",e);let n=null;if(r==="text")n=null;else if(r==="json")n="application/json";else throw new Error(`fetch either "text" or "json", not "${r}"`);const s={};return n&&(s["Content-Type"]=n),ky&&(s.Authorization=ky),fetch(e,{credentials:"same-origin",headers:s}).then(c=>{if(!c.ok)throw Error(c.statusText);return c[r]()}).then(c=>(t(void 0,c),c)).catch(c=>(console.error(`Could not fetch ${e}`,c),t(c,void 0),c)).finally(()=>{i.publish("requestReceived",e),ub-=1})}function _ye(e,t,r){return R7(e,t,"text",r)}async function N7(e,t,r){return e.indexOf("hg19")>=0&&await oL(1),R7(e,t,"json",r)}const yr={calculateResolution:fye,calculateTileAndPosInTile:pye,calculateTiles:mye,calculateTilesFromResolution:vye,calculateTileWidth:gye,calculateZoomLevel:dye,calculateZoomLevelFromResolutions:hye,fetchTilesDebounced:cye,json:N7,text:_ye,tileDataToPixData:yye,trackInfo:(e,t,r,i,n)=>{const s=`${tI(e)}/tileset_info/?d=${t}&s=${Zx}`;n.publish("requestSent",s),N7(s,(c,h)=>{n.publish("requestReceived",s),c?i?i(`Error retrieving tilesetInfo from: ${e}`):console.warn("Error retrieving: ",s):r(h)},n)}},Eye=Object.freeze(Object.defineProperty({__proto__:null,chromInfo:qM,createDomEvent:D7,ElementResizeListener:k7,tileProxy:yr,get requestsInFlight(){return ub},setTileProxyAuthHeader:cb,getTileProxyAuthHeader:lye,get authHeader(){return ky},tileResponseToData:KM},Symbol.toStringTag,{value:"Module"})),M7=e=>(k7.listen(),[e.clientWidth,e.clientHeight]),Ll=(e,t)=>{let r=null;const i=n=>(n.uid===t&&(r=n),n.type.substr(0,8)==="combined"&&n.contents.forEach(i),null);return Object.keys(e).map(n=>e[n]).filter(n=>n.filter).reduce((n,s)=>n.concat(s),[]).forEach(i),r},Tye=(e,t,r)=>{const n=e.state.views[t];if(!n)return null;let s=null;const c=p=>(p.uid===r&&(s=p),p.type.substr(0,8)==="combined"&&p.contents.forEach(c),null),h=n.tracks;return Object.keys(h).map(p=>h[p]).filter(p=>p.filter).reduce((p,m)=>p.concat(m),[]).forEach(c),s},hb=(e,t,r)=>{const i=t?e[t]:Object.values(e)[0];if(!i){console.warn(t?`Could't find view with id "${t}"`:"No views available.");return}let n=i.trackRenderer.trackDefObjects[r];return n?n=n.trackObject:Object.values(i.trackRenderer.trackDefObjects).map(s=>s.trackObject).filter(s=>s.childTracks).forEach(s=>{s.createdTracks[r]&&(n=s.createdTracks[r])}),n},ZM=(e,t,r=!0,i=null)=>e.forEach(n=>{n.type==="combined"?r&&(ZM(n.contents,t,r,i),t(n,i)):t(n,i)}),If=(e,t,r=!0)=>{const i=[];return Object.keys(e).forEach(n=>{ZM(e[n],t,r,n)}),i},fb=(e,t)=>{let r=null;return If(e,(i,n)=>{i.uid===t&&(r=n)}),r},QM=e=>t=>Array.prototype.map.call(t,e),L7=()=>[window,QM(e=>e.charCodeAt(0))("1.12.4").map(e=>e<=999?`00${e}`.slice(-3):e).join("")],B7=(e,t=1,r=100,i=0,n=0,s=0,c=100)=>{const h=document.createElement("canvas");h.width=t,h.height=r;const p=h.getContext("2d"),m=p.createLinearGradient(i,n,s,c);return e.forEach(d=>{m.addColorStop(d.from,d.color)}),p.fillStyle=m,p.fillRect(0,0,t,r),h},F7=(e,t)=>{let r=e;for(;r&&r!==t&&r.tagName!=="HTML";)r=r.parentNode;return r===t},U7=e=>parseInt(e.replace(/^#/,""),16),H7=()=>{};let JM=(function(){function e(t){H(this,e),this.context=t;const{tracks:r,createTrackObject:i}=t;this.childTracks=r.map(i),this.createdTracks={},this.uid=hn.nice(),this.childTracks.forEach((n,s)=>{this.createdTracks[r[s].uid]=n});for(let n=0;n<this.childTracks.length;n++)this.childTracks[n]||console.error("Empty child track in CombinedTrack:",this)}return j(e,[{key:"updateContents",value:function(r,i){const n=[],s=new Set;r.forEach(p=>{if(s.add(p.uid),p.uid in this.createdTracks)n.push(this.createdTracks[p.uid]);else{const m=i(p);m.setPosition(this.position),m.setDimensions(this.dimensions),n.push(m),m.zoomed(this._xScale,this._yScale),this.createdTracks[p.uid]=m}}),this.childTracks=n;const c=new Set(Object.keys(this.createdTracks));return[...new Set([...c].filter(p=>!s.has(p)))].forEach(p=>{this.createdTracks[p].remove(),delete this.createdTracks[p]}),this}},{key:"setPosition",value:function(r){this.position=r;for(let i=0;i<this.childTracks.length;i++)this.childTracks[i].setPosition(r)}},{key:"setDimensions",value:function(r){this.dimensions=r;for(let i=0;i<this.childTracks.length;i++)this.childTracks[i].setDimensions(r)}},{key:"zoomed",value:function(r,i,n,s,c,h,p){this._xScale=r,this._yScale=i;for(let m=0;m<this.childTracks.length;m++)this.childTracks[m].zoomed(r,i,n,s,c,h,p)}},{key:"clickOutside",value:function(){for(let r=0;r<this.childTracks.length;r++)this.childTracks[r].clickOutside()}},{key:"click",value:function(...r){for(let i=0;i<this.childTracks.length;i++)this.childTracks[i].click(...r)}},{key:"draw",value:function(){}},{key:"refScalesChanged",value:function(r,i){for(let n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(r,i)}},{key:"remove",value:function(){for(let r=0;r<this.childTracks.length;r++)this.childTracks[r].remove()}},{key:"exportSVG",value:function(){const r=document.createElement("g");for(const i of this.childTracks)i.exportSVG&&r.appendChild(i.exportSVG()[0]);return[r,r]}},{key:"rerender",value:function(r){}},{key:"minValue",value:function(r){if(arguments.length===0){const i=this.childTracks.filter(n=>n.minValue).map(n=>n.minValue()).filter(n=>n);return Math.min(...i)}for(const i of this.childTracks)i.minValue&&i.minValue(r)}},{key:"maxValue",value:function(r){if(arguments.length===0){const i=this.childTracks.filter(n=>n.maxValue).map(n=>n.maxValue()).filter(n=>n);return Math.max(...i)}for(const i of this.childTracks)i.maxValue&&i.maxValue(r)}},{key:"respondsToPosition",value:function(r,i){return r>=this.position[0]&&r<=this.dimensions[0]+this.position[0]&&i>=this.position[1]&&i<=this.dimensions[1]+this.position[1]}},{key:"stopHover",value:function(){for(const r of this.childTracks)r.stopHover&&r.stopHover()}},{key:"getMouseOverHtml",value:function(r,i){let n="";for(const s of this.childTracks)if(s.getMouseOverHtml){const c=s.getMouseOverHtml(r,i);c&&c.length&&(n+=c,n+="<br/>")}return n}}]),e})();const $7=(e,t)=>t===e?!0:t instanceof JM?Object.keys(t.createdTracks).map(r=>t.createdTracks[r]).some(r=>$7(e,r)):!1,eL=(e,t,r,i,n,s,c=!1)=>c?e>=r&&e<=i||t>=n&&t<=s:e>=r&&e<=i&&t>=n&&t<=s,bye=e=>Math.log(Math.tan((e+Math.PI/2)/2)),Sye=(e,t)=>{let r=e*Math.PI/180;return r=bye(r),2**t*(Math.PI-r)/(2*Math.PI)},Qx=e=>QM(t=>e[t])(Object.keys(e)),Cye=e=>Qx(e).map(t=>t.chromInfoPath).forEach(t=>qM.get(t)),Aye=(e,t)=>2**t*(e+180)/360,tL=(e,t)=>e>t?e:t,G7=1e-7;function rL(e){let t=Number.MIN_SAFE_INTEGER;for(let r=0;r<e.length;r++){const i=e[r];i<G7&&i>-G7||i>t&&(t=i)}return t}const z7=(e,t)=>e<t?e:t,j7=1e-7;function nL(e){let t=Number.MAX_SAFE_INTEGER;for(let r=0;r<e.length;r++){const i=e[r];i<j7&&i>-j7||i<t&&(t=i)}return t}const wye=(e,t)=>(e%t+t)%t,V7=(e,t)=>{const r=+t;if(!Number.isNaN(r))if(e.dimension===1)for(let n=0;n<e.shape[0];++n)e.set(n,r);else for(let n=0;n<e.shape[0];++n)for(let s=0;s<e.shape[1];++s)e.set(n,s,r);else{const n=e.shape[0],s=e.shape[1],c=t.shape[0],h=t.shape[1];if(n!==c||s!==h){console.warn("Cannot assign source to target ndarray as the dimensions do not match",n,c,s,h);return}if(e.dimension===1)for(let p=0;p<e.shape[0];++p)e.set(p,t.get(p));else for(let p=0;p<e.shape[0];++p)for(let m=0;m<e.shape[1];++m)e.set(p,m,t.get(p,m))}};function xye(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}var Iye=xye;/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/var Dye=function(e){return e!=null&&(W7(e)||Oye(e)||!!e._isBuffer)};function W7(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Oye(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&W7(e.slice(0,0))}var kye=Iye,Pye=Dye,Rye=typeof Float64Array<"u";function Nye(e,t){return e[0]-t[0]}function Mye(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(Nye);var i=new Array(t.length);for(r=0;r<i.length;++r)i[r]=t[r][1];return i}function Lye(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var i=e==="generic";if(t===-1){var n="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",A=new Function(n);return A()}else if(t===0){var n="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",A=new Function("TrivialArray",n);return A(Jx[e][0])}var n=["'use strict'"],s=kye(t),c=s.map(function(D){return"i"+D}),h="this.offset+"+s.map(function(D){return"this.stride["+D+"]*i"+D}).join("+"),p=s.map(function(D){return"b"+D}).join(","),m=s.map(function(D){return"c"+D}).join(",");n.push("function "+r+"(a,"+p+","+m+",d){this.data=a","this.shape=["+p+"]","this.stride=["+m+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),n.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map(function(D){return"this.shape["+D+"]"}).join("*"),"}})"),t===1?n.push("proto.order=[0]"):(n.push("Object.defineProperty(proto,'order',{get:"),t<4?(n.push("function "+r+"_order(){"),t===2?n.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&n.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):n.push("ORDER})")),n.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),i?n.push("return this.data.set("+h+",v)}"):n.push("return this.data["+h+"]=v}"),n.push("proto.get=function "+r+"_get("+c.join(",")+"){"),i?n.push("return this.data.get("+h+")}"):n.push("return this.data["+h+"]}"),n.push("proto.index=function "+r+"_index(",c.join(),"){return "+h+"}"),n.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+s.map(function(D){return["(typeof i",D,"!=='number'||i",D,"<0)?this.shape[",D,"]:i",D,"|0"].join("")}).join(",")+","+s.map(function(D){return"this.stride["+D+"]"}).join(",")+",this.offset)}");var d=s.map(function(D){return"a"+D+"=this.shape["+D+"]"}),E=s.map(function(D){return"c"+D+"=this.stride["+D+"]"});n.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+E.join(","));for(var _=0;_<t;++_)n.push("if(typeof i"+_+"==='number'&&i"+_+">=0){d=i"+_+"|0;b+=c"+_+"*d;a"+_+"-=d}");n.push("return new "+r+"(this.data,"+s.map(function(D){return"a"+D}).join(",")+","+s.map(function(D){return"c"+D}).join(",")+",b)}"),n.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+s.map(function(D){return"a"+D+"=this.shape["+D+"]"}).join(",")+","+s.map(function(D){return"b"+D+"=this.stride["+D+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var _=0;_<t;++_)n.push("if(typeof i"+_+"==='number'){d=i"+_+"|0;if(d<0){c+=b"+_+"*(a"+_+"-1);a"+_+"=ceil(-a"+_+"/d)}else{a"+_+"=ceil(a"+_+"/d)}b"+_+"*=d}");n.push("return new "+r+"(this.data,"+s.map(function(D){return"a"+D}).join(",")+","+s.map(function(D){return"b"+D}).join(",")+",c)}");for(var T=new Array(t),C=new Array(t),_=0;_<t;++_)T[_]="a[i"+_+"]",C[_]="b[i"+_+"]";n.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map(function(D,O){return D+"=("+D+"===undefined?"+O+":"+D+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+T.join(",")+","+C.join(",")+",this.offset)}"),n.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var _=0;_<t;++_)n.push("if(typeof i"+_+"==='number'&&i"+_+">=0){c=(c+this.stride["+_+"]*i"+_+")|0}else{a.push(this.shape["+_+"]);b.push(this.stride["+_+"])}");n.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),n.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(D){return"shape["+D+"]"}).join(",")+","+s.map(function(D){return"stride["+D+"]"}).join(",")+",offset)}");var A=new Function("CTOR_LIST","ORDER",n.join(`
`));return A(Jx[e],Mye)}function Bye(e){if(Pye(e))return"buffer";if(Rye)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var Jx={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function Fye(e,t,r,i){if(e===void 0){var m=Jx.array[0];return m([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var n=t.length;if(r===void 0){r=new Array(n);for(var s=n-1,c=1;s>=0;--s)r[s]=c,c*=t[s]}if(i===void 0){i=0;for(var s=0;s<n;++s)r[s]<0&&(i-=(t[s]-1)*r[s])}for(var h=Bye(e),p=Jx[h];p.length<=n+1;)p.push(Lye(h,p.length-1));var m=p[n+1];return m(e,t,r,i)}var Py=Fye;const Y7=e=>{const t=e.shape.reduce((i,n)=>i*n,1),r=new Array(t);if(e.dimension===1){let i=0;for(let n=0;n<e.shape[0];++n)r[i]=e.get(n),i++}else{let i=0;for(let n=0;n<e.shape[0];++n)for(let s=0;s<e.shape[1];++s)r[i]=e.get(n,s),i++}return r},X7=e=>e.shape.length===1?e:Py(Y7(e)),q7=e=>{const t=e.split("."),r=t.slice(1).join("").length;return+t.join("")/10**r},db=(e,t)=>e||t;function eI(e){const t=[],r={},i={};let n=0;for(let s=0;s<e.length;s++){const c=Number(e[s][1]);n+=c;const h={id:s,chr:e[s][0],pos:n-c};t.push(h),i[h.chr]=h,r[e[s][0]]=c}return{cumPositions:t,chrPositions:i,totalLength:n,chromLengths:r}}const iL=e=>{const t=document.createElement("g"),r=document.createElement("text");return e.anchor.x===0?r.setAttribute("text-anchor","start"):e.anchor.x===1?r.setAttribute("text-anchor","end"):r.setAttribute("text-anchor","middle"),r.setAttribute("font-family",e.style.fontFamily),r.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform",`scale(${e.scale.x},1)`),r.setAttribute("fill",e.style.fill),r.innerHTML=e.text,t.appendChild(r),t.setAttribute("transform",`translate(${e.x},${e.y})scale(${e.scale.x},1)`),t},Uye=e=>{try{const t=e.split(".");return r=>{let i=r;return t.forEach(n=>{i=i[n]}),i}}catch{return}},Hye=(e,t,r,i,n,s,c=0,h=0,p)=>{const m=s?n:i,d=s?i:n,E=s?h:c,_=s?c:h,T=Math.max(0,+m[0]||0),C=Math.max(0,+m[1]||0),A=Math.max(0,+d[0]||0),D=Math.max(0,+d[1]||0);let O=[];ArrayBuffer.isView(p)||console.warn("Not supported yet");try{const B=new p.constructor(p.length);let P=0+_;for(let $=A;$<D;$++)B.set(e.slice($*t+T,$*t+C),E+P*r),P+=1;const R=s?n7(r,r):void 0;O=i7(p,B,R)}catch{}return O},$ye=(e,t,r,i)=>[i.chrPositions[e].pos+ +t,i.chrPositions[e].pos+ +r],Gye="http://www.w3.org/2000/svg",zye=(e,t)=>{const r=new RegExp(`(\\s|^)${t}(\\s|$)`);if(e.namespaceURI===Gye){const i=e.getAttribute("class")||"";e.setAttribute("class",i.replace(r," "))}else e.classList?e.classList.remove(t):$x(e,t)&&(e.className=e.className.replace(r," "))},Ry=(e,t)=>{e.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(t,!0)},aL=e=>{const t=e.toString(16);return t.length===1?`0${t}`:t},jye=(e,t,r)=>`#${aL(e)}${aL(t)}${aL(r)}`,io=(e,t)=>{const r=e.invert((e.range()[0]+e.range()[1])/2),i=t.invert((t.range()[0]+t.range()[1])/2),n=e.invert(1)-e.invert(0);return[r,i,n]},K7=(e,t,r)=>{if(r===null||!e||!t)return;const i=e.domain()[0],n=e.domain()[1],s=t.domain()[0],c=t.domain()[1];return[...Yx(i,n,r),...Yx(s,c,r)]},Vye=11184810,Wye=1,Yye=(e,t,r,i,n,s,c,h,p)=>{e.publish("app.animateOnMouseMove",!0);const m=r.mousePositionColor?U7(r.mousePositionColor):Vye,d=r.mousePositionAlpha||Wye,E=new er.PIXI.Graphics,_=()=>{E.clear()},T=(A,D,O)=>{if(O||_(),E.lineStyle(1,m,d),D){const B=h?n()[0]:0;E.moveTo(0,A),E.lineTo(s()[0]+B,A)}else{const B=h?n()[1]:0;E.moveTo(A,0),E.lineTo(A,s()[1]+B)}},C=A=>{if(A.noHoveredTracks)return _(),E;let D,O;A.isFromVerticalTrack?(D=A.dataY,O=A.dataY):(D=A.dataX,O=A.isFrom2dTrack?A.dataY:A.dataX);const B=h?n():[0,0],P=c()?i()[0](O)+B[1]:i()[0](D)+B[0];return T(P),h&&T(i()[1](O)+B[1],!0,!0),E};return t.push(e.subscribe("app.mouseMove",C)),t.push(e.subscribe("app.mouseLeave",_)),t.push(e.subscribe("blur",_)),p&&t.push(GT.subscribe("higlass.mouseMove",C)),E},vg=(e,t=!1,r=!1)=>{const i=t?e.pMasked:e.pForeground||e.pMain,n=()=>[e.xScale(),e.yScale()],s=Yye(e.pubSub,e.pubSubs,e.options,n,e.getPosition.bind(e),e.getDimensions.bind(e),e.getProp("flipText"),t,r);return i.addChild(s),()=>{i.removeChild(s)}},Xye=e=>t=>Array.prototype.some.call(t,e),rp=(e,t)=>e+t,Z7=(e,t,r,i,n,s)=>{const c=document.createElement("line");return c.setAttribute("x1",e),c.setAttribute("x2",r),c.setAttribute("y1",t),c.setAttribute("y2",i),n&&c.setAttribute("stroke-width",n),s&&c.setAttribute("stroke",s),c},Q7=(e,t,r)=>{let i,n=0;const s=()=>{i=null},c=(...m)=>{const d=()=>{n>0&&(e(...m),n=0)};clearTimeout(i),i=setTimeout(d,r)};c.cancel=()=>{clearTimeout(i),s()},c.immediate=(...m)=>{e(...m)};let h=!1;return(m,...d)=>{h?n++:(e(...d),c(...d),h=!0,n=0,setTimeout(()=>{h=!1},t))}},qye=(e,t=256,r=256)=>{const i=document.createElement("canvas");i.width=t,i.height=r;const n=i.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,i.width,i.height);const s=new ImageData(e,i.width,i.height);return n.putImageData(s,0,0),i},oL=e=>new Promise(t=>{setTimeout(t,e)}),Kye=e=>{if(!e.tracks)return 0;let t=0;return e.tracks.top&&(t+=e.tracks.top.map(r=>r.height).reduce((r,i)=>r+i,0)),e.tracks.center&&(t+=e.tracks.center.map(r=>r.height).reduce((r,i)=>r+i,0)),e.tracks.bottom&&(t+=e.tracks.bottom.map(r=>r.height).reduce((r,i)=>r+i,0)),t},fh=()=>{},tI=e=>(e||"").replace(/\/$/,""),sL=(e,t,r=0,i=1e-6)=>n=>{let s=255;return n>i&&(s=Math.max(0,Math.min(255,Math.floor(e(n+r))))),t[s]},rI=e=>{let t=[];for(let r=0;r<e.length;r++)e[r].contents?t=t.concat(e[r].contents):t.push(e[r]);return t};function J7(e,t,r,i){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=r,this.right=i}function Df(){this.root=null}function ez(e,t,r){let i=new J7(r[0],r[1]);if(i.max=r[1],i.parentNode=e,e[t]=i,e.max<r[1])for(;i;)i.max<r[1]&&(i.max=r[1]),i=i.parentNode}function lL(e,t){e.interval[0]>t[0]?e.left?lL(e.left,t):ez(e,"left",t):e.right?lL(e.right,t):ez(e,"right",t)}Df.prototype.add=function(t){if(!this.root){this.root=new J7(t[0],t[1]),this.root.max=t[1];return}lL(this.root,t)};function tz(e,t){if(!t)return!1;if(t.interval[0]<=e&&t.interval[1]>=e)return!0;let r=!1,i;return["left","right"].forEach(n=>{i=t[n],i&&i.max>e&&(r=r||tz(e,i))}),r}Df.prototype.contains=function(t){return tz(t,this.root)};function Zye(e,t){return e[0]===t[0]&&e[1]===t[1]||e[0]<t[0]&&e[1]>t[0]||e[0]<t[1]&&e[1]>t[1]||t[0]<e[0]&&t[1]>e[0]||t[0]<e[1]&&t[1]>e[1]}function rz(e,t){if(!t)return!1;if(Zye(t.interval,e))return!0;let r=!1,i;return["left","right"].forEach(n=>{i=t[n],i&&i.max>=e[0]&&(r=r||rz(e,i))}),r}Df.prototype.intersects=function(t){return rz(t,this.root)};function uL(e){return e?1+Math.max(uL(e.left),uL(e.right)):0}Df.prototype.height=function(){return uL(this.root)},Df.prototype.findMax=function(t){const r=[t];let i,n=-1/0,s;for(;r.length;)i=r.pop(),i.left&&r.push(i.left),i.right&&r.push(i.right),i.interval[1]>n&&(n=i.interval[1],s=i);return s},Df.prototype._removeHelper=function(t,r){if(r)if(r.interval[0]===t[0]&&r.interval[1]===t[1]){if(r.left&&r.right){let n=r.left;for(;n.left;)n=n.left;const s=n.interval;n.interval=r.interval,r.interval=s,this._removeHelper(n.interval,r)}else{let n="left";r.right&&(n="right");const s=r.parentNode;s?(s.left===r?s.left=r[n]:s.right=r[n],r[n]&&(r[n].parentNode=s)):(this.root=r[n],this.root&&(this.root.parentNode=null))}const i=r.parentNode;if(i){let n=this.findMax(i);const s=n.interval[1];for(;n;)n.max===r.interval[1]?(n.max=s,n=n.parentNode):n=!1}}else this._removeHelper(t,r.left),this._removeHelper(t,r.right)},Df.prototype.remove=function(t){return this._removeHelper(t,this.root)};function nI(e){e.sort((i,n)=>n.to-n.from-(i.to-i.from));const t=[[]],r=[new Df];for(let i=0;i<e.length;i++){let n=!1;for(let s=0;s<t.length;s++){const c=r[s],h=[+e[i].from,+e[i].to];if(!c.intersects(h)){c.add(h),t[s].push(e[i]),n=!0;break}}if(!n){const s=new Df;s.add([e[i].from,e[i].to]),t.push([e[i]]),r.push(s)}}return t}let iI=(function(){function e(t){H(this,e),this.epsilon=1e-6,this.data=t,this.tileSize=this.data.length,this.paddedTileSize=2**Math.ceil(Math.log2(this.tileSize)),this.numSubsets=Math.min(T7,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return j(e,[{key:"getMinNonZeroInSubset",value:function(r){const i=r[0],n=r[1];let s=Number.MAX_SAFE_INTEGER;if(i===0&&n===this.tileSize)return this.minNonZeroInTile;const c=Math.ceil(i/this.subsetSize),h=Math.floor((n-1)/this.subsetSize);return c>=h?this.minNonZero(this.data,i,n):(i<c*this.subsetSize&&(s=Math.min(s,this.minNonZero(this.data,i,c*this.subsetSize))),s=Math.min(s,this.minNonZero(this.subsetMinimums,c,h)),n>h*this.subsetSize&&(s=Math.min(s,this.minNonZero(this.data,h*this.subsetSize,n))),s)}},{key:"getMaxNonZeroInSubset",value:function(r){const i=r[0],n=r[1];let s=Number.MIN_SAFE_INTEGER;if(i===0&&n===this.tileSize)return this.maxNonZeroInTile;const c=Math.ceil(i/this.subsetSize),h=Math.floor((n-1)/this.subsetSize);return c>=h?this.maxNonZero(this.data,i,n):(i<c*this.subsetSize&&(s=Math.max(s,this.maxNonZero(this.data,i,c*this.subsetSize))),s=Math.max(s,this.maxNonZero(this.subsetMaximums,c,h)),n>h*this.subsetSize&&(s=Math.max(s,this.maxNonZero(this.data,h*this.subsetSize,n))),s)}},{key:"computeSubsetNonZeroMinimums",value:function(){const r=[];for(let i=0;i<this.numSubsets;i++){let n=Number.MAX_SAFE_INTEGER;for(let s=0;s<this.subsetSize;s++){const c=this.data[i*this.subsetSize+s];c!==void 0&&(c<this.epsilon&&c>-this.epsilon||c<n&&(n=c))}r.push(n)}return r}},{key:"computeSubsetNonZeroMaximums",value:function(){const r=[];for(let i=0;i<this.numSubsets;i++){let n=Number.MIN_SAFE_INTEGER;for(let s=0;s<this.subsetSize;s++){const c=this.data[i*this.subsetSize+s];c!==void 0&&(c<this.epsilon&&c>-this.epsilon||c>n&&(n=c))}r.push(n)}return r}},{key:"getMinNonZeroInTile",value:function(){return Math.min(...this.subsetMinimums)}},{key:"getMaxNonZeroInTile",value:function(){return Math.max(...this.subsetMaximums)}},{key:"minNonZero",value:function(r,i,n){let s=Number.MAX_SAFE_INTEGER;for(let c=i;c<n;c++){const h=r[c];h<this.epsilon&&h>-this.epsilon||h<s&&(s=h)}return s}},{key:"maxNonZero",value:function(r,i,n){let s=Number.MIN_SAFE_INTEGER;for(let c=i;c<n;c++){const h=r[c];h<this.epsilon&&h>-this.epsilon||h>s&&(s=h)}return s}}]),e})(),cL=(function(){function e(t){H(this,e),this.epsilon=1e-6,this.tileSize=Math.sqrt(t.length),Number.isSafeInteger(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min($M,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;const r=Py(Array.from(t),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(r),this.subsetMaximums=this.computeSubsetNonZeroMaximums(r),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return j(e,[{key:"getMinNonZeroInSubset",value:function(r){const i=r[0],n=r[1],s=r[2],c=r[3],h=Math.floor(n/this.subsetSize),p=Math.floor(i/this.subsetSize),m=Math.ceil((c+1)/this.subsetSize)-h,d=Math.ceil((s+1)/this.subsetSize)-p;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,h,p,d,m)}},{key:"getMaxNonZeroInSubset",value:function(r){const i=r[0],n=r[1],s=r[2],c=r[3],h=Math.floor(n/this.subsetSize),p=Math.floor(i/this.subsetSize),m=Math.ceil((c+1)/this.subsetSize)-h,d=Math.ceil((s+1)/this.subsetSize)-p;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,h,p,d,m)}},{key:"computeSubsetNonZeroMinimums",value:function(r){let i=new Array(this.numSubsets**2);i=Py(i,[this.numSubsets,this.numSubsets]);for(let n=0;n<this.numSubsets;n++)for(let s=0;s<this.numSubsets;s++){const c=this.getMinNonZeroInNdarraySubset(r,n*this.subsetSize,s*this.subsetSize,this.subsetSize,this.subsetSize);i.set(n,s,c)}return i}},{key:"computeSubsetNonZeroMaximums",value:function(r){let i=new Array(this.numSubsets**2);i=Py(i,[this.numSubsets,this.numSubsets]);for(let n=0;n<this.numSubsets;n++)for(let s=0;s<this.numSubsets;s++){const c=this.getMaxNonZeroInNdarraySubset(r,n*this.subsetSize,s*this.subsetSize,this.subsetSize,this.subsetSize);i.set(n,s,c)}return i}},{key:"getMinNonZeroInNdarraySubset",value:function(r,i,n,s,c){let h=Number.MAX_SAFE_INTEGER;for(let p=0;p<s;p++)for(let m=0;m<c;m++){const d=r.get(i+m,n+p);d<this.epsilon&&d>-this.epsilon||d<h&&(h=d)}return h}},{key:"getMaxNonZeroInNdarraySubset",value:function(r,i,n,s,c){let h=Number.MIN_SAFE_INTEGER;for(let p=0;p<s;p++)for(let m=0;m<c;m++){const d=r.get(i+m,n+p);d<this.epsilon&&d>-this.epsilon||d>h&&(h=d)}return h}},{key:"mirrorPrecomputedExtrema",value:function(){for(let r=1;r<this.numSubsets;r++)for(let i=0;i<r;i++)this.subsetMinimums.set(i,r,this.subsetMinimums.get(r,i)),this.subsetMaximums.set(i,r,this.subsetMaximums.get(r,i))}},{key:"getMinNonZeroInTile",value:function(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}},{key:"getMaxNonZeroInTile",value:function(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}}]),e})();const hL=e=>{let t;switch(e&&e.toLowerCase()){case"mean":t=$c;break;case"sum":t=ME;break;case"variance":t=f0;break;case"deviation":t=Oo;break;default:t=$c,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return t},pb=(e,t)=>e.reduce((r,i)=>r+(Array.isArray(i)&&t?i.length:1),0),Ny=e=>{switch(e.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return e.contents.map(t=>Ny(t)).reduce(db,!1);default:return!1}},aI=(e,t,r)=>{let i=t,n=r;return r||(n=t,i=Object.values(e.state.views)[0].uid),e.tiledPlots[i].trackRenderer.getTrackObject(n)},nz=(e,t)=>e.tiledPlots[t].trackRenderer,Qye=(e,t)=>e.tiledPlots[t];var fL={},iz=Object.prototype.toString,az=function(t){var r=iz.call(t),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&iz.call(t.callee)==="[object Function]"),i},dL,oz;function Jye(){if(oz)return dL;oz=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=az,n=Object.prototype.propertyIsEnumerable,s=!n.call({toString:null},"toString"),c=n.call(function(){},"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(_){var T=_.constructor;return T&&T.prototype===_},m={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=(function(){if(typeof window>"u")return!1;for(var _ in window)try{if(!m["$"+_]&&t.call(window,_)&&window[_]!==null&&typeof window[_]=="object")try{p(window[_])}catch{return!0}}catch{return!0}return!1})(),E=function(_){if(typeof window>"u"||!d)return p(_);try{return p(_)}catch{return!1}};e=function(T){var C=T!==null&&typeof T=="object",A=r.call(T)==="[object Function]",D=i(T),O=C&&r.call(T)==="[object String]",B=[];if(!C&&!A&&!D)throw new TypeError("Object.keys called on a non-object");var P=c&&A;if(O&&T.length>0&&!t.call(T,0))for(var R=0;R<T.length;++R)B.push(String(R));if(D&&T.length>0)for(var $=0;$<T.length;++$)B.push(String($));else for(var W in T)!(P&&W==="prototype")&&t.call(T,W)&&B.push(String(W));if(s)for(var Z=E(T),K=0;K<h.length;++K)!(Z&&h[K]==="constructor")&&t.call(T,h[K])&&B.push(h[K]);return B}}return dL=e,dL}var e1e=Array.prototype.slice,t1e=az,sz=Object.keys,oI=sz?function(t){return sz(t)}:Jye(),lz=Object.keys;oI.shim=function(){if(Object.keys){var t=(function(){var r=Object.keys(arguments);return r&&r.length===arguments.length})(1,2);t||(Object.keys=function(i){return t1e(i)?lz(e1e.call(i)):lz(i)})}else Object.keys=oI;return Object.keys||oI};var uz=oI,pL=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;t[r]=n;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==n||c.enumerable!==!0)return!1}return!0},cz=typeof Symbol<"u"&&Symbol,r1e=pL,hz=function(){return typeof cz!="function"||typeof Symbol!="function"||typeof cz("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r1e()},n1e="Function.prototype.bind called on incompatible ",mL=Array.prototype.slice,i1e=Object.prototype.toString,a1e="[object Function]",o1e=function(t){var r=this;if(typeof r!="function"||i1e.call(r)!==a1e)throw new TypeError(n1e+r);for(var i=mL.call(arguments,1),n,s=function(){if(this instanceof n){var d=r.apply(this,i.concat(mL.call(arguments)));return Object(d)===d?d:this}else return r.apply(t,i.concat(mL.call(arguments)))},c=Math.max(0,r.length-i.length),h=[],p=0;p<c;p++)h.push("$"+p);if(n=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var m=function(){};m.prototype=r.prototype,n.prototype=new m,m.prototype=null}return n},s1e=o1e,gL=Function.prototype.bind||s1e,l1e=gL,bs=l1e.call(Function.call,Object.prototype.hasOwnProperty),Un,My=SyntaxError,fz=Function,Ly=TypeError,vL=function(e){try{return fz('"use strict"; return ('+e+").constructor;")()}catch{}},yg=Object.getOwnPropertyDescriptor;if(yg)try{yg({},"")}catch{yg=null}var yL=function(){throw new Ly},u1e=yg?(function(){try{return arguments.callee,yL}catch{try{return yg(arguments,"callee").get}catch{return yL}}})():yL,By=hz(),dh=Object.getPrototypeOf||function(e){return e.__proto__},Fy={},c1e=typeof Uint8Array>"u"?Un:dh(Uint8Array),_g={"%AggregateError%":typeof AggregateError>"u"?Un:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Un:ArrayBuffer,"%ArrayIteratorPrototype%":By?dh([][Symbol.iterator]()):Un,"%AsyncFromSyncIteratorPrototype%":Un,"%AsyncFunction%":Fy,"%AsyncGenerator%":Fy,"%AsyncGeneratorFunction%":Fy,"%AsyncIteratorPrototype%":Fy,"%Atomics%":typeof Atomics>"u"?Un:Atomics,"%BigInt%":typeof BigInt>"u"?Un:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Un:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Un:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Un:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Un:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Un:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Un:FinalizationRegistry,"%Function%":fz,"%GeneratorFunction%":Fy,"%Int8Array%":typeof Int8Array>"u"?Un:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Un:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Un:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":By?dh(dh([][Symbol.iterator]())):Un,"%JSON%":typeof JSON=="object"?JSON:Un,"%Map%":typeof Map>"u"?Un:Map,"%MapIteratorPrototype%":typeof Map>"u"||!By?Un:dh(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Un:Promise,"%Proxy%":typeof Proxy>"u"?Un:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Un:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Un:Set,"%SetIteratorPrototype%":typeof Set>"u"||!By?Un:dh(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Un:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":By?dh(""[Symbol.iterator]()):Un,"%Symbol%":By?Symbol:Un,"%SyntaxError%":My,"%ThrowTypeError%":u1e,"%TypedArray%":c1e,"%TypeError%":Ly,"%Uint8Array%":typeof Uint8Array>"u"?Un:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Un:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Un:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Un:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Un:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Un:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Un:WeakSet};try{null.error}catch(e){var h1e=dh(dh(e));_g["%Error.prototype%"]=h1e}var f1e=function e(t){var r;if(t==="%AsyncFunction%")r=vL("async function () {}");else if(t==="%GeneratorFunction%")r=vL("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=vL("async function* () {}");else if(t==="%AsyncGenerator%"){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var n=e("%AsyncGenerator%");n&&(r=dh(n.prototype))}return _g[t]=r,r},dz={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mb=gL,sI=bs,d1e=mb.call(Function.call,Array.prototype.concat),p1e=mb.call(Function.apply,Array.prototype.splice),pz=mb.call(Function.call,String.prototype.replace),lI=mb.call(Function.call,String.prototype.slice),m1e=mb.call(Function.call,RegExp.prototype.exec),g1e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,v1e=/\\(\\)?/g,y1e=function(t){var r=lI(t,0,1),i=lI(t,-1);if(r==="%"&&i!=="%")throw new My("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new My("invalid intrinsic syntax, expected opening `%`");var n=[];return pz(t,g1e,function(s,c,h,p){n[n.length]=h?pz(p,v1e,"$1"):c||s}),n},_1e=function(t,r){var i=t,n;if(sI(dz,i)&&(n=dz[i],i="%"+n[0]+"%"),sI(_g,i)){var s=_g[i];if(s===Fy&&(s=f1e(i)),typeof s>"u"&&!r)throw new Ly("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new My("intrinsic "+t+" does not exist!")},ai=function(t,r){if(typeof t!="string"||t.length===0)throw new Ly("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ly('"allowMissing" argument must be a boolean');if(m1e(/^%?[^%]*%?$/,t)===null)throw new My("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=y1e(t),n=i.length>0?i[0]:"",s=_1e("%"+n+"%",r),c=s.name,h=s.value,p=!1,m=s.alias;m&&(n=m[0],p1e(i,d1e([0,1],m)));for(var d=1,E=!0;d<i.length;d+=1){var _=i[d],T=lI(_,0,1),C=lI(_,-1);if((T==='"'||T==="'"||T==="`"||C==='"'||C==="'"||C==="`")&&T!==C)throw new My("property names with quotes must have matching quotes");if((_==="constructor"||!E)&&(p=!0),n+="."+_,c="%"+n+"%",sI(_g,c))h=_g[c];else if(h!=null){if(!(_ in h)){if(!r)throw new Ly("base intrinsic for "+t+" exists, but the property is not available.");return}if(yg&&d+1>=i.length){var A=yg(h,_);E=!!A,E&&"get"in A&&!("originalValue"in A.get)?h=A.get:h=h[_]}else E=sI(h,_),h=h[_];E&&!p&&(_g[c]=h)}}return h},E1e=ai,_L=E1e("%Object.defineProperty%",!0),EL=function(){if(_L)try{return _L({},"a",{value:1}),!0}catch{return!1}return!1};EL.hasArrayLengthDefineBug=function(){if(!EL())return null;try{return _L([],"length",{value:1}).length!==1}catch{return!0}};var mz=EL,T1e=uz,b1e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",S1e=Object.prototype.toString,C1e=Array.prototype.concat,gz=Object.defineProperty,A1e=function(e){return typeof e=="function"&&S1e.call(e)==="[object Function]"},w1e=mz(),vz=gz&&w1e,x1e=function(e,t,r,i){t in e&&(!A1e(i)||!i())||(vz?gz(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},yz=function(e,t){var r=arguments.length>2?arguments[2]:{},i=T1e(t);b1e&&(i=C1e.call(i,Object.getOwnPropertySymbols(t)));for(var n=0;n<i.length;n+=1)x1e(e,i[n],t[i[n]],r[i[n]])};yz.supportsDescriptors=!!vz;var ns=yz,ph={exports:{}};(function(e){var t=gL,r=ai,i=r("%Function.prototype.apply%"),n=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(n,i),c=r("%Object.getOwnPropertyDescriptor%",!0),h=r("%Object.defineProperty%",!0),p=r("%Math.max%");if(h)try{h({},"a",{value:1})}catch{h=null}e.exports=function(E){var _=s(t,n,arguments);if(c&&h){var T=c(_,"length");T.configurable&&h(_,"length",{value:1+p(0,E.length-(arguments.length-1))})}return _};var m=function(){return s(t,i,arguments)};h?h(e.exports,"apply",{value:m}):e.exports.apply=m})(ph);var _z=ai,Ez=ph.exports,I1e=Ez(_z("String.prototype.indexOf")),is=function(t,r){var i=_z(t,!!r);return typeof i=="function"&&I1e(t,".prototype.")>-1?Ez(i):i},D1e=uz,Tz=pL(),bz=is,Sz=Object,O1e=bz("Array.prototype.push"),Cz=bz("Object.prototype.propertyIsEnumerable"),k1e=Tz?Object.getOwnPropertySymbols:null,Az=function(t,r){if(t==null)throw new TypeError("target must be an object");var i=Sz(t);if(arguments.length===1)return i;for(var n=1;n<arguments.length;++n){var s=Sz(arguments[n]),c=D1e(s),h=Tz&&(Object.getOwnPropertySymbols||k1e);if(h)for(var p=h(s),m=0;m<p.length;++m){var d=p[m];Cz(s,d)&&O1e(c,d)}for(var E=0;E<c.length;++E){var _=c[E];if(Cz(s,_)){var T=s[_];i[_]=T}}}return i},TL=Az,P1e=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},i=0;i<t.length;++i)r[t[i]]=t[i];var n=Object.assign({},r),s="";for(var c in n)s+=c;return e!==s},R1e=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},wz=function(){return!Object.assign||P1e()||R1e()?TL:Object.assign},N1e=ns,M1e=wz,L1e=function(){var t=M1e();return N1e(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t},B1e=ns,F1e=ph.exports,U1e=Az,xz=wz,H1e=L1e,$1e=F1e.apply(xz()),Iz=function(t,r){return $1e(Object,arguments)};B1e(Iz,{getPolyfill:xz,implementation:U1e,shim:H1e});var Uy=Iz,G1e=ai,z1e=G1e("%Math.abs%"),Dz=function(t){return z1e(t)},bL,Oz;function j1e(){return Oz||(Oz=1,bL=function(t){if(t===null)return"Null";if(typeof t>"u")return"Undefined";if(typeof t=="function"||typeof t=="object")return"Object";if(typeof t=="number")return"Number";if(typeof t=="boolean")return"Boolean";if(typeof t=="string")return"String"}),bL}var SL,kz;function Ss(){if(kz)return SL;kz=1;var e=j1e();return SL=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":e(r)},SL}var V1e=Ss(),W1e=Math.floor,Pz=function(t){return V1e(t)==="BigInt"?t:W1e(t)},uI=Number.isNaN||function(t){return t!==t},Y1e=uI,Rz=function(e){return(typeof e=="number"||typeof e=="bigint")&&!Y1e(e)&&e!==1/0&&e!==-1/0},CL,Nz;function Mz(){if(Nz)return CL;Nz=1;var e=Dz,t=Pz,r=Ss(),i=uI,n=Rz;return CL=function(c){if(r(c)!=="Number"||i(c)||!n(c))return!1;var h=e(c);return t(h)===h},CL}var AL,Lz;function X1e(){if(Lz)return AL;Lz=1;var e={foo:{}},t=Object;return AL=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof t)},AL}var wL,Bz;function q1e(){if(Bz)return wL;Bz=1;var e=ai,t=e("%Array.prototype%"),r=e("%RangeError%"),i=e("%SyntaxError%"),n=e("%TypeError%"),s=Mz(),c=Math.pow(2,32)-1,h=X1e()(),p=e("%Object.setPrototypeOf%",!0)||(h?function(m,d){return m.__proto__=d,m}:null);return wL=function(d){if(!s(d)||d<0)throw new n("Assertion failed: `length` must be an integer Number >= 0");if(d>c)throw new r("length is greater than (2**32 - 1)");var E=arguments.length>1?arguments[1]:t,_=[];if(E!==t){if(!p)throw new i("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");p(_,E)}return d!==0&&(_.length=d),_},wL}const K1e=_t(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var xL=typeof Map=="function"&&Map.prototype,IL=Object.getOwnPropertyDescriptor&&xL?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,cI=xL&&IL&&typeof IL.get=="function"?IL.get:null,Fz=xL&&Map.prototype.forEach,DL=typeof Set=="function"&&Set.prototype,OL=Object.getOwnPropertyDescriptor&&DL?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,hI=DL&&OL&&typeof OL.get=="function"?OL.get:null,Uz=DL&&Set.prototype.forEach,Z1e=typeof WeakMap=="function"&&WeakMap.prototype,gb=Z1e?WeakMap.prototype.has:null,Q1e=typeof WeakSet=="function"&&WeakSet.prototype,vb=Q1e?WeakSet.prototype.has:null,J1e=typeof WeakRef=="function"&&WeakRef.prototype,Hz=J1e?WeakRef.prototype.deref:null,e_e=Boolean.prototype.valueOf,t_e=Object.prototype.toString,r_e=Function.prototype.toString,n_e=String.prototype.match,kL=String.prototype.slice,np=String.prototype.replace,i_e=String.prototype.toUpperCase,$z=String.prototype.toLowerCase,Gz=RegExp.prototype.test,zz=Array.prototype.concat,mh=Array.prototype.join,a_e=Array.prototype.slice,jz=Math.floor,PL=typeof BigInt=="function"?BigInt.prototype.valueOf:null,RL=Object.getOwnPropertySymbols,NL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="object",as=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Hy||!0)?Symbol.toStringTag:null,Vz=Object.prototype.propertyIsEnumerable,Wz=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Yz(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Gz.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var i=e<0?-jz(-e):jz(e);if(i!==e){var n=String(i),s=kL.call(t,n.length+1);return np.call(n,r,"$&_")+"."+np.call(np.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return np.call(t,r,"$&_")}var ML=K1e,Xz=ML.custom,qz=Jz(Xz)?Xz:null,Kz=function e(t,r,i,n){var s=r||{};if(ip(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ip(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=ip(s,"customInspect")?s.customInspect:!0;if(typeof c!="boolean"&&c!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ip(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ip(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var h=s.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return tj(t,s);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var p=String(t);return h?Yz(t,p):p}if(typeof t=="bigint"){var m=String(t)+"n";return h?Yz(t,m):m}var d=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=d&&d>0&&typeof t=="object")return LL(t)?"[Array]":"[Object]";var E=S_e(s,i);if(typeof n>"u")n=[];else if(ej(n,t)>=0)return"[Circular]";function _(Ee,ne,ve){if(ne&&(n=a_e.call(n),n.push(ne)),ve){var Me={depth:s.depth};return ip(s,"quoteStyle")&&(Me.quoteStyle=s.quoteStyle),e(Ee,Me,i+1,n)}return e(Ee,s,i+1,n)}if(typeof t=="function"&&!Qz(t)){var T=p_e(t),C=fI(t,_);return"[Function"+(T?": "+T:" (anonymous)")+"]"+(C.length>0?" { "+mh.call(C,", ")+" }":"")}if(Jz(t)){var A=Hy?np.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):NL.call(t);return typeof t=="object"&&!Hy?yb(A):A}if(E_e(t)){for(var D="<"+$z.call(String(t.nodeName)),O=t.attributes||[],B=0;B<O.length;B++)D+=" "+O[B].name+"="+Zz(o_e(O[B].value),"double",s);return D+=">",t.childNodes&&t.childNodes.length&&(D+="..."),D+="</"+$z.call(String(t.nodeName))+">",D}if(LL(t)){if(t.length===0)return"[]";var P=fI(t,_);return E&&!b_e(P)?"["+FL(P,E)+"]":"[ "+mh.call(P,", ")+" ]"}if(l_e(t)){var R=fI(t,_);return!("cause"in Error.prototype)&&"cause"in t&&!Vz.call(t,"cause")?"{ ["+String(t)+"] "+mh.call(zz.call("[cause]: "+_(t.cause),R),", ")+" }":R.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+mh.call(R,", ")+" }"}if(typeof t=="object"&&c){if(qz&&typeof t[qz]=="function"&&ML)return ML(t,{depth:d-i});if(c!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(m_e(t)){var $=[];return Fz&&Fz.call(t,function(Ee,ne){$.push(_(ne,t,!0)+" => "+_(Ee,t))}),rj("Map",cI.call(t),$,E)}if(y_e(t)){var W=[];return Uz&&Uz.call(t,function(Ee){W.push(_(Ee,t))}),rj("Set",hI.call(t),W,E)}if(g_e(t))return BL("WeakMap");if(__e(t))return BL("WeakSet");if(v_e(t))return BL("WeakRef");if(c_e(t))return yb(_(Number(t)));if(f_e(t))return yb(_(PL.call(t)));if(h_e(t))return yb(e_e.call(t));if(u_e(t))return yb(_(String(t)));if(!s_e(t)&&!Qz(t)){var Z=fI(t,_),K=Wz?Wz(t)===Object.prototype:t instanceof Object||t.constructor===Object,ae=t instanceof Object?"":"null prototype",le=!K&&as&&Object(t)===t&&as in t?kL.call(ap(t),8,-1):ae?"Object":"",J=K||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",ge=J+(le||ae?"["+mh.call(zz.call([],le||[],ae||[]),": ")+"] ":"");return Z.length===0?ge+"{}":E?ge+"{"+FL(Z,E)+"}":ge+"{ "+mh.call(Z,", ")+" }"}return String(t)};function Zz(e,t,r){var i=(r.quoteStyle||t)==="double"?'"':"'";return i+e+i}function o_e(e){return np.call(String(e),/"/g,"&quot;")}function LL(e){return ap(e)==="[object Array]"&&(!as||!(typeof e=="object"&&as in e))}function s_e(e){return ap(e)==="[object Date]"&&(!as||!(typeof e=="object"&&as in e))}function Qz(e){return ap(e)==="[object RegExp]"&&(!as||!(typeof e=="object"&&as in e))}function l_e(e){return ap(e)==="[object Error]"&&(!as||!(typeof e=="object"&&as in e))}function u_e(e){return ap(e)==="[object String]"&&(!as||!(typeof e=="object"&&as in e))}function c_e(e){return ap(e)==="[object Number]"&&(!as||!(typeof e=="object"&&as in e))}function h_e(e){return ap(e)==="[object Boolean]"&&(!as||!(typeof e=="object"&&as in e))}function Jz(e){if(Hy)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!NL)return!1;try{return NL.call(e),!0}catch{}return!1}function f_e(e){if(!e||typeof e!="object"||!PL)return!1;try{return PL.call(e),!0}catch{}return!1}var d_e=Object.prototype.hasOwnProperty||function(e){return e in this};function ip(e,t){return d_e.call(e,t)}function ap(e){return t_e.call(e)}function p_e(e){if(e.name)return e.name;var t=n_e.call(r_e.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function ej(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function m_e(e){if(!cI||!e||typeof e!="object")return!1;try{cI.call(e);try{hI.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function g_e(e){if(!gb||!e||typeof e!="object")return!1;try{gb.call(e,gb);try{vb.call(e,vb)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function v_e(e){if(!Hz||!e||typeof e!="object")return!1;try{return Hz.call(e),!0}catch{}return!1}function y_e(e){if(!hI||!e||typeof e!="object")return!1;try{hI.call(e);try{cI.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function __e(e){if(!vb||!e||typeof e!="object")return!1;try{vb.call(e,vb);try{gb.call(e,gb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function E_e(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function tj(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return tj(kL.call(e,0,t.maxStringLength),t)+i}var n=np.call(np.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,T_e);return Zz(n,"single",t)}function T_e(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+i_e.call(t.toString(16))}function yb(e){return"Object("+e+")"}function BL(e){return e+" { ? }"}function rj(e,t,r,i){var n=i?FL(r,i):mh.call(r,", ");return e+" ("+t+") {"+n+"}"}function b_e(e){for(var t=0;t<e.length;t++)if(ej(e[t],`
`)>=0)return!1;return!0}function S_e(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=mh.call(Array(e.indent+1)," ");else return null;return{base:r,prev:mh.call(Array(t+1),r)}}function FL(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+mh.call(e,","+r)+`
`+t.prev}function fI(e,t){var r=LL(e),i=[];if(r){i.length=e.length;for(var n=0;n<e.length;n++)i[n]=ip(e,n)?t(e[n],e):""}var s=typeof RL=="function"?RL(e):[],c;if(Hy){c={};for(var h=0;h<s.length;h++)c["$"+s[h]]=s[h]}for(var p in e)ip(e,p)&&(r&&String(Number(p))===p&&p<e.length||Hy&&c["$"+p]instanceof Symbol||(Gz.call(/[^\w$]/,p)?i.push(t(p,e)+": "+t(e[p],e)):i.push(p+": "+t(e[p],e))));if(typeof RL=="function")for(var m=0;m<s.length;m++)Vz.call(e,s[m])&&i.push("["+t(s[m])+"]: "+t(e[s[m]],e));return i}var UL,nj;function $y(){return nj||(nj=1,UL=function(t){return typeof t=="string"||typeof t=="symbol"}),UL}var C_e=ai,ij=C_e("%TypeError%"),A_e=Kz,w_e=$y(),x_e=Ss(),_b=function(t,r){if(x_e(t)!=="Object")throw new ij("Assertion failed: Type(O) is not Object");if(!w_e(r))throw new ij("Assertion failed: IsPropertyKey(P) is not true, got "+A_e(r));return t[r]},HL={exports:{}},$L,aj;function oj(){if(aj)return $L;aj=1;var e=ai,t=e("%Array%"),r=!t.isArray&&is("Object.prototype.toString");return $L=t.isArray||function(n){return r(n)==="[object Array]"},$L}var sj;function dI(){return sj||(sj=1,(function(e){e.exports=oj()})(HL)),HL.exports}var pI={exports:{}},GL={exports:{}},lj;function I_e(){return lj||(lj=1,(function(e){e.exports=ai})(GL)),GL.exports}var zL,uj;function D_e(){if(uj)return zL;uj=1;var e=ai,t=bs,r=e("%TypeError%");return zL=function(n,s){if(n.Type(s)!=="Object")return!1;var c={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var h in s)if(t(s,h)&&!c[h])return!1;if(n.IsDataDescriptor(s)&&n.IsAccessorDescriptor(s))throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},zL}var jL,cj;function hj(){if(cj)return jL;cj=1;var e=mz,t=ai,r=e()&&t("%Object.defineProperty%",!0),i=e.hasArrayLengthDefineBug(),n=i&&oj(),s=is,c=s("Object.prototype.propertyIsEnumerable");return jL=function(p,m,d,E,_,T){if(!r){if(!p(T)||!T["[[Configurable]]"]||!T["[[Writable]]"]||_ in E&&c(E,_)!==!!T["[[Enumerable]]"])return!1;var C=T["[[Value]]"];return E[_]=C,m(E[_],C)}return i&&_==="length"&&"[[Value]]"in T&&n(E)&&E.length!==T["[[Value]]"]?(E.length=T["[[Value]]"],E.length===T["[[Value]]"]):(r(E,_,d(T)),!0)},jL}var VL,fj;function O_e(){if(fj)return VL;fj=1;var e=bs;return VL=function(r){return e(r,"[[StartIndex]]")&&e(r,"[[EndIndex]]")&&r["[[StartIndex]]"]>=0&&r["[[EndIndex]]"]>=r["[[StartIndex]]"]&&String(parseInt(r["[[StartIndex]]"],10))===String(r["[[StartIndex]]"])&&String(parseInt(r["[[EndIndex]]"],10))===String(r["[[EndIndex]]"])},VL}var WL,dj;function YL(){if(dj)return WL;dj=1;var e=ai,t=e("%TypeError%"),r=e("%SyntaxError%"),i=bs,n=O_e(),s={"Property Descriptor":function(h){var p={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var m in h)if(i(h,m)&&!p[m])return!1;var d=i(h,"[[Value]]"),E=i(h,"[[Get]]")||i(h,"[[Set]]");if(d&&E)throw new t("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":n,"Iterator Record":function(h){return i(h,"[[Iterator]]")&&i(h,"[[NextMethod]]")&&i(h,"[[Done]]")},"PromiseCapability Record":function(h){return h&&i(h,"[[Resolve]]")&&typeof h["[[Resolve]]"]=="function"&&i(h,"[[Reject]]")&&typeof h["[[Reject]]"]=="function"&&i(h,"[[Promise]]")&&h["[[Promise]]"]&&typeof h["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(h){return h&&i(h,"[[Completion]]")&&i(h,"[[Capability]]")&&s["PromiseCapability Record"](h["[[Capability]]"])}};return WL=function(h,p,m,d){var E=s[p];if(typeof E!="function")throw new r("unknown record type: "+p);if(h(d)!=="Object"||!E(d))throw new t(m+" must be a "+p)},WL}var XL,pj;function k_e(){return pj||(pj=1,XL=function(t){if(typeof t>"u")return t;var r={};return"[[Value]]"in t&&(r.value=t["[[Value]]"]),"[[Writable]]"in t&&(r.writable=!!t["[[Writable]]"]),"[[Get]]"in t&&(r.get=t["[[Get]]"]),"[[Set]]"in t&&(r.set=t["[[Set]]"]),"[[Enumerable]]"in t&&(r.enumerable=!!t["[[Enumerable]]"]),"[[Configurable]]"in t&&(r.configurable=!!t["[[Configurable]]"]),r}),XL}var qL,mj;function gj(){if(mj)return qL;mj=1;var e=YL(),t=k_e(),r=Ss();return qL=function(n){return typeof n<"u"&&e(r,"Property Descriptor","Desc",n),t(n)},qL}var KL,vj;function P_e(){if(vj)return KL;vj=1;var e=bs,t=YL(),r=Ss();return KL=function(n){return!(typeof n>"u"||(t(r,"Property Descriptor","Desc",n),!e(n,"[[Get]]")&&!e(n,"[[Set]]")))},KL}var ZL,yj;function _j(){if(yj)return ZL;yj=1;var e=bs,t=YL(),r=Ss();return ZL=function(n){return!(typeof n>"u"||(t(r,"Property Descriptor","Desc",n),!e(n,"[[Value]]")&&!e(n,"[[Writable]]")))},ZL}var QL,Ej;function Tj(){if(Ej)return QL;Ej=1;var e=uI;return QL=function(r,i){return r===i?r===0?1/r===1/i:!0:e(r)&&e(i)},QL}var JL=function(t){return!!t},e2={exports:{}},bj=Function.prototype.toString,Gy=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t2,mI;if(typeof Gy=="function"&&typeof Object.defineProperty=="function")try{t2=Object.defineProperty({},"length",{get:function(){throw mI}}),mI={},Gy(function(){throw 42},null,t2)}catch(e){e!==mI&&(Gy=null)}else Gy=null;var R_e=/^\s*class\b/,r2=function(t){try{var r=bj.call(t);return R_e.test(r)}catch{return!1}},n2=function(t){try{return r2(t)?!1:(bj.call(t),!0)}catch{return!1}},gI=Object.prototype.toString,N_e="[object Object]",M_e="[object Function]",L_e="[object GeneratorFunction]",B_e="[object HTMLAllCollection]",F_e="[object HTML document.all class]",U_e="[object HTMLCollection]",H_e=typeof Symbol=="function"&&!!Symbol.toStringTag,$_e=!(0 in[,]),i2=function(){return!1};if(typeof document=="object"){var G_e=document.all;gI.call(G_e)===gI.call(document.all)&&(i2=function(t){if(($_e||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=gI.call(t);return(r===B_e||r===F_e||r===U_e||r===N_e)&&t("")==null}catch{}return!1})}var vI=Gy?function(t){if(i2(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Gy(t,null,t2)}catch(r){if(r!==mI)return!1}return!r2(t)&&n2(t)}:function(t){if(i2(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(H_e)return n2(t);if(r2(t))return!1;var r=gI.call(t);return r!==M_e&&r!==L_e&&!/^\[object HTML/.test(r)?!1:n2(t)};(function(e){e.exports=vI})(e2);var a2,Sj;function Cj(){if(Sj)return a2;Sj=1;var e=bs,t=ai,r=t("%TypeError%"),i=Ss(),n=JL,s=e2.exports;return a2=function(h){if(i(h)!=="Object")throw new r("ToPropertyDescriptor requires an object");var p={};if(e(h,"enumerable")&&(p["[[Enumerable]]"]=n(h.enumerable)),e(h,"configurable")&&(p["[[Configurable]]"]=n(h.configurable)),e(h,"value")&&(p["[[Value]]"]=h.value),e(h,"writable")&&(p["[[Writable]]"]=n(h.writable)),e(h,"get")){var m=h.get;if(typeof m<"u"&&!s(m))throw new r("getter must be a function");p["[[Get]]"]=m}if(e(h,"set")){var d=h.set;if(typeof d<"u"&&!s(d))throw new r("setter must be a function");p["[[Set]]"]=d}if((e(p,"[[Get]]")||e(p,"[[Set]]"))&&(e(p,"[[Value]]")||e(p,"[[Writable]]")))throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return p},a2}var o2,Aj;function z_e(){if(Aj)return o2;Aj=1;var e=ai,t=e("%TypeError%"),r=D_e(),i=hj(),n=gj(),s=P_e(),c=_j(),h=$y(),p=Tj(),m=Cj(),d=Ss();return o2=function(_,T,C){if(d(_)!=="Object")throw new t("Assertion failed: Type(O) is not Object");if(!h(T))throw new t("Assertion failed: IsPropertyKey(P) is not true");var A=r({Type:d,IsDataDescriptor:c,IsAccessorDescriptor:s},C)?C:m(C);if(!r({Type:d,IsDataDescriptor:c,IsAccessorDescriptor:s},A))throw new t("Assertion failed: Desc is not a valid Property Descriptor");return i(c,p,n,_,T,A)},o2}var wj;function j_e(){if(wj)return pI.exports;wj=1;var e=I_e(),t=e("%Reflect.construct%",!0),r=z_e();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&t){var i={},n={};r(n,"length",{"[[Get]]":function(){throw i},"[[Enumerable]]":!0}),pI.exports=function(c){try{t(c,n)}catch(h){return h===i}}}else pI.exports=function(c){return typeof c=="function"&&!!c.prototype};return pI.exports}var xj=ai,Ij=xj("%Symbol.species%",!0),Dj=xj("%TypeError%"),Oj=q1e(),kj=_b,V_e=dI(),W_e=j_e(),Y_e=Mz(),X_e=Ss(),Pj=function(t,r){if(!Y_e(r)||r<0)throw new Dj("Assertion failed: length must be an integer >= 0");var i=V_e(t);if(!i)return Oj(r);var n=kj(t,"constructor");if(Ij&&X_e(n)==="Object"&&(n=kj(n,Ij),n===null&&(n=void 0)),typeof n>"u")return Oj(r);if(!W_e(n))throw new Dj("C must be a constructor");return new n(r)},Rj=ai,q_e=Rj("%Math%"),K_e=Rj("%Number%"),Nj=K_e.MAX_SAFE_INTEGER||q_e.pow(2,53)-1,s2,Mj;function Lj(){if(Mj)return s2;Mj=1;var e=ai,t=is,r=e("%TypeError%"),i=dI(),n=e("%Reflect.apply%",!0)||t("%Function.prototype.apply%");return s2=function(c,h){var p=arguments.length>2?arguments[2]:[];if(!i(p))throw new r("Assertion failed: optional `argumentsList`, if provided, must be a List");return n(c,h,p)},s2}var l2,Bj;function Z_e(){if(Bj)return l2;Bj=1;var e=ai,t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return l2=t,l2}var Q_e=pL,Eb=function(){return Q_e()&&!!Symbol.toStringTag},u2=is,Fj=Eb(),Uj,Hj,c2,h2;if(Fj){Uj=u2("Object.prototype.hasOwnProperty"),Hj=u2("RegExp.prototype.exec"),c2={};var f2=function(){throw c2};h2={toString:f2,valueOf:f2},typeof Symbol.toPrimitive=="symbol"&&(h2[Symbol.toPrimitive]=f2)}var J_e=u2("Object.prototype.toString"),eEe=Object.getOwnPropertyDescriptor,tEe="[object RegExp]",d2=Fj?function(t){if(!t||typeof t!="object")return!1;var r=eEe(t,"lastIndex"),i=r&&Uj(r,"value");if(!i)return!1;try{Hj(t,h2)}catch(n){return n===c2}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:J_e(t)===tEe},p2,$j;function rEe(){if($j)return p2;$j=1;var e=ai,t=e("%Symbol.match%",!0),r=d2,i=JL;return p2=function(s){if(!s||typeof s!="object")return!1;if(t){var c=s[t];if(typeof c<"u")return i(c)}return r(s)},p2}var m2,Gj;function nEe(){if(Gj)return m2;Gj=1;var e=ai,t=Z_e(),r=e("%TypeError%"),i=is,n=i("Object.prototype.propertyIsEnumerable"),s=bs,c=dI(),h=$y(),p=rEe(),m=Cj(),d=Ss();return m2=function(_,T){if(d(_)!=="Object")throw new r("Assertion failed: O must be an Object");if(!h(T))throw new r("Assertion failed: P must be a Property Key");if(s(_,T)){if(!t){var C=c(_)&&T==="length",A=p(_)&&T==="lastIndex";return{"[[Configurable]]":!(C||A),"[[Enumerable]]":n(_,T),"[[Value]]":_[T],"[[Writable]]":!0}}return m(t(_,T))}},m2}var g2,zj;function jj(){return zj||(zj=1,g2=function(t){return t===null||typeof t!="function"&&typeof t!="object"}),g2}var v2,Vj;function iEe(){if(Vj)return v2;Vj=1;var e=ai,t=e("%Object.preventExtensions%",!0),r=e("%Object.isExtensible%",!0),i=jj();return v2=t?function(s){return!i(s)&&r(s)}:function(s){return!i(s)},v2}var y2,Wj;function aEe(){if(Wj)return y2;Wj=1;var e=ai,t=e("%TypeError%"),r=hj(),i=gj(),n=nEe(),s=_j(),c=iEe(),h=$y(),p=Tj(),m=Ss();return y2=function(E,_,T){if(m(E)!=="Object")throw new t("Assertion failed: Type(O) is not Object");if(!h(_))throw new t("Assertion failed: IsPropertyKey(P) is not true");var C=n(E,_),A=!C||c(E),D=C&&!C["[[Configurable]]"];return D||!A?!1:r(s,p,i,E,_,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":T,"[[Writable]]":!0})},y2}var _2,Yj;function Xj(){if(Yj)return _2;Yj=1;var e=ai,t=e("%TypeError%"),r=aEe(),i=$y(),n=Ss();return _2=function(c,h,p){if(n(c)!=="Object")throw new t("Assertion failed: Type(O) is not Object");if(!i(h))throw new t("Assertion failed: IsPropertyKey(P) is not true");var m=r(c,h,p);if(!m)throw new t("unable to create data property");return m},_2}var E2,qj;function Kj(){if(qj)return E2;qj=1;var e=ai,t=e("%TypeError%"),r=$y(),i=Ss();return E2=function(s,c){if(i(s)!=="Object")throw new t("Assertion failed: `O` must be an Object");if(!r(c))throw new t("Assertion failed: `P` must be a Property Key");return c in s},E2}var T2,Zj;function oEe(){return Zj||(Zj=1,T2=function(t){return t===null||typeof t!="function"&&typeof t!="object"}),T2}var b2,Qj;function sEe(){if(Qj)return b2;Qj=1;var e=Date.prototype.getDay,t=function(c){try{return e.call(c),!0}catch{return!1}},r=Object.prototype.toString,i="[object Date]",n=Eb();return b2=function(c){return typeof c!="object"||c===null?!1:n?t(c):r.call(c)===i},b2}var yI={exports:{}},Jj;function lEe(){if(Jj)return yI.exports;Jj=1;var e=Object.prototype.toString,t=hz();if(t){var r=Symbol.prototype.toString,i=/^Symbol\(.*\)$/,n=function(c){return typeof c.valueOf()!="symbol"?!1:i.test(r.call(c))};yI.exports=function(c){if(typeof c=="symbol")return!0;if(e.call(c)!=="[object Symbol]")return!1;try{return n(c)}catch{return!1}}}else yI.exports=function(c){return!1};return yI.exports}var S2,eV;function uEe(){if(eV)return S2;eV=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",t=oEe(),r=vI,i=sEe(),n=lEe(),s=function(p,m){if(typeof p>"u"||p===null)throw new TypeError("Cannot call method on "+p);if(typeof m!="string"||m!=="number"&&m!=="string")throw new TypeError('hint must be "string" or "number"');var d=m==="string"?["toString","valueOf"]:["valueOf","toString"],E,_,T;for(T=0;T<d.length;++T)if(E=p[d[T]],r(E)&&(_=E.call(p),t(_)))return _;throw new TypeError("No default value")},c=function(p,m){var d=p[m];if(d!==null&&typeof d<"u"){if(!r(d))throw new TypeError(d+" returned for property "+m+" of object "+p+" is not a function");return d}};return S2=function(p){if(t(p))return p;var m="default";arguments.length>1&&(arguments[1]===String?m="string":arguments[1]===Number&&(m="number"));var d;if(e&&(Symbol.toPrimitive?d=c(p,Symbol.toPrimitive):n(p)&&(d=Symbol.prototype.valueOf)),typeof d<"u"){var E=d.call(p,m);if(t(E))return E;throw new TypeError("unable to convert exotic object to primitive")}return m==="default"&&(i(p)||n(p))&&(m="string"),s(p,m==="default"?"number":m)},S2}var C2,tV;function cEe(){if(tV)return C2;tV=1;var e=uEe();return C2=function(r){return arguments.length>1?e(r,arguments[1]):e(r)},C2}var A2,rV;function hEe(){if(rV)return A2;rV=1;var e=is,t=ai,r=d2,i=e("RegExp.prototype.exec"),n=t("%TypeError%");return A2=function(c){if(!r(c))throw new n("`regex` must be a RegExp");return function(p){return i(c,p)!==null}},A2}var w2,nV;function fEe(){if(nV)return w2;nV=1;var e=ai,t=e("%Number%"),r=e("%RegExp%"),i=e("%TypeError%"),n=e("%parseInt%"),s=is,c=hEe(),h=s("String.prototype.slice"),p=c(/^0b[01]+$/i),m=c(/^0o[0-7]+$/i),d=c(/^[-+]0x[0-9a-f]+$/i),E=["","",""].join(""),_=new r("["+E+"]","g"),T=c(_),C=[`	
\v\f\r `,"\u2028","\u2029\uFEFF"].join(""),A=new RegExp("(^["+C+"]+)|(["+C+"]+$)","g"),D=s("String.prototype.replace"),O=function(P){return D(P,A,"")},B=Ss();return w2=function P(R){if(B(R)!=="String")throw new i("Assertion failed: `argument` is not a String");if(p(R))return t(n(h(R,2),2));if(m(R))return t(n(h(R,2),8));if(T(R)||d(R))return NaN;var $=O(R);return $!==R?P($):t(R)},w2}var iV=ai,aV=iV("%TypeError%"),oV=iV("%Number%"),dEe=jj(),pEe=cEe(),mEe=fEe(),gEe=function(t){var r=dEe(t)?t:pEe(t,oV);if(typeof r=="symbol")throw new aV("Cannot convert a Symbol value to a number");if(typeof r=="bigint")throw new aV("Conversion from 'BigInt' to 'number' is not allowed.");return typeof r=="string"?mEe(r):oV(r)},vEe=function(t){return t>=0?1:-1},yEe=Dz,_Ee=Pz,EEe=gEe,TEe=uI,bEe=Rz,SEe=vEe,sV=function(t){var r=EEe(t);if(TEe(r)||r===0)return 0;if(!bEe(r))return r;var i=_Ee(yEe(r));return i===0?0:SEe(r)*i},lV=Nj,CEe=sV,uV=function(t){var r=CEe(t);return r<=0?0:r>lV?lV:r},x2,cV;function hV(){if(cV)return x2;cV=1;var e=ai,t=e("%TypeError%"),r=_b,i=uV,n=Ss();return x2=function(c){if(n(c)!=="Object")throw new t("Assertion failed: `obj` must be an Object");return i(r(c,"length"))},x2}var fV=ai,AEe=fV("%String%"),wEe=fV("%TypeError%"),I2=function(t){if(typeof t=="symbol")throw new wEe("Cannot convert a Symbol value to a string");return AEe(t)},xEe=ai,dV=xEe("%TypeError%"),IEe=Nj,DEe=Lj(),OEe=Xj(),kEe=_b,PEe=Kj(),REe=dI(),NEe=hV(),pV=I2,MEe=function e(t,r,i,n,s){var c;arguments.length>5&&(c=arguments[5]);for(var h=n,p=0;p<i;){var m=pV(p),d=PEe(r,m);if(d===!0){var E=kEe(r,m);if(typeof c<"u"){if(arguments.length<=6)throw new dV("Assertion failed: thisArg is required when mapperFunction is provided");E=DEe(c,arguments[6],[E,p,r])}var _=!1;if(s>0&&(_=REe(E)),_){var T=NEe(E);h=e(t,E,T,h,s-1)}else{if(h>=IEe)throw new dV("index too large");OEe(t,pV(h),E),h+=1}}p+=1}return h},Eg={exports:{}},LEe=ai,BEe=LEe("%TypeError%"),FEe=function(t,r){if(t==null)throw new BEe(r||"Cannot call method on "+t);return t};(function(e){e.exports=FEe})(Eg);var UEe=ai,HEe=UEe("%Object%"),$Ee=Eg.exports,mV=function(t){return $Ee(t),HEe(t)},GEe=Pj,zEe=MEe,jEe=_b,VEe=sV,WEe=uV,YEe=mV,gV=function(){var t=YEe(this),r=WEe(jEe(t,"length")),i=1;arguments.length>0&&typeof arguments[0]<"u"&&(i=VEe(arguments[0]));var n=GEe(t,0);return zEe(n,t,r,0,i),n},XEe=gV,vV=function(){return Array.prototype.flat||XEe},D2,yV;function qEe(){if(yV)return D2;yV=1;var e=bs,t=typeof Symbol=="function"&&typeof Symbol.unscopables=="symbol",r=t&&Array.prototype[Symbol.unscopables],i=TypeError;return D2=function(s){if(typeof s!="string"||!s)throw new i("method must be a non-empty string");if(!e(Array.prototype,s))throw new i("method must be on Array.prototype");t&&(r[s]=!0)},D2}var O2,_V;function KEe(){if(_V)return O2;_V=1;var e=ns,t=qEe(),r=vV;return O2=function(){var n=r();return e(Array.prototype,{flat:n},{flat:function(){return Array.prototype.flat!==n}}),t("flat"),n},O2}var ZEe=ns,QEe=ph.exports,JEe=gV,EV=vV,eTe=EV(),tTe=KEe(),TV=QEe(eTe);ZEe(TV,{getPolyfill:EV,implementation:JEe,shim:tTe});var Tb=TV,bb={},_I={exports:{}},bV=function(e){return e!==e},SV=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||bV(t)&&bV(r))},rTe=SV,CV=function(){return typeof Object.is=="function"?Object.is:rTe},nTe=CV,iTe=ns,aTe=function(){var t=nTe();return iTe(Object,{is:t},{is:function(){return Object.is!==t}}),t},oTe=ns,sTe=ph.exports,lTe=SV,AV=CV,uTe=aTe,wV=sTe(AV(),Object);oTe(wV,{getPolyfill:AV,implementation:lTe,shim:uTe});var k2=wV;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(k2),i=n(bs);function n(h){return h&&h.__esModule?h:{default:h}}function s(h){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(h)}function c(h,p){if((0,r.default)(h,p))return!0;if(!h||!p||s(h)!=="object"||s(p)!=="object")return!1;var m=Object.keys(h),d=Object.keys(p);if(m.length!==d.length)return!1;m.sort(),d.sort();for(var E=0;E<m.length;E+=1)if(!(0,i.default)(p,m[E])||!(0,r.default)(h[m[E]],p[m[E]]))return!1;return!0}e.exports=t.default})(_I,_I.exports);var cTe=Eg.exports,xV=is,hTe=xV("Object.prototype.propertyIsEnumerable"),fTe=xV("Array.prototype.push"),IV=function(t){var r=cTe(t),i=[];for(var n in r)hTe(r,n)&&fTe(i,[n,r[n]]);return i},dTe=IV,DV=function(){return typeof Object.entries=="function"?Object.entries:dTe},pTe=DV,mTe=ns,gTe=function(){var t=pTe();return mTe(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t},vTe=ns,yTe=ph.exports,_Te=IV,OV=DV,ETe=gTe,kV=yTe(OV(),Object);vTe(kV,{getPolyfill:OV,implementation:_Te,shim:ETe});var PV=kV,RV={exports:{}};(function(e){e.exports=vI})(RV);var Sb=function(){return typeof function(){}.name=="string"},Cb=Object.getOwnPropertyDescriptor;if(Cb)try{Cb([],"length")}catch{Cb=null}Sb.functionsHaveConfigurableNames=function(){if(!Sb()||!Cb)return!1;var t=Cb(function(){},"name");return!!t&&!!t.configurable};var TTe=Function.prototype.bind;Sb.boundFunctionsHaveNames=function(){return Sb()&&typeof TTe=="function"&&function(){}.bind().name!==""};var NV=Sb,MV=RV.exports,bTe=NV(),LV=is,BV=LV("Function.prototype.toString"),FV=LV("String.prototype.match"),STe=/^class /,CTe=function(t){if(MV(t)||typeof t!="function")return!1;try{var r=FV(BV(t),STe);return!!r}catch{}return!1},ATe=/\s*function\s+([^(\s]*)\s*/,wTe=Function.prototype,UV=function(){if(!CTe(this)&&!MV(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(bTe)return this.name;if(this===wTe)return"";var t=BV(this),r=FV(t,ATe),i=r&&r[1];return i},xTe=UV,HV=function(){return xTe},ITe=ns.supportsDescriptors,DTe=NV(),OTe=HV,$V=Object.defineProperty,kTe=TypeError,PTe=function(){var t=OTe();if(DTe)return t;if(!ITe)throw new kTe("Shimming Function.prototype.name support requires ES5 property descriptor support.");var r=Function.prototype;return $V(r,"name",{configurable:!0,enumerable:!1,get:function(){var i=t.call(this);return this!==r&&$V(this,"name",{configurable:!0,enumerable:!1,value:i,writable:!1}),i}}),t},RTe=ns,NTe=ph.exports,GV=UV,MTe=HV,LTe=PTe,zV=NTe(GV);RTe(zV,{getPolyfill:MTe,implementation:GV,shim:LTe});var P2=zV,BTe=Eg.exports,FTe=I2,UTe=is,jV=UTe("String.prototype.replace"),VV=/^\s$/.test(""),HTe=VV?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,$Te=VV?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,WV=function(){var t=FTe(BTe(this));return jV(jV(t,HTe,""),$Te,"")},GTe=WV,YV="",zy="",XV=function(){return String.prototype.trim&&YV.trim()===YV&&zy.trim()===zy&&("_"+zy).trim()==="_"+zy&&(zy+"_").trim()===zy+"_"?String.prototype.trim:GTe},zTe=ns,jTe=XV,VTe=function(){var t=jTe();return zTe(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t},WTe=ph.exports,YTe=ns,XTe=Eg.exports,qTe=WV,qV=XV,KTe=VTe,ZTe=WTe(qV()),KV=function(t){return XTe(t),ZTe(t)};YTe(KV,{getPolyfill:qV,implementation:qTe,shim:KTe});var QTe=KV,ZV={},QV={};Object.defineProperty(QV,"__esModule",{value:!0});var EI={},jy={},TI=Te&&Te.__assign||function(){return TI=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},TI.apply(this,arguments)};Object.defineProperty(jy,"__esModule",{value:!0}),jy.flatten=void 0;var JTe={xml:!1,decodeEntities:!0};jy.default=JTe;var JV={_useHtmlParser2:!0,xmlMode:!0};function ebe(e){return e?.xml?typeof e.xml=="boolean"?JV:TI(TI({},JV),e.xml):e??void 0}jy.flatten=ebe;var La={},gh={},Bl={},Cs={},Vy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(i){i.Root="root",i.Text="text",i.Directive="directive",i.Comment="comment",i.Script="script",i.Style="style",i.Tag="tag",i.CDATA="cdata",i.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(i){return i.type===t.Tag||i.type===t.Script||i.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(Vy);var In={},op=Te&&Te.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}})(),Ab=Te&&Te.__assign||function(){return Ab=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ab.apply(this,arguments)};Object.defineProperty(In,"__esModule",{value:!0}),In.cloneNode=In.hasChildren=In.isDocument=In.isDirective=In.isComment=In.isText=In.isCDATA=In.isTag=In.Element=In.Document=In.CDATA=In.NodeWithChildren=In.ProcessingInstruction=In.Comment=In.Text=In.DataNode=In.Node=void 0;var Ks=Vy,R2=(function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),N2(this,t)},e})();In.Node=R2;var bI=(function(e){op(t,e);function t(r){var i=e.call(this)||this;return i.data=r,i}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),t})(R2);In.DataNode=bI;var eW=(function(e){op(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Ks.ElementType.Text,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t})(bI);In.Text=eW;var tW=(function(e){op(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Ks.ElementType.Comment,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t})(bI);In.Comment=tW;var rW=(function(e){op(t,e);function t(r,i){var n=e.call(this,i)||this;return n.name=r,n.type=Ks.ElementType.Directive,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t})(bI);In.ProcessingInstruction=rW;var SI=(function(e){op(t,e);function t(r){var i=e.call(this)||this;return i.children=r,i}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),t})(R2);In.NodeWithChildren=SI;var nW=(function(e){op(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Ks.ElementType.CDATA,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t})(SI);In.CDATA=nW;var iW=(function(e){op(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Ks.ElementType.Root,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t})(SI);In.Document=iW;var aW=(function(e){op(t,e);function t(r,i,n,s){n===void 0&&(n=[]),s===void 0&&(s=r==="script"?Ks.ElementType.Script:r==="style"?Ks.ElementType.Style:Ks.ElementType.Tag);var c=e.call(this,n)||this;return c.name=r,c.attribs=i,c.type=s,c}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(i){var n,s;return{name:i,value:r.attribs[i],namespace:(n=r["x-attribsNamespace"])===null||n===void 0?void 0:n[i],prefix:(s=r["x-attribsPrefix"])===null||s===void 0?void 0:s[i]}})},enumerable:!1,configurable:!0}),t})(SI);In.Element=aW;function oW(e){return(0,Ks.isTag)(e)}In.isTag=oW;function sW(e){return e.type===Ks.ElementType.CDATA}In.isCDATA=sW;function lW(e){return e.type===Ks.ElementType.Text}In.isText=lW;function uW(e){return e.type===Ks.ElementType.Comment}In.isComment=uW;function cW(e){return e.type===Ks.ElementType.Directive}In.isDirective=cW;function hW(e){return e.type===Ks.ElementType.Root}In.isDocument=hW;function tbe(e){return Object.prototype.hasOwnProperty.call(e,"children")}In.hasChildren=tbe;function N2(e,t){t===void 0&&(t=!1);var r;if(lW(e))r=new eW(e.data);else if(uW(e))r=new tW(e.data);else if(oW(e)){var i=t?M2(e.children):[],n=new aW(e.name,Ab({},e.attribs),i);i.forEach(function(p){return p.parent=n}),e.namespace!=null&&(n.namespace=e.namespace),e["x-attribsNamespace"]&&(n["x-attribsNamespace"]=Ab({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(n["x-attribsPrefix"]=Ab({},e["x-attribsPrefix"])),r=n}else if(sW(e)){var i=t?M2(e.children):[],s=new nW(i);i.forEach(function(m){return m.parent=s}),r=s}else if(hW(e)){var i=t?M2(e.children):[],c=new iW(i);i.forEach(function(m){return m.parent=c}),e["x-mode"]&&(c["x-mode"]=e["x-mode"]),r=c}else if(cW(e)){var h=new rW(e.name,e.data);e["x-name"]!=null&&(h["x-name"]=e["x-name"],h["x-publicId"]=e["x-publicId"],h["x-systemId"]=e["x-systemId"]),r=h}else throw new Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}In.cloneNode=N2;function M2(e){for(var t=e.map(function(i){return N2(i,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}(function(e){var t=Te&&Te.__createBinding||(Object.create?function(h,p,m,d){d===void 0&&(d=m);var E=Object.getOwnPropertyDescriptor(p,m);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(h,d,E)}:function(h,p,m,d){d===void 0&&(d=m),h[d]=p[m]}),r=Te&&Te.__exportStar||function(h,p){for(var m in h)m!=="default"&&!Object.prototype.hasOwnProperty.call(p,m)&&t(p,h,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var i=Vy,n=In;r(In,e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=(function(){function h(p,m,d){this.dom=[],this.root=new n.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof m=="function"&&(d=m,m=s),typeof p=="object"&&(m=p,p=void 0),this.callback=p??null,this.options=m??s,this.elementCB=d??null}return h.prototype.onparserinit=function(p){this.parser=p},h.prototype.onreset=function(){this.dom=[],this.root=new n.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},h.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},h.prototype.onerror=function(p){this.handleCallback(p)},h.prototype.onclosetag=function(){this.lastNode=null;var p=this.tagStack.pop();this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(p)},h.prototype.onopentag=function(p,m){var d=this.options.xmlMode?i.ElementType.Tag:void 0,E=new n.Element(p,m,void 0,d);this.addNode(E),this.tagStack.push(E)},h.prototype.ontext=function(p){var m=this.lastNode;if(m&&m.type===i.ElementType.Text)m.data+=p,this.options.withEndIndices&&(m.endIndex=this.parser.endIndex);else{var d=new n.Text(p);this.addNode(d),this.lastNode=d}},h.prototype.oncomment=function(p){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment){this.lastNode.data+=p;return}var m=new n.Comment(p);this.addNode(m),this.lastNode=m},h.prototype.oncommentend=function(){this.lastNode=null},h.prototype.oncdatastart=function(){var p=new n.Text(""),m=new n.CDATA([p]);this.addNode(m),p.parent=m,this.lastNode=p},h.prototype.oncdataend=function(){this.lastNode=null},h.prototype.onprocessinginstruction=function(p,m){var d=new n.ProcessingInstruction(p,m);this.addNode(d)},h.prototype.handleCallback=function(p){if(typeof this.callback=="function")this.callback(p,this.dom);else if(p)throw p},h.prototype.addNode=function(p){var m=this.tagStack[this.tagStack.length-1],d=m.children[m.children.length-1];this.options.withStartIndices&&(p.startIndex=this.parser.startIndex),this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),m.children.push(p),d&&(p.prev=d,d.next=p),p.parent=m,this.lastNode=null},h})();e.DomHandler=c,e.default=c})(Cs);var Wy={},fW={},Tg={},L2={};Object.defineProperty(L2,"__esModule",{value:!0}),L2.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(e){return e.charCodeAt(0)}));var B2={};Object.defineProperty(B2,"__esModule",{value:!0}),B2.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(e){return e.charCodeAt(0)}));var F2={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(s){var c="";return s>65535&&(s-=65536,c+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),c+=String.fromCharCode(s),c};function i(s){var c;return s>=55296&&s<=57343||s>1114111?65533:(c=r.get(s))!==null&&c!==void 0?c:s}e.replaceCodePoint=i;function n(s){return(0,e.fromCodePoint)(i(s))}e.default=n})(F2),(function(e){var t=Te&&Te.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTML=e.determineBranch=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var r=t(L2);e.htmlDecodeTree=r.default;var i=t(B2);e.xmlDecodeTree=i.default;var n=t(F2);e.decodeCodePoint=n.default;var s=F2;Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return s.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return s.fromCodePoint}});var c;(function(A){A[A.NUM=35]="NUM",A[A.SEMI=59]="SEMI",A[A.ZERO=48]="ZERO",A[A.NINE=57]="NINE",A[A.LOWER_A=97]="LOWER_A",A[A.LOWER_F=102]="LOWER_F",A[A.LOWER_X=120]="LOWER_X",A[A.To_LOWER_BIT=32]="To_LOWER_BIT"})(c||(c={}));var h;(function(A){A[A.VALUE_LENGTH=49152]="VALUE_LENGTH",A[A.BRANCH_LENGTH=16256]="BRANCH_LENGTH",A[A.JUMP_TABLE=127]="JUMP_TABLE"})(h=e.BinTrieFlags||(e.BinTrieFlags={}));function p(A){return function(O,B){for(var P="",R=0,$=0;($=O.indexOf("&",$))>=0;){if(P+=O.slice(R,$),R=$,$+=1,O.charCodeAt($)===c.NUM){var W=$+1,Z=10,K=O.charCodeAt(W);(K|c.To_LOWER_BIT)===c.LOWER_X&&(Z=16,$+=1,W+=1);do K=O.charCodeAt(++$);while(K>=c.ZERO&&K<=c.NINE||Z===16&&(K|c.To_LOWER_BIT)>=c.LOWER_A&&(K|c.To_LOWER_BIT)<=c.LOWER_F);if(W!==$){var ae=O.substring(W,$),le=parseInt(ae,Z);if(O.charCodeAt($)===c.SEMI)$+=1;else if(B)continue;P+=(0,n.default)(le),R=$}continue}for(var J=0,ge=1,Ee=0,ne=A[Ee];$<O.length&&(Ee=m(A,ne,Ee+1,O.charCodeAt($)),!(Ee<0));$++,ge++){ne=A[Ee];var ve=ne&h.VALUE_LENGTH;if(ve){(!B||O.charCodeAt($)===c.SEMI)&&(J=Ee,ge=0);var Me=(ve>>14)-1;if(Me===0)break;Ee+=Me}}if(J!==0){var Me=(A[J]&h.VALUE_LENGTH)>>14;P+=Me===1?String.fromCharCode(A[J]&~h.VALUE_LENGTH):Me===2?String.fromCharCode(A[J+1]):String.fromCharCode(A[J+1],A[J+2]),R=$-ge+1}}return P+O.slice(R)}}function m(A,D,O,B){var P=(D&h.BRANCH_LENGTH)>>7,R=D&h.JUMP_TABLE;if(P===0)return R!==0&&B===R?O:-1;if(R){var $=B-R;return $<0||$>=P?-1:A[O+$]-1}for(var W=O,Z=W+P-1;W<=Z;){var K=W+Z>>>1,ae=A[K];if(ae<B)W=K+1;else if(ae>B)Z=K-1;else return A[K+P]}return-1}e.determineBranch=m;var d=p(r.default),E=p(i.default);function _(A){return d(A,!1)}e.decodeHTML=_;function T(A){return d(A,!0)}e.decodeHTMLStrict=T;function C(A){return E(A,!0)}e.decodeXML=C})(Tg);var bg={},U2={};Object.defineProperty(U2,"__esModule",{value:!0});function CI(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}U2.default=new Map(CI([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(CI([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(CI([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(CI([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var Yy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(n,s){return n.codePointAt(s)}:function(n,s){return(n.charCodeAt(s)&64512)===55296?(n.charCodeAt(s)-55296)*1024+n.charCodeAt(s+1)-56320+65536:n.charCodeAt(s)};function r(n){for(var s="",c=0,h;(h=e.xmlReplacer.exec(n))!==null;){var p=h.index,m=n.charCodeAt(p),d=t.get(m);d!==void 0?(s+=n.substring(c,p)+d,c=p+1):(s+="".concat(n.substring(c,p),"&#x").concat((0,e.getCodePoint)(n,p).toString(16),";"),c=e.xmlReplacer.lastIndex+=+((m&64512)===55296))}return s+n.substr(c)}e.encodeXML=r,e.escape=r;function i(n,s){return function(h){for(var p,m=0,d="";p=n.exec(h);)m!==p.index&&(d+=h.substring(m,p.index)),d+=s.get(p[0].charCodeAt(0)),m=p.index+1;return d+h.substring(m)}}e.escapeUTF8=i(/[&<>'"]/g,t),e.escapeAttribute=i(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=i(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(Yy);var rbe=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bg,"__esModule",{value:!0}),bg.encodeNonAsciiHTML=bg.encodeHTML=void 0;var nbe=rbe(U2),dW=Yy,ibe=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function abe(e){return pW(ibe,e)}bg.encodeHTML=abe;function obe(e){return pW(dW.xmlReplacer,e)}bg.encodeNonAsciiHTML=obe;function pW(e,t){for(var r="",i=0,n;(n=e.exec(t))!==null;){var s=n.index;r+=t.substring(i,s);var c=t.charCodeAt(s),h=nbe.default.get(c);if(typeof h=="object"){if(s+1<t.length){var p=t.charCodeAt(s+1),m=typeof h.n=="number"?h.n===p?h.o:void 0:h.n.get(p);if(m!==void 0){r+=m,i=e.lastIndex+=1;continue}}h=h.v}if(h!==void 0)r+=h,i=s+1;else{var d=(0,dW.getCodePoint)(t,s);r+="&#x".concat(d.toString(16),";"),i=e.lastIndex+=+(d!==c)}}return r+t.substr(i)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.DecodingMode=e.EntityLevel=void 0;var t=Tg,r=bg,i=Yy,n;(function(T){T[T.XML=0]="XML",T[T.HTML=1]="HTML"})(n=e.EntityLevel||(e.EntityLevel={}));var s;(function(T){T[T.Legacy=0]="Legacy",T[T.Strict=1]="Strict"})(s=e.DecodingMode||(e.DecodingMode={}));var c;(function(T){T[T.UTF8=0]="UTF8",T[T.ASCII=1]="ASCII",T[T.Extensive=2]="Extensive",T[T.Attribute=3]="Attribute",T[T.Text=4]="Text"})(c=e.EncodingMode||(e.EncodingMode={}));function h(T,C){C===void 0&&(C=n.XML);var A=typeof C=="number"?{level:C}:C;return A.level===n.HTML?A.mode===s.Strict?(0,t.decodeHTMLStrict)(T):(0,t.decodeHTML)(T):(0,t.decodeXML)(T)}e.decode=h;function p(T,C){C===void 0&&(C=n.XML);var A=typeof C=="number"?{level:C}:C;return A.level===n.HTML?A.mode===s.Legacy?(0,t.decodeHTML)(T):(0,t.decodeHTMLStrict)(T):(0,t.decodeXML)(T)}e.decodeStrict=p;function m(T,C){C===void 0&&(C=n.XML);var A=typeof C=="number"?{level:C}:C;return A.mode===c.UTF8?(0,i.escapeUTF8)(T):A.mode===c.Attribute?(0,i.escapeAttribute)(T):A.mode===c.Text?(0,i.escapeText)(T):A.level===n.HTML?A.mode===c.ASCII?(0,r.encodeNonAsciiHTML)(T):(0,r.encodeHTML)(T):(0,i.encodeXML)(T)}e.encode=m;var d=Yy;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return d.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return d.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return d.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return d.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return d.escapeText}});var E=bg;Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return E.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return E.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return E.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return E.encodeHTML}});var _=Tg;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return _.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return _.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return _.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return _.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return _.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return _.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return _.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return _.decodeXML}})})(fW);var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.attributeNames=Xy.elementNames=void 0,Xy.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),Xy.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}));var qy=Te&&Te.__assign||function(){return qy=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},qy.apply(this,arguments)},sbe=Te&&Te.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),lbe=Te&&Te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ube=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sbe(t,e,r);return lbe(t,e),t};Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.render=void 0;var Of=ube(Vy),AI=fW,mW=Xy,cbe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function hbe(e){return e.replace(/"/g,"&quot;")}function fbe(e,t){var r;if(e){var i=((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)===!1?hbe:t.xmlMode||t.encodeEntities!=="utf8"?AI.encodeXML:AI.escapeAttribute;return Object.keys(e).map(function(n){var s,c,h=(s=e[n])!==null&&s!==void 0?s:"";return t.xmlMode==="foreign"&&(n=(c=mW.attributeNames.get(n))!==null&&c!==void 0?c:n),!t.emptyAttrs&&!t.xmlMode&&h===""?n:"".concat(n,'="').concat(i(h),'"')}).join(" ")}}var gW=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function wI(e,t){t===void 0&&(t={});for(var r=("length"in e)?e:[e],i="",n=0;n<r.length;n++)i+=dbe(r[n],t);return i}Wy.render=wI,Wy.default=wI;function dbe(e,t){switch(e.type){case Of.Root:return wI(e.children,t);case Of.Doctype:case Of.Directive:return vbe(e);case Of.Comment:return Ebe(e);case Of.CDATA:return _be(e);case Of.Script:case Of.Style:case Of.Tag:return gbe(e,t);case Of.Text:return ybe(e,t)}}var pbe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),mbe=new Set(["svg","math"]);function gbe(e,t){var r;t.xmlMode==="foreign"&&(e.name=(r=mW.elementNames.get(e.name))!==null&&r!==void 0?r:e.name,e.parent&&pbe.has(e.parent.name)&&(t=qy(qy({},t),{xmlMode:!1}))),!t.xmlMode&&mbe.has(e.name)&&(t=qy(qy({},t),{xmlMode:"foreign"}));var i="<".concat(e.name),n=fbe(e.attribs,t);return n&&(i+=" ".concat(n)),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&gW.has(e.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",e.children.length>0&&(i+=wI(e.children,t)),(t.xmlMode||!gW.has(e.name))&&(i+="</".concat(e.name,">"))),i}function vbe(e){return"<".concat(e.data,">")}function ybe(e,t){var r,i=e.data||"";return((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&cbe.has(e.parent.name))&&(i=t.xmlMode||t.encodeEntities!=="utf8"?(0,AI.encodeXML)(i):(0,AI.escapeText)(i)),i}function _be(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}function Ebe(e){return"<!--".concat(e.data,"-->")}var Tbe=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.innerText=Bl.textContent=Bl.getText=Bl.getInnerHTML=Bl.getOuterHTML=void 0;var vh=Cs,bbe=Tbe(Wy),Sbe=Vy;function vW(e,t){return(0,bbe.default)(e,t)}Bl.getOuterHTML=vW;function Cbe(e,t){return(0,vh.hasChildren)(e)?e.children.map(function(r){return vW(r,t)}).join(""):""}Bl.getInnerHTML=Cbe;function xI(e){return Array.isArray(e)?e.map(xI).join(""):(0,vh.isTag)(e)?e.name==="br"?`
`:xI(e.children):(0,vh.isCDATA)(e)?xI(e.children):(0,vh.isText)(e)?e.data:""}Bl.getText=xI;function H2(e){return Array.isArray(e)?e.map(H2).join(""):(0,vh.hasChildren)(e)&&!(0,vh.isComment)(e)?H2(e.children):(0,vh.isText)(e)?e.data:""}Bl.textContent=H2;function $2(e){return Array.isArray(e)?e.map($2).join(""):(0,vh.hasChildren)(e)&&(e.type===Sbe.ElementType.Tag||(0,vh.isCDATA)(e))?$2(e.children):(0,vh.isText)(e)?e.data:""}Bl.innerText=$2;var yo={};Object.defineProperty(yo,"__esModule",{value:!0}),yo.prevElementSibling=yo.nextElementSibling=yo.getName=yo.hasAttrib=yo.getAttributeValue=yo.getSiblings=yo.getParent=yo.getChildren=void 0;var G2=Cs;function yW(e){return(0,G2.hasChildren)(e)?e.children:[]}yo.getChildren=yW;function _W(e){return e.parent||null}yo.getParent=_W;function Abe(e){var t,r,i=_W(e);if(i!=null)return yW(i);for(var n=[e],s=e.prev,c=e.next;s!=null;)n.unshift(s),t=s,s=t.prev;for(;c!=null;)n.push(c),r=c,c=r.next;return n}yo.getSiblings=Abe;function wbe(e,t){var r;return(r=e.attribs)===null||r===void 0?void 0:r[t]}yo.getAttributeValue=wbe;function xbe(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}yo.hasAttrib=xbe;function Ibe(e){return e.name}yo.getName=Ibe;function Dbe(e){for(var t,r=e.next;r!==null&&!(0,G2.isTag)(r);)t=r,r=t.next;return r}yo.nextElementSibling=Dbe;function Obe(e){for(var t,r=e.prev;r!==null&&!(0,G2.isTag)(r);)t=r,r=t.prev;return r}yo.prevElementSibling=Obe;var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.prepend=Zs.prependChild=Zs.append=Zs.appendChild=Zs.replaceElement=Zs.removeElement=void 0;function wb(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Zs.removeElement=wb;function kbe(e,t){var r=t.prev=e.prev;r&&(r.next=t);var i=t.next=e.next;i&&(i.prev=t);var n=t.parent=e.parent;if(n){var s=n.children;s[s.lastIndexOf(e)]=t,e.parent=null}}Zs.replaceElement=kbe;function Pbe(e,t){if(wb(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null}Zs.appendChild=Pbe;function Rbe(e,t){wb(t);var r=e.parent,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=r,i){if(i.prev=t,r){var n=r.children;n.splice(n.lastIndexOf(i),0,t)}}else r&&r.children.push(t)}Zs.append=Rbe;function Nbe(e,t){if(wb(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){var r=e.children[1];r.prev=t,t.next=r}else t.next=null}Zs.prependChild=Nbe;function Mbe(e,t){wb(t);var r=e.parent;if(r){var i=r.children;i.splice(i.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}Zs.prepend=Mbe;var As={};Object.defineProperty(As,"__esModule",{value:!0}),As.findAll=As.existsOne=As.findOne=As.findOneChild=As.find=As.filter=void 0;var xb=Cs;function Lbe(e,t,r,i){return r===void 0&&(r=!0),i===void 0&&(i=1/0),Array.isArray(t)||(t=[t]),z2(e,t,r,i)}As.filter=Lbe;function z2(e,t,r,i){for(var n=[],s=0,c=t;s<c.length;s++){var h=c[s];if(e(h)&&(n.push(h),--i<=0))break;if(r&&(0,xb.hasChildren)(h)&&h.children.length>0){var p=z2(e,h.children,r,i);if(n.push.apply(n,p),i-=p.length,i<=0)break}}return n}As.find=z2;function Bbe(e,t){return t.find(e)}As.findOneChild=Bbe;function EW(e,t,r){r===void 0&&(r=!0);for(var i=null,n=0;n<t.length&&!i;n++){var s=t[n];if((0,xb.isTag)(s))e(s)?i=s:r&&s.children.length>0&&(i=EW(e,s.children,!0));else continue}return i}As.findOne=EW;function TW(e,t){return t.some(function(r){return(0,xb.isTag)(r)&&(e(r)||r.children.length>0&&TW(e,r.children))})}As.existsOne=TW;function Fbe(e,t){for(var r,i=[],n=t.filter(xb.isTag),s;s=n.shift();){var c=(r=s.children)===null||r===void 0?void 0:r.filter(xb.isTag);c&&c.length>0&&n.unshift.apply(n,c),e(s)&&i.push(s)}return i}As.findAll=Fbe;var Fl={};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.getElementsByTagType=Fl.getElementsByTagName=Fl.getElementById=Fl.getElements=Fl.testElement=void 0;var Sg=Cs,II=As,DI={tag_name:function(e){return typeof e=="function"?function(t){return(0,Sg.isTag)(t)&&e(t.name)}:e==="*"?Sg.isTag:function(t){return(0,Sg.isTag)(t)&&t.name===e}},tag_type:function(e){return typeof e=="function"?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return typeof e=="function"?function(t){return(0,Sg.isText)(t)&&e(t.data)}:function(t){return(0,Sg.isText)(t)&&t.data===e}}};function bW(e,t){return typeof t=="function"?function(r){return(0,Sg.isTag)(r)&&t(r.attribs[e])}:function(r){return(0,Sg.isTag)(r)&&r.attribs[e]===t}}function Ube(e,t){return function(r){return e(r)||t(r)}}function SW(e){var t=Object.keys(e).map(function(r){var i=e[r];return Object.prototype.hasOwnProperty.call(DI,r)?DI[r](i):bW(r,i)});return t.length===0?null:t.reduce(Ube)}function Hbe(e,t){var r=SW(e);return r?r(t):!0}Fl.testElement=Hbe;function $be(e,t,r,i){i===void 0&&(i=1/0);var n=SW(e);return n?(0,II.filter)(n,t,r,i):[]}Fl.getElements=$be;function Gbe(e,t,r){return r===void 0&&(r=!0),Array.isArray(t)||(t=[t]),(0,II.findOne)(bW("id",e),t,r)}Fl.getElementById=Gbe;function zbe(e,t,r,i){return r===void 0&&(r=!0),i===void 0&&(i=1/0),(0,II.filter)(DI.tag_name(e),t,r,i)}Fl.getElementsByTagName=zbe;function jbe(e,t,r,i){return r===void 0&&(r=!0),i===void 0&&(i=1/0),(0,II.filter)(DI.tag_type(e),t,r,i)}Fl.getElementsByTagType=jbe;var CW={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.DocumentPosition=e.removeSubsets=void 0;var t=Cs;function r(c){for(var h=c.length;--h>=0;){var p=c[h];if(h>0&&c.lastIndexOf(p,h-1)>=0){c.splice(h,1);continue}for(var m=p.parent;m;m=m.parent)if(c.includes(m)){c.splice(h,1);break}}return c}e.removeSubsets=r;var i;(function(c){c[c.DISCONNECTED=1]="DISCONNECTED",c[c.PRECEDING=2]="PRECEDING",c[c.FOLLOWING=4]="FOLLOWING",c[c.CONTAINS=8]="CONTAINS",c[c.CONTAINED_BY=16]="CONTAINED_BY"})(i=e.DocumentPosition||(e.DocumentPosition={}));function n(c,h){var p=[],m=[];if(c===h)return 0;for(var d=(0,t.hasChildren)(c)?c:c.parent;d;)p.unshift(d),d=d.parent;for(d=(0,t.hasChildren)(h)?h:h.parent;d;)m.unshift(d),d=d.parent;for(var E=Math.min(p.length,m.length),_=0;_<E&&p[_]===m[_];)_++;if(_===0)return i.DISCONNECTED;var T=p[_-1],C=T.children,A=p[_],D=m[_];return C.indexOf(A)>C.indexOf(D)?T===h?i.FOLLOWING|i.CONTAINED_BY:i.FOLLOWING:T===c?i.PRECEDING|i.CONTAINS:i.PRECEDING}e.compareDocumentPosition=n;function s(c){return c=c.filter(function(h,p,m){return!m.includes(h,p+1)}),c.sort(function(h,p){var m=n(h,p);return m&i.PRECEDING?-1:m&i.FOLLOWING?1:0}),c}e.uniqueSort=s})(CW);var OI={};Object.defineProperty(OI,"__esModule",{value:!0}),OI.getFeed=void 0;var Vbe=Bl,Ib=Fl;function Wbe(e){var t=kI(Zbe,e);return t?t.name==="feed"?Ybe(t):Xbe(t):null}OI.getFeed=Wbe;function Ybe(e){var t,r=e.children,i={type:"atom",items:(0,Ib.getElementsByTagName)("entry",r).map(function(c){var h,p=c.children,m={media:AW(p)};Qs(m,"id","id",p),Qs(m,"title","title",p);var d=(h=kI("link",p))===null||h===void 0?void 0:h.attribs.href;d&&(m.link=d);var E=Cg("summary",p)||Cg("content",p);E&&(m.description=E);var _=Cg("updated",p);return _&&(m.pubDate=new Date(_)),m})};Qs(i,"id","id",r),Qs(i,"title","title",r);var n=(t=kI("link",r))===null||t===void 0?void 0:t.attribs.href;n&&(i.link=n),Qs(i,"description","subtitle",r);var s=Cg("updated",r);return s&&(i.updated=new Date(s)),Qs(i,"author","email",r,!0),i}function Xbe(e){var t,r,i=(r=(t=kI("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[],n={type:e.name.substr(0,3),id:"",items:(0,Ib.getElementsByTagName)("item",e.children).map(function(c){var h=c.children,p={media:AW(h)};Qs(p,"id","guid",h),Qs(p,"title","title",h),Qs(p,"link","link",h),Qs(p,"description","description",h);var m=Cg("pubDate",h);return m&&(p.pubDate=new Date(m)),p})};Qs(n,"title","title",i),Qs(n,"link","link",i),Qs(n,"description","description",i);var s=Cg("lastBuildDate",i);return s&&(n.updated=new Date(s)),Qs(n,"author","managingEditor",i,!0),n}var qbe=["url","type","lang"],Kbe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function AW(e){return(0,Ib.getElementsByTagName)("media:content",e).map(function(t){for(var r=t.attribs,i={medium:r.medium,isDefault:!!r.isDefault},n=0,s=qbe;n<s.length;n++){var c=s[n];r[c]&&(i[c]=r[c])}for(var h=0,p=Kbe;h<p.length;h++){var c=p[h];r[c]&&(i[c]=parseInt(r[c],10))}return r.expression&&(i.expression=r.expression),i})}function kI(e,t){return(0,Ib.getElementsByTagName)(e,t,!0,1)[0]}function Cg(e,t,r){return r===void 0&&(r=!1),(0,Vbe.textContent)((0,Ib.getElementsByTagName)(e,t,r,1)).trim()}function Qs(e,t,r,i,n){n===void 0&&(n=!1);var s=Cg(r,i,n);s&&(e[t]=s)}function Zbe(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}(function(e){var t=Te&&Te.__createBinding||(Object.create?function(n,s,c,h){h===void 0&&(h=c);var p=Object.getOwnPropertyDescriptor(s,c);(!p||("get"in p?!s.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(n,h,p)}:function(n,s,c,h){h===void 0&&(h=c),n[h]=s[c]}),r=Te&&Te.__exportStar||function(n,s){for(var c in n)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&t(s,n,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(Bl,e),r(yo,e),r(Zs,e),r(As,e),r(Fl,e),r(CW,e),r(OI,e);var i=Cs;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return i.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return i.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return i.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return i.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return i.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return i.hasChildren}})})(gh);var Ag=Te&&Te.__assign||function(){return Ag=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ag.apply(this,arguments)},Qbe=Te&&Te.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),Jbe=Te&&Te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eSe=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Qbe(t,e,r);return Jbe(t,e),t};Object.defineProperty(La,"__esModule",{value:!0}),La.merge=La.contains=La.root=La.parseHTML=La.text=La.xml=La.html=void 0;var tSe=gh,j2=eSe(jy);function wW(e,t,r){return e?e(t??e._root.children,null,void 0,r).toString():""}function rSe(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function nSe(e,t){var r=rSe(e)?(t=e,void 0):e,i=Ag(Ag(Ag({},j2.default),this===null||this===void 0?void 0:this._options),(0,j2.flatten)(t??{}));return wW(this,r,i)}La.html=nSe;function iSe(e){var t=Ag(Ag({},this._options),{xmlMode:!0});return wW(this,e,t)}La.xml=iSe;function aSe(e){for(var t=e||(this?this.root():[]),r="",i=0;i<t.length;i++)r+=(0,tSe.textContent)(t[i]);return r}La.text=aSe;function oSe(e,t,r){if(r===void 0&&(r=typeof t=="boolean"?t:!1),!e||typeof e!="string")return null;typeof t=="boolean"&&(r=t);var i=this.load(e,j2.default,!1);return r||i("script").remove(),i.root()[0].children.slice()}La.parseHTML=oSe;function sSe(){return this(this._root)}La.root=sSe;function lSe(e,t){if(t===e)return!1;for(var r=t;r&&r!==r.parent;)if(r=r.parent,r===e)return!0;return!1}La.contains=lSe;function uSe(e,t){if(!(!xW(e)||!xW(t))){for(var r=e.length,i=+t.length,n=0;n<i;n++)e[r++]=t[n];return e.length=r,e}}La.merge=uSe;function xW(e){if(Array.isArray(e))return!0;if(typeof e!="object"||!Object.prototype.hasOwnProperty.call(e,"length")||typeof e.length!="number"||e.length<0)return!1;for(var t=0;t<e.length;t++)if(!(t in e))return!1;return!0}var PI={},Xa={},sp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHtml=e.cloneDom=e.domEach=e.cssCase=e.camelCase=e.isCheerio=e.isTag=void 0;var t=Cs,r=Cs;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return r.isTag}});function i(d){return d.cheerio!=null}e.isCheerio=i;function n(d){return d.replace(/[_.-](\w|$)/g,function(E,_){return _.toUpperCase()})}e.camelCase=n;function s(d){return d.replace(/[A-Z]/g,"-$&").toLowerCase()}e.cssCase=s;function c(d,E){for(var _=d.length,T=0;T<_;T++)E(d[T],T);return d}e.domEach=c;function h(d){var E="length"in d?Array.prototype.map.call(d,function(T){return(0,t.cloneNode)(T,!0)}):[(0,t.cloneNode)(d,!0)],_=new t.Document(E);return E.forEach(function(T){T.parent=_}),E}e.cloneDom=h;var p;(function(d){d[d.LowerA=97]="LowerA",d[d.LowerZ=122]="LowerZ",d[d.UpperA=65]="UpperA",d[d.UpperZ=90]="UpperZ",d[d.Exclamation=33]="Exclamation"})(p||(p={}));function m(d){var E=d.indexOf("<");if(E<0||E>d.length-3)return!1;var _=d.charCodeAt(E+1);return(_>=p.LowerA&&_<=p.LowerZ||_>=p.UpperA&&_<=p.UpperZ||_===p.Exclamation)&&d.includes(">",E+2)}e.isHtml=m})(sp),Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.toggleClass=Xa.removeClass=Xa.addClass=Xa.hasClass=Xa.removeAttr=Xa.val=Xa.data=Xa.prop=Xa.attr=void 0;var IW=La,yi=sp,DW=gh,Ky=Object.prototype.hasOwnProperty,Db=/\s+/,V2="data-",OW={null:null,true:!0,false:!1},W2=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,cSe=/^{[^]*}$|^\[[^]*]$/;function RI(e,t,r){var i;if(!(!e||!(0,yi.isTag)(e))){if((i=e.attribs)!==null&&i!==void 0||(e.attribs={}),!t)return e.attribs;if(Ky.call(e.attribs,t))return!r&&W2.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return(0,IW.text)(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function Zy(e,t,r){r===null?NW(e,t):e.attribs[t]="".concat(r)}function hSe(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return(0,yi.domEach)(this,function(r,i){(0,yi.isTag)(r)&&Zy(r,e,t.call(r,i,r.attribs[e]))})}return(0,yi.domEach)(this,function(r){(0,yi.isTag)(r)&&(typeof e=="object"?Object.keys(e).forEach(function(i){var n=e[i];Zy(r,i,n)}):Zy(r,e,t))})}return arguments.length>1?this:RI(this[0],e,this.options.xmlMode)}Xa.attr=hSe;function kW(e,t,r){return t in e?e[t]:!r&&W2.test(t)?RI(e,t,!1)!==void 0:RI(e,t,r)}function Y2(e,t,r,i){t in e?e[t]=r:Zy(e,t,!i&&W2.test(t)?r?"":null:"".concat(r))}function fSe(e,t){var r=this,i;if(typeof e=="string"&&t===void 0){var n=this[0];if(!n||!(0,yi.isTag)(n))return;switch(e){case"style":{var s=this.css(),c=Object.keys(s);return c.forEach(function(p,m){s[m]=p}),s.length=c.length,s}case"tagName":case"nodeName":return n.name.toUpperCase();case"href":case"src":{var h=(i=n.attribs)===null||i===void 0?void 0:i[e];return typeof URL<"u"&&(e==="href"&&(n.tagName==="a"||n.name==="link")||e==="src"&&(n.tagName==="img"||n.tagName==="iframe"||n.tagName==="audio"||n.tagName==="video"||n.tagName==="source"))&&h!==void 0&&this.options.baseURI?new URL(h,this.options.baseURI).href:h}case"innerText":return(0,DW.innerText)(n);case"textContent":return(0,DW.textContent)(n);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return kW(n,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new Error("Bad combination of arguments.");return(0,yi.domEach)(this,function(p,m){(0,yi.isTag)(p)&&Y2(p,e,t.call(p,m,kW(p,e,r.options.xmlMode)),r.options.xmlMode)})}return(0,yi.domEach)(this,function(p){(0,yi.isTag)(p)&&(typeof e=="object"?Object.keys(e).forEach(function(m){var d=e[m];Y2(p,m,d,r.options.xmlMode)}):Y2(p,e,t,r.options.xmlMode))})}}Xa.prop=fSe;function PW(e,t,r){var i,n=e;(i=n.data)!==null&&i!==void 0||(n.data={}),typeof t=="object"?Object.assign(n.data,t):typeof t=="string"&&r!==void 0&&(n.data[t]=r)}function RW(e,t){var r,i,n;t==null?(r=Object.keys(e.attribs).filter(function(p){return p.startsWith(V2)}),i=r.map(function(p){return(0,yi.camelCase)(p.slice(V2.length))})):(r=[V2+(0,yi.cssCase)(t)],i=[t]);for(var s=0;s<r.length;++s){var c=r[s],h=i[s];if(Ky.call(e.attribs,c)&&!Ky.call(e.data,h)){if(n=e.attribs[c],Ky.call(OW,n))n=OW[n];else if(n===String(Number(n)))n=Number(n);else if(cSe.test(n))try{n=JSON.parse(n)}catch{}e.data[h]=n}}return t==null?e.data:n}function dSe(e,t){var r,i=this[0];if(!(!i||!(0,yi.isTag)(i))){var n=i;return(r=n.data)!==null&&r!==void 0||(n.data={}),e?typeof e=="object"||t!==void 0?((0,yi.domEach)(this,function(s){(0,yi.isTag)(s)&&(typeof e=="object"?PW(s,e):PW(s,e,t))}),this):Ky.call(n.data,e)?n.data[e]:RW(n,e):RW(n)}}Xa.data=dSe;function pSe(e){var t=arguments.length===0,r=this[0];if(!r||!(0,yi.isTag)(r))return t?void 0:this;switch(r.name){case"textarea":return this.text(e);case"select":{var i=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");for(var n=typeof e!="object"?[e]:e,s=0;s<n.length;s++)this.find('option[value="'.concat(n[s],'"]')).attr("selected","");return this}return this.attr("multiple")?i.toArray().map(function(c){return(0,IW.text)(c.children)}):i.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}Xa.val=pSe;function NW(e,t){!e.attribs||!Ky.call(e.attribs,t)||delete e.attribs[t]}function NI(e){return e?e.trim().split(Db):[]}function mSe(e){for(var t=NI(e),r=function(s){(0,yi.domEach)(i,function(c){(0,yi.isTag)(c)&&NW(c,t[s])})},i=this,n=0;n<t.length;n++)r(n);return this}Xa.removeAttr=mSe;function gSe(e){return this.toArray().some(function(t){var r=(0,yi.isTag)(t)&&t.attribs.class,i=-1;if(r&&e.length)for(;(i=r.indexOf(e,i+1))>-1;){var n=i+e.length;if((i===0||Db.test(r[i-1]))&&(n===r.length||Db.test(r[n])))return!0}return!1})}Xa.hasClass=gSe;function MW(e){if(typeof e=="function")return(0,yi.domEach)(this,function(m,d){if((0,yi.isTag)(m)){var E=m.attribs.class||"";MW.call([m],e.call(m,d,E))}});if(!e||typeof e!="string")return this;for(var t=e.split(Db),r=this.length,i=0;i<r;i++){var n=this[i];if((0,yi.isTag)(n)){var s=RI(n,"class",!1);if(!s)Zy(n,"class",t.join(" ").trim());else{for(var c=" ".concat(s," "),h=0;h<t.length;h++){var p="".concat(t[h]," ");c.includes(" ".concat(p))||(c+=p)}Zy(n,"class",c.trim())}}}return this}Xa.addClass=MW;function LW(e){if(typeof e=="function")return(0,yi.domEach)(this,function(n,s){(0,yi.isTag)(n)&&LW.call([n],e.call(n,s,n.attribs.class||""))});var t=NI(e),r=t.length,i=arguments.length===0;return(0,yi.domEach)(this,function(n){if((0,yi.isTag)(n))if(i)n.attribs.class="";else{for(var s=NI(n.attribs.class),c=!1,h=0;h<r;h++){var p=s.indexOf(t[h]);p>=0&&(s.splice(p,1),c=!0,h--)}c&&(n.attribs.class=s.join(" "))}})}Xa.removeClass=LW;function BW(e,t){if(typeof e=="function")return(0,yi.domEach)(this,function(E,_){(0,yi.isTag)(E)&&BW.call([E],e.call(E,_,E.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;for(var r=e.split(Db),i=r.length,n=typeof t=="boolean"?t?1:-1:0,s=this.length,c=0;c<s;c++){var h=this[c];if((0,yi.isTag)(h)){for(var p=NI(h.attribs.class),m=0;m<i;m++){var d=p.indexOf(r[m]);n>=0&&d<0?p.push(r[m]):n<=0&&d>=0&&p.splice(d,1)}h.attribs.class=p.join(" ")}}return this}Xa.toggleClass=BW;var wr={},FW={},Hn;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(Hn||(Hn={}));const vSe={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var Zi;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(Zi||(Zi={}));const UW=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,ySe=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,_Se=new Map([[126,Zi.Element],[94,Zi.Start],[36,Zi.End],[42,Zi.Any],[33,Zi.Not],[124,Zi.Hyphen]]),ESe=new Set(["has","not","matches","is","where","host","host-context"]);function HW(e){switch(e.type){case Hn.Adjacent:case Hn.Child:case Hn.Descendant:case Hn.Parent:case Hn.Sibling:case Hn.ColumnCombinator:return!0;default:return!1}}const TSe=new Set(["contains","icontains"]);function bSe(e,t,r){const i=parseInt(t,16)-65536;return i!==i||r?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)}function Ob(e){return e.replace(ySe,bSe)}function X2(e){return e===39||e===34}function $W(e){return e===32||e===9||e===10||e===12||e===13}function SSe(e){const t=[],r=GW(t,`${e}`,0);if(r<e.length)throw new Error(`Unmatched selector: ${e.slice(r)}`);return t}function GW(e,t,r){let i=[];function n(_){const T=t.slice(r+_).match(UW);if(!T)throw new Error(`Expected name, found ${t.slice(r)}`);const[C]=T;return r+=_+C.length,Ob(C)}function s(_){for(r+=_;r<t.length&&$W(t.charCodeAt(r));)r++}function c(){r+=1;const _=r;let T=1;for(;T>0&&r<t.length;r++)t.charCodeAt(r)===40&&!h(r)?T++:t.charCodeAt(r)===41&&!h(r)&&T--;if(T)throw new Error("Parenthesis not matched");return Ob(t.slice(_,r-1))}function h(_){let T=0;for(;t.charCodeAt(--_)===92;)T++;return(T&1)===1}function p(){if(i.length>0&&HW(i[i.length-1]))throw new Error("Did not expect successive traversals.")}function m(_){if(i.length>0&&i[i.length-1].type===Hn.Descendant){i[i.length-1].type=_;return}p(),i.push({type:_})}function d(_,T){i.push({type:Hn.Attribute,name:_,action:T,value:n(1),namespace:null,ignoreCase:"quirks"})}function E(){if(i.length&&i[i.length-1].type===Hn.Descendant&&i.pop(),i.length===0)throw new Error("Empty sub-selector");e.push(i)}if(s(0),t.length===r)return r;e:for(;r<t.length;){const _=t.charCodeAt(r);switch(_){case 32:case 9:case 10:case 12:case 13:{(i.length===0||i[0].type!==Hn.Descendant)&&(p(),i.push({type:Hn.Descendant})),s(1);break}case 62:{m(Hn.Child),s(1);break}case 60:{m(Hn.Parent),s(1);break}case 126:{m(Hn.Sibling),s(1);break}case 43:{m(Hn.Adjacent),s(1);break}case 46:{d("class",Zi.Element);break}case 35:{d("id",Zi.Equals);break}case 91:{s(1);let T,C=null;t.charCodeAt(r)===124?T=n(1):t.startsWith("*|",r)?(C="*",T=n(2)):(T=n(0),t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==61&&(C=T,T=n(1))),s(0);let A=Zi.Exists;const D=_Se.get(t.charCodeAt(r));if(D){if(A=D,t.charCodeAt(r+1)!==61)throw new Error("Expected `=`");s(2)}else t.charCodeAt(r)===61&&(A=Zi.Equals,s(1));let O="",B=null;if(A!=="exists"){if(X2(t.charCodeAt(r))){const $=t.charCodeAt(r);let W=r+1;for(;W<t.length&&(t.charCodeAt(W)!==$||h(W));)W+=1;if(t.charCodeAt(W)!==$)throw new Error("Attribute value didn't end");O=Ob(t.slice(r+1,W)),r=W+1}else{const $=r;for(;r<t.length&&(!$W(t.charCodeAt(r))&&t.charCodeAt(r)!==93||h(r));)r+=1;O=Ob(t.slice($,r))}s(0);const R=t.charCodeAt(r)|32;R===115?(B=!1,s(1)):R===105&&(B=!0,s(1))}if(t.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;const P={type:Hn.Attribute,name:T,action:A,value:O,namespace:C,ignoreCase:B};i.push(P);break}case 58:{if(t.charCodeAt(r+1)===58){i.push({type:Hn.PseudoElement,name:n(2).toLowerCase(),data:t.charCodeAt(r)===40?c():null});continue}const T=n(1).toLowerCase();let C=null;if(t.charCodeAt(r)===40)if(ESe.has(T)){if(X2(t.charCodeAt(r+1)))throw new Error(`Pseudo-selector ${T} cannot be quoted`);if(C=[],r=GW(C,t,r+1),t.charCodeAt(r)!==41)throw new Error(`Missing closing parenthesis in :${T} (${t})`);r+=1}else{if(C=c(),TSe.has(T)){const A=C.charCodeAt(0);A===C.charCodeAt(C.length-1)&&X2(A)&&(C=C.slice(1,-1))}C=Ob(C)}i.push({type:Hn.Pseudo,name:T,data:C});break}case 44:{E(),i=[],s(1);break}default:{if(t.startsWith("/*",r)){const A=t.indexOf("*/",r+2);if(A<0)throw new Error("Comment was not terminated");r=A+2,i.length===0&&s(0);break}let T=null,C;if(_===42)r+=1,C="*";else if(_===124){if(C="",t.charCodeAt(r+1)===124){m(Hn.ColumnCombinator),s(2);break}}else if(UW.test(t.slice(r)))C=n(0);else break e;t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==124&&(T=C,t.charCodeAt(r+1)===42?(C="*",r+=2):C=n(1)),i.push(C==="*"?{type:Hn.Universal,namespace:T}:{type:Hn.Tag,name:C,namespace:T})}}}return E(),r}const zW=["\\",'"'],jW=[...zW,"(",")"],CSe=new Set(zW.map(e=>e.charCodeAt(0))),VW=new Set(jW.map(e=>e.charCodeAt(0))),Qy=new Set([...jW,"~","^","$","*","+","!","|",":","[","]"," ","."].map(e=>e.charCodeAt(0)));function WW(e){return e.map(t=>t.map(ASe).join("")).join(", ")}function ASe(e,t,r){switch(e.type){case Hn.Child:return t===0?"> ":" > ";case Hn.Parent:return t===0?"< ":" < ";case Hn.Sibling:return t===0?"~ ":" ~ ";case Hn.Adjacent:return t===0?"+ ":" + ";case Hn.Descendant:return" ";case Hn.ColumnCombinator:return t===0?"|| ":" || ";case Hn.Universal:return e.namespace==="*"&&t+1<r.length&&"name"in r[t+1]?"":`${XW(e.namespace)}*`;case Hn.Tag:return YW(e);case Hn.PseudoElement:return`::${kf(e.name,Qy)}${e.data===null?"":`(${kf(e.data,VW)})`}`;case Hn.Pseudo:return`:${kf(e.name,Qy)}${e.data===null?"":`(${typeof e.data=="string"?kf(e.data,VW):WW(e.data)})`}`;case Hn.Attribute:{if(e.name==="id"&&e.action===Zi.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return`#${kf(e.value,Qy)}`;if(e.name==="class"&&e.action===Zi.Element&&e.ignoreCase==="quirks"&&!e.namespace)return`.${kf(e.value,Qy)}`;const i=YW(e);return e.action===Zi.Exists?`[${i}]`:`[${i}${wSe(e.action)}="${kf(e.value,CSe)}"${e.ignoreCase===null?"":e.ignoreCase?" i":" s"}]`}}}function wSe(e){switch(e){case Zi.Equals:return"";case Zi.Element:return"~";case Zi.Start:return"^";case Zi.End:return"$";case Zi.Any:return"*";case Zi.Not:return"!";case Zi.Hyphen:return"|";case Zi.Exists:throw new Error("Shouldn't be here")}}function YW(e){return`${XW(e.namespace)}${kf(e.name,Qy)}`}function XW(e){return e!==null?`${e==="*"?"*":kf(e,Qy)}|`:""}function kf(e,t){let r=0,i="";for(let n=0;n<e.length;n++)t.has(e.charCodeAt(n))&&(i+=`${e.slice(r,n)}\\${e.charAt(n)}`,r=n+1);return i.length>0?i+e.slice(r):e}const kb=_t(Object.freeze(Object.defineProperty({__proto__:null,isTraversal:HW,parse:SSe,stringify:WW,get SelectorType(){return Hn},IgnoreCaseMode:vSe,get AttributeAction(){return Zi}},Symbol.toStringTag,{value:"Module"})));var q2={},wg={trueFunc:function(){return!0},falseFunc:function(){return!1}},lp={},Jy={};Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.isTraversal=void 0;var Ul=kb,qW=new Map([[Ul.SelectorType.Universal,50],[Ul.SelectorType.Tag,30],[Ul.SelectorType.Attribute,1],[Ul.SelectorType.Pseudo,0]]);function xSe(e){return!qW.has(e.type)}Jy.isTraversal=xSe;var ISe=new Map([[Ul.AttributeAction.Exists,10],[Ul.AttributeAction.Equals,8],[Ul.AttributeAction.Not,7],[Ul.AttributeAction.Start,6],[Ul.AttributeAction.End,6],[Ul.AttributeAction.Any,5]]);function DSe(e){for(var t=e.map(KW),r=1;r<e.length;r++){var i=t[r];if(!(i<0))for(var n=r-1;n>=0&&i<t[n];n--){var s=e[n+1];e[n+1]=e[n],e[n]=s,t[n+1]=t[n],t[n]=i}}}Jy.default=DSe;function KW(e){var t,r,i=(t=qW.get(e.type))!==null&&t!==void 0?t:-1;return e.type===Ul.SelectorType.Attribute?(i=(r=ISe.get(e.action))!==null&&r!==void 0?r:4,e.action===Ul.AttributeAction.Equals&&e.name==="id"&&(i=9),e.ignoreCase&&(i>>=1)):e.type===Ul.SelectorType.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?i=0:Array.isArray(e.data)?(i=Math.min.apply(Math,e.data.map(function(n){return Math.min.apply(Math,n.map(KW))})),i<0&&(i=0)):i=2:i=3),i}var MI={},LI={},OSe=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LI,"__esModule",{value:!0}),LI.attributeRules=void 0;var BI=OSe(wg),kSe=/[-[\]{}()*+?.,\\^$|#\s]/g;function ZW(e){return e.replace(kSe,"\\$&")}var PSe=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function xg(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&PSe.has(e.name)}LI.attributeRules={equals:function(e,t,r){var i=r.adapter,n=t.name,s=t.value;return xg(t,r)?(s=s.toLowerCase(),function(c){var h=i.getAttributeValue(c,n);return h!=null&&h.length===s.length&&h.toLowerCase()===s&&e(c)}):function(c){return i.getAttributeValue(c,n)===s&&e(c)}},hyphen:function(e,t,r){var i=r.adapter,n=t.name,s=t.value,c=s.length;return xg(t,r)?(s=s.toLowerCase(),function(p){var m=i.getAttributeValue(p,n);return m!=null&&(m.length===c||m.charAt(c)==="-")&&m.substr(0,c).toLowerCase()===s&&e(p)}):function(p){var m=i.getAttributeValue(p,n);return m!=null&&(m.length===c||m.charAt(c)==="-")&&m.substr(0,c)===s&&e(p)}},element:function(e,t,r){var i=r.adapter,n=t.name,s=t.value;if(/\s/.test(s))return BI.default.falseFunc;var c=new RegExp("(?:^|\\s)".concat(ZW(s),"(?:$|\\s)"),xg(t,r)?"i":"");return function(p){var m=i.getAttributeValue(p,n);return m!=null&&m.length>=s.length&&c.test(m)&&e(p)}},exists:function(e,t,r){var i=t.name,n=r.adapter;return function(s){return n.hasAttrib(s,i)&&e(s)}},start:function(e,t,r){var i=r.adapter,n=t.name,s=t.value,c=s.length;return c===0?BI.default.falseFunc:xg(t,r)?(s=s.toLowerCase(),function(h){var p=i.getAttributeValue(h,n);return p!=null&&p.length>=c&&p.substr(0,c).toLowerCase()===s&&e(h)}):function(h){var p;return!!(!((p=i.getAttributeValue(h,n))===null||p===void 0)&&p.startsWith(s))&&e(h)}},end:function(e,t,r){var i=r.adapter,n=t.name,s=t.value,c=-s.length;return c===0?BI.default.falseFunc:xg(t,r)?(s=s.toLowerCase(),function(h){var p;return((p=i.getAttributeValue(h,n))===null||p===void 0?void 0:p.substr(c).toLowerCase())===s&&e(h)}):function(h){var p;return!!(!((p=i.getAttributeValue(h,n))===null||p===void 0)&&p.endsWith(s))&&e(h)}},any:function(e,t,r){var i=r.adapter,n=t.name,s=t.value;if(s==="")return BI.default.falseFunc;if(xg(t,r)){var c=new RegExp(ZW(s),"i");return function(p){var m=i.getAttributeValue(p,n);return m!=null&&m.length>=s.length&&c.test(m)&&e(p)}}return function(h){var p;return!!(!((p=i.getAttributeValue(h,n))===null||p===void 0)&&p.includes(s))&&e(h)}},not:function(e,t,r){var i=r.adapter,n=t.name,s=t.value;return s===""?function(c){return!!i.getAttributeValue(c,n)&&e(c)}:xg(t,r)?(s=s.toLowerCase(),function(c){var h=i.getAttributeValue(c,n);return(h==null||h.length!==s.length||h.toLowerCase()!==s)&&e(c)}):function(c){return i.getAttributeValue(c,n)!==s&&e(c)}}};var K2={},QW={},JW={},FI={};Object.defineProperty(FI,"__esModule",{value:!0}),FI.parse=void 0;var RSe=new Set([9,10,12,13,32]),eY=48,NSe=57;function MSe(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];var t=0,r=0,i=s(),n=c();if(t<e.length&&e.charAt(t)==="n"&&(t++,r=i*(n??1),h(),t<e.length?(i=s(),h(),n=c()):i=n=0),n===null||t<e.length)throw new Error("n-th rule couldn't be parsed ('".concat(e,"')"));return[r,i*n];function s(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function c(){for(var p=t,m=0;t<e.length&&e.charCodeAt(t)>=eY&&e.charCodeAt(t)<=NSe;)m=m*10+(e.charCodeAt(t)-eY),t++;return t===p?null:m}function h(){for(;t<e.length&&RSe.has(e.charCodeAt(t));)t++}}FI.parse=MSe;var e1={},LSe=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e1,"__esModule",{value:!0}),e1.generate=e1.compile=void 0;var tY=LSe(wg);function BSe(e){var t=e[0],r=e[1]-1;if(r<0&&t<=0)return tY.default.falseFunc;if(t===-1)return function(s){return s<=r};if(t===0)return function(s){return s===r};if(t===1)return r<0?tY.default.trueFunc:function(s){return s>=r};var i=Math.abs(t),n=(r%i+i)%i;return t>1?function(s){return s>=r&&s%i===n}:function(s){return s<=r&&s%i===n}}e1.compile=BSe;function FSe(e){var t=e[0],r=e[1]-1,i=0;if(t<0){var n=-t,s=(r%n+n)%n;return function(){var c=s+n*i++;return c>r?null:c}}return t===0?r<0?function(){return null}:function(){return i++===0?r:null}:(r<0&&(r+=t*Math.ceil(-r/t)),function(){return t*i+++r})}e1.generate=FSe,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=e.generate=e.compile=e.parse=void 0;var t=FI;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}});var r=e1;Object.defineProperty(e,"compile",{enumerable:!0,get:function(){return r.compile}}),Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return r.generate}});function i(s){return(0,r.compile)((0,t.parse)(s))}e.default=i;function n(s){return(0,r.generate)((0,t.parse)(s))}e.sequence=n})(JW),(function(e){var t=Te&&Te.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var r=t(JW),i=t(wg);function n(c,h){return function(p){var m=h.getParent(p);return m!=null&&h.isTag(m)&&c(p)}}e.filters={contains:function(c,h,p){var m=p.adapter;return function(E){return c(E)&&m.getText(E).includes(h)}},icontains:function(c,h,p){var m=p.adapter,d=h.toLowerCase();return function(_){return c(_)&&m.getText(_).toLowerCase().includes(d)}},"nth-child":function(c,h,p){var m=p.adapter,d=p.equals,E=(0,r.default)(h);return E===i.default.falseFunc?i.default.falseFunc:E===i.default.trueFunc?n(c,m):function(T){for(var C=m.getSiblings(T),A=0,D=0;D<C.length&&!d(T,C[D]);D++)m.isTag(C[D])&&A++;return E(A)&&c(T)}},"nth-last-child":function(c,h,p){var m=p.adapter,d=p.equals,E=(0,r.default)(h);return E===i.default.falseFunc?i.default.falseFunc:E===i.default.trueFunc?n(c,m):function(T){for(var C=m.getSiblings(T),A=0,D=C.length-1;D>=0&&!d(T,C[D]);D--)m.isTag(C[D])&&A++;return E(A)&&c(T)}},"nth-of-type":function(c,h,p){var m=p.adapter,d=p.equals,E=(0,r.default)(h);return E===i.default.falseFunc?i.default.falseFunc:E===i.default.trueFunc?n(c,m):function(T){for(var C=m.getSiblings(T),A=0,D=0;D<C.length;D++){var O=C[D];if(d(T,O))break;m.isTag(O)&&m.getName(O)===m.getName(T)&&A++}return E(A)&&c(T)}},"nth-last-of-type":function(c,h,p){var m=p.adapter,d=p.equals,E=(0,r.default)(h);return E===i.default.falseFunc?i.default.falseFunc:E===i.default.trueFunc?n(c,m):function(T){for(var C=m.getSiblings(T),A=0,D=C.length-1;D>=0;D--){var O=C[D];if(d(T,O))break;m.isTag(O)&&m.getName(O)===m.getName(T)&&A++}return E(A)&&c(T)}},root:function(c,h,p){var m=p.adapter;return function(d){var E=m.getParent(d);return(E==null||!m.isTag(E))&&c(d)}},scope:function(c,h,p,m){var d=p.equals;return!m||m.length===0?e.filters.root(c,h,p):m.length===1?function(E){return d(m[0],E)&&c(E)}:function(E){return m.includes(E)&&c(E)}},hover:s("isHovered"),visited:s("isVisited"),active:s("isActive")};function s(c){return function(p,m,d){var E=d.adapter,_=E[c];return typeof _!="function"?i.default.falseFunc:function(C){return _(C)&&p(C)}}}})(QW);var t1={};Object.defineProperty(t1,"__esModule",{value:!0}),t1.verifyPseudoArgs=t1.pseudos=void 0,t1.pseudos={empty:function(e,t){var r=t.adapter;return!r.getChildren(e).some(function(i){return r.isTag(i)||r.getText(i)!==""})},"first-child":function(e,t){var r=t.adapter,i=t.equals;if(r.prevElementSibling)return r.prevElementSibling(e)==null;var n=r.getSiblings(e).find(function(s){return r.isTag(s)});return n!=null&&i(e,n)},"last-child":function(e,t){for(var r=t.adapter,i=t.equals,n=r.getSiblings(e),s=n.length-1;s>=0;s--){if(i(e,n[s]))return!0;if(r.isTag(n[s]))break}return!1},"first-of-type":function(e,t){for(var r=t.adapter,i=t.equals,n=r.getSiblings(e),s=r.getName(e),c=0;c<n.length;c++){var h=n[c];if(i(e,h))return!0;if(r.isTag(h)&&r.getName(h)===s)break}return!1},"last-of-type":function(e,t){for(var r=t.adapter,i=t.equals,n=r.getSiblings(e),s=r.getName(e),c=n.length-1;c>=0;c--){var h=n[c];if(i(e,h))return!0;if(r.isTag(h)&&r.getName(h)===s)break}return!1},"only-of-type":function(e,t){var r=t.adapter,i=t.equals,n=r.getName(e);return r.getSiblings(e).every(function(s){return i(e,s)||!r.isTag(s)||r.getName(s)!==n})},"only-child":function(e,t){var r=t.adapter,i=t.equals;return r.getSiblings(e).every(function(n){return i(e,n)||!r.isTag(n)})}};function USe(e,t,r,i){if(r===null){if(e.length>i)throw new Error("Pseudo-class :".concat(t," requires an argument"))}else if(e.length===i)throw new Error("Pseudo-class :".concat(t," doesn't have any arguments"))}t1.verifyPseudoArgs=USe;var UI={};Object.defineProperty(UI,"__esModule",{value:!0}),UI.aliases=void 0,UI.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var HI={};(function(e){var t=Te&&Te.__spreadArray||function(m,d,E){if(E||arguments.length===2)for(var _=0,T=d.length,C;_<T;_++)(C||!(_ in d))&&(C||(C=Array.prototype.slice.call(d,0,_)),C[_]=d[_]);return m.concat(C||Array.prototype.slice.call(d))},r=Te&&Te.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.subselects=e.getNextSiblings=e.ensureIsTag=e.PLACEHOLDER_ELEMENT=void 0;var i=r(wg),n=Jy;e.PLACEHOLDER_ELEMENT={};function s(m,d){return m===i.default.falseFunc?i.default.falseFunc:function(E){return d.isTag(E)&&m(E)}}e.ensureIsTag=s;function c(m,d){var E=d.getSiblings(m);if(E.length<=1)return[];var _=E.indexOf(m);return _<0||_===E.length-1?[]:E.slice(_+1).filter(d.isTag)}e.getNextSiblings=c;function h(m){return{xmlMode:!!m.xmlMode,lowerCaseAttributeNames:!!m.lowerCaseAttributeNames,lowerCaseTags:!!m.lowerCaseTags,quirksMode:!!m.quirksMode,cacheResults:!!m.cacheResults,pseudos:m.pseudos,adapter:m.adapter,equals:m.equals}}var p=function(m,d,E,_,T){var C=T(d,h(E),_);return C===i.default.trueFunc?m:C===i.default.falseFunc?i.default.falseFunc:function(A){return C(A)&&m(A)}};e.subselects={is:p,matches:p,where:p,not:function(m,d,E,_,T){var C=T(d,h(E),_);return C===i.default.falseFunc?m:C===i.default.trueFunc?i.default.falseFunc:function(A){return!C(A)&&m(A)}},has:function(m,d,E,_,T){var C=E.adapter,A=h(E);A.relativeSelector=!0;var D=d.some(function($){return $.some(n.isTraversal)})?[e.PLACEHOLDER_ELEMENT]:void 0,O=T(d,A,D);if(O===i.default.falseFunc)return i.default.falseFunc;var B=s(O,C);if(D&&O!==i.default.trueFunc){var P=O.shouldTestNextSiblings,R=P===void 0?!1:P;return function($){if(!m($))return!1;D[0]=$;var W=C.getChildren($),Z=R?t(t([],W,!0),c($,C),!0):W;return C.existsOne(B,Z)}}return function($){return m($)&&C.existsOne(B,C.getChildren($))}}}})(HI),(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compilePseudoSelector=e.aliases=e.pseudos=e.filters=void 0;var t=kb,r=QW;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return r.filters}});var i=t1;Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return i.pseudos}});var n=UI;Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return n.aliases}});var s=HI;function c(h,p,m,d,E){var _,T=p.name,C=p.data;if(Array.isArray(C)){if(!(T in s.subselects))throw new Error("Unknown pseudo-class :".concat(T,"(").concat(C,")"));return s.subselects[T](h,C,m,d,E)}var A=(_=m.pseudos)===null||_===void 0?void 0:_[T],D=typeof A=="string"?A:n.aliases[T];if(typeof D=="string"){if(C!=null)throw new Error("Pseudo ".concat(T," doesn't have any arguments"));var O=(0,t.parse)(D);return s.subselects.is(h,O,m,d,E)}if(typeof A=="function")return(0,i.verifyPseudoArgs)(A,T,C,1),function(P){return A(P,C)&&h(P)};if(T in r.filters)return r.filters[T](h,C,m,d);if(T in i.pseudos){var B=i.pseudos[T];return(0,i.verifyPseudoArgs)(B,T,C,2),function(P){return B(P,m,C)&&h(P)}}throw new Error("Unknown pseudo-class :".concat(T))}e.compilePseudoSelector=c})(K2),Object.defineProperty(MI,"__esModule",{value:!0}),MI.compileGeneralSelector=void 0;var HSe=LI,$Se=K2,ac=kb;function Z2(e,t){var r=t.getParent(e);return r&&t.isTag(r)?r:null}function GSe(e,t,r,i,n){var s=r.adapter,c=r.equals;switch(t.type){case ac.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case ac.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case ac.SelectorType.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!r.xmlMode||r.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),HSe.attributeRules[t.action](e,t,r)}case ac.SelectorType.Pseudo:return(0,$Se.compilePseudoSelector)(e,t,r,i,n);case ac.SelectorType.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var h=t.name;return(!r.xmlMode||r.lowerCaseTags)&&(h=h.toLowerCase()),function(d){return s.getName(d)===h&&e(d)}}case ac.SelectorType.Descendant:{if(r.cacheResults===!1||typeof WeakSet>"u")return function(d){for(var E=d;E=Z2(E,s);)if(e(E))return!0;return!1};var p=new WeakSet;return function(d){for(var E=d;E=Z2(E,s);)if(!p.has(E)){if(s.isTag(E)&&e(E))return!0;p.add(E)}return!1}}case"_flexibleDescendant":return function(d){var E=d;do if(e(E))return!0;while(E=Z2(E,s));return!1};case ac.SelectorType.Parent:return function(d){return s.getChildren(d).some(function(E){return s.isTag(E)&&e(E)})};case ac.SelectorType.Child:return function(d){var E=s.getParent(d);return E!=null&&s.isTag(E)&&e(E)};case ac.SelectorType.Sibling:return function(d){for(var E=s.getSiblings(d),_=0;_<E.length;_++){var T=E[_];if(c(d,T))break;if(s.isTag(T)&&e(T))return!0}return!1};case ac.SelectorType.Adjacent:return s.prevElementSibling?function(d){var E=s.prevElementSibling(d);return E!=null&&e(E)}:function(d){for(var E=s.getSiblings(d),_,T=0;T<E.length;T++){var C=E[T];if(c(d,C))break;s.isTag(C)&&(_=C)}return!!_&&e(_)};case ac.SelectorType.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}MI.compileGeneralSelector=GSe;var zSe=Te&&Te.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),jSe=Te&&Te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VSe=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zSe(t,e,r);return jSe(t,e),t},WSe=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lp,"__esModule",{value:!0}),lp.compileToken=lp.compileUnsafe=lp.compile=void 0;var Pf=kb,up=WSe(wg),Q2=VSe(Jy),YSe=MI,rY=HI;function XSe(e,t,r){var i=nY(e,t,r);return(0,rY.ensureIsTag)(i,t.adapter)}lp.compile=XSe;function nY(e,t,r){var i=typeof e=="string"?(0,Pf.parse)(e):e;return J2(i,t,r)}lp.compileUnsafe=nY;function iY(e){return e.type===Pf.SelectorType.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(function(t){return t.some(iY)}))}var qSe={type:Pf.SelectorType.Descendant},KSe={type:"_flexibleDescendant"},ZSe={type:Pf.SelectorType.Pseudo,name:"scope",data:null};function QSe(e,t,r){for(var i=t.adapter,n=!!r?.every(function(p){var m=i.isTag(p)&&i.getParent(p);return p===rY.PLACEHOLDER_ELEMENT||m&&i.isTag(m)}),s=0,c=e;s<c.length;s++){var h=c[s];if(!(h.length>0&&(0,Q2.isTraversal)(h[0])&&h[0].type!==Pf.SelectorType.Descendant))if(n&&!h.some(iY))h.unshift(qSe);else continue;h.unshift(ZSe)}}function J2(e,t,r){var i;e.forEach(Q2.default),r=(i=t.context)!==null&&i!==void 0?i:r;var n=Array.isArray(r),s=r&&(Array.isArray(r)?r:[r]);if(t.relativeSelector!==!1)QSe(e,t,s);else if(e.some(function(p){return p.length>0&&(0,Q2.isTraversal)(p[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var c=!1,h=e.map(function(p){if(p.length>=2){var m=p[0],d=p[1];m.type!==Pf.SelectorType.Pseudo||m.name!=="scope"||(n&&d.type===Pf.SelectorType.Descendant?p[1]=KSe:(d.type===Pf.SelectorType.Adjacent||d.type===Pf.SelectorType.Sibling)&&(c=!0))}return JSe(p,t,s)}).reduce(eCe,up.default.falseFunc);return h.shouldTestNextSiblings=c,h}lp.compileToken=J2;function JSe(e,t,r){var i;return e.reduce(function(n,s){return n===up.default.falseFunc?up.default.falseFunc:(0,YSe.compileGeneralSelector)(n,s,t,r,J2)},(i=t.rootFunc)!==null&&i!==void 0?i:up.default.trueFunc)}function eCe(e,t){return t===up.default.falseFunc||e===up.default.trueFunc?e:e===up.default.falseFunc||t===up.default.trueFunc?t:function(i){return e(i)||t(i)}}(function(e){var t=Te&&Te.__createBinding||(Object.create?function(B,P,R,$){$===void 0&&($=R);var W=Object.getOwnPropertyDescriptor(P,R);(!W||("get"in W?!P.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return P[R]}}),Object.defineProperty(B,$,W)}:function(B,P,R,$){$===void 0&&($=R),B[$]=P[R]}),r=Te&&Te.__setModuleDefault||(Object.create?function(B,P){Object.defineProperty(B,"default",{enumerable:!0,value:P})}:function(B,P){B.default=P}),i=Te&&Te.__importStar||function(B){if(B&&B.__esModule)return B;var P={};if(B!=null)for(var R in B)R!=="default"&&Object.prototype.hasOwnProperty.call(B,R)&&t(P,B,R);return r(P,B),P},n=Te&&Te.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(e,"__esModule",{value:!0}),e.aliases=e.pseudos=e.filters=e.is=e.selectOne=e.selectAll=e.prepareContext=e._compileToken=e._compileUnsafe=e.compile=void 0;var s=i(gh),c=n(wg),h=lp,p=HI,m=function(B,P){return B===P},d={adapter:s,equals:m};function E(B){var P,R,$,W,Z=B??d;return(P=Z.adapter)!==null&&P!==void 0||(Z.adapter=s),(R=Z.equals)!==null&&R!==void 0||(Z.equals=(W=($=Z.adapter)===null||$===void 0?void 0:$.equals)!==null&&W!==void 0?W:m),Z}function _(B){return function(R,$,W){var Z=E($);return B(R,Z,W)}}e.compile=_(h.compile),e._compileUnsafe=_(h.compileUnsafe),e._compileToken=_(h.compileToken);function T(B){return function(R,$,W){var Z=E(W);typeof R!="function"&&(R=(0,h.compileUnsafe)(R,Z,$));var K=C($,Z.adapter,R.shouldTestNextSiblings);return B(R,K,Z)}}function C(B,P,R){return R===void 0&&(R=!1),R&&(B=A(B,P)),Array.isArray(B)?P.removeSubsets(B):P.getChildren(B)}e.prepareContext=C;function A(B,P){for(var R=Array.isArray(B)?B.slice(0):[B],$=R.length,W=0;W<$;W++){var Z=(0,p.getNextSiblings)(R[W],P);R.push.apply(R,Z)}return R}e.selectAll=T(function(B,P,R){return B===c.default.falseFunc||!P||P.length===0?[]:R.adapter.findAll(B,P)}),e.selectOne=T(function(B,P,R){return B===c.default.falseFunc||!P||P.length===0?null:R.adapter.findOne(B,P)});function D(B,P,R){var $=E(R);return(typeof P=="function"?P:(0,h.compile)(P,$))(B)}e.is=D,e.default=e.selectAll;var O=K2;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return O.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return O.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return O.aliases}})})(q2);var r1={},e5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLimit=e.isFilter=e.filterNames=void 0,e.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function t(i){return i.type!=="pseudo"?!1:e.filterNames.has(i.name)?!0:i.name==="not"&&Array.isArray(i.data)?i.data.some(function(n){return n.some(t)}):!1}e.isFilter=t;function r(i,n,s){var c=n!=null?parseInt(n,10):NaN;switch(i){case"first":return 1;case"nth":case"eq":return isFinite(c)?c>=0?c+1:1/0:0;case"lt":return isFinite(c)?c>=0?Math.min(c,s):1/0:0;case"gt":return isFinite(c)?1/0:0;case"odd":return 2*s;case"even":return 2*s-1;case"last":case"not":return 1/0}}e.getLimit=r})(e5),Object.defineProperty(r1,"__esModule",{value:!0}),r1.groupSelectors=r1.getDocumentRoot=void 0;var tCe=e5;function rCe(e){for(;e.parent;)e=e.parent;return e}r1.getDocumentRoot=rCe;function nCe(e){for(var t=[],r=[],i=0,n=e;i<n.length;i++){var s=n[i];s.some(tCe.isFilter)?t.push(s):r.push(s)}return[r,t]}r1.groupSelectors=nCe,(function(e){var t=Te&&Te.__assign||function(){return t=Object.assign||function(le){for(var J,ge=1,Ee=arguments.length;ge<Ee;ge++){J=arguments[ge];for(var ne in J)Object.prototype.hasOwnProperty.call(J,ne)&&(le[ne]=J[ne])}return le},t.apply(this,arguments)},r=Te&&Te.__createBinding||(Object.create?function(le,J,ge,Ee){Ee===void 0&&(Ee=ge);var ne=Object.getOwnPropertyDescriptor(J,ge);(!ne||("get"in ne?!J.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return J[ge]}}),Object.defineProperty(le,Ee,ne)}:function(le,J,ge,Ee){Ee===void 0&&(Ee=ge),le[Ee]=J[ge]}),i=Te&&Te.__setModuleDefault||(Object.create?function(le,J){Object.defineProperty(le,"default",{enumerable:!0,value:J})}:function(le,J){le.default=J}),n=Te&&Te.__importStar||function(le){if(le&&le.__esModule)return le;var J={};if(le!=null)for(var ge in le)ge!=="default"&&Object.prototype.hasOwnProperty.call(le,ge)&&r(J,le,ge);return i(J,le),J},s=Te&&Te.__spreadArray||function(le,J,ge){if(ge||arguments.length===2)for(var Ee=0,ne=J.length,ve;Ee<ne;Ee++)(ve||!(Ee in J))&&(ve||(ve=Array.prototype.slice.call(J,0,Ee)),ve[Ee]=J[Ee]);return le.concat(ve||Array.prototype.slice.call(J))};Object.defineProperty(e,"__esModule",{value:!0}),e.select=e.filter=e.some=e.is=e.aliases=e.pseudos=e.filters=void 0;var c=kb,h=q2,p=n(gh),m=n(wg),d=r1,E=e5,_=q2;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return _.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return _.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return _.aliases}});var T={type:c.SelectorType.Universal,namespace:null},C={type:c.SelectorType.Pseudo,name:"scope",data:null};function A(le,J,ge){return ge===void 0&&(ge={}),D([le],J,ge)}e.is=A;function D(le,J,ge){if(ge===void 0&&(ge={}),typeof J=="function")return le.some(J);var Ee=(0,d.groupSelectors)((0,c.parse)(J)),ne=Ee[0],ve=Ee[1];return ne.length>0&&le.some((0,h._compileToken)(ne,ge))||ve.some(function(Me){return R(Me,le,ge).length>0})}e.some=D;function O(le,J,ge,Ee){var ne=typeof ge=="string"?parseInt(ge,10):NaN;switch(le){case"first":case"lt":return J;case"last":return J.length>0?[J[J.length-1]]:J;case"nth":case"eq":return isFinite(ne)&&Math.abs(ne)<J.length?[ne<0?J[J.length+ne]:J[ne]]:[];case"gt":return isFinite(ne)?J.slice(ne+1):[];case"even":return J.filter(function(Me,je){return je%2===0});case"odd":return J.filter(function(Me,je){return je%2===1});case"not":{var ve=new Set(P(ge,J,Ee));return J.filter(function(Me){return!ve.has(Me)})}}}function B(le,J,ge){return ge===void 0&&(ge={}),P((0,c.parse)(le),J,ge)}e.filter=B;function P(le,J,ge){if(J.length===0)return[];var Ee=(0,d.groupSelectors)(le),ne=Ee[0],ve=Ee[1],Me;if(ne.length){var je=ae(J,ne,ge);if(ve.length===0)return je;je.length&&(Me=new Set(je))}for(var Qe=0;Qe<ve.length&&Me?.size!==J.length;Qe++){var tt=ve[Qe],st=Me?J.filter(function(Be){return p.isTag(Be)&&!Me.has(Be)}):J;if(st.length===0)break;var je=R(tt,J,ge);if(je.length)if(Me)je.forEach(function(Be){return Me.add(Be)});else{if(Qe===ve.length-1)return je;Me=new Set(je)}}return typeof Me<"u"?Me.size===J.length?J:J.filter(function(Ct){return Me.has(Ct)}):[]}function R(le,J,ge){var Ee;if(le.some(c.isTraversal)){var ne=(Ee=ge.root)!==null&&Ee!==void 0?Ee:(0,d.getDocumentRoot)(J[0]),ve=t(t({},ge),{context:J,relativeSelector:!1});return le.push(C),W(ne,le,ve,!0,J.length)}return W(J,le,ge,!1,J.length)}function $(le,J,ge,Ee){if(ge===void 0&&(ge={}),Ee===void 0&&(Ee=1/0),typeof le=="function")return K(J,le);var ne=(0,d.groupSelectors)((0,c.parse)(le)),ve=ne[0],Me=ne[1],je=Me.map(function(Qe){return W(J,Qe,ge,!0,Ee)});return ve.length&&je.push(Z(J,ve,ge,Ee)),je.length===0?[]:je.length===1?je[0]:p.uniqueSort(je.reduce(function(Qe,tt){return s(s([],Qe,!0),tt,!0)}))}e.select=$;function W(le,J,ge,Ee,ne){var ve=J.findIndex(E.isFilter),Me=J.slice(0,ve),je=J[ve],Qe=J.length-1===ve?ne:1/0,tt=(0,E.getLimit)(je.name,je.data,Qe);if(tt===0)return[];var st=Me.length===0&&!Array.isArray(le)?p.getChildren(le).filter(p.isTag):Me.length===0?(Array.isArray(le)?le:[le]).filter(p.isTag):Ee||Me.some(c.isTraversal)?Z(le,[Me],ge,tt):ae(le,[Me],ge),Ct=st.slice(0,tt),Be=O(je.name,Ct,je.data,ge);if(Be.length===0||J.length===ve+1)return Be;var Ae=J.slice(ve+1),Ne=Ae.some(c.isTraversal);if(Ne){if((0,c.isTraversal)(Ae[0])){var Ue=Ae[0].type;(Ue===c.SelectorType.Sibling||Ue===c.SelectorType.Adjacent)&&(Be=(0,h.prepareContext)(Be,p,!0)),Ae.unshift(T)}ge=t(t({},ge),{relativeSelector:!1,rootFunc:function(it){return Be.includes(it)}})}else ge.rootFunc&&ge.rootFunc!==m.trueFunc&&(ge=t(t({},ge),{rootFunc:m.trueFunc}));return Ae.some(E.isFilter)?W(Be,Ae,ge,!1,ne):Ne?Z(Be,[Ae],ge,ne):ae(Be,[Ae],ge)}function Z(le,J,ge,Ee){var ne=(0,h._compileToken)(J,ge,le);return K(le,ne,Ee)}function K(le,J,ge){ge===void 0&&(ge=1/0);var Ee=(0,h.prepareContext)(le,p,J.shouldTestNextSiblings);return p.find(function(ne){return p.isTag(ne)&&J(ne)},Ee,!0,ge)}function ae(le,J,ge){var Ee=(Array.isArray(le)?le:[le]).filter(p.isTag);if(Ee.length===0)return Ee;var ne=(0,h._compileToken)(J,ge);return ne===m.trueFunc?Ee:Ee.filter(ne)}})(FW);var iCe=Te&&Te.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),aCe=Te&&Te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oCe=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iCe(t,e,r);return aCe(t,e),t},t5=Te&&Te.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,s;i<n;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(wr,"__esModule",{value:!0}),wr.addBack=wr.add=wr.end=wr.slice=wr.index=wr.toArray=wr.get=wr.eq=wr.last=wr.first=wr.has=wr.not=wr.is=wr.filterArray=wr.filter=wr.map=wr.each=wr.contents=wr.children=wr.siblings=wr.prevUntil=wr.prevAll=wr.prev=wr.nextUntil=wr.nextAll=wr.next=wr.closest=wr.parentsUntil=wr.parents=wr.parent=wr.find=void 0;var $I=Cs,n1=oCe(FW),oc=sp,sCe=La,yh=gh,lCe=/^\s*[~+]/;function uCe(e){var t;if(!e)return this._make([]);var r=this.toArray();if(typeof e!="string"){var i=(0,oc.isCheerio)(e)?e.toArray():[e];return this._make(i.filter(function(c){return r.some(function(h){return(0,sCe.contains)(h,c)})}))}var n=lCe.test(e)?r:this.children().toArray(),s={context:r,root:(t=this._root)===null||t===void 0?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(n1.select(e,n,s))}wr.find=uCe;function r5(e){return function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return function(n){var s,c=e(t,this);return n&&(c=a5(c,n,this.options.xmlMode,(s=this._root)===null||s===void 0?void 0:s[0])),this._make(this.length>1&&c.length>1?r.reduce(function(h,p){return p(h)},c):c)}}}var Pb=r5(function(e,t){for(var r,i=[],n=0;n<t.length;n++){var s=e(t[n]);i.push(s)}return(r=new Array).concat.apply(r,i)}),n5=r5(function(e,t){for(var r=[],i=0;i<t.length;i++){var n=e(t[i]);n!==null&&r.push(n)}return r});function i5(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=null,n=r5(function(s,c){var h=[];return(0,oc.domEach)(c,function(p){for(var m;(m=s(p))&&!i?.(m,h.length);p=m)h.push(m)}),h}).apply(void 0,t5([e],t,!1));return function(s,c){var h=this;i=typeof s=="string"?function(m){return n1.is(m,s,h.options)}:s?Rb(s):null;var p=n.call(this,c);return i=null,p}}function i1(e){return Array.from(new Set(e))}wr.parent=n5(function(e){var t=e.parent;return t&&!(0,$I.isDocument)(t)?t:null},i1),wr.parents=Pb(function(e){for(var t=[];e.parent&&!(0,$I.isDocument)(e.parent);)t.push(e.parent),e=e.parent;return t},yh.uniqueSort,function(e){return e.reverse()}),wr.parentsUntil=i5(function(e){var t=e.parent;return t&&!(0,$I.isDocument)(t)?t:null},yh.uniqueSort,function(e){return e.reverse()});function cCe(e){var t,r=[];if(!e)return this._make(r);var i={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},n=typeof e=="string"?function(s){return n1.is(s,e,i)}:Rb(e);return(0,oc.domEach)(this,function(s){for(;s&&(0,oc.isTag)(s);){if(n(s,0)){r.includes(s)||r.push(s);break}s=s.parent}}),this._make(r)}wr.closest=cCe,wr.next=n5(function(e){return(0,yh.nextElementSibling)(e)}),wr.nextAll=Pb(function(e){for(var t=[];e.next;)e=e.next,(0,oc.isTag)(e)&&t.push(e);return t},i1),wr.nextUntil=i5(function(e){return(0,yh.nextElementSibling)(e)},i1),wr.prev=n5(function(e){return(0,yh.prevElementSibling)(e)}),wr.prevAll=Pb(function(e){for(var t=[];e.prev;)e=e.prev,(0,oc.isTag)(e)&&t.push(e);return t},i1),wr.prevUntil=i5(function(e){return(0,yh.prevElementSibling)(e)},i1),wr.siblings=Pb(function(e){return(0,yh.getSiblings)(e).filter(function(t){return(0,oc.isTag)(t)&&t!==e})},yh.uniqueSort),wr.children=Pb(function(e){return(0,yh.getChildren)(e).filter(oc.isTag)},i1);function hCe(){var e=this.toArray().reduce(function(t,r){return(0,$I.hasChildren)(r)?t.concat(r.children):t},[]);return this._make(e)}wr.contents=hCe;function fCe(e){for(var t=0,r=this.length;t<r&&e.call(this[t],t,this[t])!==!1;)++t;return this}wr.each=fCe;function dCe(e){for(var t=[],r=0;r<this.length;r++){var i=this[r],n=e.call(i,r,i);n!=null&&(t=t.concat(n))}return this._make(t)}wr.map=dCe;function Rb(e){return typeof e=="function"?function(t,r){return e.call(t,r,t)}:(0,oc.isCheerio)(e)?function(t){return Array.prototype.includes.call(e,t)}:function(t){return e===t}}function pCe(e){var t;return this._make(a5(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}wr.filter=pCe;function a5(e,t,r,i){return typeof t=="string"?n1.filter(t,e,{xmlMode:r,root:i}):e.filter(Rb(t))}wr.filterArray=a5;function mCe(e){var t=this.toArray();return typeof e=="string"?n1.some(t.filter(oc.isTag),e,this.options):e?t.some(Rb(e)):!1}wr.is=mCe;function gCe(e){var t=this.toArray();if(typeof e=="string"){var r=new Set(n1.filter(e,t,this.options));t=t.filter(function(n){return!r.has(n)})}else{var i=Rb(e);t=t.filter(function(n,s){return!i(n,s)})}return this._make(t)}wr.not=gCe;function vCe(e){var t=this;return this.filter(typeof e=="string"?":has(".concat(e,")"):function(r,i){return t._make(i).find(e).length>0})}wr.has=vCe;function yCe(){return this.length>1?this._make(this[0]):this}wr.first=yCe;function _Ce(){return this.length>0?this._make(this[this.length-1]):this}wr.last=_Ce;function ECe(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}wr.eq=ECe;function TCe(e){return e==null?this.toArray():this[e<0?this.length+e:e]}wr.get=TCe;function bCe(){return Array.prototype.slice.call(this)}wr.toArray=bCe;function SCe(e){var t,r;return e==null?(t=this.parent().children(),r=this[0]):typeof e=="string"?(t=this._make(e),r=this[0]):(t=this,r=(0,oc.isCheerio)(e)?e[0]:e),Array.prototype.indexOf.call(t,r)}wr.index=SCe;function CCe(e,t){return this._make(Array.prototype.slice.call(this,e,t))}wr.slice=CCe;function ACe(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}wr.end=ACe;function wCe(e,t){var r=this._make(e,t),i=(0,yh.uniqueSort)(t5(t5([],this.get(),!0),r.get(),!0));return this._make(i)}wr.add=wCe;function xCe(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}wr.addBack=xCe;var fn={},Ig={};Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.update=Ig.getParse=void 0;var ICe=gh,aY=Cs;function DCe(e){return function(r,i,n,s){if(typeof Buffer<"u"&&Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string")return e(r,i,n,s);var c=r;if(!Array.isArray(c)&&(0,aY.isDocument)(c))return c;var h=new aY.Document([]);return oY(c,h),h}}Ig.getParse=DCe;function oY(e,t){var r=Array.isArray(e)?e:[e];t?t.children=r:t=null;for(var i=0;i<r.length;i++){var n=r[i];n.parent&&n.parent.children!==r&&(0,ICe.removeElement)(n),t?(n.prev=r[i-1]||null,n.next=r[i+1]||null):n.prev=n.next=null,n.parent=t}return t}Ig.update=oY;var OCe=Te&&Te.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,s;i<n;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(fn,"__esModule",{value:!0}),fn.clone=fn.text=fn.toString=fn.html=fn.empty=fn.replaceWith=fn.remove=fn.insertBefore=fn.before=fn.insertAfter=fn.after=fn.wrapAll=fn.unwrap=fn.wrapInner=fn.wrap=fn.prepend=fn.append=fn.prependTo=fn.appendTo=fn._makeDomArray=void 0;var _h=Cs,a1=Ig,sY=La,ao=sp,kCe=gh;function PCe(e,t){var r=this;return e==null?[]:(0,ao.isCheerio)(e)?t?(0,ao.cloneDom)(e.get()):e.get():Array.isArray(e)?e.reduce(function(i,n){return i.concat(r._makeDomArray(n,t))},[]):typeof e=="string"?this._parse(e,this.options,!1,null).children:t?(0,ao.cloneDom)([e]):[e]}fn._makeDomArray=PCe;function lY(e){return function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var n=this.length-1;return(0,ao.domEach)(this,function(s,c){if((0,_h.hasChildren)(s)){var h=typeof r[0]=="function"?r[0].call(s,c,t._render(s.children)):r,p=t._makeDomArray(h,c<n);e(p,s.children,s)}})}}function cp(e,t,r,i,n){for(var s,c,h=OCe([t,r],i,!0),p=t===0?null:e[t-1],m=t+r>=e.length?null:e[t+r],d=0;d<i.length;++d){var E=i[d],_=E.parent;if(_){var T=_.children,C=T.indexOf(E);C>-1&&(_.children.splice(C,1),n===_&&t>C&&h[0]--)}E.parent=n,E.prev&&(E.prev.next=(s=E.next)!==null&&s!==void 0?s:null),E.next&&(E.next.prev=(c=E.prev)!==null&&c!==void 0?c:null),E.prev=d===0?p:i[d-1],E.next=d===i.length-1?m:i[d+1]}return p&&(p.next=i[0]),m&&(m.prev=i[i.length-1]),e.splice.apply(e,h)}function RCe(e){var t=(0,ao.isCheerio)(e)?e:this._make(e);return t.append(this),this}fn.appendTo=RCe;function NCe(e){var t=(0,ao.isCheerio)(e)?e:this._make(e);return t.prepend(this),this}fn.prependTo=NCe,fn.append=lY(function(e,t,r){cp(t,t.length,0,e,r)}),fn.prepend=lY(function(e,t,r){cp(t,0,0,e,r)});function uY(e){return function(t){for(var r=this.length-1,i=this.parents().last(),n=0;n<this.length;n++){var s=this[n],c=typeof t=="function"?t.call(s,n,s):typeof t=="string"&&!(0,ao.isHtml)(t)?i.find(t).clone():t,h=this._makeDomArray(c,n<r)[0];if(!(!h||!(0,_h.hasChildren)(h))){for(var p=h,m=0;m<p.children.length;){var d=p.children[m];(0,ao.isTag)(d)?(p=d,m=0):m++}e(s,p,[h])}}return this}}fn.wrap=uY(function(e,t,r){var i=e.parent;if(i){var n=i.children,s=n.indexOf(e);(0,a1.update)([e],t),cp(n,s,0,r,i)}}),fn.wrapInner=uY(function(e,t,r){(0,_h.hasChildren)(e)&&((0,a1.update)(e.children,t),(0,a1.update)(r,e))});function MCe(e){var t=this;return this.parent(e).not("body").each(function(r,i){t._make(i).replaceWith(i.children)}),this}fn.unwrap=MCe;function LCe(e){var t=this[0];if(t){for(var r=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t),i=void 0,n=0;n<r.length;n++)r[n].type==="tag"&&(i=r[n]);for(var s=0;i&&s<i.children.length;){var c=i.children[s];c.type==="tag"?(i=c,s=0):s++}i&&this._make(i).append(this)}return this}fn.wrapAll=LCe;function BCe(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.length-1;return(0,ao.domEach)(this,function(n,s){var c=n.parent;if(!(!(0,_h.hasChildren)(n)||!c)){var h=c.children,p=h.indexOf(n);if(!(p<0)){var m=typeof t[0]=="function"?t[0].call(n,s,e._render(n.children)):t,d=e._makeDomArray(m,s<i);cp(h,p+1,0,d,c)}}})}fn.after=BCe;function FCe(e){var t=this;typeof e=="string"&&(e=this._make(e)),this.remove();var r=[];return this._makeDomArray(e).forEach(function(i){var n=t.clone().toArray(),s=i.parent;if(s){var c=s.children,h=c.indexOf(i);h<0||(cp(c,h+1,0,n,s),r.push.apply(r,n))}}),this._make(r)}fn.insertAfter=FCe;function UCe(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.length-1;return(0,ao.domEach)(this,function(n,s){var c=n.parent;if(!(!(0,_h.hasChildren)(n)||!c)){var h=c.children,p=h.indexOf(n);if(!(p<0)){var m=typeof t[0]=="function"?t[0].call(n,s,e._render(n.children)):t,d=e._makeDomArray(m,s<i);cp(h,p,0,d,c)}}})}fn.before=UCe;function HCe(e){var t=this,r=this._make(e);this.remove();var i=[];return(0,ao.domEach)(r,function(n){var s=t.clone().toArray(),c=n.parent;if(c){var h=c.children,p=h.indexOf(n);p<0||(cp(h,p,0,s,c),i.push.apply(i,s))}}),this._make(i)}fn.insertBefore=HCe;function $Ce(e){var t=e?this.filter(e):this;return(0,ao.domEach)(t,function(r){(0,kCe.removeElement)(r),r.prev=r.next=r.parent=null}),this}fn.remove=$Ce;function GCe(e){var t=this;return(0,ao.domEach)(this,function(r,i){var n=r.parent;if(n){var s=n.children,c=typeof e=="function"?e.call(r,i,r):e,h=t._makeDomArray(c);(0,a1.update)(h,null);var p=s.indexOf(r);cp(s,p,1,h,n),h.includes(r)||(r.parent=r.prev=r.next=null)}})}fn.replaceWith=GCe;function zCe(){return(0,ao.domEach)(this,function(e){(0,_h.hasChildren)(e)&&(e.children.forEach(function(t){t.next=t.prev=t.parent=null}),e.children.length=0)})}fn.empty=zCe;function jCe(e){var t=this;if(e===void 0){var r=this[0];return!r||!(0,_h.hasChildren)(r)?null:this._render(r.children)}return(0,ao.domEach)(this,function(i){if((0,_h.hasChildren)(i)){i.children.forEach(function(s){s.next=s.prev=s.parent=null});var n=(0,ao.isCheerio)(e)?e.toArray():t._parse("".concat(e),t.options,!1,i).children;(0,a1.update)(n,i)}})}fn.html=jCe;function VCe(){return this._render(this)}fn.toString=VCe;function WCe(e){var t=this;return e===void 0?(0,sY.text)(this):typeof e=="function"?(0,ao.domEach)(this,function(r,i){return t._make(r).text(e.call(r,i,(0,sY.text)([r])))}):(0,ao.domEach)(this,function(r){if((0,_h.hasChildren)(r)){r.children.forEach(function(n){n.next=n.prev=n.parent=null});var i=new _h.Text("".concat(e));(0,a1.update)(i,r)}})}fn.text=WCe;function YCe(){return this._make((0,ao.cloneDom)(this.get()))}fn.clone=YCe;var GI={};Object.defineProperty(GI,"__esModule",{value:!0}),GI.css=void 0;var o5=sp;function XCe(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return(0,o5.domEach)(this,function(r,i){(0,o5.isTag)(r)&&cY(r,e,t,i)});if(this.length!==0)return hY(this[0],e)}GI.css=XCe;function cY(e,t,r,i){if(typeof t=="string"){var n=hY(e),s=typeof r=="function"?r.call(e,i,n[t]):r;s===""?delete n[t]:s!=null&&(n[t]=s),e.attribs.style=qCe(n)}else typeof t=="object"&&Object.keys(t).forEach(function(c,h){cY(e,c,t[c],h)})}function hY(e,t){if(!(!e||!(0,o5.isTag)(e))){var r=KCe(e.attribs.style);if(typeof t=="string")return r[t];if(Array.isArray(t)){var i={};return t.forEach(function(n){r[n]!=null&&(i[n]=r[n])}),i}return r}}function qCe(e){return Object.keys(e).reduce(function(t,r){return"".concat(t).concat(t?" ":"").concat(r,": ").concat(e[r],";")},"")}function KCe(e){if(e=(e||"").trim(),!e)return{};for(var t={},r,i=0,n=e.split(";");i<n.length;i++){var s=n[i],c=s.indexOf(":");if(c<1||c===s.length-1){var h=s.trimEnd();h.length>0&&r!==void 0&&(t[r]+=";".concat(h))}else r=s.slice(0,c).trim(),t[r]=s.slice(c+1).trim()}return t}var o1={};Object.defineProperty(o1,"__esModule",{value:!0}),o1.serializeArray=o1.serialize=void 0;var ZCe=sp,fY="input,select,textarea,keygen",QCe=/%20/g,dY=/\r?\n/g;function JCe(){var e=this.serializeArray(),t=e.map(function(r){return"".concat(encodeURIComponent(r.name),"=").concat(encodeURIComponent(r.value))});return t.join("&").replace(QCe,"+")}o1.serialize=JCe;function eAe(){var e=this;return this.map(function(t,r){var i=e._make(r);return(0,ZCe.isTag)(r)&&r.name==="form"?i.find(fY).toArray():i.filter(fY).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(t,r){var i,n=e._make(r),s=n.attr("name"),c=(i=n.val())!==null&&i!==void 0?i:"";return Array.isArray(c)?c.map(function(h){return{name:s,value:h.replace(dY,`\r
`)}}):{name:s,value:c.replace(dY,`\r
`)}}).toArray()}o1.serializeArray=eAe;var tAe=Te&&Te.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),rAe=Te&&Te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nb=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tAe(t,e,r);return rAe(t,e),t};Object.defineProperty(PI,"__esModule",{value:!0}),PI.Cheerio=void 0;var nAe=Nb(Xa),iAe=Nb(wr),aAe=Nb(fn),oAe=Nb(GI),sAe=Nb(o1),Mb=(function(){function e(t,r,i){if(this.length=0,this.options=i,this._root=r,t){for(var n=0;n<t.length;n++)this[n]=t[n];this.length=t.length}}return e})();PI.Cheerio=Mb,Mb.prototype.cheerio="[cheerio object]",Mb.prototype.splice=Array.prototype.splice,Mb.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(Mb.prototype,nAe,iAe,aAe,oAe,sAe);var lAe=Te&&Te.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}})(),s1=Te&&Te.__assign||function(){return s1=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s1.apply(this,arguments)},uAe=Te&&Te.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),cAe=Te&&Te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pY=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&uAe(t,e,r);return cAe(t,e),t};Object.defineProperty(EI,"__esModule",{value:!0}),EI.getLoad=void 0;var s5=pY(jy),hAe=pY(La),fAe=PI,Lb=sp;function dAe(e,t){return function r(i,n,s){if(s===void 0&&(s=!0),i==null)throw new Error("cheerio.load() expects a string");var c=s1(s1({},s5.default),(0,s5.flatten)(n)),h=e(i,c,s,null),p=(function(d){lAe(E,d);function E(){return d!==null&&d.apply(this,arguments)||this}return E.prototype._make=function(_,T){var C=m(_,T);return C.prevObject=this,C},E.prototype._parse=function(_,T,C,A){return e(_,T,C,A)},E.prototype._render=function(_){return t(_,this.options)},E})(fAe.Cheerio);function m(d,E,_,T){if(_===void 0&&(_=h),d&&(0,Lb.isCheerio)(d))return d;var C=s1(s1({},c),(0,s5.flatten)(T)),A=typeof _=="string"?[e(_,C,!1,null)]:"length"in _?_:[_],D=(0,Lb.isCheerio)(A)?A:new p(A,null,C);if(D._root=D,!d)return new p(void 0,D,C);var O=typeof d=="string"&&(0,Lb.isHtml)(d)?e(d,C,!1,null).children:pAe(d)?[d]:Array.isArray(d)?d:void 0,B=new p(O,D,C);if(O)return B;if(typeof d!="string")throw new Error("Unexpected type of selector");var P=d,R=E?typeof E=="string"?(0,Lb.isHtml)(E)?new p([e(E,C,!1,null)],D,C):(P="".concat(E," ").concat(P),D):(0,Lb.isCheerio)(E)?E:new p(Array.isArray(E)?E:[E],D,C):D;return R?R.find(P):B}return Object.assign(m,hAe,{load:r,_root:h,_options:c,fn:p.prototype,prototype:p.prototype}),m}}EI.getLoad=dAe;function pAe(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}var l1={},mY={},Bb={},Dg={},zI={},jI={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUndefinedCodePoint=e.isControlCodePoint=e.getSurrogatePairCodePoint=e.isSurrogatePair=e.isSurrogate=e.SEQUENCES=e.CODE_POINTS=e.REPLACEMENT_CHARACTER=void 0;const t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);e.REPLACEMENT_CHARACTER="",(function(h){h[h.EOF=-1]="EOF",h[h.NULL=0]="NULL",h[h.TABULATION=9]="TABULATION",h[h.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",h[h.LINE_FEED=10]="LINE_FEED",h[h.FORM_FEED=12]="FORM_FEED",h[h.SPACE=32]="SPACE",h[h.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",h[h.QUOTATION_MARK=34]="QUOTATION_MARK",h[h.NUMBER_SIGN=35]="NUMBER_SIGN",h[h.AMPERSAND=38]="AMPERSAND",h[h.APOSTROPHE=39]="APOSTROPHE",h[h.HYPHEN_MINUS=45]="HYPHEN_MINUS",h[h.SOLIDUS=47]="SOLIDUS",h[h.DIGIT_0=48]="DIGIT_0",h[h.DIGIT_9=57]="DIGIT_9",h[h.SEMICOLON=59]="SEMICOLON",h[h.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",h[h.EQUALS_SIGN=61]="EQUALS_SIGN",h[h.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",h[h.QUESTION_MARK=63]="QUESTION_MARK",h[h.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",h[h.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",h[h.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",h[h.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",h[h.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",h[h.GRAVE_ACCENT=96]="GRAVE_ACCENT",h[h.LATIN_SMALL_A=97]="LATIN_SMALL_A",h[h.LATIN_SMALL_F=102]="LATIN_SMALL_F",h[h.LATIN_SMALL_X=120]="LATIN_SMALL_X",h[h.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",h[h.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(e.CODE_POINTS||(e.CODE_POINTS={})),e.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function r(h){return h>=55296&&h<=57343}e.isSurrogate=r;function i(h){return h>=56320&&h<=57343}e.isSurrogatePair=i;function n(h,p){return(h-55296)*1024+9216+p}e.getSurrogatePairCodePoint=n;function s(h){return h!==32&&h!==10&&h!==13&&h!==9&&h!==12&&h>=1&&h<=31||h>=127&&h<=159}e.isControlCodePoint=s;function c(h){return h>=64976&&h<=65007||t.has(h)}e.isUndefinedCodePoint=c})(jI);var Fb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERR=void 0,(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(e.ERR||(e.ERR={}))})(Fb),Object.defineProperty(zI,"__esModule",{value:!0}),zI.Preprocessor=void 0;const ws=jI,l5=Fb,mAe=65536;let gAe=(function(){function e(t){H(this,e),this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=mAe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}return j(e,[{key:"col",get:function(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}},{key:"offset",get:function(){return this.droppedBufferSize+this.pos}},{key:"getError",value:function(r){const{line:i,col:n,offset:s}=this;return{code:r,startLine:i,endLine:i,startCol:n,endCol:n,startOffset:s,endOffset:s}}},{key:"_err",value:function(r){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(r)))}},{key:"_addGap",value:function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}},{key:"_processSurrogate",value:function(r){if(this.pos!==this.html.length-1){const i=this.html.charCodeAt(this.pos+1);if((0,ws.isSurrogatePair)(i))return this.pos++,this._addGap(),(0,ws.getSurrogatePairCodePoint)(r,i)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ws.CODE_POINTS.EOF;return this._err(l5.ERR.surrogateInInputStream),r}},{key:"willDropParsedChunk",value:function(){return this.pos>this.bufferWaterline}},{key:"dropParsedChunk",value:function(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}},{key:"write",value:function(r,i){this.html.length>0?this.html+=r:this.html=r,this.endOfChunkHit=!1,this.lastChunkWritten=i}},{key:"insertHtmlAtCurrentPos",value:function(r){this.html=this.html.substring(0,this.pos+1)+r+this.html.substring(this.pos+1),this.endOfChunkHit=!1}},{key:"startsWith",value:function(r,i){if(this.pos+r.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(i)return this.html.startsWith(r,this.pos);for(let n=0;n<r.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==r.charCodeAt(n))return!1;return!0}},{key:"peek",value:function(r){const i=this.pos+r;if(i>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ws.CODE_POINTS.EOF;const n=this.html.charCodeAt(i);return n===ws.CODE_POINTS.CARRIAGE_RETURN?ws.CODE_POINTS.LINE_FEED:n}},{key:"advance",value:function(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ws.CODE_POINTS.EOF;let r=this.html.charCodeAt(this.pos);return r===ws.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ws.CODE_POINTS.LINE_FEED):r===ws.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,ws.isSurrogate)(r)&&(r=this._processSurrogate(r)),this.handler.onParseError===null||r>31&&r<127||r===ws.CODE_POINTS.LINE_FEED||r===ws.CODE_POINTS.CARRIAGE_RETURN||r>159&&r<64976||this._checkForProblematicCharacters(r),r)}},{key:"_checkForProblematicCharacters",value:function(r){(0,ws.isControlCodePoint)(r)?this._err(l5.ERR.controlCharacterInInputStream):(0,ws.isUndefinedCodePoint)(r)&&this._err(l5.ERR.noncharacterInInputStream)}},{key:"retreat",value:function(r){for(this.pos-=r;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}]),e})();zI.Preprocessor=gAe;var VI={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenAttr=e.TokenType=void 0,(function(r){r[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION"})(e.TokenType||(e.TokenType={}));function t(r,i){for(let n=r.attrs.length-1;n>=0;n--)if(r.attrs[n].name===i)return r.attrs[n].value;return null}e.getTokenAttr=t})(VI);var Rf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasUnescapedText=e.isNumberedHeader=e.SPECIAL_ELEMENTS=e.getTagID=e.TAG_ID=e.TAG_NAMES=e.DOCUMENT_MODE=e.ATTRS=e.NS=void 0;var t;(function(d){d.HTML="http://www.w3.org/1999/xhtml",d.MATHML="http://www.w3.org/1998/Math/MathML",d.SVG="http://www.w3.org/2000/svg",d.XLINK="http://www.w3.org/1999/xlink",d.XML="http://www.w3.org/XML/1998/namespace",d.XMLNS="http://www.w3.org/2000/xmlns/"})(t=e.NS||(e.NS={})),(function(d){d.TYPE="type",d.ACTION="action",d.ENCODING="encoding",d.PROMPT="prompt",d.NAME="name",d.COLOR="color",d.FACE="face",d.SIZE="size"})(e.ATTRS||(e.ATTRS={})),(function(d){d.NO_QUIRKS="no-quirks",d.QUIRKS="quirks",d.LIMITED_QUIRKS="limited-quirks"})(e.DOCUMENT_MODE||(e.DOCUMENT_MODE={}));var r;(function(d){d.A="a",d.ADDRESS="address",d.ANNOTATION_XML="annotation-xml",d.APPLET="applet",d.AREA="area",d.ARTICLE="article",d.ASIDE="aside",d.B="b",d.BASE="base",d.BASEFONT="basefont",d.BGSOUND="bgsound",d.BIG="big",d.BLOCKQUOTE="blockquote",d.BODY="body",d.BR="br",d.BUTTON="button",d.CAPTION="caption",d.CENTER="center",d.CODE="code",d.COL="col",d.COLGROUP="colgroup",d.DD="dd",d.DESC="desc",d.DETAILS="details",d.DIALOG="dialog",d.DIR="dir",d.DIV="div",d.DL="dl",d.DT="dt",d.EM="em",d.EMBED="embed",d.FIELDSET="fieldset",d.FIGCAPTION="figcaption",d.FIGURE="figure",d.FONT="font",d.FOOTER="footer",d.FOREIGN_OBJECT="foreignObject",d.FORM="form",d.FRAME="frame",d.FRAMESET="frameset",d.H1="h1",d.H2="h2",d.H3="h3",d.H4="h4",d.H5="h5",d.H6="h6",d.HEAD="head",d.HEADER="header",d.HGROUP="hgroup",d.HR="hr",d.HTML="html",d.I="i",d.IMG="img",d.IMAGE="image",d.INPUT="input",d.IFRAME="iframe",d.KEYGEN="keygen",d.LABEL="label",d.LI="li",d.LINK="link",d.LISTING="listing",d.MAIN="main",d.MALIGNMARK="malignmark",d.MARQUEE="marquee",d.MATH="math",d.MENU="menu",d.META="meta",d.MGLYPH="mglyph",d.MI="mi",d.MO="mo",d.MN="mn",d.MS="ms",d.MTEXT="mtext",d.NAV="nav",d.NOBR="nobr",d.NOFRAMES="noframes",d.NOEMBED="noembed",d.NOSCRIPT="noscript",d.OBJECT="object",d.OL="ol",d.OPTGROUP="optgroup",d.OPTION="option",d.P="p",d.PARAM="param",d.PLAINTEXT="plaintext",d.PRE="pre",d.RB="rb",d.RP="rp",d.RT="rt",d.RTC="rtc",d.RUBY="ruby",d.S="s",d.SCRIPT="script",d.SECTION="section",d.SELECT="select",d.SOURCE="source",d.SMALL="small",d.SPAN="span",d.STRIKE="strike",d.STRONG="strong",d.STYLE="style",d.SUB="sub",d.SUMMARY="summary",d.SUP="sup",d.TABLE="table",d.TBODY="tbody",d.TEMPLATE="template",d.TEXTAREA="textarea",d.TFOOT="tfoot",d.TD="td",d.TH="th",d.THEAD="thead",d.TITLE="title",d.TR="tr",d.TRACK="track",d.TT="tt",d.U="u",d.UL="ul",d.SVG="svg",d.VAR="var",d.WBR="wbr",d.XMP="xmp"})(r=e.TAG_NAMES||(e.TAG_NAMES={}));var i;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.A=1]="A",d[d.ADDRESS=2]="ADDRESS",d[d.ANNOTATION_XML=3]="ANNOTATION_XML",d[d.APPLET=4]="APPLET",d[d.AREA=5]="AREA",d[d.ARTICLE=6]="ARTICLE",d[d.ASIDE=7]="ASIDE",d[d.B=8]="B",d[d.BASE=9]="BASE",d[d.BASEFONT=10]="BASEFONT",d[d.BGSOUND=11]="BGSOUND",d[d.BIG=12]="BIG",d[d.BLOCKQUOTE=13]="BLOCKQUOTE",d[d.BODY=14]="BODY",d[d.BR=15]="BR",d[d.BUTTON=16]="BUTTON",d[d.CAPTION=17]="CAPTION",d[d.CENTER=18]="CENTER",d[d.CODE=19]="CODE",d[d.COL=20]="COL",d[d.COLGROUP=21]="COLGROUP",d[d.DD=22]="DD",d[d.DESC=23]="DESC",d[d.DETAILS=24]="DETAILS",d[d.DIALOG=25]="DIALOG",d[d.DIR=26]="DIR",d[d.DIV=27]="DIV",d[d.DL=28]="DL",d[d.DT=29]="DT",d[d.EM=30]="EM",d[d.EMBED=31]="EMBED",d[d.FIELDSET=32]="FIELDSET",d[d.FIGCAPTION=33]="FIGCAPTION",d[d.FIGURE=34]="FIGURE",d[d.FONT=35]="FONT",d[d.FOOTER=36]="FOOTER",d[d.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",d[d.FORM=38]="FORM",d[d.FRAME=39]="FRAME",d[d.FRAMESET=40]="FRAMESET",d[d.H1=41]="H1",d[d.H2=42]="H2",d[d.H3=43]="H3",d[d.H4=44]="H4",d[d.H5=45]="H5",d[d.H6=46]="H6",d[d.HEAD=47]="HEAD",d[d.HEADER=48]="HEADER",d[d.HGROUP=49]="HGROUP",d[d.HR=50]="HR",d[d.HTML=51]="HTML",d[d.I=52]="I",d[d.IMG=53]="IMG",d[d.IMAGE=54]="IMAGE",d[d.INPUT=55]="INPUT",d[d.IFRAME=56]="IFRAME",d[d.KEYGEN=57]="KEYGEN",d[d.LABEL=58]="LABEL",d[d.LI=59]="LI",d[d.LINK=60]="LINK",d[d.LISTING=61]="LISTING",d[d.MAIN=62]="MAIN",d[d.MALIGNMARK=63]="MALIGNMARK",d[d.MARQUEE=64]="MARQUEE",d[d.MATH=65]="MATH",d[d.MENU=66]="MENU",d[d.META=67]="META",d[d.MGLYPH=68]="MGLYPH",d[d.MI=69]="MI",d[d.MO=70]="MO",d[d.MN=71]="MN",d[d.MS=72]="MS",d[d.MTEXT=73]="MTEXT",d[d.NAV=74]="NAV",d[d.NOBR=75]="NOBR",d[d.NOFRAMES=76]="NOFRAMES",d[d.NOEMBED=77]="NOEMBED",d[d.NOSCRIPT=78]="NOSCRIPT",d[d.OBJECT=79]="OBJECT",d[d.OL=80]="OL",d[d.OPTGROUP=81]="OPTGROUP",d[d.OPTION=82]="OPTION",d[d.P=83]="P",d[d.PARAM=84]="PARAM",d[d.PLAINTEXT=85]="PLAINTEXT",d[d.PRE=86]="PRE",d[d.RB=87]="RB",d[d.RP=88]="RP",d[d.RT=89]="RT",d[d.RTC=90]="RTC",d[d.RUBY=91]="RUBY",d[d.S=92]="S",d[d.SCRIPT=93]="SCRIPT",d[d.SECTION=94]="SECTION",d[d.SELECT=95]="SELECT",d[d.SOURCE=96]="SOURCE",d[d.SMALL=97]="SMALL",d[d.SPAN=98]="SPAN",d[d.STRIKE=99]="STRIKE",d[d.STRONG=100]="STRONG",d[d.STYLE=101]="STYLE",d[d.SUB=102]="SUB",d[d.SUMMARY=103]="SUMMARY",d[d.SUP=104]="SUP",d[d.TABLE=105]="TABLE",d[d.TBODY=106]="TBODY",d[d.TEMPLATE=107]="TEMPLATE",d[d.TEXTAREA=108]="TEXTAREA",d[d.TFOOT=109]="TFOOT",d[d.TD=110]="TD",d[d.TH=111]="TH",d[d.THEAD=112]="THEAD",d[d.TITLE=113]="TITLE",d[d.TR=114]="TR",d[d.TRACK=115]="TRACK",d[d.TT=116]="TT",d[d.U=117]="U",d[d.UL=118]="UL",d[d.SVG=119]="SVG",d[d.VAR=120]="VAR",d[d.WBR=121]="WBR",d[d.XMP=122]="XMP"})(i=e.TAG_ID||(e.TAG_ID={}));const n=new Map([[r.A,i.A],[r.ADDRESS,i.ADDRESS],[r.ANNOTATION_XML,i.ANNOTATION_XML],[r.APPLET,i.APPLET],[r.AREA,i.AREA],[r.ARTICLE,i.ARTICLE],[r.ASIDE,i.ASIDE],[r.B,i.B],[r.BASE,i.BASE],[r.BASEFONT,i.BASEFONT],[r.BGSOUND,i.BGSOUND],[r.BIG,i.BIG],[r.BLOCKQUOTE,i.BLOCKQUOTE],[r.BODY,i.BODY],[r.BR,i.BR],[r.BUTTON,i.BUTTON],[r.CAPTION,i.CAPTION],[r.CENTER,i.CENTER],[r.CODE,i.CODE],[r.COL,i.COL],[r.COLGROUP,i.COLGROUP],[r.DD,i.DD],[r.DESC,i.DESC],[r.DETAILS,i.DETAILS],[r.DIALOG,i.DIALOG],[r.DIR,i.DIR],[r.DIV,i.DIV],[r.DL,i.DL],[r.DT,i.DT],[r.EM,i.EM],[r.EMBED,i.EMBED],[r.FIELDSET,i.FIELDSET],[r.FIGCAPTION,i.FIGCAPTION],[r.FIGURE,i.FIGURE],[r.FONT,i.FONT],[r.FOOTER,i.FOOTER],[r.FOREIGN_OBJECT,i.FOREIGN_OBJECT],[r.FORM,i.FORM],[r.FRAME,i.FRAME],[r.FRAMESET,i.FRAMESET],[r.H1,i.H1],[r.H2,i.H2],[r.H3,i.H3],[r.H4,i.H4],[r.H5,i.H5],[r.H6,i.H6],[r.HEAD,i.HEAD],[r.HEADER,i.HEADER],[r.HGROUP,i.HGROUP],[r.HR,i.HR],[r.HTML,i.HTML],[r.I,i.I],[r.IMG,i.IMG],[r.IMAGE,i.IMAGE],[r.INPUT,i.INPUT],[r.IFRAME,i.IFRAME],[r.KEYGEN,i.KEYGEN],[r.LABEL,i.LABEL],[r.LI,i.LI],[r.LINK,i.LINK],[r.LISTING,i.LISTING],[r.MAIN,i.MAIN],[r.MALIGNMARK,i.MALIGNMARK],[r.MARQUEE,i.MARQUEE],[r.MATH,i.MATH],[r.MENU,i.MENU],[r.META,i.META],[r.MGLYPH,i.MGLYPH],[r.MI,i.MI],[r.MO,i.MO],[r.MN,i.MN],[r.MS,i.MS],[r.MTEXT,i.MTEXT],[r.NAV,i.NAV],[r.NOBR,i.NOBR],[r.NOFRAMES,i.NOFRAMES],[r.NOEMBED,i.NOEMBED],[r.NOSCRIPT,i.NOSCRIPT],[r.OBJECT,i.OBJECT],[r.OL,i.OL],[r.OPTGROUP,i.OPTGROUP],[r.OPTION,i.OPTION],[r.P,i.P],[r.PARAM,i.PARAM],[r.PLAINTEXT,i.PLAINTEXT],[r.PRE,i.PRE],[r.RB,i.RB],[r.RP,i.RP],[r.RT,i.RT],[r.RTC,i.RTC],[r.RUBY,i.RUBY],[r.S,i.S],[r.SCRIPT,i.SCRIPT],[r.SECTION,i.SECTION],[r.SELECT,i.SELECT],[r.SOURCE,i.SOURCE],[r.SMALL,i.SMALL],[r.SPAN,i.SPAN],[r.STRIKE,i.STRIKE],[r.STRONG,i.STRONG],[r.STYLE,i.STYLE],[r.SUB,i.SUB],[r.SUMMARY,i.SUMMARY],[r.SUP,i.SUP],[r.TABLE,i.TABLE],[r.TBODY,i.TBODY],[r.TEMPLATE,i.TEMPLATE],[r.TEXTAREA,i.TEXTAREA],[r.TFOOT,i.TFOOT],[r.TD,i.TD],[r.TH,i.TH],[r.THEAD,i.THEAD],[r.TITLE,i.TITLE],[r.TR,i.TR],[r.TRACK,i.TRACK],[r.TT,i.TT],[r.U,i.U],[r.UL,i.UL],[r.SVG,i.SVG],[r.VAR,i.VAR],[r.WBR,i.WBR],[r.XMP,i.XMP]]);function s(d){var E;return(E=n.get(d))!==null&&E!==void 0?E:i.UNKNOWN}e.getTagID=s;const c=i;e.SPECIAL_ELEMENTS={[t.HTML]:new Set([c.ADDRESS,c.APPLET,c.AREA,c.ARTICLE,c.ASIDE,c.BASE,c.BASEFONT,c.BGSOUND,c.BLOCKQUOTE,c.BODY,c.BR,c.BUTTON,c.CAPTION,c.CENTER,c.COL,c.COLGROUP,c.DD,c.DETAILS,c.DIR,c.DIV,c.DL,c.DT,c.EMBED,c.FIELDSET,c.FIGCAPTION,c.FIGURE,c.FOOTER,c.FORM,c.FRAME,c.FRAMESET,c.H1,c.H2,c.H3,c.H4,c.H5,c.H6,c.HEAD,c.HEADER,c.HGROUP,c.HR,c.HTML,c.IFRAME,c.IMG,c.INPUT,c.LI,c.LINK,c.LISTING,c.MAIN,c.MARQUEE,c.MENU,c.META,c.NAV,c.NOEMBED,c.NOFRAMES,c.NOSCRIPT,c.OBJECT,c.OL,c.P,c.PARAM,c.PLAINTEXT,c.PRE,c.SCRIPT,c.SECTION,c.SELECT,c.SOURCE,c.STYLE,c.SUMMARY,c.TABLE,c.TBODY,c.TD,c.TEMPLATE,c.TEXTAREA,c.TFOOT,c.TH,c.THEAD,c.TITLE,c.TR,c.TRACK,c.UL,c.WBR,c.XMP]),[t.MATHML]:new Set([c.MI,c.MO,c.MN,c.MS,c.MTEXT,c.ANNOTATION_XML]),[t.SVG]:new Set([c.TITLE,c.FOREIGN_OBJECT,c.DESC]),[t.XLINK]:new Set,[t.XML]:new Set,[t.XMLNS]:new Set};function h(d){return d===c.H1||d===c.H2||d===c.H3||d===c.H4||d===c.H5||d===c.H6}e.isNumberedHeader=h;const p=new Set([r.STYLE,r.SCRIPT,r.XMP,r.IFRAME,r.NOEMBED,r.NOFRAMES,r.PLAINTEXT]);function m(d,E){return p.has(d)||E&&d===r.NOSCRIPT}e.hasUnescapedText=m})(Rf),Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.Tokenizer=Dg.TokenizerMode=void 0;const vAe=zI,Ie=jI,Js=VI,Eh=Tg,zt=Fb,u5=Rf,yAe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var He;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(He||(He={})),Dg.TokenizerMode={DATA:He.DATA,RCDATA:He.RCDATA,RAWTEXT:He.RAWTEXT,SCRIPT_DATA:He.SCRIPT_DATA,PLAINTEXT:He.PLAINTEXT,CDATA_SECTION:He.CDATA_SECTION};function Ub(e){return e>=Ie.CODE_POINTS.DIGIT_0&&e<=Ie.CODE_POINTS.DIGIT_9}function Hb(e){return e>=Ie.CODE_POINTS.LATIN_CAPITAL_A&&e<=Ie.CODE_POINTS.LATIN_CAPITAL_Z}function _Ae(e){return e>=Ie.CODE_POINTS.LATIN_SMALL_A&&e<=Ie.CODE_POINTS.LATIN_SMALL_Z}function hp(e){return _Ae(e)||Hb(e)}function c5(e){return hp(e)||Ub(e)}function gY(e){return e>=Ie.CODE_POINTS.LATIN_CAPITAL_A&&e<=Ie.CODE_POINTS.LATIN_CAPITAL_F}function vY(e){return e>=Ie.CODE_POINTS.LATIN_SMALL_A&&e<=Ie.CODE_POINTS.LATIN_SMALL_F}function EAe(e){return Ub(e)||gY(e)||vY(e)}function WI(e){return e+32}function yY(e){return e===Ie.CODE_POINTS.SPACE||e===Ie.CODE_POINTS.LINE_FEED||e===Ie.CODE_POINTS.TABULATION||e===Ie.CODE_POINTS.FORM_FEED}function TAe(e){return e===Ie.CODE_POINTS.EQUALS_SIGN||c5(e)}function _Y(e){return yY(e)||e===Ie.CODE_POINTS.SOLIDUS||e===Ie.CODE_POINTS.GREATER_THAN_SIGN}let bAe=(function(){function e(t,r){H(this,e),this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=He.DATA,this.returnState=He.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new vAe.Preprocessor(r),this.currentLocation=this.getCurrentLocation(-1)}return j(e,[{key:"_err",value:function(r){var i,n;(n=(i=this.handler).onParseError)===null||n===void 0||n.call(i,this.preprocessor.getError(r))}},{key:"getCurrentLocation",value:function(r){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-r,startOffset:this.preprocessor.offset-r,endLine:-1,endCol:-1,endOffset:-1}:null}},{key:"_runParsingLoop",value:function(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const r=this._consume();this._ensureHibernation()||this._callState(r)}this.inLoop=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(r){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||r?.())}},{key:"write",value:function(r,i,n){this.active=!0,this.preprocessor.write(r,i),this._runParsingLoop(),this.paused||n?.()}},{key:"insertHtmlAtCurrentPos",value:function(r){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(r),this._runParsingLoop()}},{key:"_ensureHibernation",value:function(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}},{key:"_consume",value:function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}},{key:"_unconsume",value:function(r){this.consumedAfterSnapshot-=r,this.preprocessor.retreat(r)}},{key:"_reconsumeInState",value:function(r,i){this.state=r,this._callState(i)}},{key:"_advanceBy",value:function(r){this.consumedAfterSnapshot+=r;for(let i=0;i<r;i++)this.preprocessor.advance()}},{key:"_consumeSequenceIfMatch",value:function(r,i){return this.preprocessor.startsWith(r,i)?(this._advanceBy(r.length-1),!0):!1}},{key:"_createStartTagToken",value:function(){this.currentToken={type:Js.TokenType.START_TAG,tagName:"",tagID:u5.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}},{key:"_createEndTagToken",value:function(){this.currentToken={type:Js.TokenType.END_TAG,tagName:"",tagID:u5.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}},{key:"_createCommentToken",value:function(r){this.currentToken={type:Js.TokenType.COMMENT,data:"",location:this.getCurrentLocation(r)}}},{key:"_createDoctypeToken",value:function(r){this.currentToken={type:Js.TokenType.DOCTYPE,name:r,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}},{key:"_createCharacterToken",value:function(r,i){this.currentCharacterToken={type:r,chars:i,location:this.currentLocation}}},{key:"_createAttr",value:function(r){this.currentAttr={name:r,value:""},this.currentLocation=this.getCurrentLocation(0)}},{key:"_leaveAttrName",value:function(){var r,i;const n=this.currentToken;if((0,Js.getTokenAttr)(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const s=(r=(i=n.location).attrs)!==null&&r!==void 0?r:i.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(zt.ERR.duplicateAttribute)}},{key:"_leaveAttrValue",value:function(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}},{key:"prepareToken",value:function(r){this._emitCurrentCharacterToken(r.location),this.currentToken=null,r.location&&(r.location.endLine=this.preprocessor.line,r.location.endCol=this.preprocessor.col+1,r.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}},{key:"emitCurrentTagToken",value:function(){const r=this.currentToken;this.prepareToken(r),r.tagID=(0,u5.getTagID)(r.tagName),r.type===Js.TokenType.START_TAG?(this.lastStartTagName=r.tagName,this.handler.onStartTag(r)):(r.attrs.length>0&&this._err(zt.ERR.endTagWithAttributes),r.selfClosing&&this._err(zt.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(r)),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentComment",value:function(r){this.prepareToken(r),this.handler.onComment(r),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentDoctype",value:function(r){this.prepareToken(r),this.handler.onDoctype(r),this.preprocessor.dropParsedChunk()}},{key:"_emitCurrentCharacterToken",value:function(r){if(this.currentCharacterToken){switch(r&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=r.startLine,this.currentCharacterToken.location.endCol=r.startCol,this.currentCharacterToken.location.endOffset=r.startOffset),this.currentCharacterToken.type){case Js.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Js.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Js.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}},{key:"_emitEOFToken",value:function(){const r=this.getCurrentLocation(0);r&&(r.endLine=r.startLine,r.endCol=r.startCol,r.endOffset=r.startOffset),this._emitCurrentCharacterToken(r),this.handler.onEof({type:Js.TokenType.EOF,location:r}),this.active=!1}},{key:"_appendCharToCurrentCharacterToken",value:function(r,i){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==r)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=i;return}this._createCharacterToken(r,i)}},{key:"_emitCodePoint",value:function(r){const i=yY(r)?Js.TokenType.WHITESPACE_CHARACTER:r===Ie.CODE_POINTS.NULL?Js.TokenType.NULL_CHARACTER:Js.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(i,String.fromCodePoint(r))}},{key:"_emitChars",value:function(r){this._appendCharToCurrentCharacterToken(Js.TokenType.CHARACTER,r)}},{key:"_matchNamedCharacterReference",value:function(r){let i=null,n=0,s=!1;for(let c=0,h=Eh.htmlDecodeTree[0];c>=0&&(c=(0,Eh.determineBranch)(Eh.htmlDecodeTree,h,c+1,r),!(c<0));r=this._consume()){n+=1,h=Eh.htmlDecodeTree[c];const p=h&Eh.BinTrieFlags.VALUE_LENGTH;if(p){const m=(p>>14)-1;if(r!==Ie.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&TAe(this.preprocessor.peek(1))?(i=[Ie.CODE_POINTS.AMPERSAND],c+=m):(i=m===0?[Eh.htmlDecodeTree[c]&~Eh.BinTrieFlags.VALUE_LENGTH]:m===1?[Eh.htmlDecodeTree[++c]]:[Eh.htmlDecodeTree[++c],Eh.htmlDecodeTree[++c]],n=0,s=r!==Ie.CODE_POINTS.SEMICOLON),m===0){this._consume();break}}}return this._unconsume(n),s&&!this.preprocessor.endOfChunkHit&&this._err(zt.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),i}},{key:"_isCharacterReferenceInAttribute",value:function(){return this.returnState===He.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===He.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===He.ATTRIBUTE_VALUE_UNQUOTED}},{key:"_flushCodePointConsumedAsCharacterReference",value:function(r){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(r):this._emitCodePoint(r)}},{key:"_callState",value:function(r){switch(this.state){case He.DATA:{this._stateData(r);break}case He.RCDATA:{this._stateRcdata(r);break}case He.RAWTEXT:{this._stateRawtext(r);break}case He.SCRIPT_DATA:{this._stateScriptData(r);break}case He.PLAINTEXT:{this._statePlaintext(r);break}case He.TAG_OPEN:{this._stateTagOpen(r);break}case He.END_TAG_OPEN:{this._stateEndTagOpen(r);break}case He.TAG_NAME:{this._stateTagName(r);break}case He.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(r);break}case He.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(r);break}case He.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(r);break}case He.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(r);break}case He.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(r);break}case He.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(r);break}case He.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(r);break}case He.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(r);break}case He.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(r);break}case He.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(r);break}case He.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(r);break}case He.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(r);break}case He.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(r);break}case He.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(r);break}case He.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(r);break}case He.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(r);break}case He.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(r);break}case He.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(r);break}case He.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(r);break}case He.ATTRIBUTE_NAME:{this._stateAttributeName(r);break}case He.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(r);break}case He.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(r);break}case He.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(r);break}case He.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(r);break}case He.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(r);break}case He.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(r);break}case He.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(r);break}case He.BOGUS_COMMENT:{this._stateBogusComment(r);break}case He.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(r);break}case He.COMMENT_START:{this._stateCommentStart(r);break}case He.COMMENT_START_DASH:{this._stateCommentStartDash(r);break}case He.COMMENT:{this._stateComment(r);break}case He.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(r);break}case He.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(r);break}case He.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(r);break}case He.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(r);break}case He.COMMENT_END_DASH:{this._stateCommentEndDash(r);break}case He.COMMENT_END:{this._stateCommentEnd(r);break}case He.COMMENT_END_BANG:{this._stateCommentEndBang(r);break}case He.DOCTYPE:{this._stateDoctype(r);break}case He.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(r);break}case He.DOCTYPE_NAME:{this._stateDoctypeName(r);break}case He.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(r);break}case He.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(r);break}case He.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(r);break}case He.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(r);break}case He.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(r);break}case He.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(r);break}case He.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(r);break}case He.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(r);break}case He.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(r);break}case He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(r);break}case He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(r);break}case He.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(r);break}case He.BOGUS_DOCTYPE:{this._stateBogusDoctype(r);break}case He.CDATA_SECTION:{this._stateCdataSection(r);break}case He.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(r);break}case He.CDATA_SECTION_END:{this._stateCdataSectionEnd(r);break}case He.CHARACTER_REFERENCE:{this._stateCharacterReference(r);break}case He.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(r);break}case He.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(r);break}case He.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(r);break}case He.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(r);break}case He.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(r);break}case He.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(r);break}case He.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(r);break}default:throw new Error("Unknown state")}}},{key:"_stateData",value:function(r){switch(r){case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.TAG_OPEN;break}case Ie.CODE_POINTS.AMPERSAND:{this.returnState=He.DATA,this.state=He.CHARACTER_REFERENCE;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this._emitCodePoint(r);break}case Ie.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateRcdata",value:function(r){switch(r){case Ie.CODE_POINTS.AMPERSAND:{this.returnState=He.RCDATA,this.state=He.CHARACTER_REFERENCE;break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.RCDATA_LESS_THAN_SIGN;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateRawtext",value:function(r){switch(r){case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.RAWTEXT_LESS_THAN_SIGN;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptData",value:function(r){switch(r){case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_LESS_THAN_SIGN;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_statePlaintext",value:function(r){switch(r){case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateTagOpen",value:function(r){if(hp(r))this._createStartTagToken(),this.state=He.TAG_NAME,this._stateTagName(r);else switch(r){case Ie.CODE_POINTS.EXCLAMATION_MARK:{this.state=He.MARKUP_DECLARATION_OPEN;break}case Ie.CODE_POINTS.SOLIDUS:{this.state=He.END_TAG_OPEN;break}case Ie.CODE_POINTS.QUESTION_MARK:{this._err(zt.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=He.BOGUS_COMMENT,this._stateBogusComment(r);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(zt.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=He.DATA,this._stateData(r)}}},{key:"_stateEndTagOpen",value:function(r){if(hp(r))this._createEndTagToken(),this.state=He.TAG_NAME,this._stateTagName(r);else switch(r){case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.missingEndTagName),this.state=He.DATA;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(zt.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=He.BOGUS_COMMENT,this._stateBogusComment(r)}}},{key:"_stateTagName",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:{this.state=He.BEFORE_ATTRIBUTE_NAME;break}case Ie.CODE_POINTS.SOLIDUS:{this.state=He.SELF_CLOSING_START_TAG;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentTagToken();break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),i.tagName+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInTag),this._emitEOFToken();break}default:i.tagName+=String.fromCodePoint(Hb(r)?WI(r):r)}}},{key:"_stateRcdataLessThanSign",value:function(r){r===Ie.CODE_POINTS.SOLIDUS?this.state=He.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=He.RCDATA,this._stateRcdata(r))}},{key:"_stateRcdataEndTagOpen",value:function(r){hp(r)?(this.state=He.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(r)):(this._emitChars("</"),this.state=He.RCDATA,this._stateRcdata(r))}},{key:"handleSpecialEndTag",value:function(r){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const i=this.currentToken;switch(i.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=He.BEFORE_ATTRIBUTE_NAME,!1;case Ie.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=He.SELF_CLOSING_START_TAG,!1;case Ie.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=He.DATA,!1;default:return!this._ensureHibernation()}}},{key:"_stateRcdataEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=He.RCDATA,this._stateRcdata(r))}},{key:"_stateRawtextLessThanSign",value:function(r){r===Ie.CODE_POINTS.SOLIDUS?this.state=He.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=He.RAWTEXT,this._stateRawtext(r))}},{key:"_stateRawtextEndTagOpen",value:function(r){hp(r)?(this.state=He.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(r)):(this._emitChars("</"),this.state=He.RAWTEXT,this._stateRawtext(r))}},{key:"_stateRawtextEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=He.RAWTEXT,this._stateRawtext(r))}},{key:"_stateScriptDataLessThanSign",value:function(r){switch(r){case Ie.CODE_POINTS.SOLIDUS:{this.state=He.SCRIPT_DATA_END_TAG_OPEN;break}case Ie.CODE_POINTS.EXCLAMATION_MARK:{this.state=He.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=He.SCRIPT_DATA,this._stateScriptData(r)}}},{key:"_stateScriptDataEndTagOpen",value:function(r){hp(r)?(this.state=He.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(r)):(this._emitChars("</"),this.state=He.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=He.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscapeStart",value:function(r){r===Ie.CODE_POINTS.HYPHEN_MINUS?(this.state=He.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=He.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscapeStartDash",value:function(r){r===Ie.CODE_POINTS.HYPHEN_MINUS?(this.state=He.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=He.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscaped",value:function(r){switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this.state=He.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedDash",value:function(r){switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this.state=He.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this.state=He.SCRIPT_DATA_ESCAPED,this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=He.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedDashDash",value:function(r){switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.SCRIPT_DATA,this._emitChars(">");break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this.state=He.SCRIPT_DATA_ESCAPED,this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=He.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedLessThanSign",value:function(r){r===Ie.CODE_POINTS.SOLIDUS?this.state=He.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:hp(r)?(this._emitChars("<"),this.state=He.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(r)):(this._emitChars("<"),this.state=He.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataEscapedEndTagOpen",value:function(r){hp(r)?(this.state=He.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(r)):(this._emitChars("</"),this.state=He.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataEscapedEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=He.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataDoubleEscapeStart",value:function(r){if(this.preprocessor.startsWith(Ie.SEQUENCES.SCRIPT,!1)&&_Y(this.preprocessor.peek(Ie.SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let i=0;i<Ie.SEQUENCES.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=He.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataDoubleEscaped",value:function(r){switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedDash",value:function(r){switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedDashDash",value:function(r){switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.SCRIPT_DATA,this._emitChars(">");break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ie.REPLACEMENT_CHARACTER);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedLessThanSign",value:function(r){r===Ie.CODE_POINTS.SOLIDUS?(this.state=He.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}},{key:"_stateScriptDataDoubleEscapeEnd",value:function(r){if(this.preprocessor.startsWith(Ie.SEQUENCES.SCRIPT,!1)&&_Y(this.preprocessor.peek(Ie.SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let i=0;i<Ie.SEQUENCES.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=He.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=He.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}},{key:"_stateBeforeAttributeName",value:function(r){switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.SOLIDUS:case Ie.CODE_POINTS.GREATER_THAN_SIGN:case Ie.CODE_POINTS.EOF:{this.state=He.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case Ie.CODE_POINTS.EQUALS_SIGN:{this._err(zt.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=He.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=He.ATTRIBUTE_NAME,this._stateAttributeName(r)}}},{key:"_stateAttributeName",value:function(r){switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:case Ie.CODE_POINTS.SOLIDUS:case Ie.CODE_POINTS.GREATER_THAN_SIGN:case Ie.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=He.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case Ie.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=He.BEFORE_ATTRIBUTE_VALUE;break}case Ie.CODE_POINTS.QUOTATION_MARK:case Ie.CODE_POINTS.APOSTROPHE:case Ie.CODE_POINTS.LESS_THAN_SIGN:{this._err(zt.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(r);break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this.currentAttr.name+=Ie.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(Hb(r)?WI(r):r)}}},{key:"_stateAfterAttributeName",value:function(r){switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.SOLIDUS:{this.state=He.SELF_CLOSING_START_TAG;break}case Ie.CODE_POINTS.EQUALS_SIGN:{this.state=He.BEFORE_ATTRIBUTE_VALUE;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentTagToken();break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=He.ATTRIBUTE_NAME,this._stateAttributeName(r)}}},{key:"_stateBeforeAttributeValue",value:function(r){switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.QUOTATION_MARK:{this.state=He.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case Ie.CODE_POINTS.APOSTROPHE:{this.state=He.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.missingAttributeValue),this.state=He.DATA,this.emitCurrentTagToken();break}default:this.state=He.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(r)}}},{key:"_stateAttributeValueDoubleQuoted",value:function(r){switch(r){case Ie.CODE_POINTS.QUOTATION_MARK:{this.state=He.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Ie.CODE_POINTS.AMPERSAND:{this.returnState=He.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=He.CHARACTER_REFERENCE;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this.currentAttr.value+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAttributeValueSingleQuoted",value:function(r){switch(r){case Ie.CODE_POINTS.APOSTROPHE:{this.state=He.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Ie.CODE_POINTS.AMPERSAND:{this.returnState=He.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=He.CHARACTER_REFERENCE;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this.currentAttr.value+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAttributeValueUnquoted",value:function(r){switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=He.BEFORE_ATTRIBUTE_NAME;break}case Ie.CODE_POINTS.AMPERSAND:{this.returnState=He.ATTRIBUTE_VALUE_UNQUOTED,this.state=He.CHARACTER_REFERENCE;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=He.DATA,this.emitCurrentTagToken();break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this.currentAttr.value+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.QUOTATION_MARK:case Ie.CODE_POINTS.APOSTROPHE:case Ie.CODE_POINTS.LESS_THAN_SIGN:case Ie.CODE_POINTS.EQUALS_SIGN:case Ie.CODE_POINTS.GRAVE_ACCENT:{this._err(zt.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(r);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAfterAttributeValueQuoted",value:function(r){switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=He.BEFORE_ATTRIBUTE_NAME;break}case Ie.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=He.SELF_CLOSING_START_TAG;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=He.DATA,this.emitCurrentTagToken();break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInTag),this._emitEOFToken();break}default:this._err(zt.ERR.missingWhitespaceBetweenAttributes),this.state=He.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}},{key:"_stateSelfClosingStartTag",value:function(r){switch(r){case Ie.CODE_POINTS.GREATER_THAN_SIGN:{const i=this.currentToken;i.selfClosing=!0,this.state=He.DATA,this.emitCurrentTagToken();break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInTag),this._emitEOFToken();break}default:this._err(zt.ERR.unexpectedSolidusInTag),this.state=He.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}},{key:"_stateBogusComment",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentComment(i);break}case Ie.CODE_POINTS.EOF:{this.emitCurrentComment(i),this._emitEOFToken();break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),i.data+=Ie.REPLACEMENT_CHARACTER;break}default:i.data+=String.fromCodePoint(r)}}},{key:"_stateMarkupDeclarationOpen",value:function(r){this._consumeSequenceIfMatch(Ie.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(Ie.SEQUENCES.DASH_DASH.length+1),this.state=He.COMMENT_START):this._consumeSequenceIfMatch(Ie.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ie.SEQUENCES.DOCTYPE.length+1),this.state=He.DOCTYPE):this._consumeSequenceIfMatch(Ie.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=He.CDATA_SECTION:(this._err(zt.ERR.cdataInHtmlContent),this._createCommentToken(Ie.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=He.BOGUS_COMMENT):this._ensureHibernation()||(this._err(zt.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=He.BOGUS_COMMENT,this._stateBogusComment(r))}},{key:"_stateCommentStart",value:function(r){switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this.state=He.COMMENT_START_DASH;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.abruptClosingOfEmptyComment),this.state=He.DATA;const i=this.currentToken;this.emitCurrentComment(i);break}default:this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateCommentStartDash",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this.state=He.COMMENT_END;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.abruptClosingOfEmptyComment),this.state=He.DATA,this.emitCurrentComment(i);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateComment",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this.state=He.COMMENT_END_DASH;break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{i.data+="<",this.state=He.COMMENT_LESS_THAN_SIGN;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),i.data+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+=String.fromCodePoint(r)}}},{key:"_stateCommentLessThanSign",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.EXCLAMATION_MARK:{i.data+="!",this.state=He.COMMENT_LESS_THAN_SIGN_BANG;break}case Ie.CODE_POINTS.LESS_THAN_SIGN:{i.data+="<";break}default:this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateCommentLessThanSignBang",value:function(r){r===Ie.CODE_POINTS.HYPHEN_MINUS?this.state=He.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=He.COMMENT,this._stateComment(r))}},{key:"_stateCommentLessThanSignBangDash",value:function(r){r===Ie.CODE_POINTS.HYPHEN_MINUS?this.state=He.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=He.COMMENT_END_DASH,this._stateCommentEndDash(r))}},{key:"_stateCommentLessThanSignBangDashDash",value:function(r){r!==Ie.CODE_POINTS.GREATER_THAN_SIGN&&r!==Ie.CODE_POINTS.EOF&&this._err(zt.ERR.nestedComment),this.state=He.COMMENT_END,this._stateCommentEnd(r)}},{key:"_stateCommentEndDash",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{this.state=He.COMMENT_END;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateCommentEnd",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentComment(i);break}case Ie.CODE_POINTS.EXCLAMATION_MARK:{this.state=He.COMMENT_END_BANG;break}case Ie.CODE_POINTS.HYPHEN_MINUS:{i.data+="-";break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--",this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateCommentEndBang",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.HYPHEN_MINUS:{i.data+="--!",this.state=He.COMMENT_END_DASH;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.incorrectlyClosedComment),this.state=He.DATA,this.emitCurrentComment(i);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--!",this.state=He.COMMENT,this._stateComment(r)}}},{key:"_stateDoctype",value:function(r){switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:{this.state=He.BEFORE_DOCTYPE_NAME;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(zt.ERR.missingWhitespaceBeforeDoctypeName),this.state=He.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r)}}},{key:"_stateBeforeDoctypeName",value:function(r){if(Hb(r))this._createDoctypeToken(String.fromCharCode(WI(r))),this.state=He.DOCTYPE_NAME;else switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),this._createDoctypeToken(Ie.REPLACEMENT_CHARACTER),this.state=He.DOCTYPE_NAME;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.missingDoctypeName),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=He.DATA;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(r)),this.state=He.DOCTYPE_NAME}}},{key:"_stateDoctypeName",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:{this.state=He.AFTER_DOCTYPE_NAME;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentDoctype(i);break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),i.name+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.name+=String.fromCodePoint(Hb(r)?WI(r):r)}}},{key:"_stateAfterDoctypeName",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentDoctype(i);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ie.SEQUENCES.PUBLIC,!1)?this.state=He.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ie.SEQUENCES.SYSTEM,!1)?this.state=He.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(zt.ERR.invalidCharacterSequenceAfterDoctypeName),i.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r))}}},{key:"_stateAfterDoctypePublicKeyword",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:{this.state=He.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ie.CODE_POINTS.QUOTATION_MARK:{this._err(zt.ERR.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=He.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Ie.CODE_POINTS.APOSTROPHE:{this._err(zt.ERR.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=He.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=He.DATA,this.emitCurrentDoctype(i);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(zt.ERR.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBeforeDoctypePublicIdentifier",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.QUOTATION_MARK:{i.publicId="",this.state=He.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Ie.CODE_POINTS.APOSTROPHE:{i.publicId="",this.state=He.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=He.DATA,this.emitCurrentDoctype(i);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(zt.ERR.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateDoctypePublicIdentifierDoubleQuoted",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.QUOTATION_MARK:{this.state=He.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),i.publicId+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=He.DATA;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(r)}}},{key:"_stateDoctypePublicIdentifierSingleQuoted",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.APOSTROPHE:{this.state=He.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),i.publicId+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=He.DATA;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(r)}}},{key:"_stateAfterDoctypePublicIdentifier",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:{this.state=He.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA,this.emitCurrentDoctype(i);break}case Ie.CODE_POINTS.QUOTATION_MARK:{this._err(zt.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ie.CODE_POINTS.APOSTROPHE:{this._err(zt.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(zt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBetweenDoctypePublicAndSystemIdentifiers",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=He.DATA;break}case Ie.CODE_POINTS.QUOTATION_MARK:{i.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ie.CODE_POINTS.APOSTROPHE:{i.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(zt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateAfterDoctypeSystemKeyword",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:{this.state=He.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ie.CODE_POINTS.QUOTATION_MARK:{this._err(zt.ERR.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ie.CODE_POINTS.APOSTROPHE:{this._err(zt.ERR.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=He.DATA,this.emitCurrentDoctype(i);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(zt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBeforeDoctypeSystemIdentifier",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.QUOTATION_MARK:{i.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ie.CODE_POINTS.APOSTROPHE:{i.systemId="",this.state=He.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=He.DATA,this.emitCurrentDoctype(i);break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(zt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateDoctypeSystemIdentifierDoubleQuoted",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.QUOTATION_MARK:{this.state=He.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),i.systemId+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=He.DATA;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(r)}}},{key:"_stateDoctypeSystemIdentifierSingleQuoted",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.APOSTROPHE:{this.state=He.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter),i.systemId+=Ie.REPLACEMENT_CHARACTER;break}case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this._err(zt.ERR.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=He.DATA;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(r)}}},{key:"_stateAfterDoctypeSystemIdentifier",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.SPACE:case Ie.CODE_POINTS.LINE_FEED:case Ie.CODE_POINTS.TABULATION:case Ie.CODE_POINTS.FORM_FEED:break;case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=He.DATA;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(zt.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=He.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBogusDoctype",value:function(r){const i=this.currentToken;switch(r){case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=He.DATA;break}case Ie.CODE_POINTS.NULL:{this._err(zt.ERR.unexpectedNullCharacter);break}case Ie.CODE_POINTS.EOF:{this.emitCurrentDoctype(i),this._emitEOFToken();break}}}},{key:"_stateCdataSection",value:function(r){switch(r){case Ie.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=He.CDATA_SECTION_BRACKET;break}case Ie.CODE_POINTS.EOF:{this._err(zt.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateCdataSectionBracket",value:function(r){r===Ie.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=He.CDATA_SECTION_END:(this._emitChars("]"),this.state=He.CDATA_SECTION,this._stateCdataSection(r))}},{key:"_stateCdataSectionEnd",value:function(r){switch(r){case Ie.CODE_POINTS.GREATER_THAN_SIGN:{this.state=He.DATA;break}case Ie.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=He.CDATA_SECTION,this._stateCdataSection(r)}}},{key:"_stateCharacterReference",value:function(r){r===Ie.CODE_POINTS.NUMBER_SIGN?this.state=He.NUMERIC_CHARACTER_REFERENCE:c5(r)?(this.state=He.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(r)):(this._flushCodePointConsumedAsCharacterReference(Ie.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,r))}},{key:"_stateNamedCharacterReference",value:function(r){const i=this._matchNamedCharacterReference(r);if(!this._ensureHibernation())if(i){for(let n=0;n<i.length;n++)this._flushCodePointConsumedAsCharacterReference(i[n]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(Ie.CODE_POINTS.AMPERSAND),this.state=He.AMBIGUOUS_AMPERSAND}},{key:"_stateAmbiguousAmpersand",value:function(r){c5(r)?this._flushCodePointConsumedAsCharacterReference(r):(r===Ie.CODE_POINTS.SEMICOLON&&this._err(zt.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,r))}},{key:"_stateNumericCharacterReference",value:function(r){this.charRefCode=0,r===Ie.CODE_POINTS.LATIN_SMALL_X||r===Ie.CODE_POINTS.LATIN_CAPITAL_X?this.state=He.HEXADEMICAL_CHARACTER_REFERENCE_START:Ub(r)?(this.state=He.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(r)):(this._err(zt.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Ie.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Ie.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,r))}},{key:"_stateHexademicalCharacterReferenceStart",value:function(r){EAe(r)?(this.state=He.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(r)):(this._err(zt.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Ie.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Ie.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}},{key:"_stateHexademicalCharacterReference",value:function(r){gY(r)?this.charRefCode=this.charRefCode*16+r-55:vY(r)?this.charRefCode=this.charRefCode*16+r-87:Ub(r)?this.charRefCode=this.charRefCode*16+r-48:r===Ie.CODE_POINTS.SEMICOLON?this.state=He.NUMERIC_CHARACTER_REFERENCE_END:(this._err(zt.ERR.missingSemicolonAfterCharacterReference),this.state=He.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(r))}},{key:"_stateDecimalCharacterReference",value:function(r){Ub(r)?this.charRefCode=this.charRefCode*10+r-48:r===Ie.CODE_POINTS.SEMICOLON?this.state=He.NUMERIC_CHARACTER_REFERENCE_END:(this._err(zt.ERR.missingSemicolonAfterCharacterReference),this.state=He.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(r))}},{key:"_stateNumericCharacterReferenceEnd",value:function(r){if(this.charRefCode===Ie.CODE_POINTS.NULL)this._err(zt.ERR.nullCharacterReference),this.charRefCode=Ie.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(zt.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=Ie.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,Ie.isSurrogate)(this.charRefCode))this._err(zt.ERR.surrogateCharacterReference),this.charRefCode=Ie.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,Ie.isUndefinedCodePoint)(this.charRefCode))this._err(zt.ERR.noncharacterCharacterReference);else if((0,Ie.isControlCodePoint)(this.charRefCode)||this.charRefCode===Ie.CODE_POINTS.CARRIAGE_RETURN){this._err(zt.ERR.controlCharacterReference);const i=yAe.get(this.charRefCode);i!==void 0&&(this.charRefCode=i)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,r)}}]),e})();Dg.Tokenizer=bAe;var YI={};Object.defineProperty(YI,"__esModule",{value:!0}),YI.OpenElementStack=void 0;const Yt=Rf,EY=new Set([Yt.TAG_ID.DD,Yt.TAG_ID.DT,Yt.TAG_ID.LI,Yt.TAG_ID.OPTGROUP,Yt.TAG_ID.OPTION,Yt.TAG_ID.P,Yt.TAG_ID.RB,Yt.TAG_ID.RP,Yt.TAG_ID.RT,Yt.TAG_ID.RTC]),TY=new Set([...EY,Yt.TAG_ID.CAPTION,Yt.TAG_ID.COLGROUP,Yt.TAG_ID.TBODY,Yt.TAG_ID.TD,Yt.TAG_ID.TFOOT,Yt.TAG_ID.TH,Yt.TAG_ID.THEAD,Yt.TAG_ID.TR]),XI=new Map([[Yt.TAG_ID.APPLET,Yt.NS.HTML],[Yt.TAG_ID.CAPTION,Yt.NS.HTML],[Yt.TAG_ID.HTML,Yt.NS.HTML],[Yt.TAG_ID.MARQUEE,Yt.NS.HTML],[Yt.TAG_ID.OBJECT,Yt.NS.HTML],[Yt.TAG_ID.TABLE,Yt.NS.HTML],[Yt.TAG_ID.TD,Yt.NS.HTML],[Yt.TAG_ID.TEMPLATE,Yt.NS.HTML],[Yt.TAG_ID.TH,Yt.NS.HTML],[Yt.TAG_ID.ANNOTATION_XML,Yt.NS.MATHML],[Yt.TAG_ID.MI,Yt.NS.MATHML],[Yt.TAG_ID.MN,Yt.NS.MATHML],[Yt.TAG_ID.MO,Yt.NS.MATHML],[Yt.TAG_ID.MS,Yt.NS.MATHML],[Yt.TAG_ID.MTEXT,Yt.NS.MATHML],[Yt.TAG_ID.DESC,Yt.NS.SVG],[Yt.TAG_ID.FOREIGN_OBJECT,Yt.NS.SVG],[Yt.TAG_ID.TITLE,Yt.NS.SVG]]),SAe=[Yt.TAG_ID.H1,Yt.TAG_ID.H2,Yt.TAG_ID.H3,Yt.TAG_ID.H4,Yt.TAG_ID.H5,Yt.TAG_ID.H6],CAe=[Yt.TAG_ID.TR,Yt.TAG_ID.TEMPLATE,Yt.TAG_ID.HTML],AAe=[Yt.TAG_ID.TBODY,Yt.TAG_ID.TFOOT,Yt.TAG_ID.THEAD,Yt.TAG_ID.TEMPLATE,Yt.TAG_ID.HTML],wAe=[Yt.TAG_ID.TABLE,Yt.TAG_ID.TEMPLATE,Yt.TAG_ID.HTML],xAe=[Yt.TAG_ID.TD,Yt.TAG_ID.TH];let IAe=(function(){function e(t,r,i){H(this,e),this.treeAdapter=r,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=Yt.TAG_ID.UNKNOWN,this.current=t}return j(e,[{key:"currentTmplContentOrNode",get:function(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}},{key:"_indexOf",value:function(r){return this.items.lastIndexOf(r,this.stackTop)}},{key:"_isInTemplate",value:function(){return this.currentTagId===Yt.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Yt.NS.HTML}},{key:"_updateCurrentElement",value:function(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}},{key:"push",value:function(r,i){this.stackTop++,this.items[this.stackTop]=r,this.current=r,this.tagIDs[this.stackTop]=i,this.currentTagId=i,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(r,i,!0)}},{key:"pop",value:function(){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!0)}},{key:"replace",value:function(r,i){const n=this._indexOf(r);this.items[n]=i,n===this.stackTop&&(this.current=i)}},{key:"insertAfter",value:function(r,i,n){const s=this._indexOf(r)+1;this.items.splice(s,0,i),this.tagIDs.splice(s,0,n),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}},{key:"popUntilTagNamePopped",value:function(r){let i=this.stackTop+1;do i=this.tagIDs.lastIndexOf(r,i-1);while(i>0&&this.treeAdapter.getNamespaceURI(this.items[i])!==Yt.NS.HTML);this.shortenToLength(i<0?0:i)}},{key:"shortenToLength",value:function(r){for(;this.stackTop>=r;){const i=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(i,this.stackTop<r)}}},{key:"popUntilElementPopped",value:function(r){const i=this._indexOf(r);this.shortenToLength(i<0?0:i)}},{key:"popUntilPopped",value:function(r,i){const n=this._indexOfTagNames(r,i);this.shortenToLength(n<0?0:n)}},{key:"popUntilNumberedHeaderPopped",value:function(){this.popUntilPopped(SAe,Yt.NS.HTML)}},{key:"popUntilTableCellPopped",value:function(){this.popUntilPopped(xAe,Yt.NS.HTML)}},{key:"popAllUpToHtmlElement",value:function(){this.tmplCount=0,this.shortenToLength(1)}},{key:"_indexOfTagNames",value:function(r,i){for(let n=this.stackTop;n>=0;n--)if(r.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===i)return n;return-1}},{key:"clearBackTo",value:function(r,i){const n=this._indexOfTagNames(r,i);this.shortenToLength(n+1)}},{key:"clearBackToTableContext",value:function(){this.clearBackTo(wAe,Yt.NS.HTML)}},{key:"clearBackToTableBodyContext",value:function(){this.clearBackTo(AAe,Yt.NS.HTML)}},{key:"clearBackToTableRowContext",value:function(){this.clearBackTo(CAe,Yt.NS.HTML)}},{key:"remove",value:function(r){const i=this._indexOf(r);i>=0&&(i===this.stackTop?this.pop():(this.items.splice(i,1),this.tagIDs.splice(i,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!1)))}},{key:"tryPeekProperlyNestedBodyElement",value:function(){return this.stackTop>=1&&this.tagIDs[1]===Yt.TAG_ID.BODY?this.items[1]:null}},{key:"contains",value:function(r){return this._indexOf(r)>-1}},{key:"getCommonAncestor",value:function(r){const i=this._indexOf(r)-1;return i>=0?this.items[i]:null}},{key:"isRootHtmlElementCurrent",value:function(){return this.stackTop===0&&this.tagIDs[0]===Yt.TAG_ID.HTML}},{key:"hasInScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i],s=this.treeAdapter.getNamespaceURI(this.items[i]);if(n===r&&s===Yt.NS.HTML)return!0;if(XI.get(n)===s)return!1}return!0}},{key:"hasNumberedHeaderInScope",value:function(){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r],n=this.treeAdapter.getNamespaceURI(this.items[r]);if((0,Yt.isNumberedHeader)(i)&&n===Yt.NS.HTML)return!0;if(XI.get(i)===n)return!1}return!0}},{key:"hasInListItemScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i],s=this.treeAdapter.getNamespaceURI(this.items[i]);if(n===r&&s===Yt.NS.HTML)return!0;if((n===Yt.TAG_ID.UL||n===Yt.TAG_ID.OL)&&s===Yt.NS.HTML||XI.get(n)===s)return!1}return!0}},{key:"hasInButtonScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i],s=this.treeAdapter.getNamespaceURI(this.items[i]);if(n===r&&s===Yt.NS.HTML)return!0;if(n===Yt.TAG_ID.BUTTON&&s===Yt.NS.HTML||XI.get(n)===s)return!1}return!0}},{key:"hasInTableScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i];if(this.treeAdapter.getNamespaceURI(this.items[i])===Yt.NS.HTML){if(n===r)return!0;if(n===Yt.TAG_ID.TABLE||n===Yt.TAG_ID.TEMPLATE||n===Yt.TAG_ID.HTML)return!1}}return!0}},{key:"hasTableBodyContextInTableScope",value:function(){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===Yt.NS.HTML){if(i===Yt.TAG_ID.TBODY||i===Yt.TAG_ID.THEAD||i===Yt.TAG_ID.TFOOT)return!0;if(i===Yt.TAG_ID.TABLE||i===Yt.TAG_ID.HTML)return!1}}return!0}},{key:"hasInSelectScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i];if(this.treeAdapter.getNamespaceURI(this.items[i])===Yt.NS.HTML){if(n===r)return!0;if(n!==Yt.TAG_ID.OPTION&&n!==Yt.TAG_ID.OPTGROUP)return!1}}return!0}},{key:"generateImpliedEndTags",value:function(){for(;EY.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsThoroughly",value:function(){for(;TY.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsWithExclusion",value:function(r){for(;this.currentTagId!==r&&TY.has(this.currentTagId);)this.pop()}}]),e})();YI.OpenElementStack=IAe;var bY={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingElementList=e.EntryType=void 0;const t=3;var r;(function(s){s[s.Marker=0]="Marker",s[s.Element=1]="Element"})(r=e.EntryType||(e.EntryType={}));const i={type:r.Marker};let n=(function(){function s(c){H(this,s),this.treeAdapter=c,this.entries=[],this.bookmark=null}return j(s,[{key:"_getNoahArkConditionCandidates",value:function(h,p){const m=[],d=p.length,E=this.treeAdapter.getTagName(h),_=this.treeAdapter.getNamespaceURI(h);for(let T=0;T<this.entries.length;T++){const C=this.entries[T];if(C.type===r.Marker)break;const{element:A}=C;if(this.treeAdapter.getTagName(A)===E&&this.treeAdapter.getNamespaceURI(A)===_){const D=this.treeAdapter.getAttrList(A);D.length===d&&m.push({idx:T,attrs:D})}}return m}},{key:"_ensureNoahArkCondition",value:function(h){if(this.entries.length<t)return;const p=this.treeAdapter.getAttrList(h),m=this._getNoahArkConditionCandidates(h,p);if(m.length<t)return;const d=new Map(p.map(_=>[_.name,_.value]));let E=0;for(let _=0;_<m.length;_++){const T=m[_];T.attrs.every(C=>d.get(C.name)===C.value)&&(E+=1,E>=t&&this.entries.splice(T.idx,1))}}},{key:"insertMarker",value:function(){this.entries.unshift(i)}},{key:"pushElement",value:function(h,p){this._ensureNoahArkCondition(h),this.entries.unshift({type:r.Element,element:h,token:p})}},{key:"insertElementAfterBookmark",value:function(h,p){const m=this.entries.indexOf(this.bookmark);this.entries.splice(m,0,{type:r.Element,element:h,token:p})}},{key:"removeEntry",value:function(h){const p=this.entries.indexOf(h);p>=0&&this.entries.splice(p,1)}},{key:"clearToLastMarker",value:function(){const h=this.entries.indexOf(i);h>=0?this.entries.splice(0,h+1):this.entries.length=0}},{key:"getElementEntryInScopeWithTagName",value:function(h){const p=this.entries.find(m=>m.type===r.Marker||this.treeAdapter.getTagName(m.element)===h);return p&&p.type===r.Element?p:null}},{key:"getElementEntry",value:function(h){return this.entries.find(p=>p.type===r.Element&&p.element===h)}}]),s})();e.FormattingElementList=n})(bY);var qI={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=Rf;function r(i){return{nodeName:"#text",value:i,parentNode:null}}e.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(i,n,s){return{nodeName:i,tagName:i,attrs:s,namespaceURI:n,childNodes:[],parentNode:null}},createCommentNode(i){return{nodeName:"#comment",data:i,parentNode:null}},appendChild(i,n){i.childNodes.push(n),n.parentNode=i},insertBefore(i,n,s){const c=i.childNodes.indexOf(s);i.childNodes.splice(c,0,n),n.parentNode=i},setTemplateContent(i,n){i.content=n},getTemplateContent(i){return i.content},setDocumentType(i,n,s,c){const h=i.childNodes.find(p=>p.nodeName==="#documentType");if(h)h.name=n,h.publicId=s,h.systemId=c;else{const p={nodeName:"#documentType",name:n,publicId:s,systemId:c,parentNode:null};e.defaultTreeAdapter.appendChild(i,p)}},setDocumentMode(i,n){i.mode=n},getDocumentMode(i){return i.mode},detachNode(i){if(i.parentNode){const n=i.parentNode.childNodes.indexOf(i);i.parentNode.childNodes.splice(n,1),i.parentNode=null}},insertText(i,n){if(i.childNodes.length>0){const s=i.childNodes[i.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(s)){s.value+=n;return}}e.defaultTreeAdapter.appendChild(i,r(n))},insertTextBefore(i,n,s){const c=i.childNodes[i.childNodes.indexOf(s)-1];c&&e.defaultTreeAdapter.isTextNode(c)?c.value+=n:e.defaultTreeAdapter.insertBefore(i,r(n),s)},adoptAttributes(i,n){const s=new Set(i.attrs.map(c=>c.name));for(let c=0;c<n.length;c++)s.has(n[c].name)||i.attrs.push(n[c])},getFirstChild(i){return i.childNodes[0]},getChildNodes(i){return i.childNodes},getParentNode(i){return i.parentNode},getAttrList(i){return i.attrs},getTagName(i){return i.tagName},getNamespaceURI(i){return i.namespaceURI},getTextNodeContent(i){return i.value},getCommentNodeContent(i){return i.data},getDocumentTypeNodeName(i){return i.name},getDocumentTypeNodePublicId(i){return i.publicId},getDocumentTypeNodeSystemId(i){return i.systemId},isTextNode(i){return i.nodeName==="#text"},isCommentNode(i){return i.nodeName==="#comment"},isDocumentTypeNode(i){return i.nodeName==="#documentType"},isElementNode(i){return Object.prototype.hasOwnProperty.call(i,"tagName")},setNodeSourceCodeLocation(i,n){i.sourceCodeLocation=n},getNodeSourceCodeLocation(i){return i.sourceCodeLocation},updateNodeSourceCodeLocation(i,n){i.sourceCodeLocation=Object.assign(Object.assign({},i.sourceCodeLocation),n)}}})(qI);var u1={};Object.defineProperty(u1,"__esModule",{value:!0}),u1.getDocumentMode=u1.isConforming=void 0;const c1=Rf,SY="html",DAe="about:legacy-compat",OAe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",CY=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],kAe=[...CY,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],PAe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),AY=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],RAe=[...AY,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function wY(e,t){return t.some(r=>e.startsWith(r))}function NAe(e){return e.name===SY&&e.publicId===null&&(e.systemId===null||e.systemId===DAe)}u1.isConforming=NAe;function MAe(e){if(e.name!==SY)return c1.DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===OAe)return c1.DOCUMENT_MODE.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),PAe.has(r))return c1.DOCUMENT_MODE.QUIRKS;let i=t===null?kAe:CY;if(wY(r,i))return c1.DOCUMENT_MODE.QUIRKS;if(i=t===null?AY:RAe,wY(r,i))return c1.DOCUMENT_MODE.LIMITED_QUIRKS}return c1.DOCUMENT_MODE.NO_QUIRKS}u1.getDocumentMode=MAe;var h5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIntegrationPoint=e.adjustTokenSVGTagName=e.adjustTokenXMLAttrs=e.adjustTokenSVGAttrs=e.adjustTokenMathMLAttrs=e.causesExit=e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const t=Rf,r={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},i="definitionurl",n="definitionURL",s=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(D=>[D.toLowerCase(),D])),c=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:t.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(D=>[D.toLowerCase(),D]));const h=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);function p(D){const O=D.tagID;return O===t.TAG_ID.FONT&&D.attrs.some(({name:P})=>P===t.ATTRS.COLOR||P===t.ATTRS.SIZE||P===t.ATTRS.FACE)||h.has(O)}e.causesExit=p;function m(D){for(let O=0;O<D.attrs.length;O++)if(D.attrs[O].name===i){D.attrs[O].name=n;break}}e.adjustTokenMathMLAttrs=m;function d(D){for(let O=0;O<D.attrs.length;O++){const B=s.get(D.attrs[O].name);B!=null&&(D.attrs[O].name=B)}}e.adjustTokenSVGAttrs=d;function E(D){for(let O=0;O<D.attrs.length;O++){const B=c.get(D.attrs[O].name);B&&(D.attrs[O].prefix=B.prefix,D.attrs[O].name=B.name,D.attrs[O].namespace=B.namespace)}}e.adjustTokenXMLAttrs=E;function _(D){const O=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(D.tagName);O!=null&&(D.tagName=O,D.tagID=(0,t.getTagID)(D.tagName))}e.adjustTokenSVGTagName=_;function T(D,O){return O===t.NS.MATHML&&(D===t.TAG_ID.MI||D===t.TAG_ID.MO||D===t.TAG_ID.MN||D===t.TAG_ID.MS||D===t.TAG_ID.MTEXT)}function C(D,O,B){if(O===t.NS.MATHML&&D===t.TAG_ID.ANNOTATION_XML){for(let P=0;P<B.length;P++)if(B[P].name===t.ATTRS.ENCODING){const R=B[P].value.toLowerCase();return R===r.TEXT_HTML||R===r.APPLICATION_XML}}return O===t.NS.SVG&&(D===t.TAG_ID.FOREIGN_OBJECT||D===t.TAG_ID.DESC||D===t.TAG_ID.TITLE)}function A(D,O,B,P){return(!P||P===t.NS.HTML)&&C(D,O,B)||(!P||P===t.NS.MATHML)&&T(D,O)}e.isIntegrationPoint=A})(h5),Object.defineProperty(Bb,"__esModule",{value:!0}),Bb.Parser=void 0;const xs=Dg,LAe=YI,xY=bY,BAe=qI,IY=u1,Th=h5,Fo=Fb,DY=jI,te=Rf,oo=VI,FAe="hidden",UAe=8,HAe=3;var Je;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Je||(Je={}));const $Ae={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},OY=new Set([te.TAG_ID.TABLE,te.TAG_ID.TBODY,te.TAG_ID.TFOOT,te.TAG_ID.THEAD,te.TAG_ID.TR]),kY={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:BAe.defaultTreeAdapter,onParseError:null};let GAe=(function(){function e(t,r,i=null,n=null){H(this,e),this.fragmentContext=i,this.scriptHandler=n,this.currentToken=null,this.stopped=!1,this.insertionMode=Je.INITIAL,this.originalInsertionMode=Je.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},kY),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new xs.Tokenizer(this.options,this),this.activeFormattingElements=new xY.FormattingElementList(this.treeAdapter),this.fragmentContextID=i?(0,te.getTagID)(this.treeAdapter.getTagName(i)):te.TAG_ID.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new LAe.OpenElementStack(this.document,this.treeAdapter,this)}return j(e,[{key:"getFragment",value:function(){const r=this.treeAdapter.getFirstChild(this.document),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i}},{key:"_err",value:function(r,i,n){var s;if(!this.onParseError)return;const c=(s=r.location)!==null&&s!==void 0?s:$Ae,h={code:i,startLine:c.startLine,startCol:c.startCol,startOffset:c.startOffset,endLine:n?c.startLine:c.endLine,endCol:n?c.startCol:c.endCol,endOffset:n?c.startOffset:c.endOffset};this.onParseError(h)}},{key:"onItemPush",value:function(r,i,n){var s,c;(c=(s=this.treeAdapter).onItemPush)===null||c===void 0||c.call(s,r),n&&this.openElements.stackTop>0&&this._setContextModes(r,i)}},{key:"onItemPop",value:function(r,i){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(r,this.currentToken),(s=(n=this.treeAdapter).onItemPop)===null||s===void 0||s.call(n,r,this.openElements.current),i){let c,h;this.openElements.stackTop===0&&this.fragmentContext?(c=this.fragmentContext,h=this.fragmentContextID):{current:c,currentTagId:h}=this.openElements,this._setContextModes(c,h)}}},{key:"_setContextModes",value:function(r,i){const n=r===this.document||this.treeAdapter.getNamespaceURI(r)===te.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(i,r)}},{key:"_switchToTextParsing",value:function(r,i){this._insertElement(r,te.NS.HTML),this.tokenizer.state=i,this.originalInsertionMode=this.insertionMode,this.insertionMode=Je.TEXT}},{key:"switchToPlaintextParsing",value:function(){this.insertionMode=Je.TEXT,this.originalInsertionMode=Je.IN_BODY,this.tokenizer.state=xs.TokenizerMode.PLAINTEXT}},{key:"_getAdjustedCurrentElement",value:function(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}},{key:"_findFormInFragmentContext",value:function(){let r=this.fragmentContext;for(;r;){if(this.treeAdapter.getTagName(r)===te.TAG_NAMES.FORM){this.formElement=r;break}r=this.treeAdapter.getParentNode(r)}}},{key:"_initTokenizerForFragmentParsing",value:function(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==te.NS.HTML))switch(this.fragmentContextID){case te.TAG_ID.TITLE:case te.TAG_ID.TEXTAREA:{this.tokenizer.state=xs.TokenizerMode.RCDATA;break}case te.TAG_ID.STYLE:case te.TAG_ID.XMP:case te.TAG_ID.IFRAME:case te.TAG_ID.NOEMBED:case te.TAG_ID.NOFRAMES:case te.TAG_ID.NOSCRIPT:{this.tokenizer.state=xs.TokenizerMode.RAWTEXT;break}case te.TAG_ID.SCRIPT:{this.tokenizer.state=xs.TokenizerMode.SCRIPT_DATA;break}case te.TAG_ID.PLAINTEXT:{this.tokenizer.state=xs.TokenizerMode.PLAINTEXT;break}}}},{key:"_setDocumentType",value:function(r){const i=r.name||"",n=r.publicId||"",s=r.systemId||"";if(this.treeAdapter.setDocumentType(this.document,i,n,s),r.location){const h=this.treeAdapter.getChildNodes(this.document).find(p=>this.treeAdapter.isDocumentTypeNode(p));h&&this.treeAdapter.setNodeSourceCodeLocation(h,r.location)}}},{key:"_attachElementToTree",value:function(r,i){if(this.options.sourceCodeLocationInfo){const n=i&&Object.assign(Object.assign({},i),{startTag:i});this.treeAdapter.setNodeSourceCodeLocation(r,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(r);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n,r)}}},{key:"_appendElement",value:function(r,i){const n=this.treeAdapter.createElement(r.tagName,i,r.attrs);this._attachElementToTree(n,r.location)}},{key:"_insertElement",value:function(r,i){const n=this.treeAdapter.createElement(r.tagName,i,r.attrs);this._attachElementToTree(n,r.location),this.openElements.push(n,r.tagID)}},{key:"_insertFakeElement",value:function(r,i){const n=this.treeAdapter.createElement(r,te.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,i)}},{key:"_insertTemplate",value:function(r){const i=this.treeAdapter.createElement(r.tagName,te.NS.HTML,r.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(i,n),this._attachElementToTree(i,r.location),this.openElements.push(i,r.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}},{key:"_insertFakeRootElement",value:function(){const r=this.treeAdapter.createElement(te.TAG_NAMES.HTML,te.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null),this.treeAdapter.appendChild(this.openElements.current,r),this.openElements.push(r,te.TAG_ID.HTML)}},{key:"_appendCommentNode",value:function(r,i){const n=this.treeAdapter.createCommentNode(r.data);this.treeAdapter.appendChild(i,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,r.location)}},{key:"_insertCharacters",value:function(r){let i,n;if(this._shouldFosterParentOnInsertion()?({parent:i,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(i,r.chars,n):this.treeAdapter.insertText(i,r.chars)):(i=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(i,r.chars)),!r.location)return;const s=this.treeAdapter.getChildNodes(i),c=n?s.lastIndexOf(n):s.length,h=s[c-1];if(this.treeAdapter.getNodeSourceCodeLocation(h)){const{endLine:m,endCol:d,endOffset:E}=r.location;this.treeAdapter.updateNodeSourceCodeLocation(h,{endLine:m,endCol:d,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(h,r.location)}},{key:"_adoptNodes",value:function(r,i){for(let n=this.treeAdapter.getFirstChild(r);n;n=this.treeAdapter.getFirstChild(r))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(i,n)}},{key:"_setEndLocation",value:function(r,i){if(this.treeAdapter.getNodeSourceCodeLocation(r)&&i.location){const n=i.location,s=this.treeAdapter.getTagName(r),c=i.type===oo.TokenType.END_TAG&&s===i.tagName?{endTag:Object.assign({},n),endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(r,c)}}},{key:"shouldProcessStartTagTokenInForeignContent",value:function(r){if(!this.currentNotInHTML)return!1;let i,n;return this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,n=this.fragmentContextID):{current:i,currentTagId:n}=this.openElements,r.tagID===te.TAG_ID.SVG&&this.treeAdapter.getTagName(i)===te.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(i)===te.NS.MATHML?!1:this.tokenizer.inForeignNode||(r.tagID===te.TAG_ID.MGLYPH||r.tagID===te.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,i,te.NS.HTML)}},{key:"_processToken",value:function(r){switch(r.type){case oo.TokenType.CHARACTER:{this.onCharacter(r);break}case oo.TokenType.NULL_CHARACTER:{this.onNullCharacter(r);break}case oo.TokenType.COMMENT:{this.onComment(r);break}case oo.TokenType.DOCTYPE:{this.onDoctype(r);break}case oo.TokenType.START_TAG:{this._processStartTag(r);break}case oo.TokenType.END_TAG:{this.onEndTag(r);break}case oo.TokenType.EOF:{this.onEof(r);break}case oo.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(r);break}}}},{key:"_isIntegrationPoint",value:function(r,i,n){const s=this.treeAdapter.getNamespaceURI(i),c=this.treeAdapter.getAttrList(i);return Th.isIntegrationPoint(r,s,c,n)}},{key:"_reconstructActiveFormattingElements",value:function(){const r=this.activeFormattingElements.entries.length;if(r){const i=this.activeFormattingElements.entries.findIndex(s=>s.type===xY.EntryType.Marker||this.openElements.contains(s.element)),n=i<0?r-1:i-1;for(let s=n;s>=0;s--){const c=this.activeFormattingElements.entries[s];this._insertElement(c.token,this.treeAdapter.getNamespaceURI(c.element)),c.element=this.openElements.current}}}},{key:"_closeTableCell",value:function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Je.IN_ROW}},{key:"_closePElement",value:function(){this.openElements.generateImpliedEndTagsWithExclusion(te.TAG_ID.P),this.openElements.popUntilTagNamePopped(te.TAG_ID.P)}},{key:"_resetInsertionMode",value:function(){for(let r=this.openElements.stackTop;r>=0;r--)switch(r===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[r]){case te.TAG_ID.TR:{this.insertionMode=Je.IN_ROW;return}case te.TAG_ID.TBODY:case te.TAG_ID.THEAD:case te.TAG_ID.TFOOT:{this.insertionMode=Je.IN_TABLE_BODY;return}case te.TAG_ID.CAPTION:{this.insertionMode=Je.IN_CAPTION;return}case te.TAG_ID.COLGROUP:{this.insertionMode=Je.IN_COLUMN_GROUP;return}case te.TAG_ID.TABLE:{this.insertionMode=Je.IN_TABLE;return}case te.TAG_ID.BODY:{this.insertionMode=Je.IN_BODY;return}case te.TAG_ID.FRAMESET:{this.insertionMode=Je.IN_FRAMESET;return}case te.TAG_ID.SELECT:{this._resetInsertionModeForSelect(r);return}case te.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case te.TAG_ID.HTML:{this.insertionMode=this.headElement?Je.AFTER_HEAD:Je.BEFORE_HEAD;return}case te.TAG_ID.TD:case te.TAG_ID.TH:{if(r>0){this.insertionMode=Je.IN_CELL;return}break}case te.TAG_ID.HEAD:{if(r>0){this.insertionMode=Je.IN_HEAD;return}break}}this.insertionMode=Je.IN_BODY}},{key:"_resetInsertionModeForSelect",value:function(r){if(r>0)for(let i=r-1;i>0;i--){const n=this.openElements.tagIDs[i];if(n===te.TAG_ID.TEMPLATE)break;if(n===te.TAG_ID.TABLE){this.insertionMode=Je.IN_SELECT_IN_TABLE;return}}this.insertionMode=Je.IN_SELECT}},{key:"_isElementCausesFosterParenting",value:function(r){return OY.has(r)}},{key:"_shouldFosterParentOnInsertion",value:function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}},{key:"_findFosterParentingLocation",value:function(){for(let r=this.openElements.stackTop;r>=0;r--){const i=this.openElements.items[r];switch(this.openElements.tagIDs[r]){case te.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(i)===te.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(i),beforeElement:null};break}case te.TAG_ID.TABLE:{const n=this.treeAdapter.getParentNode(i);return n?{parent:n,beforeElement:i}:{parent:this.openElements.items[r-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}},{key:"_fosterParentElement",value:function(r){const i=this._findFosterParentingLocation();i.beforeElement?this.treeAdapter.insertBefore(i.parent,r,i.beforeElement):this.treeAdapter.appendChild(i.parent,r)}},{key:"_isSpecialElement",value:function(r,i){const n=this.treeAdapter.getNamespaceURI(r);return te.SPECIAL_ELEMENTS[n].has(i)}},{key:"onCharacter",value:function(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){yxe(this,r);return}switch(this.insertionMode){case Je.INITIAL:{$b(this,r);break}case Je.BEFORE_HTML:{Gb(this,r);break}case Je.BEFORE_HEAD:{zb(this,r);break}case Je.IN_HEAD:{jb(this,r);break}case Je.IN_HEAD_NO_SCRIPT:{Vb(this,r);break}case Je.AFTER_HEAD:{Wb(this,r);break}case Je.IN_BODY:case Je.IN_CAPTION:case Je.IN_CELL:case Je.IN_TEMPLATE:{RY(this,r);break}case Je.TEXT:case Je.IN_SELECT:case Je.IN_SELECT_IN_TABLE:{this._insertCharacters(r);break}case Je.IN_TABLE:case Je.IN_TABLE_BODY:case Je.IN_ROW:{m5(this,r);break}case Je.IN_TABLE_TEXT:{$Y(this,r);break}case Je.IN_COLUMN_GROUP:{QI(this,r);break}case Je.AFTER_BODY:{tD(this,r);break}case Je.AFTER_AFTER_BODY:{rD(this,r);break}}}},{key:"onNullCharacter",value:function(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){vxe(this,r);return}switch(this.insertionMode){case Je.INITIAL:{$b(this,r);break}case Je.BEFORE_HTML:{Gb(this,r);break}case Je.BEFORE_HEAD:{zb(this,r);break}case Je.IN_HEAD:{jb(this,r);break}case Je.IN_HEAD_NO_SCRIPT:{Vb(this,r);break}case Je.AFTER_HEAD:{Wb(this,r);break}case Je.TEXT:{this._insertCharacters(r);break}case Je.IN_TABLE:case Je.IN_TABLE_BODY:case Je.IN_ROW:{m5(this,r);break}case Je.IN_COLUMN_GROUP:{QI(this,r);break}case Je.AFTER_BODY:{tD(this,r);break}case Je.AFTER_AFTER_BODY:{rD(this,r);break}}}},{key:"onComment",value:function(r){if(this.skipNextNewLine=!1,this.currentNotInHTML){d5(this,r);return}switch(this.insertionMode){case Je.INITIAL:case Je.BEFORE_HTML:case Je.BEFORE_HEAD:case Je.IN_HEAD:case Je.IN_HEAD_NO_SCRIPT:case Je.AFTER_HEAD:case Je.IN_BODY:case Je.IN_TABLE:case Je.IN_CAPTION:case Je.IN_COLUMN_GROUP:case Je.IN_TABLE_BODY:case Je.IN_ROW:case Je.IN_CELL:case Je.IN_SELECT:case Je.IN_SELECT_IN_TABLE:case Je.IN_TEMPLATE:case Je.IN_FRAMESET:case Je.AFTER_FRAMESET:{d5(this,r);break}case Je.IN_TABLE_TEXT:{qb(this,r);break}case Je.AFTER_BODY:{qAe(this,r);break}case Je.AFTER_AFTER_BODY:case Je.AFTER_AFTER_FRAMESET:{KAe(this,r);break}}}},{key:"onDoctype",value:function(r){switch(this.skipNextNewLine=!1,this.insertionMode){case Je.INITIAL:{ZAe(this,r);break}case Je.BEFORE_HEAD:case Je.IN_HEAD:case Je.IN_HEAD_NO_SCRIPT:case Je.AFTER_HEAD:{this._err(r,Fo.ERR.misplacedDoctype);break}case Je.IN_TABLE_TEXT:{qb(this,r);break}}}},{key:"onStartTag",value:function(r){this.skipNextNewLine=!1,this.currentToken=r,this._processStartTag(r),r.selfClosing&&!r.ackSelfClosing&&this._err(r,Fo.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}},{key:"_processStartTag",value:function(r){this.shouldProcessStartTagTokenInForeignContent(r)?_xe(this,r):this._startTagOutsideForeignContent(r)}},{key:"_startTagOutsideForeignContent",value:function(r){switch(this.insertionMode){case Je.INITIAL:{$b(this,r);break}case Je.BEFORE_HTML:{QAe(this,r);break}case Je.BEFORE_HEAD:{ewe(this,r);break}case Je.IN_HEAD:{sc(this,r);break}case Je.IN_HEAD_NO_SCRIPT:{nwe(this,r);break}case Je.AFTER_HEAD:{awe(this,r);break}case Je.IN_BODY:{os(this,r);break}case Je.IN_TABLE:{h1(this,r);break}case Je.IN_TABLE_TEXT:{qb(this,r);break}case Je.IN_CAPTION:{txe(this,r);break}case Je.IN_COLUMN_GROUP:{g5(this,r);break}case Je.IN_TABLE_BODY:{JI(this,r);break}case Je.IN_ROW:{eD(this,r);break}case Je.IN_CELL:{ixe(this,r);break}case Je.IN_SELECT:{jY(this,r);break}case Je.IN_SELECT_IN_TABLE:{oxe(this,r);break}case Je.IN_TEMPLATE:{lxe(this,r);break}case Je.AFTER_BODY:{cxe(this,r);break}case Je.IN_FRAMESET:{hxe(this,r);break}case Je.AFTER_FRAMESET:{dxe(this,r);break}case Je.AFTER_AFTER_BODY:{mxe(this,r);break}case Je.AFTER_AFTER_FRAMESET:{gxe(this,r);break}}}},{key:"onEndTag",value:function(r){this.skipNextNewLine=!1,this.currentToken=r,this.currentNotInHTML?Exe(this,r):this._endTagOutsideForeignContent(r)}},{key:"_endTagOutsideForeignContent",value:function(r){switch(this.insertionMode){case Je.INITIAL:{$b(this,r);break}case Je.BEFORE_HTML:{JAe(this,r);break}case Je.BEFORE_HEAD:{twe(this,r);break}case Je.IN_HEAD:{rwe(this,r);break}case Je.IN_HEAD_NO_SCRIPT:{iwe(this,r);break}case Je.AFTER_HEAD:{owe(this,r);break}case Je.IN_BODY:{ZI(this,r);break}case Je.TEXT:{Vwe(this,r);break}case Je.IN_TABLE:{Yb(this,r);break}case Je.IN_TABLE_TEXT:{qb(this,r);break}case Je.IN_CAPTION:{rxe(this,r);break}case Je.IN_COLUMN_GROUP:{nxe(this,r);break}case Je.IN_TABLE_BODY:{v5(this,r);break}case Je.IN_ROW:{zY(this,r);break}case Je.IN_CELL:{axe(this,r);break}case Je.IN_SELECT:{VY(this,r);break}case Je.IN_SELECT_IN_TABLE:{sxe(this,r);break}case Je.IN_TEMPLATE:{uxe(this,r);break}case Je.AFTER_BODY:{YY(this,r);break}case Je.IN_FRAMESET:{fxe(this,r);break}case Je.AFTER_FRAMESET:{pxe(this,r);break}case Je.AFTER_AFTER_BODY:{rD(this,r);break}}}},{key:"onEof",value:function(r){switch(this.insertionMode){case Je.INITIAL:{$b(this,r);break}case Je.BEFORE_HTML:{Gb(this,r);break}case Je.BEFORE_HEAD:{zb(this,r);break}case Je.IN_HEAD:{jb(this,r);break}case Je.IN_HEAD_NO_SCRIPT:{Vb(this,r);break}case Je.AFTER_HEAD:{Wb(this,r);break}case Je.IN_BODY:case Je.IN_TABLE:case Je.IN_CAPTION:case Je.IN_COLUMN_GROUP:case Je.IN_TABLE_BODY:case Je.IN_ROW:case Je.IN_CELL:case Je.IN_SELECT:case Je.IN_SELECT_IN_TABLE:{UY(this,r);break}case Je.TEXT:{Wwe(this,r);break}case Je.IN_TABLE_TEXT:{qb(this,r);break}case Je.IN_TEMPLATE:{WY(this,r);break}case Je.AFTER_BODY:case Je.IN_FRAMESET:case Je.AFTER_FRAMESET:case Je.AFTER_AFTER_BODY:case Je.AFTER_AFTER_FRAMESET:{p5(this,r);break}}}},{key:"onWhitespaceCharacter",value:function(r){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,r.chars.charCodeAt(0)===DY.CODE_POINTS.LINE_FEED)){if(r.chars.length===1)return;r.chars=r.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(r);return}switch(this.insertionMode){case Je.IN_HEAD:case Je.IN_HEAD_NO_SCRIPT:case Je.AFTER_HEAD:case Je.TEXT:case Je.IN_COLUMN_GROUP:case Je.IN_SELECT:case Je.IN_SELECT_IN_TABLE:case Je.IN_FRAMESET:case Je.AFTER_FRAMESET:{this._insertCharacters(r);break}case Je.IN_BODY:case Je.IN_CAPTION:case Je.IN_CELL:case Je.IN_TEMPLATE:case Je.AFTER_BODY:case Je.AFTER_AFTER_BODY:case Je.AFTER_AFTER_FRAMESET:{PY(this,r);break}case Je.IN_TABLE:case Je.IN_TABLE_BODY:case Je.IN_ROW:{m5(this,r);break}case Je.IN_TABLE_TEXT:{HY(this,r);break}}}}],[{key:"parse",value:function(r,i){const n=new this(i);return n.tokenizer.write(r,!0),n.document}},{key:"getFragmentParser",value:function(r,i){const n=Object.assign(Object.assign({},kY),i);r??(r=n.treeAdapter.createElement(te.TAG_NAMES.TEMPLATE,te.NS.HTML,[]));const s=n.treeAdapter.createElement("documentmock",te.NS.HTML,[]),c=new this(n,s,r);return c.fragmentContextID===te.TAG_ID.TEMPLATE&&c.tmplInsertionModeStack.unshift(Je.IN_TEMPLATE),c._initTokenizerForFragmentParsing(),c._insertFakeRootElement(),c._resetInsertionMode(),c._findFormInFragmentContext(),c}}]),e})();Bb.Parser=GAe;function zAe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):FY(e,t),r}function jAe(e,t){let r=null,i=e.openElements.stackTop;for(;i>=0;i--){const n=e.openElements.items[i];if(n===t.element)break;e._isSpecialElement(n,e.openElements.tagIDs[i])&&(r=n)}return r||(e.openElements.shortenToLength(i<0?0:i),e.activeFormattingElements.removeEntry(t)),r}function VAe(e,t,r){let i=t,n=e.openElements.getCommonAncestor(t);for(let s=0,c=n;c!==r;s++,c=n){n=e.openElements.getCommonAncestor(c);const h=e.activeFormattingElements.getElementEntry(c),p=h&&s>=HAe;!h||p?(p&&e.activeFormattingElements.removeEntry(h),e.openElements.remove(c)):(c=WAe(e,h),i===t&&(e.activeFormattingElements.bookmark=h),e.treeAdapter.detachNode(i),e.treeAdapter.appendChild(c,i),i=c)}return i}function WAe(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),i=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,i),t.element=i,i}function YAe(e,t,r){const i=e.treeAdapter.getTagName(t),n=(0,te.getTagID)(i);if(e._isElementCausesFosterParenting(n))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);n===te.TAG_ID.TEMPLATE&&s===te.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function XAe(e,t,r){const i=e.treeAdapter.getNamespaceURI(r.element),{token:n}=r,s=e.treeAdapter.createElement(n.tagName,i,n.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,n),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,n.tagID)}function f5(e,t){for(let r=0;r<UAe;r++){const i=zAe(e,t);if(!i)break;const n=jAe(e,i);if(!n)break;e.activeFormattingElements.bookmark=i;const s=VAe(e,n,i.element),c=e.openElements.getCommonAncestor(i.element);e.treeAdapter.detachNode(s),c&&YAe(e,c,s),XAe(e,n,i)}}function d5(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function qAe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function KAe(e,t){e._appendCommentNode(t,e.document)}function p5(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let i=e.openElements.stackTop;i>=r;i--)e._setEndLocation(e.openElements.items[i],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const i=e.openElements.items[0],n=e.treeAdapter.getNodeSourceCodeLocation(i);if(n&&!n.endTag&&(e._setEndLocation(i,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],c=e.treeAdapter.getNodeSourceCodeLocation(s);c&&!c.endTag&&e._setEndLocation(s,t)}}}}function ZAe(e,t){e._setDocumentType(t);const r=t.forceQuirks?te.DOCUMENT_MODE.QUIRKS:IY.getDocumentMode(t);IY.isConforming(t)||e._err(t,Fo.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=Je.BEFORE_HTML}function $b(e,t){e._err(t,Fo.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,te.DOCUMENT_MODE.QUIRKS),e.insertionMode=Je.BEFORE_HTML,e._processToken(t)}function QAe(e,t){t.tagID===te.TAG_ID.HTML?(e._insertElement(t,te.NS.HTML),e.insertionMode=Je.BEFORE_HEAD):Gb(e,t)}function JAe(e,t){const r=t.tagID;(r===te.TAG_ID.HTML||r===te.TAG_ID.HEAD||r===te.TAG_ID.BODY||r===te.TAG_ID.BR)&&Gb(e,t)}function Gb(e,t){e._insertFakeRootElement(),e.insertionMode=Je.BEFORE_HEAD,e._processToken(t)}function ewe(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.HEAD:{e._insertElement(t,te.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=Je.IN_HEAD;break}default:zb(e,t)}}function twe(e,t){const r=t.tagID;r===te.TAG_ID.HEAD||r===te.TAG_ID.BODY||r===te.TAG_ID.HTML||r===te.TAG_ID.BR?zb(e,t):e._err(t,Fo.ERR.endTagWithoutMatchingOpenElement)}function zb(e,t){e._insertFakeElement(te.TAG_NAMES.HEAD,te.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=Je.IN_HEAD,e._processToken(t)}function sc(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.BASE:case te.TAG_ID.BASEFONT:case te.TAG_ID.BGSOUND:case te.TAG_ID.LINK:case te.TAG_ID.META:{e._appendElement(t,te.NS.HTML),t.ackSelfClosing=!0;break}case te.TAG_ID.TITLE:{e._switchToTextParsing(t,xs.TokenizerMode.RCDATA);break}case te.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,xs.TokenizerMode.RAWTEXT):(e._insertElement(t,te.NS.HTML),e.insertionMode=Je.IN_HEAD_NO_SCRIPT);break}case te.TAG_ID.NOFRAMES:case te.TAG_ID.STYLE:{e._switchToTextParsing(t,xs.TokenizerMode.RAWTEXT);break}case te.TAG_ID.SCRIPT:{e._switchToTextParsing(t,xs.TokenizerMode.SCRIPT_DATA);break}case te.TAG_ID.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Je.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Je.IN_TEMPLATE);break}case te.TAG_ID.HEAD:{e._err(t,Fo.ERR.misplacedStartTagForHeadElement);break}default:jb(e,t)}}function rwe(e,t){switch(t.tagID){case te.TAG_ID.HEAD:{e.openElements.pop(),e.insertionMode=Je.AFTER_HEAD;break}case te.TAG_ID.BODY:case te.TAG_ID.BR:case te.TAG_ID.HTML:{jb(e,t);break}case te.TAG_ID.TEMPLATE:{Og(e,t);break}default:e._err(t,Fo.ERR.endTagWithoutMatchingOpenElement)}}function Og(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==te.TAG_ID.TEMPLATE&&e._err(t,Fo.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(te.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Fo.ERR.endTagWithoutMatchingOpenElement)}function jb(e,t){e.openElements.pop(),e.insertionMode=Je.AFTER_HEAD,e._processToken(t)}function nwe(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.BASEFONT:case te.TAG_ID.BGSOUND:case te.TAG_ID.HEAD:case te.TAG_ID.LINK:case te.TAG_ID.META:case te.TAG_ID.NOFRAMES:case te.TAG_ID.STYLE:{sc(e,t);break}case te.TAG_ID.NOSCRIPT:{e._err(t,Fo.ERR.nestedNoscriptInHead);break}default:Vb(e,t)}}function iwe(e,t){switch(t.tagID){case te.TAG_ID.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Je.IN_HEAD;break}case te.TAG_ID.BR:{Vb(e,t);break}default:e._err(t,Fo.ERR.endTagWithoutMatchingOpenElement)}}function Vb(e,t){const r=t.type===oo.TokenType.EOF?Fo.ERR.openElementsLeftAfterEof:Fo.ERR.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=Je.IN_HEAD,e._processToken(t)}function awe(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.BODY:{e._insertElement(t,te.NS.HTML),e.framesetOk=!1,e.insertionMode=Je.IN_BODY;break}case te.TAG_ID.FRAMESET:{e._insertElement(t,te.NS.HTML),e.insertionMode=Je.IN_FRAMESET;break}case te.TAG_ID.BASE:case te.TAG_ID.BASEFONT:case te.TAG_ID.BGSOUND:case te.TAG_ID.LINK:case te.TAG_ID.META:case te.TAG_ID.NOFRAMES:case te.TAG_ID.SCRIPT:case te.TAG_ID.STYLE:case te.TAG_ID.TEMPLATE:case te.TAG_ID.TITLE:{e._err(t,Fo.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,te.TAG_ID.HEAD),sc(e,t),e.openElements.remove(e.headElement);break}case te.TAG_ID.HEAD:{e._err(t,Fo.ERR.misplacedStartTagForHeadElement);break}default:Wb(e,t)}}function owe(e,t){switch(t.tagID){case te.TAG_ID.BODY:case te.TAG_ID.HTML:case te.TAG_ID.BR:{Wb(e,t);break}case te.TAG_ID.TEMPLATE:{Og(e,t);break}default:e._err(t,Fo.ERR.endTagWithoutMatchingOpenElement)}}function Wb(e,t){e._insertFakeElement(te.TAG_NAMES.BODY,te.TAG_ID.BODY),e.insertionMode=Je.IN_BODY,KI(e,t)}function KI(e,t){switch(t.type){case oo.TokenType.CHARACTER:{RY(e,t);break}case oo.TokenType.WHITESPACE_CHARACTER:{PY(e,t);break}case oo.TokenType.COMMENT:{d5(e,t);break}case oo.TokenType.START_TAG:{os(e,t);break}case oo.TokenType.END_TAG:{ZI(e,t);break}case oo.TokenType.EOF:{UY(e,t);break}}}function PY(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function RY(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function swe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function lwe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function uwe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,te.NS.HTML),e.insertionMode=Je.IN_FRAMESET)}function cwe(e,t){e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),e._insertElement(t,te.NS.HTML)}function hwe(e,t){e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),(0,te.isNumberedHeader)(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,te.NS.HTML)}function fwe(e,t){e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),e._insertElement(t,te.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function dwe(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),e._insertElement(t,te.NS.HTML),r||(e.formElement=e.openElements.current))}function pwe(e,t){e.framesetOk=!1;const r=t.tagID;for(let i=e.openElements.stackTop;i>=0;i--){const n=e.openElements.tagIDs[i];if(r===te.TAG_ID.LI&&n===te.TAG_ID.LI||(r===te.TAG_ID.DD||r===te.TAG_ID.DT)&&(n===te.TAG_ID.DD||n===te.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n);break}if(n!==te.TAG_ID.ADDRESS&&n!==te.TAG_ID.DIV&&n!==te.TAG_ID.P&&e._isSpecialElement(e.openElements.items[i],n))break}e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),e._insertElement(t,te.NS.HTML)}function mwe(e,t){e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),e._insertElement(t,te.NS.HTML),e.tokenizer.state=xs.TokenizerMode.PLAINTEXT}function gwe(e,t){e.openElements.hasInScope(te.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(te.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,te.NS.HTML),e.framesetOk=!1}function vwe(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(te.TAG_NAMES.A);r&&(f5(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,te.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ywe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,te.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function _we(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(te.TAG_ID.NOBR)&&(f5(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,te.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ewe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,te.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Twe(e,t){e.treeAdapter.getDocumentMode(e.document)!==te.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),e._insertElement(t,te.NS.HTML),e.framesetOk=!1,e.insertionMode=Je.IN_TABLE}function NY(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,te.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function MY(e){const t=(0,oo.getTokenAttr)(e,te.ATTRS.TYPE);return t!=null&&t.toLowerCase()===FAe}function bwe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,te.NS.HTML),MY(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Swe(e,t){e._appendElement(t,te.NS.HTML),t.ackSelfClosing=!0}function Cwe(e,t){e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),e._appendElement(t,te.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Awe(e,t){t.tagName=te.TAG_NAMES.IMG,t.tagID=te.TAG_ID.IMG,NY(e,t)}function wwe(e,t){e._insertElement(t,te.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=xs.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Je.TEXT}function xwe(e,t){e.openElements.hasInButtonScope(te.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,xs.TokenizerMode.RAWTEXT)}function Iwe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,xs.TokenizerMode.RAWTEXT)}function LY(e,t){e._switchToTextParsing(t,xs.TokenizerMode.RAWTEXT)}function Dwe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,te.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Je.IN_TABLE||e.insertionMode===Je.IN_CAPTION||e.insertionMode===Je.IN_TABLE_BODY||e.insertionMode===Je.IN_ROW||e.insertionMode===Je.IN_CELL?Je.IN_SELECT_IN_TABLE:Je.IN_SELECT}function Owe(e,t){e.openElements.currentTagId===te.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,te.NS.HTML)}function kwe(e,t){e.openElements.hasInScope(te.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,te.NS.HTML)}function Pwe(e,t){e.openElements.hasInScope(te.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(te.TAG_ID.RTC),e._insertElement(t,te.NS.HTML)}function Rwe(e,t){e._reconstructActiveFormattingElements(),Th.adjustTokenMathMLAttrs(t),Th.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,te.NS.MATHML):e._insertElement(t,te.NS.MATHML),t.ackSelfClosing=!0}function Nwe(e,t){e._reconstructActiveFormattingElements(),Th.adjustTokenSVGAttrs(t),Th.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,te.NS.SVG):e._insertElement(t,te.NS.SVG),t.ackSelfClosing=!0}function BY(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,te.NS.HTML)}function os(e,t){switch(t.tagID){case te.TAG_ID.I:case te.TAG_ID.S:case te.TAG_ID.B:case te.TAG_ID.U:case te.TAG_ID.EM:case te.TAG_ID.TT:case te.TAG_ID.BIG:case te.TAG_ID.CODE:case te.TAG_ID.FONT:case te.TAG_ID.SMALL:case te.TAG_ID.STRIKE:case te.TAG_ID.STRONG:{ywe(e,t);break}case te.TAG_ID.A:{vwe(e,t);break}case te.TAG_ID.H1:case te.TAG_ID.H2:case te.TAG_ID.H3:case te.TAG_ID.H4:case te.TAG_ID.H5:case te.TAG_ID.H6:{hwe(e,t);break}case te.TAG_ID.P:case te.TAG_ID.DL:case te.TAG_ID.OL:case te.TAG_ID.UL:case te.TAG_ID.DIV:case te.TAG_ID.DIR:case te.TAG_ID.NAV:case te.TAG_ID.MAIN:case te.TAG_ID.MENU:case te.TAG_ID.ASIDE:case te.TAG_ID.CENTER:case te.TAG_ID.FIGURE:case te.TAG_ID.FOOTER:case te.TAG_ID.HEADER:case te.TAG_ID.HGROUP:case te.TAG_ID.DIALOG:case te.TAG_ID.DETAILS:case te.TAG_ID.ADDRESS:case te.TAG_ID.ARTICLE:case te.TAG_ID.SECTION:case te.TAG_ID.SUMMARY:case te.TAG_ID.FIELDSET:case te.TAG_ID.BLOCKQUOTE:case te.TAG_ID.FIGCAPTION:{cwe(e,t);break}case te.TAG_ID.LI:case te.TAG_ID.DD:case te.TAG_ID.DT:{pwe(e,t);break}case te.TAG_ID.BR:case te.TAG_ID.IMG:case te.TAG_ID.WBR:case te.TAG_ID.AREA:case te.TAG_ID.EMBED:case te.TAG_ID.KEYGEN:{NY(e,t);break}case te.TAG_ID.HR:{Cwe(e,t);break}case te.TAG_ID.RB:case te.TAG_ID.RTC:{kwe(e,t);break}case te.TAG_ID.RT:case te.TAG_ID.RP:{Pwe(e,t);break}case te.TAG_ID.PRE:case te.TAG_ID.LISTING:{fwe(e,t);break}case te.TAG_ID.XMP:{xwe(e,t);break}case te.TAG_ID.SVG:{Nwe(e,t);break}case te.TAG_ID.HTML:{swe(e,t);break}case te.TAG_ID.BASE:case te.TAG_ID.LINK:case te.TAG_ID.META:case te.TAG_ID.STYLE:case te.TAG_ID.TITLE:case te.TAG_ID.SCRIPT:case te.TAG_ID.BGSOUND:case te.TAG_ID.BASEFONT:case te.TAG_ID.TEMPLATE:{sc(e,t);break}case te.TAG_ID.BODY:{lwe(e,t);break}case te.TAG_ID.FORM:{dwe(e,t);break}case te.TAG_ID.NOBR:{_we(e,t);break}case te.TAG_ID.MATH:{Rwe(e,t);break}case te.TAG_ID.TABLE:{Twe(e,t);break}case te.TAG_ID.INPUT:{bwe(e,t);break}case te.TAG_ID.PARAM:case te.TAG_ID.TRACK:case te.TAG_ID.SOURCE:{Swe(e,t);break}case te.TAG_ID.IMAGE:{Awe(e,t);break}case te.TAG_ID.BUTTON:{gwe(e,t);break}case te.TAG_ID.APPLET:case te.TAG_ID.OBJECT:case te.TAG_ID.MARQUEE:{Ewe(e,t);break}case te.TAG_ID.IFRAME:{Iwe(e,t);break}case te.TAG_ID.SELECT:{Dwe(e,t);break}case te.TAG_ID.OPTION:case te.TAG_ID.OPTGROUP:{Owe(e,t);break}case te.TAG_ID.NOEMBED:{LY(e,t);break}case te.TAG_ID.FRAMESET:{uwe(e,t);break}case te.TAG_ID.TEXTAREA:{wwe(e,t);break}case te.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?LY(e,t):BY(e,t);break}case te.TAG_ID.PLAINTEXT:{mwe(e,t);break}case te.TAG_ID.COL:case te.TAG_ID.TH:case te.TAG_ID.TD:case te.TAG_ID.TR:case te.TAG_ID.HEAD:case te.TAG_ID.FRAME:case te.TAG_ID.TBODY:case te.TAG_ID.TFOOT:case te.TAG_ID.THEAD:case te.TAG_ID.CAPTION:case te.TAG_ID.COLGROUP:break;default:BY(e,t)}}function Mwe(e,t){if(e.openElements.hasInScope(te.TAG_ID.BODY)&&(e.insertionMode=Je.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function Lwe(e,t){e.openElements.hasInScope(te.TAG_ID.BODY)&&(e.insertionMode=Je.AFTER_BODY,YY(e,t))}function Bwe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function Fwe(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(te.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(te.TAG_ID.FORM):r&&e.openElements.remove(r))}function Uwe(e){e.openElements.hasInButtonScope(te.TAG_ID.P)||e._insertFakeElement(te.TAG_NAMES.P,te.TAG_ID.P),e._closePElement()}function Hwe(e){e.openElements.hasInListItemScope(te.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(te.TAG_ID.LI),e.openElements.popUntilTagNamePopped(te.TAG_ID.LI))}function $we(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function Gwe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function zwe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function jwe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(te.TAG_NAMES.BR,te.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}function FY(e,t){const r=t.tagName,i=t.tagID;for(let n=e.openElements.stackTop;n>0;n--){const s=e.openElements.items[n],c=e.openElements.tagIDs[n];if(i===c&&(i!==te.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.stackTop>=n&&e.openElements.shortenToLength(n);break}if(e._isSpecialElement(s,c))break}}function ZI(e,t){switch(t.tagID){case te.TAG_ID.A:case te.TAG_ID.B:case te.TAG_ID.I:case te.TAG_ID.S:case te.TAG_ID.U:case te.TAG_ID.EM:case te.TAG_ID.TT:case te.TAG_ID.BIG:case te.TAG_ID.CODE:case te.TAG_ID.FONT:case te.TAG_ID.NOBR:case te.TAG_ID.SMALL:case te.TAG_ID.STRIKE:case te.TAG_ID.STRONG:{f5(e,t);break}case te.TAG_ID.P:{Uwe(e);break}case te.TAG_ID.DL:case te.TAG_ID.UL:case te.TAG_ID.OL:case te.TAG_ID.DIR:case te.TAG_ID.DIV:case te.TAG_ID.NAV:case te.TAG_ID.PRE:case te.TAG_ID.MAIN:case te.TAG_ID.MENU:case te.TAG_ID.ASIDE:case te.TAG_ID.BUTTON:case te.TAG_ID.CENTER:case te.TAG_ID.FIGURE:case te.TAG_ID.FOOTER:case te.TAG_ID.HEADER:case te.TAG_ID.HGROUP:case te.TAG_ID.DIALOG:case te.TAG_ID.ADDRESS:case te.TAG_ID.ARTICLE:case te.TAG_ID.DETAILS:case te.TAG_ID.SECTION:case te.TAG_ID.SUMMARY:case te.TAG_ID.LISTING:case te.TAG_ID.FIELDSET:case te.TAG_ID.BLOCKQUOTE:case te.TAG_ID.FIGCAPTION:{Bwe(e,t);break}case te.TAG_ID.LI:{Hwe(e);break}case te.TAG_ID.DD:case te.TAG_ID.DT:{$we(e,t);break}case te.TAG_ID.H1:case te.TAG_ID.H2:case te.TAG_ID.H3:case te.TAG_ID.H4:case te.TAG_ID.H5:case te.TAG_ID.H6:{Gwe(e);break}case te.TAG_ID.BR:{jwe(e);break}case te.TAG_ID.BODY:{Mwe(e,t);break}case te.TAG_ID.HTML:{Lwe(e,t);break}case te.TAG_ID.FORM:{Fwe(e);break}case te.TAG_ID.APPLET:case te.TAG_ID.OBJECT:case te.TAG_ID.MARQUEE:{zwe(e,t);break}case te.TAG_ID.TEMPLATE:{Og(e,t);break}default:FY(e,t)}}function UY(e,t){e.tmplInsertionModeStack.length>0?WY(e,t):p5(e,t)}function Vwe(e,t){var r;t.tagID===te.TAG_ID.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Wwe(e,t){e._err(t,Fo.ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function m5(e,t){if(OY.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Je.IN_TABLE_TEXT,t.type){case oo.TokenType.CHARACTER:{$Y(e,t);break}case oo.TokenType.WHITESPACE_CHARACTER:{HY(e,t);break}}else Xb(e,t)}function Ywe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,te.NS.HTML),e.insertionMode=Je.IN_CAPTION}function Xwe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,te.NS.HTML),e.insertionMode=Je.IN_COLUMN_GROUP}function qwe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(te.TAG_NAMES.COLGROUP,te.TAG_ID.COLGROUP),e.insertionMode=Je.IN_COLUMN_GROUP,g5(e,t)}function Kwe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,te.NS.HTML),e.insertionMode=Je.IN_TABLE_BODY}function Zwe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(te.TAG_NAMES.TBODY,te.TAG_ID.TBODY),e.insertionMode=Je.IN_TABLE_BODY,JI(e,t)}function Qwe(e,t){e.openElements.hasInTableScope(te.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(te.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Jwe(e,t){MY(t)?e._appendElement(t,te.NS.HTML):Xb(e,t),t.ackSelfClosing=!0}function exe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,te.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function h1(e,t){switch(t.tagID){case te.TAG_ID.TD:case te.TAG_ID.TH:case te.TAG_ID.TR:{Zwe(e,t);break}case te.TAG_ID.STYLE:case te.TAG_ID.SCRIPT:case te.TAG_ID.TEMPLATE:{sc(e,t);break}case te.TAG_ID.COL:{qwe(e,t);break}case te.TAG_ID.FORM:{exe(e,t);break}case te.TAG_ID.TABLE:{Qwe(e,t);break}case te.TAG_ID.TBODY:case te.TAG_ID.TFOOT:case te.TAG_ID.THEAD:{Kwe(e,t);break}case te.TAG_ID.INPUT:{Jwe(e,t);break}case te.TAG_ID.CAPTION:{Ywe(e,t);break}case te.TAG_ID.COLGROUP:{Xwe(e,t);break}default:Xb(e,t)}}function Yb(e,t){switch(t.tagID){case te.TAG_ID.TABLE:{e.openElements.hasInTableScope(te.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(te.TAG_ID.TABLE),e._resetInsertionMode());break}case te.TAG_ID.TEMPLATE:{Og(e,t);break}case te.TAG_ID.BODY:case te.TAG_ID.CAPTION:case te.TAG_ID.COL:case te.TAG_ID.COLGROUP:case te.TAG_ID.HTML:case te.TAG_ID.TBODY:case te.TAG_ID.TD:case te.TAG_ID.TFOOT:case te.TAG_ID.TH:case te.TAG_ID.THEAD:case te.TAG_ID.TR:break;default:Xb(e,t)}}function Xb(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,KI(e,t),e.fosterParentingEnabled=r}function HY(e,t){e.pendingCharacterTokens.push(t)}function $Y(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function qb(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)Xb(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const GY=new Set([te.TAG_ID.CAPTION,te.TAG_ID.COL,te.TAG_ID.COLGROUP,te.TAG_ID.TBODY,te.TAG_ID.TD,te.TAG_ID.TFOOT,te.TAG_ID.TH,te.TAG_ID.THEAD,te.TAG_ID.TR]);function txe(e,t){const r=t.tagID;GY.has(r)?e.openElements.hasInTableScope(te.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(te.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Je.IN_TABLE,h1(e,t)):os(e,t)}function rxe(e,t){const r=t.tagID;switch(r){case te.TAG_ID.CAPTION:case te.TAG_ID.TABLE:{e.openElements.hasInTableScope(te.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(te.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Je.IN_TABLE,r===te.TAG_ID.TABLE&&Yb(e,t));break}case te.TAG_ID.BODY:case te.TAG_ID.COL:case te.TAG_ID.COLGROUP:case te.TAG_ID.HTML:case te.TAG_ID.TBODY:case te.TAG_ID.TD:case te.TAG_ID.TFOOT:case te.TAG_ID.TH:case te.TAG_ID.THEAD:case te.TAG_ID.TR:break;default:ZI(e,t)}}function g5(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.COL:{e._appendElement(t,te.NS.HTML),t.ackSelfClosing=!0;break}case te.TAG_ID.TEMPLATE:{sc(e,t);break}default:QI(e,t)}}function nxe(e,t){switch(t.tagID){case te.TAG_ID.COLGROUP:{e.openElements.currentTagId===te.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=Je.IN_TABLE);break}case te.TAG_ID.TEMPLATE:{Og(e,t);break}case te.TAG_ID.COL:break;default:QI(e,t)}}function QI(e,t){e.openElements.currentTagId===te.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=Je.IN_TABLE,e._processToken(t))}function JI(e,t){switch(t.tagID){case te.TAG_ID.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,te.NS.HTML),e.insertionMode=Je.IN_ROW;break}case te.TAG_ID.TH:case te.TAG_ID.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(te.TAG_NAMES.TR,te.TAG_ID.TR),e.insertionMode=Je.IN_ROW,eD(e,t);break}case te.TAG_ID.CAPTION:case te.TAG_ID.COL:case te.TAG_ID.COLGROUP:case te.TAG_ID.TBODY:case te.TAG_ID.TFOOT:case te.TAG_ID.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Je.IN_TABLE,h1(e,t));break}default:h1(e,t)}}function v5(e,t){const r=t.tagID;switch(t.tagID){case te.TAG_ID.TBODY:case te.TAG_ID.TFOOT:case te.TAG_ID.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Je.IN_TABLE);break}case te.TAG_ID.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Je.IN_TABLE,Yb(e,t));break}case te.TAG_ID.BODY:case te.TAG_ID.CAPTION:case te.TAG_ID.COL:case te.TAG_ID.COLGROUP:case te.TAG_ID.HTML:case te.TAG_ID.TD:case te.TAG_ID.TH:case te.TAG_ID.TR:break;default:Yb(e,t)}}function eD(e,t){switch(t.tagID){case te.TAG_ID.TH:case te.TAG_ID.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,te.NS.HTML),e.insertionMode=Je.IN_CELL,e.activeFormattingElements.insertMarker();break}case te.TAG_ID.CAPTION:case te.TAG_ID.COL:case te.TAG_ID.COLGROUP:case te.TAG_ID.TBODY:case te.TAG_ID.TFOOT:case te.TAG_ID.THEAD:case te.TAG_ID.TR:{e.openElements.hasInTableScope(te.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Je.IN_TABLE_BODY,JI(e,t));break}default:h1(e,t)}}function zY(e,t){switch(t.tagID){case te.TAG_ID.TR:{e.openElements.hasInTableScope(te.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Je.IN_TABLE_BODY);break}case te.TAG_ID.TABLE:{e.openElements.hasInTableScope(te.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Je.IN_TABLE_BODY,v5(e,t));break}case te.TAG_ID.TBODY:case te.TAG_ID.TFOOT:case te.TAG_ID.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(te.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Je.IN_TABLE_BODY,v5(e,t));break}case te.TAG_ID.BODY:case te.TAG_ID.CAPTION:case te.TAG_ID.COL:case te.TAG_ID.COLGROUP:case te.TAG_ID.HTML:case te.TAG_ID.TD:case te.TAG_ID.TH:break;default:Yb(e,t)}}function ixe(e,t){const r=t.tagID;GY.has(r)?(e.openElements.hasInTableScope(te.TAG_ID.TD)||e.openElements.hasInTableScope(te.TAG_ID.TH))&&(e._closeTableCell(),eD(e,t)):os(e,t)}function axe(e,t){const r=t.tagID;switch(r){case te.TAG_ID.TD:case te.TAG_ID.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Je.IN_ROW);break}case te.TAG_ID.TABLE:case te.TAG_ID.TBODY:case te.TAG_ID.TFOOT:case te.TAG_ID.THEAD:case te.TAG_ID.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),zY(e,t));break}case te.TAG_ID.BODY:case te.TAG_ID.CAPTION:case te.TAG_ID.COL:case te.TAG_ID.COLGROUP:case te.TAG_ID.HTML:break;default:ZI(e,t)}}function jY(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.OPTION:{e.openElements.currentTagId===te.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,te.NS.HTML);break}case te.TAG_ID.OPTGROUP:{e.openElements.currentTagId===te.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===te.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,te.NS.HTML);break}case te.TAG_ID.INPUT:case te.TAG_ID.KEYGEN:case te.TAG_ID.TEXTAREA:case te.TAG_ID.SELECT:{e.openElements.hasInSelectScope(te.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(te.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==te.TAG_ID.SELECT&&e._processStartTag(t));break}case te.TAG_ID.SCRIPT:case te.TAG_ID.TEMPLATE:{sc(e,t);break}}}function VY(e,t){switch(t.tagID){case te.TAG_ID.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===te.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===te.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===te.TAG_ID.OPTGROUP&&e.openElements.pop();break}case te.TAG_ID.OPTION:{e.openElements.currentTagId===te.TAG_ID.OPTION&&e.openElements.pop();break}case te.TAG_ID.SELECT:{e.openElements.hasInSelectScope(te.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(te.TAG_ID.SELECT),e._resetInsertionMode());break}case te.TAG_ID.TEMPLATE:{Og(e,t);break}}}function oxe(e,t){const r=t.tagID;r===te.TAG_ID.CAPTION||r===te.TAG_ID.TABLE||r===te.TAG_ID.TBODY||r===te.TAG_ID.TFOOT||r===te.TAG_ID.THEAD||r===te.TAG_ID.TR||r===te.TAG_ID.TD||r===te.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(te.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):jY(e,t)}function sxe(e,t){const r=t.tagID;r===te.TAG_ID.CAPTION||r===te.TAG_ID.TABLE||r===te.TAG_ID.TBODY||r===te.TAG_ID.TFOOT||r===te.TAG_ID.THEAD||r===te.TAG_ID.TR||r===te.TAG_ID.TD||r===te.TAG_ID.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(te.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):VY(e,t)}function lxe(e,t){switch(t.tagID){case te.TAG_ID.BASE:case te.TAG_ID.BASEFONT:case te.TAG_ID.BGSOUND:case te.TAG_ID.LINK:case te.TAG_ID.META:case te.TAG_ID.NOFRAMES:case te.TAG_ID.SCRIPT:case te.TAG_ID.STYLE:case te.TAG_ID.TEMPLATE:case te.TAG_ID.TITLE:{sc(e,t);break}case te.TAG_ID.CAPTION:case te.TAG_ID.COLGROUP:case te.TAG_ID.TBODY:case te.TAG_ID.TFOOT:case te.TAG_ID.THEAD:{e.tmplInsertionModeStack[0]=Je.IN_TABLE,e.insertionMode=Je.IN_TABLE,h1(e,t);break}case te.TAG_ID.COL:{e.tmplInsertionModeStack[0]=Je.IN_COLUMN_GROUP,e.insertionMode=Je.IN_COLUMN_GROUP,g5(e,t);break}case te.TAG_ID.TR:{e.tmplInsertionModeStack[0]=Je.IN_TABLE_BODY,e.insertionMode=Je.IN_TABLE_BODY,JI(e,t);break}case te.TAG_ID.TD:case te.TAG_ID.TH:{e.tmplInsertionModeStack[0]=Je.IN_ROW,e.insertionMode=Je.IN_ROW,eD(e,t);break}default:e.tmplInsertionModeStack[0]=Je.IN_BODY,e.insertionMode=Je.IN_BODY,os(e,t)}}function uxe(e,t){t.tagID===te.TAG_ID.TEMPLATE&&Og(e,t)}function WY(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(te.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):p5(e,t)}function cxe(e,t){t.tagID===te.TAG_ID.HTML?os(e,t):tD(e,t)}function YY(e,t){var r;if(t.tagID===te.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=Je.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===te.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const i=e.openElements.items[1];i&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(i))===null||r===void 0)&&r.endTag)&&e._setEndLocation(i,t)}}else tD(e,t)}function tD(e,t){e.insertionMode=Je.IN_BODY,KI(e,t)}function hxe(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.FRAMESET:{e._insertElement(t,te.NS.HTML);break}case te.TAG_ID.FRAME:{e._appendElement(t,te.NS.HTML),t.ackSelfClosing=!0;break}case te.TAG_ID.NOFRAMES:{sc(e,t);break}}}function fxe(e,t){t.tagID===te.TAG_ID.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==te.TAG_ID.FRAMESET&&(e.insertionMode=Je.AFTER_FRAMESET))}function dxe(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.NOFRAMES:{sc(e,t);break}}}function pxe(e,t){t.tagID===te.TAG_ID.HTML&&(e.insertionMode=Je.AFTER_AFTER_FRAMESET)}function mxe(e,t){t.tagID===te.TAG_ID.HTML?os(e,t):rD(e,t)}function rD(e,t){e.insertionMode=Je.IN_BODY,KI(e,t)}function gxe(e,t){switch(t.tagID){case te.TAG_ID.HTML:{os(e,t);break}case te.TAG_ID.NOFRAMES:{sc(e,t);break}}}function vxe(e,t){t.chars=DY.REPLACEMENT_CHARACTER,e._insertCharacters(t)}function yxe(e,t){e._insertCharacters(t),e.framesetOk=!1}function XY(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==te.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function _xe(e,t){if(Th.causesExit(t))XY(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),i=e.treeAdapter.getNamespaceURI(r);i===te.NS.MATHML?Th.adjustTokenMathMLAttrs(t):i===te.NS.SVG&&(Th.adjustTokenSVGTagName(t),Th.adjustTokenSVGAttrs(t)),Th.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,i):e._insertElement(t,i),t.ackSelfClosing=!0}}function Exe(e,t){if(t.tagID===te.TAG_ID.P||t.tagID===te.TAG_ID.BR){XY(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const i=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(i)===te.NS.HTML){e._endTagOutsideForeignContent(t);break}const n=e.treeAdapter.getTagName(i);if(n.toLowerCase()===t.tagName){t.tagName=n,e.openElements.shortenToLength(r);break}}}var f1={};Object.defineProperty(f1,"__esModule",{value:!0}),f1.serializeOuter=f1.serialize=void 0;const Pi=Rf,qY=Yy,Txe=qI,bxe=new Set([Pi.TAG_NAMES.AREA,Pi.TAG_NAMES.BASE,Pi.TAG_NAMES.BASEFONT,Pi.TAG_NAMES.BGSOUND,Pi.TAG_NAMES.BR,Pi.TAG_NAMES.COL,Pi.TAG_NAMES.EMBED,Pi.TAG_NAMES.FRAME,Pi.TAG_NAMES.HR,Pi.TAG_NAMES.IMG,Pi.TAG_NAMES.INPUT,Pi.TAG_NAMES.KEYGEN,Pi.TAG_NAMES.LINK,Pi.TAG_NAMES.META,Pi.TAG_NAMES.PARAM,Pi.TAG_NAMES.SOURCE,Pi.TAG_NAMES.TRACK,Pi.TAG_NAMES.WBR]);function KY(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Pi.NS.HTML&&bxe.has(t.treeAdapter.getTagName(e))}const ZY={treeAdapter:Txe.defaultTreeAdapter,scriptingEnabled:!0};function Sxe(e,t){const r=Object.assign(Object.assign({},ZY),t);return KY(e,r)?"":QY(e,r)}f1.serialize=Sxe;function Cxe(e,t){const r=Object.assign(Object.assign({},ZY),t);return JY(e,r)}f1.serializeOuter=Cxe;function QY(e,t){let r="";const i=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===Pi.TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Pi.NS.HTML?t.treeAdapter.getTemplateContent(e):e,n=t.treeAdapter.getChildNodes(i);if(n)for(const s of n)r+=JY(s,t);return r}function JY(e,t){return t.treeAdapter.isElementNode(e)?Axe(e,t):t.treeAdapter.isTextNode(e)?xxe(e,t):t.treeAdapter.isCommentNode(e)?Ixe(e,t):t.treeAdapter.isDocumentTypeNode(e)?Dxe(e,t):""}function Axe(e,t){const r=t.treeAdapter.getTagName(e);return`<${r}${wxe(e,t)}>${KY(e,t)?"":`${QY(e,t)}</${r}>`}`}function wxe(e,{treeAdapter:t}){let r="";for(const i of t.getAttrList(e)){if(r+=" ",!i.namespace)r+=i.name;else switch(i.namespace){case Pi.NS.XML:{r+=`xml:${i.name}`;break}case Pi.NS.XMLNS:{i.name!=="xmlns"&&(r+="xmlns:"),r+=i.name;break}case Pi.NS.XLINK:{r+=`xlink:${i.name}`;break}default:r+=`${i.prefix}:${i.name}`}r+=`="${(0,qY.escapeAttribute)(i.value)}"`}return r}function xxe(e,t){const{treeAdapter:r}=t,i=r.getTextNodeContent(e),n=r.getParentNode(e),s=n&&r.isElementNode(n)&&r.getTagName(n);return s&&r.getNamespaceURI(n)===Pi.NS.HTML&&(0,Pi.hasUnescapedText)(s,t.scriptingEnabled)?i:(0,qY.escapeText)(i)}function Ixe(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function Dxe(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseFragment=e.parse=e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0;const t=Bb;var r=qI;Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return r.defaultTreeAdapter}});var i=Bb;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return i.Parser}});var n=f1;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return n.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return n.serializeOuter}});var s=Fb;Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return s.ERR}}),e.foreignContent=h5,e.html=Rf,e.Token=VI;var c=Dg;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return c.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return c.TokenizerMode}});function h(m,d){return t.Parser.parse(m,d)}e.parse=h;function p(m,d,E){typeof m=="string"&&(E=d,d=m,m=null);const _=t.Parser.getFragmentParser(m,E);return _.tokenizer.write(d,!0),_.getFragment()}e.parseFragment=p})(mY);var eX={},tX={},Kb={},kg={},nD={},iD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUndefinedCodePoint=e.isControlCodePoint=e.getSurrogatePairCodePoint=e.isSurrogatePair=e.isSurrogate=e.SEQUENCES=e.CODE_POINTS=e.REPLACEMENT_CHARACTER=void 0;const t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);e.REPLACEMENT_CHARACTER="",(function(h){h[h.EOF=-1]="EOF",h[h.NULL=0]="NULL",h[h.TABULATION=9]="TABULATION",h[h.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",h[h.LINE_FEED=10]="LINE_FEED",h[h.FORM_FEED=12]="FORM_FEED",h[h.SPACE=32]="SPACE",h[h.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",h[h.QUOTATION_MARK=34]="QUOTATION_MARK",h[h.NUMBER_SIGN=35]="NUMBER_SIGN",h[h.AMPERSAND=38]="AMPERSAND",h[h.APOSTROPHE=39]="APOSTROPHE",h[h.HYPHEN_MINUS=45]="HYPHEN_MINUS",h[h.SOLIDUS=47]="SOLIDUS",h[h.DIGIT_0=48]="DIGIT_0",h[h.DIGIT_9=57]="DIGIT_9",h[h.SEMICOLON=59]="SEMICOLON",h[h.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",h[h.EQUALS_SIGN=61]="EQUALS_SIGN",h[h.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",h[h.QUESTION_MARK=63]="QUESTION_MARK",h[h.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",h[h.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",h[h.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",h[h.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",h[h.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",h[h.GRAVE_ACCENT=96]="GRAVE_ACCENT",h[h.LATIN_SMALL_A=97]="LATIN_SMALL_A",h[h.LATIN_SMALL_F=102]="LATIN_SMALL_F",h[h.LATIN_SMALL_X=120]="LATIN_SMALL_X",h[h.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",h[h.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(e.CODE_POINTS||(e.CODE_POINTS={})),e.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function r(h){return h>=55296&&h<=57343}e.isSurrogate=r;function i(h){return h>=56320&&h<=57343}e.isSurrogatePair=i;function n(h,p){return(h-55296)*1024+9216+p}e.getSurrogatePairCodePoint=n;function s(h){return h!==32&&h!==10&&h!==13&&h!==9&&h!==12&&h>=1&&h<=31||h>=127&&h<=159}e.isControlCodePoint=s;function c(h){return h>=64976&&h<=65007||t.has(h)}e.isUndefinedCodePoint=c})(iD);var Zb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERR=void 0,(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(e.ERR||(e.ERR={}))})(Zb),Object.defineProperty(nD,"__esModule",{value:!0}),nD.Preprocessor=void 0;const Is=iD,y5=Zb,Oxe=65536;let kxe=(function(){function e(t){H(this,e),this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Oxe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}return j(e,[{key:"col",get:function(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}},{key:"offset",get:function(){return this.droppedBufferSize+this.pos}},{key:"getError",value:function(r){const{line:i,col:n,offset:s}=this;return{code:r,startLine:i,endLine:i,startCol:n,endCol:n,startOffset:s,endOffset:s}}},{key:"_err",value:function(r){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(r)))}},{key:"_addGap",value:function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}},{key:"_processSurrogate",value:function(r){if(this.pos!==this.html.length-1){const i=this.html.charCodeAt(this.pos+1);if((0,Is.isSurrogatePair)(i))return this.pos++,this._addGap(),(0,Is.getSurrogatePairCodePoint)(r,i)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Is.CODE_POINTS.EOF;return this._err(y5.ERR.surrogateInInputStream),r}},{key:"willDropParsedChunk",value:function(){return this.pos>this.bufferWaterline}},{key:"dropParsedChunk",value:function(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}},{key:"write",value:function(r,i){this.html.length>0?this.html+=r:this.html=r,this.endOfChunkHit=!1,this.lastChunkWritten=i}},{key:"insertHtmlAtCurrentPos",value:function(r){this.html=this.html.substring(0,this.pos+1)+r+this.html.substring(this.pos+1),this.endOfChunkHit=!1}},{key:"startsWith",value:function(r,i){if(this.pos+r.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(i)return this.html.startsWith(r,this.pos);for(let n=0;n<r.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==r.charCodeAt(n))return!1;return!0}},{key:"peek",value:function(r){const i=this.pos+r;if(i>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Is.CODE_POINTS.EOF;const n=this.html.charCodeAt(i);return n===Is.CODE_POINTS.CARRIAGE_RETURN?Is.CODE_POINTS.LINE_FEED:n}},{key:"advance",value:function(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Is.CODE_POINTS.EOF;let r=this.html.charCodeAt(this.pos);return r===Is.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,Is.CODE_POINTS.LINE_FEED):r===Is.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,Is.isSurrogate)(r)&&(r=this._processSurrogate(r)),this.handler.onParseError===null||r>31&&r<127||r===Is.CODE_POINTS.LINE_FEED||r===Is.CODE_POINTS.CARRIAGE_RETURN||r>159&&r<64976||this._checkForProblematicCharacters(r),r)}},{key:"_checkForProblematicCharacters",value:function(r){(0,Is.isControlCodePoint)(r)?this._err(y5.ERR.controlCharacterInInputStream):(0,Is.isUndefinedCodePoint)(r)&&this._err(y5.ERR.noncharacterInInputStream)}},{key:"retreat",value:function(r){for(this.pos-=r;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}]),e})();nD.Preprocessor=kxe;var aD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenAttr=e.TokenType=void 0,(function(r){r[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION"})(e.TokenType||(e.TokenType={}));function t(r,i){for(let n=r.attrs.length-1;n>=0;n--)if(r.attrs[n].name===i)return r.attrs[n].value;return null}e.getTokenAttr=t})(aD);var Nf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasUnescapedText=e.isNumberedHeader=e.SPECIAL_ELEMENTS=e.getTagID=e.TAG_ID=e.TAG_NAMES=e.DOCUMENT_MODE=e.ATTRS=e.NS=void 0;var t;(function(d){d.HTML="http://www.w3.org/1999/xhtml",d.MATHML="http://www.w3.org/1998/Math/MathML",d.SVG="http://www.w3.org/2000/svg",d.XLINK="http://www.w3.org/1999/xlink",d.XML="http://www.w3.org/XML/1998/namespace",d.XMLNS="http://www.w3.org/2000/xmlns/"})(t=e.NS||(e.NS={})),(function(d){d.TYPE="type",d.ACTION="action",d.ENCODING="encoding",d.PROMPT="prompt",d.NAME="name",d.COLOR="color",d.FACE="face",d.SIZE="size"})(e.ATTRS||(e.ATTRS={})),(function(d){d.NO_QUIRKS="no-quirks",d.QUIRKS="quirks",d.LIMITED_QUIRKS="limited-quirks"})(e.DOCUMENT_MODE||(e.DOCUMENT_MODE={}));var r;(function(d){d.A="a",d.ADDRESS="address",d.ANNOTATION_XML="annotation-xml",d.APPLET="applet",d.AREA="area",d.ARTICLE="article",d.ASIDE="aside",d.B="b",d.BASE="base",d.BASEFONT="basefont",d.BGSOUND="bgsound",d.BIG="big",d.BLOCKQUOTE="blockquote",d.BODY="body",d.BR="br",d.BUTTON="button",d.CAPTION="caption",d.CENTER="center",d.CODE="code",d.COL="col",d.COLGROUP="colgroup",d.DD="dd",d.DESC="desc",d.DETAILS="details",d.DIALOG="dialog",d.DIR="dir",d.DIV="div",d.DL="dl",d.DT="dt",d.EM="em",d.EMBED="embed",d.FIELDSET="fieldset",d.FIGCAPTION="figcaption",d.FIGURE="figure",d.FONT="font",d.FOOTER="footer",d.FOREIGN_OBJECT="foreignObject",d.FORM="form",d.FRAME="frame",d.FRAMESET="frameset",d.H1="h1",d.H2="h2",d.H3="h3",d.H4="h4",d.H5="h5",d.H6="h6",d.HEAD="head",d.HEADER="header",d.HGROUP="hgroup",d.HR="hr",d.HTML="html",d.I="i",d.IMG="img",d.IMAGE="image",d.INPUT="input",d.IFRAME="iframe",d.KEYGEN="keygen",d.LABEL="label",d.LI="li",d.LINK="link",d.LISTING="listing",d.MAIN="main",d.MALIGNMARK="malignmark",d.MARQUEE="marquee",d.MATH="math",d.MENU="menu",d.META="meta",d.MGLYPH="mglyph",d.MI="mi",d.MO="mo",d.MN="mn",d.MS="ms",d.MTEXT="mtext",d.NAV="nav",d.NOBR="nobr",d.NOFRAMES="noframes",d.NOEMBED="noembed",d.NOSCRIPT="noscript",d.OBJECT="object",d.OL="ol",d.OPTGROUP="optgroup",d.OPTION="option",d.P="p",d.PARAM="param",d.PLAINTEXT="plaintext",d.PRE="pre",d.RB="rb",d.RP="rp",d.RT="rt",d.RTC="rtc",d.RUBY="ruby",d.S="s",d.SCRIPT="script",d.SECTION="section",d.SELECT="select",d.SOURCE="source",d.SMALL="small",d.SPAN="span",d.STRIKE="strike",d.STRONG="strong",d.STYLE="style",d.SUB="sub",d.SUMMARY="summary",d.SUP="sup",d.TABLE="table",d.TBODY="tbody",d.TEMPLATE="template",d.TEXTAREA="textarea",d.TFOOT="tfoot",d.TD="td",d.TH="th",d.THEAD="thead",d.TITLE="title",d.TR="tr",d.TRACK="track",d.TT="tt",d.U="u",d.UL="ul",d.SVG="svg",d.VAR="var",d.WBR="wbr",d.XMP="xmp"})(r=e.TAG_NAMES||(e.TAG_NAMES={}));var i;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.A=1]="A",d[d.ADDRESS=2]="ADDRESS",d[d.ANNOTATION_XML=3]="ANNOTATION_XML",d[d.APPLET=4]="APPLET",d[d.AREA=5]="AREA",d[d.ARTICLE=6]="ARTICLE",d[d.ASIDE=7]="ASIDE",d[d.B=8]="B",d[d.BASE=9]="BASE",d[d.BASEFONT=10]="BASEFONT",d[d.BGSOUND=11]="BGSOUND",d[d.BIG=12]="BIG",d[d.BLOCKQUOTE=13]="BLOCKQUOTE",d[d.BODY=14]="BODY",d[d.BR=15]="BR",d[d.BUTTON=16]="BUTTON",d[d.CAPTION=17]="CAPTION",d[d.CENTER=18]="CENTER",d[d.CODE=19]="CODE",d[d.COL=20]="COL",d[d.COLGROUP=21]="COLGROUP",d[d.DD=22]="DD",d[d.DESC=23]="DESC",d[d.DETAILS=24]="DETAILS",d[d.DIALOG=25]="DIALOG",d[d.DIR=26]="DIR",d[d.DIV=27]="DIV",d[d.DL=28]="DL",d[d.DT=29]="DT",d[d.EM=30]="EM",d[d.EMBED=31]="EMBED",d[d.FIELDSET=32]="FIELDSET",d[d.FIGCAPTION=33]="FIGCAPTION",d[d.FIGURE=34]="FIGURE",d[d.FONT=35]="FONT",d[d.FOOTER=36]="FOOTER",d[d.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",d[d.FORM=38]="FORM",d[d.FRAME=39]="FRAME",d[d.FRAMESET=40]="FRAMESET",d[d.H1=41]="H1",d[d.H2=42]="H2",d[d.H3=43]="H3",d[d.H4=44]="H4",d[d.H5=45]="H5",d[d.H6=46]="H6",d[d.HEAD=47]="HEAD",d[d.HEADER=48]="HEADER",d[d.HGROUP=49]="HGROUP",d[d.HR=50]="HR",d[d.HTML=51]="HTML",d[d.I=52]="I",d[d.IMG=53]="IMG",d[d.IMAGE=54]="IMAGE",d[d.INPUT=55]="INPUT",d[d.IFRAME=56]="IFRAME",d[d.KEYGEN=57]="KEYGEN",d[d.LABEL=58]="LABEL",d[d.LI=59]="LI",d[d.LINK=60]="LINK",d[d.LISTING=61]="LISTING",d[d.MAIN=62]="MAIN",d[d.MALIGNMARK=63]="MALIGNMARK",d[d.MARQUEE=64]="MARQUEE",d[d.MATH=65]="MATH",d[d.MENU=66]="MENU",d[d.META=67]="META",d[d.MGLYPH=68]="MGLYPH",d[d.MI=69]="MI",d[d.MO=70]="MO",d[d.MN=71]="MN",d[d.MS=72]="MS",d[d.MTEXT=73]="MTEXT",d[d.NAV=74]="NAV",d[d.NOBR=75]="NOBR",d[d.NOFRAMES=76]="NOFRAMES",d[d.NOEMBED=77]="NOEMBED",d[d.NOSCRIPT=78]="NOSCRIPT",d[d.OBJECT=79]="OBJECT",d[d.OL=80]="OL",d[d.OPTGROUP=81]="OPTGROUP",d[d.OPTION=82]="OPTION",d[d.P=83]="P",d[d.PARAM=84]="PARAM",d[d.PLAINTEXT=85]="PLAINTEXT",d[d.PRE=86]="PRE",d[d.RB=87]="RB",d[d.RP=88]="RP",d[d.RT=89]="RT",d[d.RTC=90]="RTC",d[d.RUBY=91]="RUBY",d[d.S=92]="S",d[d.SCRIPT=93]="SCRIPT",d[d.SECTION=94]="SECTION",d[d.SELECT=95]="SELECT",d[d.SOURCE=96]="SOURCE",d[d.SMALL=97]="SMALL",d[d.SPAN=98]="SPAN",d[d.STRIKE=99]="STRIKE",d[d.STRONG=100]="STRONG",d[d.STYLE=101]="STYLE",d[d.SUB=102]="SUB",d[d.SUMMARY=103]="SUMMARY",d[d.SUP=104]="SUP",d[d.TABLE=105]="TABLE",d[d.TBODY=106]="TBODY",d[d.TEMPLATE=107]="TEMPLATE",d[d.TEXTAREA=108]="TEXTAREA",d[d.TFOOT=109]="TFOOT",d[d.TD=110]="TD",d[d.TH=111]="TH",d[d.THEAD=112]="THEAD",d[d.TITLE=113]="TITLE",d[d.TR=114]="TR",d[d.TRACK=115]="TRACK",d[d.TT=116]="TT",d[d.U=117]="U",d[d.UL=118]="UL",d[d.SVG=119]="SVG",d[d.VAR=120]="VAR",d[d.WBR=121]="WBR",d[d.XMP=122]="XMP"})(i=e.TAG_ID||(e.TAG_ID={}));const n=new Map([[r.A,i.A],[r.ADDRESS,i.ADDRESS],[r.ANNOTATION_XML,i.ANNOTATION_XML],[r.APPLET,i.APPLET],[r.AREA,i.AREA],[r.ARTICLE,i.ARTICLE],[r.ASIDE,i.ASIDE],[r.B,i.B],[r.BASE,i.BASE],[r.BASEFONT,i.BASEFONT],[r.BGSOUND,i.BGSOUND],[r.BIG,i.BIG],[r.BLOCKQUOTE,i.BLOCKQUOTE],[r.BODY,i.BODY],[r.BR,i.BR],[r.BUTTON,i.BUTTON],[r.CAPTION,i.CAPTION],[r.CENTER,i.CENTER],[r.CODE,i.CODE],[r.COL,i.COL],[r.COLGROUP,i.COLGROUP],[r.DD,i.DD],[r.DESC,i.DESC],[r.DETAILS,i.DETAILS],[r.DIALOG,i.DIALOG],[r.DIR,i.DIR],[r.DIV,i.DIV],[r.DL,i.DL],[r.DT,i.DT],[r.EM,i.EM],[r.EMBED,i.EMBED],[r.FIELDSET,i.FIELDSET],[r.FIGCAPTION,i.FIGCAPTION],[r.FIGURE,i.FIGURE],[r.FONT,i.FONT],[r.FOOTER,i.FOOTER],[r.FOREIGN_OBJECT,i.FOREIGN_OBJECT],[r.FORM,i.FORM],[r.FRAME,i.FRAME],[r.FRAMESET,i.FRAMESET],[r.H1,i.H1],[r.H2,i.H2],[r.H3,i.H3],[r.H4,i.H4],[r.H5,i.H5],[r.H6,i.H6],[r.HEAD,i.HEAD],[r.HEADER,i.HEADER],[r.HGROUP,i.HGROUP],[r.HR,i.HR],[r.HTML,i.HTML],[r.I,i.I],[r.IMG,i.IMG],[r.IMAGE,i.IMAGE],[r.INPUT,i.INPUT],[r.IFRAME,i.IFRAME],[r.KEYGEN,i.KEYGEN],[r.LABEL,i.LABEL],[r.LI,i.LI],[r.LINK,i.LINK],[r.LISTING,i.LISTING],[r.MAIN,i.MAIN],[r.MALIGNMARK,i.MALIGNMARK],[r.MARQUEE,i.MARQUEE],[r.MATH,i.MATH],[r.MENU,i.MENU],[r.META,i.META],[r.MGLYPH,i.MGLYPH],[r.MI,i.MI],[r.MO,i.MO],[r.MN,i.MN],[r.MS,i.MS],[r.MTEXT,i.MTEXT],[r.NAV,i.NAV],[r.NOBR,i.NOBR],[r.NOFRAMES,i.NOFRAMES],[r.NOEMBED,i.NOEMBED],[r.NOSCRIPT,i.NOSCRIPT],[r.OBJECT,i.OBJECT],[r.OL,i.OL],[r.OPTGROUP,i.OPTGROUP],[r.OPTION,i.OPTION],[r.P,i.P],[r.PARAM,i.PARAM],[r.PLAINTEXT,i.PLAINTEXT],[r.PRE,i.PRE],[r.RB,i.RB],[r.RP,i.RP],[r.RT,i.RT],[r.RTC,i.RTC],[r.RUBY,i.RUBY],[r.S,i.S],[r.SCRIPT,i.SCRIPT],[r.SECTION,i.SECTION],[r.SELECT,i.SELECT],[r.SOURCE,i.SOURCE],[r.SMALL,i.SMALL],[r.SPAN,i.SPAN],[r.STRIKE,i.STRIKE],[r.STRONG,i.STRONG],[r.STYLE,i.STYLE],[r.SUB,i.SUB],[r.SUMMARY,i.SUMMARY],[r.SUP,i.SUP],[r.TABLE,i.TABLE],[r.TBODY,i.TBODY],[r.TEMPLATE,i.TEMPLATE],[r.TEXTAREA,i.TEXTAREA],[r.TFOOT,i.TFOOT],[r.TD,i.TD],[r.TH,i.TH],[r.THEAD,i.THEAD],[r.TITLE,i.TITLE],[r.TR,i.TR],[r.TRACK,i.TRACK],[r.TT,i.TT],[r.U,i.U],[r.UL,i.UL],[r.SVG,i.SVG],[r.VAR,i.VAR],[r.WBR,i.WBR],[r.XMP,i.XMP]]);function s(d){var E;return(E=n.get(d))!==null&&E!==void 0?E:i.UNKNOWN}e.getTagID=s;const c=i;e.SPECIAL_ELEMENTS={[t.HTML]:new Set([c.ADDRESS,c.APPLET,c.AREA,c.ARTICLE,c.ASIDE,c.BASE,c.BASEFONT,c.BGSOUND,c.BLOCKQUOTE,c.BODY,c.BR,c.BUTTON,c.CAPTION,c.CENTER,c.COL,c.COLGROUP,c.DD,c.DETAILS,c.DIR,c.DIV,c.DL,c.DT,c.EMBED,c.FIELDSET,c.FIGCAPTION,c.FIGURE,c.FOOTER,c.FORM,c.FRAME,c.FRAMESET,c.H1,c.H2,c.H3,c.H4,c.H5,c.H6,c.HEAD,c.HEADER,c.HGROUP,c.HR,c.HTML,c.IFRAME,c.IMG,c.INPUT,c.LI,c.LINK,c.LISTING,c.MAIN,c.MARQUEE,c.MENU,c.META,c.NAV,c.NOEMBED,c.NOFRAMES,c.NOSCRIPT,c.OBJECT,c.OL,c.P,c.PARAM,c.PLAINTEXT,c.PRE,c.SCRIPT,c.SECTION,c.SELECT,c.SOURCE,c.STYLE,c.SUMMARY,c.TABLE,c.TBODY,c.TD,c.TEMPLATE,c.TEXTAREA,c.TFOOT,c.TH,c.THEAD,c.TITLE,c.TR,c.TRACK,c.UL,c.WBR,c.XMP]),[t.MATHML]:new Set([c.MI,c.MO,c.MN,c.MS,c.MTEXT,c.ANNOTATION_XML]),[t.SVG]:new Set([c.TITLE,c.FOREIGN_OBJECT,c.DESC]),[t.XLINK]:new Set,[t.XML]:new Set,[t.XMLNS]:new Set};function h(d){return d===c.H1||d===c.H2||d===c.H3||d===c.H4||d===c.H5||d===c.H6}e.isNumberedHeader=h;const p=new Set([r.STYLE,r.SCRIPT,r.XMP,r.IFRAME,r.NOEMBED,r.NOFRAMES,r.PLAINTEXT]);function m(d,E){return p.has(d)||E&&d===r.NOSCRIPT}e.hasUnescapedText=m})(Nf),Object.defineProperty(kg,"__esModule",{value:!0}),kg.Tokenizer=kg.TokenizerMode=void 0;const Pxe=nD,De=iD,el=aD,bh=Tg,jt=Zb,_5=Nf,Rxe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var $e;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})($e||($e={})),kg.TokenizerMode={DATA:$e.DATA,RCDATA:$e.RCDATA,RAWTEXT:$e.RAWTEXT,SCRIPT_DATA:$e.SCRIPT_DATA,PLAINTEXT:$e.PLAINTEXT,CDATA_SECTION:$e.CDATA_SECTION};function Qb(e){return e>=De.CODE_POINTS.DIGIT_0&&e<=De.CODE_POINTS.DIGIT_9}function Jb(e){return e>=De.CODE_POINTS.LATIN_CAPITAL_A&&e<=De.CODE_POINTS.LATIN_CAPITAL_Z}function Nxe(e){return e>=De.CODE_POINTS.LATIN_SMALL_A&&e<=De.CODE_POINTS.LATIN_SMALL_Z}function fp(e){return Nxe(e)||Jb(e)}function E5(e){return fp(e)||Qb(e)}function rX(e){return e>=De.CODE_POINTS.LATIN_CAPITAL_A&&e<=De.CODE_POINTS.LATIN_CAPITAL_F}function nX(e){return e>=De.CODE_POINTS.LATIN_SMALL_A&&e<=De.CODE_POINTS.LATIN_SMALL_F}function Mxe(e){return Qb(e)||rX(e)||nX(e)}function oD(e){return e+32}function iX(e){return e===De.CODE_POINTS.SPACE||e===De.CODE_POINTS.LINE_FEED||e===De.CODE_POINTS.TABULATION||e===De.CODE_POINTS.FORM_FEED}function Lxe(e){return e===De.CODE_POINTS.EQUALS_SIGN||E5(e)}function aX(e){return iX(e)||e===De.CODE_POINTS.SOLIDUS||e===De.CODE_POINTS.GREATER_THAN_SIGN}let Bxe=(function(){function e(t,r){H(this,e),this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=$e.DATA,this.returnState=$e.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Pxe.Preprocessor(r),this.currentLocation=this.getCurrentLocation(-1)}return j(e,[{key:"_err",value:function(r){var i,n;(n=(i=this.handler).onParseError)===null||n===void 0||n.call(i,this.preprocessor.getError(r))}},{key:"getCurrentLocation",value:function(r){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-r,startOffset:this.preprocessor.offset-r,endLine:-1,endCol:-1,endOffset:-1}:null}},{key:"_runParsingLoop",value:function(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const r=this._consume();this._ensureHibernation()||this._callState(r)}this.inLoop=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(r){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||r?.())}},{key:"write",value:function(r,i,n){this.active=!0,this.preprocessor.write(r,i),this._runParsingLoop(),this.paused||n?.()}},{key:"insertHtmlAtCurrentPos",value:function(r){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(r),this._runParsingLoop()}},{key:"_ensureHibernation",value:function(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}},{key:"_consume",value:function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}},{key:"_unconsume",value:function(r){this.consumedAfterSnapshot-=r,this.preprocessor.retreat(r)}},{key:"_reconsumeInState",value:function(r,i){this.state=r,this._callState(i)}},{key:"_advanceBy",value:function(r){this.consumedAfterSnapshot+=r;for(let i=0;i<r;i++)this.preprocessor.advance()}},{key:"_consumeSequenceIfMatch",value:function(r,i){return this.preprocessor.startsWith(r,i)?(this._advanceBy(r.length-1),!0):!1}},{key:"_createStartTagToken",value:function(){this.currentToken={type:el.TokenType.START_TAG,tagName:"",tagID:_5.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}},{key:"_createEndTagToken",value:function(){this.currentToken={type:el.TokenType.END_TAG,tagName:"",tagID:_5.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}},{key:"_createCommentToken",value:function(r){this.currentToken={type:el.TokenType.COMMENT,data:"",location:this.getCurrentLocation(r)}}},{key:"_createDoctypeToken",value:function(r){this.currentToken={type:el.TokenType.DOCTYPE,name:r,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}},{key:"_createCharacterToken",value:function(r,i){this.currentCharacterToken={type:r,chars:i,location:this.currentLocation}}},{key:"_createAttr",value:function(r){this.currentAttr={name:r,value:""},this.currentLocation=this.getCurrentLocation(0)}},{key:"_leaveAttrName",value:function(){var r,i;const n=this.currentToken;if((0,el.getTokenAttr)(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const s=(r=(i=n.location).attrs)!==null&&r!==void 0?r:i.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(jt.ERR.duplicateAttribute)}},{key:"_leaveAttrValue",value:function(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}},{key:"prepareToken",value:function(r){this._emitCurrentCharacterToken(r.location),this.currentToken=null,r.location&&(r.location.endLine=this.preprocessor.line,r.location.endCol=this.preprocessor.col+1,r.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}},{key:"emitCurrentTagToken",value:function(){const r=this.currentToken;this.prepareToken(r),r.tagID=(0,_5.getTagID)(r.tagName),r.type===el.TokenType.START_TAG?(this.lastStartTagName=r.tagName,this.handler.onStartTag(r)):(r.attrs.length>0&&this._err(jt.ERR.endTagWithAttributes),r.selfClosing&&this._err(jt.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(r)),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentComment",value:function(r){this.prepareToken(r),this.handler.onComment(r),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentDoctype",value:function(r){this.prepareToken(r),this.handler.onDoctype(r),this.preprocessor.dropParsedChunk()}},{key:"_emitCurrentCharacterToken",value:function(r){if(this.currentCharacterToken){switch(r&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=r.startLine,this.currentCharacterToken.location.endCol=r.startCol,this.currentCharacterToken.location.endOffset=r.startOffset),this.currentCharacterToken.type){case el.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case el.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case el.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}},{key:"_emitEOFToken",value:function(){const r=this.getCurrentLocation(0);r&&(r.endLine=r.startLine,r.endCol=r.startCol,r.endOffset=r.startOffset),this._emitCurrentCharacterToken(r),this.handler.onEof({type:el.TokenType.EOF,location:r}),this.active=!1}},{key:"_appendCharToCurrentCharacterToken",value:function(r,i){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==r)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=i;return}this._createCharacterToken(r,i)}},{key:"_emitCodePoint",value:function(r){const i=iX(r)?el.TokenType.WHITESPACE_CHARACTER:r===De.CODE_POINTS.NULL?el.TokenType.NULL_CHARACTER:el.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(i,String.fromCodePoint(r))}},{key:"_emitChars",value:function(r){this._appendCharToCurrentCharacterToken(el.TokenType.CHARACTER,r)}},{key:"_matchNamedCharacterReference",value:function(r){let i=null,n=0,s=!1;for(let c=0,h=bh.htmlDecodeTree[0];c>=0&&(c=(0,bh.determineBranch)(bh.htmlDecodeTree,h,c+1,r),!(c<0));r=this._consume()){n+=1,h=bh.htmlDecodeTree[c];const p=h&bh.BinTrieFlags.VALUE_LENGTH;if(p){const m=(p>>14)-1;if(r!==De.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&Lxe(this.preprocessor.peek(1))?(i=[De.CODE_POINTS.AMPERSAND],c+=m):(i=m===0?[bh.htmlDecodeTree[c]&~bh.BinTrieFlags.VALUE_LENGTH]:m===1?[bh.htmlDecodeTree[++c]]:[bh.htmlDecodeTree[++c],bh.htmlDecodeTree[++c]],n=0,s=r!==De.CODE_POINTS.SEMICOLON),m===0){this._consume();break}}}return this._unconsume(n),s&&!this.preprocessor.endOfChunkHit&&this._err(jt.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),i}},{key:"_isCharacterReferenceInAttribute",value:function(){return this.returnState===$e.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===$e.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===$e.ATTRIBUTE_VALUE_UNQUOTED}},{key:"_flushCodePointConsumedAsCharacterReference",value:function(r){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(r):this._emitCodePoint(r)}},{key:"_callState",value:function(r){switch(this.state){case $e.DATA:{this._stateData(r);break}case $e.RCDATA:{this._stateRcdata(r);break}case $e.RAWTEXT:{this._stateRawtext(r);break}case $e.SCRIPT_DATA:{this._stateScriptData(r);break}case $e.PLAINTEXT:{this._statePlaintext(r);break}case $e.TAG_OPEN:{this._stateTagOpen(r);break}case $e.END_TAG_OPEN:{this._stateEndTagOpen(r);break}case $e.TAG_NAME:{this._stateTagName(r);break}case $e.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(r);break}case $e.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(r);break}case $e.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(r);break}case $e.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(r);break}case $e.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(r);break}case $e.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(r);break}case $e.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(r);break}case $e.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(r);break}case $e.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(r);break}case $e.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(r);break}case $e.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(r);break}case $e.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(r);break}case $e.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(r);break}case $e.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(r);break}case $e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(r);break}case $e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(r);break}case $e.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(r);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(r);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(r);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(r);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(r);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(r);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(r);break}case $e.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(r);break}case $e.ATTRIBUTE_NAME:{this._stateAttributeName(r);break}case $e.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(r);break}case $e.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(r);break}case $e.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(r);break}case $e.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(r);break}case $e.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(r);break}case $e.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(r);break}case $e.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(r);break}case $e.BOGUS_COMMENT:{this._stateBogusComment(r);break}case $e.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(r);break}case $e.COMMENT_START:{this._stateCommentStart(r);break}case $e.COMMENT_START_DASH:{this._stateCommentStartDash(r);break}case $e.COMMENT:{this._stateComment(r);break}case $e.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(r);break}case $e.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(r);break}case $e.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(r);break}case $e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(r);break}case $e.COMMENT_END_DASH:{this._stateCommentEndDash(r);break}case $e.COMMENT_END:{this._stateCommentEnd(r);break}case $e.COMMENT_END_BANG:{this._stateCommentEndBang(r);break}case $e.DOCTYPE:{this._stateDoctype(r);break}case $e.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(r);break}case $e.DOCTYPE_NAME:{this._stateDoctypeName(r);break}case $e.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(r);break}case $e.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(r);break}case $e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(r);break}case $e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(r);break}case $e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(r);break}case $e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(r);break}case $e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(r);break}case $e.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(r);break}case $e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(r);break}case $e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(r);break}case $e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(r);break}case $e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(r);break}case $e.BOGUS_DOCTYPE:{this._stateBogusDoctype(r);break}case $e.CDATA_SECTION:{this._stateCdataSection(r);break}case $e.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(r);break}case $e.CDATA_SECTION_END:{this._stateCdataSectionEnd(r);break}case $e.CHARACTER_REFERENCE:{this._stateCharacterReference(r);break}case $e.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(r);break}case $e.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(r);break}case $e.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(r);break}case $e.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(r);break}case $e.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(r);break}case $e.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(r);break}case $e.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(r);break}default:throw new Error("Unknown state")}}},{key:"_stateData",value:function(r){switch(r){case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.TAG_OPEN;break}case De.CODE_POINTS.AMPERSAND:{this.returnState=$e.DATA,this.state=$e.CHARACTER_REFERENCE;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this._emitCodePoint(r);break}case De.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateRcdata",value:function(r){switch(r){case De.CODE_POINTS.AMPERSAND:{this.returnState=$e.RCDATA,this.state=$e.CHARACTER_REFERENCE;break}case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.RCDATA_LESS_THAN_SIGN;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateRawtext",value:function(r){switch(r){case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.RAWTEXT_LESS_THAN_SIGN;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptData",value:function(r){switch(r){case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_LESS_THAN_SIGN;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_statePlaintext",value:function(r){switch(r){case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateTagOpen",value:function(r){if(fp(r))this._createStartTagToken(),this.state=$e.TAG_NAME,this._stateTagName(r);else switch(r){case De.CODE_POINTS.EXCLAMATION_MARK:{this.state=$e.MARKUP_DECLARATION_OPEN;break}case De.CODE_POINTS.SOLIDUS:{this.state=$e.END_TAG_OPEN;break}case De.CODE_POINTS.QUESTION_MARK:{this._err(jt.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=$e.BOGUS_COMMENT,this._stateBogusComment(r);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(jt.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=$e.DATA,this._stateData(r)}}},{key:"_stateEndTagOpen",value:function(r){if(fp(r))this._createEndTagToken(),this.state=$e.TAG_NAME,this._stateTagName(r);else switch(r){case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.missingEndTagName),this.state=$e.DATA;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(jt.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=$e.BOGUS_COMMENT,this._stateBogusComment(r)}}},{key:"_stateTagName",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:{this.state=$e.BEFORE_ATTRIBUTE_NAME;break}case De.CODE_POINTS.SOLIDUS:{this.state=$e.SELF_CLOSING_START_TAG;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentTagToken();break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),i.tagName+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInTag),this._emitEOFToken();break}default:i.tagName+=String.fromCodePoint(Jb(r)?oD(r):r)}}},{key:"_stateRcdataLessThanSign",value:function(r){r===De.CODE_POINTS.SOLIDUS?this.state=$e.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=$e.RCDATA,this._stateRcdata(r))}},{key:"_stateRcdataEndTagOpen",value:function(r){fp(r)?(this.state=$e.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(r)):(this._emitChars("</"),this.state=$e.RCDATA,this._stateRcdata(r))}},{key:"handleSpecialEndTag",value:function(r){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const i=this.currentToken;switch(i.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=$e.BEFORE_ATTRIBUTE_NAME,!1;case De.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=$e.SELF_CLOSING_START_TAG,!1;case De.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=$e.DATA,!1;default:return!this._ensureHibernation()}}},{key:"_stateRcdataEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=$e.RCDATA,this._stateRcdata(r))}},{key:"_stateRawtextLessThanSign",value:function(r){r===De.CODE_POINTS.SOLIDUS?this.state=$e.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=$e.RAWTEXT,this._stateRawtext(r))}},{key:"_stateRawtextEndTagOpen",value:function(r){fp(r)?(this.state=$e.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(r)):(this._emitChars("</"),this.state=$e.RAWTEXT,this._stateRawtext(r))}},{key:"_stateRawtextEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=$e.RAWTEXT,this._stateRawtext(r))}},{key:"_stateScriptDataLessThanSign",value:function(r){switch(r){case De.CODE_POINTS.SOLIDUS:{this.state=$e.SCRIPT_DATA_END_TAG_OPEN;break}case De.CODE_POINTS.EXCLAMATION_MARK:{this.state=$e.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=$e.SCRIPT_DATA,this._stateScriptData(r)}}},{key:"_stateScriptDataEndTagOpen",value:function(r){fp(r)?(this.state=$e.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(r)):(this._emitChars("</"),this.state=$e.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=$e.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscapeStart",value:function(r){r===De.CODE_POINTS.HYPHEN_MINUS?(this.state=$e.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=$e.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscapeStartDash",value:function(r){r===De.CODE_POINTS.HYPHEN_MINUS?(this.state=$e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=$e.SCRIPT_DATA,this._stateScriptData(r))}},{key:"_stateScriptDataEscaped",value:function(r){switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this.state=$e.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedDash",value:function(r){switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this.state=$e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this.state=$e.SCRIPT_DATA_ESCAPED,this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedDashDash",value:function(r){switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.SCRIPT_DATA,this._emitChars(">");break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this.state=$e.SCRIPT_DATA_ESCAPED,this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataEscapedLessThanSign",value:function(r){r===De.CODE_POINTS.SOLIDUS?this.state=$e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:fp(r)?(this._emitChars("<"),this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(r)):(this._emitChars("<"),this.state=$e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataEscapedEndTagOpen",value:function(r){fp(r)?(this.state=$e.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(r)):(this._emitChars("</"),this.state=$e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataEscapedEndTagName",value:function(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=$e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataDoubleEscapeStart",value:function(r){if(this.preprocessor.startsWith(De.SEQUENCES.SCRIPT,!1)&&aX(this.preprocessor.peek(De.SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let i=0;i<De.SEQUENCES.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=$e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}},{key:"_stateScriptDataDoubleEscaped",value:function(r){switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedDash",value:function(r){switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedDashDash",value:function(r){switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case De.CODE_POINTS.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.SCRIPT_DATA,this._emitChars(">");break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(De.REPLACEMENT_CHARACTER);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}},{key:"_stateScriptDataDoubleEscapedLessThanSign",value:function(r){r===De.CODE_POINTS.SOLIDUS?(this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}},{key:"_stateScriptDataDoubleEscapeEnd",value:function(r){if(this.preprocessor.startsWith(De.SEQUENCES.SCRIPT,!1)&&aX(this.preprocessor.peek(De.SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let i=0;i<De.SEQUENCES.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=$e.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}},{key:"_stateBeforeAttributeName",value:function(r){switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.SOLIDUS:case De.CODE_POINTS.GREATER_THAN_SIGN:case De.CODE_POINTS.EOF:{this.state=$e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case De.CODE_POINTS.EQUALS_SIGN:{this._err(jt.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=$e.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=$e.ATTRIBUTE_NAME,this._stateAttributeName(r)}}},{key:"_stateAttributeName",value:function(r){switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:case De.CODE_POINTS.SOLIDUS:case De.CODE_POINTS.GREATER_THAN_SIGN:case De.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=$e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case De.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=$e.BEFORE_ATTRIBUTE_VALUE;break}case De.CODE_POINTS.QUOTATION_MARK:case De.CODE_POINTS.APOSTROPHE:case De.CODE_POINTS.LESS_THAN_SIGN:{this._err(jt.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(r);break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this.currentAttr.name+=De.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(Jb(r)?oD(r):r)}}},{key:"_stateAfterAttributeName",value:function(r){switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.SOLIDUS:{this.state=$e.SELF_CLOSING_START_TAG;break}case De.CODE_POINTS.EQUALS_SIGN:{this.state=$e.BEFORE_ATTRIBUTE_VALUE;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentTagToken();break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=$e.ATTRIBUTE_NAME,this._stateAttributeName(r)}}},{key:"_stateBeforeAttributeValue",value:function(r){switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.QUOTATION_MARK:{this.state=$e.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case De.CODE_POINTS.APOSTROPHE:{this.state=$e.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.missingAttributeValue),this.state=$e.DATA,this.emitCurrentTagToken();break}default:this.state=$e.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(r)}}},{key:"_stateAttributeValueDoubleQuoted",value:function(r){switch(r){case De.CODE_POINTS.QUOTATION_MARK:{this.state=$e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case De.CODE_POINTS.AMPERSAND:{this.returnState=$e.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=$e.CHARACTER_REFERENCE;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this.currentAttr.value+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAttributeValueSingleQuoted",value:function(r){switch(r){case De.CODE_POINTS.APOSTROPHE:{this.state=$e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case De.CODE_POINTS.AMPERSAND:{this.returnState=$e.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=$e.CHARACTER_REFERENCE;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this.currentAttr.value+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAttributeValueUnquoted",value:function(r){switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=$e.BEFORE_ATTRIBUTE_NAME;break}case De.CODE_POINTS.AMPERSAND:{this.returnState=$e.ATTRIBUTE_VALUE_UNQUOTED,this.state=$e.CHARACTER_REFERENCE;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$e.DATA,this.emitCurrentTagToken();break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this.currentAttr.value+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.QUOTATION_MARK:case De.CODE_POINTS.APOSTROPHE:case De.CODE_POINTS.LESS_THAN_SIGN:case De.CODE_POINTS.EQUALS_SIGN:case De.CODE_POINTS.GRAVE_ACCENT:{this._err(jt.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(r);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}},{key:"_stateAfterAttributeValueQuoted",value:function(r){switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=$e.BEFORE_ATTRIBUTE_NAME;break}case De.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=$e.SELF_CLOSING_START_TAG;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$e.DATA,this.emitCurrentTagToken();break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInTag),this._emitEOFToken();break}default:this._err(jt.ERR.missingWhitespaceBetweenAttributes),this.state=$e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}},{key:"_stateSelfClosingStartTag",value:function(r){switch(r){case De.CODE_POINTS.GREATER_THAN_SIGN:{const i=this.currentToken;i.selfClosing=!0,this.state=$e.DATA,this.emitCurrentTagToken();break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInTag),this._emitEOFToken();break}default:this._err(jt.ERR.unexpectedSolidusInTag),this.state=$e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}},{key:"_stateBogusComment",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentComment(i);break}case De.CODE_POINTS.EOF:{this.emitCurrentComment(i),this._emitEOFToken();break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),i.data+=De.REPLACEMENT_CHARACTER;break}default:i.data+=String.fromCodePoint(r)}}},{key:"_stateMarkupDeclarationOpen",value:function(r){this._consumeSequenceIfMatch(De.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(De.SEQUENCES.DASH_DASH.length+1),this.state=$e.COMMENT_START):this._consumeSequenceIfMatch(De.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(De.SEQUENCES.DOCTYPE.length+1),this.state=$e.DOCTYPE):this._consumeSequenceIfMatch(De.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=$e.CDATA_SECTION:(this._err(jt.ERR.cdataInHtmlContent),this._createCommentToken(De.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=$e.BOGUS_COMMENT):this._ensureHibernation()||(this._err(jt.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=$e.BOGUS_COMMENT,this._stateBogusComment(r))}},{key:"_stateCommentStart",value:function(r){switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this.state=$e.COMMENT_START_DASH;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.abruptClosingOfEmptyComment),this.state=$e.DATA;const i=this.currentToken;this.emitCurrentComment(i);break}default:this.state=$e.COMMENT,this._stateComment(r)}}},{key:"_stateCommentStartDash",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this.state=$e.COMMENT_END;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.abruptClosingOfEmptyComment),this.state=$e.DATA,this.emitCurrentComment(i);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=$e.COMMENT,this._stateComment(r)}}},{key:"_stateComment",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this.state=$e.COMMENT_END_DASH;break}case De.CODE_POINTS.LESS_THAN_SIGN:{i.data+="<",this.state=$e.COMMENT_LESS_THAN_SIGN;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),i.data+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+=String.fromCodePoint(r)}}},{key:"_stateCommentLessThanSign",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.EXCLAMATION_MARK:{i.data+="!",this.state=$e.COMMENT_LESS_THAN_SIGN_BANG;break}case De.CODE_POINTS.LESS_THAN_SIGN:{i.data+="<";break}default:this.state=$e.COMMENT,this._stateComment(r)}}},{key:"_stateCommentLessThanSignBang",value:function(r){r===De.CODE_POINTS.HYPHEN_MINUS?this.state=$e.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=$e.COMMENT,this._stateComment(r))}},{key:"_stateCommentLessThanSignBangDash",value:function(r){r===De.CODE_POINTS.HYPHEN_MINUS?this.state=$e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=$e.COMMENT_END_DASH,this._stateCommentEndDash(r))}},{key:"_stateCommentLessThanSignBangDashDash",value:function(r){r!==De.CODE_POINTS.GREATER_THAN_SIGN&&r!==De.CODE_POINTS.EOF&&this._err(jt.ERR.nestedComment),this.state=$e.COMMENT_END,this._stateCommentEnd(r)}},{key:"_stateCommentEndDash",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{this.state=$e.COMMENT_END;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=$e.COMMENT,this._stateComment(r)}}},{key:"_stateCommentEnd",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentComment(i);break}case De.CODE_POINTS.EXCLAMATION_MARK:{this.state=$e.COMMENT_END_BANG;break}case De.CODE_POINTS.HYPHEN_MINUS:{i.data+="-";break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--",this.state=$e.COMMENT,this._stateComment(r)}}},{key:"_stateCommentEndBang",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.HYPHEN_MINUS:{i.data+="--!",this.state=$e.COMMENT_END_DASH;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.incorrectlyClosedComment),this.state=$e.DATA,this.emitCurrentComment(i);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--!",this.state=$e.COMMENT,this._stateComment(r)}}},{key:"_stateDoctype",value:function(r){switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:{this.state=$e.BEFORE_DOCTYPE_NAME;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(jt.ERR.missingWhitespaceBeforeDoctypeName),this.state=$e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r)}}},{key:"_stateBeforeDoctypeName",value:function(r){if(Jb(r))this._createDoctypeToken(String.fromCharCode(oD(r))),this.state=$e.DOCTYPE_NAME;else switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),this._createDoctypeToken(De.REPLACEMENT_CHARACTER),this.state=$e.DOCTYPE_NAME;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.missingDoctypeName),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=$e.DATA;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(r)),this.state=$e.DOCTYPE_NAME}}},{key:"_stateDoctypeName",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:{this.state=$e.AFTER_DOCTYPE_NAME;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentDoctype(i);break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),i.name+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.name+=String.fromCodePoint(Jb(r)?oD(r):r)}}},{key:"_stateAfterDoctypeName",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentDoctype(i);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(De.SEQUENCES.PUBLIC,!1)?this.state=$e.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(De.SEQUENCES.SYSTEM,!1)?this.state=$e.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(jt.ERR.invalidCharacterSequenceAfterDoctypeName),i.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(r))}}},{key:"_stateAfterDoctypePublicKeyword",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:{this.state=$e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case De.CODE_POINTS.QUOTATION_MARK:{this._err(jt.ERR.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=$e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case De.CODE_POINTS.APOSTROPHE:{this._err(jt.ERR.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=$e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=$e.DATA,this.emitCurrentDoctype(i);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(jt.ERR.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBeforeDoctypePublicIdentifier",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.QUOTATION_MARK:{i.publicId="",this.state=$e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case De.CODE_POINTS.APOSTROPHE:{i.publicId="",this.state=$e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=$e.DATA,this.emitCurrentDoctype(i);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(jt.ERR.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateDoctypePublicIdentifierDoubleQuoted",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.QUOTATION_MARK:{this.state=$e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),i.publicId+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=$e.DATA;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(r)}}},{key:"_stateDoctypePublicIdentifierSingleQuoted",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.APOSTROPHE:{this.state=$e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),i.publicId+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=$e.DATA;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(r)}}},{key:"_stateAfterDoctypePublicIdentifier",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:{this.state=$e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentDoctype(i);break}case De.CODE_POINTS.QUOTATION_MARK:{this._err(jt.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case De.CODE_POINTS.APOSTROPHE:{this._err(jt.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(jt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBetweenDoctypePublicAndSystemIdentifiers",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=$e.DATA;break}case De.CODE_POINTS.QUOTATION_MARK:{i.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case De.CODE_POINTS.APOSTROPHE:{i.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(jt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateAfterDoctypeSystemKeyword",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:{this.state=$e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case De.CODE_POINTS.QUOTATION_MARK:{this._err(jt.ERR.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case De.CODE_POINTS.APOSTROPHE:{this._err(jt.ERR.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=$e.DATA,this.emitCurrentDoctype(i);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(jt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBeforeDoctypeSystemIdentifier",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.QUOTATION_MARK:{i.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case De.CODE_POINTS.APOSTROPHE:{i.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=$e.DATA,this.emitCurrentDoctype(i);break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(jt.ERR.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateDoctypeSystemIdentifierDoubleQuoted",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.QUOTATION_MARK:{this.state=$e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),i.systemId+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=$e.DATA;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(r)}}},{key:"_stateDoctypeSystemIdentifierSingleQuoted",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.APOSTROPHE:{this.state=$e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter),i.systemId+=De.REPLACEMENT_CHARACTER;break}case De.CODE_POINTS.GREATER_THAN_SIGN:{this._err(jt.ERR.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=$e.DATA;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(r)}}},{key:"_stateAfterDoctypeSystemIdentifier",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.SPACE:case De.CODE_POINTS.LINE_FEED:case De.CODE_POINTS.TABULATION:case De.CODE_POINTS.FORM_FEED:break;case De.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=$e.DATA;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(jt.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}},{key:"_stateBogusDoctype",value:function(r){const i=this.currentToken;switch(r){case De.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=$e.DATA;break}case De.CODE_POINTS.NULL:{this._err(jt.ERR.unexpectedNullCharacter);break}case De.CODE_POINTS.EOF:{this.emitCurrentDoctype(i),this._emitEOFToken();break}}}},{key:"_stateCdataSection",value:function(r){switch(r){case De.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=$e.CDATA_SECTION_BRACKET;break}case De.CODE_POINTS.EOF:{this._err(jt.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(r)}}},{key:"_stateCdataSectionBracket",value:function(r){r===De.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=$e.CDATA_SECTION_END:(this._emitChars("]"),this.state=$e.CDATA_SECTION,this._stateCdataSection(r))}},{key:"_stateCdataSectionEnd",value:function(r){switch(r){case De.CODE_POINTS.GREATER_THAN_SIGN:{this.state=$e.DATA;break}case De.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=$e.CDATA_SECTION,this._stateCdataSection(r)}}},{key:"_stateCharacterReference",value:function(r){r===De.CODE_POINTS.NUMBER_SIGN?this.state=$e.NUMERIC_CHARACTER_REFERENCE:E5(r)?(this.state=$e.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(r)):(this._flushCodePointConsumedAsCharacterReference(De.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,r))}},{key:"_stateNamedCharacterReference",value:function(r){const i=this._matchNamedCharacterReference(r);if(!this._ensureHibernation())if(i){for(let n=0;n<i.length;n++)this._flushCodePointConsumedAsCharacterReference(i[n]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(De.CODE_POINTS.AMPERSAND),this.state=$e.AMBIGUOUS_AMPERSAND}},{key:"_stateAmbiguousAmpersand",value:function(r){E5(r)?this._flushCodePointConsumedAsCharacterReference(r):(r===De.CODE_POINTS.SEMICOLON&&this._err(jt.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,r))}},{key:"_stateNumericCharacterReference",value:function(r){this.charRefCode=0,r===De.CODE_POINTS.LATIN_SMALL_X||r===De.CODE_POINTS.LATIN_CAPITAL_X?this.state=$e.HEXADEMICAL_CHARACTER_REFERENCE_START:Qb(r)?(this.state=$e.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(r)):(this._err(jt.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(De.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(De.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,r))}},{key:"_stateHexademicalCharacterReferenceStart",value:function(r){Mxe(r)?(this.state=$e.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(r)):(this._err(jt.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(De.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(De.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}},{key:"_stateHexademicalCharacterReference",value:function(r){rX(r)?this.charRefCode=this.charRefCode*16+r-55:nX(r)?this.charRefCode=this.charRefCode*16+r-87:Qb(r)?this.charRefCode=this.charRefCode*16+r-48:r===De.CODE_POINTS.SEMICOLON?this.state=$e.NUMERIC_CHARACTER_REFERENCE_END:(this._err(jt.ERR.missingSemicolonAfterCharacterReference),this.state=$e.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(r))}},{key:"_stateDecimalCharacterReference",value:function(r){Qb(r)?this.charRefCode=this.charRefCode*10+r-48:r===De.CODE_POINTS.SEMICOLON?this.state=$e.NUMERIC_CHARACTER_REFERENCE_END:(this._err(jt.ERR.missingSemicolonAfterCharacterReference),this.state=$e.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(r))}},{key:"_stateNumericCharacterReferenceEnd",value:function(r){if(this.charRefCode===De.CODE_POINTS.NULL)this._err(jt.ERR.nullCharacterReference),this.charRefCode=De.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(jt.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=De.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,De.isSurrogate)(this.charRefCode))this._err(jt.ERR.surrogateCharacterReference),this.charRefCode=De.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,De.isUndefinedCodePoint)(this.charRefCode))this._err(jt.ERR.noncharacterCharacterReference);else if((0,De.isControlCodePoint)(this.charRefCode)||this.charRefCode===De.CODE_POINTS.CARRIAGE_RETURN){this._err(jt.ERR.controlCharacterReference);const i=Rxe.get(this.charRefCode);i!==void 0&&(this.charRefCode=i)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,r)}}]),e})();kg.Tokenizer=Bxe;var sD={};Object.defineProperty(sD,"__esModule",{value:!0}),sD.OpenElementStack=void 0;const Xt=Nf,oX=new Set([Xt.TAG_ID.DD,Xt.TAG_ID.DT,Xt.TAG_ID.LI,Xt.TAG_ID.OPTGROUP,Xt.TAG_ID.OPTION,Xt.TAG_ID.P,Xt.TAG_ID.RB,Xt.TAG_ID.RP,Xt.TAG_ID.RT,Xt.TAG_ID.RTC]),sX=new Set([...oX,Xt.TAG_ID.CAPTION,Xt.TAG_ID.COLGROUP,Xt.TAG_ID.TBODY,Xt.TAG_ID.TD,Xt.TAG_ID.TFOOT,Xt.TAG_ID.TH,Xt.TAG_ID.THEAD,Xt.TAG_ID.TR]),lD=new Map([[Xt.TAG_ID.APPLET,Xt.NS.HTML],[Xt.TAG_ID.CAPTION,Xt.NS.HTML],[Xt.TAG_ID.HTML,Xt.NS.HTML],[Xt.TAG_ID.MARQUEE,Xt.NS.HTML],[Xt.TAG_ID.OBJECT,Xt.NS.HTML],[Xt.TAG_ID.TABLE,Xt.NS.HTML],[Xt.TAG_ID.TD,Xt.NS.HTML],[Xt.TAG_ID.TEMPLATE,Xt.NS.HTML],[Xt.TAG_ID.TH,Xt.NS.HTML],[Xt.TAG_ID.ANNOTATION_XML,Xt.NS.MATHML],[Xt.TAG_ID.MI,Xt.NS.MATHML],[Xt.TAG_ID.MN,Xt.NS.MATHML],[Xt.TAG_ID.MO,Xt.NS.MATHML],[Xt.TAG_ID.MS,Xt.NS.MATHML],[Xt.TAG_ID.MTEXT,Xt.NS.MATHML],[Xt.TAG_ID.DESC,Xt.NS.SVG],[Xt.TAG_ID.FOREIGN_OBJECT,Xt.NS.SVG],[Xt.TAG_ID.TITLE,Xt.NS.SVG]]),Fxe=[Xt.TAG_ID.H1,Xt.TAG_ID.H2,Xt.TAG_ID.H3,Xt.TAG_ID.H4,Xt.TAG_ID.H5,Xt.TAG_ID.H6],Uxe=[Xt.TAG_ID.TR,Xt.TAG_ID.TEMPLATE,Xt.TAG_ID.HTML],Hxe=[Xt.TAG_ID.TBODY,Xt.TAG_ID.TFOOT,Xt.TAG_ID.THEAD,Xt.TAG_ID.TEMPLATE,Xt.TAG_ID.HTML],$xe=[Xt.TAG_ID.TABLE,Xt.TAG_ID.TEMPLATE,Xt.TAG_ID.HTML],Gxe=[Xt.TAG_ID.TD,Xt.TAG_ID.TH];let zxe=(function(){function e(t,r,i){H(this,e),this.treeAdapter=r,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=Xt.TAG_ID.UNKNOWN,this.current=t}return j(e,[{key:"currentTmplContentOrNode",get:function(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}},{key:"_indexOf",value:function(r){return this.items.lastIndexOf(r,this.stackTop)}},{key:"_isInTemplate",value:function(){return this.currentTagId===Xt.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Xt.NS.HTML}},{key:"_updateCurrentElement",value:function(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}},{key:"push",value:function(r,i){this.stackTop++,this.items[this.stackTop]=r,this.current=r,this.tagIDs[this.stackTop]=i,this.currentTagId=i,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(r,i,!0)}},{key:"pop",value:function(){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!0)}},{key:"replace",value:function(r,i){const n=this._indexOf(r);this.items[n]=i,n===this.stackTop&&(this.current=i)}},{key:"insertAfter",value:function(r,i,n){const s=this._indexOf(r)+1;this.items.splice(s,0,i),this.tagIDs.splice(s,0,n),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}},{key:"popUntilTagNamePopped",value:function(r){let i=this.stackTop+1;do i=this.tagIDs.lastIndexOf(r,i-1);while(i>0&&this.treeAdapter.getNamespaceURI(this.items[i])!==Xt.NS.HTML);this.shortenToLength(i<0?0:i)}},{key:"shortenToLength",value:function(r){for(;this.stackTop>=r;){const i=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(i,this.stackTop<r)}}},{key:"popUntilElementPopped",value:function(r){const i=this._indexOf(r);this.shortenToLength(i<0?0:i)}},{key:"popUntilPopped",value:function(r,i){const n=this._indexOfTagNames(r,i);this.shortenToLength(n<0?0:n)}},{key:"popUntilNumberedHeaderPopped",value:function(){this.popUntilPopped(Fxe,Xt.NS.HTML)}},{key:"popUntilTableCellPopped",value:function(){this.popUntilPopped(Gxe,Xt.NS.HTML)}},{key:"popAllUpToHtmlElement",value:function(){this.tmplCount=0,this.shortenToLength(1)}},{key:"_indexOfTagNames",value:function(r,i){for(let n=this.stackTop;n>=0;n--)if(r.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===i)return n;return-1}},{key:"clearBackTo",value:function(r,i){const n=this._indexOfTagNames(r,i);this.shortenToLength(n+1)}},{key:"clearBackToTableContext",value:function(){this.clearBackTo($xe,Xt.NS.HTML)}},{key:"clearBackToTableBodyContext",value:function(){this.clearBackTo(Hxe,Xt.NS.HTML)}},{key:"clearBackToTableRowContext",value:function(){this.clearBackTo(Uxe,Xt.NS.HTML)}},{key:"remove",value:function(r){const i=this._indexOf(r);i>=0&&(i===this.stackTop?this.pop():(this.items.splice(i,1),this.tagIDs.splice(i,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!1)))}},{key:"tryPeekProperlyNestedBodyElement",value:function(){return this.stackTop>=1&&this.tagIDs[1]===Xt.TAG_ID.BODY?this.items[1]:null}},{key:"contains",value:function(r){return this._indexOf(r)>-1}},{key:"getCommonAncestor",value:function(r){const i=this._indexOf(r)-1;return i>=0?this.items[i]:null}},{key:"isRootHtmlElementCurrent",value:function(){return this.stackTop===0&&this.tagIDs[0]===Xt.TAG_ID.HTML}},{key:"hasInScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i],s=this.treeAdapter.getNamespaceURI(this.items[i]);if(n===r&&s===Xt.NS.HTML)return!0;if(lD.get(n)===s)return!1}return!0}},{key:"hasNumberedHeaderInScope",value:function(){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r],n=this.treeAdapter.getNamespaceURI(this.items[r]);if((0,Xt.isNumberedHeader)(i)&&n===Xt.NS.HTML)return!0;if(lD.get(i)===n)return!1}return!0}},{key:"hasInListItemScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i],s=this.treeAdapter.getNamespaceURI(this.items[i]);if(n===r&&s===Xt.NS.HTML)return!0;if((n===Xt.TAG_ID.UL||n===Xt.TAG_ID.OL)&&s===Xt.NS.HTML||lD.get(n)===s)return!1}return!0}},{key:"hasInButtonScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i],s=this.treeAdapter.getNamespaceURI(this.items[i]);if(n===r&&s===Xt.NS.HTML)return!0;if(n===Xt.TAG_ID.BUTTON&&s===Xt.NS.HTML||lD.get(n)===s)return!1}return!0}},{key:"hasInTableScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i];if(this.treeAdapter.getNamespaceURI(this.items[i])===Xt.NS.HTML){if(n===r)return!0;if(n===Xt.TAG_ID.TABLE||n===Xt.TAG_ID.TEMPLATE||n===Xt.TAG_ID.HTML)return!1}}return!0}},{key:"hasTableBodyContextInTableScope",value:function(){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===Xt.NS.HTML){if(i===Xt.TAG_ID.TBODY||i===Xt.TAG_ID.THEAD||i===Xt.TAG_ID.TFOOT)return!0;if(i===Xt.TAG_ID.TABLE||i===Xt.TAG_ID.HTML)return!1}}return!0}},{key:"hasInSelectScope",value:function(r){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i];if(this.treeAdapter.getNamespaceURI(this.items[i])===Xt.NS.HTML){if(n===r)return!0;if(n!==Xt.TAG_ID.OPTION&&n!==Xt.TAG_ID.OPTGROUP)return!1}}return!0}},{key:"generateImpliedEndTags",value:function(){for(;oX.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsThoroughly",value:function(){for(;sX.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsWithExclusion",value:function(r){for(;this.currentTagId!==r&&sX.has(this.currentTagId);)this.pop()}}]),e})();sD.OpenElementStack=zxe;var lX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingElementList=e.EntryType=void 0;const t=3;var r;(function(s){s[s.Marker=0]="Marker",s[s.Element=1]="Element"})(r=e.EntryType||(e.EntryType={}));const i={type:r.Marker};let n=(function(){function s(c){H(this,s),this.treeAdapter=c,this.entries=[],this.bookmark=null}return j(s,[{key:"_getNoahArkConditionCandidates",value:function(h,p){const m=[],d=p.length,E=this.treeAdapter.getTagName(h),_=this.treeAdapter.getNamespaceURI(h);for(let T=0;T<this.entries.length;T++){const C=this.entries[T];if(C.type===r.Marker)break;const{element:A}=C;if(this.treeAdapter.getTagName(A)===E&&this.treeAdapter.getNamespaceURI(A)===_){const D=this.treeAdapter.getAttrList(A);D.length===d&&m.push({idx:T,attrs:D})}}return m}},{key:"_ensureNoahArkCondition",value:function(h){if(this.entries.length<t)return;const p=this.treeAdapter.getAttrList(h),m=this._getNoahArkConditionCandidates(h,p);if(m.length<t)return;const d=new Map(p.map(_=>[_.name,_.value]));let E=0;for(let _=0;_<m.length;_++){const T=m[_];T.attrs.every(C=>d.get(C.name)===C.value)&&(E+=1,E>=t&&this.entries.splice(T.idx,1))}}},{key:"insertMarker",value:function(){this.entries.unshift(i)}},{key:"pushElement",value:function(h,p){this._ensureNoahArkCondition(h),this.entries.unshift({type:r.Element,element:h,token:p})}},{key:"insertElementAfterBookmark",value:function(h,p){const m=this.entries.indexOf(this.bookmark);this.entries.splice(m,0,{type:r.Element,element:h,token:p})}},{key:"removeEntry",value:function(h){const p=this.entries.indexOf(h);p>=0&&this.entries.splice(p,1)}},{key:"clearToLastMarker",value:function(){const h=this.entries.indexOf(i);h>=0?this.entries.splice(0,h+1):this.entries.length=0}},{key:"getElementEntryInScopeWithTagName",value:function(h){const p=this.entries.find(m=>m.type===r.Marker||this.treeAdapter.getTagName(m.element)===h);return p&&p.type===r.Element?p:null}},{key:"getElementEntry",value:function(h){return this.entries.find(p=>p.type===r.Element&&p.element===h)}}]),s})();e.FormattingElementList=n})(lX);var uD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=Nf;function r(i){return{nodeName:"#text",value:i,parentNode:null}}e.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(i,n,s){return{nodeName:i,tagName:i,attrs:s,namespaceURI:n,childNodes:[],parentNode:null}},createCommentNode(i){return{nodeName:"#comment",data:i,parentNode:null}},appendChild(i,n){i.childNodes.push(n),n.parentNode=i},insertBefore(i,n,s){const c=i.childNodes.indexOf(s);i.childNodes.splice(c,0,n),n.parentNode=i},setTemplateContent(i,n){i.content=n},getTemplateContent(i){return i.content},setDocumentType(i,n,s,c){const h=i.childNodes.find(p=>p.nodeName==="#documentType");if(h)h.name=n,h.publicId=s,h.systemId=c;else{const p={nodeName:"#documentType",name:n,publicId:s,systemId:c,parentNode:null};e.defaultTreeAdapter.appendChild(i,p)}},setDocumentMode(i,n){i.mode=n},getDocumentMode(i){return i.mode},detachNode(i){if(i.parentNode){const n=i.parentNode.childNodes.indexOf(i);i.parentNode.childNodes.splice(n,1),i.parentNode=null}},insertText(i,n){if(i.childNodes.length>0){const s=i.childNodes[i.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(s)){s.value+=n;return}}e.defaultTreeAdapter.appendChild(i,r(n))},insertTextBefore(i,n,s){const c=i.childNodes[i.childNodes.indexOf(s)-1];c&&e.defaultTreeAdapter.isTextNode(c)?c.value+=n:e.defaultTreeAdapter.insertBefore(i,r(n),s)},adoptAttributes(i,n){const s=new Set(i.attrs.map(c=>c.name));for(let c=0;c<n.length;c++)s.has(n[c].name)||i.attrs.push(n[c])},getFirstChild(i){return i.childNodes[0]},getChildNodes(i){return i.childNodes},getParentNode(i){return i.parentNode},getAttrList(i){return i.attrs},getTagName(i){return i.tagName},getNamespaceURI(i){return i.namespaceURI},getTextNodeContent(i){return i.value},getCommentNodeContent(i){return i.data},getDocumentTypeNodeName(i){return i.name},getDocumentTypeNodePublicId(i){return i.publicId},getDocumentTypeNodeSystemId(i){return i.systemId},isTextNode(i){return i.nodeName==="#text"},isCommentNode(i){return i.nodeName==="#comment"},isDocumentTypeNode(i){return i.nodeName==="#documentType"},isElementNode(i){return Object.prototype.hasOwnProperty.call(i,"tagName")},setNodeSourceCodeLocation(i,n){i.sourceCodeLocation=n},getNodeSourceCodeLocation(i){return i.sourceCodeLocation},updateNodeSourceCodeLocation(i,n){i.sourceCodeLocation=Object.assign(Object.assign({},i.sourceCodeLocation),n)}}})(uD);var d1={};Object.defineProperty(d1,"__esModule",{value:!0}),d1.getDocumentMode=d1.isConforming=void 0;const p1=Nf,uX="html",jxe="about:legacy-compat",Vxe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",cX=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Wxe=[...cX,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Yxe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),hX=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Xxe=[...hX,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function fX(e,t){return t.some(r=>e.startsWith(r))}function qxe(e){return e.name===uX&&e.publicId===null&&(e.systemId===null||e.systemId===jxe)}d1.isConforming=qxe;function Kxe(e){if(e.name!==uX)return p1.DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Vxe)return p1.DOCUMENT_MODE.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),Yxe.has(r))return p1.DOCUMENT_MODE.QUIRKS;let i=t===null?Wxe:cX;if(fX(r,i))return p1.DOCUMENT_MODE.QUIRKS;if(i=t===null?hX:Xxe,fX(r,i))return p1.DOCUMENT_MODE.LIMITED_QUIRKS}return p1.DOCUMENT_MODE.NO_QUIRKS}d1.getDocumentMode=Kxe;var T5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIntegrationPoint=e.adjustTokenSVGTagName=e.adjustTokenXMLAttrs=e.adjustTokenSVGAttrs=e.adjustTokenMathMLAttrs=e.causesExit=e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const t=Nf,r={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},i="definitionurl",n="definitionURL",s=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(D=>[D.toLowerCase(),D])),c=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:t.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(D=>[D.toLowerCase(),D]));const h=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);function p(D){const O=D.tagID;return O===t.TAG_ID.FONT&&D.attrs.some(({name:P})=>P===t.ATTRS.COLOR||P===t.ATTRS.SIZE||P===t.ATTRS.FACE)||h.has(O)}e.causesExit=p;function m(D){for(let O=0;O<D.attrs.length;O++)if(D.attrs[O].name===i){D.attrs[O].name=n;break}}e.adjustTokenMathMLAttrs=m;function d(D){for(let O=0;O<D.attrs.length;O++){const B=s.get(D.attrs[O].name);B!=null&&(D.attrs[O].name=B)}}e.adjustTokenSVGAttrs=d;function E(D){for(let O=0;O<D.attrs.length;O++){const B=c.get(D.attrs[O].name);B&&(D.attrs[O].prefix=B.prefix,D.attrs[O].name=B.name,D.attrs[O].namespace=B.namespace)}}e.adjustTokenXMLAttrs=E;function _(D){const O=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(D.tagName);O!=null&&(D.tagName=O,D.tagID=(0,t.getTagID)(D.tagName))}e.adjustTokenSVGTagName=_;function T(D,O){return O===t.NS.MATHML&&(D===t.TAG_ID.MI||D===t.TAG_ID.MO||D===t.TAG_ID.MN||D===t.TAG_ID.MS||D===t.TAG_ID.MTEXT)}function C(D,O,B){if(O===t.NS.MATHML&&D===t.TAG_ID.ANNOTATION_XML){for(let P=0;P<B.length;P++)if(B[P].name===t.ATTRS.ENCODING){const R=B[P].value.toLowerCase();return R===r.TEXT_HTML||R===r.APPLICATION_XML}}return O===t.NS.SVG&&(D===t.TAG_ID.FOREIGN_OBJECT||D===t.TAG_ID.DESC||D===t.TAG_ID.TITLE)}function A(D,O,B,P){return(!P||P===t.NS.HTML)&&C(D,O,B)||(!P||P===t.NS.MATHML)&&T(D,O)}e.isIntegrationPoint=A})(T5),Object.defineProperty(Kb,"__esModule",{value:!0}),Kb.Parser=void 0;const Ds=kg,Zxe=sD,dX=lX,Qxe=uD,pX=d1,Sh=T5,Uo=Zb,mX=iD,re=Nf,so=aD,Jxe="hidden",eIe=8,tIe=3;var et;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(et||(et={}));const rIe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},gX=new Set([re.TAG_ID.TABLE,re.TAG_ID.TBODY,re.TAG_ID.TFOOT,re.TAG_ID.THEAD,re.TAG_ID.TR]),vX={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Qxe.defaultTreeAdapter,onParseError:null};let nIe=(function(){function e(t,r,i=null,n=null){H(this,e),this.fragmentContext=i,this.scriptHandler=n,this.currentToken=null,this.stopped=!1,this.insertionMode=et.INITIAL,this.originalInsertionMode=et.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},vX),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Ds.Tokenizer(this.options,this),this.activeFormattingElements=new dX.FormattingElementList(this.treeAdapter),this.fragmentContextID=i?(0,re.getTagID)(this.treeAdapter.getTagName(i)):re.TAG_ID.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new Zxe.OpenElementStack(this.document,this.treeAdapter,this)}return j(e,[{key:"getFragment",value:function(){const r=this.treeAdapter.getFirstChild(this.document),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i}},{key:"_err",value:function(r,i,n){var s;if(!this.onParseError)return;const c=(s=r.location)!==null&&s!==void 0?s:rIe,h={code:i,startLine:c.startLine,startCol:c.startCol,startOffset:c.startOffset,endLine:n?c.startLine:c.endLine,endCol:n?c.startCol:c.endCol,endOffset:n?c.startOffset:c.endOffset};this.onParseError(h)}},{key:"onItemPush",value:function(r,i,n){var s,c;(c=(s=this.treeAdapter).onItemPush)===null||c===void 0||c.call(s,r),n&&this.openElements.stackTop>0&&this._setContextModes(r,i)}},{key:"onItemPop",value:function(r,i){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(r,this.currentToken),(s=(n=this.treeAdapter).onItemPop)===null||s===void 0||s.call(n,r,this.openElements.current),i){let c,h;this.openElements.stackTop===0&&this.fragmentContext?(c=this.fragmentContext,h=this.fragmentContextID):{current:c,currentTagId:h}=this.openElements,this._setContextModes(c,h)}}},{key:"_setContextModes",value:function(r,i){const n=r===this.document||this.treeAdapter.getNamespaceURI(r)===re.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(i,r)}},{key:"_switchToTextParsing",value:function(r,i){this._insertElement(r,re.NS.HTML),this.tokenizer.state=i,this.originalInsertionMode=this.insertionMode,this.insertionMode=et.TEXT}},{key:"switchToPlaintextParsing",value:function(){this.insertionMode=et.TEXT,this.originalInsertionMode=et.IN_BODY,this.tokenizer.state=Ds.TokenizerMode.PLAINTEXT}},{key:"_getAdjustedCurrentElement",value:function(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}},{key:"_findFormInFragmentContext",value:function(){let r=this.fragmentContext;for(;r;){if(this.treeAdapter.getTagName(r)===re.TAG_NAMES.FORM){this.formElement=r;break}r=this.treeAdapter.getParentNode(r)}}},{key:"_initTokenizerForFragmentParsing",value:function(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==re.NS.HTML))switch(this.fragmentContextID){case re.TAG_ID.TITLE:case re.TAG_ID.TEXTAREA:{this.tokenizer.state=Ds.TokenizerMode.RCDATA;break}case re.TAG_ID.STYLE:case re.TAG_ID.XMP:case re.TAG_ID.IFRAME:case re.TAG_ID.NOEMBED:case re.TAG_ID.NOFRAMES:case re.TAG_ID.NOSCRIPT:{this.tokenizer.state=Ds.TokenizerMode.RAWTEXT;break}case re.TAG_ID.SCRIPT:{this.tokenizer.state=Ds.TokenizerMode.SCRIPT_DATA;break}case re.TAG_ID.PLAINTEXT:{this.tokenizer.state=Ds.TokenizerMode.PLAINTEXT;break}}}},{key:"_setDocumentType",value:function(r){const i=r.name||"",n=r.publicId||"",s=r.systemId||"";if(this.treeAdapter.setDocumentType(this.document,i,n,s),r.location){const h=this.treeAdapter.getChildNodes(this.document).find(p=>this.treeAdapter.isDocumentTypeNode(p));h&&this.treeAdapter.setNodeSourceCodeLocation(h,r.location)}}},{key:"_attachElementToTree",value:function(r,i){if(this.options.sourceCodeLocationInfo){const n=i&&Object.assign(Object.assign({},i),{startTag:i});this.treeAdapter.setNodeSourceCodeLocation(r,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(r);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n,r)}}},{key:"_appendElement",value:function(r,i){const n=this.treeAdapter.createElement(r.tagName,i,r.attrs);this._attachElementToTree(n,r.location)}},{key:"_insertElement",value:function(r,i){const n=this.treeAdapter.createElement(r.tagName,i,r.attrs);this._attachElementToTree(n,r.location),this.openElements.push(n,r.tagID)}},{key:"_insertFakeElement",value:function(r,i){const n=this.treeAdapter.createElement(r,re.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,i)}},{key:"_insertTemplate",value:function(r){const i=this.treeAdapter.createElement(r.tagName,re.NS.HTML,r.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(i,n),this._attachElementToTree(i,r.location),this.openElements.push(i,r.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}},{key:"_insertFakeRootElement",value:function(){const r=this.treeAdapter.createElement(re.TAG_NAMES.HTML,re.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null),this.treeAdapter.appendChild(this.openElements.current,r),this.openElements.push(r,re.TAG_ID.HTML)}},{key:"_appendCommentNode",value:function(r,i){const n=this.treeAdapter.createCommentNode(r.data);this.treeAdapter.appendChild(i,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,r.location)}},{key:"_insertCharacters",value:function(r){let i,n;if(this._shouldFosterParentOnInsertion()?({parent:i,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(i,r.chars,n):this.treeAdapter.insertText(i,r.chars)):(i=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(i,r.chars)),!r.location)return;const s=this.treeAdapter.getChildNodes(i),c=n?s.lastIndexOf(n):s.length,h=s[c-1];if(this.treeAdapter.getNodeSourceCodeLocation(h)){const{endLine:m,endCol:d,endOffset:E}=r.location;this.treeAdapter.updateNodeSourceCodeLocation(h,{endLine:m,endCol:d,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(h,r.location)}},{key:"_adoptNodes",value:function(r,i){for(let n=this.treeAdapter.getFirstChild(r);n;n=this.treeAdapter.getFirstChild(r))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(i,n)}},{key:"_setEndLocation",value:function(r,i){if(this.treeAdapter.getNodeSourceCodeLocation(r)&&i.location){const n=i.location,s=this.treeAdapter.getTagName(r),c=i.type===so.TokenType.END_TAG&&s===i.tagName?{endTag:Object.assign({},n),endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(r,c)}}},{key:"shouldProcessStartTagTokenInForeignContent",value:function(r){if(!this.currentNotInHTML)return!1;let i,n;return this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,n=this.fragmentContextID):{current:i,currentTagId:n}=this.openElements,r.tagID===re.TAG_ID.SVG&&this.treeAdapter.getTagName(i)===re.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(i)===re.NS.MATHML?!1:this.tokenizer.inForeignNode||(r.tagID===re.TAG_ID.MGLYPH||r.tagID===re.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,i,re.NS.HTML)}},{key:"_processToken",value:function(r){switch(r.type){case so.TokenType.CHARACTER:{this.onCharacter(r);break}case so.TokenType.NULL_CHARACTER:{this.onNullCharacter(r);break}case so.TokenType.COMMENT:{this.onComment(r);break}case so.TokenType.DOCTYPE:{this.onDoctype(r);break}case so.TokenType.START_TAG:{this._processStartTag(r);break}case so.TokenType.END_TAG:{this.onEndTag(r);break}case so.TokenType.EOF:{this.onEof(r);break}case so.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(r);break}}}},{key:"_isIntegrationPoint",value:function(r,i,n){const s=this.treeAdapter.getNamespaceURI(i),c=this.treeAdapter.getAttrList(i);return Sh.isIntegrationPoint(r,s,c,n)}},{key:"_reconstructActiveFormattingElements",value:function(){const r=this.activeFormattingElements.entries.length;if(r){const i=this.activeFormattingElements.entries.findIndex(s=>s.type===dX.EntryType.Marker||this.openElements.contains(s.element)),n=i<0?r-1:i-1;for(let s=n;s>=0;s--){const c=this.activeFormattingElements.entries[s];this._insertElement(c.token,this.treeAdapter.getNamespaceURI(c.element)),c.element=this.openElements.current}}}},{key:"_closeTableCell",value:function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=et.IN_ROW}},{key:"_closePElement",value:function(){this.openElements.generateImpliedEndTagsWithExclusion(re.TAG_ID.P),this.openElements.popUntilTagNamePopped(re.TAG_ID.P)}},{key:"_resetInsertionMode",value:function(){for(let r=this.openElements.stackTop;r>=0;r--)switch(r===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[r]){case re.TAG_ID.TR:{this.insertionMode=et.IN_ROW;return}case re.TAG_ID.TBODY:case re.TAG_ID.THEAD:case re.TAG_ID.TFOOT:{this.insertionMode=et.IN_TABLE_BODY;return}case re.TAG_ID.CAPTION:{this.insertionMode=et.IN_CAPTION;return}case re.TAG_ID.COLGROUP:{this.insertionMode=et.IN_COLUMN_GROUP;return}case re.TAG_ID.TABLE:{this.insertionMode=et.IN_TABLE;return}case re.TAG_ID.BODY:{this.insertionMode=et.IN_BODY;return}case re.TAG_ID.FRAMESET:{this.insertionMode=et.IN_FRAMESET;return}case re.TAG_ID.SELECT:{this._resetInsertionModeForSelect(r);return}case re.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case re.TAG_ID.HTML:{this.insertionMode=this.headElement?et.AFTER_HEAD:et.BEFORE_HEAD;return}case re.TAG_ID.TD:case re.TAG_ID.TH:{if(r>0){this.insertionMode=et.IN_CELL;return}break}case re.TAG_ID.HEAD:{if(r>0){this.insertionMode=et.IN_HEAD;return}break}}this.insertionMode=et.IN_BODY}},{key:"_resetInsertionModeForSelect",value:function(r){if(r>0)for(let i=r-1;i>0;i--){const n=this.openElements.tagIDs[i];if(n===re.TAG_ID.TEMPLATE)break;if(n===re.TAG_ID.TABLE){this.insertionMode=et.IN_SELECT_IN_TABLE;return}}this.insertionMode=et.IN_SELECT}},{key:"_isElementCausesFosterParenting",value:function(r){return gX.has(r)}},{key:"_shouldFosterParentOnInsertion",value:function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}},{key:"_findFosterParentingLocation",value:function(){for(let r=this.openElements.stackTop;r>=0;r--){const i=this.openElements.items[r];switch(this.openElements.tagIDs[r]){case re.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(i)===re.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(i),beforeElement:null};break}case re.TAG_ID.TABLE:{const n=this.treeAdapter.getParentNode(i);return n?{parent:n,beforeElement:i}:{parent:this.openElements.items[r-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}},{key:"_fosterParentElement",value:function(r){const i=this._findFosterParentingLocation();i.beforeElement?this.treeAdapter.insertBefore(i.parent,r,i.beforeElement):this.treeAdapter.appendChild(i.parent,r)}},{key:"_isSpecialElement",value:function(r,i){const n=this.treeAdapter.getNamespaceURI(r);return re.SPECIAL_ELEMENTS[n].has(i)}},{key:"onCharacter",value:function(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){RDe(this,r);return}switch(this.insertionMode){case et.INITIAL:{eS(this,r);break}case et.BEFORE_HTML:{tS(this,r);break}case et.BEFORE_HEAD:{rS(this,r);break}case et.IN_HEAD:{nS(this,r);break}case et.IN_HEAD_NO_SCRIPT:{iS(this,r);break}case et.AFTER_HEAD:{aS(this,r);break}case et.IN_BODY:case et.IN_CAPTION:case et.IN_CELL:case et.IN_TEMPLATE:{_X(this,r);break}case et.TEXT:case et.IN_SELECT:case et.IN_SELECT_IN_TABLE:{this._insertCharacters(r);break}case et.IN_TABLE:case et.IN_TABLE_BODY:case et.IN_ROW:{A5(this,r);break}case et.IN_TABLE_TEXT:{xX(this,r);break}case et.IN_COLUMN_GROUP:{fD(this,r);break}case et.AFTER_BODY:{mD(this,r);break}case et.AFTER_AFTER_BODY:{gD(this,r);break}}}},{key:"onNullCharacter",value:function(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){PDe(this,r);return}switch(this.insertionMode){case et.INITIAL:{eS(this,r);break}case et.BEFORE_HTML:{tS(this,r);break}case et.BEFORE_HEAD:{rS(this,r);break}case et.IN_HEAD:{nS(this,r);break}case et.IN_HEAD_NO_SCRIPT:{iS(this,r);break}case et.AFTER_HEAD:{aS(this,r);break}case et.TEXT:{this._insertCharacters(r);break}case et.IN_TABLE:case et.IN_TABLE_BODY:case et.IN_ROW:{A5(this,r);break}case et.IN_COLUMN_GROUP:{fD(this,r);break}case et.AFTER_BODY:{mD(this,r);break}case et.AFTER_AFTER_BODY:{gD(this,r);break}}}},{key:"onComment",value:function(r){if(this.skipNextNewLine=!1,this.currentNotInHTML){S5(this,r);return}switch(this.insertionMode){case et.INITIAL:case et.BEFORE_HTML:case et.BEFORE_HEAD:case et.IN_HEAD:case et.IN_HEAD_NO_SCRIPT:case et.AFTER_HEAD:case et.IN_BODY:case et.IN_TABLE:case et.IN_CAPTION:case et.IN_COLUMN_GROUP:case et.IN_TABLE_BODY:case et.IN_ROW:case et.IN_CELL:case et.IN_SELECT:case et.IN_SELECT_IN_TABLE:case et.IN_TEMPLATE:case et.IN_FRAMESET:case et.AFTER_FRAMESET:{S5(this,r);break}case et.IN_TABLE_TEXT:{lS(this,r);break}case et.AFTER_BODY:{cIe(this,r);break}case et.AFTER_AFTER_BODY:case et.AFTER_AFTER_FRAMESET:{hIe(this,r);break}}}},{key:"onDoctype",value:function(r){switch(this.skipNextNewLine=!1,this.insertionMode){case et.INITIAL:{fIe(this,r);break}case et.BEFORE_HEAD:case et.IN_HEAD:case et.IN_HEAD_NO_SCRIPT:case et.AFTER_HEAD:{this._err(r,Uo.ERR.misplacedDoctype);break}case et.IN_TABLE_TEXT:{lS(this,r);break}}}},{key:"onStartTag",value:function(r){this.skipNextNewLine=!1,this.currentToken=r,this._processStartTag(r),r.selfClosing&&!r.ackSelfClosing&&this._err(r,Uo.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}},{key:"_processStartTag",value:function(r){this.shouldProcessStartTagTokenInForeignContent(r)?NDe(this,r):this._startTagOutsideForeignContent(r)}},{key:"_startTagOutsideForeignContent",value:function(r){switch(this.insertionMode){case et.INITIAL:{eS(this,r);break}case et.BEFORE_HTML:{dIe(this,r);break}case et.BEFORE_HEAD:{mIe(this,r);break}case et.IN_HEAD:{lc(this,r);break}case et.IN_HEAD_NO_SCRIPT:{yIe(this,r);break}case et.AFTER_HEAD:{EIe(this,r);break}case et.IN_BODY:{ss(this,r);break}case et.IN_TABLE:{m1(this,r);break}case et.IN_TABLE_TEXT:{lS(this,r);break}case et.IN_CAPTION:{gDe(this,r);break}case et.IN_COLUMN_GROUP:{w5(this,r);break}case et.IN_TABLE_BODY:{dD(this,r);break}case et.IN_ROW:{pD(this,r);break}case et.IN_CELL:{_De(this,r);break}case et.IN_SELECT:{OX(this,r);break}case et.IN_SELECT_IN_TABLE:{TDe(this,r);break}case et.IN_TEMPLATE:{SDe(this,r);break}case et.AFTER_BODY:{ADe(this,r);break}case et.IN_FRAMESET:{wDe(this,r);break}case et.AFTER_FRAMESET:{IDe(this,r);break}case et.AFTER_AFTER_BODY:{ODe(this,r);break}case et.AFTER_AFTER_FRAMESET:{kDe(this,r);break}}}},{key:"onEndTag",value:function(r){this.skipNextNewLine=!1,this.currentToken=r,this.currentNotInHTML?MDe(this,r):this._endTagOutsideForeignContent(r)}},{key:"_endTagOutsideForeignContent",value:function(r){switch(this.insertionMode){case et.INITIAL:{eS(this,r);break}case et.BEFORE_HTML:{pIe(this,r);break}case et.BEFORE_HEAD:{gIe(this,r);break}case et.IN_HEAD:{vIe(this,r);break}case et.IN_HEAD_NO_SCRIPT:{_Ie(this,r);break}case et.AFTER_HEAD:{TIe(this,r);break}case et.IN_BODY:{hD(this,r);break}case et.TEXT:{oDe(this,r);break}case et.IN_TABLE:{oS(this,r);break}case et.IN_TABLE_TEXT:{lS(this,r);break}case et.IN_CAPTION:{vDe(this,r);break}case et.IN_COLUMN_GROUP:{yDe(this,r);break}case et.IN_TABLE_BODY:{x5(this,r);break}case et.IN_ROW:{DX(this,r);break}case et.IN_CELL:{EDe(this,r);break}case et.IN_SELECT:{kX(this,r);break}case et.IN_SELECT_IN_TABLE:{bDe(this,r);break}case et.IN_TEMPLATE:{CDe(this,r);break}case et.AFTER_BODY:{RX(this,r);break}case et.IN_FRAMESET:{xDe(this,r);break}case et.AFTER_FRAMESET:{DDe(this,r);break}case et.AFTER_AFTER_BODY:{gD(this,r);break}}}},{key:"onEof",value:function(r){switch(this.insertionMode){case et.INITIAL:{eS(this,r);break}case et.BEFORE_HTML:{tS(this,r);break}case et.BEFORE_HEAD:{rS(this,r);break}case et.IN_HEAD:{nS(this,r);break}case et.IN_HEAD_NO_SCRIPT:{iS(this,r);break}case et.AFTER_HEAD:{aS(this,r);break}case et.IN_BODY:case et.IN_TABLE:case et.IN_CAPTION:case et.IN_COLUMN_GROUP:case et.IN_TABLE_BODY:case et.IN_ROW:case et.IN_CELL:case et.IN_SELECT:case et.IN_SELECT_IN_TABLE:{AX(this,r);break}case et.TEXT:{sDe(this,r);break}case et.IN_TABLE_TEXT:{lS(this,r);break}case et.IN_TEMPLATE:{PX(this,r);break}case et.AFTER_BODY:case et.IN_FRAMESET:case et.AFTER_FRAMESET:case et.AFTER_AFTER_BODY:case et.AFTER_AFTER_FRAMESET:{C5(this,r);break}}}},{key:"onWhitespaceCharacter",value:function(r){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,r.chars.charCodeAt(0)===mX.CODE_POINTS.LINE_FEED)){if(r.chars.length===1)return;r.chars=r.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(r);return}switch(this.insertionMode){case et.IN_HEAD:case et.IN_HEAD_NO_SCRIPT:case et.AFTER_HEAD:case et.TEXT:case et.IN_COLUMN_GROUP:case et.IN_SELECT:case et.IN_SELECT_IN_TABLE:case et.IN_FRAMESET:case et.AFTER_FRAMESET:{this._insertCharacters(r);break}case et.IN_BODY:case et.IN_CAPTION:case et.IN_CELL:case et.IN_TEMPLATE:case et.AFTER_BODY:case et.AFTER_AFTER_BODY:case et.AFTER_AFTER_FRAMESET:{yX(this,r);break}case et.IN_TABLE:case et.IN_TABLE_BODY:case et.IN_ROW:{A5(this,r);break}case et.IN_TABLE_TEXT:{wX(this,r);break}}}}],[{key:"parse",value:function(r,i){const n=new this(i);return n.tokenizer.write(r,!0),n.document}},{key:"getFragmentParser",value:function(r,i){const n=Object.assign(Object.assign({},vX),i);r??(r=n.treeAdapter.createElement(re.TAG_NAMES.TEMPLATE,re.NS.HTML,[]));const s=n.treeAdapter.createElement("documentmock",re.NS.HTML,[]),c=new this(n,s,r);return c.fragmentContextID===re.TAG_ID.TEMPLATE&&c.tmplInsertionModeStack.unshift(et.IN_TEMPLATE),c._initTokenizerForFragmentParsing(),c._insertFakeRootElement(),c._resetInsertionMode(),c._findFormInFragmentContext(),c}}]),e})();Kb.Parser=nIe;function iIe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):CX(e,t),r}function aIe(e,t){let r=null,i=e.openElements.stackTop;for(;i>=0;i--){const n=e.openElements.items[i];if(n===t.element)break;e._isSpecialElement(n,e.openElements.tagIDs[i])&&(r=n)}return r||(e.openElements.shortenToLength(i<0?0:i),e.activeFormattingElements.removeEntry(t)),r}function oIe(e,t,r){let i=t,n=e.openElements.getCommonAncestor(t);for(let s=0,c=n;c!==r;s++,c=n){n=e.openElements.getCommonAncestor(c);const h=e.activeFormattingElements.getElementEntry(c),p=h&&s>=tIe;!h||p?(p&&e.activeFormattingElements.removeEntry(h),e.openElements.remove(c)):(c=sIe(e,h),i===t&&(e.activeFormattingElements.bookmark=h),e.treeAdapter.detachNode(i),e.treeAdapter.appendChild(c,i),i=c)}return i}function sIe(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),i=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,i),t.element=i,i}function lIe(e,t,r){const i=e.treeAdapter.getTagName(t),n=(0,re.getTagID)(i);if(e._isElementCausesFosterParenting(n))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);n===re.TAG_ID.TEMPLATE&&s===re.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function uIe(e,t,r){const i=e.treeAdapter.getNamespaceURI(r.element),{token:n}=r,s=e.treeAdapter.createElement(n.tagName,i,n.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,n),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,n.tagID)}function b5(e,t){for(let r=0;r<eIe;r++){const i=iIe(e,t);if(!i)break;const n=aIe(e,i);if(!n)break;e.activeFormattingElements.bookmark=i;const s=oIe(e,n,i.element),c=e.openElements.getCommonAncestor(i.element);e.treeAdapter.detachNode(s),c&&lIe(e,c,s),uIe(e,n,i)}}function S5(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function cIe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function hIe(e,t){e._appendCommentNode(t,e.document)}function C5(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let i=e.openElements.stackTop;i>=r;i--)e._setEndLocation(e.openElements.items[i],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const i=e.openElements.items[0],n=e.treeAdapter.getNodeSourceCodeLocation(i);if(n&&!n.endTag&&(e._setEndLocation(i,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],c=e.treeAdapter.getNodeSourceCodeLocation(s);c&&!c.endTag&&e._setEndLocation(s,t)}}}}function fIe(e,t){e._setDocumentType(t);const r=t.forceQuirks?re.DOCUMENT_MODE.QUIRKS:pX.getDocumentMode(t);pX.isConforming(t)||e._err(t,Uo.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=et.BEFORE_HTML}function eS(e,t){e._err(t,Uo.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,re.DOCUMENT_MODE.QUIRKS),e.insertionMode=et.BEFORE_HTML,e._processToken(t)}function dIe(e,t){t.tagID===re.TAG_ID.HTML?(e._insertElement(t,re.NS.HTML),e.insertionMode=et.BEFORE_HEAD):tS(e,t)}function pIe(e,t){const r=t.tagID;(r===re.TAG_ID.HTML||r===re.TAG_ID.HEAD||r===re.TAG_ID.BODY||r===re.TAG_ID.BR)&&tS(e,t)}function tS(e,t){e._insertFakeRootElement(),e.insertionMode=et.BEFORE_HEAD,e._processToken(t)}function mIe(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.HEAD:{e._insertElement(t,re.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=et.IN_HEAD;break}default:rS(e,t)}}function gIe(e,t){const r=t.tagID;r===re.TAG_ID.HEAD||r===re.TAG_ID.BODY||r===re.TAG_ID.HTML||r===re.TAG_ID.BR?rS(e,t):e._err(t,Uo.ERR.endTagWithoutMatchingOpenElement)}function rS(e,t){e._insertFakeElement(re.TAG_NAMES.HEAD,re.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=et.IN_HEAD,e._processToken(t)}function lc(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.BASE:case re.TAG_ID.BASEFONT:case re.TAG_ID.BGSOUND:case re.TAG_ID.LINK:case re.TAG_ID.META:{e._appendElement(t,re.NS.HTML),t.ackSelfClosing=!0;break}case re.TAG_ID.TITLE:{e._switchToTextParsing(t,Ds.TokenizerMode.RCDATA);break}case re.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Ds.TokenizerMode.RAWTEXT):(e._insertElement(t,re.NS.HTML),e.insertionMode=et.IN_HEAD_NO_SCRIPT);break}case re.TAG_ID.NOFRAMES:case re.TAG_ID.STYLE:{e._switchToTextParsing(t,Ds.TokenizerMode.RAWTEXT);break}case re.TAG_ID.SCRIPT:{e._switchToTextParsing(t,Ds.TokenizerMode.SCRIPT_DATA);break}case re.TAG_ID.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=et.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(et.IN_TEMPLATE);break}case re.TAG_ID.HEAD:{e._err(t,Uo.ERR.misplacedStartTagForHeadElement);break}default:nS(e,t)}}function vIe(e,t){switch(t.tagID){case re.TAG_ID.HEAD:{e.openElements.pop(),e.insertionMode=et.AFTER_HEAD;break}case re.TAG_ID.BODY:case re.TAG_ID.BR:case re.TAG_ID.HTML:{nS(e,t);break}case re.TAG_ID.TEMPLATE:{Pg(e,t);break}default:e._err(t,Uo.ERR.endTagWithoutMatchingOpenElement)}}function Pg(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==re.TAG_ID.TEMPLATE&&e._err(t,Uo.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(re.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Uo.ERR.endTagWithoutMatchingOpenElement)}function nS(e,t){e.openElements.pop(),e.insertionMode=et.AFTER_HEAD,e._processToken(t)}function yIe(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.BASEFONT:case re.TAG_ID.BGSOUND:case re.TAG_ID.HEAD:case re.TAG_ID.LINK:case re.TAG_ID.META:case re.TAG_ID.NOFRAMES:case re.TAG_ID.STYLE:{lc(e,t);break}case re.TAG_ID.NOSCRIPT:{e._err(t,Uo.ERR.nestedNoscriptInHead);break}default:iS(e,t)}}function _Ie(e,t){switch(t.tagID){case re.TAG_ID.NOSCRIPT:{e.openElements.pop(),e.insertionMode=et.IN_HEAD;break}case re.TAG_ID.BR:{iS(e,t);break}default:e._err(t,Uo.ERR.endTagWithoutMatchingOpenElement)}}function iS(e,t){const r=t.type===so.TokenType.EOF?Uo.ERR.openElementsLeftAfterEof:Uo.ERR.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=et.IN_HEAD,e._processToken(t)}function EIe(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.BODY:{e._insertElement(t,re.NS.HTML),e.framesetOk=!1,e.insertionMode=et.IN_BODY;break}case re.TAG_ID.FRAMESET:{e._insertElement(t,re.NS.HTML),e.insertionMode=et.IN_FRAMESET;break}case re.TAG_ID.BASE:case re.TAG_ID.BASEFONT:case re.TAG_ID.BGSOUND:case re.TAG_ID.LINK:case re.TAG_ID.META:case re.TAG_ID.NOFRAMES:case re.TAG_ID.SCRIPT:case re.TAG_ID.STYLE:case re.TAG_ID.TEMPLATE:case re.TAG_ID.TITLE:{e._err(t,Uo.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,re.TAG_ID.HEAD),lc(e,t),e.openElements.remove(e.headElement);break}case re.TAG_ID.HEAD:{e._err(t,Uo.ERR.misplacedStartTagForHeadElement);break}default:aS(e,t)}}function TIe(e,t){switch(t.tagID){case re.TAG_ID.BODY:case re.TAG_ID.HTML:case re.TAG_ID.BR:{aS(e,t);break}case re.TAG_ID.TEMPLATE:{Pg(e,t);break}default:e._err(t,Uo.ERR.endTagWithoutMatchingOpenElement)}}function aS(e,t){e._insertFakeElement(re.TAG_NAMES.BODY,re.TAG_ID.BODY),e.insertionMode=et.IN_BODY,cD(e,t)}function cD(e,t){switch(t.type){case so.TokenType.CHARACTER:{_X(e,t);break}case so.TokenType.WHITESPACE_CHARACTER:{yX(e,t);break}case so.TokenType.COMMENT:{S5(e,t);break}case so.TokenType.START_TAG:{ss(e,t);break}case so.TokenType.END_TAG:{hD(e,t);break}case so.TokenType.EOF:{AX(e,t);break}}}function yX(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function _X(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function bIe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function SIe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function CIe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,re.NS.HTML),e.insertionMode=et.IN_FRAMESET)}function AIe(e,t){e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),e._insertElement(t,re.NS.HTML)}function wIe(e,t){e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),(0,re.isNumberedHeader)(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,re.NS.HTML)}function xIe(e,t){e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),e._insertElement(t,re.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function IIe(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),e._insertElement(t,re.NS.HTML),r||(e.formElement=e.openElements.current))}function DIe(e,t){e.framesetOk=!1;const r=t.tagID;for(let i=e.openElements.stackTop;i>=0;i--){const n=e.openElements.tagIDs[i];if(r===re.TAG_ID.LI&&n===re.TAG_ID.LI||(r===re.TAG_ID.DD||r===re.TAG_ID.DT)&&(n===re.TAG_ID.DD||n===re.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n);break}if(n!==re.TAG_ID.ADDRESS&&n!==re.TAG_ID.DIV&&n!==re.TAG_ID.P&&e._isSpecialElement(e.openElements.items[i],n))break}e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),e._insertElement(t,re.NS.HTML)}function OIe(e,t){e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),e._insertElement(t,re.NS.HTML),e.tokenizer.state=Ds.TokenizerMode.PLAINTEXT}function kIe(e,t){e.openElements.hasInScope(re.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(re.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.NS.HTML),e.framesetOk=!1}function PIe(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(re.TAG_NAMES.A);r&&(b5(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function RIe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function NIe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(re.TAG_ID.NOBR)&&(b5(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,re.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function MIe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function LIe(e,t){e.treeAdapter.getDocumentMode(e.document)!==re.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),e._insertElement(t,re.NS.HTML),e.framesetOk=!1,e.insertionMode=et.IN_TABLE}function EX(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function TX(e){const t=(0,so.getTokenAttr)(e,re.ATTRS.TYPE);return t!=null&&t.toLowerCase()===Jxe}function BIe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.NS.HTML),TX(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function FIe(e,t){e._appendElement(t,re.NS.HTML),t.ackSelfClosing=!0}function UIe(e,t){e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),e._appendElement(t,re.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function HIe(e,t){t.tagName=re.TAG_NAMES.IMG,t.tagID=re.TAG_ID.IMG,EX(e,t)}function $Ie(e,t){e._insertElement(t,re.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Ds.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=et.TEXT}function GIe(e,t){e.openElements.hasInButtonScope(re.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Ds.TokenizerMode.RAWTEXT)}function zIe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Ds.TokenizerMode.RAWTEXT)}function bX(e,t){e._switchToTextParsing(t,Ds.TokenizerMode.RAWTEXT)}function jIe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===et.IN_TABLE||e.insertionMode===et.IN_CAPTION||e.insertionMode===et.IN_TABLE_BODY||e.insertionMode===et.IN_ROW||e.insertionMode===et.IN_CELL?et.IN_SELECT_IN_TABLE:et.IN_SELECT}function VIe(e,t){e.openElements.currentTagId===re.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,re.NS.HTML)}function WIe(e,t){e.openElements.hasInScope(re.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,re.NS.HTML)}function YIe(e,t){e.openElements.hasInScope(re.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(re.TAG_ID.RTC),e._insertElement(t,re.NS.HTML)}function XIe(e,t){e._reconstructActiveFormattingElements(),Sh.adjustTokenMathMLAttrs(t),Sh.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,re.NS.MATHML):e._insertElement(t,re.NS.MATHML),t.ackSelfClosing=!0}function qIe(e,t){e._reconstructActiveFormattingElements(),Sh.adjustTokenSVGAttrs(t),Sh.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,re.NS.SVG):e._insertElement(t,re.NS.SVG),t.ackSelfClosing=!0}function SX(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.NS.HTML)}function ss(e,t){switch(t.tagID){case re.TAG_ID.I:case re.TAG_ID.S:case re.TAG_ID.B:case re.TAG_ID.U:case re.TAG_ID.EM:case re.TAG_ID.TT:case re.TAG_ID.BIG:case re.TAG_ID.CODE:case re.TAG_ID.FONT:case re.TAG_ID.SMALL:case re.TAG_ID.STRIKE:case re.TAG_ID.STRONG:{RIe(e,t);break}case re.TAG_ID.A:{PIe(e,t);break}case re.TAG_ID.H1:case re.TAG_ID.H2:case re.TAG_ID.H3:case re.TAG_ID.H4:case re.TAG_ID.H5:case re.TAG_ID.H6:{wIe(e,t);break}case re.TAG_ID.P:case re.TAG_ID.DL:case re.TAG_ID.OL:case re.TAG_ID.UL:case re.TAG_ID.DIV:case re.TAG_ID.DIR:case re.TAG_ID.NAV:case re.TAG_ID.MAIN:case re.TAG_ID.MENU:case re.TAG_ID.ASIDE:case re.TAG_ID.CENTER:case re.TAG_ID.FIGURE:case re.TAG_ID.FOOTER:case re.TAG_ID.HEADER:case re.TAG_ID.HGROUP:case re.TAG_ID.DIALOG:case re.TAG_ID.DETAILS:case re.TAG_ID.ADDRESS:case re.TAG_ID.ARTICLE:case re.TAG_ID.SECTION:case re.TAG_ID.SUMMARY:case re.TAG_ID.FIELDSET:case re.TAG_ID.BLOCKQUOTE:case re.TAG_ID.FIGCAPTION:{AIe(e,t);break}case re.TAG_ID.LI:case re.TAG_ID.DD:case re.TAG_ID.DT:{DIe(e,t);break}case re.TAG_ID.BR:case re.TAG_ID.IMG:case re.TAG_ID.WBR:case re.TAG_ID.AREA:case re.TAG_ID.EMBED:case re.TAG_ID.KEYGEN:{EX(e,t);break}case re.TAG_ID.HR:{UIe(e,t);break}case re.TAG_ID.RB:case re.TAG_ID.RTC:{WIe(e,t);break}case re.TAG_ID.RT:case re.TAG_ID.RP:{YIe(e,t);break}case re.TAG_ID.PRE:case re.TAG_ID.LISTING:{xIe(e,t);break}case re.TAG_ID.XMP:{GIe(e,t);break}case re.TAG_ID.SVG:{qIe(e,t);break}case re.TAG_ID.HTML:{bIe(e,t);break}case re.TAG_ID.BASE:case re.TAG_ID.LINK:case re.TAG_ID.META:case re.TAG_ID.STYLE:case re.TAG_ID.TITLE:case re.TAG_ID.SCRIPT:case re.TAG_ID.BGSOUND:case re.TAG_ID.BASEFONT:case re.TAG_ID.TEMPLATE:{lc(e,t);break}case re.TAG_ID.BODY:{SIe(e,t);break}case re.TAG_ID.FORM:{IIe(e,t);break}case re.TAG_ID.NOBR:{NIe(e,t);break}case re.TAG_ID.MATH:{XIe(e,t);break}case re.TAG_ID.TABLE:{LIe(e,t);break}case re.TAG_ID.INPUT:{BIe(e,t);break}case re.TAG_ID.PARAM:case re.TAG_ID.TRACK:case re.TAG_ID.SOURCE:{FIe(e,t);break}case re.TAG_ID.IMAGE:{HIe(e,t);break}case re.TAG_ID.BUTTON:{kIe(e,t);break}case re.TAG_ID.APPLET:case re.TAG_ID.OBJECT:case re.TAG_ID.MARQUEE:{MIe(e,t);break}case re.TAG_ID.IFRAME:{zIe(e,t);break}case re.TAG_ID.SELECT:{jIe(e,t);break}case re.TAG_ID.OPTION:case re.TAG_ID.OPTGROUP:{VIe(e,t);break}case re.TAG_ID.NOEMBED:{bX(e,t);break}case re.TAG_ID.FRAMESET:{CIe(e,t);break}case re.TAG_ID.TEXTAREA:{$Ie(e,t);break}case re.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?bX(e,t):SX(e,t);break}case re.TAG_ID.PLAINTEXT:{OIe(e,t);break}case re.TAG_ID.COL:case re.TAG_ID.TH:case re.TAG_ID.TD:case re.TAG_ID.TR:case re.TAG_ID.HEAD:case re.TAG_ID.FRAME:case re.TAG_ID.TBODY:case re.TAG_ID.TFOOT:case re.TAG_ID.THEAD:case re.TAG_ID.CAPTION:case re.TAG_ID.COLGROUP:break;default:SX(e,t)}}function KIe(e,t){if(e.openElements.hasInScope(re.TAG_ID.BODY)&&(e.insertionMode=et.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function ZIe(e,t){e.openElements.hasInScope(re.TAG_ID.BODY)&&(e.insertionMode=et.AFTER_BODY,RX(e,t))}function QIe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function JIe(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(re.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(re.TAG_ID.FORM):r&&e.openElements.remove(r))}function eDe(e){e.openElements.hasInButtonScope(re.TAG_ID.P)||e._insertFakeElement(re.TAG_NAMES.P,re.TAG_ID.P),e._closePElement()}function tDe(e){e.openElements.hasInListItemScope(re.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(re.TAG_ID.LI),e.openElements.popUntilTagNamePopped(re.TAG_ID.LI))}function rDe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function nDe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function iDe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function aDe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(re.TAG_NAMES.BR,re.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}function CX(e,t){const r=t.tagName,i=t.tagID;for(let n=e.openElements.stackTop;n>0;n--){const s=e.openElements.items[n],c=e.openElements.tagIDs[n];if(i===c&&(i!==re.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.stackTop>=n&&e.openElements.shortenToLength(n);break}if(e._isSpecialElement(s,c))break}}function hD(e,t){switch(t.tagID){case re.TAG_ID.A:case re.TAG_ID.B:case re.TAG_ID.I:case re.TAG_ID.S:case re.TAG_ID.U:case re.TAG_ID.EM:case re.TAG_ID.TT:case re.TAG_ID.BIG:case re.TAG_ID.CODE:case re.TAG_ID.FONT:case re.TAG_ID.NOBR:case re.TAG_ID.SMALL:case re.TAG_ID.STRIKE:case re.TAG_ID.STRONG:{b5(e,t);break}case re.TAG_ID.P:{eDe(e);break}case re.TAG_ID.DL:case re.TAG_ID.UL:case re.TAG_ID.OL:case re.TAG_ID.DIR:case re.TAG_ID.DIV:case re.TAG_ID.NAV:case re.TAG_ID.PRE:case re.TAG_ID.MAIN:case re.TAG_ID.MENU:case re.TAG_ID.ASIDE:case re.TAG_ID.BUTTON:case re.TAG_ID.CENTER:case re.TAG_ID.FIGURE:case re.TAG_ID.FOOTER:case re.TAG_ID.HEADER:case re.TAG_ID.HGROUP:case re.TAG_ID.DIALOG:case re.TAG_ID.ADDRESS:case re.TAG_ID.ARTICLE:case re.TAG_ID.DETAILS:case re.TAG_ID.SECTION:case re.TAG_ID.SUMMARY:case re.TAG_ID.LISTING:case re.TAG_ID.FIELDSET:case re.TAG_ID.BLOCKQUOTE:case re.TAG_ID.FIGCAPTION:{QIe(e,t);break}case re.TAG_ID.LI:{tDe(e);break}case re.TAG_ID.DD:case re.TAG_ID.DT:{rDe(e,t);break}case re.TAG_ID.H1:case re.TAG_ID.H2:case re.TAG_ID.H3:case re.TAG_ID.H4:case re.TAG_ID.H5:case re.TAG_ID.H6:{nDe(e);break}case re.TAG_ID.BR:{aDe(e);break}case re.TAG_ID.BODY:{KIe(e,t);break}case re.TAG_ID.HTML:{ZIe(e,t);break}case re.TAG_ID.FORM:{JIe(e);break}case re.TAG_ID.APPLET:case re.TAG_ID.OBJECT:case re.TAG_ID.MARQUEE:{iDe(e,t);break}case re.TAG_ID.TEMPLATE:{Pg(e,t);break}default:CX(e,t)}}function AX(e,t){e.tmplInsertionModeStack.length>0?PX(e,t):C5(e,t)}function oDe(e,t){var r;t.tagID===re.TAG_ID.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function sDe(e,t){e._err(t,Uo.ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function A5(e,t){if(gX.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=et.IN_TABLE_TEXT,t.type){case so.TokenType.CHARACTER:{xX(e,t);break}case so.TokenType.WHITESPACE_CHARACTER:{wX(e,t);break}}else sS(e,t)}function lDe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,re.NS.HTML),e.insertionMode=et.IN_CAPTION}function uDe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.NS.HTML),e.insertionMode=et.IN_COLUMN_GROUP}function cDe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(re.TAG_NAMES.COLGROUP,re.TAG_ID.COLGROUP),e.insertionMode=et.IN_COLUMN_GROUP,w5(e,t)}function hDe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.NS.HTML),e.insertionMode=et.IN_TABLE_BODY}function fDe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(re.TAG_NAMES.TBODY,re.TAG_ID.TBODY),e.insertionMode=et.IN_TABLE_BODY,dD(e,t)}function dDe(e,t){e.openElements.hasInTableScope(re.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(re.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function pDe(e,t){TX(t)?e._appendElement(t,re.NS.HTML):sS(e,t),t.ackSelfClosing=!0}function mDe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,re.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function m1(e,t){switch(t.tagID){case re.TAG_ID.TD:case re.TAG_ID.TH:case re.TAG_ID.TR:{fDe(e,t);break}case re.TAG_ID.STYLE:case re.TAG_ID.SCRIPT:case re.TAG_ID.TEMPLATE:{lc(e,t);break}case re.TAG_ID.COL:{cDe(e,t);break}case re.TAG_ID.FORM:{mDe(e,t);break}case re.TAG_ID.TABLE:{dDe(e,t);break}case re.TAG_ID.TBODY:case re.TAG_ID.TFOOT:case re.TAG_ID.THEAD:{hDe(e,t);break}case re.TAG_ID.INPUT:{pDe(e,t);break}case re.TAG_ID.CAPTION:{lDe(e,t);break}case re.TAG_ID.COLGROUP:{uDe(e,t);break}default:sS(e,t)}}function oS(e,t){switch(t.tagID){case re.TAG_ID.TABLE:{e.openElements.hasInTableScope(re.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(re.TAG_ID.TABLE),e._resetInsertionMode());break}case re.TAG_ID.TEMPLATE:{Pg(e,t);break}case re.TAG_ID.BODY:case re.TAG_ID.CAPTION:case re.TAG_ID.COL:case re.TAG_ID.COLGROUP:case re.TAG_ID.HTML:case re.TAG_ID.TBODY:case re.TAG_ID.TD:case re.TAG_ID.TFOOT:case re.TAG_ID.TH:case re.TAG_ID.THEAD:case re.TAG_ID.TR:break;default:sS(e,t)}}function sS(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,cD(e,t),e.fosterParentingEnabled=r}function wX(e,t){e.pendingCharacterTokens.push(t)}function xX(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function lS(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)sS(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const IX=new Set([re.TAG_ID.CAPTION,re.TAG_ID.COL,re.TAG_ID.COLGROUP,re.TAG_ID.TBODY,re.TAG_ID.TD,re.TAG_ID.TFOOT,re.TAG_ID.TH,re.TAG_ID.THEAD,re.TAG_ID.TR]);function gDe(e,t){const r=t.tagID;IX.has(r)?e.openElements.hasInTableScope(re.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(re.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=et.IN_TABLE,m1(e,t)):ss(e,t)}function vDe(e,t){const r=t.tagID;switch(r){case re.TAG_ID.CAPTION:case re.TAG_ID.TABLE:{e.openElements.hasInTableScope(re.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(re.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=et.IN_TABLE,r===re.TAG_ID.TABLE&&oS(e,t));break}case re.TAG_ID.BODY:case re.TAG_ID.COL:case re.TAG_ID.COLGROUP:case re.TAG_ID.HTML:case re.TAG_ID.TBODY:case re.TAG_ID.TD:case re.TAG_ID.TFOOT:case re.TAG_ID.TH:case re.TAG_ID.THEAD:case re.TAG_ID.TR:break;default:hD(e,t)}}function w5(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.COL:{e._appendElement(t,re.NS.HTML),t.ackSelfClosing=!0;break}case re.TAG_ID.TEMPLATE:{lc(e,t);break}default:fD(e,t)}}function yDe(e,t){switch(t.tagID){case re.TAG_ID.COLGROUP:{e.openElements.currentTagId===re.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=et.IN_TABLE);break}case re.TAG_ID.TEMPLATE:{Pg(e,t);break}case re.TAG_ID.COL:break;default:fD(e,t)}}function fD(e,t){e.openElements.currentTagId===re.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=et.IN_TABLE,e._processToken(t))}function dD(e,t){switch(t.tagID){case re.TAG_ID.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,re.NS.HTML),e.insertionMode=et.IN_ROW;break}case re.TAG_ID.TH:case re.TAG_ID.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(re.TAG_NAMES.TR,re.TAG_ID.TR),e.insertionMode=et.IN_ROW,pD(e,t);break}case re.TAG_ID.CAPTION:case re.TAG_ID.COL:case re.TAG_ID.COLGROUP:case re.TAG_ID.TBODY:case re.TAG_ID.TFOOT:case re.TAG_ID.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=et.IN_TABLE,m1(e,t));break}default:m1(e,t)}}function x5(e,t){const r=t.tagID;switch(t.tagID){case re.TAG_ID.TBODY:case re.TAG_ID.TFOOT:case re.TAG_ID.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=et.IN_TABLE);break}case re.TAG_ID.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=et.IN_TABLE,oS(e,t));break}case re.TAG_ID.BODY:case re.TAG_ID.CAPTION:case re.TAG_ID.COL:case re.TAG_ID.COLGROUP:case re.TAG_ID.HTML:case re.TAG_ID.TD:case re.TAG_ID.TH:case re.TAG_ID.TR:break;default:oS(e,t)}}function pD(e,t){switch(t.tagID){case re.TAG_ID.TH:case re.TAG_ID.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,re.NS.HTML),e.insertionMode=et.IN_CELL,e.activeFormattingElements.insertMarker();break}case re.TAG_ID.CAPTION:case re.TAG_ID.COL:case re.TAG_ID.COLGROUP:case re.TAG_ID.TBODY:case re.TAG_ID.TFOOT:case re.TAG_ID.THEAD:case re.TAG_ID.TR:{e.openElements.hasInTableScope(re.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=et.IN_TABLE_BODY,dD(e,t));break}default:m1(e,t)}}function DX(e,t){switch(t.tagID){case re.TAG_ID.TR:{e.openElements.hasInTableScope(re.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=et.IN_TABLE_BODY);break}case re.TAG_ID.TABLE:{e.openElements.hasInTableScope(re.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=et.IN_TABLE_BODY,x5(e,t));break}case re.TAG_ID.TBODY:case re.TAG_ID.TFOOT:case re.TAG_ID.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(re.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=et.IN_TABLE_BODY,x5(e,t));break}case re.TAG_ID.BODY:case re.TAG_ID.CAPTION:case re.TAG_ID.COL:case re.TAG_ID.COLGROUP:case re.TAG_ID.HTML:case re.TAG_ID.TD:case re.TAG_ID.TH:break;default:oS(e,t)}}function _De(e,t){const r=t.tagID;IX.has(r)?(e.openElements.hasInTableScope(re.TAG_ID.TD)||e.openElements.hasInTableScope(re.TAG_ID.TH))&&(e._closeTableCell(),pD(e,t)):ss(e,t)}function EDe(e,t){const r=t.tagID;switch(r){case re.TAG_ID.TD:case re.TAG_ID.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=et.IN_ROW);break}case re.TAG_ID.TABLE:case re.TAG_ID.TBODY:case re.TAG_ID.TFOOT:case re.TAG_ID.THEAD:case re.TAG_ID.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),DX(e,t));break}case re.TAG_ID.BODY:case re.TAG_ID.CAPTION:case re.TAG_ID.COL:case re.TAG_ID.COLGROUP:case re.TAG_ID.HTML:break;default:hD(e,t)}}function OX(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.OPTION:{e.openElements.currentTagId===re.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,re.NS.HTML);break}case re.TAG_ID.OPTGROUP:{e.openElements.currentTagId===re.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===re.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,re.NS.HTML);break}case re.TAG_ID.INPUT:case re.TAG_ID.KEYGEN:case re.TAG_ID.TEXTAREA:case re.TAG_ID.SELECT:{e.openElements.hasInSelectScope(re.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(re.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==re.TAG_ID.SELECT&&e._processStartTag(t));break}case re.TAG_ID.SCRIPT:case re.TAG_ID.TEMPLATE:{lc(e,t);break}}}function kX(e,t){switch(t.tagID){case re.TAG_ID.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===re.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===re.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===re.TAG_ID.OPTGROUP&&e.openElements.pop();break}case re.TAG_ID.OPTION:{e.openElements.currentTagId===re.TAG_ID.OPTION&&e.openElements.pop();break}case re.TAG_ID.SELECT:{e.openElements.hasInSelectScope(re.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(re.TAG_ID.SELECT),e._resetInsertionMode());break}case re.TAG_ID.TEMPLATE:{Pg(e,t);break}}}function TDe(e,t){const r=t.tagID;r===re.TAG_ID.CAPTION||r===re.TAG_ID.TABLE||r===re.TAG_ID.TBODY||r===re.TAG_ID.TFOOT||r===re.TAG_ID.THEAD||r===re.TAG_ID.TR||r===re.TAG_ID.TD||r===re.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(re.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):OX(e,t)}function bDe(e,t){const r=t.tagID;r===re.TAG_ID.CAPTION||r===re.TAG_ID.TABLE||r===re.TAG_ID.TBODY||r===re.TAG_ID.TFOOT||r===re.TAG_ID.THEAD||r===re.TAG_ID.TR||r===re.TAG_ID.TD||r===re.TAG_ID.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(re.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):kX(e,t)}function SDe(e,t){switch(t.tagID){case re.TAG_ID.BASE:case re.TAG_ID.BASEFONT:case re.TAG_ID.BGSOUND:case re.TAG_ID.LINK:case re.TAG_ID.META:case re.TAG_ID.NOFRAMES:case re.TAG_ID.SCRIPT:case re.TAG_ID.STYLE:case re.TAG_ID.TEMPLATE:case re.TAG_ID.TITLE:{lc(e,t);break}case re.TAG_ID.CAPTION:case re.TAG_ID.COLGROUP:case re.TAG_ID.TBODY:case re.TAG_ID.TFOOT:case re.TAG_ID.THEAD:{e.tmplInsertionModeStack[0]=et.IN_TABLE,e.insertionMode=et.IN_TABLE,m1(e,t);break}case re.TAG_ID.COL:{e.tmplInsertionModeStack[0]=et.IN_COLUMN_GROUP,e.insertionMode=et.IN_COLUMN_GROUP,w5(e,t);break}case re.TAG_ID.TR:{e.tmplInsertionModeStack[0]=et.IN_TABLE_BODY,e.insertionMode=et.IN_TABLE_BODY,dD(e,t);break}case re.TAG_ID.TD:case re.TAG_ID.TH:{e.tmplInsertionModeStack[0]=et.IN_ROW,e.insertionMode=et.IN_ROW,pD(e,t);break}default:e.tmplInsertionModeStack[0]=et.IN_BODY,e.insertionMode=et.IN_BODY,ss(e,t)}}function CDe(e,t){t.tagID===re.TAG_ID.TEMPLATE&&Pg(e,t)}function PX(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(re.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):C5(e,t)}function ADe(e,t){t.tagID===re.TAG_ID.HTML?ss(e,t):mD(e,t)}function RX(e,t){var r;if(t.tagID===re.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=et.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===re.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const i=e.openElements.items[1];i&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(i))===null||r===void 0)&&r.endTag)&&e._setEndLocation(i,t)}}else mD(e,t)}function mD(e,t){e.insertionMode=et.IN_BODY,cD(e,t)}function wDe(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.FRAMESET:{e._insertElement(t,re.NS.HTML);break}case re.TAG_ID.FRAME:{e._appendElement(t,re.NS.HTML),t.ackSelfClosing=!0;break}case re.TAG_ID.NOFRAMES:{lc(e,t);break}}}function xDe(e,t){t.tagID===re.TAG_ID.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==re.TAG_ID.FRAMESET&&(e.insertionMode=et.AFTER_FRAMESET))}function IDe(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.NOFRAMES:{lc(e,t);break}}}function DDe(e,t){t.tagID===re.TAG_ID.HTML&&(e.insertionMode=et.AFTER_AFTER_FRAMESET)}function ODe(e,t){t.tagID===re.TAG_ID.HTML?ss(e,t):gD(e,t)}function gD(e,t){e.insertionMode=et.IN_BODY,cD(e,t)}function kDe(e,t){switch(t.tagID){case re.TAG_ID.HTML:{ss(e,t);break}case re.TAG_ID.NOFRAMES:{lc(e,t);break}}}function PDe(e,t){t.chars=mX.REPLACEMENT_CHARACTER,e._insertCharacters(t)}function RDe(e,t){e._insertCharacters(t),e.framesetOk=!1}function NX(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==re.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function NDe(e,t){if(Sh.causesExit(t))NX(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),i=e.treeAdapter.getNamespaceURI(r);i===re.NS.MATHML?Sh.adjustTokenMathMLAttrs(t):i===re.NS.SVG&&(Sh.adjustTokenSVGTagName(t),Sh.adjustTokenSVGAttrs(t)),Sh.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,i):e._insertElement(t,i),t.ackSelfClosing=!0}}function MDe(e,t){if(t.tagID===re.TAG_ID.P||t.tagID===re.TAG_ID.BR){NX(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const i=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(i)===re.NS.HTML){e._endTagOutsideForeignContent(t);break}const n=e.treeAdapter.getTagName(i);if(n.toLowerCase()===t.tagName){t.tagName=n,e.openElements.shortenToLength(r);break}}}var g1={};Object.defineProperty(g1,"__esModule",{value:!0}),g1.serializeOuter=g1.serialize=void 0;const Ri=Nf,MX=Yy,LDe=uD,BDe=new Set([Ri.TAG_NAMES.AREA,Ri.TAG_NAMES.BASE,Ri.TAG_NAMES.BASEFONT,Ri.TAG_NAMES.BGSOUND,Ri.TAG_NAMES.BR,Ri.TAG_NAMES.COL,Ri.TAG_NAMES.EMBED,Ri.TAG_NAMES.FRAME,Ri.TAG_NAMES.HR,Ri.TAG_NAMES.IMG,Ri.TAG_NAMES.INPUT,Ri.TAG_NAMES.KEYGEN,Ri.TAG_NAMES.LINK,Ri.TAG_NAMES.META,Ri.TAG_NAMES.PARAM,Ri.TAG_NAMES.SOURCE,Ri.TAG_NAMES.TRACK,Ri.TAG_NAMES.WBR]);function LX(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Ri.NS.HTML&&BDe.has(t.treeAdapter.getTagName(e))}const BX={treeAdapter:LDe.defaultTreeAdapter,scriptingEnabled:!0};function FDe(e,t){const r=Object.assign(Object.assign({},BX),t);return LX(e,r)?"":FX(e,r)}g1.serialize=FDe;function UDe(e,t){const r=Object.assign(Object.assign({},BX),t);return UX(e,r)}g1.serializeOuter=UDe;function FX(e,t){let r="";const i=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===Ri.TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Ri.NS.HTML?t.treeAdapter.getTemplateContent(e):e,n=t.treeAdapter.getChildNodes(i);if(n)for(const s of n)r+=UX(s,t);return r}function UX(e,t){return t.treeAdapter.isElementNode(e)?HDe(e,t):t.treeAdapter.isTextNode(e)?GDe(e,t):t.treeAdapter.isCommentNode(e)?zDe(e,t):t.treeAdapter.isDocumentTypeNode(e)?jDe(e,t):""}function HDe(e,t){const r=t.treeAdapter.getTagName(e);return`<${r}${$De(e,t)}>${LX(e,t)?"":`${FX(e,t)}</${r}>`}`}function $De(e,{treeAdapter:t}){let r="";for(const i of t.getAttrList(e)){if(r+=" ",!i.namespace)r+=i.name;else switch(i.namespace){case Ri.NS.XML:{r+=`xml:${i.name}`;break}case Ri.NS.XMLNS:{i.name!=="xmlns"&&(r+="xmlns:"),r+=i.name;break}case Ri.NS.XLINK:{r+=`xlink:${i.name}`;break}default:r+=`${i.prefix}:${i.name}`}r+=`="${(0,MX.escapeAttribute)(i.value)}"`}return r}function GDe(e,t){const{treeAdapter:r}=t,i=r.getTextNodeContent(e),n=r.getParentNode(e),s=n&&r.isElementNode(n)&&r.getTagName(n);return s&&r.getNamespaceURI(n)===Ri.NS.HTML&&(0,Ri.hasUnescapedText)(s,t.scriptingEnabled)?i:(0,MX.escapeText)(i)}function zDe(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function jDe(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseFragment=e.parse=e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0;const t=Kb;var r=uD;Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return r.defaultTreeAdapter}});var i=Kb;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return i.Parser}});var n=g1;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return n.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return n.serializeOuter}});var s=Zb;Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return s.ERR}}),e.foreignContent=T5,e.html=Nf,e.Token=aD;var c=kg;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return c.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return c.TokenizerMode}});function h(m,d){return t.Parser.parse(m,d)}e.parse=h;function p(m,d,E){typeof m=="string"&&(E=d,d=m,m=null);const _=t.Parser.getFragmentParser(m,E);return _.tokenizer.write(d,!0),_.getFragment()}e.parseFragment=p})(tX),(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.adapter=e.serializeDoctypeContent=void 0;const t=tX,r=Cs;function i(c){return new r.Text(c)}function n(c){const h=c.includes('"')?"'":'"';return h+c+h}function s(c,h,p){let m="!DOCTYPE ";return c&&(m+=c),h?m+=` PUBLIC ${n(h)}`:p&&(m+=" SYSTEM"),p&&(m+=` ${n(p)}`),m}e.serializeDoctypeContent=s,e.adapter={isCommentNode:r.isComment,isElementNode:r.isTag,isTextNode:r.isText,createDocument(){const c=new r.Document([]);return c["x-mode"]=t.html.DOCUMENT_MODE.NO_QUIRKS,c},createDocumentFragment(){return new r.Document([])},createElement(c,h,p){const m=Object.create(null),d=Object.create(null),E=Object.create(null);for(let T=0;T<p.length;T++){const C=p[T].name;m[C]=p[T].value,d[C]=p[T].namespace,E[C]=p[T].prefix}const _=new r.Element(c,m,[]);return _.namespace=h,_["x-attribsNamespace"]=d,_["x-attribsPrefix"]=E,_},createCommentNode(c){return new r.Comment(c)},appendChild(c,h){const p=c.children[c.children.length-1];p&&(p.next=h,h.prev=p),c.children.push(h),h.parent=c},insertBefore(c,h,p){const m=c.children.indexOf(p),{prev:d}=p;d&&(d.next=h,h.prev=d),p.prev=h,h.next=p,c.children.splice(m,0,h),h.parent=c},setTemplateContent(c,h){e.adapter.appendChild(c,h)},getTemplateContent(c){return c.children[0]},setDocumentType(c,h,p,m){const d=s(h,p,m);let E=c.children.find(_=>(0,r.isDirective)(_)&&_.name==="!doctype");E?E.data=d??null:(E=new r.ProcessingInstruction("!doctype",d),e.adapter.appendChild(c,E)),E["x-name"]=h??void 0,E["x-publicId"]=p??void 0,E["x-systemId"]=m??void 0},setDocumentMode(c,h){c["x-mode"]=h},getDocumentMode(c){return c["x-mode"]},detachNode(c){if(c.parent){const h=c.parent.children.indexOf(c),{prev:p,next:m}=c;c.prev=null,c.next=null,p&&(p.next=m),m&&(m.prev=p),c.parent.children.splice(h,1),c.parent=null}},insertText(c,h){const p=c.children[c.children.length-1];p&&(0,r.isText)(p)?p.data+=h:e.adapter.appendChild(c,i(h))},insertTextBefore(c,h,p){const m=c.children[c.children.indexOf(p)-1];m&&(0,r.isText)(m)?m.data+=h:e.adapter.insertBefore(c,i(h),p)},adoptAttributes(c,h){for(let p=0;p<h.length;p++){const m=h[p].name;typeof c.attribs[m]>"u"&&(c.attribs[m]=h[p].value,c["x-attribsNamespace"][m]=h[p].namespace,c["x-attribsPrefix"][m]=h[p].prefix)}},getFirstChild(c){return c.children[0]},getChildNodes(c){return c.children},getParentNode(c){return c.parent},getAttrList(c){return c.attributes},getTagName(c){return c.name},getNamespaceURI(c){return c.namespace},getTextNodeContent(c){return c.data},getCommentNodeContent(c){return c.data},getDocumentTypeNodeName(c){var h;return(h=c["x-name"])!==null&&h!==void 0?h:""},getDocumentTypeNodePublicId(c){var h;return(h=c["x-publicId"])!==null&&h!==void 0?h:""},getDocumentTypeNodeSystemId(c){var h;return(h=c["x-systemId"])!==null&&h!==void 0?h:""},isDocumentTypeNode(c){return(0,r.isDirective)(c)&&c.name==="!doctype"},setNodeSourceCodeLocation(c,h){h&&(c.startIndex=h.startOffset,c.endIndex=h.endOffset),c.sourceCodeLocation=h},getNodeSourceCodeLocation(c){return c.sourceCodeLocation},updateNodeSourceCodeLocation(c,h){h.endOffset!=null&&(c.endIndex=h.endOffset),c.sourceCodeLocation=Object.assign(Object.assign({},c.sourceCodeLocation),h)}}})(eX);var VDe=Te&&Te.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,s;i<n;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(l1,"__esModule",{value:!0}),l1.renderWithParse5=l1.parseWithParse5=void 0;var WDe=Cs,I5=mY,HX=eX;function YDe(e,t,r,i){var n={scriptingEnabled:typeof t.scriptingEnabled=="boolean"?t.scriptingEnabled:!0,treeAdapter:HX.adapter,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return r?(0,I5.parse)(e,n):(0,I5.parseFragment)(i,e,n)}l1.parseWithParse5=YDe;var XDe={treeAdapter:HX.adapter};function qDe(e){for(var t,r=("length"in e)?e:[e],i=0;i<r.length;i+=1){var n=r[i];(0,WDe.isDocument)(n)&&(t=Array.prototype.splice).call.apply(t,VDe([r,i,1],n.children,!1))}for(var s="",i=0;i<r.length;i+=1){var n=r[i];s+=(0,I5.serializeOuter)(n,XDe)}return s}l1.renderWithParse5=qDe;var $X={},vD={},D5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=Tg,r;(function(_){_[_.Tab=9]="Tab",_[_.NewLine=10]="NewLine",_[_.FormFeed=12]="FormFeed",_[_.CarriageReturn=13]="CarriageReturn",_[_.Space=32]="Space",_[_.ExclamationMark=33]="ExclamationMark",_[_.Num=35]="Num",_[_.Amp=38]="Amp",_[_.SingleQuote=39]="SingleQuote",_[_.DoubleQuote=34]="DoubleQuote",_[_.Dash=45]="Dash",_[_.Slash=47]="Slash",_[_.Zero=48]="Zero",_[_.Nine=57]="Nine",_[_.Semi=59]="Semi",_[_.Lt=60]="Lt",_[_.Eq=61]="Eq",_[_.Gt=62]="Gt",_[_.Questionmark=63]="Questionmark",_[_.UpperA=65]="UpperA",_[_.LowerA=97]="LowerA",_[_.UpperF=70]="UpperF",_[_.LowerF=102]="LowerF",_[_.UpperZ=90]="UpperZ",_[_.LowerZ=122]="LowerZ",_[_.LowerX=120]="LowerX",_[_.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var i;(function(_){_[_.Text=1]="Text",_[_.BeforeTagName=2]="BeforeTagName",_[_.InTagName=3]="InTagName",_[_.InSelfClosingTag=4]="InSelfClosingTag",_[_.BeforeClosingTagName=5]="BeforeClosingTagName",_[_.InClosingTagName=6]="InClosingTagName",_[_.AfterClosingTagName=7]="AfterClosingTagName",_[_.BeforeAttributeName=8]="BeforeAttributeName",_[_.InAttributeName=9]="InAttributeName",_[_.AfterAttributeName=10]="AfterAttributeName",_[_.BeforeAttributeValue=11]="BeforeAttributeValue",_[_.InAttributeValueDq=12]="InAttributeValueDq",_[_.InAttributeValueSq=13]="InAttributeValueSq",_[_.InAttributeValueNq=14]="InAttributeValueNq",_[_.BeforeDeclaration=15]="BeforeDeclaration",_[_.InDeclaration=16]="InDeclaration",_[_.InProcessingInstruction=17]="InProcessingInstruction",_[_.BeforeComment=18]="BeforeComment",_[_.CDATASequence=19]="CDATASequence",_[_.InSpecialComment=20]="InSpecialComment",_[_.InCommentLike=21]="InCommentLike",_[_.BeforeSpecialS=22]="BeforeSpecialS",_[_.SpecialStartSequence=23]="SpecialStartSequence",_[_.InSpecialTag=24]="InSpecialTag",_[_.BeforeEntity=25]="BeforeEntity",_[_.BeforeNumericEntity=26]="BeforeNumericEntity",_[_.InNamedEntity=27]="InNamedEntity",_[_.InNumericEntity=28]="InNumericEntity",_[_.InHexEntity=29]="InHexEntity"})(i||(i={}));function n(_){return _===r.Space||_===r.NewLine||_===r.Tab||_===r.FormFeed||_===r.CarriageReturn}function s(_){return _===r.Slash||_===r.Gt||n(_)}function c(_){return _>=r.Zero&&_<=r.Nine}function h(_){return _>=r.LowerA&&_<=r.LowerZ||_>=r.UpperA&&_<=r.UpperZ}function p(_){return _>=r.UpperA&&_<=r.UpperF||_>=r.LowerA&&_<=r.LowerF}var m;(function(_){_[_.NoValue=0]="NoValue",_[_.Unquoted=1]="Unquoted",_[_.Single=2]="Single",_[_.Double=3]="Double"})(m=e.QuoteType||(e.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},E=(function(){function _(T,C){var A=T.xmlMode,D=A===void 0?!1:A,O=T.decodeEntities,B=O===void 0?!0:O;this.cbs=C,this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=D,this.decodeEntities=B,this.entityTrie=D?t.xmlDecodeTree:t.htmlDecodeTree}return _.prototype.reset=function(){this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},_.prototype.write=function(T){this.offset+=this.buffer.length,this.buffer=T,this.parse()},_.prototype.end=function(){this.running&&this.finish()},_.prototype.pause=function(){this.running=!1},_.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},_.prototype.getIndex=function(){return this.index},_.prototype.getSectionStart=function(){return this.sectionStart},_.prototype.stateText=function(T){T===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=i.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&T===r.Amp&&(this.state=i.BeforeEntity)},_.prototype.stateSpecialStartSequence=function(T){var C=this.sequenceIndex===this.currentSequence.length,A=C?s(T):(T|32)===this.currentSequence[this.sequenceIndex];if(!A)this.isSpecial=!1;else if(!C){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=i.InTagName,this.stateInTagName(T)},_.prototype.stateInSpecialTag=function(T){if(this.sequenceIndex===this.currentSequence.length){if(T===r.Gt||n(T)){var C=this.index-this.currentSequence.length;if(this.sectionStart<C){var A=this.index;this.index=C,this.cbs.ontext(this.sectionStart,C),this.index=A}this.isSpecial=!1,this.sectionStart=C+2,this.stateInClosingTagName(T);return}this.sequenceIndex=0}(T|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&T===r.Amp&&(this.state=i.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(T===r.Lt)},_.prototype.stateCDATASequence=function(T){T===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=i.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=i.InDeclaration,this.stateInDeclaration(T))},_.prototype.fastForwardTo=function(T){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===T)return!0;return this.index=this.buffer.length+this.offset-1,!1},_.prototype.stateInCommentLike=function(T){T===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=i.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):T!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},_.prototype.isTagStartChar=function(T){return this.xmlMode?!s(T):h(T)},_.prototype.startSpecial=function(T,C){this.isSpecial=!0,this.currentSequence=T,this.sequenceIndex=C,this.state=i.SpecialStartSequence},_.prototype.stateBeforeTagName=function(T){if(T===r.ExclamationMark)this.state=i.BeforeDeclaration,this.sectionStart=this.index+1;else if(T===r.Questionmark)this.state=i.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(T)){var C=T|32;this.sectionStart=this.index,!this.xmlMode&&C===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&C===d.ScriptEnd[2]?i.BeforeSpecialS:i.InTagName}else T===r.Slash?this.state=i.BeforeClosingTagName:(this.state=i.Text,this.stateText(T))},_.prototype.stateInTagName=function(T){s(T)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(T))},_.prototype.stateBeforeClosingTagName=function(T){n(T)||(T===r.Gt?this.state=i.Text:(this.state=this.isTagStartChar(T)?i.InClosingTagName:i.InSpecialComment,this.sectionStart=this.index))},_.prototype.stateInClosingTagName=function(T){(T===r.Gt||n(T))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterClosingTagName,this.stateAfterClosingTagName(T))},_.prototype.stateAfterClosingTagName=function(T){(T===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=i.Text,this.sectionStart=this.index+1)},_.prototype.stateBeforeAttributeName=function(T){T===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=i.InSpecialTag,this.sequenceIndex=0):this.state=i.Text,this.baseState=this.state,this.sectionStart=this.index+1):T===r.Slash?this.state=i.InSelfClosingTag:n(T)||(this.state=i.InAttributeName,this.sectionStart=this.index)},_.prototype.stateInSelfClosingTag=function(T){T===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(T)||(this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(T))},_.prototype.stateInAttributeName=function(T){(T===r.Eq||s(T))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterAttributeName,this.stateAfterAttributeName(T))},_.prototype.stateAfterAttributeName=function(T){T===r.Eq?this.state=i.BeforeAttributeValue:T===r.Slash||T===r.Gt?(this.cbs.onattribend(m.NoValue,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(T)):n(T)||(this.cbs.onattribend(m.NoValue,this.index),this.state=i.InAttributeName,this.sectionStart=this.index)},_.prototype.stateBeforeAttributeValue=function(T){T===r.DoubleQuote?(this.state=i.InAttributeValueDq,this.sectionStart=this.index+1):T===r.SingleQuote?(this.state=i.InAttributeValueSq,this.sectionStart=this.index+1):n(T)||(this.sectionStart=this.index,this.state=i.InAttributeValueNq,this.stateInAttributeValueNoQuotes(T))},_.prototype.handleInAttributeValue=function(T,C){T===C||!this.decodeEntities&&this.fastForwardTo(C)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(C===r.DoubleQuote?m.Double:m.Single,this.index),this.state=i.BeforeAttributeName):this.decodeEntities&&T===r.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},_.prototype.stateInAttributeValueDoubleQuotes=function(T){this.handleInAttributeValue(T,r.DoubleQuote)},_.prototype.stateInAttributeValueSingleQuotes=function(T){this.handleInAttributeValue(T,r.SingleQuote)},_.prototype.stateInAttributeValueNoQuotes=function(T){n(T)||T===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(m.Unquoted,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(T)):this.decodeEntities&&T===r.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},_.prototype.stateBeforeDeclaration=function(T){T===r.OpeningSquareBracket?(this.state=i.CDATASequence,this.sequenceIndex=0):this.state=T===r.Dash?i.BeforeComment:i.InDeclaration},_.prototype.stateInDeclaration=function(T){(T===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},_.prototype.stateInProcessingInstruction=function(T){(T===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},_.prototype.stateBeforeComment=function(T){T===r.Dash?(this.state=i.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=i.InDeclaration},_.prototype.stateInSpecialComment=function(T){(T===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=i.Text,this.sectionStart=this.index+1)},_.prototype.stateBeforeSpecialS=function(T){var C=T|32;C===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):C===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=i.InTagName,this.stateInTagName(T))},_.prototype.stateBeforeEntity=function(T){this.entityExcess=1,this.entityResult=0,T===r.Num?this.state=i.BeforeNumericEntity:T===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=i.InNamedEntity,this.stateInNamedEntity(T))},_.prototype.stateInNamedEntity=function(T){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,T),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var C=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(C){var A=(C>>14)-1;if(!this.allowLegacyEntity()&&T!==r.Semi)this.trieIndex+=A;else{var D=this.index-this.entityExcess+1;D>this.sectionStart&&this.emitPartial(this.sectionStart,D),this.entityResult=this.trieIndex,this.trieIndex+=A,this.entityExcess=0,this.sectionStart=this.index+1,A===0&&this.emitNamedEntity()}}},_.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var T=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(T){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},_.prototype.stateBeforeNumericEntity=function(T){(T|32)===r.LowerX?(this.entityExcess++,this.state=i.InHexEntity):(this.state=i.InNumericEntity,this.stateInNumericEntity(T))},_.prototype.emitNumericEntity=function(T){var C=this.index-this.entityExcess-1,A=C+2+ +(this.state===i.InHexEntity);A!==this.index&&(C>this.sectionStart&&this.emitPartial(this.sectionStart,C),this.sectionStart=this.index+Number(T),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},_.prototype.stateInNumericEntity=function(T){T===r.Semi?this.emitNumericEntity(!0):c(T)?(this.entityResult=this.entityResult*10+(T-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},_.prototype.stateInHexEntity=function(T){T===r.Semi?this.emitNumericEntity(!0):c(T)?(this.entityResult=this.entityResult*16+(T-r.Zero),this.entityExcess++):p(T)?(this.entityResult=this.entityResult*16+((T|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},_.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===i.Text||this.baseState===i.InSpecialTag)},_.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===i.Text||this.state===i.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===i.InAttributeValueDq||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},_.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},_.prototype.parse=function(){for(;this.shouldContinue();){var T=this.buffer.charCodeAt(this.index-this.offset);this.state===i.Text?this.stateText(T):this.state===i.SpecialStartSequence?this.stateSpecialStartSequence(T):this.state===i.InSpecialTag?this.stateInSpecialTag(T):this.state===i.CDATASequence?this.stateCDATASequence(T):this.state===i.InAttributeValueDq?this.stateInAttributeValueDoubleQuotes(T):this.state===i.InAttributeName?this.stateInAttributeName(T):this.state===i.InCommentLike?this.stateInCommentLike(T):this.state===i.InSpecialComment?this.stateInSpecialComment(T):this.state===i.BeforeAttributeName?this.stateBeforeAttributeName(T):this.state===i.InTagName?this.stateInTagName(T):this.state===i.InClosingTagName?this.stateInClosingTagName(T):this.state===i.BeforeTagName?this.stateBeforeTagName(T):this.state===i.AfterAttributeName?this.stateAfterAttributeName(T):this.state===i.InAttributeValueSq?this.stateInAttributeValueSingleQuotes(T):this.state===i.BeforeAttributeValue?this.stateBeforeAttributeValue(T):this.state===i.BeforeClosingTagName?this.stateBeforeClosingTagName(T):this.state===i.AfterClosingTagName?this.stateAfterClosingTagName(T):this.state===i.BeforeSpecialS?this.stateBeforeSpecialS(T):this.state===i.InAttributeValueNq?this.stateInAttributeValueNoQuotes(T):this.state===i.InSelfClosingTag?this.stateInSelfClosingTag(T):this.state===i.InDeclaration?this.stateInDeclaration(T):this.state===i.BeforeDeclaration?this.stateBeforeDeclaration(T):this.state===i.BeforeComment?this.stateBeforeComment(T):this.state===i.InProcessingInstruction?this.stateInProcessingInstruction(T):this.state===i.InNamedEntity?this.stateInNamedEntity(T):this.state===i.BeforeEntity?this.stateBeforeEntity(T):this.state===i.InHexEntity?this.stateInHexEntity(T):this.state===i.InNumericEntity?this.stateInNumericEntity(T):this.stateBeforeNumericEntity(T),this.index++}this.cleanup()},_.prototype.finish=function(){this.state===i.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},_.prototype.handleTrailingData=function(){var T=this.buffer.length+this.offset;this.state===i.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,T,0):this.cbs.oncomment(this.sectionStart,T,0):this.state===i.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===i.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===i.InTagName||this.state===i.BeforeAttributeName||this.state===i.BeforeAttributeValue||this.state===i.AfterAttributeName||this.state===i.InAttributeName||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueDq||this.state===i.InAttributeValueNq||this.state===i.InClosingTagName||this.cbs.ontext(this.sectionStart,T)},_.prototype.emitPartial=function(T,C){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribdata(T,C):this.cbs.ontext(T,C)},_.prototype.emitCodePoint=function(T){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribentity(T):this.cbs.ontextentity(T)},_})();e.default=E})(D5);var KDe=Te&&Te.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),ZDe=Te&&Te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),QDe=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KDe(t,e,r);return ZDe(t,e),t};Object.defineProperty(vD,"__esModule",{value:!0}),vD.Parser=void 0;var yD=QDe(D5),GX=Tg,v1=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ai=new Set(["p"]),zX=new Set(["thead","tbody"]),jX=new Set(["dd","dt"]),VX=new Set(["rt","rp"]),JDe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ai],["h1",Ai],["h2",Ai],["h3",Ai],["h4",Ai],["h5",Ai],["h6",Ai],["select",v1],["input",v1],["output",v1],["button",v1],["datalist",v1],["textarea",v1],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",jX],["dt",jX],["address",Ai],["article",Ai],["aside",Ai],["blockquote",Ai],["details",Ai],["div",Ai],["dl",Ai],["fieldset",Ai],["figcaption",Ai],["figure",Ai],["footer",Ai],["form",Ai],["header",Ai],["hr",Ai],["main",Ai],["nav",Ai],["ol",Ai],["pre",Ai],["section",Ai],["table",Ai],["ul",Ai],["rt",VX],["rp",VX],["tbody",zX],["tfoot",zX]]),eOe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),WX=new Set(["math","svg"]),YX=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),tOe=/\s|\//,rOe=(function(){function e(t,r){r===void 0&&(r={});var i,n,s,c,h;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.lowerCaseTagNames=(i=r.lowerCaseTags)!==null&&i!==void 0?i:!r.xmlMode,this.lowerCaseAttributeNames=(n=r.lowerCaseAttributeNames)!==null&&n!==void 0?n:!r.xmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:yD.default)(this.options,this),(h=(c=this.cbs).onparserinit)===null||h===void 0||h.call(c,this)}return e.prototype.ontext=function(t,r){var i,n,s=this.getSlice(t,r);this.endIndex=r-1,(n=(i=this.cbs).ontext)===null||n===void 0||n.call(i,s),this.startIndex=r},e.prototype.ontextentity=function(t){var r,i,n=this.tokenizer.getSectionStart();this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,(0,GX.fromCodePoint)(t)),this.startIndex=n},e.prototype.isVoidElement=function(t){return!this.options.xmlMode&&eOe.has(t)},e.prototype.onopentagname=function(t,r){this.endIndex=r;var i=this.getSlice(t,r);this.lowerCaseTagNames&&(i=i.toLowerCase()),this.emitOpenTag(i)},e.prototype.emitOpenTag=function(t){var r,i,n,s;this.openTagStart=this.startIndex,this.tagname=t;var c=!this.options.xmlMode&&JDe.get(t);if(c)for(;this.stack.length>0&&c.has(this.stack[this.stack.length-1]);){var h=this.stack.pop();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,h,!0)}this.isVoidElement(t)||(this.stack.push(t),WX.has(t)?this.foreignContext.push(!0):YX.has(t)&&this.foreignContext.push(!1)),(s=(n=this.cbs).onopentagname)===null||s===void 0||s.call(n,t),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(t){var r,i;this.startIndex=this.openTagStart,this.attribs&&((i=(r=this.cbs).onopentag)===null||i===void 0||i.call(r,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1},e.prototype.onclosetag=function(t,r){var i,n,s,c,h,p;this.endIndex=r;var m=this.getSlice(t,r);if(this.lowerCaseTagNames&&(m=m.toLowerCase()),(WX.has(m)||YX.has(m))&&this.foreignContext.pop(),this.isVoidElement(m))!this.options.xmlMode&&m==="br"&&((n=(i=this.cbs).onopentagname)===null||n===void 0||n.call(i,"br"),(c=(s=this.cbs).onopentag)===null||c===void 0||c.call(s,"br",{},!0),(p=(h=this.cbs).onclosetag)===null||p===void 0||p.call(h,"br",!1));else{var d=this.stack.lastIndexOf(m);if(d!==-1)if(this.cbs.onclosetag)for(var E=this.stack.length-d;E--;)this.cbs.onclosetag(this.stack.pop(),E!==0);else this.stack.length=d;else!this.options.xmlMode&&m==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},e.prototype.onselfclosingtag=function(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)},e.prototype.closeCurrentTag=function(t){var r,i,n=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===n&&((i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,n,!t),this.stack.pop())},e.prototype.onattribname=function(t,r){this.startIndex=t;var i=this.getSlice(t,r);this.attribname=this.lowerCaseAttributeNames?i.toLowerCase():i},e.prototype.onattribdata=function(t,r){this.attribvalue+=this.getSlice(t,r)},e.prototype.onattribentity=function(t){this.attribvalue+=(0,GX.fromCodePoint)(t)},e.prototype.onattribend=function(t,r){var i,n;this.endIndex=r,(n=(i=this.cbs).onattribute)===null||n===void 0||n.call(i,this.attribname,this.attribvalue,t===yD.QuoteType.Double?'"':t===yD.QuoteType.Single?"'":t===yD.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(t){var r=t.search(tOe),i=r<0?t:t.substr(0,r);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i},e.prototype.ondeclaration=function(t,r){this.endIndex=r;var i=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){var n=this.getInstructionName(i);this.cbs.onprocessinginstruction("!".concat(n),"!".concat(i))}this.startIndex=r+1},e.prototype.onprocessinginstruction=function(t,r){this.endIndex=r;var i=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){var n=this.getInstructionName(i);this.cbs.onprocessinginstruction("?".concat(n),"?".concat(i))}this.startIndex=r+1},e.prototype.oncomment=function(t,r,i){var n,s,c,h;this.endIndex=r,(s=(n=this.cbs).oncomment)===null||s===void 0||s.call(n,this.getSlice(t,r-i)),(h=(c=this.cbs).oncommentend)===null||h===void 0||h.call(c),this.startIndex=r+1},e.prototype.oncdata=function(t,r,i){var n,s,c,h,p,m,d,E,_,T;this.endIndex=r;var C=this.getSlice(t,r-i);this.options.xmlMode||this.options.recognizeCDATA?((s=(n=this.cbs).oncdatastart)===null||s===void 0||s.call(n),(h=(c=this.cbs).ontext)===null||h===void 0||h.call(c,C),(m=(p=this.cbs).oncdataend)===null||m===void 0||m.call(p)):((E=(d=this.cbs).oncomment)===null||E===void 0||E.call(d,"[CDATA[".concat(C,"]]")),(T=(_=this.cbs).oncommentend)===null||T===void 0||T.call(_)),this.startIndex=r+1},e.prototype.onend=function(){var t,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var i=this.stack.length;i>0;this.cbs.onclosetag(this.stack[--i],!0));}(r=(t=this.cbs).onend)===null||r===void 0||r.call(t)},e.prototype.reset=function(){var t,r,i,n;(r=(t=this.cbs).onreset)===null||r===void 0||r.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(n=(i=this.cbs).onparserinit)===null||n===void 0||n.call(i,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(t){this.reset(),this.end(t)},e.prototype.getSlice=function(t,r){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var i=this.buffers[0].slice(t-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),i+=this.buffers[0].slice(0,r-this.bufferOffset);return i},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(t){var r,i;if(this.ended){(i=(r=this.cbs).onerror)===null||i===void 0||i.call(r,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)},e.prototype.end=function(t){var r,i;if(this.ended){(i=(r=this.cbs).onerror)===null||i===void 0||i.call(r,Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(t){this.write(t)},e.prototype.done=function(t){this.end(t)},e})();vD.Parser=rOe,(function(e){var t=Te&&Te.__createBinding||(Object.create?function(C,A,D,O){O===void 0&&(O=D);var B=Object.getOwnPropertyDescriptor(A,D);(!B||("get"in B?!A.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return A[D]}}),Object.defineProperty(C,O,B)}:function(C,A,D,O){O===void 0&&(O=D),C[O]=A[D]}),r=Te&&Te.__setModuleDefault||(Object.create?function(C,A){Object.defineProperty(C,"default",{enumerable:!0,value:A})}:function(C,A){C.default=A}),i=Te&&Te.__importStar||function(C){if(C&&C.__esModule)return C;var A={};if(C!=null)for(var D in C)D!=="default"&&Object.prototype.hasOwnProperty.call(C,D)&&t(A,C,D);return r(A,C),A},n=Te&&Te.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultHandler=e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DomHandler=e.Parser=void 0;var s=vD;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return s.Parser}});var c=Cs;Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function h(C,A){var D=new c.DomHandler(void 0,A);return new s.Parser(D,A).end(C),D.root}e.parseDocument=h;function p(C,A){return h(C,A).children}e.parseDOM=p;function m(C,A,D){var O=new c.DomHandler(C,A,D);return new s.Parser(O,A)}e.createDomStream=m;var d=D5;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return n(d).default}});var E=i(Vy);e.ElementType=E;var _=gh;Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});function T(C,A){return A===void 0&&(A={xmlMode:!0}),(0,_.getFeed)(p(C,A))}e.parseFeed=T,e.DomUtils=i(gh)})($X),(function(e){var t=Te&&Te.__createBinding||(Object.create?function(C,A,D,O){O===void 0&&(O=D);var B=Object.getOwnPropertyDescriptor(A,D);(!B||("get"in B?!A.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return A[D]}}),Object.defineProperty(C,O,B)}:function(C,A,D,O){O===void 0&&(O=D),C[O]=A[D]}),r=Te&&Te.__setModuleDefault||(Object.create?function(C,A){Object.defineProperty(C,"default",{enumerable:!0,value:A})}:function(C,A){C.default=A}),i=Te&&Te.__exportStar||function(C,A){for(var D in C)D!=="default"&&!Object.prototype.hasOwnProperty.call(A,D)&&t(A,C,D)},n=Te&&Te.__importStar||function(C){if(C&&C.__esModule)return C;var A={};if(C!=null)for(var D in C)D!=="default"&&Object.prototype.hasOwnProperty.call(C,D)&&t(A,C,D);return r(A,C),A},s=Te&&Te.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0}),e.root=e.parseHTML=e.merge=e.contains=e.text=e.xml=e.html=e.load=void 0,i(QV,e);var c=EI,h=Ig,p=l1,m=s(Wy),d=$X,E=(0,h.getParse)(function(C,A,D,O){return A.xmlMode||A._useHtmlParser2?(0,d.parseDocument)(C,A):(0,p.parseWithParse5)(C,A,D,O)});e.load=(0,c.getLoad)(E,function(C,A){return A.xmlMode||A._useHtmlParser2?(0,m.default)(C,A):(0,p.renderWithParse5)(C)}),e.default=(0,e.load)([]);var _=La;Object.defineProperty(e,"html",{enumerable:!0,get:function(){return _.html}}),Object.defineProperty(e,"xml",{enumerable:!0,get:function(){return _.xml}}),Object.defineProperty(e,"text",{enumerable:!0,get:function(){return _.text}});var T=n(La);e.contains=T.contains,e.merge=T.merge,e.parseHTML=T.parseHTML,e.root=T.root})(ZV);var Rg={},_D={},nOe=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function iOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ED(e,t){return new Error(String(e)+" is a required method of "+String(t)+", but was not implemented.")}var XX=(function(){function e(){iOe(this,e),this.options={}}return nOe(e,[{key:"createRenderer",value:(function(){function t(r){throw ED("createRenderer","EnzymeAdapter")}return t})()},{key:"nodeToElement",value:(function(){function t(r){throw ED("nodeToElement","EnzymeAdapter")}return t})()},{key:"matchesElementType",value:(function(){function t(r,i){if(!r)return r;var n=r.type;return n===i}return t})()},{key:"isValidElement",value:(function(){function t(r){throw ED("isValidElement","EnzymeAdapter")}return t})()},{key:"createElement",value:(function(){function t(r,i){throw ED("createElement","EnzymeAdapter")}return t})()},{key:"invokeSetStateCallback",value:(function(){function t(r,i){i.call(r)}return t})()}]),e})();XX.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"};var qX=XX;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=qX,r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}function n(s){if(!s)throw new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
    `);if(typeof s=="function")throw Object.getPrototypeOf(s)===r.default?new Error(`
        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -
        you provided an adapter *constructor*.
        To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
        before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
        corresponding to the library currently being tested. For example:

        import Adapter from 'enzyme-adapter-react-15';

        To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
      `):new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured -
      an enzyme adapter must be an object instance; you provided a function.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
    `);if(!(s instanceof r.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")}})(_D),Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.get=lOe,Rg.merge=QX,Rg.reset=uOe;var aOe=Uy,KX=ZX(aOe),oOe=_D,sOe=ZX(oOe);function ZX(e){return e&&e.__esModule?e:{default:e}}var O5={};function lOe(){return(0,KX.default)({},O5)}function QX(e){e.adapter&&(0,sOe.default)(e.adapter),(0,KX.default)(O5,e)}function uOe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};O5={},QX(e)}var lo={},k5={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=(function(i){function n(s,c){return i.apply(this,arguments)}return n.toString=function(){return i.toString()},n})(function(i,n){return typeof i!="object"||i===null||typeof n!="object"||n===null?!1:Object.keys(n).every(function(s){if(!i.propertyIsEnumerable(s))return!1;var c=n[s],h=i[s];return!(typeof c=="object"&&c!==null?!r(h,c):h!==c)})});t.default=r,e.exports=t.default})(k5,k5.exports);var dp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=_D,r=n(t),i=Rg;function n(c){return c&&c.__esModule?c:{default:c}}function s(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(c.adapter)return(0,r.default)(c.adapter),c.adapter;var h=(0,i.get)(),p=h.adapter;return(0,r.default)(p),p}})(dp),Object.defineProperty(lo,"__esModule",{value:!0});var cOe=(function(){function e(t,r){var i=[],n=!0,s=!1,c=void 0;try{for(var h=t[Symbol.iterator](),p;!(n=(p=h.next()).done)&&(i.push(p.value),!(r&&i.length===r));n=!0);}catch(m){s=!0,c=m}finally{try{!n&&h.return&&h.return()}finally{if(s)throw c}}return i}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();lo.propsOfNode=TD,lo.childrenOfNode=y1,lo.hasClassName=wOe,lo.treeForEach=P5,lo.treeFilter=R5,lo.findParentNode=xOe,lo.pathToNode=eq,lo.parentsOfNode=DOe,lo.nodeHasId=OOe,lo.nodeMatchesObjectProps=NOe,lo.getTextFromNode=tq,lo.getTextFromHostNodes=rq,lo.getHTMLFromHostNodes=nq;var hOe=Uy,fOe=Ng(hOe),dOe=Tb,JX=Ng(dOe),pOe=PV,mOe=Ng(pOe),gOe=k5.exports,vOe=Ng(gOe),yOe=P2,_Oe=Ng(yOe),EOe=d2,TOe=Ng(EOe),bOe=dp,SOe=Ng(bOe);function Ng(e){return e&&e.__esModule?e:{default:e}}function COe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AOe(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}function TD(e){return e&&e.props||{}}function y1(e){if(!e)return[];var t=(0,SOe.default)(),r=t.isFragment&&typeof t.isFragment=="function",i=Array.isArray(e.rendered)?(0,JX.default)(e.rendered,1):[e.rendered];return r?(0,JX.default)(i.map(function(n){return t.isFragment(n)?y1(n):n}),1):i}function wOe(e,t){var r=TD(e).className||"";return r=String(r).replace(/\s/g," "),(0,TOe.default)(t)?t.test(r):(" "+String(r)+" ").indexOf(" "+String(t)+" ")>-1}function P5(e,t){e&&t(e),y1(e).forEach(function(r){return P5(r,t)})}function R5(e,t){var r=[];return P5(e,function(i){t(i)&&r.push(i)}),r}function xOe(e,t){var r=R5(e,function(i){return i.rendered?y1(i).indexOf(t)!==-1:!1});return r[0]||null}function IOe(e,t){return e.filter(function(r){return R5(r,t).length!==0})}function eq(e,t){for(var r=[t],i=[],n=function(p){return e===p};r.length;){var s=r.pop(),c=y1(s);if(s===e)return IOe(i,n);i.push(s),c.length===0&&i.pop(),r.push.apply(r,AOe(c))}return null}function DOe(e,t){return(eq(e,t)||[]).reverse()}function OOe(e,t){return TD(e).id===t}var kOe={};function POe(e){return typeof e<"u"?e:kOe}function ROe(e){return(0,mOe.default)(e).reduce(function(t,r){var i=cOe(r,2),n=i[0],s=i[1];return(0,fOe.default)({},t,COe({},n,POe(s)))},{})}function NOe(e,t){return(0,vOe.default)(TD(e),ROe(t))}function MOe(e){return typeof e=="string"?String(e||""):e&&e.textContent||""}function N5(e,t){var r=t.getCustom,i=t.handleHostNodes,n=t.recurse,s=t.nullRenderReturnsNull,c=s===void 0?!1:s;return e==null?"":typeof e=="string"||typeof e=="number"?String(e):r&&e.type&&typeof e.type=="function"?r(e):i&&e.nodeType==="host"?i(e):e.rendered==null&&c?null:y1(e).map(n).join("")}function tq(e){return N5(e,{recurse:tq,getCustom:(function(){function t(r){var i=r.type;return"<"+String(i.displayName||(0,_Oe.default)(i))+" />"}return t})()})}function rq(e,t){return N5(e,{recurse:(function(){function r(i){return rq(i,t)}return r})(),handleHostNodes:(function(){function r(i){var n=[].concat(t.nodeToHostNode(i,!0));return n.map(MOe).join("")}return r})()})}function LOe(e){return e==null?null:e.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")}function nq(e,t){return N5(e,{recurse:(function(){function r(i){return nq(i,t)}return r})(),handleHostNodes:(function(){function r(i){var n=[].concat(t.nodeToHostNode(i,!0));return n.map(LOe).join("")}return r})(),nullRenderReturnsNull:!0})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEqual=e.ITERATOR_SYMBOL=void 0;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},r=(function(){function Q(G,Y){var ye=[],Ge=!0,Ze=!1,ct=void 0;try{for(var or=G[Symbol.iterator](),dr;!(Ge=(dr=or.next()).done)&&(ye.push(dr.value),!(Y&&ye.length===Y));Ge=!0);}catch(xr){Ze=!0,ct=xr}finally{try{!Ge&&or.return&&or.return()}finally{if(Ze)throw ct}}return ye}return function(G,Y){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Q(G,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();e.getAdapter=Me,e.makeOptions=Qe,e.isCustomComponent=tt,e.isCustomComponentElement=st,e.propsOfNode=Ct,e.typeOfNode=Be,e.nodeHasType=Ae,e.nodeMatches=Dt,e.nodeEqual=$t,e.containsChildrenSubArray=cr,e.childrenToSimplifiedArray=fr,e.isReactElementAlike=Lr,e.withSetStateAllowed=gr,e.AND=sn,e.displayNameOfNode=nn,e.sym=Dn,e.privateSet=ta,e.cloneElement=en,e.spyMethod=kt;var i=_I.exports;Object.defineProperty(e,"shallowEqual",{enumerable:!0,get:(function(){function Q(){return Ee(i).default}return Q})()}),e.isEmptyValue=ze,e.renderedDive=Xe,e.loadCheerioRoot=ft;var n=Uy,s=Ee(n),c=Zd.exports,h=Ee(c),p=k2,m=Ee(p),d=PV,E=Ee(d),_=P2,T=Ee(_),C=bs,A=Ee(C),D=Tb,O=Ee(D),B=QTe,P=Ee(B),R=ZV,$=Ee(R),W=sp,Z=Rg,K=lo,ae=dp,le=Ee(ae),J=_D,ge=Ee(J);function Ee(Q){return Q&&Q.__esModule?Q:{default:Q}}function ne(Q,G,Y){return G in Q?Object.defineProperty(Q,G,{value:Y,enumerable:!0,configurable:!0,writable:!0}):Q[G]=Y,Q}function ve(Q,G){var Y={};for(var ye in Q)G.indexOf(ye)>=0||Object.prototype.hasOwnProperty.call(Q,ye)&&(Y[ye]=Q[ye]);return Y}e.ITERATOR_SYMBOL=typeof Symbol=="function"&&Symbol.iterator;function Me(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,le.default)(Q)}function je(Q,G){if(Q&&G&&Q!==G)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function Qe(Q){var G=(0,Z.get)(),Y=G.attachTo,ye=G.hydrateIn,Ge=ve(G,["attachTo","hydrateIn"]);je(Y,ye);var Ze=Q.attachTo,ct=Q.hydrateIn;je(Ze,ct);var or=ct||ye||Y||Ze||void 0,dr=ct||ye||void 0,xr=(0,s.default)({},or&&{attachTo:or},dr&&{hydrateIn:dr});return(0,s.default)({},Ge,Q,xr)}function tt(Q,G){return(0,ge.default)(G),G.isCustomComponent?!!G.isCustomComponent(Q):typeof Q=="function"}function st(Q,G){return G.isCustomComponentElement?!!G.isCustomComponentElement(Q):!!Q&&G.isValidElement(Q)&&typeof Q.type=="function"}function Ct(Q){return(0,E.default)(Q&&Q.props||{}).filter(function(G){var Y=r(G,2),ye=Y[1];return typeof ye<"u"}).reduce(function(G,Y){var ye=r(Y,2),Ge=ye[0],Ze=ye[1];return(0,s.default)(G,ne({},Ge,Ze))},{})}function Be(Q){return Q?Q.type:null}function Ae(Q,G){if(!G||!Q)return!1;var Y=(0,le.default)();if(Y.displayNameOfNode){var ye=Y.displayNameOfNode(Q);return ye===G}return Q.type?typeof Q.type=="string"?Q.type===G:(typeof Q.type=="function"?(0,T.default)(Q.type)===G:Q.type.name===G)||Q.type.displayName===G:!1}function Ne(Q,G,Y,ye){var Ge=ye?Dt:$t;if(Q===G)return!0;if(!Array.isArray(Q)&&!Array.isArray(G))return Ge(Q,G,Y);var Ze=(0,O.default)(Q,1/0),ct=(0,O.default)(G,1/0);if(Ze.length!==ct.length)return!1;if(Ze.length===0&&ct.length===0)return!0;for(var or=0;or<Ze.length;or+=1)if(!Ge(Ze[or],ct[or],Y))return!1;return!0}function Ue(Q,G,Y){return Ne(Q,G,Y,!0)}function it(Q,G,Y){return Ne(Q,G,Y,!1)}function mt(Q,G){var Y=r(G,2),ye=Y[0],Ge=Y[1],Ze=Ge==null?{}:ne({},ye,Ge);return(0,s.default)({},Q,Ze)}function Ft(Q,G,Y,ye){if(Q===G)return!0;if(!Q||!G||Q.type!==G.type)return!1;var Ge=Ct(Q),Ze=Ct(G);ye&&(Ge=(0,E.default)(Ge).reduce(mt,{}),Ze=(0,E.default)(Ze).reduce(mt,{}));for(var ct=Object.keys(Ge),or=0;or<ct.length;or+=1){var dr=ct[or];if(dr!=="children")if(dr in Ze){if(Ze[dr]!==Ge[dr])if(t(Ze[dr])===t(Ge[dr])&&t(Ge[dr])==="object"){if(!(0,h.default)(Ge[dr],Ze[dr]))return!1}else return!1}else return!1}var xr="children"in Ge,br="children"in Ze,Nr=ye?Ue:it;if((xr||br)&&!Nr(fr(Ge.children,ye),fr(Ze.children,ye),Y))return!1;if(!Jr(Q)){var ra=Object.keys(Ze);return Y(ct.length-xr,ra.length-br)}return!1}function Dt(Q,G){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default;return Ft(Q,G,Y,!0)}function $t(Q,G){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default;return Ft(Q,G,Y,!1)}function cr(Q,G,Y){var ye=(0,K.childrenOfNode)(G),Ge=function(ct,or){return Ut(Q,ye.slice(or,or+Y.length),Y)};return ye.some(Ge)}function Ut(Q,G,Y){return G.length===Y.length&&G.every(function(ye,Ge){return Q(ye,Y[Ge])})}function mr(Q){var G=[],Y=function(Ge){Ge===null||Ge===!1||typeof Ge>"u"||G.push(Ge)};return Array.isArray(Q)?Q.forEach(Y):Y(Q),G}function fr(Q){for(var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=mr(Q),ye=[],Ge=0;Ge<Y.length;Ge+=1){var Ze=Y[Ge],ct=ye.pop();typeof ct>"u"?ye.push(Ze):Jr(Ze)&&Jr(ct)?ye.push(ct+Ze):(ye.push(ct),ye.push(Ze))}return G?ye.map(function(or){return typeof or=="string"?(0,P.default)(or):or}):ye}function Jr(Q){return typeof Q=="string"||typeof Q=="number"}function Lr(Q,G){return G.isValidElement(Q)||Jr(Q)||Array.isArray(Q)}function gr(Q){var G=!1;typeof globalThis.document>"u"&&(G=!0,globalThis.document={}),Q(),G&&(globalThis.document=void 0,delete globalThis.document)}function sn(Q){var G=Q.slice().reverse();return function(Y){return G.every(function(ye){return ye(Y)})}}function nn(Q){if(!Q)return null;var G=Q.type;return G?G.displayName||(typeof G=="function"?(0,T.default)(G):G.name||G):null}function Dn(Q){return typeof Symbol=="function"?Symbol.for("enzyme."+String(Q)):Q}function ta(Q,G,Y){Object.defineProperty(Q,G,{value:Y,enumerable:!1,writable:!0})}function en(Q,G,Y){return Q.createElement(G.type,(0,s.default)({},G.props,Y))}function kt(Q,G){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},ye=void 0,Ge=Q[G],Ze=(0,A.default)(Q,G),ct=void 0;return Ze&&(ct=Object.getOwnPropertyDescriptor(Q,G)),Object.defineProperty(Q,G,{configurable:!0,enumerable:!ct||!!ct.enumerable,value:Y(Ge)||(function(){function or(){for(var dr=arguments.length,xr=Array(dr),br=0;br<dr;br++)xr[br]=arguments[br];var Nr=Ge.apply(this,xr);return ye=Nr,Nr}return or})()}),{restore:(function(){function or(){Ze?ct?Object.defineProperty(Q,G,ct):Q[G]=Ge:delete Q[G]}return or})(),getLastReturnValue:(function(){function or(){return ye}return or})()}}function ze(Q){return Q===null||Q===!1}function Xe(Q){return ze(Q)?!0:[].concat(Q).every(function(G){if(G){var Y=G.rendered;return ze(Y)||Xe(Y)}return ze(G)})}function ft(Q){return Q?(0,W.isHtml)(Q)?$.default.load("")(Q):$.default.load(Q,null,!1).root():$.default.root()}})(bb);var pp={},BOe="[object Symbol]",iq=/[&<>"'`]/g,FOe=RegExp(iq.source),UOe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},HOe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,$Oe=typeof self=="object"&&self&&self.Object===Object&&self,GOe=HOe||$Oe||Function("return this")();function zOe(e){return function(t){return e?.[t]}}var jOe=zOe(UOe),VOe=Object.prototype,WOe=VOe.toString,aq=GOe.Symbol,oq=aq?aq.prototype:void 0,sq=oq?oq.toString:void 0;function YOe(e){if(typeof e=="string")return e;if(qOe(e))return sq?sq.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function XOe(e){return!!e&&typeof e=="object"}function qOe(e){return typeof e=="symbol"||XOe(e)&&WOe.call(e)==BOe}function KOe(e){return e==null?"":YOe(e)}function ZOe(e){return e=KOe(e),e&&FOe.test(e)?e.replace(iq,jOe):e}var QOe=ZOe,JOe=String.prototype.valueOf,eke=function(t){try{return JOe.call(t),!0}catch{return!1}},tke=Object.prototype.toString,rke="[object String]",nke=Eb(),lq=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:nke?eke(t):tke.call(t)===rke},ike=Number.prototype.toString,ake=function(t){try{return ike.call(t),!0}catch{return!1}},oke=Object.prototype.toString,ske="[object Number]",lke=Eb(),uke=function(t){return typeof t=="number"?!0:typeof t!="object"?!1:lke?ake(t):oke.call(t)===ske},uq=is,cke=uq("Boolean.prototype.toString"),hke=uq("Object.prototype.toString"),fke=function(t){try{return cke(t),!0}catch{return!1}},dke="[object Boolean]",pke=Eb(),mke=function(t){return typeof t=="boolean"?!0:t===null||typeof t!="object"?!1:pke&&Symbol.toStringTag in t?fke(t):hke(t)===dke};Object.defineProperty(pp,"__esModule",{value:!0});var cq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};pp.typeName=dq,pp.spaces=pq,pp.indent=mq,pp.debugNode=L5,pp.debugNodes=Mke;var gke=QOe,vke=Mf(gke),yke=P2,hq=Mf(yke),_ke=lq,Eke=Mf(_ke),Tke=uke,bke=Mf(Tke),Ske=vI,Cke=Mf(Ske),Ake=mke,wke=Mf(Ake),xke=Kz,_1=Mf(xke),Ike=bs,E1=Mf(Ike),fq=lo,Dke=dp,M5=Mf(Dke);function Mf(e){return e&&e.__esModule?e:{default:e}}var Oke=Function.bind.call(Function.call,Boolean.prototype.valueOf);function dq(e){var t=(0,M5.default)();return t.displayNameOfNode?(0,M5.default)().displayNameOfNode(e)||"Component":typeof e.type=="function"?e.type.displayName||(0,hq.default)(e.type)||"Component":e.type}function pq(e){return Array(e+1).join(" ")}function mq(e,t){return t.split(`
`).map(function(r){return""+String(pq(e))+String(r)}).join(`
`)}function kke(e,t){return(0,Eke.default)(e)?(0,_1.default)(String(e),{quoteStyle:"double"}):(0,bke.default)(e)?"{"+String((0,_1.default)(Number(e)))+"}":(0,wke.default)(e)?"{"+String((0,_1.default)(Oke(e)))+"}":(0,Cke.default)(e)?"{"+String((0,_1.default)(e))+"}":(typeof e>"u"?"undefined":cq(e))==="object"?t.verbose?"{"+String((0,_1.default)(e))+"}":"{{...}}":"{["+(typeof e>"u"?"undefined":cq(e))+"]}"}function Pke(e,t){var r=(0,fq.propsOfNode)(e),i=Object.keys(r).filter(function(n){return n!=="children"});return i.map(function(n){return String(n)+"="+String(kke(r[n],t))}).join(" ")}function Rke(e,t){return e.length?`
`+String(e.map(function(r){return mq(t,r)}).join(`
`))+`
`:""}function Nke(e){return(0,E1.default)(e,"nodeType")&&typeof e.nodeType=="string"&&(0,E1.default)(e,"type")&&(0,E1.default)(e,"key")&&(0,E1.default)(e,"ref")&&(0,E1.default)(e,"instance")&&(0,E1.default)(e,"rendered")}function L5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"||typeof e=="number")return(0,vke.default)(e);if(typeof e=="function"){var i=(0,hq.default)(e);return"[function"+(i?" "+String(i):"")+"]"}if(!e)return"";var n=(0,M5.default)();if(!n.isValidElement(e)&&!Nke(e))return"{"+String((0,_1.default)(e))+"}";var s=(0,fq.childrenOfNode)(e).map(function(_){return L5(_,t,r)}).filter(Boolean),c=dq(e),h=r.ignoreProps?"":Pke(e,r),p=h?" ":"",m=s.length?">":" ",d=Rke(s,t),E=s.length?"</"+String(c)+">":"/>";return"<"+String(c)+p+String(h)+m+String(d)+E}function Mke(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.map(function(r){return L5(r,void 0,t)}).join(`


`)}var T1={},b1={},B5={};Object.defineProperty(B5,"__esModule",{value:!0});var gq=function(t){return JSON.stringify(t)},Lke=function(t){var r=t.body,i=[],n=!0,s=!1,c=void 0;try{for(var h=r[Symbol.iterator](),p;!(n=(p=h.next()).done);n=!0){var m=p.value,d=void 0;if(m.type==="universalSelector")d="*";else if(m.type==="typeSelector")d=m.name;else if(m.type==="idSelector")d="#"+m.name;else if(m.type==="classSelector")d="."+m.name;else if(m.type==="attributePresenceSelector")d="["+m.name+"]";else if(m.type==="attributeValueSelector")d="["+m.name+m.operator+gq(m.value)+"]";else if(m.type==="pseudoClassSelector")d=":"+m.name,m.parameters.length&&(d+="("+m.parameters.map(gq).join(", ")+")");else if(m.type==="pseudoElementSelector")d="::"+m.name;else throw new Error("Unknown token.");i.push(d)}}catch(E){s=!0,c=E}finally{try{!n&&h.return&&h.return()}finally{if(s)throw c}}return i.join("")};B5.default=function(){var e=function(r){var i=[],n=!0,s=!1,c=void 0;try{for(var h=r[Symbol.iterator](),p;!(n=(p=h.next()).done);n=!0){var m=p.value;if(m.type==="selector")i.push(Lke(m));else if(m.type==="descendantCombinator")i.push(" ");else if(m.type==="childCombinator")i.push(" > ");else if(m.type==="adjacentSiblingCombinator")i.push(" + ");else if(m.type==="generalSiblingCombinator")i.push(" ~ ");else throw new Error("Unknown token.")}}catch(d){s=!0,c=d}finally{try{!n&&h.return&&h.return()}finally{if(s)throw c}}return i.join("")};return{generate:e}};var F5={},vq={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(Te,function(){function t(m,d,E){return this.id=++t.highestId,this.name=m,this.symbols=d,this.postprocess=E,this}t.highestId=0,t.prototype.toString=function(m){var d=typeof m>"u"?this.symbols.map(p).join(" "):this.symbols.slice(0,m).map(p).join(" ")+"  "+this.symbols.slice(m).map(p).join(" ");return this.name+"  "+d};function r(m,d,E,_){this.rule=m,this.dot=d,this.reference=E,this.data=[],this.wantedBy=_,this.isComplete=this.dot===m.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(m){var d=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return d.left=this,d.right=m,d.isComplete&&(d.data=d.build(),d.right=void 0),d},r.prototype.build=function(){var m=[],d=this;do m.push(d.right.data),d=d.left;while(d.left);return m.reverse(),m},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,c.fail))};function i(m,d){this.grammar=m,this.index=d,this.states=[],this.wants={},this.scannable=[],this.completed={}}i.prototype.process=function(m){for(var d=this.states,E=this.wants,_=this.completed,T=0;T<d.length;T++){var C=d[T];if(C.isComplete){if(C.finish(),C.data!==c.fail){for(var A=C.wantedBy,D=A.length;D--;){var O=A[D];this.complete(O,C)}if(C.reference===this.index){var B=C.rule.name;(this.completed[B]=this.completed[B]||[]).push(C)}}}else{var B=C.rule.symbols[C.dot];if(typeof B!="string"){this.scannable.push(C);continue}if(E[B]){if(E[B].push(C),_.hasOwnProperty(B))for(var P=_[B],D=0;D<P.length;D++){var R=P[D];this.complete(C,R)}}else E[B]=[C],this.predict(B)}}},i.prototype.predict=function(m){for(var d=this.grammar.byName[m]||[],E=0;E<d.length;E++){var _=d[E],T=this.wants[m],C=new r(_,0,this.index,T);this.states.push(C)}},i.prototype.complete=function(m,d){var E=m.nextState(d);this.states.push(E)};function n(m,d){this.rules=m,this.start=d||this.rules[0].name;var E=this.byName={};this.rules.forEach(function(_){E.hasOwnProperty(_.name)||(E[_.name]=[]),E[_.name].push(_)})}n.fromCompiled=function(_,d){var E=_.Lexer;_.ParserStart&&(d=_.ParserStart,_=_.ParserRules);var _=_.map(function(C){return new t(C.name,C.symbols,C.postprocess)}),T=new n(_,d);return T.lexer=E,T};function s(){this.reset("")}s.prototype.reset=function(m,d){this.buffer=m,this.index=0,this.line=d?d.line:1,this.lastLineBreak=d?-d.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var m=this.buffer[this.index++];return m===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:m}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(m,d){var E=this.buffer;if(typeof E=="string"){var _=E.split(`
`).slice(Math.max(0,this.line-5),this.line),T=E.indexOf(`
`,this.index);T===-1&&(T=E.length);var C=this.index-this.lastLineBreak,A=String(this.line).length;return d+=" at line "+this.line+" col "+C+`:

`,d+=_.map(function(O,B){return D(this.line-_.length+B+1,A)+" "+O},this).join(`
`),d+=`
`+D("",A+C)+`^
`,d}else return d+" at index "+(this.index-1);function D(O,B){var P=String(O);return Array(B-P.length+1).join(" ")+P}};function c(m,d,E){if(m instanceof n)var _=m,E=d;else var _=n.fromCompiled(m,d);this.grammar=_,this.options={keepHistory:!1,lexer:_.lexer||new s};for(var T in E||{})this.options[T]=E[T];this.lexer=this.options.lexer,this.lexerState=void 0;var C=new i(_,0);this.table=[C],C.wants[_.start]=[],C.predict(_.start),C.process(),this.current=0}c.fail={},c.prototype.feed=function(m){var d=this.lexer;d.reset(m,this.lexerState);for(var E;;){try{if(E=d.next(),!E)break}catch(Z){var A=new i(this.grammar,this.current+1);this.table.push(A);var _=new Error(this.reportLexerError(Z));throw _.offset=this.current,_.token=Z.token,_}var T=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var C=this.current+1,A=new i(this.grammar,C);this.table.push(A);for(var D=E.text!==void 0?E.text:E.value,O=d.constructor===s?E.value:E,B=T.scannable,P=B.length;P--;){var R=B[P],$=R.rule.symbols[R.dot];if($.test?$.test(O):$.type?$.type===E.type:$.literal===D){var W=R.nextState({data:O,token:E,isToken:!0,reference:C-1});A.states.push(W)}}if(A.process(),A.states.length===0){var _=new Error(this.reportError(E));throw _.offset=this.current,_.token=E,_}this.options.keepHistory&&(T.lexerState=d.save()),this.current++}return T&&(this.lexerState=d.save()),this.results=this.finish(),this},c.prototype.reportLexerError=function(m){var d,E,_=m.token;return _?(d="input "+JSON.stringify(_.text[0])+" (lexer error)",E=this.lexer.formatError(_,"Syntax error")):(d="input (lexer error)",E=m.message),this.reportErrorCommon(E,d)},c.prototype.reportError=function(m){var d=(m.type?m.type+" token: ":"")+JSON.stringify(m.value!==void 0?m.value:m),E=this.lexer.formatError(m,"Syntax error");return this.reportErrorCommon(E,d)},c.prototype.reportErrorCommon=function(m,d){var E=[];E.push(m);var _=this.table.length-2,T=this.table[_],C=T.states.filter(function(D){var O=D.rule.symbols[D.dot];return O&&typeof O!="string"});if(C.length===0)E.push("Unexpected "+d+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(T.states,E);else{E.push("Unexpected "+d+`. Instead, I was expecting to see one of the following:
`);var A=C.map(function(D){return this.buildFirstStateStack(D,[])||[D]},this);A.forEach(function(D){var O=D[0],B=O.rule.symbols[O.dot],P=this.getSymbolDisplay(B);E.push("A "+P+" based on:"),this.displayStateStack(D,E)},this)}return E.push(""),E.join(`
`)},c.prototype.displayStateStack=function(m,d){for(var E,_=0,T=0;T<m.length;T++){var C=m[T],A=C.rule.toString(C.dot);A===E?_++:(_>0&&d.push("    ^ "+_+" more lines identical to this"),_=0,d.push("    "+A)),E=A}},c.prototype.getSymbolDisplay=function(m){return h(m)},c.prototype.buildFirstStateStack=function(m,d){if(d.indexOf(m)!==-1)return null;if(m.wantedBy.length===0)return[m];var E=m.wantedBy[0],_=[m].concat(d),T=this.buildFirstStateStack(E,_);return T===null?null:[m].concat(T)},c.prototype.save=function(){var m=this.table[this.current];return m.lexerState=this.lexerState,m},c.prototype.restore=function(m){var d=m.index;this.current=d,this.table[d]=m,this.table.splice(d+1),this.lexerState=m.lexerState,this.results=this.finish()},c.prototype.rewind=function(m){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[m])},c.prototype.finish=function(){var m=[],d=this.grammar.start,E=this.table[this.table.length-1];return E.states.forEach(function(_){_.rule.name===d&&_.dot===_.rule.symbols.length&&_.reference===0&&_.data!==c.fail&&m.push(_)}),m.map(function(_){return _.data})};function h(m){var d=typeof m;if(d==="string")return m;if(d==="object"){if(m.literal)return JSON.stringify(m.literal);if(m instanceof RegExp)return"character matching "+m;if(m.type)return m.type+" token";if(m.test)return"token matching "+String(m.test);throw new Error("Unknown symbol type: "+m)}}function p(m){var d=typeof m;if(d==="string")return m;if(d==="object"){if(m.literal)return JSON.stringify(m.literal);if(m instanceof RegExp)return m.toString();if(m.type)return"%"+m.type;if(m.test)return"<"+String(m.test)+">";throw new Error("Unknown symbol type: "+m)}}return{Parser:c,Grammar:n,Rule:t}})})(vq);var yq={exports:{}},Bke=1/0,Fke=9007199254740991,Uke="[object Arguments]",Hke="[object Function]",$ke="[object GeneratorFunction]",Gke=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,zke=typeof self=="object"&&self&&self.Object===Object&&self,jke=Gke||zke||Function("return this")(),U5=Object.prototype,Vke=U5.hasOwnProperty,_q=U5.toString,Eq=jke.Symbol,Wke=U5.propertyIsEnumerable,Tq=Eq?Eq.isConcatSpreadable:void 0;function bq(e,t,r,i,n){var s=-1,c=e.length;for(r||(r=Yke),n||(n=[]);++s<c;){var h=e[s];r(h)?bq(h,t-1,r,i,n):n[n.length]=h}return n}function Yke(e){return Kke(e)||qke(e)||!!(Tq&&e&&e[Tq])}function Xke(e){var t=e?e.length:0;return t?bq(e,Bke):[]}function qke(e){return Qke(e)&&Vke.call(e,"callee")&&(!Wke.call(e,"callee")||_q.call(e)==Uke)}var Kke=Array.isArray;function Zke(e){return e!=null&&ePe(e.length)&&!Jke(e)}function Qke(e){return rPe(e)&&Zke(e)}function Jke(e){var t=tPe(e)?_q.call(e):"";return t==Hke||t==$ke}function ePe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fke}function tPe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function rPe(e){return!!e&&typeof e=="object"}var nPe=Xke;(function(e){(function(){function t(E){return E[0]}var r=nPe,i=function(_,T){return function(C){return C[_].concat([C[T]])}},n=function(_){return _=_.filter(function(T){return T!==null}),r(_)},s={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},c=function(_){return(Array.isArray(_[0])?_[0]:[_[0]]).concat({type:s[_[2]]}).concat(_[4])},h=function(_,T,C){var A=r(_).join(""),D=parseFloat(A);return isNaN(D)?C:D},p=function(_,T,C){return _[0]==="true"?!0:_[0]==="false"?!1:C},m=function(_,T,C){if(_[0]==="NaN")return NaN;if(_[0]!=="undefined")return _[0]==="null"?null:C},d={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:c},{name:"selector",symbols:["selectorBody"],postprocess:function(_){return{type:"selector",body:_[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:t},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(_){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(_){return _[0].concat([_[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(_,T,C){var A=n(_);return A.length?A:C}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(_){return _[0].concat([_[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:n},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(_){return{type:"typeSelector",name:_[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"className$ebnf$1",symbols:[],postprocess:function(_){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(_){return _[0].concat([_[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(_){return(_[0]||"")+_[1]+_[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(_){return _[0].concat([_[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(_){return _[0]+_[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(_){return{type:"classSelector",name:_[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(_){return{type:"idSelector",name:_[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(_){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(_){return{type:"attributePresenceSelector",name:_[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(_){return _.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(_){return _.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(_){return _.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(_){return _.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(_){return _.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(_){return{type:"attributeValueSelector",name:_[1],value:_[3],operator:_[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:t},{name:"attributeValue",symbols:["numericValue"],postprocess:t},{name:"attributeValue",symbols:["sqstring"],postprocess:t},{name:"attributeValue",symbols:["dqstring"],postprocess:t},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(_){return _.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:p},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(_){return _.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:p},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(_){return _.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:m},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(_){return _.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:m},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(_){return _.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:m},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:h},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:h},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:h},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:h},{name:"numericValue",symbols:["int"],postprocess:h},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:h},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(_){return _.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:h},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(_){return _.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:h},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(_){return _.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:h},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(_){return _[0].concat([_[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:i(0,3)},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(_){return _[0].concat([_[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(_){return _[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:t},{name:"classParameter",symbols:["dqstring"],postprocess:t},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(_){return _.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(_){return{type:"pseudoElementSelector",name:_[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(_){return{type:"pseudoClassSelector",name:_[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(_){return{type:"pseudoClassSelector",name:_[1],parameters:_[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(_){return _[0].concat([_[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(_){return _[0]+_[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(_){return _[0].concat([_[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(_){return _[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:t},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(_){return _.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(_){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(_){return _[0].concat([_[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(_){return _[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:t},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(_){return _.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(_){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(_){return _[0].concat([_[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(_){return null}}],ParserStart:"combinator"};e.exports=d})()})(yq),Object.defineProperty(F5,"__esModule",{value:!0});var iPe=vq.exports,aPe=yq.exports,Sq=oPe(aPe);function oPe(e){return e&&e.__esModule?e:{default:e}}F5.default=function(){var e=function(r){var i=new iPe.Parser(Sq.default.ParserRules,Sq.default.ParserStart),n=i.feed(r).results;if(n.length===0)throw new Error("Found no parsings.");if(n.length>1)throw new Error("Ambiguous results.");return n[0]};return{parse:e}},Object.defineProperty(b1,"__esModule",{value:!0}),b1.createParser=b1.createGenerator=void 0;var sPe=B5,lPe=Cq(sPe),uPe=F5,cPe=Cq(uPe);function Cq(e){return e&&e.__esModule?e:{default:e}}b1.createGenerator=lPe.default,b1.createParser=cPe.default;var hPe=Eg.exports,Aq=is,fPe=Aq("Object.prototype.propertyIsEnumerable"),dPe=Aq("Array.prototype.push"),wq=function(t){var r=hPe(t),i=[];for(var n in r)fPe(r,n)&&dPe(i,r[n]);return i},pPe=wq,xq=function(){return typeof Object.values=="function"?Object.values:pPe},mPe=xq,gPe=ns,vPe=function(){var t=mPe();return gPe(Object,{values:t},{values:function(){return Object.values!==t}}),t},yPe=ns,_Pe=ph.exports,EPe=wq,Iq=xq,TPe=vPe,Dq=_Pe(Iq(),Object);yPe(Dq,{getPolyfill:Iq,implementation:EPe,shim:TPe});var bPe=Dq,SPe=Pj,CPe=Lj(),APe=Xj(),wPe=_b,xPe=Kj(),IPe=e2.exports,DPe=hV(),OPe=JL,kPe=mV,Oq=I2,PPe=is,RPe=lq,kq=Object("a"),NPe=kq[0]!=="a"||!(0 in kq),MPe=PPe("String.prototype.split"),Pq=function(t){var r=kPe(this),i=NPe&&RPe(r)?MPe(r,""):r,n=DPe(i);if(!IPe(t))throw new TypeError("Array.prototype.filter callback must be a function");var s;arguments.length>1&&(s=arguments[1]);for(var c=SPe(r,0),h=0,p=0;h<n;){var m=Oq(h),d=xPe(r,m);if(d){var E=wPe(r,m),_=OPe(CPe(t,s,[E,h,r]));_&&(APe(c,Oq(p),E),p+=1)}h+=1}return c},LPe=function(t){var r=!0,i=!0,n=!1;if(typeof t=="function"){try{t.call("f",function(s,c,h){typeof h!="object"&&(r=!1)}),t.call([null],function(){"use strict";i=typeof this=="string"},"x")}catch{n=!0}return!n&&r&&i}return!1},BPe=LPe,FPe=Pq,Rq=function(){var t=Array.prototype.filter;return BPe(t)?t:FPe},H5,Nq;function UPe(){if(Nq)return H5;Nq=1;var e=ns,t=Rq;return H5=function(){var i=t();return e(Array.prototype,{filter:i},{filter:function(){return Array.prototype.filter!==i}}),i},H5}var HPe=ns,$Pe=Eg.exports,GPe=ph.exports,zPe=is,jPe=Pq,Mq=Rq,VPe=GPe.apply(Mq()),WPe=UPe(),YPe=zPe("Array.prototype.slice"),Lq=function(t,r){return $Pe(t),VPe(t,YPe(arguments,1))};HPe(Lq,{getPolyfill:Mq,implementation:jPe,shim:WPe});var XPe=Lq,qPe=is,KPe=qPe("Array.prototype.push"),ZPe=function(e,t){for(var r=[],i=0;i<e.length;i+=1)KPe(r,t(e[i],i));return r},QPe=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont","HTMLBaseFontElementConstructor"],["HTMLPhraseElement","cite","HTMLElement"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound","HTMLElement"],["HTMLPhraseElement","blink","HTMLElement"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid","HTMLElement"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a","HTMLElement"],["HTMLAreaElement","area","HTMLElement"],["HTMLAudioElement","audio","HTMLElement"],["HTMLBaseElement","base","HTMLElement"],["HTMLBodyElement","body","HTMLElement"],["HTMLBRElement","br","HTMLElement"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content","HTMLElement"],["HTMLDataElement","data","HTMLElement"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog","HTMLElement"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index","HTMLElement"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLElement","main"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter","HTMLElement"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture","HTMLElement"],["HTMLPreElement","pre"],["HTMLProgressElement","progress","HTMLElement"],["HTMLQuoteElement","q","HTMLBlockquoteElement"],["HTMLQuoteElement","blockquote","HTMLBlockElement","HTMLBlockquoteElement"],["HTMLScriptElement","script"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow","HTMLElement"],["HTMLSourceElement","source"],["HTMLSpanElement","span","HTMLElement"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template","HTMLElement"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time","HTMLElement"],["HTMLTitleElement","title"],["HTMLTrackElement","track","HTMLElement"],["HTMLUListElement","ul"],["HTMLVideoElement","video"],["HTMLElement","abbr"],["HTMLElement","address"],["HTMLElement","aside"],["HTMLElement","b"],["HTMLElement","bdi"],["HTMLElement","bdo"],["HTMLElement","code"],["HTMLElement","dd"],["HTMLDetailsElement","details","HTMLElement"],["HTMLElement","dfn"],["HTMLElement","dt"],["HTMLElement","em"],["HTMLElement","figcaption"],["HTMLElement","figure"],["HTMLElement","footer"],["HTMLElement","header"],["HTMLElement","hgroup"],["HTMLElement","i"],["HTMLElement","kbd"],["HTMLElement","mark"],["HTMLElement","nav"],["HTMLElement","rp"],["HTMLElement","rt"],["HTMLElement","ruby"],["HTMLElement","s"],["HTMLElement","samp"],["HTMLSlotElement","slot","HTMLElement"],["HTMLElement","small"],["HTMLElement","strong"],["HTMLElement","summary"],["HTMLElement","u"],["HTMLElement","var"],["HTMLElement","wbr"]],JPe=function(t,r,i){if(typeof document<"u"&&typeof document.createElement=="function"){var n=document.createElement(t).constructor;if(n!==i)return n}},eRe=function(){var t=globalThis.HTMLUnknownElement;return{all:globalThis.HTMLElement,elements:ZPe(QPe,function(r){for(var i=r[0],n=r[1],s,c,h=2;h<arguments.length&&!c;h+=1)s=r[h],c=s&&globalThis[s];var p=globalThis[i];return{constructor:JPe(n,c||p,t),constructorName:c?s:i,expectedConstructor:c||p,tag:n}}),unknown:t}},tRe=XPe,rRe=eRe,nRe=function(t){if(!t)return[];var r=rRe();return t===r.unknown?[]:t===r.all?r.elements:tRe(r.elements,function(i){return i.constructor===t})};Object.defineProperty(T1,"__esModule",{value:!0});var Bq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iRe=(function(){function e(t,r){var i=[],n=!0,s=!1,c=void 0;try{for(var h=t[Symbol.iterator](),p;!(n=(p=h.next()).done)&&(i.push(p.value),!(r&&i.length===r));n=!0);}catch(m){s=!0,c=m}finally{try{!n&&h.return&&h.return()}finally{if(s)throw c}}return i}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();T1.buildPredicate=Wq,T1.reduceTreeBySelector=bD,T1.reduceTreesBySelector=$Re;var aRe=b1,oRe=bPe,sRe=S1(oRe),lRe=Tb,$5=S1(lRe),uRe=k2,cRe=S1(uRe),hRe=bs,fRe=S1(hRe),dRe=nRe,pRe=S1(dRe),Os=lo,Fq=bb,mRe=dp,Uq=S1(mRe);function S1(e){return e&&e.__esModule?e:{default:e}}function gRe(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}var vRe=(0,aRe.createParser)(),yRe="childCombinator",_Re="adjacentSiblingCombinator",ERe="generalSiblingCombinator",TRe="descendantCombinator",Hq="selector",bRe="typeSelector",SRe="classSelector",CRe="idSelector",ARe="universalSelector",$q="attributePresenceSelector",wRe="attributeValueSelector",xRe="pseudoClassSelector",IRe="pseudoElementSelector",Gq="=",DRe="~=",ORe="|=",kRe="^=",PRe="$=",RRe="*=";function zq(e){return[].concat(gRe(new Set(e)))}function G5(e,t){return zq(t.reduce(e,[]))}function jq(e){try{return vRe.parse(e)}catch{throw new Error("Failed to parse selector: "+String(e))}}function Vq(e,t){var r=t.operator,i=t.value,n=t.name,s=(0,Fq.propsOfNode)(e),c=Object.getOwnPropertyDescriptor(s,n);if(c&&c.get)return!1;var h=s[n];if(typeof h>"u")return!1;if(t.type===$q)return(0,fRe.default)(s,t.name);if((typeof h!="string"||typeof i!="string")&&r!==Gq)return!1;switch(r){case Gq:return(0,cRe.default)(h,i);case DRe:return h.split(" ").indexOf(i)!==-1;case ORe:return h===i||h.startsWith(String(i)+"-");case kRe:return i===""?!1:h.slice(0,i.length)===i;case PRe:return i===""?!1:h.slice(-i.length)===i;case RRe:return i===""?!1:h.indexOf(i)!==-1;default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(r)+'"')}}function NRe(e,t,r){var i=t.name,n=t.parameters;if(i==="not")return n.every(function(_){return bD(_,e).length===0});if(i==="empty")return(0,Os.treeFilter)(e,function(_){return _!==e}).length===0;if(i==="first-child"){var s=(0,Os.findParentNode)(r,e),c=s.rendered,h=iRe(c,1),p=h[0];return p===e}if(i==="last-child"){var m=(0,Os.findParentNode)(r,e),d=m.rendered;return d[d.length-1]===e}if(i==="focus"){if(typeof document>"u")throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a globalThis `document`.');var E=(0,Uq.default)();return document.activeElement&&E.nodeToHostNode(e)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(t.name)+'" pseudo-element or pseudo-class selectors.')}function MRe(e,t,r){if(e===null||typeof e=="string")return!1;switch(t.type){case ARe:return!0;case SRe:return(0,Os.hasClassName)(e,t.name);case bRe:return(0,Fq.nodeHasType)(e,t.name);case CRe:return(0,Os.nodeHasId)(e,t.name);case $q:return Vq(e,t);case wRe:return Vq(e,t);case IRe:case xRe:return NRe(e,t,r);default:throw new Error("Unknown token type: "+String(t.type))}}function z5(e,t){return function(r){return e.body.every(function(i){return MRe(r,i,t)})}}function LRe(e){return e.some(function(t){return t.type!==Hq})}function Wq(e){if(typeof e=="string"){var t=jq(e);if(LRe(t))throw new TypeError("This method does not support complex CSS selectors");return z5(t[0])}var r=(0,Uq.default)(),i=r.isValidElementType?r.isValidElementType(e):typeof e=="function";if(i)return function(s){return r.matchesElementType(s,e)};if((typeof e>"u"?"undefined":Bq(e))==="object"){if(!Array.isArray(e)&&e!==null&&Object.keys(e).length>0){var n=(0,sRe.default)(e).some(function(s){return typeof s>"u"});if(n)throw new TypeError("Enzyme::Props cant have `undefined` values. Try using findWhere() instead.");return function(s){return(0,Os.nodeMatchesObjectProps)(s,e)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function BRe(e,t,r){return e.reduce(function(i,n){var s=(0,Os.findParentNode)(r,n);if(!s)return i;var c=(0,Os.childrenOfNode)(s),h=c.indexOf(n),p=c[h+1];return p&&t(p)&&i.push(p),i},[])}function FRe(e,t,r){return G5(function(i,n){var s=(0,Os.findParentNode)(r,n);if(!s)return i;var c=(0,Os.childrenOfNode)(s),h=c.indexOf(n),p=c.slice(h+1);return i.concat(p.filter(t))},e)}function URe(e,t){return G5(function(r,i){return r.concat((0,Os.childrenOfNode)(i).filter(t))},e)}function HRe(e,t){return G5(function(r,i){return r.concat((0,Os.treeFilter)(i,t))},(0,$5.default)(e.map(Os.childrenOfNode)))}function bD(e,t){if(typeof e!="string"){var r=(0,pRe.default)(e);if(r.length>0)return(0,$5.default)(r.map(function(d){return bD(d.tag,t)}))}if(typeof e=="function"||(typeof e>"u"?"undefined":Bq(e))==="object")return(0,Os.treeFilter)(t,Wq(e));var i=[];if(typeof e=="string")for(var n=jq(e),s=0;s<n.length;){var c=n[s];if(c.type===Hq){var h=z5(c,t);i=i.concat((0,Os.treeFilter)(t,h))}else{var p=c.type;s+=1;var m=z5(n[s],t);switch(p){case _Re:i=BRe(i,m,t);break;case ERe:i=FRe(i,m,t);break;case yRe:i=URe(i,m);break;case TRe:{i=HRe(i,m);break}default:throw new Error("Unknown combinator selector: "+String(p))}}s+=1}else throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");return i}function $Re(e,t){var r=t.map(function(i){return bD(e,i)});return zq((0,$5.default)(r,1))}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Be){return typeof Be}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be},r=(function(){function Be(Ae,Ne){for(var Ue=0;Ue<Ne.length;Ue++){var it=Ne[Ue];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(Ae,it.key,it)}}return function(Ae,Ne,Ue){return Ne&&Be(Ae.prototype,Ne),Ue&&Be(Ae,Ue),Ae}})(),i=Uy,n=A(i),s=Tb,c=A(s),h=bs,p=A(h),m=bb,d=dp,E=A(d),_=pp,T=lo,C=T1;function A(Be){return Be&&Be.__esModule?Be:{default:Be}}function D(Be,Ae,Ne){return Ae in Be?Object.defineProperty(Be,Ae,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Be[Ae]=Ne,Be}function O(Be,Ae){if(!Be)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ae&&(typeof Ae=="object"||typeof Ae=="function")?Ae:Be}function B(Be,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ae);Be.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:Be,enumerable:!1,writable:!0,configurable:!0}}),Ae&&(Object.setPrototypeOf?Object.setPrototypeOf(Be,Ae):Be.__proto__=Ae)}function P(Be,Ae){if(!(Be instanceof Ae))throw new TypeError("Cannot call a class as a function")}var R=(0,m.sym)("__node__"),$=(0,m.sym)("__nodes__"),W=(0,m.sym)("__renderer__"),Z=(0,m.sym)("__unrendered__"),K=(0,m.sym)("__root__"),ae=(0,m.sym)("__options__"),le=(0,m.sym)("__rootNodes__"),J=(0,m.sym)("__wrappingComponent__"),ge=(0,m.sym)("__linkedRoots__"),Ee=(0,m.sym)("__updatedBy__");function ne(Be,Ae){var Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.treeFilter;return Be.flatMap(function(Ue){return Ne(Ue.getNodeInternal(),Ae)})}function ve(Be,Ae){return Be.wrap(Be.getNodesInternal().filter(Ae).filter(Boolean))}function Me(Be){if(Be[K].length!==1)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return Be[K]!==Be?Be[le][0]:Be[K][R]}function je(Be,Ae){return(0,T.parentsOfNode)(Ae,Me(Be))}function Qe(Be,Ae){Ae?Array.isArray(Ae)?((0,m.privateSet)(Be,R,Ae[0]),(0,m.privateSet)(Be,$,Ae)):((0,m.privateSet)(Be,R,Ae),(0,m.privateSet)(Be,$,[Ae])):((0,m.privateSet)(Be,R,null),(0,m.privateSet)(Be,$,[])),(0,m.privateSet)(Be,"length",Be[$].length)}var tt=(function(){function Be(Ae,Ne){var Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(P(this,Be),!globalThis.window&&!globalThis.document)throw new Error("It looks like you called `mount()` without a globalThis document being loaded.");var it=(0,m.makeOptions)(Ue);if(Ne)(0,m.privateSet)(this,W,Ne[W]),(0,m.privateSet)(this,K,Ne),Qe(this,Ae),(0,m.privateSet)(this,le,Ne[$]),(0,m.privateSet)(this,ae,Ne[ae]),(0,m.privateSet)(this,ge,[]);else{var mt=(0,E.default)(it);if(!mt.isValidElement(Ae))throw new TypeError("ReactWrapper can only wrap valid elements");var Ft=mt.createRenderer((0,n.default)({mode:"mount"},it));if((0,m.privateSet)(this,W,Ft),Ft.render(Ae,it.context),(0,m.privateSet)(this,K,this),Qe(this,this[W].getNode()),(0,m.privateSet)(this,ae,it),(0,m.privateSet)(this,ge,[]),(0,m.isCustomComponent)(it.wrappingComponent,mt)){if(typeof this[W].getWrappingComponentRenderer!="function")throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");(0,m.privateSet)(this,J,new st(this,this[W].getWrappingComponentRenderer())),this[ge].push(this[J])}}(0,m.privateSet)(this,Z,Ae),(0,m.privateSet)(this,Ee,null)}return r(Be,[{key:"root",value:(function(){function Ae(){return this[K]}return Ae})()},{key:"getNodeInternal",value:(function(){function Ae(){if(this.length!==1)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[$][0]}return Ae})()},{key:"getNodesInternal",value:(function(){function Ae(){return this[$]}return Ae})()},{key:"getElement",value:(function(){function Ae(){var Ne=this;return this.single("getElement",function(){return(0,E.default)(Ne[ae]).nodeToElement(Ne[R])})}return Ae})()},{key:"getElements",value:(function(){function Ae(){var Ne=this;return this[$].map(function(Ue){return(0,E.default)(Ne[ae]).nodeToElement(Ue)})}return Ae})()},{key:"getNode",value:(function(){function Ae(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}return Ae})()},{key:"getNodes",value:(function(){function Ae(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}return Ae})()},{key:"getDOMNode",value:(function(){function Ae(){var Ne=(0,E.default)(this[ae]);return this.single("getDOMNode",function(Ue){return Ne.nodeToHostNode(Ue,!0)})}return Ae})()},{key:"ref",value:(function(){function Ae(Ne){if(this[K]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[Ne]}return Ae})()},{key:"instance",value:(function(){function Ae(){var Ne=this;return this.single("instance",function(){return Ne[R].instance})}return Ae})()},{key:"getWrappingComponent",value:(function(){function Ae(){if(this[K]!==this)throw new Error("ReactWrapper::getWrappingComponent() can only be called on the root");if(!this[ae].wrappingComponent)throw new Error("ReactWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");return this[J]}return Ae})()},{key:"update",value:(function(){function Ae(){var Ne=this,Ue=this[K];return this!==Ue?Ue.update():(Qe(this,this[W].getNode()),this[ge].forEach(function(it){if(it!==Ne[Ee]){it[Ee]=Ne;try{it.update()}finally{it[Ee]=null}}}),this)}return Ae})()},{key:"unmount",value:(function(){function Ae(){var Ne=this;if(this[K]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",function(){Ne[W].unmount(),Ne.update()}),this}return Ae})()},{key:"mount",value:(function(){function Ae(){var Ne=this;if(this[K]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[W].render(this[Z],this[ae].context,function(){return Ne.update()}),this}return Ae})()},{key:"setProps",value:(function(){function Ae(Ne){var Ue=this,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[K]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&typeof it!="function")throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var mt=(0,E.default)(this[ae]);return this[Z]=(0,m.cloneElement)(mt,this[Z],Ne),this[W].render(this[Z],null,function(){Ue.update(),it&&it()}),this}return Ae})()},{key:"setState",value:(function(){function Ae(Ne){var Ue=this,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this.instance()===null||this.getNodeInternal().nodeType!=="class")throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&typeof it!="function")throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(Ne,function(){if(Ue.update(),it){var mt=(0,E.default)(Ue[ae]),Ft=Ue.instance();mt.invokeSetStateCallback?mt.invokeSetStateCallback(Ft,it):it.call(Ft)}}),this}return Ae})()},{key:"setContext",value:(function(){function Ae(Ne){var Ue=this;if(this[K]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[ae].context)throw new Error("ReactWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[W].render(this[Z],Ne,function(){return Ue.update()}),this}return Ae})()},{key:"contains",value:(function(){function Ae(Ne){var Ue=(0,E.default)(this[ae]),it=Array.isArray(Ne)?function(mt){return(0,m.containsChildrenSubArray)(m.nodeEqual,mt,Ne.map(function(Ft){return Ue.elementToNode(Ft)}))}:function(mt){return(0,m.nodeEqual)(Ue.elementToNode(Ne),mt)};return ne(this,it).length>0}return Ae})()},{key:"containsMatchingElement",value:(function(){function Ae(Ne){var Ue=(0,E.default)(this[ae]).elementToNode(Ne),it=(function(){function mt(Ft){return(0,m.nodeMatches)(Ue,Ft,function(Dt,$t){return Dt<=$t})}return mt})();return ne(this,it).length>0}return Ae})()},{key:"containsAllMatchingElements",value:(function(){function Ae(Ne){var Ue=this;if(!Array.isArray(Ne))throw new TypeError("nodes should be an Array");return Ne.every(function(it){return Ue.containsMatchingElement(it)})}return Ae})()},{key:"containsAnyMatchingElements",value:(function(){function Ae(Ne){var Ue=this;return Array.isArray(Ne)&&Ne.some(function(it){return Ue.containsMatchingElement(it)})}return Ae})()},{key:"equals",value:(function(){function Ae(Ne){var Ue=this;return this.single("equals",function(){return(0,m.nodeEqual)(Ue.getNodeInternal(),Ne)})}return Ae})()},{key:"matchesElement",value:(function(){function Ae(Ne){var Ue=this;return this.single("matchesElement",function(){var it=(0,E.default)(Ue[ae]),mt=it.elementToNode(Ne);return(0,m.nodeMatches)(mt,Ue.getNodeInternal(),function(Ft,Dt){return Ft<=Dt})})}return Ae})()},{key:"find",value:(function(){function Ae(Ne){return this.wrap((0,C.reduceTreesBySelector)(Ne,this.getNodesInternal()))}return Ae})()},{key:"is",value:(function(){function Ae(Ne){var Ue=(0,C.buildPredicate)(Ne);return this.single("is",function(it){return Ue(it)})}return Ae})()},{key:"isEmptyRender",value:(function(){function Ae(){var Ne=this.getNodeInternal();return(0,m.renderedDive)(Ne)}return Ae})()},{key:"filterWhere",value:(function(){function Ae(Ne){var Ue=this;return ve(this,function(it){return Ne(Ue.wrap(it))})}return Ae})()},{key:"filter",value:(function(){function Ae(Ne){var Ue=(0,C.buildPredicate)(Ne);return ve(this,Ue)}return Ae})()},{key:"not",value:(function(){function Ae(Ne){var Ue=(0,C.buildPredicate)(Ne);return ve(this,function(it){return!Ue(it)})}return Ae})()},{key:"text",value:(function(){function Ae(){var Ne=(0,E.default)(this[ae]);return this.single("text",function(Ue){return(0,T.getTextFromHostNodes)(Ue,Ne)})}return Ae})()},{key:"html",value:(function(){function Ae(){var Ne=(0,E.default)(this[ae]);return this.single("html",function(Ue){return(0,T.getHTMLFromHostNodes)(Ue,Ne)})}return Ae})()},{key:"render",value:(function(){function Ae(){var Ne=this.html();return(0,m.loadCheerioRoot)(Ne)}return Ae})()},{key:"simulate",value:(function(){function Ae(Ne){var Ue=this,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.single("simulate",function(mt){return Ue[W].simulateEvent(mt,Ne,it),Ue[K].update(),Ue})}return Ae})()},{key:"simulateError",value:(function(){function Ae(Ne){var Ue=this;if(this[K]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",function(it){if(it.nodeType==="host")throw new Error("ReactWrapper::simulateError() can only be called on custom components");var mt=Ue[W];if(typeof mt.simulateError!="function")throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var Ft=Me(Ue),Dt=[it].concat(je(Ue,it));return mt.simulateError(Dt,Ft,Ne),Ue[K].update(),Ue})}return Ae})()},{key:"props",value:(function(){function Ae(){return this.single("props",T.propsOfNode)}return Ae})()},{key:"state",value:(function(){function Ae(Ne){var Ue=this,it=this[K]===this?this[W].getNode():this.getNodeInternal();if(this.instance()===null||it.nodeType!=="class")throw new Error("ReactWrapper::state() can only be called on class components");var mt=this.single("state",function(){return Ue.instance().state});if(typeof Ne<"u"){if(mt==null)throw new TypeError('ReactWrapper::state("'+String(Ne)+'") requires that `state` not be `null` or `undefined`');return mt[Ne]}return mt}return Ae})()},{key:"context",value:(function(){function Ae(Ne){var Ue=this;if(this[K]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var it=this.single("context",function(){return Ue.instance()});if(it===null)throw new Error("ReactWrapper::context() can only be called on components with instances");var mt=it.context;return typeof Ne<"u"?mt[Ne]:mt}return Ae})()},{key:"children",value:(function(){function Ae(Ne){var Ue=this.flatMap(function(it){return(0,T.childrenOfNode)(it.getNodeInternal())});return Ne?Ue.filter(Ne):Ue}return Ae})()},{key:"childAt",value:(function(){function Ae(Ne){var Ue=this;return this.single("childAt",function(){return Ue.children().at(Ne)})}return Ae})()},{key:"parents",value:(function(){function Ae(Ne){var Ue=this;return this.single("parents",function(it){var mt=Ue.wrap(je(Ue,it));return Ne?mt.filter(Ne):mt})}return Ae})()},{key:"parent",value:(function(){function Ae(){return this.flatMap(function(Ne){return[Ne.parents().get(0)]})}return Ae})()},{key:"closest",value:(function(){function Ae(Ne){if(this.is(Ne))return this;var Ue=this.parents().filter(Ne);return Ue.length>0?Ue.first():this.findWhere(function(){return!1})}return Ae})()},{key:"prop",value:(function(){function Ae(Ne){return this.props()[Ne]}return Ae})()},{key:"invoke",value:(function(){function Ae(Ne){var Ue=this;return this.single("invoke",function(){var it=Ue.prop(Ne);if(typeof it!="function")throw new TypeError("ReactWrapper::invoke() requires the name of a prop whose value is a function");return function(){for(var mt=arguments.length,Ft=Array(mt),Dt=0;Dt<mt;Dt++)Ft[Dt]=arguments[Dt];var $t=typeof Ue[W].wrapInvoke=="function"?Ue[W].wrapInvoke(function(){return it.apply(void 0,Ft)}):it.apply(void 0,Ft);return Ue[K].update(),$t}})}return Ae})()},{key:"renderProp",value:(function(){function Ae(Ne){var Ue=this,it=(0,E.default)(this[ae]);if(typeof it.wrap!="function")throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",function(mt){if(mt.nodeType==="host")throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if(typeof Ne!="string")throw new TypeError("ReactWrapper::renderProp(): `propName` must be a string");var Ft=Ue.props();if(!(0,p.default)(Ft,Ne))throw new Error("ReactWrapper::renderProp(): no prop called "+String(Ne)+" found");var Dt=Ft[Ne];if(typeof Dt!="function")throw new TypeError("ReactWrapper::renderProp(): expected prop "+String(Ne)+" to contain a function, but it holds "+(typeof Dt>"u"?"undefined":t(Dt))+"");return function(){var $t=Dt.apply(void 0,arguments),cr=it.wrap($t);return Ue.wrap(cr,null,Ue[ae])}})}return Ae})()},{key:"key",value:(function(){function Ae(){return this.single("key",function(Ne){return Ne.key===void 0?null:Ne.key})}return Ae})()},{key:"type",value:(function(){function Ae(){return this.single("type",function(Ne){return(0,m.typeOfNode)(Ne)})}return Ae})()},{key:"name",value:(function(){function Ae(){var Ne=(0,E.default)(this[ae]);return this.single("name",function(Ue){return Ne.displayNameOfNode?Ne.displayNameOfNode(Ue):(0,m.displayNameOfNode)(Ue)})}return Ae})()},{key:"hasClass",value:(function(){function Ae(Ne){return typeof Ne=="string"&&Ne.indexOf(".")!==-1&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",function(Ue){return(0,T.hasClassName)(Ue,Ne)})}return Ae})()},{key:"forEach",value:(function(){function Ae(Ne){var Ue=this;return this.getNodesInternal().forEach(function(it,mt){return Ne.call(Ue,Ue.wrap(it),mt)}),this}return Ae})()},{key:"map",value:(function(){function Ae(Ne){var Ue=this;return this.getNodesInternal().map(function(it,mt){return Ne.call(Ue,Ue.wrap(it),mt)})}return Ae})()},{key:"reduce",value:(function(){function Ae(Ne){var Ue=this,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce(function(mt,Ft,Dt){return Ne.call(Ue,mt,Ue.wrap(Ft),Dt)},it):this.getNodesInternal().reduce(function(mt,Ft,Dt){return Ne.call(Ue,Dt===1?Ue.wrap(mt):mt,Ue.wrap(Ft),Dt)})}return Ae})()},{key:"reduceRight",value:(function(){function Ae(Ne){var Ue=this,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight(function(mt,Ft,Dt){return Ne.call(Ue,mt,Ue.wrap(Ft),Dt)},it):this.getNodesInternal().reduceRight(function(mt,Ft,Dt){return Ne.call(Ue,Dt===1?Ue.wrap(mt):mt,Ue.wrap(Ft),Dt)})}return Ae})()},{key:"slice",value:(function(){function Ae(Ne,Ue){return this.wrap(this.getNodesInternal().slice(Ne,Ue))}return Ae})()},{key:"some",value:(function(){function Ae(Ne){if(this[K]===this)throw new Error("ReactWrapper::some() can not be called on the root");var Ue=(0,C.buildPredicate)(Ne);return this.getNodesInternal().some(Ue)}return Ae})()},{key:"someWhere",value:(function(){function Ae(Ne){var Ue=this;return this.getNodesInternal().some(function(it,mt){return Ne.call(Ue,Ue.wrap(it),mt)})}return Ae})()},{key:"every",value:(function(){function Ae(Ne){var Ue=(0,C.buildPredicate)(Ne);return this.getNodesInternal().every(Ue)}return Ae})()},{key:"everyWhere",value:(function(){function Ae(Ne){var Ue=this;return this.getNodesInternal().every(function(it,mt){return Ne.call(Ue,Ue.wrap(it),mt)})}return Ae})()},{key:"flatMap",value:(function(){function Ae(Ne){var Ue=this,it=this.getNodesInternal().map(function(Ft,Dt){return Ne.call(Ue,Ue.wrap(Ft),Dt)}),mt=(0,c.default)(it,1);return this.wrap(mt.filter(Boolean))}return Ae})()},{key:"findWhere",value:(function(){function Ae(Ne){var Ue=this;return ne(this,function(it){var mt=Ue.wrap(it);return mt.length>0&&Ne(mt)})}return Ae})()},{key:"get",value:(function(){function Ae(Ne){return this.getElements()[Ne]}return Ae})()},{key:"at",value:(function(){function Ae(Ne){var Ue=this.getNodesInternal();return Ne<Ue.length?this.wrap(Ue[Ne]):this.wrap([])}return Ae})()},{key:"first",value:(function(){function Ae(){return this.at(0)}return Ae})()},{key:"last",value:(function(){function Ae(){return this.at(this.length-1)}return Ae})()},{key:"isEmpty",value:(function(){function Ae(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return Ae})()},{key:"exists",value:(function(){function Ae(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return arguments.length>0?this.find(Ne).exists():this.length>0}return Ae})()},{key:"single",value:(function(){function Ae(Ne,Ue){var it=typeof Ne=="string"?Ne:"unknown",mt=typeof Ue=="function"?Ue:Ne;if(this.length!==1)throw new Error("Method "+it+" is meant to be run on 1 node. "+String(this.length)+" found instead.");return mt.call(this,this.getNodeInternal())}return Ae})()},{key:"wrap",value:(function(){function Ae(Ne){var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[K];if(Ne instanceof Be)return Ne;for(var it=arguments.length,mt=Array(it>2?it-2:0),Ft=2;Ft<it;Ft++)mt[Ft-2]=arguments[Ft];return new(Function.prototype.bind.apply(Be,[null].concat([Ne,Ue],mt)))}return Ae})()},{key:"debug",value:(function(){function Ae(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,_.debugNodes)(this.getNodesInternal(),Ne)}return Ae})()},{key:"tap",value:(function(){function Ae(Ne){return Ne(this),this}return Ae})()},{key:"detach",value:(function(){function Ae(){if(this[K]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[ae].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[W].unmount()}return Ae})()},{key:"hostNodes",value:(function(){function Ae(){return this.filterWhere(function(Ne){return typeof Ne.type()=="string"})}return Ae})()}]),Be})(),st=(function(Be){B(Ae,Be);function Ae(Ne,Ue){P(this,Ae);var it=O(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).call(this,Ue.getNode(),Ne));return(0,m.privateSet)(it,K,it),(0,m.privateSet)(it,W,Ue),it[ge].push(Ne),it}return r(Ae,[{key:"getWrappingComponent",value:(function(){function Ne(){throw new TypeError("ReactWrapper::getWrappingComponent() can only be called on the root")}return Ne})()}]),Ae})(tt);m.ITERATOR_SYMBOL&&Object.defineProperty(tt.prototype,m.ITERATOR_SYMBOL,{configurable:!0,value:(function(){function Be(){var Ae,Ne=this[$][m.ITERATOR_SYMBOL](),Ue=(0,E.default)(this[ae]);return Ae={},D(Ae,m.ITERATOR_SYMBOL,function(){return this}),D(Ae,"next",(function(){function it(){var mt=Ne.next();return mt.done?{done:!0}:{done:!1,value:Ue.nodeToElement(mt.value)}}return it})()),Ae}return Be})()});function Ct(Be,Ae){Object.defineProperty(tt.prototype,Be,{get:(function(){function Ne(){throw new Error(`
        Attempted to access ReactWrapper::`+String(Be)+`, which was previously a private property on
        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.
        `+String(Ae)+`
      `)}return Ne})(),enumerable:!1,configurable:!1})}Ct("node","Consider using the getElement() method instead."),Ct("nodes","Consider using the getElements() method instead."),Ct("renderer",""),Ct("options",""),Ct("complexSelector",""),e.default=tt})(fL);var j5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function kt(ze,Xe,ft){ze===null&&(ze=Function.prototype);var Q=Object.getOwnPropertyDescriptor(ze,Xe);if(Q===void 0){var G=Object.getPrototypeOf(ze);return G===null?void 0:kt(G,Xe,ft)}else{if("value"in Q)return Q.value;var Y=Q.get;return Y===void 0?void 0:Y.call(ft)}}return kt})(),r=(function(){function kt(ze,Xe){for(var ft=0;ft<Xe.length;ft++){var Q=Xe[ft];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ze,Q.key,Q)}}return function(ze,Xe,ft){return Xe&&kt(ze.prototype,Xe),ft&&kt(ze,ft),ze}})(),i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kt){return typeof kt}:function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt},n=Uy,s=B(n),c=Tb,h=B(c),p=bs,m=B(p),d=_I.exports,E=B(d),_=bb,T=dp,C=B(T),A=pp,D=lo,O=T1;function B(kt){return kt&&kt.__esModule?kt:{default:kt}}function P(kt,ze){if(!kt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ze&&(typeof ze=="object"||typeof ze=="function")?ze:kt}function R(kt,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ze);kt.prototype=Object.create(ze&&ze.prototype,{constructor:{value:kt,enumerable:!1,writable:!0,configurable:!0}}),ze&&(Object.setPrototypeOf?Object.setPrototypeOf(kt,ze):kt.__proto__=ze)}function $(kt){if(Array.isArray(kt)){for(var ze=0,Xe=Array(kt.length);ze<kt.length;ze++)Xe[ze]=kt[ze];return Xe}else return Array.from(kt)}function W(kt,ze){if(!(kt instanceof ze))throw new TypeError("Cannot call a class as a function")}function Z(kt,ze,Xe){return ze in kt?Object.defineProperty(kt,ze,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):kt[ze]=Xe,kt}var K=(0,_.sym)("__node__"),ae=(0,_.sym)("__nodes__"),le=(0,_.sym)("__renderer__"),J=(0,_.sym)("__unrendered__"),ge=(0,_.sym)("__root__"),Ee=(0,_.sym)("__options__"),ne=(0,_.sym)("__setState__"),ve=(0,_.sym)("__rootNodes__"),Me=(0,_.sym)("__childContext__"),je=(0,_.sym)("__wrappingComponent__"),Qe=(0,_.sym)("__primaryWrapper__"),tt=(0,_.sym)("__rootFinder__"),st=(0,_.sym)("__providerValues__");function Ct(kt,ze){var Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D.treeFilter;return kt.flatMap(function(ft){return Xe(ft.getNodeInternal(),ze)})}function Be(kt,ze){return kt.wrap(kt.getNodesInternal().filter(ze).filter(Boolean))}function Ae(kt){var ze=kt.lifecycleExperimental,Xe=kt.disableLifecycleMethods,ft=kt.enableComponentDidUpdateOnSetState,Q=kt.supportPrevContextArgumentOfComponentDidUpdate,G=kt.lifecycles;if(typeof ze<"u"&&typeof ze!="boolean")throw new Error("lifecycleExperimental must be either true or false if provided");if(typeof Xe<"u"&&typeof Xe!="boolean")throw new Error("disableLifecycleMethods must be either true or false if provided");if(ze!=null&&Xe!=null&&ze===Xe)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if(typeof ft<"u"&&G.componentDidUpdate&&G.componentDidUpdate.onSetState!==ft)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if(typeof Q<"u"&&G.componentDidUpdate&&G.componentDidUpdate.prevContext!==Q)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function Ne(kt){var ze=kt.options,Xe=ze.lifecycles,ft=Xe===void 0?{}:Xe,Q=ze.enableComponentDidUpdateOnSetState,G=ze.supportPrevContextArgumentOfComponentDidUpdate,Y=typeof Q<"u",ye=typeof G<"u",Ge=Y||ye?(0,s.default)({},Y&&{onSetState:!!Q},ye&&{prevContext:!!G}):null,Ze=ft.getDerivedStateFromProps,ct=Ze?{hasShouldComponentUpdateBug:!!Ze.hasShouldComponentUpdateBug}:!1;return(0,s.default)({},ft,{setState:(0,s.default)({},ft.setState),getChildContext:(0,s.default)({calledByRenderer:!0},ft.getChildContext)},Ge&&{componentDidUpdate:Ge},{getDerivedStateFromProps:ct})}function Ue(kt){return kt.nodeType==="host"?kt:kt.rendered}function it(kt){if(kt[ge].length!==1)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return kt[ge]!==kt?kt[ve][0]:kt[ge][K]}function mt(kt,ze){return(0,D.parentsOfNode)(ze,it(kt))}function Ft(kt,ze){Array.isArray(ze)?((0,_.privateSet)(kt,K,ze[0]),(0,_.privateSet)(kt,ae,ze)):((0,_.privateSet)(kt,K,ze),(0,_.privateSet)(kt,ae,[ze])),(0,_.privateSet)(kt,"length",kt[ae].length)}function Dt(kt,ze,Xe,ft){return!(0,E.default)(kt,ze)||!(0,E.default)(Xe,ft)}function $t(kt){return kt&&kt.isPureReactComponent}function cr(kt,ze,Xe){var ft=kt.instance,Q=kt.type,G=(0,_.displayNameOfNode)(kt);if(i(Q.childContextTypes)!=="object")return console.warn(String(G)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var Y=ft.getChildContext();return Object.keys(Y).forEach(function(ye){if(!(ye in Q.childContextTypes))throw new Error(String(G)+'.getChildContext(): key "'+String(ye)+'" is not defined in childContextTypes.')}),typeof Xe.checkPropTypes=="function"&&Xe.checkPropTypes(Q.childContextTypes,Y,"child context",ze),Y}function Ut(kt,ze){return!(0,_.isCustomComponentElement)(kt,ze)||!kt.type.prototype||typeof kt.type.prototype.getChildContext!="function"?null:(0,_.spyMethod)(kt.type.prototype,"getChildContext")}function mr(kt,ze,Xe,ft,Q){var G=ze[le];if(kt.options.legacyContextMode==="parent")if(Q)(0,_.privateSet)(ze,Me,Q.getLastReturnValue()),Q.restore();else if(typeof Xe.getChildContext=="function"){var Y=[ze[K]].concat(mt(ze,ze[K])),ye=cr(ft,Y,G);(0,_.privateSet)(ze,Me,ye)}else(0,_.privateSet)(ze,Me,null)}function fr(kt,ze){var Xe=kt.type.getDerivedStateFromProps;if(typeof Xe=="function")var ft=kt.instance,Q=(0,_.spyMethod)(ft,"shouldComponentUpdate",function(Y){return(function(){function ye(){ft.state=ze;for(var Ge=arguments.length,Ze=Array(Ge),ct=0;ct<Ge;ct++)Ze[ct]=arguments[ct];var or=Y.apply(ft,Ze),dr=Ze[1];return ft.state=dr,G(),or}return ye})()}),G=Q.restore}function Jr(kt,ze,Xe){var ft=kt[K],Q=ft&&Xe.nodeToElement(ft);if(kt.type()===ze)return kt.dive();if(Q&&(0,_.isCustomComponentElement)(Q,Xe))return Jr(kt.dive(),ze,Xe);for(var G=kt.children(),Y=0;Y<G.length;Y+=1){var ye=Jr(G.at(Y),ze,Xe);if(typeof ye<"u")return ye}}function Lr(kt,ze){var Xe=Jr(kt,kt[tt],ze);if(!Xe)throw new Error("`wrappingComponent` must render its children!");return{legacyContext:Xe[Ee].context,providerValues:Xe[st]}}function gr(kt,ze,Xe,ft){var Q=(0,_.makeOptions)(Xe),G=(0,C.default)(Xe);if((0,_.privateSet)(Q,st,Xe[st]),ze||!(0,_.isCustomComponent)(Q.wrappingComponent,G))return Q;if(typeof G.wrapWithWrappingComponent!="function")throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");var Y=G.wrapWithWrappingComponent(kt,Q),ye=Y.node,Ge=Y.RootFinder,Ze=new ta(ye,ft,Ge),ct=Lr(Ze,G),or=ct.legacyContext,dr=ct.providerValues;return(0,_.privateSet)(ft,je,Ze),(0,s.default)({},Q,Z({context:(0,s.default)({},Q.context,or)},st,dr))}function sn(kt){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xe=(0,s.default)({},kt[Ee],ze,{context:ze.context||(0,s.default)({},kt[Ee].context,kt[ge][Me])});return(0,_.privateSet)(Xe,st,kt[ge][st]),Xe}var nn=(function(){function kt(ze,Xe){var ft=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};W(this,kt),Ae(Q);var G=gr(ze,Xe,Q,this),Y=(0,C.default)(G),ye=Ne(Y);if(Xe)(0,_.privateSet)(this,ge,Xe),(0,_.privateSet)(this,J,null),(0,_.privateSet)(this,le,Xe[le]),Ft(this,ze),(0,_.privateSet)(this,Ee,Xe[Ee]),(0,_.privateSet)(this,ve,Xe[ae]),(0,_.privateSet)(this,st,null);else{if(!Y.isValidElement(ze))throw new TypeError("ShallowWrapper can only wrap valid elements");var Ge=ye.getChildContext.calledByRenderer?Ut(ze,Y):null;(0,_.privateSet)(this,ge,this),(0,_.privateSet)(this,J,ze);var Ze=Y.createRenderer((0,s.default)({mode:"shallow"},G));(0,_.privateSet)(this,le,Ze);var ct=new Map(G[st]||[]);this[le].render(ze,G.context,{providerValues:ct});var or=this[le].getNode();Ft(this,Ue(or)),(0,_.privateSet)(this,Ee,G),(0,_.privateSet)(this,st,ct);var dr=or.instance;dr&&!G.disableLifecycleMethods&&(ye.componentDidUpdate.onSetState&&!dr[ne]&&((0,_.privateSet)(dr,ne,dr.setState),dr.setState=function(xr){var br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return ft.setState.apply(ft,$(br==null?[xr]:[xr,br]))}),typeof dr.componentDidMount=="function"&&this[le].batchedUpdates(function(){dr.componentDidMount()}),mr(Y,this,dr,or,Ge))}}return r(kt,[{key:"root",value:(function(){function ze(){return this[ge]}return ze})()},{key:"getNodeInternal",value:(function(){function ze(){if(this.length!==1)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[ge]===this&&this.update(),this[K]}return ze})()},{key:"getNodesInternal",value:(function(){function ze(){return this[ge]===this&&this.length===1&&this.update(),this[ae]}return ze})()},{key:"getElement",value:(function(){function ze(){var Xe=this;return this.single("getElement",function(ft){return(0,C.default)(Xe[Ee]).nodeToElement(ft)})}return ze})()},{key:"getElements",value:(function(){function ze(){var Xe=this;return this.getNodesInternal().map(function(ft){return(0,C.default)(Xe[Ee]).nodeToElement(ft)})}return ze})()},{key:"getNode",value:(function(){function ze(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}return ze})()},{key:"getNodes",value:(function(){function ze(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}return ze})()},{key:"instance",value:(function(){function ze(){if(this[ge]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[le].getNode().instance}return ze})()},{key:"getWrappingComponent",value:(function(){function ze(){if(this[ge]!==this)throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root");if(!this[Ee].wrappingComponent)throw new Error("ShallowWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");return this[je]}return ze})()},{key:"update",value:(function(){function ze(){if(this[ge]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(this.length!==1)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return Ft(this,Ue(this[le].getNode())),this}return ze})()},{key:"unmount",value:(function(){function ze(){return this[le].unmount(),this[ge][je]&&this[ge][je].unmount(),this}return ze})()},{key:"rerender",value:(function(){function ze(Xe,ft){var Q=this,G=(0,C.default)(this[Ee]);return this.single("rerender",function(){(0,_.withSetStateAllowed)(function(){var Y=Q[le].getNode(),ye=Y.instance||{},Ge=Y.type||{},Ze=ye.state,ct=ye.props||Q[J].props,or=ye.context||Q[Ee].context,dr=ft||or;ft&&(Q[Ee]=(0,s.default)({},Q[Ee],{context:dr})),Q[le].batchedUpdates(function(){var xr=Ne(G),br=!0,Nr=void 0,ra=void 0;if(!Q[Ee].disableLifecycleMethods&&ye){if(typeof ye.shouldComponentUpdate=="function"){var jo=xr.getDerivedStateFromProps;jo&&jo.hasShouldComponentUpdateBug&&fr(Y,Ze),Nr=(0,_.spyMethod)(ye,"shouldComponentUpdate")}xr.getChildContext.calledByRenderer&&typeof ye.getChildContext=="function"&&(ra=(0,_.spyMethod)(ye,"getChildContext"))}if(!Nr&&$t(ye)&&(br=Dt(ct,Xe,Ze,ye.state)),Xe&&(Q[J]=(0,_.cloneElement)(G,Q[J],Xe)),Q[le].render(Q[J],dr,{providerValues:Q[st]}),Nr&&(br=Nr.getLastReturnValue(),Nr.restore()),br&&!Q[Ee].disableLifecycleMethods&&ye)if(mr(G,Q,ye,Y,ra),xr.getSnapshotBeforeUpdate){var Yl=void 0;typeof ye.getSnapshotBeforeUpdate=="function"&&(Yl=ye.getSnapshotBeforeUpdate(ct,Ze)),xr.componentDidUpdate&&typeof ye.componentDidUpdate=="function"&&(!Ze||(0,E.default)(Ze,Q.instance().state)||typeof Ge.getDerivedStateFromProps=="function")&&ye.componentDidUpdate(ct,Ze,Yl)}else xr.componentDidUpdate&&typeof ye.componentDidUpdate=="function"&&(xr.componentDidUpdate.prevContext?ye.componentDidUpdate(ct,Ze,or):(!Ze||(0,E.default)(Q.instance().state,Ze))&&ye.componentDidUpdate(ct,Ze));else(0,E.default)(Xe,ye.props)||(ye.props=(Object.freeze||Object)((0,s.default)({},ye.props,Xe)));Q.update()})})}),this}return ze})()},{key:"setProps",value:(function(){function ze(Xe){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[ge]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&typeof ft!="function")throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(Xe),ft&&ft(),this}return ze})()},{key:"setState",value:(function(){function ze(Xe){var ft=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[ge]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(this.instance()===null||this[le].getNode().nodeType!=="class")throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&typeof Q!="function")throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",function(){(0,_.withSetStateAllowed)(function(){var G=(0,C.default)(ft[Ee]),Y=Ne(G),ye=ft[le].getNode(),Ge=ye.instance,Ze=Ge.props,ct=Ge.state,or=Ge.context,dr=typeof Xe=="function"?Xe.call(Ge,ct,Ze):Xe,xr=!Y.setState.skipsComponentDidUpdateOnNullish||dr!=null,br=void 0,Nr=void 0,ra=!0;if(!ft[Ee].disableLifecycleMethods&&Ge){if(Y.componentDidUpdate&&Y.componentDidUpdate.onSetState&&typeof Ge.shouldComponentUpdate=="function"){var jo=Y.getDerivedStateFromProps;jo&&jo.hasShouldComponentUpdateBug&&fr(ye,Xe),br=(0,_.spyMethod)(Ge,"shouldComponentUpdate")}Y.getChildContext.calledByRenderer&&typeof Ge.getChildContext=="function"&&(Nr=(0,_.spyMethod)(Ge,"getChildContext"))}if(!br&&$t(Ge)&&(ra=Dt(Ze,Ge.props,ct,(0,s.default)({},ct,dr))),Ge[ne]?Ge[ne](dr):Ge.setState(dr),br&&(ra=br.getLastReturnValue(),br.restore()),xr&&ra&&!ft[Ee].disableLifecycleMethods&&(mr(G,ft,Ge,ye,Nr),Y.componentDidUpdate&&Y.componentDidUpdate.onSetState))if(Y.getSnapshotBeforeUpdate&&typeof Ge.getSnapshotBeforeUpdate=="function"){var Yl=Ge.getSnapshotBeforeUpdate(Ze,ct);typeof Ge.componentDidUpdate=="function"&&Ge.componentDidUpdate(Ze,ct,Yl)}else typeof Ge.componentDidUpdate=="function"&&(Y.componentDidUpdate.prevContext?Ge.componentDidUpdate(Ze,ct,or):Ge.componentDidUpdate(Ze,ct));ft.update(),Q&&(G.invokeSetStateCallback?G.invokeSetStateCallback(Ge,Q):Q.call(Ge))})}),this}return ze})()},{key:"setContext",value:(function(){function ze(Xe){if(this[ge]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[Ee].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,Xe)}return ze})()},{key:"contains",value:(function(){function ze(Xe){var ft=(0,C.default)(this[Ee]);if(!(0,_.isReactElementAlike)(Xe,ft))throw new Error("ShallowWrapper::contains() can only be called with a ReactElement (or an array of them), a string, or a number as an argument.");var Q=Array.isArray(Xe)?function(G){return(0,_.containsChildrenSubArray)(_.nodeEqual,G,Xe.map(function(Y){return ft.elementToNode(Y)}))}:function(G){return(0,_.nodeEqual)(ft.elementToNode(Xe),G)};return Ct(this,Q).length>0}return ze})()},{key:"containsMatchingElement",value:(function(){function ze(Xe){var ft=(0,C.default)(this[Ee]),Q=ft.elementToNode(Xe),G=(function(){function Y(ye){return(0,_.nodeMatches)(Q,ye,function(Ge,Ze){return Ge<=Ze})}return Y})();return Ct(this,G).length>0}return ze})()},{key:"containsAllMatchingElements",value:(function(){function ze(Xe){var ft=this;if(!Array.isArray(Xe))throw new TypeError("nodes should be an Array");return Xe.every(function(Q){return ft.containsMatchingElement(Q)})}return ze})()},{key:"containsAnyMatchingElements",value:(function(){function ze(Xe){var ft=this;return Array.isArray(Xe)&&Xe.some(function(Q){return ft.containsMatchingElement(Q)})}return ze})()},{key:"equals",value:(function(){function ze(Xe){var ft=this;return this.single("equals",function(){return(0,_.nodeEqual)(ft.getNodeInternal(),Xe)})}return ze})()},{key:"matchesElement",value:(function(){function ze(Xe){var ft=this;return this.single("matchesElement",function(){var Q=(0,C.default)(ft[Ee]),G=Q.elementToNode(Xe);return(0,_.nodeMatches)(G,ft.getNodeInternal(),function(Y,ye){return Y<=ye})})}return ze})()},{key:"find",value:(function(){function ze(Xe){return this.wrap((0,O.reduceTreesBySelector)(Xe,this.getNodesInternal()))}return ze})()},{key:"is",value:(function(){function ze(Xe){var ft=(0,O.buildPredicate)(Xe);return this.single("is",function(Q){return ft(Q)})}return ze})()},{key:"isEmptyRender",value:(function(){function ze(){var Xe=this.getNodesInternal();return Xe.every(function(ft){return(0,_.isEmptyValue)(ft)})}return ze})()},{key:"filterWhere",value:(function(){function ze(Xe){var ft=this;return Be(this,function(Q){return Xe(ft.wrap(Q))})}return ze})()},{key:"filter",value:(function(){function ze(Xe){var ft=(0,O.buildPredicate)(Xe);return Be(this,ft)}return ze})()},{key:"not",value:(function(){function ze(Xe){var ft=(0,O.buildPredicate)(Xe);return Be(this,function(Q){return!ft(Q)})}return ze})()},{key:"text",value:(function(){function ze(){return this.single("text",D.getTextFromNode)}return ze})()},{key:"html",value:(function(){function ze(){var Xe=this;return this.single("html",function(ft){if(Xe.type()===null)return null;var Q=(0,C.default)(Xe[Ee]),G=Q.createRenderer((0,s.default)({},Xe[Ee],{mode:"string"}));return G.render(Q.nodeToElement(ft))})}return ze})()},{key:"render",value:(function(){function ze(){var Xe=this.html();return(0,_.loadCheerioRoot)(Xe)}return ze})()},{key:"simulate",value:(function(){function ze(Xe){for(var ft=this,Q=arguments.length,G=Array(Q>1?Q-1:0),Y=1;Y<Q;Y++)G[Y-1]=arguments[Y];return this.single("simulate",function(ye){var Ge;return(Ge=ft[le]).simulateEvent.apply(Ge,[ye,Xe].concat(G)),ft[ge].update(),ft})}return ze})()},{key:"simulateError",value:(function(){function ze(Xe){var ft=this;return this.single("simulateError",function(Q){if(Q.nodeType==="host")throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var G=ft[le];if(typeof G.simulateError!="function")throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var Y=it(ft),ye=[Q].concat(mt(ft,Q));return G.simulateError(ye,Y,Xe),ft})}return ze})()},{key:"props",value:(function(){function ze(){return this.single("props",D.propsOfNode)}return ze})()},{key:"state",value:(function(){function ze(Xe){var ft=this;if(this[ge]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(this.instance()===null||this[le].getNode().nodeType!=="class")throw new Error("ShallowWrapper::state() can only be called on class components");var Q=this.single("state",function(){return ft.instance().state});if(typeof Xe<"u"){if(Q==null)throw new TypeError('ShallowWrapper::state("'+String(Xe)+'") requires that `state` not be `null` or `undefined`');return Q[Xe]}return Q}return ze})()},{key:"context",value:(function(){function ze(Xe){var ft=this;if(this[ge]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[Ee].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(this.instance()===null)throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var Q=this.single("context",function(){return ft.instance().context});return Xe?Q[Xe]:Q}return ze})()},{key:"children",value:(function(){function ze(Xe){var ft=this.flatMap(function(Q){return(0,D.childrenOfNode)(Q.getNodeInternal())});return Xe?ft.filter(Xe):ft}return ze})()},{key:"childAt",value:(function(){function ze(Xe){var ft=this;return this.single("childAt",function(){return ft.children().at(Xe)})}return ze})()},{key:"parents",value:(function(){function ze(Xe){var ft=this;return this.single("parents",function(Q){var G=ft.wrap(mt(ft,Q));return Xe?G.filter(Xe):G})}return ze})()},{key:"parent",value:(function(){function ze(){return this.flatMap(function(Xe){return[Xe.parents().get(0)]})}return ze})()},{key:"closest",value:(function(){function ze(Xe){if(this.is(Xe))return this;var ft=this.parents().filter(Xe);return ft.length>0?ft.first():this.findWhere(function(){return!1})}return ze})()},{key:"shallow",value:(function(){function ze(){var Xe=this,ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.single("shallow",function(Q){var G=sn(Xe,ft);return Xe.wrap((0,C.default)(Xe[Ee]).nodeToElement(Q),null,G)})}return ze})()},{key:"prop",value:(function(){function ze(Xe){return this.props()[Xe]}return ze})()},{key:"invoke",value:(function(){function ze(Xe){var ft=this;return this.single("invoke",function(){var Q=ft.prop(Xe);if(typeof Q!="function")throw new TypeError("ShallowWrapper::invoke() requires the name of a prop whose value is a function");return function(){var G=Q.apply(void 0,arguments);return ft[ge].update(),G}})}return ze})()},{key:"renderProp",value:(function(){function ze(Xe){var ft=this,Q=(0,C.default)(this[Ee]);if(typeof Q.wrap!="function")throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",function(G){if(G.nodeType==="host")throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if(typeof Xe!="string")throw new TypeError("ShallowWrapper::renderProp(): `propName` must be a string");var Y=ft.props();if(!(0,m.default)(Y,Xe))throw new Error("ShallowWrapper::renderProp(): no prop called "+String(Xe)+" found");var ye=Y[Xe];if(typeof ye!="function")throw new TypeError("ShallowWrapper::renderProp(): expected prop "+String(Xe)+" to contain a function, but it holds "+(typeof ye>"u"?"undefined":i(ye))+"");return function(){var Ge=ye.apply(void 0,arguments),Ze=Q.wrap(Ge);return ft.wrap(Ze,null,ft[Ee])}})}return ze})()},{key:"key",value:(function(){function ze(){return this.single("key",function(Xe){return Xe.key===void 0?null:Xe.key})}return ze})()},{key:"type",value:(function(){function ze(){return this.single("type",function(Xe){return(0,_.typeOfNode)(Xe)})}return ze})()},{key:"name",value:(function(){function ze(){var Xe=(0,C.default)(this[Ee]);return this.single("name",function(ft){return Xe.displayNameOfNode?Xe.displayNameOfNode(ft):(0,_.displayNameOfNode)(ft)})}return ze})()},{key:"hasClass",value:(function(){function ze(Xe){return typeof Xe=="string"&&Xe.indexOf(".")!==-1&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",function(ft){return(0,D.hasClassName)(ft,Xe)})}return ze})()},{key:"forEach",value:(function(){function ze(Xe){var ft=this;return this.getNodesInternal().forEach(function(Q,G){return Xe.call(ft,ft.wrap(Q),G)}),this}return ze})()},{key:"map",value:(function(){function ze(Xe){var ft=this;return this.getNodesInternal().map(function(Q,G){return Xe.call(ft,ft.wrap(Q),G)})}return ze})()},{key:"reduce",value:(function(){function ze(Xe){var ft=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce(function(G,Y,ye){return Xe.call(ft,G,ft.wrap(Y),ye)},Q):this.getNodesInternal().reduce(function(G,Y,ye){return Xe.call(ft,ye===1?ft.wrap(G):G,ft.wrap(Y),ye)})}return ze})()},{key:"reduceRight",value:(function(){function ze(Xe){var ft=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight(function(G,Y,ye){return Xe.call(ft,G,ft.wrap(Y),ye)},Q):this.getNodesInternal().reduceRight(function(G,Y,ye){return Xe.call(ft,ye===1?ft.wrap(G):G,ft.wrap(Y),ye)})}return ze})()},{key:"slice",value:(function(){function ze(Xe,ft){return this.wrap(this.getNodesInternal().slice(Xe,ft))}return ze})()},{key:"some",value:(function(){function ze(Xe){if(this[ge]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var ft=(0,O.buildPredicate)(Xe);return this.getNodesInternal().some(ft)}return ze})()},{key:"someWhere",value:(function(){function ze(Xe){var ft=this;return this.getNodesInternal().some(function(Q,G){return Xe.call(ft,ft.wrap(Q),G)})}return ze})()},{key:"every",value:(function(){function ze(Xe){var ft=(0,O.buildPredicate)(Xe);return this.getNodesInternal().every(ft)}return ze})()},{key:"everyWhere",value:(function(){function ze(Xe){var ft=this;return this.getNodesInternal().every(function(Q,G){return Xe.call(ft,ft.wrap(Q),G)})}return ze})()},{key:"flatMap",value:(function(){function ze(Xe){var ft=this,Q=this.getNodesInternal().map(function(Y,ye){return Xe.call(ft,ft.wrap(Y),ye)}),G=(0,h.default)(Q,1);return this.wrap(G.filter(Boolean))}return ze})()},{key:"findWhere",value:(function(){function ze(Xe){var ft=this;return Ct(this,function(Q){var G=ft.wrap(Q);return G.length>0&&Xe(G)})}return ze})()},{key:"get",value:(function(){function ze(Xe){return this.getElements()[Xe]}return ze})()},{key:"at",value:(function(){function ze(Xe){var ft=this.getNodesInternal();return Xe<ft.length?this.wrap(ft[Xe]):this.wrap([])}return ze})()},{key:"first",value:(function(){function ze(){return this.at(0)}return ze})()},{key:"last",value:(function(){function ze(){return this.at(this.length-1)}return ze})()},{key:"isEmpty",value:(function(){function ze(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return ze})()},{key:"exists",value:(function(){function ze(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return arguments.length>0?this.find(Xe).exists():this.length>0}return ze})()},{key:"single",value:(function(){function ze(Xe,ft){var Q=typeof Xe=="string"?Xe:"unknown",G=typeof ft=="function"?ft:Xe;if(this.length!==1)throw new Error("Method "+Q+" is meant to be run on 1 node. "+String(this.length)+" found instead.");return G.call(this,this.getNodeInternal())}return ze})()},{key:"wrap",value:(function(){function ze(Xe){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[ge];if(Xe instanceof kt)return Xe;for(var Q=arguments.length,G=Array(Q>2?Q-2:0),Y=2;Y<Q;Y++)G[Y-2]=arguments[Y];return new(Function.prototype.bind.apply(kt,[null].concat([Xe,ft],G)))}return ze})()},{key:"debug",value:(function(){function ze(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,A.debugNodes)(this.getNodesInternal(),Xe)}return ze})()},{key:"tap",value:(function(){function ze(Xe){return Xe(this),this}return ze})()},{key:"dive",value:(function(){function ze(){var Xe=this,ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=(0,C.default)(this[Ee]),G="dive";return this.single(G,function(Y){if(Y&&Y.nodeType==="host")throw new TypeError("ShallowWrapper::"+G+"() can not be called on Host Components");var ye=(0,C.default)(Xe[Ee]).nodeToElement(Y);if(!(0,_.isCustomComponentElement)(ye,Q))throw new TypeError("ShallowWrapper::"+G+"() can only be called on components");var Ge=sn(Xe,ft);return Xe.wrap(ye,null,Ge)})}return ze})()},{key:"hostNodes",value:(function(){function ze(){return this.filterWhere(function(Xe){return typeof Xe.type()=="string"})}return ze})()}]),kt})();function Dn(kt){var ze=(0,C.default)(kt[Ee]),Xe=kt[Qe],ft=Xe[le],Q=ft.getNode(),G=Lr(kt,ze),Y=G.legacyContext,ye=G.providerValues,Ge=Xe[st];if(Xe.setContext((0,s.default)({},kt[Qe][Ee].context,Y)),Xe[st]=new Map([].concat($(Ge),$(ye))),typeof ze.isContextConsumer=="function"&&ze.isContextConsumer(Q.type)){var Ze=Q.type,ct=ze.getProviderFromConsumer(Ze),or=ye.get(ct),dr=Ge.get(ct);or!==dr&&Xe.rerender()}}var ta=(function(kt){R(ze,kt);function ze(Xe,ft,Q){W(this,ze);var G=P(this,(ze.__proto__||Object.getPrototypeOf(ze)).call(this,Xe));return(0,_.privateSet)(G,Qe,ft),(0,_.privateSet)(G,tt,Q),G}return r(ze,[{key:"rerender",value:(function(){function Xe(){for(var ft,Q=arguments.length,G=Array(Q),Y=0;Y<Q;Y++)G[Y]=arguments[Y];var ye=(ft=t(ze.prototype.__proto__||Object.getPrototypeOf(ze.prototype),"rerender",this)).call.apply(ft,[this].concat(G));return Dn(this),ye}return Xe})()},{key:"setState",value:(function(){function Xe(){for(var ft,Q=arguments.length,G=Array(Q),Y=0;Y<Q;Y++)G[Y]=arguments[Y];var ye=(ft=t(ze.prototype.__proto__||Object.getPrototypeOf(ze.prototype),"setState",this)).call.apply(ft,[this].concat(G));return Dn(this),ye}return Xe})()},{key:"getWrappingComponent",value:(function(){function Xe(){throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root")}return Xe})()}]),ze})(nn);_.ITERATOR_SYMBOL&&Object.defineProperty(nn.prototype,_.ITERATOR_SYMBOL,{configurable:!0,value:(function(){function kt(){var ze,Xe=this.getNodesInternal()[_.ITERATOR_SYMBOL](),ft=(0,C.default)(this[Ee]);return ze={},Z(ze,_.ITERATOR_SYMBOL,function(){return this}),Z(ze,"next",(function(){function Q(){var G=Xe.next();return G.done?{done:!0}:{done:!1,value:ft.nodeToElement(G.value)}}return Q})()),ze}return kt})()});function en(kt,ze){Object.defineProperty(nn.prototype,kt,{get:(function(){function Xe(){throw new Error(`
        Attempted to access ShallowWrapper::`+String(kt)+`, which was previously a private property on
        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.
        `+String(ze)+`
      `)}return Xe})(),enumerable:!1,configurable:!1})}en("node","Consider using the getElement() method instead."),en("nodes","Consider using the getElements() method instead."),en("renderer",""),en("options",""),en("complexSelector",""),e.default=nn})(j5);var Yq={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=fL,r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}function n(s,c){return new r.default(s,null,c)}})(Yq);var Xq={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=j5,r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}function n(s,c){return new r.default(s,null,c)}})(Xq);var qq={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=Uy,r=c(t),i=dp,n=c(i),s=bb;function c(p){return p&&p.__esModule?p:{default:p}}function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=(0,n.default)(m),E=d.createRenderer((0,r.default)({mode:"string"},m)),_=E.render(p,m.context);return(0,s.loadCheerioRoot)(_)}})(qq);var GRe=fL,zRe=C1(GRe),jRe=j5,VRe=C1(jRe),WRe=qX,YRe=C1(WRe),XRe=Yq,qRe=C1(XRe),KRe=Xq,ZRe=C1(KRe),QRe=qq,JRe=C1(QRe),eNe=Rg;function C1(e){return e&&e.__esModule?e:{default:e}}var tNe={render:JRe.default,shallow:ZRe.default,mount:qRe.default,ShallowWrapper:VRe.default,ReactWrapper:zRe.default,configure:eNe.merge,EnzymeAdapter:YRe.default};const V5=100,rNe=(e,t,r,i)=>{for(const{viewId:n,trackId:s,track:c}of e.instance().iterateOverTracks())n===t&&s===r&&(c.options={...c.options,...i});e.setState(e.instance().state)},nNe=e=>{for(const t of e.iterateOverTracks())if(nz(e,t.viewId,t.trackId).activeTransitions>0)return!0;return!1},W5=(e,t)=>{nNe(e)?setTimeout(()=>{W5(e,t)},V5):t()},SD=e=>{ub>0?setTimeout(()=>SD(e),V5):e()},iNe=e=>{for(const t of e.iterateOverTracks()){let r=aI(e,t.viewId,t.trackId);if(!(!t.track.server&&!t.track.tilesetUid&&!(t.track.data&&t.track.data.type==="divided")))if(t.track.data&&t.track.data.type==="divided"||t.track.server&&t.track.tilesetUid){if(r.originalTrack&&(r=r.originalTrack),!(r.tilesetInfo||r.chromInfo)||r.fetching&&r.fetching.size)return!0}else throw Error('"server" and "tilesetUid" belong together')}return!1},uS=(e,t)=>{iNe(e)?setTimeout(()=>{uS(e,t)},V5):t()},Y5=(e,t,r,i,n={})=>{const{style:s="width:800px; background-color: lightgreen;",bounded:c=!1,extendedDelay:h=!1}=n;t&&(t.unmount(),t.detach()),e&&globalThis.document.body.removeChild(e);const p=globalThis.document.createElement("div");globalThis.document.body.appendChild(p),p.setAttribute("style",s),p.setAttribute("id","simple-hg-component");const m=tNe.mount(M.default.createElement(Vk,{options:{bounded:c},viewConfig:r}),{attachTo:p});return m.update(),SD(()=>{if(h){const d=()=>setTimeout(()=>{i()},1e3);uS(m.instance(),d)}else uS(m.instance(),i)}),[p,m]},aNe=e=>{e&&(ke.default.unmountComponentAtNode(e),document.body.removeChild(e))};async function oNe(e,t,r,i){let n;return await new Promise(s=>{n=Y5(e,t,r,s,i)}),n}var A1=0,cS=0,hS=0,Kq=1e3,CD,fS,AD=0,Mg=0,wD=0,dS=typeof performance=="object"&&performance.now?performance:Date,Zq=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function X5(){return Mg||(Zq(sNe),Mg=dS.now()+wD)}function sNe(){Mg=0}function xD(){this._call=this._time=this._next=null}xD.prototype=Qq.prototype={constructor:xD,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?X5():+r)+(t==null?0:+t),!this._next&&fS!==this&&(fS?fS._next=this:CD=this,fS=this),this._call=e,this._time=r,q5()},stop:function(){this._call&&(this._call=null,this._time=1/0,q5())}};function Qq(e,t,r){var i=new xD;return i.restart(e,t,r),i}function lNe(){X5(),++A1;for(var e=CD,t;e;)(t=Mg-e._time)>=0&&e._call.call(void 0,t),e=e._next;--A1}function Jq(){Mg=(AD=dS.now())+wD,A1=cS=0;try{lNe()}finally{A1=0,cNe(),Mg=0}}function uNe(){var e=dS.now(),t=e-AD;t>Kq&&(wD-=t,AD=e)}function cNe(){for(var e,t=CD,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:CD=r);fS=e,q5(i)}function q5(e){if(!A1){cS&&(cS=clearTimeout(cS));var t=e-Mg;t>24?(e<1/0&&(cS=setTimeout(Jq,e-dS.now()-wD)),hS&&(hS=clearInterval(hS))):(hS||(AD=dS.now(),hS=setInterval(uNe,Kq)),A1=1,Zq(Jq))}}function eK(e,t,r){var i=new xD;return t=t==null?0:+t,i.restart(n=>{i.stop(),e(n+t)},t,r),i}var hNe=by("start","end","cancel","interrupt"),fNe=[],tK=0,K5=1,Z5=2,ID=3,rK=4,Q5=5,DD=6;function OD(e,t,r,i,n,s){var c=e.__transition;if(!c)e.__transition={};else if(r in c)return;dNe(e,r,{name:t,index:i,group:n,on:hNe,tween:fNe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:tK})}function J5(e,t){var r=uc(e,t);if(r.state>tK)throw new Error("too late; already scheduled");return r}function Ch(e,t){var r=uc(e,t);if(r.state>ID)throw new Error("too late; already running");return r}function uc(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function dNe(e,t,r){var i=e.__transition,n;i[t]=r,r.timer=Qq(s,0,r.time);function s(m){r.state=K5,r.timer.restart(c,r.delay,r.time),r.delay<=m&&c(m-r.delay)}function c(m){var d,E,_,T;if(r.state!==K5)return p();for(d in i)if(T=i[d],T.name===r.name){if(T.state===ID)return eK(c);T.state===rK?(T.state=DD,T.timer.stop(),T.on.call("interrupt",e,e.__data__,T.index,T.group),delete i[d]):+d<t&&(T.state=DD,T.timer.stop(),T.on.call("cancel",e,e.__data__,T.index,T.group),delete i[d])}if(eK(function(){r.state===ID&&(r.state=rK,r.timer.restart(h,r.delay,r.time),h(m))}),r.state=Z5,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Z5){for(r.state=ID,n=new Array(_=r.tween.length),d=0,E=-1;d<_;++d)(T=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(n[++E]=T);n.length=E+1}}function h(m){for(var d=m<r.duration?r.ease.call(null,m/r.duration):(r.timer.restart(p),r.state=Q5,1),E=-1,_=n.length;++E<_;)n[E].call(e,d);r.state===Q5&&(r.on.call("end",e,e.__data__,r.index,r.group),p())}function p(){r.state=DD,r.timer.stop(),delete i[t];for(var m in i)return;delete e.__transition}}function pS(e,t){var r=e.__transition,i,n,s=!0,c;if(r){t=t==null?null:t+"";for(c in r){if((i=r[c]).name!==t){s=!1;continue}n=i.state>Z5&&i.state<Q5,i.state=DD,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[c]}s&&delete e.__transition}}function pNe(e){return this.each(function(){pS(this,e)})}function mNe(e,t){var r,i;return function(){var n=Ch(this,e),s=n.tween;if(s!==r){i=r=s;for(var c=0,h=i.length;c<h;++c)if(i[c].name===t){i=i.slice(),i.splice(c,1);break}}n.tween=i}}function gNe(e,t,r){var i,n;if(typeof r!="function")throw new Error;return function(){var s=Ch(this,e),c=s.tween;if(c!==i){n=(i=c).slice();for(var h={name:t,value:r},p=0,m=n.length;p<m;++p)if(n[p].name===t){n[p]=h;break}p===m&&n.push(h)}s.tween=n}}function vNe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=uc(this.node(),r).tween,n=0,s=i.length,c;n<s;++n)if((c=i[n]).name===e)return c.value;return null}return this.each((t==null?mNe:gNe)(r,e,t))}function eB(e,t,r){var i=e._id;return e.each(function(){var n=Ch(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)}),function(n){return uc(n,i).value[t]}}function nK(e,t){var r;return(typeof t=="number"?Ro:t instanceof Bi?Pd:(r=Bi(t))?(t=r,Pd):Xu)(e,t)}function yNe(e){return function(){this.removeAttribute(e)}}function _Ne(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ENe(e,t,r){var i,n=r+"",s;return function(){var c=this.getAttribute(e);return c===n?null:c===i?s:s=t(i=c,r)}}function TNe(e,t,r){var i,n=r+"",s;return function(){var c=this.getAttributeNS(e.space,e.local);return c===n?null:c===i?s:s=t(i=c,r)}}function bNe(e,t,r){var i,n,s;return function(){var c,h=r(this),p;return h==null?void this.removeAttribute(e):(c=this.getAttribute(e),p=h+"",c===p?null:c===i&&p===n?s:(n=p,s=t(i=c,h)))}}function SNe(e,t,r){var i,n,s;return function(){var c,h=r(this),p;return h==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),p=h+"",c===p?null:c===i&&p===n?s:(n=p,s=t(i=c,h)))}}function CNe(e,t){var r=Ke(e),i=r==="transform"?k0:nK;return this.attrTween(e,typeof t=="function"?(r.local?SNe:bNe)(r,i,eB(this,"attr."+e,t)):t==null?(r.local?_Ne:yNe)(r):(r.local?TNe:ENe)(r,i,t))}function ANe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function wNe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function xNe(e,t){var r,i;function n(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&wNe(e,s)),r}return n._value=t,n}function INe(e,t){var r,i;function n(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&ANe(e,s)),r}return n._value=t,n}function DNe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=Ke(e);return this.tween(r,(i.local?xNe:INe)(i,t))}function ONe(e,t){return function(){J5(this,e).delay=+t.apply(this,arguments)}}function kNe(e,t){return t=+t,function(){J5(this,e).delay=t}}function PNe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ONe:kNe)(t,e)):uc(this.node(),t).delay}function RNe(e,t){return function(){Ch(this,e).duration=+t.apply(this,arguments)}}function NNe(e,t){return t=+t,function(){Ch(this,e).duration=t}}function MNe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?RNe:NNe)(t,e)):uc(this.node(),t).duration}function LNe(e,t){if(typeof t!="function")throw new Error;return function(){Ch(this,e).ease=t}}function BNe(e){var t=this._id;return arguments.length?this.each(LNe(t,e)):uc(this.node(),t).ease}function FNe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ch(this,e).ease=r}}function UNe(e){if(typeof e!="function")throw new Error;return this.each(FNe(this._id,e))}function HNe(e){typeof e!="function"&&(e=Wt(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var s=t[n],c=s.length,h=i[n]=[],p,m=0;m<c;++m)(p=s[m])&&e.call(p,p.__data__,m,s)&&h.push(p);return new Ah(i,this._parents,this._name,this._id)}function $Ne(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,n=r.length,s=Math.min(i,n),c=new Array(i),h=0;h<s;++h)for(var p=t[h],m=r[h],d=p.length,E=c[h]=new Array(d),_,T=0;T<d;++T)(_=p[T]||m[T])&&(E[T]=_);for(;h<i;++h)c[h]=t[h];return new Ah(c,this._parents,this._name,this._id)}function GNe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function zNe(e,t,r){var i,n,s=GNe(t)?J5:Ch;return function(){var c=s(this,e),h=c.on;h!==i&&(n=(i=h).copy()).on(t,r),c.on=n}}function jNe(e,t){var r=this._id;return arguments.length<2?uc(this.node(),r).on.on(e):this.each(zNe(r,e,t))}function VNe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function WNe(){return this.on("end.remove",VNe(this._id))}function YNe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Bt(e));for(var i=this._groups,n=i.length,s=new Array(n),c=0;c<n;++c)for(var h=i[c],p=h.length,m=s[c]=new Array(p),d,E,_=0;_<p;++_)(d=h[_])&&(E=e.call(d,d.__data__,_,h))&&("__data__"in d&&(E.__data__=d.__data__),m[_]=E,OD(m[_],t,r,_,m,uc(d,r)));return new Ah(s,this._parents,t,r)}function XNe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=lr(e));for(var i=this._groups,n=i.length,s=[],c=[],h=0;h<n;++h)for(var p=i[h],m=p.length,d,E=0;E<m;++E)if(d=p[E]){for(var _=e.call(d,d.__data__,E,p),T,C=uc(d,r),A=0,D=_.length;A<D;++A)(T=_[A])&&OD(T,t,r,A,_,C);s.push(_),c.push(d)}return new Ah(s,c,t,r)}var qNe=za.prototype.constructor;function KNe(){return new qNe(this._groups,this._parents)}function ZNe(e,t){var r,i,n;return function(){var s=po(this,e),c=(this.style.removeProperty(e),po(this,e));return s===c?null:s===r&&c===i?n:n=t(r=s,i=c)}}function iK(e){return function(){this.style.removeProperty(e)}}function QNe(e,t,r){var i,n=r+"",s;return function(){var c=po(this,e);return c===n?null:c===i?s:s=t(i=c,r)}}function JNe(e,t,r){var i,n,s;return function(){var c=po(this,e),h=r(this),p=h+"";return h==null&&(p=h=(this.style.removeProperty(e),po(this,e))),c===p?null:c===i&&p===n?s:(n=p,s=t(i=c,h))}}function eMe(e,t){var r,i,n,s="style."+t,c="end."+s,h;return function(){var p=Ch(this,e),m=p.on,d=p.value[s]==null?h||(h=iK(t)):void 0;(m!==r||n!==d)&&(i=(r=m).copy()).on(c,n=d),p.on=i}}function tMe(e,t,r){var i=(e+="")=="transform"?O0:nK;return t==null?this.styleTween(e,ZNe(e,i)).on("end.style."+e,iK(e)):typeof t=="function"?this.styleTween(e,JNe(e,i,eB(this,"style."+e,t))).each(eMe(this._id,e)):this.styleTween(e,QNe(e,i,t),r).on("end.style."+e,null)}function rMe(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function nMe(e,t,r){var i,n;function s(){var c=t.apply(this,arguments);return c!==n&&(i=(n=c)&&rMe(e,c,r)),i}return s._value=t,s}function iMe(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,nMe(e,t,r??""))}function aMe(e){return function(){this.textContent=e}}function oMe(e){return function(){var t=e(this);this.textContent=t??""}}function sMe(e){return this.tween("text",typeof e=="function"?oMe(eB(this,"text",e)):aMe(e==null?"":e+""))}function lMe(e){return function(t){this.textContent=e.call(this,t)}}function uMe(e){var t,r;function i(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&lMe(n)),t}return i._value=e,i}function cMe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,uMe(e))}function hMe(){for(var e=this._name,t=this._id,r=oK(),i=this._groups,n=i.length,s=0;s<n;++s)for(var c=i[s],h=c.length,p,m=0;m<h;++m)if(p=c[m]){var d=uc(p,t);OD(p,e,r,m,c,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ah(i,this._parents,e,r)}function fMe(){var e,t,r=this,i=r._id,n=r.size();return new Promise(function(s,c){var h={value:c},p={value:function(){--n===0&&s()}};r.each(function(){var m=Ch(this,i),d=m.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(h),t._.interrupt.push(h),t._.end.push(p)),m.on=t}),n===0&&s()})}var dMe=0;function Ah(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function aK(e){return za().transition(e)}function oK(){return++dMe}var Lf=za.prototype;Ah.prototype=aK.prototype={constructor:Ah,select:YNe,selectAll:XNe,selectChild:Lf.selectChild,selectChildren:Lf.selectChildren,filter:HNe,merge:$Ne,selection:KNe,transition:hMe,call:Lf.call,nodes:Lf.nodes,node:Lf.node,size:Lf.size,empty:Lf.empty,each:Lf.each,on:jNe,attr:CNe,attrTween:DNe,style:tMe,styleTween:iMe,text:sMe,textTween:cMe,remove:WNe,tween:vNe,delay:PNe,duration:MNe,ease:BNe,easeVarying:UNe,end:fMe,[Symbol.iterator]:Lf[Symbol.iterator]};function pMe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mMe={time:null,delay:0,duration:250,ease:pMe};function gMe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function vMe(e){var t,r;e instanceof Ah?(t=e._id,e=e._name):(t=oK(),(r=mMe).time=X5(),e=e==null?null:e+"");for(var i=this._groups,n=i.length,s=0;s<n;++s)for(var c=i[s],h=c.length,p,m=0;m<h;++m)(p=c[m])&&OD(p,e,t,m,c,r||gMe(p,t));return new Ah(i,this._parents,e,t)}za.prototype.interrupt=pNe,za.prototype.transition=vMe;var yMe=[null];function _Me(e,t){var r=e.__transition,i,n;if(r){t=t==null?null:t+"";for(n in r)if((i=r[n]).state>K5&&i.name===t)return new Ah([[e]],yMe,t,+n)}return null}const EMe=Object.freeze(Object.defineProperty({__proto__:null,transition:aK,active:_Me,interrupt:pS},Symbol.toStringTag,{value:"Module"})),kD=e=>()=>e;function TMe(e,{sourceEvent:t,target:r,transform:i,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:n}})}function wh(e,t,r){this.k=e,this.x=t,this.y=r}wh.prototype={constructor:wh,scale:function(e){return e===1?this:new wh(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wh(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _o=new wh(1,0,0);sK.prototype=wh.prototype;function sK(e){for(;!e.__zoom;)if(!(e=e.parentNode))return _o;return e.__zoom}function tB(e){e.stopImmediatePropagation()}function mS(e){e.preventDefault(),e.stopImmediatePropagation()}function bMe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function SMe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function lK(){return this.__zoom||_o}function CMe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function AMe(){return navigator.maxTouchPoints||"ontouchstart"in this}function wMe(e,t,r){var i=e.invertX(t[0][0])-r[0][0],n=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],c=e.invertY(t[1][1])-r[1][1];return e.translate(n>i?(i+n)/2:Math.min(0,i)||Math.max(0,n),c>s?(s+c)/2:Math.min(0,s)||Math.max(0,c))}function rB(){var e=bMe,t=SMe,r=wMe,i=CMe,n=AMe,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],h=250,p=tT,m=by("start","zoom","end"),d,E,_,T=500,C=150,A=0,D=10;function O(ne){ne.property("__zoom",lK).on("wheel.zoom",K,{passive:!1}).on("mousedown.zoom",ae).on("dblclick.zoom",le).filter(n).on("touchstart.zoom",J).on("touchmove.zoom",ge).on("touchend.zoom touchcancel.zoom",Ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(ne,ve,Me,je){var Qe=ne.selection?ne.selection():ne;Qe.property("__zoom",lK),ne!==Qe?$(ne,ve,Me,je):Qe.interrupt().each(function(){W(this,arguments).event(je).start().zoom(null,typeof ve=="function"?ve.apply(this,arguments):ve).end()})},O.scaleBy=function(ne,ve,Me,je){O.scaleTo(ne,function(){var Qe=this.__zoom.k,tt=typeof ve=="function"?ve.apply(this,arguments):ve;return Qe*tt},Me,je)},O.scaleTo=function(ne,ve,Me,je){O.transform(ne,function(){var Qe=t.apply(this,arguments),tt=this.__zoom,st=Me==null?R(Qe):typeof Me=="function"?Me.apply(this,arguments):Me,Ct=tt.invert(st),Be=typeof ve=="function"?ve.apply(this,arguments):ve;return r(P(B(tt,Be),st,Ct),Qe,c)},Me,je)},O.translateBy=function(ne,ve,Me,je){O.transform(ne,function(){return r(this.__zoom.translate(typeof ve=="function"?ve.apply(this,arguments):ve,typeof Me=="function"?Me.apply(this,arguments):Me),t.apply(this,arguments),c)},null,je)},O.translateTo=function(ne,ve,Me,je,Qe){O.transform(ne,function(){var tt=t.apply(this,arguments),st=this.__zoom,Ct=je==null?R(tt):typeof je=="function"?je.apply(this,arguments):je;return r(_o.translate(Ct[0],Ct[1]).scale(st.k).translate(typeof ve=="function"?-ve.apply(this,arguments):-ve,typeof Me=="function"?-Me.apply(this,arguments):-Me),tt,c)},je,Qe)};function B(ne,ve){return ve=Math.max(s[0],Math.min(s[1],ve)),ve===ne.k?ne:new wh(ve,ne.x,ne.y)}function P(ne,ve,Me){var je=ve[0]-Me[0]*ne.k,Qe=ve[1]-Me[1]*ne.k;return je===ne.x&&Qe===ne.y?ne:new wh(ne.k,je,Qe)}function R(ne){return[(+ne[0][0]+ +ne[1][0])/2,(+ne[0][1]+ +ne[1][1])/2]}function $(ne,ve,Me,je){ne.on("start.zoom",function(){W(this,arguments).event(je).start()}).on("interrupt.zoom end.zoom",function(){W(this,arguments).event(je).end()}).tween("zoom",function(){var Qe=this,tt=arguments,st=W(Qe,tt).event(je),Ct=t.apply(Qe,tt),Be=Me==null?R(Ct):typeof Me=="function"?Me.apply(Qe,tt):Me,Ae=Math.max(Ct[1][0]-Ct[0][0],Ct[1][1]-Ct[0][1]),Ne=Qe.__zoom,Ue=typeof ve=="function"?ve.apply(Qe,tt):ve,it=p(Ne.invert(Be).concat(Ae/Ne.k),Ue.invert(Be).concat(Ae/Ue.k));return function(mt){if(mt===1)mt=Ue;else{var Ft=it(mt),Dt=Ae/Ft[2];mt=new wh(Dt,Be[0]-Ft[0]*Dt,Be[1]-Ft[1]*Dt)}st.zoom(null,mt)}})}function W(ne,ve,Me){return!Me&&ne.__zooming||new Z(ne,ve)}function Z(ne,ve){this.that=ne,this.args=ve,this.active=0,this.sourceEvent=null,this.extent=t.apply(ne,ve),this.taps=0}Z.prototype={event:function(ne){return ne&&(this.sourceEvent=ne),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(ne,ve){return this.mouse&&ne!=="mouse"&&(this.mouse[1]=ve.invert(this.mouse[0])),this.touch0&&ne!=="touch"&&(this.touch0[1]=ve.invert(this.touch0[0])),this.touch1&&ne!=="touch"&&(this.touch1[1]=ve.invert(this.touch1[0])),this.that.__zoom=ve,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(ne){var ve=tn(this.that).datum();m.call(ne,this.that,new TMe(ne,{sourceEvent:this.sourceEvent,target:O,transform:this.that.__zoom,dispatch:m}),ve)}};function K(ne,...ve){if(!e.apply(this,arguments))return;var Me=W(this,ve).event(ne),je=this.__zoom,Qe=Math.max(s[0],Math.min(s[1],je.k*Math.pow(2,i.apply(this,arguments)))),tt=Ln(ne);if(Me.wheel)(Me.mouse[0][0]!==tt[0]||Me.mouse[0][1]!==tt[1])&&(Me.mouse[1]=je.invert(Me.mouse[0]=tt)),clearTimeout(Me.wheel);else{if(je.k===Qe)return;Me.mouse=[tt,je.invert(tt)],pS(this),Me.start()}mS(ne),Me.wheel=setTimeout(st,C),Me.zoom("mouse",r(P(B(je,Qe),Me.mouse[0],Me.mouse[1]),Me.extent,c));function st(){Me.wheel=null,Me.end()}}function ae(ne,...ve){if(_||!e.apply(this,arguments))return;var Me=ne.currentTarget,je=W(this,ve,!0).event(ne),Qe=tn(ne.view).on("mousemove.zoom",Be,!0).on("mouseup.zoom",Ae,!0),tt=Ln(ne,Me),st=ne.clientX,Ct=ne.clientY;Ax(ne.view),tB(ne),je.mouse=[tt,this.__zoom.invert(tt)],pS(this),je.start();function Be(Ne){if(mS(Ne),!je.moved){var Ue=Ne.clientX-st,it=Ne.clientY-Ct;je.moved=Ue*Ue+it*it>A}je.event(Ne).zoom("mouse",r(P(je.that.__zoom,je.mouse[0]=Ln(Ne,Me),je.mouse[1]),je.extent,c))}function Ae(Ne){Qe.on("mousemove.zoom mouseup.zoom",null),wx(Ne.view,je.moved),mS(Ne),je.event(Ne).end()}}function le(ne,...ve){if(e.apply(this,arguments)){var Me=this.__zoom,je=Ln(ne.changedTouches?ne.changedTouches[0]:ne,this),Qe=Me.invert(je),tt=Me.k*(ne.shiftKey?.5:2),st=r(P(B(Me,tt),je,Qe),t.apply(this,ve),c);mS(ne),h>0?tn(this).transition().duration(h).call($,st,je,ne):tn(this).call(O.transform,st,je,ne)}}function J(ne,...ve){if(e.apply(this,arguments)){var Me=ne.touches,je=Me.length,Qe=W(this,ve,ne.changedTouches.length===je).event(ne),tt,st,Ct,Be;for(tB(ne),st=0;st<je;++st)Ct=Me[st],Be=Ln(Ct,this),Be=[Be,this.__zoom.invert(Be),Ct.identifier],Qe.touch0?!Qe.touch1&&Qe.touch0[2]!==Be[2]&&(Qe.touch1=Be,Qe.taps=0):(Qe.touch0=Be,tt=!0,Qe.taps=1+!!d);d&&(d=clearTimeout(d)),tt&&(Qe.taps<2&&(E=Be[0],d=setTimeout(function(){d=null},T)),pS(this),Qe.start())}}function ge(ne,...ve){if(this.__zooming){var Me=W(this,ve).event(ne),je=ne.changedTouches,Qe=je.length,tt,st,Ct,Be;for(mS(ne),tt=0;tt<Qe;++tt)st=je[tt],Ct=Ln(st,this),Me.touch0&&Me.touch0[2]===st.identifier?Me.touch0[0]=Ct:Me.touch1&&Me.touch1[2]===st.identifier&&(Me.touch1[0]=Ct);if(st=Me.that.__zoom,Me.touch1){var Ae=Me.touch0[0],Ne=Me.touch0[1],Ue=Me.touch1[0],it=Me.touch1[1],mt=(mt=Ue[0]-Ae[0])*mt+(mt=Ue[1]-Ae[1])*mt,Ft=(Ft=it[0]-Ne[0])*Ft+(Ft=it[1]-Ne[1])*Ft;st=B(st,Math.sqrt(mt/Ft)),Ct=[(Ae[0]+Ue[0])/2,(Ae[1]+Ue[1])/2],Be=[(Ne[0]+it[0])/2,(Ne[1]+it[1])/2]}else if(Me.touch0)Ct=Me.touch0[0],Be=Me.touch0[1];else return;Me.zoom("touch",r(P(st,Ct,Be),Me.extent,c))}}function Ee(ne,...ve){if(this.__zooming){var Me=W(this,ve).event(ne),je=ne.changedTouches,Qe=je.length,tt,st;for(tB(ne),_&&clearTimeout(_),_=setTimeout(function(){_=null},T),tt=0;tt<Qe;++tt)st=je[tt],Me.touch0&&Me.touch0[2]===st.identifier?delete Me.touch0:Me.touch1&&Me.touch1[2]===st.identifier&&delete Me.touch1;if(Me.touch1&&!Me.touch0&&(Me.touch0=Me.touch1,delete Me.touch1),Me.touch0)Me.touch0[1]=this.__zoom.invert(Me.touch0[0]);else if(Me.end(),Me.taps===2&&(st=Ln(st,this),Math.hypot(E[0]-st[0],E[1]-st[1])<D)){var Ct=tn(this).on("dblclick.zoom");Ct&&Ct.apply(this,arguments)}}}return O.wheelDelta=function(ne){return arguments.length?(i=typeof ne=="function"?ne:kD(+ne),O):i},O.filter=function(ne){return arguments.length?(e=typeof ne=="function"?ne:kD(!!ne),O):e},O.touchable=function(ne){return arguments.length?(n=typeof ne=="function"?ne:kD(!!ne),O):n},O.extent=function(ne){return arguments.length?(t=typeof ne=="function"?ne:kD([[+ne[0][0],+ne[0][1]],[+ne[1][0],+ne[1][1]]]),O):t},O.scaleExtent=function(ne){return arguments.length?(s[0]=+ne[0],s[1]=+ne[1],O):[s[0],s[1]]},O.translateExtent=function(ne){return arguments.length?(c[0][0]=+ne[0][0],c[1][0]=+ne[1][0],c[0][1]=+ne[0][1],c[1][1]=+ne[1][1],O):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},O.constrain=function(ne){return arguments.length?(r=ne,O):r},O.duration=function(ne){return arguments.length?(h=+ne,O):h},O.interpolate=function(ne){return arguments.length?(p=ne,O):p},O.on=function(){var ne=m.on.apply(m,arguments);return ne===m?O:ne},O.clickDistance=function(ne){return arguments.length?(A=(ne=+ne)*ne,O):Math.sqrt(A)},O.tapDistance=function(ne){return arguments.length?(D=+ne,O):D},O}const xMe=Object.freeze(Object.defineProperty({__proto__:null,zoom:rB,zoomTransform:sK,zoomIdentity:_o,ZoomTransform:wh},Symbol.toStringTag,{value:"Module"})),IMe=40,Bf=0,gS=5,uK=4;let PD=(function(){function e(t){H(this,e),this.pAxis=new er.PIXI.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return j(e,[{key:"startAxis",value:function(r){const i=this.pAxis;i.clear(),i.lineStyle(1,this.track.getTheme()===Oi?Pr("#ffffff"):0,1),i.moveTo(0,0),i.lineTo(0,r)}},{key:"createAxisTexts",value:function(r,i){this.tickValues=this.calculateAxisTickValues(r,i);let n=0;const s=this.track.getTheme()===Oi?"white":"black";for(!this.track.options||!this.track.options.axisLabelFormatting||this.track.options.axisLabelFormatting==="scientific"?this.tickFormat=Xi(".2"):this.tickFormat=c=>c;n<this.tickValues.length;){const c=this.tickValues[n];for(;this.axisTexts.length<=n;){const h=new er.PIXI.Text(c,{fontSize:`${this.axisTextFontSize}px`,fontFamily:this.axisTextFontFamily,fill:s});this.axisTexts.push(h),this.pAxis.addChild(h)}this.axisTexts[n].text=this.tickFormat(c),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}for(;this.axisTexts.length>this.tickValues.length;){const c=this.axisTexts.pop();this.pAxis.removeChild(c),c.destroy(!0)}}},{key:"calculateAxisTickValues",value:function(r,i){const n=Math.max(Math.ceil(i/IMe),1);let s=r.ticks(n);return s.length<1&&(s=r.ticks(n+1),s.length>1&&(s=[s[0]])),s}},{key:"drawAxisLeft",value:function(r,i){this.startAxis(i),this.createAxisTexts(r,i);const n=this.pAxis;this.track.getTheme()===Oi&&n.lineStyle(n.lineWidth||n._lineStyle.width,Pr("#ffffff")),n.moveTo(0,0),n.lineTo(-5,0),n.moveTo(0,i),n.lineTo(-5,i);for(let s=0;s<this.axisTexts.length;s++){const c=this.tickValues[s];this.axisTexts[s].x=-(Bf+gS+uK+this.axisTexts[s].width/2),this.axisTexts[s].y=r(c),n.moveTo(-Bf,r(c)),n.lineTo(-5,r(c)),this.track&&this.track.flipText&&(this.axisTexts[s].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"drawAxisRight",value:function(r,i){this.startAxis(i),this.createAxisTexts(r,i);const n=this.pAxis;this.track.getTheme()===Oi&&n.lineStyle(n.lineWidth||n._lineStyle.width,Pr("#ffffff")),n.moveTo(0,0),n.lineTo(Bf+gS,0),n.moveTo(0,i),n.lineTo(Bf+gS,i);for(let s=0;s<this.axisTexts.length;s++){const c=this.tickValues[s];this.axisTexts[s].x=Bf+gS+uK+this.axisTexts[s].width/2,this.axisTexts[s].y=r(c),n.moveTo(Bf,r(c)),n.lineTo(Bf+gS,r(c)),this.track&&this.track.flipText&&(this.axisTexts[s].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"hideOverlappingAxisLabels",value:function(){for(let r=this.axisTexts.length-1;r>=0;r--)this.axisTexts[r].visible=!0;for(let r=this.axisTexts.length-1;r>=0;r--){if(!this.axisTexts[r].visible)continue;let i=r-1;for(;i>=0&&this.axisTexts[r].y+this.axisTexts[r].height/2>this.axisTexts[i].y-this.axisTexts[i].height/2;){this.axisTexts[i].visible=!1;i-=1}}}},{key:"exportVerticalAxis",value:function(r){const i=document.createElement("g");i.setAttribute("class","axis-vertical");let n="black";this.track&&this.track.options.lineStrokeColor&&(n=this.track.options.lineStrokeColor),this.track.getTheme()===Oi&&(n="#cccccc");const s=document.createElement("path");return s.setAttribute("fill","transparent"),s.setAttribute("stroke",n),s.setAttribute("id","axis-line"),s.setAttribute("d",`M0,0 L0,${r}`),i.appendChild(s),i}},{key:"createAxisSVGLine",value:function(){let r="black";this.track&&this.track.options.lineStrokeColor&&(r=this.track.options.lineStrokeColor),this.track.getTheme()===Oi&&(r="#cccccc");const i=document.createElement("path");return i.setAttribute("id","tick-mark"),i.setAttribute("fill","transparent"),i.setAttribute("stroke",r),i}},{key:"createAxisSVGText",value:function(r){const i=document.createElement("text");return i.innerHTML=r,i.setAttribute("id","axis-text"),i.setAttribute("text-anchor","middle"),i.setAttribute("font-family",this.axisTextFontFamily),i.setAttribute("font-size",this.axisTextFontSize),i.setAttribute("dy",this.axisTextFontSize/2-2),i}},{key:"exportAxisLeftSVG",value:function(r,i){const n=this.exportVerticalAxis(i),s=this.createAxisSVGLine();n.appendChild(s),s.setAttribute("d","M0,0 L5,0");const c=this.createAxisSVGLine();n.appendChild(c),c.setAttribute("d",`M0,${i} L5,${i}`);for(let h=0;h<this.axisTexts.length;h++){const p=this.tickValues[h],m=this.axisTexts[h],d=this.createAxisSVGLine();n.appendChild(d),d.setAttribute("d",`M${+Bf},${r(p)} L5,${r(p)}`);const E=document.createElement("g");if(n.appendChild(E),m.visible){const _=this.createAxisSVGText(m.text);E.appendChild(_)}E.setAttribute("transform",`translate(${m.position.x},${m.position.y})
             scale(${m.scale.x},${m.scale.y})`)}return n}},{key:"exportAxisRightSVG",value:function(r,i){const n=this.exportVerticalAxis(i),s=this.createAxisSVGLine();n.appendChild(s),s.setAttribute("d","M0,0 L-5,0");const c=this.createAxisSVGLine();n.appendChild(c),c.setAttribute("d",`M0,${i} L-5,${i}`);for(let h=0;h<this.axisTexts.length;h++){const p=this.tickValues[h],m=this.axisTexts[h],d=this.createAxisSVGLine();n.appendChild(d),d.setAttribute("d",`M${-Bf},${r(p)} L-5,${r(p)}`);const E=document.createElement("g");if(n.appendChild(E),m.visible){const _=this.createAxisSVGText(m.text);E.appendChild(_)}E.setAttribute("transform",`translate(${m.position.x},${m.position.y})
             scale(${m.scale.x},${m.scale.y})`)}return n}},{key:"clearAxis",value:function(){const r=this.pAxis;for(;this.axisTexts.length;){const i=this.axisTexts.pop();r.removeChild(i)}r.clear()}}]),e})();const cK=(e,t)=>{const r=[];for(let i=e;i<t;i++)r.push(i);return r},DMe=(e,t)=>{const r=e.map(h=>+h).sort((h,p)=>p-h),i=t.range()[1]-t.range()[0],s=r.map(h=>(t.domain()[1]-t.domain()[0])/h).map(h=>h/i),c=s.filter(h=>h<1);return c.length===0?0:s.indexOf(c[c.length-1])},OMe=(e,t,r,i)=>{const n=e.range()[1]-e.range()[0],s=Math.max((r-t)/(e.domain()[1]-e.domain()[0]),1),h=Math.max(0,Math.ceil(Math.log(n/384)/Math.LN2));let p=Math.round(Math.log(s)/Math.LN2)+h,m=0;return i&&(m=Math.floor(Math.log(256)/Math.log(2)-Math.log(i)/Math.log(2))),p+=m,p},hK=(e,t,r)=>{if(typeof r>"u"&&(r=Number.MAX_SAFE_INTEGER),e.resolutions)return DMe(e.resolutions,t,e.min_pos[0],e.max_pos[0]-2);const i=OMe(t,e.min_pos[0],e.max_pos[0],e.bins_per_dimension||e.tile_size),n=Math.min(i,r);return Math.max(n,0)},kMe=(e,t,r,i,n,s)=>{const c=Math.min(e,n),h=s/2**c;return cK(Math.max(0,Math.floor((t.domain()[0]-r)/h)),Math.min(2**c,Math.ceil((t.domain()[1]-r-1e-7)/h)))},PMe=(e,t,r,i=Number.MAX_VALUE,n=256)=>{const c=e*n,h=20,p=Math.max(0,Math.floor((t.domain()[0]-r)/c)),m=Math.ceil(Math.min(i,t.domain()[1]-r-1e-7)/c);let d=cK(p,m);return d.length>h&&(console.warn(`Too many visible tiles: ${d.length} truncating to ${h}`),d=d.slice(0,h)),d},RMe=(e,t)=>{if(!e)return[];const r=hK(e,t,e.max_zoom);if(e.resolutions){const s=e.resolutions.map(p=>+p).sort((p,m)=>m-p);return PMe(s[r],t,e.min_pos[0],e.max_pos[0]).map(p=>[r,p])}return kMe(r,t,e.min_pos[0],e.max_pos[0],e.max_zoom,e.max_width).map(s=>[r,s])},NMe=(e,t)=>{if(e.axis||(e.axis=new PD(e),e.pBase.addChild(e.axis.pAxis)),!e.options.axisPositionVertical&&!e.options.axisPositionHorizontal){e.axis.clearAxis();return}if(e.options.axisPositionVertical&&e.options.axisPositionVertical==="hidden"){e.axis.clearAxis();return}if(e.options.axisPositionHorizontal&&e.options.axisPositionHorizontal==="hidden"){e.axis.clearAxis();return}const r=e.options.axisMargin||0;e.options.axisPositionHorizontal==="left"||e.options.axisPositionVertical==="top"?(e.axis.pAxis.position.x=e.position[0]+r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1])):e.options.axisPositionHorizontal==="outsideLeft"||e.options.axisPositionVertical==="outsideTop"?(e.axis.pAxis.position.x=e.position[0]+r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):e.options.axisPositionHorizontal==="right"||e.options.axisPositionVertical==="bottom"?(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):(e.options.axisPositionHorizontal==="outsideRight"||e.options.axisPositionVertical==="outsideBottom")&&(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1]))},MMe=(e,t)=>{const r=e.valueScaleTransform,{y:i,k:n}=r,s=e.dimensions[1];i+t/n>-(n-1)*s&&i+t/n<0&&(e.valueScaleTransform=r.translate(0,t/n)),Object.values(e.fetchedTiles).forEach(c=>{c.graphics.position.y=e.valueScaleTransform.y}),e.animate()},LMe=(e,t,r,i)=>{const n=r.k,s=r.y,c=(e-s)/n,h=Math.max(n/t,1);let p=n*c+s-h*c;return p=Math.max(p,-(h-1)*i),p=Math.min(p,0),_o.translate(0,p).scale(h)},BMe=(e,t)=>{const r=+t.split(".")[0],i=+t.split(".")[1],n=e.max_width,s=e.min_pos[0],c=n/2**r;return{tileX:s+i*c,tileWidth:c}};function FMe(e,t){Object.values(e.fetchedTiles).forEach(r=>{if(!r.drawnAtScale)return;const i=r.drawnAtScale.range(),n=e._xScale.range();if(i[0]!==n[0]||i[1]!==n[1]){e.renderTile(r);return}const s=(r.drawnAtScale.domain()[1]-r.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]);if(s>2||s<.5)e.renderTile(r);else{const h=e._xScale.domain().map(r.drawnAtScale)[0];for(const p of t)p(r).scale.x=s,p(r).x=-h*s}})}const Lg={calculate1DVisibleTiles:RMe,calculate1DZoomLevel:hK,drawAxis:NMe,movedY:MMe,getTilePosAndDimensions:BMe,stretchRects:FMe,zoomedY:LMe},UMe=Object.freeze(Object.defineProperty({__proto__:null,absToChr:no,accessorTransposition:n7,addArrays:i7,addClass:d0e,base64ToCanvas:p0e,chromInfoBisector:r7,chrToAbs:Gx,cloneEvent:a7,colorDomainToRgbaArray:tp,colorToHex:Pr,colorToRgba:b7,dataToGenomicLoci:Yx,debounce:Xx,decToHexStr:GM,dictFromTuples:S7,dictItems:mu,dictKeys:gu,dictValues:vi,download:sb,fillInMinWidths:C7,flatten:x0e,forEach:I0e,forwardEvent:qx,genomeLociToPixels:D0e,genomicRangeToChromosomeChunks:O0e,getDefaultTrackForDatatype:zM,getElementDim:M7,getTrackByUid:Ll,getTrackConfFromHGC:Tye,getTrackObjById:hb,getTrackPositionByUid:fb,getXylofon:L7,gradient:B7,hasClass:$x,hasParent:F7,hexStrToInt:U7,intoTheVoid:H7,isTrackOrChildTrack:$7,isWithin:eL,latToY:Sye,loadChromInfos:Cye,lngToX:Aye,map:QM,max:tL,maxNonZero:rL,min:z7,minNonZero:nL,mod:wye,ndarrayAssign:V7,ndarrayFlatten:X7,ndarrayToList:Y7,numericifyVersion:q7,objVals:Qx,or:db,parseChromsizesRows:eI,pixiTextToSvg:iL,q:Uye,reduce:A7,rangeQuery2d:Hye,relToAbsChromPos:$ye,removeClass:zye,resetD3BrushStyle:Ry,rgbToHex:jye,scalesCenterAndK:io,scalesToGenomeLoci:K7,showMousePosition:vg,some:Xye,sum:rp,svgLine:Z7,throttleAndDebounce:Q7,tileToCanvas:qye,timeout:oL,totalTrackPixelHeight:Kye,toVoid:fh,trimTrailingSlash:tI,valueToColor:sL,expandCombinedTracks:rI,segmentsToRows:nI,visitPositionedTracks:If,visitTracks:ZM,DenseDataExtrema1D:iI,DenseDataExtrema2D:cL,getAggregationFunction:hL,selectedItemsToSize:pb,IS_TRACK_RANGE_SELECTABLE:Ny,getTrackObjectFromHGC:aI,getTrackRenderer:nz,getTiledPlot:Qye,changeOptions:rNe,waitForJsonComplete:SD,waitForTilesLoaded:uS,waitForTransitionsFinished:W5,mountHGComponent:Y5,mountHGComponentAsync:oNe,removeHGComponent:aNe,trackUtils:Lg},Symbol.toStringTag,{value:"Module"})),{Provider:HMe,Consumer:$Me}=M.default.createContext({close:fh,open:fh}),Bg=e=>M.default.forwardRef((t,r)=>M.default.createElement($Me,null,i=>M.default.createElement(e,{ref:r,...t,theme:i}))),mp={"track-control":"_track-control_w7hx2_1","track-control-vertical":"_track-control-vertical_w7hx2_2","track-control-dark":"_track-control-dark_w7hx2_15","track-control-active":"_track-control-active_w7hx2_16 _track-control_w7hx2_1","track-control-left":"_track-control-left_w7hx2_24","track-control-padding-right":"_track-control-padding-right_w7hx2_48","track-control-button":"_track-control-button_w7hx2_52","track-control-button-vertical":"_track-control-button-vertical_w7hx2_81"},GMe=e=>Kn({[mp["track-control-active"]]:e.isVisible,[mp["track-control"]]:!e.isVisible,[mp["track-control-left"]]:e.isAlignLeft,[mp["track-control-vertical"]]:e.isVertical,[mp["track-control-padding-right"]]:e.paddingRight,[mp["track-control-dark"]]:e.theme===Oi}),RD=e=>Kn("no-zoom",mp["track-control-button"],{[mp["track-control-button-vertical"]]:e.isVertical});let nB=null,fK=null;function dK(e){(!e||!nB||Object.keys(e).some(i=>nB[i]!==e[i]))&&(nB=e,fK=MM(()=>M.default.createElement("svg",{className:RD(e),style:{height:"20px",width:"20px",...e.imgStyleMove}},M.default.createElement("title",null,"Move track"),M.default.createElement("use",{xlinkHref:"#move"}))));let t,r;return M.default.createElement("div",{className:GMe(e)},e.isMoveable&&M.default.createElement(fK,null),M.default.createElement("svg",{ref:i=>{t=i},className:RD(e),onClick:()=>{e.onConfigTrackMenuOpened(e.uid,t.getBoundingClientRect())},style:{height:"20px",width:"20px",...e.imgStyleSettings}},M.default.createElement("title",null,"Configure track"),M.default.createElement("use",{xlinkHref:"#cog"})),e.onAddSeries&&M.default.createElement("svg",{className:RD(e),onClick:()=>e.onAddSeries(e.uid),style:{height:"20px",width:"20px",...e.imgStyleAdd}},M.default.createElement("title",null,"Add series"),M.default.createElement("use",{xlinkHref:"#plus"})),M.default.createElement("svg",{ref:i=>{r=i},className:RD(e),onClick:()=>{e.onCloseTrackMenuOpened(e.uid,r.getBoundingClientRect())},style:{height:"20px",width:"20px",...e.imgStyleClose}},M.default.createElement("title",null,"Close track"),M.default.createElement("use",{xlinkHref:"#cross"})))}dK.propTypes={imgStyleAdd:z.exports.object,imgStyleClose:z.exports.object,imgStyleMove:z.exports.object,imgStyleSettings:z.exports.object,isAlignLeft:z.exports.bool,isMoveable:z.exports.bool,isVertical:z.exports.bool,isVisible:z.exports.bool,onConfigTrackMenuOpened:z.exports.func,onCloseTrackMenuOpened:z.exports.func,onAddSeries:z.exports.func,paddingRight:z.exports.bool,theme:z.exports.symbol.isRequired,uid:z.exports.string};const ND=Bg(dK),iB={"center-track":"_center-track_fiu64_1","center-track-container":"_center-track-container_fiu64_6"},cc={"track-range-selection":"_track-range-selection_5bcsr_1","track-range-selection-active":"_track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-active-primary":"_track-range-selection-active-primary_5bcsr_14 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-active-secondary":"_track-range-selection-active-secondary_5bcsr_18 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-group-inactive":"_track-range-selection-group-inactive_5bcsr_22","track-range-selection-group-brush-selection":"_track-range-selection-group-brush-selection_5bcsr_26"},MD={pointerEvents:"all"};function w1(e){return e&&e.sourceEvent}let aB=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.state={isVisible:!1},n.brushBehaviorX=Bx().on("brush",n.brushedX.bind(S(n))).on("end",n.brushedXEnded.bind(S(n))),n.brushBehaviorY=XT().on("brush",n.brushedY.bind(S(n))).on("end",n.brushedYEnded.bind(S(n))),n.brushBehaviorXY=AM().on("start",n.brushStarted.bind(S(n))).on("brush",n.brushedXY.bind(S(n))).on("end",n.brushedXYEnded.bind(S(n))),n}return j(r,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush2d()}},{key:"shouldComponentUpdate",value:function(n,s){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){const c=n.rangeSelection[0]||null;this.moveBrushXY([c,n.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==s}if(this.props.rangeSelection!==n.rangeSelection){const c=n.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(c,n.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(c,n.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(c,n.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(c,n.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([c,n.rangeSelection[1]],n.rangeSelectionEnd);const h=this.props.is1dRangeSelection&&!n.is1dRangeSelection&&c===null;return this.state!==s||h}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}},{key:"addBrush1d",value:function(){!this.brushElX||!this.brushElY||this.brushElXOld===this.brushElX&&this.brushElYOld===this.brushElY||(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),Ry(this.brushElX,cc["track-range-selection-group-brush-selection"]),Ry(this.brushElY,cc["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}},{key:"addBrush2d",value:function(){!this.brushElXY||this.brushElXYOld===this.brushElXY||(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,Ry(this.brushElXY,cc["track-range-selection-group-brush-selection"]))}},{key:"brushedX",value:function(n){const s=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!w1(n)||!this.props.onRangeSelectionX||!this.props.is1dRangeSelection||s)&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(n.selection))}},{key:"brushedXEnded",value:function(n){const s=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,!(!w1(n)||!this.props.onRangeSelectionX||!this.props.is1dRangeSelection||s)&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(n.selection))}},{key:"brushedY",value:function(n){const s=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!w1(n)||!this.props.onRangeSelectionY||!this.props.is1dRangeSelection||s)&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(n.selection))}},{key:"brushedYEnded",value:function(n){const s=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,!(!w1(n)||!this.props.onRangeSelectionY||!this.props.is1dRangeSelection||s)&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(n.selection))}},{key:"brushedXY",value:function(n){const s=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!w1(n)||!this.props.onRangeSelectionXY||s||this.props.is1dRangeSelection)&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[n.selection[0][0],n.selection[1][0]],[n.selection[0][1],n.selection[1][1]]]))}},{key:"brushedXYEnded",value:function(n){if(this.props.is1dRangeSelection)return;const s=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,n.selection&&n.sourceEvent&&this.props.onRangeSelectionXY&&!s&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[n.selection[0][0],n.selection[1][0]],[n.selection[0][1],n.selection[1][1]]])),n.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}},{key:"brushStarted",value:function(n){w1(n)&&this.props.onRangeSelectionStart()}},{key:"moveBrushX",value:function(n,s=!1){if(!this.brushEl)return;this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());const c=n?[this.props.scaleX(n[0]),this.props.scaleX(n[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,s?this.brushElX.transition().call(this.brushBehaviorX.move,c):this.brushElX.call(this.brushBehaviorX.move,c)}},{key:"moveBrushY",value:function(n,s=!1){if(!this.brushEl)return;this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());const c=n?[this.props.scaleY(n[0]),this.props.scaleY(n[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,s?this.brushElY.transition().call(this.brushBehaviorY.move,c):this.brushElY.call(this.brushBehaviorY.move,c)}},{key:"moveBrushXY",value:function(n,s=!1){if(!this.brushEl)return;const c=[[this.props.scaleX(n[0][0]),this.props.scaleY(n[1][0])],[this.props.scaleX(n[0][1]),this.props.scaleY(n[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,s?this.brushElXY.transition().call(this.brushBehaviorXY.move,c):this.brushElXY.call(this.brushBehaviorXY.move,c)}},{key:"mouseEnterHandler",value:function(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({isVisible:!1})}},{key:"removeBrush1d",value:function(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}},{key:"removeBrush2d",value:function(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}},{key:"render",value:function(){const n=this.props.tracks.map(m=>Ny(m)).reduce(db,!1),s=this.props.tracks.some(m=>m.contents?m.contents.some(d=>d.type==="heatmap"?d.options.colorbarPosition==="topRight":!1):m.type==="heatmap"?m.options.colorbarPosition==="topRight":!1);let c="track-range-selection";this.props.isRangeSelectionActive&&(c+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");const h=Kn(!this.props.is1dRangeSelection&&cc["track-range-selection-group-inactive"]),p=Kn(this.props.is1dRangeSelection&&cc["track-range-selection-group-inactive"]);return M.default.createElement("div",{className:Kn(this.props.className,iB["center-track"]),onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},n&&M.default.createElement("svg",{className:cc[c],style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg"},M.default.createElement("g",{ref:m=>{this.brushElX=tn(m)},className:h}),M.default.createElement("g",{ref:m=>{this.brushElY=tn(m)},className:h}),M.default.createElement("g",{ref:m=>{this.brushElXY=tn(m)},className:p})),this.props.editable&&M.default.createElement(ND,{imgStyleAdd:MD,imgStyleClose:MD,imgStyleMove:MD,imgStyleSettings:MD,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:s,uid:this.props.uid}))}}]),r})(M.default.Component);aB.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:z.exports.bool,isRangeSelectionActive:!1,scaleX:e=>e,scaleY:e=>e},aB.propTypes={className:z.exports.string,configTrackMenuId:z.exports.string,editable:z.exports.bool,height:z.exports.number.isRequired,is1dRangeSelection:z.exports.bool,isRangeSelectionActive:z.exports.bool,onAddSeries:z.exports.func.isRequired,onCloseTrackMenuOpened:z.exports.func.isRequired,onConfigTrackMenuOpened:z.exports.func.isRequired,onRangeSelectionX:z.exports.func.isRequired,onRangeSelectionXEnd:z.exports.func.isRequired,onRangeSelectionY:z.exports.func.isRequired,onRangeSelectionYEnd:z.exports.func.isRequired,onRangeSelectionXY:z.exports.func.isRequired,onRangeSelectionXYEnd:z.exports.func.isRequired,onRangeSelectionReset:z.exports.func.isRequired,onRangeSelectionStart:z.exports.func.isRequired,rangeSelection:z.exports.array.isRequired,rangeSelectionEnd:z.exports.bool,scaleX:z.exports.func,scaleY:z.exports.func,tracks:z.exports.array.isRequired,uid:z.exports.string.isRequired,width:z.exports.number.isRequired};const oB={__fake__:!0,publish:fh,subscribe:fh,unsubscribe:fh},{Provider:zMe,Consumer:jMe}=M.default.createContext(oB),x1=e=>M.default.forwardRef((t,r)=>M.default.createElement(jMe,null,i=>M.default.createElement(e,{ref:r,...t,pubSub:i}))),VMe={"drag-listening-div-active":"_drag-listening-div-active_19gkt_1"};let sB=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.state={dragOnTop:!1},n}return j(r,[{key:"render",value:function(){let n="red";return this.props.enabled&&this.state.dragOnTop?n="green":this.props.enabled&&(n="blue"),M.default.createElement("div",{className:Kn("DragListeningDiv",{[VMe["drag-listening-div-active"]]:this.props.enabled}),onDragEnter:()=>{this.setState({dragOnTop:!0})},onDragLeave:()=>{this.setState({dragOnTop:!1})},onDragOver:s=>{s.preventDefault()},onDrop:()=>{if(!this.props.enabled)return;const s=this.props.draggingHappening,c={type:this.props.defaultTrackType,uid:hn.nice(),tilesetUid:s.tilesetUid,server:s.server};this.props.onTrackDropped(c),this.props.pubSub.publish("trackDropped",c)},style:{background:n,opacity:.6,...this.props.style}})}}]),r})(M.default.Component);sB.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:()=>{}},sB.propTypes={enabled:z.exports.bool,style:z.exports.object,defaultTrackType:z.exports.object,draggingHappening:z.exports.object,onTrackDropped:z.exports.func,position:z.exports.string.isRequired,pubSub:z.exports.object.isRequired};const LD=x1(sB),Fg={"gallery-tracks":"_gallery-tracks_fbxxi_1","gallery-track":"_gallery-track_fbxxi_1","gallery-sub-track":"_gallery-sub-track_fbxxi_18","gallery-invisible-track":"_gallery-invisible-track_fbxxi_19"},hc={"tiled-plot":"_tiled-plot_1y7td_1",horizontalList:"_horizontalList_1y7td_7",list:"_list_1y7td_14",stylizedList:"_stylizedList_1y7td_21",stylizedItem:"_stylizedItem_1y7td_28",stylizedHelper:"_stylizedHelper_1y7td_39",horizontalItem:"_horizontalItem_1y7td_44"},BD={pointerEvents:"all"};let pK=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.state={hovering:!1},n}return j(r,[{key:"mouseEnterHandler",value:function(){this.setState({hovering:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({hovering:!1})}},{key:"render",value:function(){return M.default.createElement("div",{className:Kn("gallery-tracks",Fg["gallery-tracks"])},this.props.tracks&&this.props.tracks.map((n,s)=>M.default.createElement("div",{key:n.uid||s,className:Fg["gallery-track"],onMouseLeave:this.mouseLeaveHandler.bind(this),style:{top:n.height*s,right:n.height*s,bottom:n.height*s,left:n.height*s}},M.default.createElement("div",{className:Fg["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,right:0,left:0,height:n.height}}),M.default.createElement("div",{className:Fg["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,right:0,bottom:0,width:n.height}}),M.default.createElement("div",{className:Fg["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{right:0,bottom:0,left:0,height:n.height}}),M.default.createElement("div",{className:Fg["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,bottom:0,left:0,width:n.height}}),M.default.createElement("div",{className:Fg["gallery-invisible-track"],onMouseLeave:this.mouseLeaveHandler.bind(this),style:{top:n.height,right:n.height,bottom:n.height,left:n.height}}),this.props.editable&&M.default.createElement(ND,{configMenuVisible:!0,imgStyleAdd:BD,imgStyleClose:BD,imgStyleMove:BD,imgStyleSettings:BD,isMoveable:!1,isVisible:this.state.hovering,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:n.uid||s}))))}}]),r})(M.default.Component);pK.propTypes={editable:z.exports.bool,onCloseTrackMenuOpened:z.exports.func.isRequired,onConfigTrackMenuOpened:z.exports.func.isRequired,tracks:z.exports.array};let I1=(function(){function e(t){H(this,e),this.context=t;const{id:r,pubSub:i,getTheme:n}=t;i?this.pubSub=i:this.pubSub=oB,this.id=r,this._xScale=qr(),this._yScale=qr(),this._refXScale=qr(),this._refYScale=qr(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],n?this.getTheme=n:this.getTheme=()=>{},this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return j(e,[{key:"isWithin",value:function(r,i){let n=r,s=i,c=this.position[0],h=this.position[1];return this.isLeftModified&&(n=i,s=r,c=this.position[1],h=this.position[0]),eL(n,s,c,this.dimensions[0]+c,h,this.dimensions[1]+h)}},{key:"getProp",value:function(r){return()=>this[r]}},{key:"getData",value:function(){}},{key:"click",value:function(r,i,n){return{type:"generic",event:n,payload:null}}},{key:"clickOutside",value:function(){}},{key:"getDimensions",value:function(){return this.dimensions}},{key:"setDimensions",value:function(r){this.dimensions=r,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}},{key:"refXScale",value:function(r){return arguments.length?(this._refXScale=r,this):this._refXScale}},{key:"refYScale",value:function(r){return arguments.length?(this._refYScale=r,this):this._refYScale}},{key:"xScale",value:function(r){return arguments.length?(this._xScale=r,this):this._xScale}},{key:"yScale",value:function(r){return arguments.length?(this._yScale=r,this):this._yScale}},{key:"zoomed",value:function(r,i){this.xScale(r),this.yScale(i)}},{key:"refScalesChanged",value:function(r,i){this._refXScale=r,this._refYScale=i}},{key:"draw",value:function(){}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(r){this.position=r}},{key:"defaultMouseMoveHandler",value:function(r){}},{key:"remove",value:function(){this.pubSubs.forEach(r=>this.pubSub.unsubscribe(r)),this.pubSubs=[]}},{key:"rerender",value:function(){}},{key:"respondsToPosition",value:function(r,i){return this.isWithin(r,i)}},{key:"zoomedY",value:function(r,i){}},{key:"movedY",value:function(r){}}]),e})();function WMe(e,t){const r=Zc(t,e);return wl(`.${r}`,e)(e)}function YMe(e,t){const r=e.map(s=>+s).sort((s,c)=>c-s),i=r[t],n=r[r.length-1];return WMe(i,n)}function XMe(e,t,r,i){const n=t/(2**e*r);if(!Number.isNaN(n)){const s=t/(2**i*r),c=Zc(s,n);return wl(`.${c}`,n)(n)}return console.warn("NaN resolution, screen is probably too small."),""}let ks=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{scene:c}=i;s.scene=c,s.delayDrawing=!1,s.pBase=new er.PIXI.Graphics,s.pMasked=new er.PIXI.Graphics,s.pMask=new er.PIXI.Graphics,s.pMain=new er.PIXI.Graphics,s.pBorder=new er.PIXI.Graphics,s.pBackground=new er.PIXI.Graphics,s.pForeground=new er.PIXI.Graphics,s.pLabel=new er.PIXI.Graphics,s.pMobile=new er.PIXI.Graphics,s.pAxis=new er.PIXI.Graphics,s.pMouseOver=new er.PIXI.Graphics,s.scene.addChild(s.pBase),s.pBase.addChild(s.pMasked),s.pMasked.addChild(s.pBackground),s.pMasked.addChild(s.pMain),s.pMasked.addChild(s.pMask),s.pMasked.addChild(s.pMobile),s.pMasked.addChild(s.pBorder),s.pMasked.addChild(s.pLabel),s.pMasked.addChild(s.pForeground),s.pMasked.addChild(s.pMouseOver),s.pBase.addChild(s.pAxis),s.pMasked.mask=s.pMask,s.prevOptions="",s.options=Object.assign(s.options,n);const h=s.getName();return s.labelTextFontFamily="Arial",s.labelTextFontSize=12,s.labelXOffset=0,s.labelText=new er.PIXI.Text(h,{fontSize:`${s.labelTextFontSize}px`,fontFamily:s.labelTextFontFamily,fill:"black"}),s.pLabel.addChild(s.labelText),s.errorText=new er.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),s.errorText.anchor.x=.5,s.errorText.anchor.y=.5,s.pLabel.addChild(s.errorText),s}return j(r,[{key:"setLabelText",value:function(){}},{key:"setPosition",value:function(n){this.position=n,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setMask",value:function(n,s){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(n[0],n[1],s[0],s[1]),this.pMask.endFill()}},{key:"setForeground",value:function(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}},{key:"remove",value:function(){this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"drawBorder",value:function(){const n=this.pBorder;if(n.clear(),!this.options||!this.options.trackBorderWidth)return;const s=Pr(this.options.trackBorderColor?this.options.trackBorderColor:"white");n.lineStyle(this.options.trackBorderWidth,s),n.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}},{key:"drawError",value:function(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){const n=this.pBorder;n.clear(),n.lineStyle(1,Pr("red")),n.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawBackground",value:function(){const n=this.pBackground;if(n.clear(),!this.options||!this.options.backgroundColor)return;let s=1,c=this.options.backgroundColor;this.options.backgroundColor==="transparent"&&(s=0,c="white");const h=Pr(c);n.beginFill(h,s),n.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}},{key:"getLabelColor",value:function(){return this.options.labelColor&&this.options.labelColor!=="[glyph-color]"?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}},{key:"getName",value:function(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}},{key:"drawLabel",value:function(){if(!this.labelText)return;const n=this.pLabel;if(n.clear(),!this.options||!this.options.labelPosition||this.options.labelPosition==="hidden"){this.labelText.alpha=0;return}n.beginFill(Pr(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);const s=Pr(this.getLabelColor()),c=2;if(this.dimensions[0]<0)return;let h=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?`${this.tilesetInfo.coordSystem} | `:"";if(h+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){const _=XMe(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);h+=`
[Current data resolution: ${_}]`}else if(this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions){const _=YMe(this.tilesetInfo.resolutions,this.calculateZoomLevel());h+=`
[Current data resolution: ${_}]`}if(this.options&&this.options.dataTransform){let _=null;if(this.tilesetInfo&&this.tilesetInfo.transforms)for(const T of this.tilesetInfo.transforms)T.value===this.options.dataTransform&&(_=T);_?h+=`
[Transform: ${_.name}]`:this.options.dataTransform==="None"?h+=`
[Transform: None ]`:h+=`
[Transform: Default ]`}this.labelText.text=h,this.labelText.style={fontSize:`${this.labelTextFontSize}px`,fontFamily:this.labelTextFontFamily,fill:s},this.labelText.alpha=typeof this.options.labelTextOpacity<"u"?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);const p=+this.options.labelLeftMargin||0,m=+this.options.labelRightMargin||0,d=+this.options.labelTopMargin||0,E=+this.options.labelBottomMargin||0;this.options.labelPosition==="topLeft"?(this.labelText.x=this.position[0]+p+this.labelXOffset,this.labelText.y=this.position[1]+d,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,n.drawRect(this.position[0]+p+this.labelXOffset,this.position[1]+d,this.labelText.width+c,this.labelText.height+c)):this.options.labelPosition==="bottomLeft"&&!this.flipText||this.options.labelPosition==="topRight"&&this.flipText?(this.labelText.x=this.position[0]+(p||d),this.labelText.y=this.position[1]+this.dimensions[1]-(E||m),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,n.drawRect(this.position[0]+(p||d)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-c-(E||m),this.labelText.width+c,this.labelText.height+c)):this.options.labelPosition==="topRight"&&!this.flipText||this.options.labelPosition==="bottomLeft"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(m||E),this.labelText.y=this.position[1]+(d||p),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,n.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-c-(m||E)-this.labelXOffset,this.position[1]+(d||p),this.labelText.width+c,this.labelText.height+c)):this.options.labelPosition==="bottomRight"?(this.labelText.x=this.position[0]+this.dimensions[0]-m,this.labelText.y=this.position[1]+this.dimensions[1]-E,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,n.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-c-m-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-c-E,this.labelText.width+c,this.labelText.height+c)):this.options.labelPosition==="outerLeft"&&!this.flipText||this.options.labelPosition==="outerTop"&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):this.options.labelPosition==="outerTop"&&!this.flipText||this.options.labelPosition==="outerLeft"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):this.options.labelPosition==="outerBottom"&&!this.flipText||this.options.labelPosition==="outerRight"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):this.options.labelPosition==="outerRight"&&!this.flipText||this.options.labelPosition==="outerBottom"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,this.options.labelPosition==="outerLeft"||this.options.labelPosition==="outerRight"||this.options.labelPosition==="outerTop"||this.options.labelPosition==="outerBottom"?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}},{key:"rerender",value:function(n){this.options=n,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}},{key:"draw",value:function(){this.drawError()}},{key:"exportSVG",value:function(){const n=document.createElement("g"),s=document.createElement("rect");s.setAttribute("x",`${this.position[0]}`),s.setAttribute("y",`${this.position[1]}`),s.setAttribute("width",`${this.dimensions[0]}`),s.setAttribute("height",`${this.dimensions[1]}`),this.options&&this.options.backgroundColor?s.setAttribute("fill",this.options.backgroundColor):s.setAttribute("fill-opacity","0");const c=document.createElement("g");c.setAttribute("class","g-clipped"),n.appendChild(c),c.appendChild(s);const h=document.createElement("g");c.setAttribute("class","g-track"),c.appendChild(h);const p=document.createElement("g");c.setAttribute("class","g-labels"),c.appendChild(p);const m=document.createElementNS("http://www.w3.org/2000/svg","clipPath");n.appendChild(m);const d=document.createElementNS("http://www.w3.org/2000/svg","polygon");m.appendChild(d),d.setAttribute("points",`${this.position[0]},${this.position[1]} ${this.position[0]+this.dimensions[0]},${this.position[1]} ${this.position[0]+this.dimensions[0]},${this.position[1]+this.dimensions[1]} ${this.position[0]},${this.position[1]+this.dimensions[1]} `);const E=hn.nice();m.setAttribute("id",E),c.setAttribute("style",`clip-path:url(#${E});`);const _=this.labelText.text.split(`
`);let T=0;const A=(this.labelTextFontSize+2)*_.length+3;this.labelText.anchor.y===.5?T=A/2:this.labelText.anchor.y===1&&(T=-A);for(let D=0;D<_.length;D++){const O=document.createElement("text");if(O.setAttribute("font-family",this.labelTextFontFamily),O.setAttribute("font-size",`${this.labelTextFontSize}px`),O.innerText=_[D],this.options.labelPosition==="topLeft"||this.options.labelPosition==="topRight"){const B=T+(D+1)*(this.labelTextFontSize+2);O.setAttribute("dy",B)}else(this.options.labelPosition==="bottomLeft"||this.options.labelPosition==="bottomRight")&&O.setAttribute("dy",T+D*(this.labelTextFontSize+2));O.setAttribute("fill",this.options.labelColor),this.labelText.anchor.x===.5?O.setAttribute("text-anchor","middle"):this.labelText.anchor.x===1&&O.setAttribute("text-anchor","end"),p.appendChild(O)}return p.setAttribute("transform",`translate(${this.labelText.x},${this.labelText.y})scale(${this.labelText.scale.x},1)`),[n,h]}}]),r})(I1),FD=(function(){function e(t,r){if(H(this,e),this.tilesetInfoLoading=!0,!t){console.error("No dataconfig provided");return}this.dataConfig=JSON.parse(JSON.stringify(t)),this.uuid=hn.nice(),this.pubSub=r,this.dataConfig.children&&(this.dataConfig.children=t.children.map(i=>new e(i,r)))}return j(e,[{key:"registerFileUrl",value:async function({server:r,url:i,filetype:n,coordSystem:s}){const c=`${tI(r)}/register_url/`;return fetch(c,{method:"POST",body:JSON.stringify({fileurl:i,filetype:n,coordSystem:s}),headers:{"Content-Type":"application/json; charset=utf-8"}})}},{key:"tilesetInfo",value:function(r){return this.dataConfig.server&&this.dataConfig.url&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig).then(i=>i.json()).then(i=>{this.dataConfig.tilesetUid=i.uid,this.tilesetInfoAfterRegister(r)}).catch(i=>{console.error("Error registering url",i)}):new Promise(()=>{this.tilesetInfoAfterRegister(r)})}},{key:"tilesetInfoAfterRegister",value:function(r){if(!this.dataConfig.children)!this.dataConfig.server||!this.dataConfig.tilesetUid?(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),r(null)):yr.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,i=>{this.dataConfig.tilesetInfo=i[this.dataConfig.tilesetUid],r(i[this.dataConfig.tilesetUid],this.dataConfig.tilesetUid)},i=>{this.tilesetInfoLoading=!1,r({error:i})},this.pubSub);else{const i=this.dataConfig.children.map(n=>new Promise(s=>{n.tilesetInfo(s)}));Promise.all(i).then(n=>{r(n[0])})}}},{key:"fullTileId",value:function(r,i){return`${r}.${i}`}},{key:"fetchTilesDebounced",value:function(r,i){if(this.dataConfig.type==="horizontal-section")this.fetchHorizontalSection(r,i);else if(this.dataConfig.type==="vertical-section")this.fetchHorizontalSection(r,i,!0);else if(!this.dataConfig.children&&this.dataConfig.tilesetUid)new Promise(s=>{yr.fetchTilesDebounced({id:hn.nice(),server:this.dataConfig.server,done:s,ids:i.map(c=>`${this.dataConfig.tilesetUid}.${c}`),options:this.dataConfig.options},this.pubSub,!0)}).then(s=>{const c=vi(s)[0].tilesetUid,h={};for(let p=0;p<i.length;p++){const m=this.fullTileId(c,i[p]);s[m].tilePositionId=i[p],h[i[p]]=s[m]}r(h)});else{const n=this.dataConfig.children.map(s=>new Promise(c=>{s.fetchTilesDebounced(c,i)},this.pubSub,!0));Promise.all(n).then(s=>{if(this.dataConfig.type==="divided"){const c=this.makeDivided(s,i);r(c)}else console.warn("Unimplemented dataConfig type. Returning first data source.",this.dataConfig),r(s[0])})}}},{key:"divideData",value:function(r,i){const n=new Float32Array(r.length);for(let s=0;s<n.length;s++)i[s]===0?n[s]=NaN:n[s]=r[s]/i[s];return n}},{key:"horizontalSlice",value:function(){return null}},{key:"extractDataSlice",value:function(r,i,n,s){if(!s)return r.slice(i[1]*n,i[1]*(n+1));const c=new Array(i[1]);for(let h=n;h<r.length;h+=i[0])c[Math.floor(h/i[0])]=r[h];return c}},{key:"fetchHorizontalSection",value:function(r,i,n=!1){const s=[],c=[];for(const p of i){const m=p.split("."),d=+m[0],E=+m[1],_=qr().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]);let T=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){const D=this.dataConfig.tilesetInfo.resolutions.map(O=>+O).sort((O,B)=>B-O);T=yr.calculateTilesFromResolution(D[d],_,this.dataConfig.tilesetInfo.min_pos[n?1:0],this.dataConfig.tilesetInfo.max_pos[n?1:0])}else T=yr.calculateTiles(d,_,this.dataConfig.tilesetInfo.min_pos[n?1:0],this.dataConfig.tilesetInfo.max_pos[n?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);const C=[E,T[0]].sort((D,O)=>D-O);C[0]===E?c.push(!1):c.push(!0);const A=`${d}.${C[0]}.${C[1]}`;s.push(A)}new Promise(p=>{yr.fetchTilesDebounced({id:hn.nice(),server:this.dataConfig.server,done:p,ids:s.map(m=>`${this.dataConfig.tilesetUid}.${m}`)},this.pubSub,!0)}).then(p=>{const m=vi(p)[0].tilesetUid,d={};for(let E=0;E<s.length;E++){const _=s[E].split("."),T=+_[0],C=+_[1],A=+_[2],D=yr.calculateTileAndPosInTile(this.dataConfig.tilesetInfo,this.dataConfig.tilesetInfo.max_width,this.dataConfig.tilesetInfo.min_pos[1],T,+this.dataConfig.slicePos)[1],O=this.fullTileId(m,s[E]),B=p[O];let P=null;if(C===A){P=this.extractDataSlice(B.dense,[256,256],D);const $=this.extractDataSlice(B.dense,[256,256],D,1);for(let W=0;W<P.length;W++)P[W]+=$[W]}else c[E]?P=this.extractDataSlice(B.dense,[256,256],D,1):P=this.extractDataSlice(B.dense,[256,256],D);const R={min_value:Math.min.apply(null,P),max_value:Math.max.apply(null,P),denseDataExtrema:new iI(P),minNonZero:nL(P),maxNonZero:rL(P),dense:P,dtype:B.dtype,server:B.server,tilePos:c[E]?[A]:[C],tilePositionId:i[E],tilesetUid:m,zoomLevel:B.zoomLevel};d[i[E]]=R}r(d)})}},{key:"makeDivided",value:function(r,i){r.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);const n={};for(let s=0;s<i.length;s++){const c=r[0][i[s]].zoomLevel,h=r[0][i[s]].tilePos;let p={zoomLevel:c,tilePos:h,tilePositionId:i[s]};if(r[0][i[s]].dense&&r[1][i[s]].dense){const m=this.divideData(r[0][i[s]].dense,r[1][i[s]].dense),d=h.length===2?new cL(m):new iI(m);p={dense:m,denseDataExtrema:d,minNonZero:nL(m),maxNonZero:rL(m),zoomLevel:c,tilePos:h,tilePositionId:i[s]}}n[i[s]]=p}return n}}]),e})();var Ff={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(s,c){return Object.prototype.hasOwnProperty.call(s,c)}e.assign=function(s){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var h=c.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)r(h,p)&&(s[p]=h[p])}}return s},e.shrinkBuf=function(s,c){return s.length===c?s:s.subarray?s.subarray(0,c):(s.length=c,s)};var i={arraySet:function(s,c,h,p,m){if(c.subarray&&s.subarray){s.set(c.subarray(h,h+p),m);return}for(var d=0;d<p;d++)s[m+d]=c[h+d]},flattenChunks:function(s){var c,h,p,m,d,E;for(p=0,c=0,h=s.length;c<h;c++)p+=s[c].length;for(E=new Uint8Array(p),m=0,c=0,h=s.length;c<h;c++)d=s[c],E.set(d,m),m+=d.length;return E}},n={arraySet:function(s,c,h,p,m){for(var d=0;d<p;d++)s[m+d]=c[h+d]},flattenChunks:function(s){return[].concat.apply([],s)}};e.setTyped=function(s){s?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,n))},e.setTyped(t)})(Ff);var vS={},xh={},D1={},qMe=Ff,KMe=4,mK=0,gK=1,ZMe=2;function O1(e){for(var t=e.length;--t>=0;)e[t]=0}var QMe=0,vK=1,JMe=2,eLe=3,tLe=258,lB=29,yS=256,_S=yS+1+lB,k1=30,uB=19,yK=2*_S+1,Ug=15,cB=16,rLe=7,hB=256,_K=16,EK=17,TK=18,fB=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],UD=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nLe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bK=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],iLe=512,Uf=new Array((_S+2)*2);O1(Uf);var ES=new Array(k1*2);O1(ES);var TS=new Array(iLe);O1(TS);var bS=new Array(tLe-eLe+1);O1(bS);var dB=new Array(lB);O1(dB);var HD=new Array(k1);O1(HD);function pB(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}var SK,CK,AK;function mB(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function wK(e){return e<256?TS[e]:TS[256+(e>>>7)]}function SS(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function tl(e,t,r){e.bi_valid>cB-r?(e.bi_buf|=t<<e.bi_valid&65535,SS(e,e.bi_buf),e.bi_buf=t>>cB-e.bi_valid,e.bi_valid+=r-cB):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Ih(e,t,r){tl(e,r[t*2],r[t*2+1])}function xK(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function aLe(e){e.bi_valid===16?(SS(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function oLe(e,t){var r=t.dyn_tree,i=t.max_code,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m,d,E,_,T,C,A=0;for(_=0;_<=Ug;_++)e.bl_count[_]=0;for(r[e.heap[e.heap_max]*2+1]=0,m=e.heap_max+1;m<yK;m++)d=e.heap[m],_=r[r[d*2+1]*2+1]+1,_>p&&(_=p,A++),r[d*2+1]=_,!(d>i)&&(e.bl_count[_]++,T=0,d>=h&&(T=c[d-h]),C=r[d*2],e.opt_len+=C*(_+T),s&&(e.static_len+=C*(n[d*2+1]+T)));if(A!==0){do{for(_=p-1;e.bl_count[_]===0;)_--;e.bl_count[_]--,e.bl_count[_+1]+=2,e.bl_count[p]--,A-=2}while(A>0);for(_=p;_!==0;_--)for(d=e.bl_count[_];d!==0;)E=e.heap[--m],!(E>i)&&(r[E*2+1]!==_&&(e.opt_len+=(_-r[E*2+1])*r[E*2],r[E*2+1]=_),d--)}}function IK(e,t,r){var i=new Array(Ug+1),n=0,s,c;for(s=1;s<=Ug;s++)i[s]=n=n+r[s-1]<<1;for(c=0;c<=t;c++){var h=e[c*2+1];h!==0&&(e[c*2]=xK(i[h]++,h))}}function sLe(){var e,t,r,i,n,s=new Array(Ug+1);for(r=0,i=0;i<lB-1;i++)for(dB[i]=r,e=0;e<1<<fB[i];e++)bS[r++]=i;for(bS[r-1]=i,n=0,i=0;i<16;i++)for(HD[i]=n,e=0;e<1<<UD[i];e++)TS[n++]=i;for(n>>=7;i<k1;i++)for(HD[i]=n<<7,e=0;e<1<<UD[i]-7;e++)TS[256+n++]=i;for(t=0;t<=Ug;t++)s[t]=0;for(e=0;e<=143;)Uf[e*2+1]=8,e++,s[8]++;for(;e<=255;)Uf[e*2+1]=9,e++,s[9]++;for(;e<=279;)Uf[e*2+1]=7,e++,s[7]++;for(;e<=287;)Uf[e*2+1]=8,e++,s[8]++;for(IK(Uf,_S+1,s),e=0;e<k1;e++)ES[e*2+1]=5,ES[e*2]=xK(e,5);SK=new pB(Uf,fB,yS+1,_S,Ug),CK=new pB(ES,UD,0,k1,Ug),AK=new pB(new Array(0),nLe,0,uB,rLe)}function DK(e){var t;for(t=0;t<_S;t++)e.dyn_ltree[t*2]=0;for(t=0;t<k1;t++)e.dyn_dtree[t*2]=0;for(t=0;t<uB;t++)e.bl_tree[t*2]=0;e.dyn_ltree[hB*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function OK(e){e.bi_valid>8?SS(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function lLe(e,t,r,i){OK(e),SS(e,r),SS(e,~r),qMe.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function kK(e,t,r,i){var n=t*2,s=r*2;return e[n]<e[s]||e[n]===e[s]&&i[t]<=i[r]}function gB(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&kK(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!kK(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function PK(e,t,r){var i,n,s=0,c,h;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],n=e.pending_buf[e.l_buf+s],s++,i===0?Ih(e,n,t):(c=bS[n],Ih(e,c+yS+1,t),h=fB[c],h!==0&&(n-=dB[c],tl(e,n,h)),i--,c=wK(i),Ih(e,c,r),h=UD[c],h!==0&&(i-=HD[c],tl(e,i,h)));while(s<e.last_lit);Ih(e,hB,t)}function vB(e,t){var r=t.dyn_tree,i=t.stat_desc.static_tree,n=t.stat_desc.has_stree,s=t.stat_desc.elems,c,h,p=-1,m;for(e.heap_len=0,e.heap_max=yK,c=0;c<s;c++)r[c*2]!==0?(e.heap[++e.heap_len]=p=c,e.depth[c]=0):r[c*2+1]=0;for(;e.heap_len<2;)m=e.heap[++e.heap_len]=p<2?++p:0,r[m*2]=1,e.depth[m]=0,e.opt_len--,n&&(e.static_len-=i[m*2+1]);for(t.max_code=p,c=e.heap_len>>1;c>=1;c--)gB(e,r,c);m=s;do c=e.heap[1],e.heap[1]=e.heap[e.heap_len--],gB(e,r,1),h=e.heap[1],e.heap[--e.heap_max]=c,e.heap[--e.heap_max]=h,r[m*2]=r[c*2]+r[h*2],e.depth[m]=(e.depth[c]>=e.depth[h]?e.depth[c]:e.depth[h])+1,r[c*2+1]=r[h*2+1]=m,e.heap[1]=m++,gB(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],oLe(e,t),IK(r,p,e.bl_count)}function RK(e,t,r){var i,n=-1,s,c=t[1],h=0,p=7,m=4;for(c===0&&(p=138,m=3),t[(r+1)*2+1]=65535,i=0;i<=r;i++)s=c,c=t[(i+1)*2+1],!(++h<p&&s===c)&&(h<m?e.bl_tree[s*2]+=h:s!==0?(s!==n&&e.bl_tree[s*2]++,e.bl_tree[_K*2]++):h<=10?e.bl_tree[EK*2]++:e.bl_tree[TK*2]++,h=0,n=s,c===0?(p=138,m=3):s===c?(p=6,m=3):(p=7,m=4))}function NK(e,t,r){var i,n=-1,s,c=t[1],h=0,p=7,m=4;for(c===0&&(p=138,m=3),i=0;i<=r;i++)if(s=c,c=t[(i+1)*2+1],!(++h<p&&s===c)){if(h<m)do Ih(e,s,e.bl_tree);while(--h!==0);else s!==0?(s!==n&&(Ih(e,s,e.bl_tree),h--),Ih(e,_K,e.bl_tree),tl(e,h-3,2)):h<=10?(Ih(e,EK,e.bl_tree),tl(e,h-3,3)):(Ih(e,TK,e.bl_tree),tl(e,h-11,7));h=0,n=s,c===0?(p=138,m=3):s===c?(p=6,m=3):(p=7,m=4)}}function uLe(e){var t;for(RK(e,e.dyn_ltree,e.l_desc.max_code),RK(e,e.dyn_dtree,e.d_desc.max_code),vB(e,e.bl_desc),t=uB-1;t>=3&&e.bl_tree[bK[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function cLe(e,t,r,i){var n;for(tl(e,t-257,5),tl(e,r-1,5),tl(e,i-4,4),n=0;n<i;n++)tl(e,e.bl_tree[bK[n]*2+1],3);NK(e,e.dyn_ltree,t-1),NK(e,e.dyn_dtree,r-1)}function hLe(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return mK;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return gK;for(r=32;r<yS;r++)if(e.dyn_ltree[r*2]!==0)return gK;return mK}var MK=!1;function fLe(e){MK||(sLe(),MK=!0),e.l_desc=new mB(e.dyn_ltree,SK),e.d_desc=new mB(e.dyn_dtree,CK),e.bl_desc=new mB(e.bl_tree,AK),e.bi_buf=0,e.bi_valid=0,DK(e)}function LK(e,t,r,i){tl(e,(QMe<<1)+(i?1:0),3),lLe(e,t,r)}function dLe(e){tl(e,vK<<1,3),Ih(e,hB,Uf),aLe(e)}function pLe(e,t,r,i){var n,s,c=0;e.level>0?(e.strm.data_type===ZMe&&(e.strm.data_type=hLe(e)),vB(e,e.l_desc),vB(e,e.d_desc),c=uLe(e),n=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=n&&(n=s)):n=s=r+5,r+4<=n&&t!==-1?LK(e,t,r,i):e.strategy===KMe||s===n?(tl(e,(vK<<1)+(i?1:0),3),PK(e,Uf,ES)):(tl(e,(JMe<<1)+(i?1:0),3),cLe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),PK(e,e.dyn_ltree,e.dyn_dtree)),DK(e),i&&OK(e)}function mLe(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(bS[r]+yS+1)*2]++,e.dyn_dtree[wK(t)*2]++),e.last_lit===e.lit_bufsize-1}D1._tr_init=fLe,D1._tr_stored_block=LK,D1._tr_flush_block=pLe,D1._tr_tally=mLe,D1._tr_align=dLe;function gLe(e,t,r,i){for(var n=e&65535|0,s=e>>>16&65535|0,c=0;r!==0;){c=r>2e3?2e3:r,r-=c;do n=n+t[i++]|0,s=s+n|0;while(--c);n%=65521,s%=65521}return n|s<<16|0}var BK=gLe;function vLe(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var yLe=vLe();function _Le(e,t,r,i){var n=yLe,s=i+r;e^=-1;for(var c=i;c<s;c++)e=e>>>8^n[(e^t[c])&255];return e^-1}var FK=_Le,yB={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ps=Ff,vu=D1,UK=BK,gp=FK,ELe=yB,Hg=0,TLe=1,bLe=3,vp=4,HK=5,Dh=0,$K=1,yu=-2,SLe=-3,_B=-5,CLe=-1,ALe=1,$D=2,wLe=3,xLe=4,ILe=0,DLe=2,GD=8,OLe=9,kLe=15,PLe=8,RLe=29,NLe=256,EB=NLe+1+RLe,MLe=30,LLe=19,BLe=2*EB+1,FLe=15,$n=3,yp=258,fc=yp+$n+1,ULe=32,zD=42,TB=69,jD=73,VD=91,WD=103,$g=113,CS=666,uo=1,AS=2,Gg=3,P1=4,HLe=3;function _p(e,t){return e.msg=ELe[t],t}function GK(e){return(e<<1)-(e>4?9:0)}function Ep(e){for(var t=e.length;--t>=0;)e[t]=0}function Tp(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(Ps.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function Ho(e,t){vu._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Tp(e.strm)}function ti(e,t){e.pending_buf[e.pending++]=t}function wS(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function $Le(e,t,r,i){var n=e.avail_in;return n>i&&(n=i),n===0?0:(e.avail_in-=n,Ps.arraySet(t,e.input,e.next_in,n,r),e.state.wrap===1?e.adler=UK(e.adler,t,n,r):e.state.wrap===2&&(e.adler=gp(e.adler,t,n,r)),e.next_in+=n,e.total_in+=n,n)}function zK(e,t){var r=e.max_chain_length,i=e.strstart,n,s,c=e.prev_length,h=e.nice_match,p=e.strstart>e.w_size-fc?e.strstart-(e.w_size-fc):0,m=e.window,d=e.w_mask,E=e.prev,_=e.strstart+yp,T=m[i+c-1],C=m[i+c];e.prev_length>=e.good_match&&(r>>=2),h>e.lookahead&&(h=e.lookahead);do if(n=t,!(m[n+c]!==C||m[n+c-1]!==T||m[n]!==m[i]||m[++n]!==m[i+1])){i+=2,n++;do;while(m[++i]===m[++n]&&m[++i]===m[++n]&&m[++i]===m[++n]&&m[++i]===m[++n]&&m[++i]===m[++n]&&m[++i]===m[++n]&&m[++i]===m[++n]&&m[++i]===m[++n]&&i<_);if(s=yp-(_-i),i=_-yp,s>c){if(e.match_start=t,c=s,s>=h)break;T=m[i+c-1],C=m[i+c]}}while((t=E[t&d])>p&&--r!==0);return c<=e.lookahead?c:e.lookahead}function zg(e){var t=e.w_size,r,i,n,s,c;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-fc)){Ps.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,r=i;do n=e.head[--r],e.head[r]=n>=t?n-t:0;while(--i);i=t,r=i;do n=e.prev[--r],e.prev[r]=n>=t?n-t:0;while(--i);s+=t}if(e.strm.avail_in===0)break;if(i=$Le(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=i,e.lookahead+e.insert>=$n)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+$n-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<$n)););}while(e.lookahead<fc&&e.strm.avail_in!==0)}function GLe(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(zg(e),e.lookahead===0&&t===Hg)return uo;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Ho(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-fc&&(Ho(e,!1),e.strm.avail_out===0))return uo}return e.insert=0,t===vp?(Ho(e,!0),e.strm.avail_out===0?Gg:P1):(e.strstart>e.block_start&&(Ho(e,!1),e.strm.avail_out===0),uo)}function bB(e,t){for(var r,i;;){if(e.lookahead<fc){if(zg(e),e.lookahead<fc&&t===Hg)return uo;if(e.lookahead===0)break}if(r=0,e.lookahead>=$n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$n-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-fc&&(e.match_length=zK(e,r)),e.match_length>=$n)if(i=vu._tr_tally(e,e.strstart-e.match_start,e.match_length-$n),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=$n){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$n-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=vu._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Ho(e,!1),e.strm.avail_out===0))return uo}return e.insert=e.strstart<$n-1?e.strstart:$n-1,t===vp?(Ho(e,!0),e.strm.avail_out===0?Gg:P1):e.last_lit&&(Ho(e,!1),e.strm.avail_out===0)?uo:AS}function R1(e,t){for(var r,i,n;;){if(e.lookahead<fc){if(zg(e),e.lookahead<fc&&t===Hg)return uo;if(e.lookahead===0)break}if(r=0,e.lookahead>=$n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$n-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=$n-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-fc&&(e.match_length=zK(e,r),e.match_length<=5&&(e.strategy===ALe||e.match_length===$n&&e.strstart-e.match_start>4096)&&(e.match_length=$n-1)),e.prev_length>=$n&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-$n,i=vu._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-$n),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$n-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=$n-1,e.strstart++,i&&(Ho(e,!1),e.strm.avail_out===0))return uo}else if(e.match_available){if(i=vu._tr_tally(e,0,e.window[e.strstart-1]),i&&Ho(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return uo}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=vu._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<$n-1?e.strstart:$n-1,t===vp?(Ho(e,!0),e.strm.avail_out===0?Gg:P1):e.last_lit&&(Ho(e,!1),e.strm.avail_out===0)?uo:AS}function zLe(e,t){for(var r,i,n,s,c=e.window;;){if(e.lookahead<=yp){if(zg(e),e.lookahead<=yp&&t===Hg)return uo;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=$n&&e.strstart>0&&(n=e.strstart-1,i=c[n],i===c[++n]&&i===c[++n]&&i===c[++n])){s=e.strstart+yp;do;while(i===c[++n]&&i===c[++n]&&i===c[++n]&&i===c[++n]&&i===c[++n]&&i===c[++n]&&i===c[++n]&&i===c[++n]&&n<s);e.match_length=yp-(s-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=$n?(r=vu._tr_tally(e,1,e.match_length-$n),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=vu._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ho(e,!1),e.strm.avail_out===0))return uo}return e.insert=0,t===vp?(Ho(e,!0),e.strm.avail_out===0?Gg:P1):e.last_lit&&(Ho(e,!1),e.strm.avail_out===0)?uo:AS}function jLe(e,t){for(var r;;){if(e.lookahead===0&&(zg(e),e.lookahead===0)){if(t===Hg)return uo;break}if(e.match_length=0,r=vu._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ho(e,!1),e.strm.avail_out===0))return uo}return e.insert=0,t===vp?(Ho(e,!0),e.strm.avail_out===0?Gg:P1):e.last_lit&&(Ho(e,!1),e.strm.avail_out===0)?uo:AS}function Oh(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}var N1;N1=[new Oh(0,0,0,0,GLe),new Oh(4,4,8,4,bB),new Oh(4,5,16,8,bB),new Oh(4,6,32,32,bB),new Oh(4,4,16,16,R1),new Oh(8,16,32,32,R1),new Oh(8,16,128,128,R1),new Oh(8,32,128,256,R1),new Oh(32,128,258,1024,R1),new Oh(32,258,258,4096,R1)];function VLe(e){e.window_size=2*e.w_size,Ep(e.head),e.max_lazy_match=N1[e.level].max_lazy,e.good_match=N1[e.level].good_length,e.nice_match=N1[e.level].nice_length,e.max_chain_length=N1[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=$n-1,e.match_available=0,e.ins_h=0}function WLe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=GD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ps.Buf16(BLe*2),this.dyn_dtree=new Ps.Buf16((2*MLe+1)*2),this.bl_tree=new Ps.Buf16((2*LLe+1)*2),Ep(this.dyn_ltree),Ep(this.dyn_dtree),Ep(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ps.Buf16(FLe+1),this.heap=new Ps.Buf16(2*EB+1),Ep(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ps.Buf16(2*EB+1),Ep(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function jK(e){var t;return!e||!e.state?_p(e,yu):(e.total_in=e.total_out=0,e.data_type=DLe,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?zD:$g,e.adler=t.wrap===2?0:1,t.last_flush=Hg,vu._tr_init(t),Dh)}function VK(e){var t=jK(e);return t===Dh&&VLe(e.state),t}function YLe(e,t){return!e||!e.state||e.state.wrap!==2?yu:(e.state.gzhead=t,Dh)}function WK(e,t,r,i,n,s){if(!e)return yu;var c=1;if(t===CLe&&(t=6),i<0?(c=0,i=-i):i>15&&(c=2,i-=16),n<1||n>OLe||r!==GD||i<8||i>15||t<0||t>9||s<0||s>xLe)return _p(e,yu);i===8&&(i=9);var h=new WLe;return e.state=h,h.strm=e,h.wrap=c,h.gzhead=null,h.w_bits=i,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=n+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+$n-1)/$n),h.window=new Ps.Buf8(h.w_size*2),h.head=new Ps.Buf16(h.hash_size),h.prev=new Ps.Buf16(h.w_size),h.lit_bufsize=1<<n+6,h.pending_buf_size=h.lit_bufsize*4,h.pending_buf=new Ps.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=t,h.strategy=s,h.method=r,VK(e)}function XLe(e,t){return WK(e,t,GD,kLe,PLe,ILe)}function qLe(e,t){var r,i,n,s;if(!e||!e.state||t>HK||t<0)return e?_p(e,yu):yu;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===CS&&t!==vp)return _p(e,e.avail_out===0?_B:yu);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===zD)if(i.wrap===2)e.adler=0,ti(i,31),ti(i,139),ti(i,8),i.gzhead?(ti(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ti(i,i.gzhead.time&255),ti(i,i.gzhead.time>>8&255),ti(i,i.gzhead.time>>16&255),ti(i,i.gzhead.time>>24&255),ti(i,i.level===9?2:i.strategy>=$D||i.level<2?4:0),ti(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(ti(i,i.gzhead.extra.length&255),ti(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=gp(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=TB):(ti(i,0),ti(i,0),ti(i,0),ti(i,0),ti(i,0),ti(i,i.level===9?2:i.strategy>=$D||i.level<2?4:0),ti(i,HLe),i.status=$g);else{var c=GD+(i.w_bits-8<<4)<<8,h=-1;i.strategy>=$D||i.level<2?h=0:i.level<6?h=1:i.level===6?h=2:h=3,c|=h<<6,i.strstart!==0&&(c|=ULe),c+=31-c%31,i.status=$g,wS(i,c),i.strstart!==0&&(wS(i,e.adler>>>16),wS(i,e.adler&65535)),e.adler=1}if(i.status===TB)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=gp(e.adler,i.pending_buf,i.pending-n,n)),Tp(e),n=i.pending,i.pending===i.pending_buf_size));)ti(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=gp(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=jD)}else i.status=jD;if(i.status===jD)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=gp(e.adler,i.pending_buf,i.pending-n,n)),Tp(e),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.name.length?s=i.gzhead.name.charCodeAt(i.gzindex++)&255:s=0,ti(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=gp(e.adler,i.pending_buf,i.pending-n,n)),s===0&&(i.gzindex=0,i.status=VD)}else i.status=VD;if(i.status===VD)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=gp(e.adler,i.pending_buf,i.pending-n,n)),Tp(e),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.comment.length?s=i.gzhead.comment.charCodeAt(i.gzindex++)&255:s=0,ti(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=gp(e.adler,i.pending_buf,i.pending-n,n)),s===0&&(i.status=WD)}else i.status=WD;if(i.status===WD&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Tp(e),i.pending+2<=i.pending_buf_size&&(ti(i,e.adler&255),ti(i,e.adler>>8&255),e.adler=0,i.status=$g)):i.status=$g),i.pending!==0){if(Tp(e),e.avail_out===0)return i.last_flush=-1,Dh}else if(e.avail_in===0&&GK(t)<=GK(r)&&t!==vp)return _p(e,_B);if(i.status===CS&&e.avail_in!==0)return _p(e,_B);if(e.avail_in!==0||i.lookahead!==0||t!==Hg&&i.status!==CS){var p=i.strategy===$D?jLe(i,t):i.strategy===wLe?zLe(i,t):N1[i.level].func(i,t);if((p===Gg||p===P1)&&(i.status=CS),p===uo||p===Gg)return e.avail_out===0&&(i.last_flush=-1),Dh;if(p===AS&&(t===TLe?vu._tr_align(i):t!==HK&&(vu._tr_stored_block(i,0,0,!1),t===bLe&&(Ep(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Tp(e),e.avail_out===0))return i.last_flush=-1,Dh}return t!==vp?Dh:i.wrap<=0?$K:(i.wrap===2?(ti(i,e.adler&255),ti(i,e.adler>>8&255),ti(i,e.adler>>16&255),ti(i,e.adler>>24&255),ti(i,e.total_in&255),ti(i,e.total_in>>8&255),ti(i,e.total_in>>16&255),ti(i,e.total_in>>24&255)):(wS(i,e.adler>>>16),wS(i,e.adler&65535)),Tp(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Dh:$K)}function KLe(e){var t;return!e||!e.state?yu:(t=e.state.status,t!==zD&&t!==TB&&t!==jD&&t!==VD&&t!==WD&&t!==$g&&t!==CS?_p(e,yu):(e.state=null,t===$g?_p(e,SLe):Dh))}function ZLe(e,t){var r=t.length,i,n,s,c,h,p,m,d;if(!e||!e.state||(i=e.state,c=i.wrap,c===2||c===1&&i.status!==zD||i.lookahead))return yu;for(c===1&&(e.adler=UK(e.adler,t,r,0)),i.wrap=0,r>=i.w_size&&(c===0&&(Ep(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new Ps.Buf8(i.w_size),Ps.arraySet(d,t,r-i.w_size,i.w_size,0),t=d,r=i.w_size),h=e.avail_in,p=e.next_in,m=e.input,e.avail_in=r,e.next_in=0,e.input=t,zg(i);i.lookahead>=$n;){n=i.strstart,s=i.lookahead-($n-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+$n-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++;while(--s);i.strstart=n,i.lookahead=$n-1,zg(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=$n-1,i.match_available=0,e.next_in=p,e.input=m,e.avail_in=h,i.wrap=c,Dh}xh.deflateInit=XLe,xh.deflateInit2=WK,xh.deflateReset=VK,xh.deflateResetKeep=jK,xh.deflateSetHeader=YLe,xh.deflate=qLe,xh.deflateEnd=KLe,xh.deflateSetDictionary=ZLe,xh.deflateInfo="pako deflate (from Nodeca project)";var jg={},YD=Ff,YK=!0,XK=!0;try{String.fromCharCode.apply(null,[0])}catch{YK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{XK=!1}for(var xS=new YD.Buf8(256),bp=0;bp<256;bp++)xS[bp]=bp>=252?6:bp>=248?5:bp>=240?4:bp>=224?3:bp>=192?2:1;xS[254]=xS[254]=1,jg.string2buf=function(e){var t,r,i,n,s,c=e.length,h=0;for(n=0;n<c;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<c&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),h+=r<128?1:r<2048?2:r<65536?3:4;for(t=new YD.Buf8(h),s=0,n=0;s<h;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<c&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};function qK(e,t){if(t<65534&&(e.subarray&&XK||!e.subarray&&YK))return String.fromCharCode.apply(null,YD.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}jg.buf2binstring=function(e){return qK(e,e.length)},jg.binstring2buf=function(e){for(var t=new YD.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},jg.buf2string=function(e,t){var r,i,n,s,c=t||e.length,h=new Array(c*2);for(i=0,r=0;r<c;){if(n=e[r++],n<128){h[i++]=n;continue}if(s=xS[n],s>4){h[i++]=65533,r+=s-1;continue}for(n&=s===2?31:s===3?15:7;s>1&&r<c;)n=n<<6|e[r++]&63,s--;if(s>1){h[i++]=65533;continue}n<65536?h[i++]=n:(n-=65536,h[i++]=55296|n>>10&1023,h[i++]=56320|n&1023)}return qK(h,i)},jg.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+xS[e[r]]>t?r:t};function QLe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var KK=QLe,IS=xh,DS=Ff,SB=jg,CB=yB,JLe=KK,ZK=Object.prototype.toString,e2e=0,AB=4,M1=0,QK=1,JK=2,t2e=-1,r2e=0,n2e=8;function Vg(e){if(!(this instanceof Vg))return new Vg(e);this.options=DS.assign({level:t2e,method:n2e,chunkSize:16384,windowBits:15,memLevel:8,strategy:r2e,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JLe,this.strm.avail_out=0;var r=IS.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==M1)throw new Error(CB[r]);if(t.header&&IS.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(typeof t.dictionary=="string"?i=SB.string2buf(t.dictionary):ZK.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,r=IS.deflateSetDictionary(this.strm,i),r!==M1)throw new Error(CB[r]);this._dict_set=!0}}Vg.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize,n,s;if(this.ended)return!1;s=t===~~t?t:t===!0?AB:e2e,typeof e=="string"?r.input=SB.string2buf(e):ZK.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new DS.Buf8(i),r.next_out=0,r.avail_out=i),n=IS.deflate(r,s),n!==QK&&n!==M1)return this.onEnd(n),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(s===AB||s===JK))&&(this.options.to==="string"?this.onData(SB.buf2binstring(DS.shrinkBuf(r.output,r.next_out))):this.onData(DS.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&n!==QK);return s===AB?(n=IS.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===M1):(s===JK&&(this.onEnd(M1),r.avail_out=0),!0)},Vg.prototype.onData=function(e){this.chunks.push(e)},Vg.prototype.onEnd=function(e){e===M1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=DS.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function wB(e,t){var r=new Vg(t);if(r.push(e,!0),r.err)throw r.msg||CB[r.err];return r.result}function i2e(e,t){return t=t||{},t.raw=!0,wB(e,t)}function a2e(e,t){return t=t||{},t.gzip=!0,wB(e,t)}vS.Deflate=Vg,vS.deflate=wB,vS.deflateRaw=i2e,vS.gzip=a2e;var OS={},dc={},XD=30,o2e=12,s2e=function(t,r){var i,n,s,c,h,p,m,d,E,_,T,C,A,D,O,B,P,R,$,W,Z,K,ae,le,J;i=t.state,n=t.next_in,le=t.input,s=n+(t.avail_in-5),c=t.next_out,J=t.output,h=c-(r-t.avail_out),p=c+(t.avail_out-257),m=i.dmax,d=i.wsize,E=i.whave,_=i.wnext,T=i.window,C=i.hold,A=i.bits,D=i.lencode,O=i.distcode,B=(1<<i.lenbits)-1,P=(1<<i.distbits)-1;e:do{A<15&&(C+=le[n++]<<A,A+=8,C+=le[n++]<<A,A+=8),R=D[C&B];t:for(;;){if($=R>>>24,C>>>=$,A-=$,$=R>>>16&255,$===0)J[c++]=R&65535;else if($&16){W=R&65535,$&=15,$&&(A<$&&(C+=le[n++]<<A,A+=8),W+=C&(1<<$)-1,C>>>=$,A-=$),A<15&&(C+=le[n++]<<A,A+=8,C+=le[n++]<<A,A+=8),R=O[C&P];r:for(;;){if($=R>>>24,C>>>=$,A-=$,$=R>>>16&255,$&16){if(Z=R&65535,$&=15,A<$&&(C+=le[n++]<<A,A+=8,A<$&&(C+=le[n++]<<A,A+=8)),Z+=C&(1<<$)-1,Z>m){t.msg="invalid distance too far back",i.mode=XD;break e}if(C>>>=$,A-=$,$=c-h,Z>$){if($=Z-$,$>E&&i.sane){t.msg="invalid distance too far back",i.mode=XD;break e}if(K=0,ae=T,_===0){if(K+=d-$,$<W){W-=$;do J[c++]=T[K++];while(--$);K=c-Z,ae=J}}else if(_<$){if(K+=d+_-$,$-=_,$<W){W-=$;do J[c++]=T[K++];while(--$);if(K=0,_<W){$=_,W-=$;do J[c++]=T[K++];while(--$);K=c-Z,ae=J}}}else if(K+=_-$,$<W){W-=$;do J[c++]=T[K++];while(--$);K=c-Z,ae=J}for(;W>2;)J[c++]=ae[K++],J[c++]=ae[K++],J[c++]=ae[K++],W-=3;W&&(J[c++]=ae[K++],W>1&&(J[c++]=ae[K++]))}else{K=c-Z;do J[c++]=J[K++],J[c++]=J[K++],J[c++]=J[K++],W-=3;while(W>2);W&&(J[c++]=J[K++],W>1&&(J[c++]=J[K++]))}}else if(($&64)===0){R=O[(R&65535)+(C&(1<<$)-1)];continue r}else{t.msg="invalid distance code",i.mode=XD;break e}break}}else if(($&64)===0){R=D[(R&65535)+(C&(1<<$)-1)];continue t}else if($&32){i.mode=o2e;break e}else{t.msg="invalid literal/length code",i.mode=XD;break e}break}}while(n<s&&c<p);W=A>>3,n-=W,A-=W<<3,C&=(1<<A)-1,t.next_in=n,t.next_out=c,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=c<p?257+(p-c):257-(c-p),i.hold=C,i.bits=A},eZ=Ff,L1=15,tZ=852,rZ=592,nZ=0,xB=1,iZ=2,l2e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u2e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c2e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h2e=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],f2e=function(t,r,i,n,s,c,h,p){var m=p.bits,d=0,E=0,_=0,T=0,C=0,A=0,D=0,O=0,B=0,P=0,R,$,W,Z,K,ae=null,le=0,J,ge=new eZ.Buf16(L1+1),Ee=new eZ.Buf16(L1+1),ne=null,ve=0,Me,je,Qe;for(d=0;d<=L1;d++)ge[d]=0;for(E=0;E<n;E++)ge[r[i+E]]++;for(C=m,T=L1;T>=1&&ge[T]===0;T--);if(C>T&&(C=T),T===0)return s[c++]=1<<24|64<<16|0,s[c++]=1<<24|64<<16|0,p.bits=1,0;for(_=1;_<T&&ge[_]===0;_++);for(C<_&&(C=_),O=1,d=1;d<=L1;d++)if(O<<=1,O-=ge[d],O<0)return-1;if(O>0&&(t===nZ||T!==1))return-1;for(Ee[1]=0,d=1;d<L1;d++)Ee[d+1]=Ee[d]+ge[d];for(E=0;E<n;E++)r[i+E]!==0&&(h[Ee[r[i+E]]++]=E);if(t===nZ?(ae=ne=h,J=19):t===xB?(ae=l2e,le-=257,ne=u2e,ve-=257,J=256):(ae=c2e,ne=h2e,J=-1),P=0,E=0,d=_,K=c,A=C,D=0,W=-1,B=1<<C,Z=B-1,t===xB&&B>tZ||t===iZ&&B>rZ)return 1;for(;;){Me=d-D,h[E]<J?(je=0,Qe=h[E]):h[E]>J?(je=ne[ve+h[E]],Qe=ae[le+h[E]]):(je=96,Qe=0),R=1<<d-D,$=1<<A,_=$;do $-=R,s[K+(P>>D)+$]=Me<<24|je<<16|Qe|0;while($!==0);for(R=1<<d-1;P&R;)R>>=1;if(R!==0?(P&=R-1,P+=R):P=0,E++,--ge[d]===0){if(d===T)break;d=r[i+h[E]]}if(d>C&&(P&Z)!==W){for(D===0&&(D=C),K+=_,A=d-D,O=1<<A;A+D<T&&(O-=ge[A+D],!(O<=0));)A++,O<<=1;if(B+=1<<A,t===xB&&B>tZ||t===iZ&&B>rZ)return 1;W=P&Z,s[W]=C<<24|A<<16|K-c|0}}return P!==0&&(s[K+P]=d-D<<24|64<<16|0),p.bits=C,0},Hl=Ff,IB=BK,kh=FK,d2e=s2e,kS=f2e,p2e=0,aZ=1,oZ=2,sZ=4,m2e=5,qD=6,Wg=0,g2e=1,v2e=2,_u=-2,lZ=-3,uZ=-4,y2e=-5,cZ=8,hZ=1,fZ=2,dZ=3,pZ=4,mZ=5,gZ=6,vZ=7,yZ=8,_Z=9,EZ=10,KD=11,Hf=12,DB=13,TZ=14,OB=15,bZ=16,SZ=17,CZ=18,AZ=19,ZD=20,QD=21,wZ=22,xZ=23,IZ=24,DZ=25,OZ=26,kB=27,kZ=28,PZ=29,Qi=30,RZ=31,_2e=32,E2e=852,T2e=592,b2e=15,S2e=b2e;function NZ(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function C2e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Hl.Buf16(320),this.work=new Hl.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function MZ(e){var t;return!e||!e.state?_u:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=hZ,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Hl.Buf32(E2e),t.distcode=t.distdyn=new Hl.Buf32(T2e),t.sane=1,t.back=-1,Wg)}function LZ(e){var t;return!e||!e.state?_u:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,MZ(e))}function BZ(e,t){var r,i;return!e||!e.state||(i=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?_u:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,LZ(e))}function FZ(e,t){var r,i;return e?(i=new C2e,e.state=i,i.window=null,r=BZ(e,t),r!==Wg&&(e.state=null),r):_u}function A2e(e){return FZ(e,S2e)}var UZ=!0,PB,RB;function w2e(e){if(UZ){var t;for(PB=new Hl.Buf32(512),RB=new Hl.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(kS(aZ,e.lens,0,288,PB,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;kS(oZ,e.lens,0,32,RB,0,e.work,{bits:5}),UZ=!1}e.lencode=PB,e.lenbits=9,e.distcode=RB,e.distbits=5}function HZ(e,t,r,i){var n,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Hl.Buf8(s.wsize)),i>=s.wsize?(Hl.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),Hl.arraySet(s.window,t,r-i,n,s.wnext),i-=n,i?(Hl.arraySet(s.window,t,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}function x2e(e,t){var r,i,n,s,c,h,p,m,d,E,_,T,C,A,D=0,O,B,P,R,$,W,Z,K,ae=new Hl.Buf8(4),le,J,ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return _u;r=e.state,r.mode===Hf&&(r.mode=DB),c=e.next_out,n=e.output,p=e.avail_out,s=e.next_in,i=e.input,h=e.avail_in,m=r.hold,d=r.bits,E=h,_=p,K=Wg;e:for(;;)switch(r.mode){case hZ:if(r.wrap===0){r.mode=DB;break}for(;d<16;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if(r.wrap&2&&m===35615){r.check=0,ae[0]=m&255,ae[1]=m>>>8&255,r.check=kh(r.check,ae,2,0),m=0,d=0,r.mode=fZ;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((m&255)<<8)+(m>>8))%31){e.msg="incorrect header check",r.mode=Qi;break}if((m&15)!==cZ){e.msg="unknown compression method",r.mode=Qi;break}if(m>>>=4,d-=4,Z=(m&15)+8,r.wbits===0)r.wbits=Z;else if(Z>r.wbits){e.msg="invalid window size",r.mode=Qi;break}r.dmax=1<<Z,e.adler=r.check=1,r.mode=m&512?EZ:Hf,m=0,d=0;break;case fZ:for(;d<16;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if(r.flags=m,(r.flags&255)!==cZ){e.msg="unknown compression method",r.mode=Qi;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Qi;break}r.head&&(r.head.text=m>>8&1),r.flags&512&&(ae[0]=m&255,ae[1]=m>>>8&255,r.check=kh(r.check,ae,2,0)),m=0,d=0,r.mode=dZ;case dZ:for(;d<32;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}r.head&&(r.head.time=m),r.flags&512&&(ae[0]=m&255,ae[1]=m>>>8&255,ae[2]=m>>>16&255,ae[3]=m>>>24&255,r.check=kh(r.check,ae,4,0)),m=0,d=0,r.mode=pZ;case pZ:for(;d<16;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}r.head&&(r.head.xflags=m&255,r.head.os=m>>8),r.flags&512&&(ae[0]=m&255,ae[1]=m>>>8&255,r.check=kh(r.check,ae,2,0)),m=0,d=0,r.mode=mZ;case mZ:if(r.flags&1024){for(;d<16;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}r.length=m,r.head&&(r.head.extra_len=m),r.flags&512&&(ae[0]=m&255,ae[1]=m>>>8&255,r.check=kh(r.check,ae,2,0)),m=0,d=0}else r.head&&(r.head.extra=null);r.mode=gZ;case gZ:if(r.flags&1024&&(T=r.length,T>h&&(T=h),T&&(r.head&&(Z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Hl.arraySet(r.head.extra,i,s,T,Z)),r.flags&512&&(r.check=kh(r.check,i,T,s)),h-=T,s+=T,r.length-=T),r.length))break e;r.length=0,r.mode=vZ;case vZ:if(r.flags&2048){if(h===0)break e;T=0;do Z=i[s+T++],r.head&&Z&&r.length<65536&&(r.head.name+=String.fromCharCode(Z));while(Z&&T<h);if(r.flags&512&&(r.check=kh(r.check,i,T,s)),h-=T,s+=T,Z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=yZ;case yZ:if(r.flags&4096){if(h===0)break e;T=0;do Z=i[s+T++],r.head&&Z&&r.length<65536&&(r.head.comment+=String.fromCharCode(Z));while(Z&&T<h);if(r.flags&512&&(r.check=kh(r.check,i,T,s)),h-=T,s+=T,Z)break e}else r.head&&(r.head.comment=null);r.mode=_Z;case _Z:if(r.flags&512){for(;d<16;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if(m!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Qi;break}m=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Hf;break;case EZ:for(;d<32;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}e.adler=r.check=NZ(m),m=0,d=0,r.mode=KD;case KD:if(r.havedict===0)return e.next_out=c,e.avail_out=p,e.next_in=s,e.avail_in=h,r.hold=m,r.bits=d,v2e;e.adler=r.check=1,r.mode=Hf;case Hf:if(t===m2e||t===qD)break e;case DB:if(r.last){m>>>=d&7,d-=d&7,r.mode=kB;break}for(;d<3;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}switch(r.last=m&1,m>>>=1,d-=1,m&3){case 0:r.mode=TZ;break;case 1:if(w2e(r),r.mode=ZD,t===qD){m>>>=2,d-=2;break e}break;case 2:r.mode=SZ;break;case 3:e.msg="invalid block type",r.mode=Qi}m>>>=2,d-=2;break;case TZ:for(m>>>=d&7,d-=d&7;d<32;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if((m&65535)!==(m>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Qi;break}if(r.length=m&65535,m=0,d=0,r.mode=OB,t===qD)break e;case OB:r.mode=bZ;case bZ:if(T=r.length,T){if(T>h&&(T=h),T>p&&(T=p),T===0)break e;Hl.arraySet(n,i,s,T,c),h-=T,s+=T,p-=T,c+=T,r.length-=T;break}r.mode=Hf;break;case SZ:for(;d<14;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if(r.nlen=(m&31)+257,m>>>=5,d-=5,r.ndist=(m&31)+1,m>>>=5,d-=5,r.ncode=(m&15)+4,m>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Qi;break}r.have=0,r.mode=CZ;case CZ:for(;r.have<r.ncode;){for(;d<3;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}r.lens[ge[r.have++]]=m&7,m>>>=3,d-=3}for(;r.have<19;)r.lens[ge[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,le={bits:r.lenbits},K=kS(p2e,r.lens,0,19,r.lencode,0,r.work,le),r.lenbits=le.bits,K){e.msg="invalid code lengths set",r.mode=Qi;break}r.have=0,r.mode=AZ;case AZ:for(;r.have<r.nlen+r.ndist;){for(;D=r.lencode[m&(1<<r.lenbits)-1],O=D>>>24,B=D>>>16&255,P=D&65535,!(O<=d);){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if(P<16)m>>>=O,d-=O,r.lens[r.have++]=P;else{if(P===16){for(J=O+2;d<J;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if(m>>>=O,d-=O,r.have===0){e.msg="invalid bit length repeat",r.mode=Qi;break}Z=r.lens[r.have-1],T=3+(m&3),m>>>=2,d-=2}else if(P===17){for(J=O+3;d<J;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}m>>>=O,d-=O,Z=0,T=3+(m&7),m>>>=3,d-=3}else{for(J=O+7;d<J;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}m>>>=O,d-=O,Z=0,T=11+(m&127),m>>>=7,d-=7}if(r.have+T>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Qi;break}for(;T--;)r.lens[r.have++]=Z}}if(r.mode===Qi)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Qi;break}if(r.lenbits=9,le={bits:r.lenbits},K=kS(aZ,r.lens,0,r.nlen,r.lencode,0,r.work,le),r.lenbits=le.bits,K){e.msg="invalid literal/lengths set",r.mode=Qi;break}if(r.distbits=6,r.distcode=r.distdyn,le={bits:r.distbits},K=kS(oZ,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,le),r.distbits=le.bits,K){e.msg="invalid distances set",r.mode=Qi;break}if(r.mode=ZD,t===qD)break e;case ZD:r.mode=QD;case QD:if(h>=6&&p>=258){e.next_out=c,e.avail_out=p,e.next_in=s,e.avail_in=h,r.hold=m,r.bits=d,d2e(e,_),c=e.next_out,n=e.output,p=e.avail_out,s=e.next_in,i=e.input,h=e.avail_in,m=r.hold,d=r.bits,r.mode===Hf&&(r.back=-1);break}for(r.back=0;D=r.lencode[m&(1<<r.lenbits)-1],O=D>>>24,B=D>>>16&255,P=D&65535,!(O<=d);){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if(B&&(B&240)===0){for(R=O,$=B,W=P;D=r.lencode[W+((m&(1<<R+$)-1)>>R)],O=D>>>24,B=D>>>16&255,P=D&65535,!(R+O<=d);){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}m>>>=R,d-=R,r.back+=R}if(m>>>=O,d-=O,r.back+=O,r.length=P,B===0){r.mode=OZ;break}if(B&32){r.back=-1,r.mode=Hf;break}if(B&64){e.msg="invalid literal/length code",r.mode=Qi;break}r.extra=B&15,r.mode=wZ;case wZ:if(r.extra){for(J=r.extra;d<J;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=xZ;case xZ:for(;D=r.distcode[m&(1<<r.distbits)-1],O=D>>>24,B=D>>>16&255,P=D&65535,!(O<=d);){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if((B&240)===0){for(R=O,$=B,W=P;D=r.distcode[W+((m&(1<<R+$)-1)>>R)],O=D>>>24,B=D>>>16&255,P=D&65535,!(R+O<=d);){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}m>>>=R,d-=R,r.back+=R}if(m>>>=O,d-=O,r.back+=O,B&64){e.msg="invalid distance code",r.mode=Qi;break}r.offset=P,r.extra=B&15,r.mode=IZ;case IZ:if(r.extra){for(J=r.extra;d<J;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Qi;break}r.mode=DZ;case DZ:if(p===0)break e;if(T=_-p,r.offset>T){if(T=r.offset-T,T>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Qi;break}T>r.wnext?(T-=r.wnext,C=r.wsize-T):C=r.wnext-T,T>r.length&&(T=r.length),A=r.window}else A=n,C=c-r.offset,T=r.length;T>p&&(T=p),p-=T,r.length-=T;do n[c++]=A[C++];while(--T);r.length===0&&(r.mode=QD);break;case OZ:if(p===0)break e;n[c++]=r.length,p--,r.mode=QD;break;case kB:if(r.wrap){for(;d<32;){if(h===0)break e;h--,m|=i[s++]<<d,d+=8}if(_-=p,e.total_out+=_,r.total+=_,_&&(e.adler=r.check=r.flags?kh(r.check,n,_,c-_):IB(r.check,n,_,c-_)),_=p,(r.flags?m:NZ(m))!==r.check){e.msg="incorrect data check",r.mode=Qi;break}m=0,d=0}r.mode=kZ;case kZ:if(r.wrap&&r.flags){for(;d<32;){if(h===0)break e;h--,m+=i[s++]<<d,d+=8}if(m!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Qi;break}m=0,d=0}r.mode=PZ;case PZ:K=g2e;break e;case Qi:K=lZ;break e;case RZ:return uZ;case _2e:default:return _u}return e.next_out=c,e.avail_out=p,e.next_in=s,e.avail_in=h,r.hold=m,r.bits=d,(r.wsize||_!==e.avail_out&&r.mode<Qi&&(r.mode<kB||t!==sZ))&&HZ(e,e.output,e.next_out,_-e.avail_out),E-=e.avail_in,_-=e.avail_out,e.total_in+=E,e.total_out+=_,r.total+=_,r.wrap&&_&&(e.adler=r.check=r.flags?kh(r.check,n,_,e.next_out-_):IB(r.check,n,_,e.next_out-_)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Hf?128:0)+(r.mode===ZD||r.mode===OB?256:0),(E===0&&_===0||t===sZ)&&K===Wg&&(K=y2e),K}function I2e(e){if(!e||!e.state)return _u;var t=e.state;return t.window&&(t.window=null),e.state=null,Wg}function D2e(e,t){var r;return!e||!e.state||(r=e.state,(r.wrap&2)===0)?_u:(r.head=t,t.done=!1,Wg)}function O2e(e,t){var r=t.length,i,n,s;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==KD)?_u:i.mode===KD&&(n=1,n=IB(n,t,r,0),n!==i.check)?lZ:(s=HZ(e,t,r,r),s?(i.mode=RZ,uZ):(i.havedict=1,Wg))}dc.inflateReset=LZ,dc.inflateReset2=BZ,dc.inflateResetKeep=MZ,dc.inflateInit=A2e,dc.inflateInit2=FZ,dc.inflate=x2e,dc.inflateEnd=I2e,dc.inflateGetHeader=D2e,dc.inflateSetDictionary=O2e,dc.inflateInfo="pako inflate (from Nodeca project)";var $Z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function k2e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var P2e=k2e,B1=dc,PS=Ff,JD=jg,Ba=$Z,NB=yB,R2e=KK,N2e=P2e,GZ=Object.prototype.toString;function Yg(e){if(!(this instanceof Yg))return new Yg(e);this.options=PS.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R2e,this.strm.avail_out=0;var r=B1.inflateInit2(this.strm,t.windowBits);if(r!==Ba.Z_OK)throw new Error(NB[r]);if(this.header=new N2e,B1.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=JD.string2buf(t.dictionary):GZ.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=B1.inflateSetDictionary(this.strm,t.dictionary),r!==Ba.Z_OK)))throw new Error(NB[r])}Yg.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize,n=this.options.dictionary,s,c,h,p,m,d=!1;if(this.ended)return!1;c=t===~~t?t:t===!0?Ba.Z_FINISH:Ba.Z_NO_FLUSH,typeof e=="string"?r.input=JD.binstring2buf(e):GZ.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new PS.Buf8(i),r.next_out=0,r.avail_out=i),s=B1.inflate(r,Ba.Z_NO_FLUSH),s===Ba.Z_NEED_DICT&&n&&(s=B1.inflateSetDictionary(this.strm,n)),s===Ba.Z_BUF_ERROR&&d===!0&&(s=Ba.Z_OK,d=!1),s!==Ba.Z_STREAM_END&&s!==Ba.Z_OK)return this.onEnd(s),this.ended=!0,!1;r.next_out&&(r.avail_out===0||s===Ba.Z_STREAM_END||r.avail_in===0&&(c===Ba.Z_FINISH||c===Ba.Z_SYNC_FLUSH))&&(this.options.to==="string"?(h=JD.utf8border(r.output,r.next_out),p=r.next_out-h,m=JD.buf2string(r.output,h),r.next_out=p,r.avail_out=i-p,p&&PS.arraySet(r.output,r.output,h,p,0),this.onData(m)):this.onData(PS.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(d=!0)}while((r.avail_in>0||r.avail_out===0)&&s!==Ba.Z_STREAM_END);return s===Ba.Z_STREAM_END&&(c=Ba.Z_FINISH),c===Ba.Z_FINISH?(s=B1.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Ba.Z_OK):(c===Ba.Z_SYNC_FLUSH&&(this.onEnd(Ba.Z_OK),r.avail_out=0),!0)},Yg.prototype.onData=function(e){this.chunks.push(e)},Yg.prototype.onEnd=function(e){e===Ba.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=PS.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function MB(e,t){var r=new Yg(t);if(r.push(e,!0),r.err)throw r.msg||NB[r.err];return r.result}function M2e(e,t){return t=t||{},t.raw=!0,MB(e,t)}OS.Inflate=Yg,OS.inflate=MB,OS.inflateRaw=M2e,OS.ungzip=MB;var L2e=Ff.assign,B2e=vS,F2e=OS,U2e=$Z,zZ={};L2e(zZ,B2e,F2e,U2e);var H2e=zZ,$2e=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];const G2e=$2e;function z2e(e){if(typeof e!="string")throw new TypeError("input must be a string");let t=[],r,i,n={LOCUS_TAG:"LOCUS",DEFINITION_TAG:"DEFINITION",ACCESSION_TAG:"ACCESSION",VERSION_TAG:"VERSION",KEYWORDS_TAG:"KEYWORDS",SOURCE_TAG:"SOURCE",ORGANISM_TAG:"ORGANISM",REFERENCE_TAG:"REFERENCE",FEATURES_TAG:"FEATURES",ORIGIN_TAG:"ORIGIN",END_SEQUENCE_TAG:"//"},s=e.split(/\r?\n/),c,h,p,m,d,E=!1;for(let ne of s){if(ne===null)break;let ve=K(ne),Me=le(ne),je=ge(ne),Qe=J(ne);if(ve===n.END_SEQUENCE_TAG||Qe?(c=ve,h=null):je&&(h=ve),!(ne.trim()===""||ve===";")){if(!E&&c!==n.LOCUS_TAG)break;switch(c){case n.LOCUS_TAG:E=!0,D(ne);break;case n.FEATURES_TAG:P(ne,ve,Me);break;case n.ORIGIN_TAG:A(ne,ve);break;case n.DEFINITION_TAG:case n.ACCESSION_TAG:case n.VERSION_TAG:case n.KEYWORDS_TAG:ae(c,ne,c.toLowerCase());break;case n.SOURCE_TAG:h===n.ORGANISM_TAG?ae(h,ne,"organism"):ae(ve,ne,"source");break;case n.REFERENCE_TAG:if(ve===n.REFERENCE_TAG){const tt=r.references||[];r.references=tt,tt.push({})}B(ne,h);break;case n.END_SEQUENCE_TAG:_();break}}}return t[t.length-1]!==r&&_(),t;function _(){C(),t.push(r)}function T(){return r.features[r.features.length-1]}function C(){if(r&&r.features)for(let ne=0;ne<r.features.length;ne++)r.features[ne]=Ee(r.features[ne])}function A(ne,ve){if(ve!==n.ORIGIN_TAG){let Me=ne.replace(/[\s]*[0-9]*/g,"");r.sequence+=Me}}function D(ne){r={features:[],name:"Untitled sequence",sequence:"",references:[]},ne=O(n.LOCUS_TAG,ne);const ve=ne.match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s*([^\s]+)?$/);let Me=ve[1],je=+ve[2],Qe=ve[3],tt=ve[4]==="circular";const st=r;let Ct="";ve[6]?(st.genbankDivision=ve[5],Ct=ve[6]):Ct=ve[5],st.circular=tt,st.moleculeType=Qe;const Be=Ct.match(/^(\d{2})-(.{3})-(\d{4})$/),Ae=new Date;Ae.setFullYear(+Be[3]),Ae.setUTCMonth(G2e.indexOf(Be[2].toUpperCase())),Ae.setDate(+Be[1]),Ae.setUTCHours(12),Ae.setMinutes(0),Ae.setSeconds(0),Ae.setMilliseconds(0),st.date=Ae.toISOString(),st.name=Me,st.size=je}function O(ne,ve){return ve=ve.replace(/^\s*/,""),ve.indexOf(ne)===0&&(ve=ve.replace(ne,"")),ve.trim()}function B(ne,ve){const Me=r.references;let je=Me[Me.length-1];ve?ae(ve,ne,ve.toLowerCase(),je):ae(n.REFERENCE_TAG,ne,"description",je)}function P(ne,ve,Me){let je;if(ve===n.FEATURES_TAG){m=!0;return}if(m&&(p=jZ(ne),m=!1),j2e(ne,p))d?(W(ne.trim()),d=!0):(i&&(i[i.length-1]+=ne.trim().replace(/"/g,"")),d=!1);else if($(ne))T()&&(Z(ne),d=!1);else{Me.match(/complement/g)?je=-1:je=1,R();let Qe=T();Qe.type=ve,Qe.strand=je,W(Me),d=!0}}function R(){r.features.push({notes:{}})}function $(ne){let ve=!1;return(ne.trim().charAt(0).match(/\//)||ne.match(/^[\s]*\/[\w]+=[\S]+/))&&(ve=!0),ve}function W(ne){ne=ne.trim();let ve=[];ne.replace(/(\d+)/g,function(je,Qe){ve.push(Qe)});let Me=T();Me.start=+ve[0],Me.end=ve[1]===void 0?+ve[0]:+ve[1]}function Z(ne){let ve,Me;ve=ne.trim(),ve=ve.replace(/^\/|"$/g,""),Me=ve.split(/="|=/);let je=Me[1];je&&(je=je.replace(/\\/g," "),ne.match(/="/g)?je=je.replace(/".*/g,""):je.match(/^\d+$/g)&&(je=+je));let Qe=Me[0],tt=T().notes;tt[Qe]?tt[Qe].push(je):tt[Qe]=[je],i=tt[Qe]}function K(ne){let ve;return ne=ne.trim(),ve=ne.split(/[\s]+/),ve[0]}function ae(ne,ve,Me,je){je=je||r;let Qe=O(ne,ve);je[Me]=je[Me]?`${je[Me]} `:"",je[Me]+=Qe}function le(ne){let ve;return ne.indexOf("=")<0?(ne=ne.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,""),ne=ne.trim(),ne):(ve=ne.split(/=/),ve[1])}function J(ne){let ve=!1;return ne.substr(0,10).match(/^[\S]+/)&&(ve=!0),ve}function ge(ne){let ve=!1;return ne.substr(0,10).match(/^[\s]+[\S]+/)&&(ve=!0),ve}function Ee(ne){return ne.notes.label?ne.name=ne.notes.label[0]:ne.notes.gene?ne.name=ne.notes.gene[0]:ne.notes.ApEinfo_label?ne.name=ne.notes.ApEinfo_label[0]:ne.notes.name?ne.name=ne.notes.name[0]:ne.notes.organism?ne.name=ne.notes.organism[0]:ne.notes.locus_tag?ne.name=ne.notes.locus_tag[0]:ne.notes.note?ne.name=ne.notes.note[0]:ne.name="Untitled Feature",ne.name=typeof ne.name=="string"?ne.name:String(ne.name),ne}}function j2e(e,t){let r=jZ(e);return!(t===r||e.trim().charAt(0).match(/\//))}function jZ(e){let t=/^\s*/.exec(e);return t!==null?t[0].length:0}var V2e=z2e;function VZ(e,t){const r=[];if(!e.length)return[];let n=e[0].start,s=e[0].end;for(let c=1;c<e.length;c++)e[c].start<s+5/t?s=Math.max(s,e[c].end):(r.push({type:"filler",start:n,end:s}),n=e[c].start,s=e[c].end);return r.push({start:n,end:s,type:"filler"}),r}function W2e(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}function Y2e(e){const t=e.end-e.start,r=e.strand===1?"+":"-",i=hn.nice();return e.type==="filler"?{xStart:e.start,xEnd:e.end,strand:e.strand,fields:[],type:"filler",uid:i}:{xStart:e.start,xEnd:e.end,strand:r,chrOffset:0,importance:e.end-e.start,uid:i,type:e.type,fields:["chrom",e.start,e.end,e.name,t,r,"","",e.type,e.name,e.start.toString(),e.end.toString(),e.start.toString(),e.end.toString()]}}const WZ=e=>{const t=V2e(e),r=W2e(t[0].features.filter(i=>i.type!=="source").sort((i,n)=>i.start-n.start));return[t,r]};let YZ=(function(){function e(t){if(H(this,e),this.dataConfig=t,this.trackUid=hn.nice(),t.url){const i=t.url.slice(t.url.length-3)===".gz";this.errorTxt="",this.dataPromise=fetch(t.url,{mode:"cors",redirect:"follow",method:"GET"}).then(n=>i?n.arrayBuffer():n.text()).then(n=>{const s=i?H2e.inflate(n,{to:"string"}):n;[this.gbJson,this.cdss]=WZ(s)})}else t.text&&(this.dataPromise=new Promise((r,i)=>{[this.gbJson,this.cdss]=WZ(t.text),r()}))}return j(e,[{key:"tilesetInfo",value:function(r){return this.tilesetInfoLoading=!0,this.dataPromise.then(()=>{this.tilesetInfoLoading=!1;const i=1024;let n={};return n={tile_size:i,max_zoom:Math.ceil(Math.log(this.gbJson[0].size/i)/Math.log(2)),max_width:this.gbJson[0].size,min_pos:[0],max_pos:[this.gbJson[0].size]},r&&r(n),n}).catch(i=>{this.tilesetInfoLoading=!1,r&&r({error:`Error parsing genbank: ${i}`})})}},{key:"fetchTilesDebounced",value:function(r,i){const n={},s=[],c=[];for(const h of i){const p=h.split("."),m=parseInt(p[0],10),d=parseInt(p[1],10);if(Number.isNaN(d)||Number.isNaN(m)){console.warn("Invalid tile zoom or position:",m,d);continue}s.push(h),c.push(this.tile(m,d))}return Promise.all(c).then(h=>{for(let p=0;p<h.length;p++){const m=s[p];n[m]=h[p],n[m].tilePositionId=m}r(n)}),n}},{key:"tile",value:function(r,i){return this.tilesetInfo().then(n=>{const s=+n.max_width/2**+r,c=n.min_pos[0]+i*s,h=n.min_pos[0]+(i+1)*s,p=this.cdss.filter(C=>C.end>c&&C.start<h),m=1024/2**(n.max_zoom-r),d=VZ(p.filter(C=>C.strand===1),m),E=VZ(p.filter(C=>C.strand!==1),m);d.forEach(C=>{C.strand="+"}),E.forEach(C=>{C.strand="-"});let _=[];const T=20;for(let C=0;C<this.cdss.length&&!(_.length>=T);C++)this.cdss[C].end>=c&&this.cdss[C].start<=h&&_.push(this.cdss[C]);return _=[..._,...d,...E],_.map(C=>Y2e(C))})}}]),e})(),XZ=(function(){function e(t){H(this,e),this.dataConfig=t,this.tilesetInfoData=Object.values(this.dataConfig.tilesetInfo)[0]}return j(e,[{key:"tilesetInfo",value:function(r){this.tilesetInfoLoading=!1,r(this.tilesetInfoData)}},{key:"fetchTilesDebounced",value:function(r,i){this.tilesData={};for(const c of Object.keys(this.dataConfig.tiles)){const p=`localtile.${c.split(".").slice(1).join(".")}`;this.tilesData[p]=this.dataConfig.tiles[c]}const n={},s=i.map(c=>`localtile.${c}`);KM(this.tilesData,"",s);for(const c of i)n[c]=this.tilesData[`localtile.${c}`];r(n)}},{key:"tile",value:function(r,i){}}]),e})(),X2e=(function(){function e(){H(this,e),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return j(e,[{key:"enqueueTask",value:function(r,i,n=null){n===null?this.taskList.push({handler:r,data:i}):(this.taskList=this.taskList.filter(s=>s.trackId!==n),this.taskList.push({handler:r,data:i,trackId:n})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}},{key:"runTaskQueue",value:function(r){for(;(r.timeRemaining()>0||r.didTimeout)&&this.taskList.length;){const i=this.taskList.shift();i.data===null?i.handler():i.handler(i.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}}]),e})();const q2e=new X2e;function K2e(e,t,r,i,n){const s=e,c=0;return s==="log"&&t>0?["log",Qc().range([254,0]).domain([t+c,i+c])]:["linear",qr().range([254,0]).domain([t,i])]}let Sp=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{pubSub:c,dataConfig:h,handleTilesetInfoReceived:p,animate:m,onValueScaleChanged:d}=i;return s.renderVersion=1,s.visibleTiles=new Set,s.visibleTileIds=new Set,s.renderingTiles=new Set,s.fetching=new Set,s.scale={},s.fetchedTiles={},s.tileGraphics={},s.maxZoom=0,s.medianVisibleValue=null,s.backgroundTaskScheduler=q2e,s.continuousScaling="requestIdleCallback"in window,s.valueScaleMin=null,s.fixedValueScaleMin=null,s.valueScaleMax=null,s.fixedValueScaleMax=null,s.listeners={},s.pubSub=c,s.animate=m,s.onValueScaleChanged=d,s.prevValueScale=null,i.dataFetcher?s.dataFetcher=i.dataFetcher:s.dataFetcher=new FD(h,s.pubSub),s.tilesetInfo=null,s.uuid=hn.nice(),s.trackNotFoundText=new er.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),s.pLabel.addChild(s.trackNotFoundText),s.refreshTilesDebounced=Q7(s.refreshTiles.bind(S(s)),jx,jx),s.dataFetcher.tilesetInfo((E,_)=>{if(E){if(s.tilesetInfo=E,s.dataFetcher.dataConfig.tilesetUid||(s.dataFetcher.dataConfig.tilesetUid=_),s.tilesetUid=s.dataFetcher.dataConfig.tilesetUid,s.server=s.dataFetcher.dataConfig.server||"unknown",s.tilesetInfo&&s.tilesetInfo.chromsizes&&(s.chromInfo=eI(s.tilesetInfo.chromsizes)),"error"in s.tilesetInfo){console.warn("Error retrieving tilesetInfo:",h,s.tilesetInfo.error),s.tilesetInfo=null,s.setError(s.tilesetInfo.error);return}s.tilesetInfo.resolutions?s.maxZoom=s.tilesetInfo.resolutions.length:s.maxZoom=+s.tilesetInfo.max_zoom,s.options&&s.options.maxZoom&&(s.options.maxZoom>=0?s.maxZoom=Math.min(s.options.maxZoom,s.maxZoom):console.error("Invalid maxZoom on track:",S(s))),s.refreshTiles(),p&&p(E),s.options||(s.options={}),s.options.name=s.options.name||E.name,s.checkValueScaleLimits(),s.draw(),s.drawLabel(),s.animate()}}),s}return j(r,[{key:"setError",value:function(n){this.errorTextText=n,this.draw(),this.animate()}},{key:"setFixedValueScaleMin",value:function(n){Number.isNaN(+n)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+n}},{key:"setFixedValueScaleMax",value:function(n){Number.isNaN(+n)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+n}},{key:"checkValueScaleLimits",value:function(){this.valueScaleMin=typeof this.options.valueScaleMin<"u"?+this.options.valueScaleMin:null,this.fixedValueScaleMin!==null&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax=typeof this.options.valueScaleMax<"u"?+this.options.valueScaleMax:null,this.fixedValueScaleMax!==null&&(this.valueScaleMax=this.fixedValueScaleMax)}},{key:"on",value:function(n,s){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(s)}},{key:"off",value:function(n,s){const c=this.listeners[n].indexOf(s);c===-1||c>=this.listeners[n].length||this.listeners[n].splice(c,1)}},{key:"rerender",value:function(n){a(N(r.prototype),"rerender",this).call(this,n),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}},{key:"visibleAndFetchedIds",value:function(){return Object.keys(this.fetchedTiles).filter(n=>this.visibleTileIds.has(n))}},{key:"visibleAndFetchedTiles",value:function(){return this.visibleAndFetchedIds().map(n=>this.fetchedTiles[n])}},{key:"setVisibleTiles",value:function(n){this.visibleTiles=n.map(s=>({tileId:this.tileToLocalId(s),remoteId:this.tileToRemoteId(s),mirrored:s.mirrored})),this.visibleTileIds=new Set(this.visibleTiles.map(s=>s.tileId))}},{key:"removeOldTiles",value:function(){this.calculateVisibleTiles();const s=[...new Set(Object.keys(this.fetchedTiles))].filter(c=>!this.visibleTileIds.has(c));this.removeTiles(s)}},{key:"refreshTiles",value:function(){if(!this.tilesetInfo)return;this.calculateVisibleTiles();const n=new Set(Object.keys(this.fetchedTiles)),s=[...this.visibleTiles].filter(c=>!this.fetching.has(c.remoteId)&&!n.has(c.tileId));for(let c=0;c<s.length;c++)this.fetching.add(s[c].remoteId);this.removeOldTiles(),this.fetchNewTiles(s)}},{key:"parentInFetched",value:function(n){const s=n.tileData.tilesetUid;let c=n.tileData.zoomLevel,h=n.tileData.tilePos;for(;c>0;)if(c-=1,h=h.map(m=>Math.floor(m/2)),`${s}.${c}.${h.join(".")}`in this.fetchedTiles)return!0;return!1}},{key:"parentTileId",value:function(n){const s=n.tileData.zoomLevel-1,c=n.tileData.tilePos.map(p=>Math.floor(p/2));return`${n.tileData.tilesetUid}.${s}.${c.join(".")}`}},{key:"removeTiles",value:function(n){!n.length||!this.areAllVisibleTilesLoaded()||this.renderingTiles.size||(n.forEach(s=>{const c=s;this.destroyTile(this.fetchedTiles[c]),c in this.tileGraphics&&(this.pMain.removeChild(this.tileGraphics[c]),delete this.tileGraphics[c]),delete this.fetchedTiles[c]}),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"zoomed",value:function(n,s,c=1,h=0,p=0){this.xScale(n),this.yScale(s),this.refreshTilesDebounced(),this.pMobile.position.x=h,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=c,this.pMobile.scale.y=1}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n)}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n)}},{key:"areAllVisibleTilesLoaded",value:function(){const n=new Set(Object.keys(this.fetchedTiles)),s=[...this.visibleTileIds];for(let c=0;c<s.length;c++)if(!n.has(s[c]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(n){return n?(this.scale.minValue=n,this):this.valueScaleMin!==null?this.valueScaleMin:this.scale.minValue}},{key:"maxValue",value:function(n){return n?(this.scale.maxValue=n,this):this.valueScaleMax!==null?this.valueScaleMax:this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"initTile",value:function(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}},{key:"updateTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"addMissingGraphics",value:function(){const n=Object.keys(this.fetchedTiles);this.renderVersion+=1;for(let s=0;s<n.length;s++)if(!(n[s]in this.tileGraphics)){const c=new er.PIXI.Graphics;this.pMain.addChild(c),this.fetchedTiles[n[s]].graphics=c,this.initTile(this.fetchedTiles[n[s]]),this.tileGraphics[n[s]]=c}}},{key:"updateExistingGraphics",value:function(){const n=Object.keys(this.fetchedTiles);for(let s=0;s<n.length;s++){const c=this.fetchedTiles[n[s]];this.updateTile(c)}}},{key:"synchronizeTilesAndGraphics",value:function(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged)for(const n of this.listeners.dataChanged)n(this.visibleAndFetchedTiles().map(s=>s.tileData))}},{key:"loadTileData",value:function(n,s){let c=this.lruCache.get(n.tileId);return c||(c=s(n.data,n.type),this.lruCache.put(n.tileId,c)),c}},{key:"fetchNewTiles",value:function(n){if(n.length>0){const s=[...new Set(n.map(c=>c.remoteId))];this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),s)}}},{key:"receivedTiles",value:function(n){for(let s=0;s<this.visibleTiles.length;s++){const{tileId:c}=this.visibleTiles[s];if(n[this.visibleTiles[s].remoteId]&&this.visibleTiles[s].remoteId in n){if(c in this.fetchedTiles||(this.fetchedTiles[c]=this.visibleTiles[s]),Array.isArray(n[this.visibleTiles[s].remoteId])){const h=n[this.visibleTiles[s].remoteId];this.fetchedTiles[c].tileData=[...h],Object.keys(h).filter(p=>Number.isNaN(+p)).forEach(p=>{this.fetchedTiles[c].tileData[p]=h[p]})}else this.fetchedTiles[c].tileData={...n[this.visibleTiles[s].remoteId]};this.fetchedTiles[c].tileData.error&&console.warn("Error in loaded tile",c,this.fetchedTiles[c].tileData)}}for(const s in n)if(n[s]){const c=n[s].tilePositionId;this.fetching.has(c)&&this.fetching.delete(c)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(!this.prevValueScale||JSON.stringify(this.valueScale.domain())!==JSON.stringify(this.prevValueScale.domain()))&&(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged()),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}},{key:"draw",value:function(){if(this.delayDrawing)return;this.tilesetInfo?this.trackNotFoundText.visible=!1:(this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text=`Tileset info not found. Server: [${this.server}] tilesetUid: [${this.tilesetUid}]`,[this.trackNotFoundText.x,this.trackNotFoundText.y]=this.position,this.flipText&&(this.trackNotFoundText.anchor.x=1,this.trackNotFoundText.scale.x=-1),this.trackNotFoundText.visible=!0),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid});const n=Object.values(this.fetchedTiles).map(s=>s.tileData&&s.tileData.error&&`${s.tileId}: ${s.tileData.error}`).filter(s=>s);n.length?this.errorTextText=n.join(`
`):this.errorTextText="",a(N(r.prototype),"draw",this).call(this),Object.keys(this.fetchedTiles).forEach(s=>{this.drawTile(this.fetchedTiles[s])}),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}},{key:"drawTile",value:function(){}},{key:"calculateMedianVisibleValue",value:function(){this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();let n=this.visibleAndFetchedIds();n.length===0&&(n=Object.keys(this.fetchedTiles));const s=[].concat(...n.filter(c=>this.fetchedTiles[c].tileData.dense).map(c=>Array.from(this.fetchedTiles[c].tileData.dense))).filter(c=>c>0);return this.medianVisibleValue=DE(s),this.medianVisibleValue}},{key:"allVisibleValues",value:function(){return[].concat(...this.visibleAndFetchedIds().map(n=>Array.from(this.fetchedTiles[n].tileData.dense)))}},{key:"minVisibleValue",value:function(n=!1){return this.minVisibleValueInTiles(n)}},{key:"minVisibleValueInTiles",value:function(n=!1){let s=this.visibleAndFetchedIds();s.length===0&&(s=Object.keys(this.fetchedTiles));let c=Math.min(...s.map(h=>this.fetchedTiles[h].tileData.minNonZero));return c===Number.MAX_SAFE_INTEGER&&(c=null),n?c:this.valueScaleMin!==null?this.valueScaleMin:c}},{key:"maxVisibleValue",value:function(n=!1){return this.maxVisibleValueInTiles(n)}},{key:"maxVisibleValueInTiles",value:function(n=!1){let s=this.visibleAndFetchedIds();s.length===0&&(s=Object.keys(this.fetchedTiles));let c=Math.max(...s.map(h=>this.fetchedTiles[h].tileData.maxNonZero));return c===Number.MIN_SAFE_INTEGER&&(c=null),n?c:this.valueScaleMax!==null?this.valueScaleMax:c}},{key:"makeValueScale",value:function(n,s,c,h){let p=null,m=0,d=h;(d===null||typeof d>"u")&&(d=6);let E=Math.min(this.dimensions[1]-d,d),_=Math.max(this.dimensions[1]-d,d);if(this.dimensions[1]-d<d&&(E=this.dimensions[1]/2,_=this.dimensions[1]/2),this.options.valueScaling==="log")m=s,m||(m=n),p=Qc().domain([m,c+m]).range([E,_]);else if(this.options.valueScaling==="quantile"){const T=this.dimensions[1]-d,C=d,A=Hm().domain(this.allVisibleValues()).range(xa(T,C,(C-T)/256));return A.ticks=D=>nf(T,C,D),[A,0]}else if(this.options.valueScaling==="setquantile"){const T=this.dimensions[1]-d,C=d,A=new Set(this.allVisibleValues()),D=Hm().domain([...A]).range(xa(T,C,(C-T)/256));return D.ticks=O=>nf(T,C,O),[D,0]}else p=qr().domain([n,c]).range([_,E]);return[p,m]}}]),r})(ks);const qZ=200,Cp=10,RS=40,ls=10,Ap=ls,KZ=4,F1=1,wp=4,ZZ=5,Z2e=256,NS=Cp+RS+ls+F1+Ap+wp;let MS=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r);const c={...i};c.onValueScaleChanged=()=>{i.onValueScaleChanged(),s.drawColorbar()},s=t.call(this,c,n);const{pubSub:h,animate:p,svgElement:m,onTrackOptionsChanged:d,onMouseMoveZoom:E,isShowGlobalMousePosition:_,isValueScaleLocked:T}=i;return s.pubSub=h,s.is2d=!0,s.animate=p,s.uid=hn.nice(),s.scaleBrush=XT(),s.onTrackOptionsChanged=d,s.isShowGlobalMousePosition=_,s.isValueScaleLocked=T,s.pColorbarArea=new er.PIXI.Graphics,s.pMasked.addChild(s.pColorbarArea),s.pColorbar=new er.PIXI.Graphics,s.pColorbarArea.addChild(s.pColorbar),s.axis=new PD(S(s)),s.pColorbarArea.addChild(s.axis.pAxis),s.colorScale=Oy,n&&n.colorRange&&(s.colorScale=tp(n.colorRange)),s.gBase=tn(m).append("g"),s.gMain=s.gBase.append("g"),s.gColorscaleBrush=s.gMain.append("g"),s.brushing=!1,s.prevOptions="",s.prevIndUpperLeftTile="",s.onMouseMoveZoom=E,s.setDataLensSize(11),s.dataLens=new Float32Array(s.dataLensSize**2),s.mouseMoveHandlerBound=s.mouseMoveHandler.bind(S(s)),s.onMouseMoveZoom&&s.pubSubs.push(s.pubSub.subscribe("app.mouseMove",s.mouseMoveHandlerBound)),s.options&&s.options.showMousePosition&&!s.hideMousePosition&&(s.hideMousePosition=vg(S(s),s.is2d,s.isShowGlobalMousePosition())),s.prevOptions=JSON.stringify(n),s}return j(r,[{key:"mouseMoveHandler",value:function(n){this.isWithin(n.x,n.y)&&(this.mouseX=n.x,this.mouseY=n.y,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(n=this.mouseX,s=this.mouseY){if(typeof n>"u"||typeof s>"u"||!this.areAllVisibleTilesLoaded()||!this.tilesetInfo)return;const c=n-this.position[0],h=s-this.position[1];let p,m;try{m=this.getVisibleRectangleData(c-this.dataLensPadding,h-this.dataLensPadding,this.dataLensSize,this.dataLensSize),p=m.get(this.dataLensPadding,this.dataLensPadding)}catch{return}const d=this.dataLensSize;let E;try{E=sL(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch{return}if(!E)return;const _=Math.round(this._xScale.invert(c)),T=Math.round(this._yScale.invert(h));let C=[_,T],A=[Math.round(this._xScale.invert(c-this.dataLensPadding)),Math.round(this._xScale.invert(c+this.dataLensPadding))],D=[Math.round(this._yScale.invert(h-this.dataLensPadding)),Math.round(this._yScale.invert(h+this.dataLensPadding))];this.chromInfo&&(C=C.map(O=>no(O,this.chromInfo).slice(0,2)),A=A.map(O=>no(O,this.chromInfo).slice(0,2)),D=D.map(O=>no(O,this.chromInfo).slice(0,2))),this.onMouseMoveZoom({trackId:this.id,data:p,absX:n,absY:s,relX:c,relY:h,dataX:_,dataY:T,orientation:"2d",dataLens:m,dim:d,toRgb:E,center:C,xRange:A,yRange:D,isGenomicCoords:!!this.chromInfo})}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!0)}},{key:"getAbsTileDim",value:function(n,s,c){const{tileX:h,tileY:p,tileWidth:m,tileHeight:d}=this.getTilePosAndDimensions(n,s),E={};return E.width=this._refXScale(h+m)-this._refXScale(h),E.height=this._refYScale(p+d)-this._refYScale(p),c?(E.x=this._refXScale(p),E.y=this._refYScale(h)):(E.x=this._refXScale(h),E.y=this._refYScale(p)),E}},{key:"updateValueScale",value:function(){let n=this.minValue(),s=this.maxValue();const c=1e-6;n!=null&&s!==void 0&&s!==null&&Math.abs(n-s)<c&&(n=Math.max(c,n-.001),s+=.001);const[h,p]=K2e(this.options&&this.options.heatmapValueScaling||"log",n,this.medianVisibleValue,s);return this.valueScale=p,this.limitedValueScale=this.valueScale.copy(),this.options&&typeof this.options.scaleStartPercent<"u"&&typeof this.options.scaleEndPercent<"u"&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[h,p]}},{key:"rerender",value:function(n,s){a(N(r.prototype),"rerender",this).call(this,n,s),this.updateValueScale();const c=JSON.stringify(n);this.drawColorbar(),!(!s&&c===this.prevOptions)&&(this.prevOptions=c,this.options=n,a(N(r.prototype),"rerender",this).call(this,n,s),this.calculateVisibleTiles(),n&&n.colorRange&&(this.colorScale=tp(n.colorRange)),this.visibleAndFetchedTiles().forEach(h=>this.renderTile(h)),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=vg(this,this.is2d,this.isShowGlobalMousePosition())))}},{key:"drawLabel",value:function(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=NS:this.labelXOffset=0,a(N(r.prototype),"drawLabel",this).call(this)}},{key:"tileDataToCanvas",value:function(n){const s=document.createElement("canvas");s.width=this.binsPerTile(),s.height=this.binsPerTile();const c=s.getContext("2d");c.fillStyle="transparent",c.fillRect(0,0,s.width,s.height);const h=new ImageData(n,s.width,s.height);return c.putImageData(h,0,0),s}},{key:"exportData",value:function(){if(this.tilesetInfo){const n=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),s={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:n.shape,data:X7(n)};sb("data.json",JSON.stringify(s))}}},{key:"setSpriteProperties",value:function(n,s,c,h){const p=this.getAbsTileDim(s,c,h);n.width=p.width,n.height=p.height,n.x=p.x,n.y=p.y,h&&c[0]!==c[1]&&(n.rotation=-Math.PI/2,n.scale.x=Math.abs(n.scale.x)*-1)}},{key:"refXScale",value:function(n){a(N(r.prototype),"refXScale",this).call(this,n),this.draw()}},{key:"refYScale",value:function(n){a(N(r.prototype),"refYScale",this).call(this,n),this.draw()}},{key:"draw",value:function(){a(N(r.prototype),"draw",this).call(this)}},{key:"newBrushOptions",value:function(n){const s=JSON.parse(JSON.stringify(this.options)),c=this.valueScale.copy().range([this.colorbarHeight,0]),h=c.invert(n[0]),m=(c.invert(n[1])-c.domain()[0])/(c.domain()[1]-c.domain()[0]),d=(h-c.domain()[0])/(c.domain()[1]-c.domain()[0]);return s.scaleStartPercent=m.toFixed(ZZ),s.scaleEndPercent=d.toFixed(ZZ),s}},{key:"brushStart",value:function(){this.brushing=!0}},{key:"brushMoved",value:function(n){if(!n.selection)return;const s=this.newBrushOptions(n.selection),c=JSON.stringify(s);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",h=>h.type==="n"?n.selection[0]:n.selection[1]-KZ/2),c!==this.prevOptions&&(this.prevOptions=c,this.rerender(s,!0),this.onTrackOptionsChanged(s),this.isValueScaleLocked()&&this.onValueScaleChanged())}},{key:"brushEnd",value:function(){this.brushing=!1}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.drawColorbar()}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n),this.drawColorbar()}},{key:"removeColorbar",value:function(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}},{key:"drawColorbar",value:function(){if(this.pColorbar.clear(),!this.options||!this.options.colorbarPosition||this.options.colorbarPosition==="hidden"){this.removeColorbar();return}if(this.pColorbarArea.visible=!0,!this.valueScale||Number.isNaN(+this.valueScale.domain()[0])||Number.isNaN(+this.valueScale.domain()[1]))return;const n=Math.min(this.dimensions[1]/2,qZ);if(this.colorbarHeight=n-2*ls,this.colorbarHeight<0){this.removeColorbar();return}if(this.valueScale.domain()[1]===this.valueScale.domain()[0]){this.removeColorbar();return}const s=this.valueScale.copy().range([this.colorbarHeight,0]);this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?this.scaleBrush.extent([[wp,0],[Ap,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[Ap-wp,this.colorbarHeight]]),this.options.colorbarPosition==="topLeft"&&([this.pColorbarArea.x,this.pColorbarArea.y]=this.position,this.pColorbar.y=ls,this.axis.pAxis.y=ls,this.axis.pAxis.x=wp+Ap+F1+Cp,this.pColorbar.x=wp+Ap+F1,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+wp},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="topRight"&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-NS,this.pColorbarArea.y=this.position[1],this.pColorbar.y=ls,this.axis.pAxis.y=ls,this.axis.pAxis.x=RS+ls,this.pColorbar.x=RS+ls,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+this.pColorbar.x+Cp+2},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="bottomRight"&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-NS,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-n,this.pColorbar.y=ls,this.axis.pAxis.y=ls,this.axis.pAxis.x=RS+ls,this.pColorbar.x=RS+ls,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+this.pColorbar.x+Cp+F1},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="bottomLeft"&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-n,this.pColorbar.y=ls,this.axis.pAxis.y=ls,this.axis.pAxis.x=wp+Ap+F1+Cp,this.pColorbar.x=wp+Ap+F1,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+2},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.pColorbarArea.clear(),this.pColorbarArea.beginFill(Pr(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,NS,n),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};const c=s.domain()[1]-s.domain()[0],h=s(this.options.scaleStartPercent*c+s.domain()[0]),p=s(this.options.scaleEndPercent*c+s.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",Ap).attr("height",KZ).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[p,h]));const m=qr().domain([0,255]).range([0,this.colorbarHeight]);for(let d=0;d<this.colorbarHeight;d++){const E=this.limitedValueScale(s.invert(d)),_=Math.max(0,Math.min(254,Math.floor(E)));this.pColorbar.beginFill(Pr(`rgb(${this.colorScale[_][0]},${this.colorScale[_][1]},${this.colorScale[_][2]})`)),this.pColorbar.drawRect(0,d,Cp,1)}this.pAxis.position.x=Cp,this.pAxis.position.y=m(0),this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?this.axis.drawAxisRight(s,this.colorbarHeight):(this.options.colorbarPosition==="topRight"||this.options.colorbarPosition==="bottomRight")&&this.axis.drawAxisLeft(s,this.colorbarHeight)}},{key:"exportColorBarSVG",value:function(){const n=document.createElement("g");if(n.setAttribute("class","color-bar"),!this.options.colorbarPosition||this.options.colorbarPosition==="hidden"||!this.valueScale)return n;n.setAttribute("transform",`translate(${this.pColorbarArea.x}, ${this.pColorbarArea.y})`);const s=document.createElement("rect");n.appendChild(s);const c=document.createElement("g");n.appendChild(c),c.setAttribute("transform",`translate(${this.pColorbar.x}, ${this.pColorbar.y})`);const h=Math.min(this.dimensions[1]/2,qZ);this.colorbarHeight=h-2*ls,s.setAttribute("x",0),s.setAttribute("y",0),s.setAttribute("width",NS),s.setAttribute("height",h),s.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");const p=256,m=qr().domain([0,p-1]).range([0,this.colorbarHeight]),d=this.colorbarHeight/p;for(let C=0;C<p;C++){const A=document.createElement("rect");c.appendChild(A),A.setAttribute("x",0),A.setAttribute("y",m(C)),A.setAttribute("width",Cp),A.setAttribute("height",d),A.setAttribute("class","color-rect");const D=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(C))))),O=this.colorScale[D];O?A.setAttribute("style",`fill: rgb(${O[0]}, ${O[1]}, ${O[2]})`):A.setAttribute("style","fill: rgb(255,255,255,0)")}const E=document.createElement("g");n.appendChild(E),E.setAttribute("transform",`translate(${this.axis.pAxis.position.x},${this.axis.pAxis.position.y})`);let _=null;const T=this.valueScale.copy().range([this.colorbarHeight,0]);return this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?_=this.axis.exportAxisRightSVG(T,this.colorbarHeight):(this.options.colorbarPosition==="topRight"||this.options.colorbarPosition==="bottomRight")&&(_=this.axis.exportAxisLeftSVG(T,this.colorbarHeight)),E.appendChild(_),n}},{key:"setDataLensSize",value:function(n){this.dataLensPadding=Math.max(0,Math.floor((n-1)/2)),this.dataLensSize=this.dataLensPadding*2+1}},{key:"binsPerTile",value:function(){return this.tilesetInfo.bins_per_dimension||Z2e}},{key:"getVisibleRectangleData",value:function(n,s,c,h){let p=this.calculateZoomLevel();p=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,p):p;const d=yr.calculateTileWidth(this.tilesetInfo,p,this.binsPerTile())/this.binsPerTile(),E=[this._xScale.invert(n),this._xScale.invert(n+c)],_=[this._yScale.invert(s),this._yScale.invert(s+h)],T=[Math.max(E[0],this.tilesetInfo.min_pos[0]),Math.min(E[1],this.tilesetInfo.max_pos[0])],C=[Math.max(_[0],this.tilesetInfo.min_pos[1]),Math.min(_[1],this.tilesetInfo.max_pos[1])],A=Math.floor(T[0]/d),D=Math.floor(C[0]/d),O=Math.max(0,Math.ceil((T[1]-T[0])/d)),B=Math.max(0,Math.ceil((C[1]-C[0])/d)),P=Py(new Array(B*O).fill(NaN),[B,O]);return this.visibleAndFetchedTiles().forEach(R=>{const $=R.mirrored?[R.tileData.tilePos[1],R.tileData.tilePos[0]]:R.tileData.tilePos,{tileX:W,tileY:Z,tileWidth:K,tileHeight:ae}=this.getTilePosAndDimensions(R.tileData.zoomLevel,$,this.binsPerTile()),le=Math.floor(W/d),J=Math.floor((W+K)/d),ge=Math.floor(Z/d),Ee=Math.floor((Z+ae)/d);let ne=Math.max(A,le)-le,ve=Math.max(D,ge)-ge;const Me=Math.min(A+O,J)-le,je=Math.min(D+B,Ee)-ge,Qe=Math.max(le-A,0),tt=Math.max(ge-D,0),st=Me-ne,Ct=je-ve;if(!(st<0||Ct<0)){if(R.mirrored&&ne>ve){const Be=ne;ne=ve,ve=Be}V7(P.hi(tt+Ct,Qe+st).lo(tt,Qe),R.dataArray.hi(ve+Ct,ne+st).lo(ve,ne))}}),P}},{key:"initTile",value:function(n){a(N(r.prototype),"initTile",this).call(this,n),n.tileData.dense.length===this.binsPerTile()**2&&(n.dataArray=Py(Array.from(n.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&n.tileData.tilePos[0]===n.tileData.tilePos[1]&&n.mirrored&&(n.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),a(N(r.prototype),"initTile",this).call(this,n))),!(this.scale.minValue===null||this.scale.maxValue===null)&&this.renderTile(n)}},{key:"updateTile",value:function(n){n.scale&&this.scale&&this.scale.minValue===n.scale.minValue&&this.scale.maxValue===n.scale.maxValue||(this.renderTile(n),this.drawColorbar())}},{key:"destroyTile",value:function(n){n.sprite.destroy(!0),n.canvas=null,n.sprite=null,n.texture=null}},{key:"pixDataFunction",value:function(n,s){if(s){const{graphics:c}=n,h=this.tileDataToCanvas(s.pixData);n.sprite&&n.sprite.destroy(!0);const p=er.PIXI.VERSION[0]==="4"?er.PIXI.Texture.fromCanvas(h,er.PIXI.SCALE_MODES.NEAREST):er.PIXI.Texture.from(h,{scaleMode:er.PIXI.SCALE_MODES.NEAREST}),m=new er.PIXI.Sprite(p);n.sprite=m,n.texture=p,n.canvas=h,this.setSpriteProperties(n.sprite,n.tileData.zoomLevel,n.tileData.tilePos,n.mirrored),c.removeChildren(),c.addChild(n.sprite)}this.renderingTiles.delete(n.tileId)}},{key:"renderTile",value:function(n){const[s]=this.updateValueScale(),c=0;if(this.renderingTiles.add(n.tileId),this.tilesetInfo.tile_size&&n.tileData.dense.length<this.tilesetInfo.tile_size){const h=new Float32Array(this.tilesetInfo.tile_size);h.fill(NaN),h.set(n.tileData.dense),n.tileData.dense=h}yr.tileDataToPixData(n,s,this.limitedValueScale.domain(),c,this.colorScale,h=>this.pixDataFunction(n,h),this.mirrorTiles()&&!n.mirrored&&n.tileData.tilePos[0]===n.tileData.tilePos[1],this.options.extent==="upper-right"&&n.tileData.tilePos[0]===n.tileData.tilePos[1],this.options.zeroValueColor?b7(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null,a(N(r.prototype),"remove",this).call(this)}},{key:"refScalesChanged",value:function(n,s){a(N(r.prototype),"refScalesChanged",this).call(this,n,s),Qx(this.fetchedTiles).filter(c=>c.sprite).forEach(c=>this.setSpriteProperties(c.sprite,c.tileData.zoomLevel,c.tileData.tilePos,c.mirrored))}},{key:"superSVG",value:function(){return a(N(r.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");n.appendChild(c),c.setAttribute("transform",`translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);for(const p of this.visibleAndFetchedTiles()){const m=p.sprite.rotation*180/Math.PI,d=document.createElement("g");d.setAttribute("transform",`translate(${p.sprite.x},${p.sprite.y}) rotate(${m}) scale(${p.sprite.scale.x},${p.sprite.scale.y})`);const E=document.createElement("image");E.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.canvas.toDataURL()),E.setAttribute("width",p.canvas.width),E.setAttribute("height",p.canvas.height),E.setAttribute("style","image-rendering: pixelated"),d.appendChild(E),c.appendChild(d)}const h=this.exportColorBarSVG();return n.appendChild(h),[s,s]}},{key:"getVisiblePartOfUppLeftTile",value:function(){const n=this.visibleAndFetchedTiles().map(C=>{const A=C.mirrored?[C.tileData.tilePos[1],C.tileData.tilePos[0]]:C.tileData.tilePos;return[A[0],A[1],C.tileId]});if(n.length===0)return null;let s=n[0];for(let C=0;C<n.length;C++){const A=n[C];(A[0]<s[0]||A[1]<s[1])&&(s=A)}const c=Math.min($M,this.binsPerTile()),h=this.binsPerTile()/c,p=this.visibleAndFetchedTiles().filter(C=>C.tileId===s[2])[0],m=this.getIndicesOfVisibleDataInTile(p),d=m[0],E=m[1],_=d-d%h,T=E-E%h;return[p.tileId,_,T]}},{key:"getIndicesOfVisibleDataInTile",value:function(n){const s=this._xScale.range(),c=this._yScale.range(),h=n.mirrored?[n.tileData.tilePos[1],n.tileData.tilePos[0]]:n.tileData.tilePos,{tileX:p,tileY:m,tileWidth:d,tileHeight:E}=this.getTilePosAndDimensions(n.tileData.zoomLevel,h,this.binsPerTile()),_=qr().domain([0,this.binsPerTile()]).range([p,p+d]),T=Math.max(0,Math.round(_.invert(this._xScale.invert(s[0])))-1),C=Math.min(this.binsPerTile(),Math.round(_.invert(this._xScale.invert(s[1])))),A=qr().domain([0,this.binsPerTile()]).range([m,m+E]),D=Math.max(0,Math.round(A.invert(this._yScale.invert(c[0])))-1),O=Math.min(this.binsPerTile(),Math.round(A.invert(this._yScale.invert(c[1]))));return n.mirrored&&h[0]!==h[1]?[D,T,O,C]:[T,D,C,O]}},{key:"minVisibleValue",value:function(n=!1){const s=this.visibleAndFetchedTiles().map(h=>{if(h.tileData.denseDataExtrema===void 0)return null;const p=this.getIndicesOfVisibleDataInTile(h);return h.tileData.denseDataExtrema.getMinNonZeroInSubset(p)});if(s.length===0&&this.valueScaleMax===null)return null;const c=Math.min.apply(null,s);return c===Number.MAX_SAFE_INTEGER?a(N(r.prototype),"minVisibleValue",this).call(this,n):n?c:this.valueScaleMin!==null?this.valueScaleMin:c}},{key:"maxVisibleValue",value:function(n=!1){const s=this.visibleAndFetchedTiles().map(h=>{if(h.tileData.denseDataExtrema===void 0)return null;const p=this.getIndicesOfVisibleDataInTile(h);return h.tileData.denseDataExtrema.getMaxNonZeroInSubset(p)});if(s.length===0&&this.valueScaleMax===null)return null;const c=Math.max.apply(null,s);return c===Number.MIN_SAFE_INTEGER?a(N(r.prototype),"maxVisibleValue",this).call(this,n):n?c:this.valueScaleMax!==null?this.valueScaleMax:c}},{key:"zoomed",value:function(n,s,c,h,p){if(this.brushing)return;a(N(r.prototype),"zoomed",this).call(this,n,s),this.pMain.position.x=h,this.pMain.position.y=p,this.pMain.scale.x=c,this.pMain.scale.y=c;const m=this.isValueScaleLocked();if(this.continuousScaling&&this.minValue()!==void 0&&this.maxValue()!==void 0){const d=JSON.stringify(this.getVisiblePartOfUppLeftTile());if(this.valueScaleMin===null&&this.valueScaleMax===null&&!m&&d!==this.prevIndUpperLeftTile){const E=this.minVisibleValue(),_=this.maxVisibleValue(),T=1e-6;E!==null&&_!==null&&(Math.abs(this.minValue()-E)>T||Math.abs(this.maxValue()-_)>T)&&(this.minValue(E),this.maxValue(_),this.scheduleRerender()),this.prevIndUpperLeftTile=d}m&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}},{key:"addTileId",value:function(n,s,c,h,p,m=!1){const d=[s,c,h];d.mirrored=m,d.dataTransform=p,n.push(d)}},{key:"tilesToId",value:function(n,s,c){const h=n,p=s,m=this.options&&this.options.dataTransform||"default",d=[];for(let E=0;E<h.length;E++)for(let _=0;_<p.length;_++)this.mirrorTiles()?(h[E]>=p[_]?this.options.extent!=="lower-left"&&this.addTileId(d,c,p[_],h[E],m,!0):this.options.extent!=="upper-right"&&this.addTileId(d,c,h[E],p[_],m),h[E]===p[_]&&this.options.extent==="lower-left"&&this.addTileId(d,c,h[E],p[_],m)):this.addTileId(d,c,h[E],p[_],m);return d}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const n=this.tilesetInfo.resolutions.map(s=>+s).sort((s,c)=>c-s);this.xTiles=yr.calculateTilesFromResolution(n[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=yr.calculateTilesFromResolution(n[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=yr.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=yr.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}},{key:"mirrorTiles",value:function(){return!(this.tilesetInfo.mirror_tiles&&(this.tilesetInfo.mirror_tiles===!1||this.tilesetInfo.mirror_tiles==="false"))}},{key:"getMouseOverHtml",value:function(n,s){if(!this.options||!this.options.showTooltip||!this.tilesetInfo)return"";const c=yr.calculateResolution(this.tilesetInfo,this.zoomLevel),h=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),p=Math.ceil(Math.log(h/c)/Math.log(10));this.setDataLensSize(1);const m=this._xScale.invert(n),d=this._yScale.invert(s);let E="<b>Position:</b> ";if(this.chromInfo){const T=no(m,this.chromInfo),C=no(d,this.chromInfo),A=D=>Xi(`.${p}s`)(D);E+=`${T[0]}:${A(T[1])} & ${C[0]}:${A(C[1])}`,E+="<br/>"}let _=null;try{_=this.getVisibleRectangleData(n,s,1,1).get(0,0)}catch{return""}return this.options&&this.options.heatmapValueScaling==="log"?_>0?`${E}<b>Value:</b> 1e${Xi(".3f")(Math.log(_)/Math.log(10))}`:_===0?`${E}<b>Value:</b> 0`:`${E}<b>Value:</b> N/A`:`${E}<b>Value:</b> ${Xi(".3f")(_)}`}},{key:"getTilePosAndDimensions",value:function(n,s,c){const h=c||this.binsPerTile();if(this.tilesetInfo.resolutions){const O=this.tilesetInfo.resolutions.map(W=>+W).sort((W,Z)=>Z-W)[n],B=O*h,P=B,R=O*h*s[0],$=O*h*s[1];return{tileX:R,tileY:$,tileWidth:B,tileHeight:P}}const p=s[0],m=s[1],d=this.tilesetInfo.min_pos[0],E=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],_=this.tilesetInfo.max_width/2**n,T=this.tilesetInfo.max_width/2**n,C=d+p*_,A=E+m*T;return{tileX:C,tileY:A,tileWidth:_,tileHeight:T}}},{key:"calculateZoomLevel",value:function(){const n=this.tilesetInfo.min_pos[0],s=this.tilesetInfo.max_pos[0],c=this.tilesetInfo.min_pos[1],h=this.tilesetInfo.max_pos[1];let p=null;if(this.tilesetInfo.resolutions){const m=yr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,n,s),d=yr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,c,h);p=Math.min(m,d)}else{const m=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),d=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());p=Math.max(m,d),p=Math.min(p,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?p=Math.min(this.options.maxZoom,p):console.error("Invalid maxZoom on track:",this)),p}},{key:"tileToLocalId",value:function(n){return n.dataTransform&&n.dataTransform!=="default"?`${n.join(".")}.${n.mirrored}.${n.dataTransform}`:`${n.join(".")}.${n.mirrored}`}},{key:"tileToRemoteId",value:function(n){return n.dataTransform&&n.dataTransform!=="default"?`${n.join(".")}.${n.dataTransform}`:`${n.join(".")}`}},{key:"localToRemoteId",value:function(n){const s=n.split(".");return s.slice(0,s.length-1).join(".")}}]),r})(Sp);function QZ(e){if(!e.graphics)return;const t=e.graphics,{tileX:r,tileY:i,tileWidth:n}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos);e.drawnAtScale=this._xScale.copy();const s=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),c=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=s,e.text.scale.y=c;const h=this._xScale(n)-this._xScale(0);if(e.textGraphics.scale.x=h/256,e.textGraphics.scale.y=h/256,t.clear(),t.lineStyle(4*s,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){const p=this._refXScale(i+n)-this._refXScale(i),m=this._refYScale(r+n)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(i)+p/2,e.textGraphics.position.y=this._refYScale(r)+m/2,t.drawRect(this._refXScale(i),this._refYScale(r),p,m)}else{const p=this._refXScale(r+n)-this._refXScale(r),m=this._refYScale(i+n)-this._refYScale(i);e.textGraphics.position.x=this._refXScale(r)+p/2,e.textGraphics.position.y=this._refYScale(i)+m/2,t.drawRect(this._refXScale(r),this._refYScale(i),p,m)}}function JZ(e){const t=e.graphics;e.textGraphics=new er.PIXI.Graphics,e.mirrored?e.text=new er.PIXI.Text(`${e.tileData.zoomLevel}/${[e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/")}`,{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):e.text=new er.PIXI.Text(`${e.tileData.zoomLevel}/${e.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics)}let eQ=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(n){JZ.bind(this)(n),this.drawTile(n)}},{key:"destroyTile",value:function(n,s){}},{key:"drawTile",value:function(n){QZ.bind(this)(n)}},{key:"fetchNewTiles",value:function(n){n.forEach(s=>{const h=s.remoteId.split("."),p={zoomLevel:h[0],tilePos:h.slice(1,h.length).map(m=>+m)};this.fetchedTiles[s.tileId]=s,this.fetchedTiles[s.tileId].tileData=p,this.fetching.has(s.remoteId)&&this.fetching.delete(s.remoteId)}),this.synchronizeTilesAndGraphics()}}]),r})(MS);const Q2e=1024;let LB=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{onMouseMoveZoom:c,isValueScaleLocked:h,getLockGroupExtrema:p}=i;return s.onMouseMoveZoom=c,s.isValueScaleLocked=h,s.getLockGroupExtrema=p,s.onMouseMoveZoom&&s.pubSubs.push(s.pubSub.subscribe("app.mouseMove",s.mouseMoveHandler.bind(S(s)))),s}return j(r,[{key:"initTile",value:function(n){a(N(r.prototype),"initTile",this).call(this,n)}},{key:"tileToLocalId",value:function(n){return`${n.join(".")}`}},{key:"tileToRemoteId",value:function(n){return`${n.join(".")}`}},{key:"relevantScale",value:function(){return null}},{key:"setVisibleTiles",value:function(n){this.visibleTiles=n.map(s=>({tileId:this.tileToLocalId(s),remoteId:this.tileToRemoteId(s)})),this.visibleTileIds=new Set(this.visibleTiles.map(s=>s.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const c=this.tilesetInfo.resolutions.map(m=>+m).sort((m,d)=>d-m),p=yr.calculateTilesFromResolution(c[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map(m=>[this.zoomLevel,m]);this.setVisibleTiles(p);return}const s=yr.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map(c=>[this.zoomLevel,c]);this.setVisibleTiles(s)}},{key:"getTilePosAndDimensions",value:function(n,s,c){const h=s[0],p=s[0];if(this.tilesetInfo.resolutions){const O=c||Q2e,P=this.tilesetInfo.resolutions.map(K=>+K).sort((K,ae)=>ae-K)[n],R=P*O,$=R,W=P*O*s[0],Z=P*O*s[1];return{tileX:W,tileY:Z,tileWidth:R,tileHeight:$}}const m=this.tilesetInfo.max_width,d=this.tilesetInfo.max_width,E=this.tilesetInfo.min_pos[0],_=this.tilesetInfo.min_pos[1],T=m/2**n,C=d/2**n,A=E+h*T,D=_+p*C;return{tileX:A,tileY:D,tileWidth:T,tileHeight:C}}},{key:"updateTile",value:function(n){}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!1)}},{key:"getIndicesOfVisibleDataInTile",value:function(n){const s=this._xScale.range();if(!this.tilesetInfo)return[null,null];const{tileX:c,tileWidth:h}=this.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),p=qr().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([c,c+h]),m=Math.max(0,Math.round(p.invert(this._xScale.invert(s[0])))),d=Math.min(n.tileData.dense.length,Math.round(p.invert(this._xScale.invert(s[1]))));return[m,d]}},{key:"minVisibleValue",value:function(n=!1){let s=this.visibleAndFetchedIds();s.length===0&&(s=Object.keys(this.fetchedTiles));const c=s.map(p=>this.fetchedTiles[p]).map(p=>{const m=this.getIndicesOfVisibleDataInTile(p);return p.tileData.denseDataExtrema.getMinNonZeroInSubset(m)}),h=Math.min(...c);return n?h:this.valueScaleMin!==null?this.valueScaleMin:h}},{key:"maxVisibleValue",value:function(n=!1){let s=this.visibleAndFetchedIds();s.length===0&&(s=Object.keys(this.fetchedTiles));const c=s.map(p=>this.fetchedTiles[p]).map(p=>{const m=this.getIndicesOfVisibleDataInTile(p);return p.tileData.denseDataExtrema.getMaxNonZeroInSubset(m)}),h=Math.max(...c);return n?h:this.valueScaleMax!==null?this.valueScaleMax:h}},{key:"getAggregatedVisibleValue",value:function(n="max"){const s=n==="min"?Math.min:Math.max,c=n==="min"?1/0:-1/0;let h=this.visibleAndFetchedIds();h.length===0&&(h=Object.keys(this.fetchedTiles));const p=this._xScale.range();return h.map(m=>this.fetchedTiles[m]).map(m=>{if(!m.tileData.tilePos)return n==="min"?this.minVisibleValue():this.maxVisibleValue();const{tileX:d,tileWidth:E}=this.getTilePosAndDimensions(m.tileData.zoomLevel,m.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),_=qr().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([d,d+E]),T=Math.max(0,Math.round(_.invert(this._xScale.invert(p[0])))),C=Math.min(m.tileData.dense.length,Math.round(_.invert(this._xScale.invert(p[1]))));return m.tileData.dense.slice(T,C)}).reduce((m,d)=>s(m,...d),c)}},{key:"getDataAtPos",value:function(n){let s;if(!this.tilesetInfo)return s;const c=this.calculateZoomLevel(),h=yr.calculateTileWidth(this.tilesetInfo,c,this.tilesetInfo.tile_size),p=this._xScale.invert(n)/h,m=this.tileToLocalId([c,Math.floor(p)]),d=this.fetchedTiles[m];if(!d)return s;const E=this.tilesetInfo.tile_size*(p-Math.floor(p));return d.tileData.dense?d.tileData.dense[Math.floor(E)]:null}},{key:"mouseMoveHandler",value:function({x:n,y:s}={}){this.isWithin(n,s)&&(this.mouseX=n,this.mouseY=s,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){}},{key:"zoomed",value:function(...n){a(N(r.prototype),"zoomed",this).call(this,...n),this.mouseMoveZoomHandler()}}]),r})(Sp),U1=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{animate:c,isShowGlobalMousePosition:h}=i;return s.constIndicator=new er.PIXI.Graphics,s.pMain.addChild(s.constIndicator),s.axis=new PD(S(s)),s.pBase.addChild(s.axis.pAxis),s.animate=c,s.options=n,s.isShowGlobalMousePosition=h,s.pubSubs=[],s.options.showMousePosition&&!s.hideMousePosition&&(s.hideMousePosition=vg(S(s),s.is2d,s.isShowGlobalMousePosition())),s}return j(r,[{key:"rerender",value:function(n,s){const c=JSON.stringify(n);!s&&c===this.prevOptions||(a(N(r.prototype),"rerender",this).call(this,n,s),this.prevOptions=c,this.options=n,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=vg(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo.resolutions)return yr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);const n=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size);let s=Math.min(n,this.maxZoom);return s=Math.max(s,0),s}},{key:"relevantScale",value:function(){return this._xScale}},{key:"draw",value:function(){a(N(r.prototype),"draw",this).call(this),this.drawConstIndicator()}},{key:"drawAxis",value:function(n){if(!this.options.axisPositionVertical&&!this.options.axisPositionHorizontal){this.axis.clearAxis();return}if(this.options.axisPositionVertical&&this.options.axisPositionVertical==="hidden"){this.axis.clearAxis();return}if(this.options.axisPositionHorizontal&&this.options.axisPositionHorizontal==="hidden"){this.axis.clearAxis();return}const s=this.options.axisMargin||0;this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"?(this.axis.pAxis.position.x=this.position[0]+s,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(n,this.dimensions[1])):this.options.axisPositionHorizontal==="outsideLeft"||this.options.axisPositionVertical==="outsideTop"?(this.axis.pAxis.position.x=this.position[0]+s,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(n,this.dimensions[1])):this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-s,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(n,this.dimensions[1])):(this.options.axisPositionHorizontal==="outsideRight"||this.options.axisPositionVertical==="outsideBottom")&&(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-s,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(n,this.dimensions[1]))}},{key:"mouseMoveZoomHandler",value:function(n=this.mouseX,s=this.mouseY){if(typeof n>"u"||!this.areAllVisibleTilesLoaded()||!this.tilesetInfo)return;let c=0,h=0,p="1d-horizontal";this.isLeftModified?(c=s-this.position[1],h=n-this.position[0],p="1d-vertical"):(c=n-this.position[0],h=s-this.position[1]);const m=n-this.position[0],d=s-this.position[1],E=this._xScale.invert(c),_=this._yScale.invert(h),T=this.getDataAtPos(c);T&&this.onMouseMoveZoom({trackId:this.id,data:T,absX:n,absY:s,relX:m,relY:d,dataX:E,dataY:_,orientation:p})}},{key:"drawConstIndicator",value:function(){if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);!this.options.constIndicators||!this.valueScale||this.options.constIndicators.forEach(({color:n="black",opacity:s=1,label:c=null,labelColor:h="black",labelOpacity:p=1,labelPosition:m="leftTop",labelSize:d=12,value:E=0}={})=>{const _=Pr(n),T=Pr(h);this.constIndicator.beginFill(_,s);const C=this.valueScale(E);let A=0,D=0;if(c){const O=new er.PIXI.Text(c,{fontFamily:"Arial",fontSize:d,fill:T});switch(O.alpha=p,m){case"right":O.anchor.x=1,O.anchor.y=.5,O.x=this.position[0]+this.dimensions[0]-6,O.y=C,D=O.width+8;break;case"rightBottom":O.anchor.x=1,O.anchor.y=0,O.x=this.position[0]+this.dimensions[0]-6,O.y=C;break;case"rightTop":O.anchor.x=1,O.anchor.y=1,O.x=this.position[0]+this.dimensions[0]-6,O.y=C;break;case"left":O.anchor.x=0,O.anchor.y=.5,O.x=this.position[0]+2,O.y=C,A=O.width+4;break;case"leftBottom":O.anchor.x=0,O.anchor.y=0,O.x=this.position[0]+2,O.y=C;break;case"leftTop":default:O.anchor.x=0,O.anchor.y=1,O.x=this.position[0]+2,O.y=C;break}this.constIndicator.addChild(O)}this.constIndicator.drawRect(this.position[0]+A,C,this.dimensions[0]-D,1)})}}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s),s.setAttribute("class","horizontal-tiled-1d-track");const c=document.createElement("g");return n.appendChild(c),this.options.constIndicators&&this.options.constIndicators.forEach(({color:h="black",opacity:p=1,label:m=null,labelColor:d="black",labelOpacity:E=1,labelPosition:_="leftTop",labelSize:T=12,value:C=0}={})=>{const A=this.valueScale(C);if(m){const O=document.createElement("text");switch(O.textContent=m,O.setAttribute("x",this.position[0]),O.setAttribute("y",A),O.setAttribute("style",`font-family: 'Arial'; font-size: ${T}px; fill: ${d}; fill-opacity: ${E};`),_){case"rightBottom":O.setAttribute("x",this.position[0]+this.dimensions[0]-6),O.setAttribute("y",A+T+2),O.setAttribute("text-anchor","end");break;case"right":case"rightTop":O.setAttribute("x",this.position[0]+this.dimensions[0]-6),O.setAttribute("y",A-2),O.setAttribute("text-anchor","end");break;case"leftBottom":O.setAttribute("x",this.position[0]+2),O.setAttribute("y",A+T+2);break;case"left":case"leftTop":default:O.setAttribute("x",this.position[0]+2),O.setAttribute("y",A-2);break}c.appendChild(O)}const D=document.createElement("line");D.setAttribute("x1",this.position[0]),D.setAttribute("y1",A),D.setAttribute("x2",this.dimensions[0]),D.setAttribute("y2",A),D.setAttribute("stroke",h),D.setAttribute("stroke-opacity",p),c.appendChild(D)}),[s,n]}}]),r})(LB),tQ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.pMain=s.pMobile,s}return j(r,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(n){const s=n.graphics;n.textGraphics=new er.PIXI.Graphics,n.text=new er.PIXI.Text(`${n.tileData.zoomLevel}/${n.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),n.textGraphics.addChild(n.text),n.text.anchor.x=.5,n.text.anchor.y=.5,s.addChild(n.textGraphics),this.drawTile(n)}},{key:"destroyTile",value:function(n){}},{key:"drawTile",value:function(n){if(a(N(r.prototype),"drawTile",this).call(this,n),!n.graphics)return;const s=n.graphics,{tileX:c,tileWidth:h}=this.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos),p=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));n.text.scale.x=p,s.clear();const m=this.dimensions[1],d=this._refXScale(c+h)-this._refXScale(c);n.textGraphics.position.x=this._refXScale(c)+d/2,n.textGraphics.position.y=m/2;const E=this._refXScale(c);s.lineStyle(4*p,255,1),s.beginFill(16740363,.4),s.alpha=.5,s.moveTo(E,0),s.lineTo(E,m),s.moveTo(E+d,0),s.lineTo(E+d,m),s.lineStyle(0,255,1),s.drawRect(E,0,d,m)}}]),r})(U1),rQ=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"calculateZoomLevel",value:function(){const n=yr.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(n,this.maxZoom)}},{key:"relevantScale",value:function(){return this._yScale}},{key:"zoomed",value:function(n,s){a(N(r.prototype),"zoomed",this).call(this,n,s);const c=1,h=(s(1)-s(0))/(this._refYScale(1)-this._refYScale(0)),p=this.position[0],m=s(0)+this.position[1]-this._refYScale(1)*h;this.pMain.position.x=p,this.pMain.position.y=m,this.pMain.scale.x=c,this.pMain.scale.y=h}}]),r})(LB),nQ=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(n){const s=n.graphics;n.textGraphics=new er.PIXI.Graphics,n.text=new er.PIXI.Text(`${n.tileData.zoomLevel}/${n.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),n.textGraphics.addChild(n.text),n.text.anchor.x=.5,n.text.anchor.y=.5,n.text.rotation=-Math.PI/2,s.addChild(n.textGraphics),this.drawTile(n,s)}},{key:"destroyTile",value:function(n,s){}},{key:"drawTile",value:function(n){if(a(N(r.prototype),"drawTile",this).call(this,n),!n.graphics)return;const s=n.graphics,{tileY:c,tileHeight:h}=this.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos),p=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));n.text.scale.x=p,s.clear(),s.lineStyle(4*p,255,1),s.beginFill(16740363,.4),s.alpha=.5;const m=this.dimensions[0],d=this._refYScale(c+h)-this._refYScale(c);n.textGraphics.position.x=m/2,n.textGraphics.position.y=this._refYScale(c)+d/2,s.drawRect(0,this._refYScale(c),m,d)}},{key:"fetchNewTiles",value:function(n){n.forEach(s=>{const h=s.remoteId.split("."),p={zoomLevel:h[1],tilePos:h.slice(2,h.length).map(m=>+m)};this.fetchedTiles[s.tileId]=s,this.fetchedTiles[s.tileId].tileData=p,this.fetching.has(s.remoteId)&&this.fetching.delete(s.remoteId)}),this.synchronizeTilesAndGraphics()}}]),r})(rQ);var BB=Array.prototype.slice;function J2e(e){return e}var eO=1,tO=2,FB=3,LS=4,iQ=1e-6;function e5e(e){return"translate("+e+",0)"}function t5e(e){return"translate(0,"+e+")"}function r5e(e){return t=>+e(t)}function n5e(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function i5e(){return!this.__axis}function rO(e,t){var r=[],i=null,n=null,s=6,c=6,h=3,p=typeof window<"u"&&window.devicePixelRatio>1?0:.5,m=e===eO||e===LS?-1:1,d=e===LS||e===tO?"x":"y",E=e===eO||e===FB?e5e:t5e;function _(T){var C=i??(t.ticks?t.ticks.apply(t,r):t.domain()),A=n??(t.tickFormat?t.tickFormat.apply(t,r):J2e),D=Math.max(s,0)+h,O=t.range(),B=+O[0]+p,P=+O[O.length-1]+p,R=(t.bandwidth?n5e:r5e)(t.copy(),p),$=T.selection?T.selection():T,W=$.selectAll(".domain").data([null]),Z=$.selectAll(".tick").data(C,t).order(),K=Z.exit(),ae=Z.enter().append("g").attr("class","tick"),le=Z.select("line"),J=Z.select("text");W=W.merge(W.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Z=Z.merge(ae),le=le.merge(ae.append("line").attr("stroke","currentColor").attr(d+"2",m*s)),J=J.merge(ae.append("text").attr("fill","currentColor").attr(d,m*D).attr("dy",e===eO?"0em":e===FB?"0.71em":"0.32em")),T!==$&&(W=W.transition(T),Z=Z.transition(T),le=le.transition(T),J=J.transition(T),K=K.transition(T).attr("opacity",iQ).attr("transform",function(ge){return isFinite(ge=R(ge))?E(ge+p):this.getAttribute("transform")}),ae.attr("opacity",iQ).attr("transform",function(ge){var Ee=this.parentNode.__axis;return E((Ee&&isFinite(Ee=Ee(ge))?Ee:R(ge))+p)})),K.remove(),W.attr("d",e===LS||e===tO?c?"M"+m*c+","+B+"H"+p+"V"+P+"H"+m*c:"M"+p+","+B+"V"+P:c?"M"+B+","+m*c+"V"+p+"H"+P+"V"+m*c:"M"+B+","+p+"H"+P),Z.attr("opacity",1).attr("transform",function(ge){return E(R(ge)+p)}),le.attr(d+"2",m*s),J.attr(d,m*D).text(A),$.filter(i5e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===tO?"start":e===LS?"end":"middle"),$.each(function(){this.__axis=R})}return _.scale=function(T){return arguments.length?(t=T,_):t},_.ticks=function(){return r=BB.call(arguments),_},_.tickArguments=function(T){return arguments.length?(r=T==null?[]:BB.call(T),_):r.slice()},_.tickValues=function(T){return arguments.length?(i=T==null?null:BB.call(T),_):i&&i.slice()},_.tickFormat=function(T){return arguments.length?(n=T,_):n},_.tickSize=function(T){return arguments.length?(s=c=+T,_):s},_.tickSizeInner=function(T){return arguments.length?(s=+T,_):s},_.tickSizeOuter=function(T){return arguments.length?(c=+T,_):c},_.tickPadding=function(T){return arguments.length?(h=+T,_):h},_.offset=function(T){return arguments.length?(p=+T,_):p},_}function aQ(e){return rO(eO,e)}function a5e(e){return rO(tO,e)}function o5e(e){return rO(FB,e)}function oQ(e){return rO(LS,e)}const s5e=Object.freeze(Object.defineProperty({__proto__:null,axisTop:aQ,axisRight:a5e,axisBottom:o5e,axisLeft:oQ},Symbol.toStringTag,{value:"Module"}));let xp=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{svgElement:c}=i;return s.gMain=tn(c).append("g"),s.clipUid=hn.nice(),s.clipRect=s.gMain.append("clipPath").attr("id",`track-bounds-${s.clipUid}`).append("rect"),s.gMain.attr("clip-path",`url(#track-bounds-${s.clipUid})`),s}return j(r,[{key:"setPosition",value:function(n){this.position=n,this.gMain.attr("transform",`translate(${this.position[0]},${this.position[1]})`),this.draw()}},{key:"setDimensions",value:function(n){this.dimensions=n,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),n[0]>=0&&n[1]>=0?(this.clipRect.attr("width",n[0]),this.clipRect.attr("height",n[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null}},{key:"draw",value:function(){return this}}]),r})(I1),sQ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.axis=aQ(s._xScale),s.gAxis=s.gMain.append("g"),s.tilesetInfo=!0,s}return j(r,[{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform",`translate(0,${n[1]})`)}},{key:"draw",value:function(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(n,s){a(N(r.prototype),"zoomed",this).call(this,n,s),this.draw()}}]),r})(xp),lQ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.axis=oQ(s._yScale),s.gAxis=s.gMain.append("g"),s.tilesetInfo=!0,s}return j(r,[{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform",`translate(${n[0]},0)`)}},{key:"draw",value:function(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(n,s){a(N(r.prototype),"zoomed",this).call(this,n,s),this.draw()}}]),r})(xp);var Cn={},Ji={},UB=32;Ji.INT_BITS=UB,Ji.INT_MAX=2147483647,Ji.INT_MIN=-1<<UB-1,Ji.sign=function(e){return(e>0)-(e<0)},Ji.abs=function(e){var t=e>>UB-1;return(e^t)-t},Ji.min=function(e,t){return t^(e^t)&-(e<t)},Ji.max=function(e,t){return e^(e^t)&-(e<t)},Ji.isPow2=function(e){return!(e&e-1)&&!!e},Ji.log2=function(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,t|=r,t|e>>1},Ji.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},Ji.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function uQ(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&(t-=1),t}Ji.countTrailingZeros=uQ,Ji.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},Ji.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},Ji.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var BS=new Array(256);(function(e){for(var t=0;t<256;++t){var r=t,i=t,n=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=r&1,--n;e[t]=i<<n&255}})(BS),Ji.reverse=function(e){return BS[e&255]<<24|BS[e>>>8&255]<<16|BS[e>>>16&255]<<8|BS[e>>>24&255]},Ji.interleave2=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1},Ji.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},Ji.interleave3=function(e,t,r){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|r<<2},Ji.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},Ji.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>uQ(e)+1};function cQ(e,t,r){var i=e[r]|0;if(i<=0)return[];var n=new Array(i),s;if(r===e.length-1)for(s=0;s<i;++s)n[s]=t;else for(s=0;s<i;++s)n[s]=cQ(e,t,r+1);return n}function l5e(e,t){var r,i;for(r=new Array(e),i=0;i<e;++i)r[i]=t;return r}function u5e(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return l5e(e|0,t);break;case"object":if(typeof e.length=="number")return cQ(e,t,0);break}return[]}var c5e=u5e,hQ={},nO={};nO.byteLength=d5e,nO.toByteArray=m5e,nO.fromByteArray=y5e;for(var Ph=[],Eu=[],h5e=typeof Uint8Array<"u"?Uint8Array:Array,HB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H1=0,f5e=HB.length;H1<f5e;++H1)Ph[H1]=HB[H1],Eu[HB.charCodeAt(H1)]=H1;Eu[45]=62,Eu[95]=63;function fQ(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function d5e(e){var t=fQ(e),r=t[0],i=t[1];return(r+i)*3/4-i}function p5e(e,t,r){return(t+r)*3/4-r}function m5e(e){var t,r=fQ(e),i=r[0],n=r[1],s=new h5e(p5e(e,i,n)),c=0,h=n>0?i-4:i,p;for(p=0;p<h;p+=4)t=Eu[e.charCodeAt(p)]<<18|Eu[e.charCodeAt(p+1)]<<12|Eu[e.charCodeAt(p+2)]<<6|Eu[e.charCodeAt(p+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=t&255;return n===2&&(t=Eu[e.charCodeAt(p)]<<2|Eu[e.charCodeAt(p+1)]>>4,s[c++]=t&255),n===1&&(t=Eu[e.charCodeAt(p)]<<10|Eu[e.charCodeAt(p+1)]<<4|Eu[e.charCodeAt(p+2)]>>2,s[c++]=t>>8&255,s[c++]=t&255),s}function g5e(e){return Ph[e>>18&63]+Ph[e>>12&63]+Ph[e>>6&63]+Ph[e&63]}function v5e(e,t,r){for(var i,n=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),n.push(g5e(i));return n.join("")}function y5e(e){for(var t,r=e.length,i=r%3,n=[],s=16383,c=0,h=r-i;c<h;c+=s)n.push(v5e(e,c,c+s>h?h:c+s));return i===1?(t=e[r-1],n.push(Ph[t>>2]+Ph[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],n.push(Ph[t>>10]+Ph[t>>4&63]+Ph[t<<2&63]+"=")),n.join("")}var $B={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$B.read=function(e,t,r,i,n){var s,c,h=n*8-i-1,p=(1<<h)-1,m=p>>1,d=-7,E=r?n-1:0,_=r?-1:1,T=e[t+E];for(E+=_,s=T&(1<<-d)-1,T>>=-d,d+=h;d>0;s=s*256+e[t+E],E+=_,d-=8);for(c=s&(1<<-d)-1,s>>=-d,d+=i;d>0;c=c*256+e[t+E],E+=_,d-=8);if(s===0)s=1-m;else{if(s===p)return c?NaN:(T?-1:1)*(1/0);c=c+Math.pow(2,i),s=s-m}return(T?-1:1)*c*Math.pow(2,s-i)},$B.write=function(e,t,r,i,n,s){var c,h,p,m=s*8-n-1,d=(1<<m)-1,E=d>>1,_=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=i?0:s-1,C=i?1:-1,A=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(h=isNaN(t)?1:0,c=d):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+E>=1?t+=_/p:t+=_*Math.pow(2,1-E),t*p>=2&&(c++,p/=2),c+E>=d?(h=0,c=d):c+E>=1?(h=(t*p-1)*Math.pow(2,n),c=c+E):(h=t*Math.pow(2,E-1)*Math.pow(2,n),c=0));n>=8;e[r+T]=h&255,T+=C,h/=256,n-=8);for(c=c<<n|h,m+=n;m>0;e[r+T]=c&255,T+=C,c/=256,m-=8);e[r+T-C]|=A*128};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/(function(e){const t=nO,r=$B,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=h,e.SlowBuffer=B,e.INSPECT_MAX_BYTES=50;const n=2147483647;e.kMaxLength=n,h.TYPED_ARRAY_SUPPORT=s(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const Q=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(Q,G),Q.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function c(Q){if(Q>n)throw new RangeError('The value "'+Q+'" is invalid for option "size"');const G=new Uint8Array(Q);return Object.setPrototypeOf(G,h.prototype),G}function h(Q,G,Y){if(typeof Q=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(Q)}return p(Q,G,Y)}h.poolSize=8192;function p(Q,G,Y){if(typeof Q=="string")return _(Q,G);if(ArrayBuffer.isView(Q))return C(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(en(Q,ArrayBuffer)||Q&&en(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(en(Q,SharedArrayBuffer)||Q&&en(Q.buffer,SharedArrayBuffer)))return A(Q,G,Y);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ye=Q.valueOf&&Q.valueOf();if(ye!=null&&ye!==Q)return h.from(ye,G,Y);const Ge=D(Q);if(Ge)return Ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return h.from(Q[Symbol.toPrimitive]("string"),G,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}h.from=function(Q,G,Y){return p(Q,G,Y)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function d(Q,G,Y){return m(Q),Q<=0?c(Q):G!==void 0?typeof Y=="string"?c(Q).fill(G,Y):c(Q).fill(G):c(Q)}h.alloc=function(Q,G,Y){return d(Q,G,Y)};function E(Q){return m(Q),c(Q<0?0:O(Q)|0)}h.allocUnsafe=function(Q){return E(Q)},h.allocUnsafeSlow=function(Q){return E(Q)};function _(Q,G){if((typeof G!="string"||G==="")&&(G="utf8"),!h.isEncoding(G))throw new TypeError("Unknown encoding: "+G);const Y=P(Q,G)|0;let ye=c(Y);const Ge=ye.write(Q,G);return Ge!==Y&&(ye=ye.slice(0,Ge)),ye}function T(Q){const G=Q.length<0?0:O(Q.length)|0,Y=c(G);for(let ye=0;ye<G;ye+=1)Y[ye]=Q[ye]&255;return Y}function C(Q){if(en(Q,Uint8Array)){const G=new Uint8Array(Q);return A(G.buffer,G.byteOffset,G.byteLength)}return T(Q)}function A(Q,G,Y){if(G<0||Q.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<G+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let ye;return G===void 0&&Y===void 0?ye=new Uint8Array(Q):Y===void 0?ye=new Uint8Array(Q,G):ye=new Uint8Array(Q,G,Y),Object.setPrototypeOf(ye,h.prototype),ye}function D(Q){if(h.isBuffer(Q)){const G=O(Q.length)|0,Y=c(G);return Y.length===0||Q.copy(Y,0,0,G),Y}if(Q.length!==void 0)return typeof Q.length!="number"||kt(Q.length)?c(0):T(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return T(Q.data)}function O(Q){if(Q>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return Q|0}function B(Q){return+Q!=Q&&(Q=0),h.alloc(+Q)}h.isBuffer=function(G){return G!=null&&G._isBuffer===!0&&G!==h.prototype},h.compare=function(G,Y){if(en(G,Uint8Array)&&(G=h.from(G,G.offset,G.byteLength)),en(Y,Uint8Array)&&(Y=h.from(Y,Y.offset,Y.byteLength)),!h.isBuffer(G)||!h.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(G===Y)return 0;let ye=G.length,Ge=Y.length;for(let Ze=0,ct=Math.min(ye,Ge);Ze<ct;++Ze)if(G[Ze]!==Y[Ze]){ye=G[Ze],Ge=Y[Ze];break}return ye<Ge?-1:Ge<ye?1:0},h.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(G,Y){if(!Array.isArray(G))throw new TypeError('"list" argument must be an Array of Buffers');if(G.length===0)return h.alloc(0);let ye;if(Y===void 0)for(Y=0,ye=0;ye<G.length;++ye)Y+=G[ye].length;const Ge=h.allocUnsafe(Y);let Ze=0;for(ye=0;ye<G.length;++ye){let ct=G[ye];if(en(ct,Uint8Array))Ze+ct.length>Ge.length?(h.isBuffer(ct)||(ct=h.from(ct)),ct.copy(Ge,Ze)):Uint8Array.prototype.set.call(Ge,ct,Ze);else if(h.isBuffer(ct))ct.copy(Ge,Ze);else throw new TypeError('"list" argument must be an Array of Buffers');Ze+=ct.length}return Ge};function P(Q,G){if(h.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||en(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);const Y=Q.length,ye=arguments.length>2&&arguments[2]===!0;if(!ye&&Y===0)return 0;let Ge=!1;for(;;)switch(G){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return gr(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return Dn(Q).length;default:if(Ge)return ye?-1:gr(Q).length;G=(""+G).toLowerCase(),Ge=!0}}h.byteLength=P;function R(Q,G,Y){let ye=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,G>>>=0,Y<=G))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return tt(this,G,Y);case"utf8":case"utf-8":return ne(this,G,Y);case"ascii":return je(this,G,Y);case"latin1":case"binary":return Qe(this,G,Y);case"base64":return Ee(this,G,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,G,Y);default:if(ye)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ye=!0}}h.prototype._isBuffer=!0;function $(Q,G,Y){const ye=Q[G];Q[G]=Q[Y],Q[Y]=ye}h.prototype.swap16=function(){const G=this.length;if(G%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Y=0;Y<G;Y+=2)$(this,Y,Y+1);return this},h.prototype.swap32=function(){const G=this.length;if(G%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Y=0;Y<G;Y+=4)$(this,Y,Y+3),$(this,Y+1,Y+2);return this},h.prototype.swap64=function(){const G=this.length;if(G%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Y=0;Y<G;Y+=8)$(this,Y,Y+7),$(this,Y+1,Y+6),$(this,Y+2,Y+5),$(this,Y+3,Y+4);return this},h.prototype.toString=function(){const G=this.length;return G===0?"":arguments.length===0?ne(this,0,G):R.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(G){if(!h.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G?!0:h.compare(this,G)===0},h.prototype.inspect=function(){let G="";const Y=e.INSPECT_MAX_BYTES;return G=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(G+=" ... "),"<Buffer "+G+">"},i&&(h.prototype[i]=h.prototype.inspect),h.prototype.compare=function(G,Y,ye,Ge,Ze){if(en(G,Uint8Array)&&(G=h.from(G,G.offset,G.byteLength)),!h.isBuffer(G))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof G);if(Y===void 0&&(Y=0),ye===void 0&&(ye=G?G.length:0),Ge===void 0&&(Ge=0),Ze===void 0&&(Ze=this.length),Y<0||ye>G.length||Ge<0||Ze>this.length)throw new RangeError("out of range index");if(Ge>=Ze&&Y>=ye)return 0;if(Ge>=Ze)return-1;if(Y>=ye)return 1;if(Y>>>=0,ye>>>=0,Ge>>>=0,Ze>>>=0,this===G)return 0;let ct=Ze-Ge,or=ye-Y;const dr=Math.min(ct,or),xr=this.slice(Ge,Ze),br=G.slice(Y,ye);for(let Nr=0;Nr<dr;++Nr)if(xr[Nr]!==br[Nr]){ct=xr[Nr],or=br[Nr];break}return ct<or?-1:or<ct?1:0};function W(Q,G,Y,ye,Ge){if(Q.length===0)return-1;if(typeof Y=="string"?(ye=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,kt(Y)&&(Y=Ge?0:Q.length-1),Y<0&&(Y=Q.length+Y),Y>=Q.length){if(Ge)return-1;Y=Q.length-1}else if(Y<0)if(Ge)Y=0;else return-1;if(typeof G=="string"&&(G=h.from(G,ye)),h.isBuffer(G))return G.length===0?-1:Z(Q,G,Y,ye,Ge);if(typeof G=="number")return G=G&255,typeof Uint8Array.prototype.indexOf=="function"?Ge?Uint8Array.prototype.indexOf.call(Q,G,Y):Uint8Array.prototype.lastIndexOf.call(Q,G,Y):Z(Q,[G],Y,ye,Ge);throw new TypeError("val must be string, number or Buffer")}function Z(Q,G,Y,ye,Ge){let Ze=1,ct=Q.length,or=G.length;if(ye!==void 0&&(ye=String(ye).toLowerCase(),ye==="ucs2"||ye==="ucs-2"||ye==="utf16le"||ye==="utf-16le")){if(Q.length<2||G.length<2)return-1;Ze=2,ct/=2,or/=2,Y/=2}function dr(br,Nr){return Ze===1?br[Nr]:br.readUInt16BE(Nr*Ze)}let xr;if(Ge){let br=-1;for(xr=Y;xr<ct;xr++)if(dr(Q,xr)===dr(G,br===-1?0:xr-br)){if(br===-1&&(br=xr),xr-br+1===or)return br*Ze}else br!==-1&&(xr-=xr-br),br=-1}else for(Y+or>ct&&(Y=ct-or),xr=Y;xr>=0;xr--){let br=!0;for(let Nr=0;Nr<or;Nr++)if(dr(Q,xr+Nr)!==dr(G,Nr)){br=!1;break}if(br)return xr}return-1}h.prototype.includes=function(G,Y,ye){return this.indexOf(G,Y,ye)!==-1},h.prototype.indexOf=function(G,Y,ye){return W(this,G,Y,ye,!0)},h.prototype.lastIndexOf=function(G,Y,ye){return W(this,G,Y,ye,!1)};function K(Q,G,Y,ye){Y=Number(Y)||0;const Ge=Q.length-Y;ye?(ye=Number(ye),ye>Ge&&(ye=Ge)):ye=Ge;const Ze=G.length;ye>Ze/2&&(ye=Ze/2);let ct;for(ct=0;ct<ye;++ct){const or=parseInt(G.substr(ct*2,2),16);if(kt(or))return ct;Q[Y+ct]=or}return ct}function ae(Q,G,Y,ye){return ta(gr(G,Q.length-Y),Q,Y,ye)}function le(Q,G,Y,ye){return ta(sn(G),Q,Y,ye)}function J(Q,G,Y,ye){return ta(Dn(G),Q,Y,ye)}function ge(Q,G,Y,ye){return ta(nn(G,Q.length-Y),Q,Y,ye)}h.prototype.write=function(G,Y,ye,Ge){if(Y===void 0)Ge="utf8",ye=this.length,Y=0;else if(ye===void 0&&typeof Y=="string")Ge=Y,ye=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(ye)?(ye=ye>>>0,Ge===void 0&&(Ge="utf8")):(Ge=ye,ye=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ze=this.length-Y;if((ye===void 0||ye>Ze)&&(ye=Ze),G.length>0&&(ye<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ge||(Ge="utf8");let ct=!1;for(;;)switch(Ge){case"hex":return K(this,G,Y,ye);case"utf8":case"utf-8":return ae(this,G,Y,ye);case"ascii":case"latin1":case"binary":return le(this,G,Y,ye);case"base64":return J(this,G,Y,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,G,Y,ye);default:if(ct)throw new TypeError("Unknown encoding: "+Ge);Ge=(""+Ge).toLowerCase(),ct=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ee(Q,G,Y){return G===0&&Y===Q.length?t.fromByteArray(Q):t.fromByteArray(Q.slice(G,Y))}function ne(Q,G,Y){Y=Math.min(Q.length,Y);const ye=[];let Ge=G;for(;Ge<Y;){const Ze=Q[Ge];let ct=null,or=Ze>239?4:Ze>223?3:Ze>191?2:1;if(Ge+or<=Y){let dr,xr,br,Nr;switch(or){case 1:Ze<128&&(ct=Ze);break;case 2:dr=Q[Ge+1],(dr&192)===128&&(Nr=(Ze&31)<<6|dr&63,Nr>127&&(ct=Nr));break;case 3:dr=Q[Ge+1],xr=Q[Ge+2],(dr&192)===128&&(xr&192)===128&&(Nr=(Ze&15)<<12|(dr&63)<<6|xr&63,Nr>2047&&(Nr<55296||Nr>57343)&&(ct=Nr));break;case 4:dr=Q[Ge+1],xr=Q[Ge+2],br=Q[Ge+3],(dr&192)===128&&(xr&192)===128&&(br&192)===128&&(Nr=(Ze&15)<<18|(dr&63)<<12|(xr&63)<<6|br&63,Nr>65535&&Nr<1114112&&(ct=Nr))}}ct===null?(ct=65533,or=1):ct>65535&&(ct-=65536,ye.push(ct>>>10&1023|55296),ct=56320|ct&1023),ye.push(ct),Ge+=or}return Me(ye)}const ve=4096;function Me(Q){const G=Q.length;if(G<=ve)return String.fromCharCode.apply(String,Q);let Y="",ye=0;for(;ye<G;)Y+=String.fromCharCode.apply(String,Q.slice(ye,ye+=ve));return Y}function je(Q,G,Y){let ye="";Y=Math.min(Q.length,Y);for(let Ge=G;Ge<Y;++Ge)ye+=String.fromCharCode(Q[Ge]&127);return ye}function Qe(Q,G,Y){let ye="";Y=Math.min(Q.length,Y);for(let Ge=G;Ge<Y;++Ge)ye+=String.fromCharCode(Q[Ge]);return ye}function tt(Q,G,Y){const ye=Q.length;(!G||G<0)&&(G=0),(!Y||Y<0||Y>ye)&&(Y=ye);let Ge="";for(let Ze=G;Ze<Y;++Ze)Ge+=ze[Q[Ze]];return Ge}function st(Q,G,Y){const ye=Q.slice(G,Y);let Ge="";for(let Ze=0;Ze<ye.length-1;Ze+=2)Ge+=String.fromCharCode(ye[Ze]+ye[Ze+1]*256);return Ge}h.prototype.slice=function(G,Y){const ye=this.length;G=~~G,Y=Y===void 0?ye:~~Y,G<0?(G+=ye,G<0&&(G=0)):G>ye&&(G=ye),Y<0?(Y+=ye,Y<0&&(Y=0)):Y>ye&&(Y=ye),Y<G&&(Y=G);const Ge=this.subarray(G,Y);return Object.setPrototypeOf(Ge,h.prototype),Ge};function Ct(Q,G,Y){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+G>Y)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(G,Y,ye){G=G>>>0,Y=Y>>>0,ye||Ct(G,Y,this.length);let Ge=this[G],Ze=1,ct=0;for(;++ct<Y&&(Ze*=256);)Ge+=this[G+ct]*Ze;return Ge},h.prototype.readUintBE=h.prototype.readUIntBE=function(G,Y,ye){G=G>>>0,Y=Y>>>0,ye||Ct(G,Y,this.length);let Ge=this[G+--Y],Ze=1;for(;Y>0&&(Ze*=256);)Ge+=this[G+--Y]*Ze;return Ge},h.prototype.readUint8=h.prototype.readUInt8=function(G,Y){return G=G>>>0,Y||Ct(G,1,this.length),this[G]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(G,Y){return G=G>>>0,Y||Ct(G,2,this.length),this[G]|this[G+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(G,Y){return G=G>>>0,Y||Ct(G,2,this.length),this[G]<<8|this[G+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(G,Y){return G=G>>>0,Y||Ct(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+this[G+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(G,Y){return G=G>>>0,Y||Ct(G,4,this.length),this[G]*16777216+(this[G+1]<<16|this[G+2]<<8|this[G+3])},h.prototype.readBigUInt64LE=Xe(function(G){G=G>>>0,mr(G,"offset");const Y=this[G],ye=this[G+7];(Y===void 0||ye===void 0)&&fr(G,this.length-8);const Ge=Y+this[++G]*2**8+this[++G]*2**16+this[++G]*2**24,Ze=this[++G]+this[++G]*2**8+this[++G]*2**16+ye*2**24;return BigInt(Ge)+(BigInt(Ze)<<BigInt(32))}),h.prototype.readBigUInt64BE=Xe(function(G){G=G>>>0,mr(G,"offset");const Y=this[G],ye=this[G+7];(Y===void 0||ye===void 0)&&fr(G,this.length-8);const Ge=Y*2**24+this[++G]*2**16+this[++G]*2**8+this[++G],Ze=this[++G]*2**24+this[++G]*2**16+this[++G]*2**8+ye;return(BigInt(Ge)<<BigInt(32))+BigInt(Ze)}),h.prototype.readIntLE=function(G,Y,ye){G=G>>>0,Y=Y>>>0,ye||Ct(G,Y,this.length);let Ge=this[G],Ze=1,ct=0;for(;++ct<Y&&(Ze*=256);)Ge+=this[G+ct]*Ze;return Ze*=128,Ge>=Ze&&(Ge-=Math.pow(2,8*Y)),Ge},h.prototype.readIntBE=function(G,Y,ye){G=G>>>0,Y=Y>>>0,ye||Ct(G,Y,this.length);let Ge=Y,Ze=1,ct=this[G+--Ge];for(;Ge>0&&(Ze*=256);)ct+=this[G+--Ge]*Ze;return Ze*=128,ct>=Ze&&(ct-=Math.pow(2,8*Y)),ct},h.prototype.readInt8=function(G,Y){return G=G>>>0,Y||Ct(G,1,this.length),this[G]&128?(255-this[G]+1)*-1:this[G]},h.prototype.readInt16LE=function(G,Y){G=G>>>0,Y||Ct(G,2,this.length);const ye=this[G]|this[G+1]<<8;return ye&32768?ye|4294901760:ye},h.prototype.readInt16BE=function(G,Y){G=G>>>0,Y||Ct(G,2,this.length);const ye=this[G+1]|this[G]<<8;return ye&32768?ye|4294901760:ye},h.prototype.readInt32LE=function(G,Y){return G=G>>>0,Y||Ct(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},h.prototype.readInt32BE=function(G,Y){return G=G>>>0,Y||Ct(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},h.prototype.readBigInt64LE=Xe(function(G){G=G>>>0,mr(G,"offset");const Y=this[G],ye=this[G+7];(Y===void 0||ye===void 0)&&fr(G,this.length-8);const Ge=this[G+4]+this[G+5]*2**8+this[G+6]*2**16+(ye<<24);return(BigInt(Ge)<<BigInt(32))+BigInt(Y+this[++G]*2**8+this[++G]*2**16+this[++G]*2**24)}),h.prototype.readBigInt64BE=Xe(function(G){G=G>>>0,mr(G,"offset");const Y=this[G],ye=this[G+7];(Y===void 0||ye===void 0)&&fr(G,this.length-8);const Ge=(Y<<24)+this[++G]*2**16+this[++G]*2**8+this[++G];return(BigInt(Ge)<<BigInt(32))+BigInt(this[++G]*2**24+this[++G]*2**16+this[++G]*2**8+ye)}),h.prototype.readFloatLE=function(G,Y){return G=G>>>0,Y||Ct(G,4,this.length),r.read(this,G,!0,23,4)},h.prototype.readFloatBE=function(G,Y){return G=G>>>0,Y||Ct(G,4,this.length),r.read(this,G,!1,23,4)},h.prototype.readDoubleLE=function(G,Y){return G=G>>>0,Y||Ct(G,8,this.length),r.read(this,G,!0,52,8)},h.prototype.readDoubleBE=function(G,Y){return G=G>>>0,Y||Ct(G,8,this.length),r.read(this,G,!1,52,8)};function Be(Q,G,Y,ye,Ge,Ze){if(!h.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>Ge||G<Ze)throw new RangeError('"value" argument is out of bounds');if(Y+ye>Q.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(G,Y,ye,Ge){if(G=+G,Y=Y>>>0,ye=ye>>>0,!Ge){const or=Math.pow(2,8*ye)-1;Be(this,G,Y,ye,or,0)}let Ze=1,ct=0;for(this[Y]=G&255;++ct<ye&&(Ze*=256);)this[Y+ct]=G/Ze&255;return Y+ye},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(G,Y,ye,Ge){if(G=+G,Y=Y>>>0,ye=ye>>>0,!Ge){const or=Math.pow(2,8*ye)-1;Be(this,G,Y,ye,or,0)}let Ze=ye-1,ct=1;for(this[Y+Ze]=G&255;--Ze>=0&&(ct*=256);)this[Y+Ze]=G/ct&255;return Y+ye},h.prototype.writeUint8=h.prototype.writeUInt8=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,1,255,0),this[Y]=G&255,Y+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,2,65535,0),this[Y]=G&255,this[Y+1]=G>>>8,Y+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,2,65535,0),this[Y]=G>>>8,this[Y+1]=G&255,Y+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,4,4294967295,0),this[Y+3]=G>>>24,this[Y+2]=G>>>16,this[Y+1]=G>>>8,this[Y]=G&255,Y+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,4,4294967295,0),this[Y]=G>>>24,this[Y+1]=G>>>16,this[Y+2]=G>>>8,this[Y+3]=G&255,Y+4};function Ae(Q,G,Y,ye,Ge){Ut(G,ye,Ge,Q,Y,7);let Ze=Number(G&BigInt(4294967295));Q[Y++]=Ze,Ze=Ze>>8,Q[Y++]=Ze,Ze=Ze>>8,Q[Y++]=Ze,Ze=Ze>>8,Q[Y++]=Ze;let ct=Number(G>>BigInt(32)&BigInt(4294967295));return Q[Y++]=ct,ct=ct>>8,Q[Y++]=ct,ct=ct>>8,Q[Y++]=ct,ct=ct>>8,Q[Y++]=ct,Y}function Ne(Q,G,Y,ye,Ge){Ut(G,ye,Ge,Q,Y,7);let Ze=Number(G&BigInt(4294967295));Q[Y+7]=Ze,Ze=Ze>>8,Q[Y+6]=Ze,Ze=Ze>>8,Q[Y+5]=Ze,Ze=Ze>>8,Q[Y+4]=Ze;let ct=Number(G>>BigInt(32)&BigInt(4294967295));return Q[Y+3]=ct,ct=ct>>8,Q[Y+2]=ct,ct=ct>>8,Q[Y+1]=ct,ct=ct>>8,Q[Y]=ct,Y+8}h.prototype.writeBigUInt64LE=Xe(function(G,Y=0){return Ae(this,G,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Xe(function(G,Y=0){return Ne(this,G,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(G,Y,ye,Ge){if(G=+G,Y=Y>>>0,!Ge){const dr=Math.pow(2,8*ye-1);Be(this,G,Y,ye,dr-1,-dr)}let Ze=0,ct=1,or=0;for(this[Y]=G&255;++Ze<ye&&(ct*=256);)G<0&&or===0&&this[Y+Ze-1]!==0&&(or=1),this[Y+Ze]=(G/ct>>0)-or&255;return Y+ye},h.prototype.writeIntBE=function(G,Y,ye,Ge){if(G=+G,Y=Y>>>0,!Ge){const dr=Math.pow(2,8*ye-1);Be(this,G,Y,ye,dr-1,-dr)}let Ze=ye-1,ct=1,or=0;for(this[Y+Ze]=G&255;--Ze>=0&&(ct*=256);)G<0&&or===0&&this[Y+Ze+1]!==0&&(or=1),this[Y+Ze]=(G/ct>>0)-or&255;return Y+ye},h.prototype.writeInt8=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,1,127,-128),G<0&&(G=255+G+1),this[Y]=G&255,Y+1},h.prototype.writeInt16LE=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,2,32767,-32768),this[Y]=G&255,this[Y+1]=G>>>8,Y+2},h.prototype.writeInt16BE=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,2,32767,-32768),this[Y]=G>>>8,this[Y+1]=G&255,Y+2},h.prototype.writeInt32LE=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,4,2147483647,-2147483648),this[Y]=G&255,this[Y+1]=G>>>8,this[Y+2]=G>>>16,this[Y+3]=G>>>24,Y+4},h.prototype.writeInt32BE=function(G,Y,ye){return G=+G,Y=Y>>>0,ye||Be(this,G,Y,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),this[Y]=G>>>24,this[Y+1]=G>>>16,this[Y+2]=G>>>8,this[Y+3]=G&255,Y+4},h.prototype.writeBigInt64LE=Xe(function(G,Y=0){return Ae(this,G,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Xe(function(G,Y=0){return Ne(this,G,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ue(Q,G,Y,ye,Ge,Ze){if(Y+ye>Q.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function it(Q,G,Y,ye,Ge){return G=+G,Y=Y>>>0,Ge||Ue(Q,G,Y,4),r.write(Q,G,Y,ye,23,4),Y+4}h.prototype.writeFloatLE=function(G,Y,ye){return it(this,G,Y,!0,ye)},h.prototype.writeFloatBE=function(G,Y,ye){return it(this,G,Y,!1,ye)};function mt(Q,G,Y,ye,Ge){return G=+G,Y=Y>>>0,Ge||Ue(Q,G,Y,8),r.write(Q,G,Y,ye,52,8),Y+8}h.prototype.writeDoubleLE=function(G,Y,ye){return mt(this,G,Y,!0,ye)},h.prototype.writeDoubleBE=function(G,Y,ye){return mt(this,G,Y,!1,ye)},h.prototype.copy=function(G,Y,ye,Ge){if(!h.isBuffer(G))throw new TypeError("argument should be a Buffer");if(ye||(ye=0),!Ge&&Ge!==0&&(Ge=this.length),Y>=G.length&&(Y=G.length),Y||(Y=0),Ge>0&&Ge<ye&&(Ge=ye),Ge===ye||G.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(ye<0||ye>=this.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("sourceEnd out of bounds");Ge>this.length&&(Ge=this.length),G.length-Y<Ge-ye&&(Ge=G.length-Y+ye);const Ze=Ge-ye;return this===G&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,ye,Ge):Uint8Array.prototype.set.call(G,this.subarray(ye,Ge),Y),Ze},h.prototype.fill=function(G,Y,ye,Ge){if(typeof G=="string"){if(typeof Y=="string"?(Ge=Y,Y=0,ye=this.length):typeof ye=="string"&&(Ge=ye,ye=this.length),Ge!==void 0&&typeof Ge!="string")throw new TypeError("encoding must be a string");if(typeof Ge=="string"&&!h.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);if(G.length===1){const ct=G.charCodeAt(0);(Ge==="utf8"&&ct<128||Ge==="latin1")&&(G=ct)}}else typeof G=="number"?G=G&255:typeof G=="boolean"&&(G=Number(G));if(Y<0||this.length<Y||this.length<ye)throw new RangeError("Out of range index");if(ye<=Y)return this;Y=Y>>>0,ye=ye===void 0?this.length:ye>>>0,G||(G=0);let Ze;if(typeof G=="number")for(Ze=Y;Ze<ye;++Ze)this[Ze]=G;else{const ct=h.isBuffer(G)?G:h.from(G,Ge),or=ct.length;if(or===0)throw new TypeError('The value "'+G+'" is invalid for argument "value"');for(Ze=0;Ze<ye-Y;++Ze)this[Ze+Y]=ct[Ze%or]}return this};const Ft={};function Dt(Q,G,Y){Ft[Q]=(function(ye){f(Ze,ye);var Ge=g(Ze);function Ze(){var ct;return H(this,Ze),ct=Ge.call(this),Object.defineProperty(S(ct),"message",{value:G.apply(S(ct),arguments),writable:!0,configurable:!0}),ct.name=`${ct.name} [${Q}]`,ct.stack,delete ct.name,ct}return j(Ze,[{key:"code",get:function(){return Q},set:function(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}},{key:"toString",value:function(){return`${this.name} [${Q}]: ${this.message}`}}]),Ze})(Y)}Dt("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?`${Q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Dt("ERR_INVALID_ARG_TYPE",function(Q,G){return`The "${Q}" argument must be of type number. Received type ${typeof G}`},TypeError),Dt("ERR_OUT_OF_RANGE",function(Q,G,Y){let ye=`The value of "${Q}" is out of range.`,Ge=Y;return Number.isInteger(Y)&&Math.abs(Y)>2**32?Ge=$t(String(Y)):typeof Y=="bigint"&&(Ge=String(Y),(Y>BigInt(2)**BigInt(32)||Y<-(BigInt(2)**BigInt(32)))&&(Ge=$t(Ge)),Ge+="n"),ye+=` It must be ${G}. Received ${Ge}`,ye},RangeError);function $t(Q){let G="",Y=Q.length;const ye=Q[0]==="-"?1:0;for(;Y>=ye+4;Y-=3)G=`_${Q.slice(Y-3,Y)}${G}`;return`${Q.slice(0,Y)}${G}`}function cr(Q,G,Y){mr(G,"offset"),(Q[G]===void 0||Q[G+Y]===void 0)&&fr(G,Q.length-(Y+1))}function Ut(Q,G,Y,ye,Ge,Ze){if(Q>Y||Q<G){const ct=typeof G=="bigint"?"n":"";let or;throw G===0||G===BigInt(0)?or=`>= 0${ct} and < 2${ct} ** ${(Ze+1)*8}${ct}`:or=`>= -(2${ct} ** ${(Ze+1)*8-1}${ct}) and < 2 ** ${(Ze+1)*8-1}${ct}`,new Ft.ERR_OUT_OF_RANGE("value",or,Q)}cr(ye,Ge,Ze)}function mr(Q,G){if(typeof Q!="number")throw new Ft.ERR_INVALID_ARG_TYPE(G,"number",Q)}function fr(Q,G,Y){throw Math.floor(Q)!==Q?(mr(Q,Y),new Ft.ERR_OUT_OF_RANGE("offset","an integer",Q)):G<0?new Ft.ERR_BUFFER_OUT_OF_BOUNDS:new Ft.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${G}`,Q)}const Jr=/[^+/0-9A-Za-z-_]/g;function Lr(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(Jr,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function gr(Q,G){G=G||1/0;let Y;const ye=Q.length;let Ge=null;const Ze=[];for(let ct=0;ct<ye;++ct){if(Y=Q.charCodeAt(ct),Y>55295&&Y<57344){if(!Ge){if(Y>56319){(G-=3)>-1&&Ze.push(239,191,189);continue}else if(ct+1===ye){(G-=3)>-1&&Ze.push(239,191,189);continue}Ge=Y;continue}if(Y<56320){(G-=3)>-1&&Ze.push(239,191,189),Ge=Y;continue}Y=(Ge-55296<<10|Y-56320)+65536}else Ge&&(G-=3)>-1&&Ze.push(239,191,189);if(Ge=null,Y<128){if((G-=1)<0)break;Ze.push(Y)}else if(Y<2048){if((G-=2)<0)break;Ze.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((G-=3)<0)break;Ze.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((G-=4)<0)break;Ze.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return Ze}function sn(Q){const G=[];for(let Y=0;Y<Q.length;++Y)G.push(Q.charCodeAt(Y)&255);return G}function nn(Q,G){let Y,ye,Ge;const Ze=[];for(let ct=0;ct<Q.length&&!((G-=2)<0);++ct)Y=Q.charCodeAt(ct),ye=Y>>8,Ge=Y%256,Ze.push(Ge),Ze.push(ye);return Ze}function Dn(Q){return t.toByteArray(Lr(Q))}function ta(Q,G,Y,ye){let Ge;for(Ge=0;Ge<ye&&!(Ge+Y>=G.length||Ge>=Q.length);++Ge)G[Ge+Y]=Q[Ge];return Ge}function en(Q,G){return Q instanceof G||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===G.name}function kt(Q){return Q!==Q}const ze=(function(){const Q="0123456789abcdef",G=new Array(256);for(let Y=0;Y<16;++Y){const ye=Y*16;for(let Ge=0;Ge<16;++Ge)G[ye+Ge]=Q[Y]+Q[Ge]}return G})();function Xe(Q){return typeof BigInt>"u"?ft:Q}function ft(){throw new Error("BigInt not supported")}})(hQ);var Ip=Ji,$o=c5e,dQ=hQ.Buffer;globalThis.__TYPEDARRAY_POOL||(globalThis.__TYPEDARRAY_POOL={UINT8:$o([32,0]),UINT16:$o([32,0]),UINT32:$o([32,0]),BIGUINT64:$o([32,0]),INT8:$o([32,0]),INT16:$o([32,0]),INT32:$o([32,0]),BIGINT64:$o([32,0]),FLOAT:$o([32,0]),DOUBLE:$o([32,0]),DATA:$o([32,0]),UINT8C:$o([32,0]),BUFFER:$o([32,0])});var _5e=typeof Uint8ClampedArray<"u",E5e=typeof BigUint64Array<"u",T5e=typeof BigInt64Array<"u",Fa=globalThis.__TYPEDARRAY_POOL;Fa.UINT8C||(Fa.UINT8C=$o([32,0])),Fa.BIGUINT64||(Fa.BIGUINT64=$o([32,0])),Fa.BIGINT64||(Fa.BIGINT64=$o([32,0])),Fa.BUFFER||(Fa.BUFFER=$o([32,0]));var iO=Fa.DATA,aO=Fa.BUFFER;Cn.free=function(t){if(dQ.isBuffer(t))aO[Ip.log2(t.length)].push(t);else{if(Object.prototype.toString.call(t)!=="[object ArrayBuffer]"&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,i=Ip.log2(r)|0;iO[i].push(t)}};function pQ(e){if(e){var t=e.length||e.byteLength,r=Ip.log2(t);iO[r].push(e)}}function b5e(e){pQ(e.buffer)}Cn.freeUint8=Cn.freeUint16=Cn.freeUint32=Cn.freeBigUint64=Cn.freeInt8=Cn.freeInt16=Cn.freeInt32=Cn.freeBigInt64=Cn.freeFloat32=Cn.freeFloat=Cn.freeFloat64=Cn.freeDouble=Cn.freeUint8Clamped=Cn.freeDataView=b5e,Cn.freeArrayBuffer=pQ,Cn.freeBuffer=function(t){aO[Ip.log2(t.length)].push(t)},Cn.malloc=function(t,r){if(r===void 0||r==="arraybuffer")return rl(t);switch(r){case"uint8":return GB(t);case"uint16":return mQ(t);case"uint32":return gQ(t);case"int8":return vQ(t);case"int16":return yQ(t);case"int32":return _Q(t);case"float":case"float32":return EQ(t);case"double":case"float64":return TQ(t);case"uint8_clamped":return bQ(t);case"bigint64":return CQ(t);case"biguint64":return SQ(t);case"buffer":return wQ(t);case"data":case"dataview":return AQ(t);default:return null}return null};function rl(t){var t=Ip.nextPow2(t),r=Ip.log2(t),i=iO[r];return i.length>0?i.pop():new ArrayBuffer(t)}Cn.mallocArrayBuffer=rl;function GB(e){return new Uint8Array(rl(e),0,e)}Cn.mallocUint8=GB;function mQ(e){return new Uint16Array(rl(2*e),0,e)}Cn.mallocUint16=mQ;function gQ(e){return new Uint32Array(rl(4*e),0,e)}Cn.mallocUint32=gQ;function vQ(e){return new Int8Array(rl(e),0,e)}Cn.mallocInt8=vQ;function yQ(e){return new Int16Array(rl(2*e),0,e)}Cn.mallocInt16=yQ;function _Q(e){return new Int32Array(rl(4*e),0,e)}Cn.mallocInt32=_Q;function EQ(e){return new Float32Array(rl(4*e),0,e)}Cn.mallocFloat32=Cn.mallocFloat=EQ;function TQ(e){return new Float64Array(rl(8*e),0,e)}Cn.mallocFloat64=Cn.mallocDouble=TQ;function bQ(e){return _5e?new Uint8ClampedArray(rl(e),0,e):GB(e)}Cn.mallocUint8Clamped=bQ;function SQ(e){return E5e?new BigUint64Array(rl(8*e),0,e):null}Cn.mallocBigUint64=SQ;function CQ(e){return T5e?new BigInt64Array(rl(8*e),0,e):null}Cn.mallocBigInt64=CQ;function AQ(e){return new DataView(rl(e),0,e)}Cn.mallocDataView=AQ;function wQ(e){e=Ip.nextPow2(e);var t=Ip.log2(e),r=aO[t];return r.length>0?r.pop():new dQ(e)}Cn.mallocBuffer=wQ,Cn.clearCache=function(){for(var t=0;t<32;++t)Fa.UINT8[t].length=0,Fa.UINT16[t].length=0,Fa.UINT32[t].length=0,Fa.INT8[t].length=0,Fa.INT16[t].length=0,Fa.INT32[t].length=0,Fa.FLOAT[t].length=0,Fa.DOUBLE[t].length=0,Fa.BIGUINT64[t].length=0,Fa.BIGINT64[t].length=0,Fa.UINT8C[t].length=0,iO[t].length=0,aO[t].length=0};var S5e=C5e,oO=32;function C5e(e,t){t<=4*oO?sO(0,t-1,e):uO(0,t-1,e)}function sO(e,t,r){for(var i=2*(e+1),n=e+1;n<=t;++n){for(var s=r[i++],c=r[i++],h=n,p=i-2;h-- >e;){var m=r[p-2],d=r[p-1];if(m<s)break;if(m===s&&d<c)break;r[p]=m,r[p+1]=d,p-=2}r[p]=s,r[p+1]=c}}function xQ(e,t,r){e*=2,t*=2;var i=r[e],n=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=i,r[t+1]=n}function IQ(e,t,r){e*=2,t*=2,r[e]=r[t],r[e+1]=r[t+1]}function A5e(e,t,r,i){e*=2,t*=2,r*=2;var n=i[e],s=i[e+1];i[e]=i[t],i[e+1]=i[t+1],i[t]=i[r],i[t+1]=i[r+1],i[r]=n,i[r+1]=s}function DQ(e,t,r,i,n){e*=2,t*=2,n[e]=n[t],n[t]=r,n[e+1]=n[t+1],n[t+1]=i}function $f(e,t,r){e*=2,t*=2;var i=r[e],n=r[t];return i<n?!1:i===n?r[e+1]>r[t+1]:!0}function lO(e,t,r,i){e*=2;var n=i[e];return n<t?!0:n===t?i[e+1]<r:!1}function uO(e,t,r){var i=(t-e+1)/6|0,n=e+i,s=t-i,c=e+t>>1,h=c-i,p=c+i,m=n,d=h,E=c,_=p,T=s,C=e+1,A=t-1,D=0;$f(m,d,r)&&(D=m,m=d,d=D),$f(_,T,r)&&(D=_,_=T,T=D),$f(m,E,r)&&(D=m,m=E,E=D),$f(d,E,r)&&(D=d,d=E,E=D),$f(m,_,r)&&(D=m,m=_,_=D),$f(E,_,r)&&(D=E,E=_,_=D),$f(d,T,r)&&(D=d,d=T,T=D),$f(d,E,r)&&(D=d,d=E,E=D),$f(_,T,r)&&(D=_,_=T,T=D);for(var O=r[2*d],B=r[2*d+1],P=r[2*_],R=r[2*_+1],$=2*m,W=2*E,Z=2*T,K=2*n,ae=2*c,le=2*s,J=0;J<2;++J){var ge=r[$+J],Ee=r[W+J],ne=r[Z+J];r[K+J]=ge,r[ae+J]=Ee,r[le+J]=ne}IQ(h,e,r),IQ(p,t,r);for(var ve=C;ve<=A;++ve)if(lO(ve,O,B,r))ve!==C&&xQ(ve,C,r),++C;else if(!lO(ve,P,R,r))for(;;)if(lO(A,P,R,r)){lO(A,O,B,r)?(A5e(ve,C,A,r),++C,--A):(xQ(ve,A,r),--A);break}else{if(--A<ve)break;continue}DQ(e,C-1,O,B,r),DQ(t,A+1,P,R,r),C-2-e<=oO?sO(e,C-2,r):uO(e,C-2,r),t-(A+2)<=oO?sO(A+2,t,r):uO(A+2,t,r),A-C<=oO?sO(C,A,r):uO(C,A,r)}var OQ={init:x5e,sweepBipartite:I5e,sweepComplete:D5e,scanBipartite:O5e,scanComplete:k5e},Ua=Cn,w5e=Ji,cO=S5e,$l=1<<28,Xg=1024,Go=Ua.mallocInt32(Xg),Gf=Ua.mallocInt32(Xg),zf=Ua.mallocInt32(Xg),qg=Ua.mallocInt32(Xg),$1=Ua.mallocInt32(Xg),FS=Ua.mallocInt32(Xg),_n=Ua.mallocDouble(Xg*8);function x5e(e){var t=w5e.nextPow2(e);Go.length<t&&(Ua.free(Go),Go=Ua.mallocInt32(t)),Gf.length<t&&(Ua.free(Gf),Gf=Ua.mallocInt32(t)),zf.length<t&&(Ua.free(zf),zf=Ua.mallocInt32(t)),qg.length<t&&(Ua.free(qg),qg=Ua.mallocInt32(t)),$1.length<t&&(Ua.free($1),$1=Ua.mallocInt32(t)),FS.length<t&&(Ua.free(FS),FS=Ua.mallocInt32(t));var r=8*t;_n.length<r&&(Ua.free(_n),_n=Ua.mallocDouble(r))}function G1(e,t,r,i){var n=t[i],s=e[r-1];e[n]=s,t[s]=n}function z1(e,t,r,i){e[r]=i,t[i]=r}function I5e(e,t,r,i,n,s,c,h,p,m){for(var d=0,E=2*e,_=e-1,T=E-1,C=r;C<i;++C){var A=s[C],D=E*C;_n[d++]=n[D+_],_n[d++]=-(A+1),_n[d++]=n[D+T],_n[d++]=A}for(var C=c;C<h;++C){var A=m[C]+$l,O=E*C;_n[d++]=p[O+_],_n[d++]=-A,_n[d++]=p[O+T],_n[d++]=A}var B=d>>>1;cO(_n,B);for(var P=0,R=0,C=0;C<B;++C){var $=_n[2*C+1]|0;if($>=$l)$=$-$l|0,G1(zf,qg,R--,$);else if($>=0)G1(Go,Gf,P--,$);else if($<=-$l){$=-$-$l|0;for(var W=0;W<P;++W){var Z=t(Go[W],$);if(Z!==void 0)return Z}z1(zf,qg,R++,$)}else{$=-$-1|0;for(var W=0;W<R;++W){var Z=t($,zf[W]);if(Z!==void 0)return Z}z1(Go,Gf,P++,$)}}}function D5e(e,t,r,i,n,s,c,h,p,m){for(var d=0,E=2*e,_=e-1,T=E-1,C=r;C<i;++C){var A=s[C]+1<<1,D=E*C;_n[d++]=n[D+_],_n[d++]=-A,_n[d++]=n[D+T],_n[d++]=A}for(var C=c;C<h;++C){var A=m[C]+1<<1,O=E*C;_n[d++]=p[O+_],_n[d++]=-A|1,_n[d++]=p[O+T],_n[d++]=A|1}var B=d>>>1;cO(_n,B);for(var P=0,R=0,$=0,C=0;C<B;++C){var W=_n[2*C+1]|0,Z=W&1;if(C<B-1&&W>>1===_n[2*C+3]>>1&&(Z=2,C+=1),W<0){for(var K=-(W>>1)-1,ae=0;ae<$;++ae){var le=t($1[ae],K);if(le!==void 0)return le}if(Z!==0)for(var ae=0;ae<P;++ae){var le=t(Go[ae],K);if(le!==void 0)return le}if(Z!==1)for(var ae=0;ae<R;++ae){var le=t(zf[ae],K);if(le!==void 0)return le}Z===0?z1(Go,Gf,P++,K):Z===1?z1(zf,qg,R++,K):Z===2&&z1($1,FS,$++,K)}else{var K=(W>>1)-1;Z===0?G1(Go,Gf,P--,K):Z===1?G1(zf,qg,R--,K):Z===2&&G1($1,FS,$--,K)}}}function O5e(e,t,r,i,n,s,c,h,p,m,d,E){var _=0,T=2*e,C=t,A=t+e,D=1,O=1;i?O=$l:D=$l;for(var B=n;B<s;++B){var P=B+D,R=T*B;_n[_++]=c[R+C],_n[_++]=-P,_n[_++]=c[R+A],_n[_++]=P}for(var B=p;B<m;++B){var P=B+O,$=T*B;_n[_++]=d[$+C],_n[_++]=-P}var W=_>>>1;cO(_n,W);for(var Z=0,B=0;B<W;++B){var K=_n[2*B+1]|0;if(K<0){var P=-K,ae=!1;if(P>=$l?(ae=!i,P-=$l):(ae=!!i,P-=1),ae)z1(Go,Gf,Z++,P);else{var le=E[P],J=T*P,ge=d[J+t+1],Ee=d[J+t+1+e];e:for(var ne=0;ne<Z;++ne){var ve=Go[ne],Me=T*ve;if(!(Ee<c[Me+t+1]||c[Me+t+1+e]<ge)){for(var je=t+2;je<e;++je)if(d[J+je+e]<c[Me+je]||c[Me+je+e]<d[J+je])continue e;var Qe=h[ve],tt;if(i?tt=r(le,Qe):tt=r(Qe,le),tt!==void 0)return tt}}}}else G1(Go,Gf,Z--,K-D)}}function k5e(e,t,r,i,n,s,c,h,p,m,d){for(var E=0,_=2*e,T=t,C=t+e,A=i;A<n;++A){var D=A+$l,O=_*A;_n[E++]=s[O+T],_n[E++]=-D,_n[E++]=s[O+C],_n[E++]=D}for(var A=h;A<p;++A){var D=A+1,B=_*A;_n[E++]=m[B+T],_n[E++]=-D}var P=E>>>1;cO(_n,P);for(var R=0,A=0;A<P;++A){var $=_n[2*A+1]|0;if($<0){var D=-$;if(D>=$l)Go[R++]=D-$l;else{D-=1;var W=d[D],Z=_*D,K=m[Z+t+1],ae=m[Z+t+1+e];e:for(var le=0;le<R;++le){var J=Go[le],ge=c[J];if(ge===W)break;var Ee=_*J;if(!(ae<s[Ee+t+1]||s[Ee+t+1+e]<K)){for(var ne=t+2;ne<e;++ne)if(m[Z+ne+e]<s[Ee+ne]||s[Ee+ne+e]<m[Z+ne])continue e;var ve=r(ge,W);if(ve!==void 0)return ve}}}}else{for(var D=$-$l,le=R-1;le>=0;--le)if(Go[le]===D){for(var ne=le+1;ne<R;++ne)Go[ne-1]=Go[ne];break}--R}}}var zB={},Kg="d",j1="ax",kQ="vv",jB="fp",US="es",hO="rs",VB="re",HS="rb",PQ="ri",V1="rp",fO="bs",WB="be",$S="bb",RQ="bi",W1="bp",YB="rv",XB="Q",qB=[Kg,j1,kQ,hO,VB,HS,PQ,fO,WB,$S,RQ];function P5e(e,t,r){var i="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(r?"Full":""),n=["function ",i,"(",qB.join(),"){","var ",US,"=2*",Kg,";"],s="for(var i="+hO+","+V1+"="+US+"*"+hO+";i<"+VB+";++i,"+V1+"+="+US+"){var x0="+HS+"["+j1+"+"+V1+"],x1="+HS+"["+j1+"+"+V1+"+"+Kg+"],xi="+PQ+"[i];",c="for(var j="+fO+","+W1+"="+US+"*"+fO+";j<"+WB+";++j,"+W1+"+="+US+"){var y0="+$S+"["+j1+"+"+W1+"],"+(r?"y1="+$S+"["+j1+"+"+W1+"+"+Kg+"],":"")+"yi="+RQ+"[j];";return e?n.push(s,XB,":",c):n.push(c,XB,":",s),r?n.push("if(y1<x0||x1<y0)continue;"):t?n.push("if(y0<=x0||x1<y0)continue;"):n.push("if(y0<x0||x1<y0)continue;"),n.push("for(var k="+j1+"+1;k<"+Kg+";++k){var r0="+HS+"[k+"+V1+"],r1="+HS+"[k+"+Kg+"+"+V1+"],b0="+$S+"[k+"+W1+"],b1="+$S+"[k+"+Kg+"+"+W1+"];if(r1<b0||b1<r0)continue "+XB+";}var "+YB+"="+kQ+"("),t?n.push("yi,xi"):n.push("xi,yi"),n.push(");if("+YB+"!==void 0)return "+YB+";}}}"),{name:i,code:n.join("")}}function NQ(e){var t="bruteForce"+(e?"Full":"Partial"),r=[],i=qB.slice();e||i.splice(3,0,jB);var n=["function "+t+"("+i.join()+"){"];function s(p,m){var d=P5e(p,m,e);r.push(d.code),n.push("return "+d.name+"("+qB.join()+");")}n.push("if("+VB+"-"+hO+">"+WB+"-"+fO+"){"),e?(s(!0,!1),n.push("}else{"),s(!1,!1)):(n.push("if("+jB+"){"),s(!0,!0),n.push("}else{"),s(!0,!1),n.push("}}else{if("+jB+"){"),s(!1,!0),n.push("}else{"),s(!1,!1),n.push("}")),n.push("}}return "+t);var c=r.join("")+n.join(""),h=new Function(c);return h()}zB.partial=NQ(!1),zB.full=NQ(!0);var MQ=N5e,R5e="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";function N5e(e,t){var r="abcdef".split("").concat(t),i=[];return e.indexOf("lo")>=0&&i.push("lo=e[k+n]"),e.indexOf("hi")>=0&&i.push("hi=e[k+o]"),r.push(R5e.replace("_",i.join()).replace("$",e)),Function.apply(void 0,r)}var M5e=U5e,L5e=MQ,LQ=L5e("lo<p0",["p0"]),B5e=8;function F5e(e,t,r,i,n,s){for(var c=2*e,h=c*(r+1)+t,p=r+1;p<i;++p,h+=c)for(var m=n[h],d=p,E=c*(p-1);d>r&&n[E+t]>m;--d,E-=c){for(var _=E,T=E+c,C=0;C<c;++C,++_,++T){var A=n[_];n[_]=n[T],n[T]=A}var D=s[d];s[d]=s[d-1],s[d-1]=D}}function U5e(e,t,r,i,n,s){if(i<=r+1)return r;for(var c=r,h=i,p=i+r>>>1,m=2*e,d=p,E=n[m*p+t];c<h;){if(h-c<B5e){F5e(e,t,c,h,n,s),E=n[m*p+t];break}var _=h-c,T=Math.random()*_+c|0,C=n[m*T+t],A=Math.random()*_+c|0,D=n[m*A+t],O=Math.random()*_+c|0,B=n[m*O+t];C<=D?B>=D?(d=A,E=D):C>=B?(d=T,E=C):(d=O,E=B):D>=B?(d=A,E=D):B>=C?(d=T,E=C):(d=O,E=B);for(var $=m*(h-1),W=m*d,P=0;P<m;++P,++$,++W){var R=n[$];n[$]=n[W],n[W]=R}var Z=s[h-1];s[h-1]=s[d],s[d]=Z,d=LQ(e,t,c,h-1,n,s,E);for(var $=m*(h-1),W=m*d,P=0;P<m;++P,++$,++W){var R=n[$];n[$]=n[W],n[W]=R}var Z=s[h-1];if(s[h-1]=s[d],s[d]=Z,p<d){for(h=d-1;c<h&&n[m*(h-1)+t]===E;)h-=1;h+=1}else if(d<p)for(c=d+1;c<h&&n[m*c+t]===E;)c+=1;else break}return LQ(e,t,r,p,n,s,n[m*p+t])}var H5e=J5e,Y1=Cn,KB=Ji,BQ=zB,$5e=BQ.partial,G5e=BQ.full,Dp=OQ,z5e=M5e,X1=MQ,FQ=128,j5e=1<<22,V5e=1<<22,W5e=X1("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),UQ=X1("lo===p0",["p0"]),Y5e=X1("lo<p0",["p0"]),X5e=X1("hi<=p0",["p0"]),HQ=X1("lo<=p0&&p0<=hi",["p0"]),q5e=X1("lo<p0&&p0<=hi",["p0"]),ZB=6,QB=2,$Q=1024,Rs=Y1.mallocInt32($Q),Zg=Y1.mallocDouble($Q);function K5e(e,t){var r=8*KB.log2(t+1)*(e+1)|0,i=KB.nextPow2(ZB*r);Rs.length<i&&(Y1.free(Rs),Rs=Y1.mallocInt32(i));var n=KB.nextPow2(QB*r);Zg.length<n&&(Y1.free(Zg),Zg=Y1.mallocDouble(n))}function pc(e,t,r,i,n,s,c,h,p){var m=ZB*e;Rs[m]=t,Rs[m+1]=r,Rs[m+2]=i,Rs[m+3]=n,Rs[m+4]=s,Rs[m+5]=c;var d=QB*e;Zg[d]=h,Zg[d+1]=p}function Z5e(e,t,r,i,n,s,c,h,p,m,d){var E=2*e,_=p*E,T=m[_+t];e:for(var C=n,A=n*E;C<s;++C,A+=E){var D=c[A+t],O=c[A+t+e];if(!(T<D||O<T)&&!(i&&T===D)){for(var B=h[C],P=t+1;P<e;++P){var D=c[A+P],O=c[A+P+e],R=m[_+P],$=m[_+P+e];if(O<R||$<D)continue e}var W;if(i?W=r(d,B):W=r(B,d),W!==void 0)return W}}}function Q5e(e,t,r,i,n,s,c,h,p,m){var d=2*e,E=h*d,_=p[E+t];e:for(var T=i,C=i*d;T<n;++T,C+=d){var A=c[T];if(A!==m){var D=s[C+t],O=s[C+t+e];if(!(_<D||O<_)){for(var B=t+1;B<e;++B){var D=s[C+B],O=s[C+B+e],P=p[E+B],R=p[E+B+e];if(O<P||R<D)continue e}var $=r(A,m);if($!==void 0)return $}}}}function J5e(e,t,r,i,n,s,c,h,p){K5e(e,i+c);var m=0,d=2*e,E;for(pc(m++,0,0,i,0,c,r?16:0,-1/0,1/0),r||pc(m++,0,0,c,0,i,1,-1/0,1/0);m>0;){m-=1;var _=m*ZB,T=Rs[_],C=Rs[_+1],A=Rs[_+2],D=Rs[_+3],O=Rs[_+4],B=Rs[_+5],P=m*QB,R=Zg[P],$=Zg[P+1],W=B&1,Z=!!(B&16),K=n,ae=s,le=h,J=p;if(W&&(K=h,ae=p,le=n,J=s),!(B&2&&(A=Y5e(e,T,C,A,K,ae,$),C>=A))&&!(B&4&&(C=X5e(e,T,C,A,K,ae,R),C>=A))){var ge=A-C,Ee=O-D;if(Z){if(e*ge*(ge+Ee)<V5e){if(E=Dp.scanComplete(e,T,t,C,A,K,ae,D,O,le,J),E!==void 0)return E;continue}}else if(e*Math.min(ge,Ee)<FQ){if(E=$5e(e,T,t,W,C,A,K,ae,D,O,le,J),E!==void 0)return E;continue}else if(e*ge*Ee<j5e){if(E=Dp.scanBipartite(e,T,t,W,C,A,K,ae,D,O,le,J),E!==void 0)return E;continue}var ne=W5e(e,T,C,A,K,ae,R,$);if(C<ne)if(e*(ne-C)<FQ){if(E=G5e(e,T+1,t,C,ne,K,ae,D,O,le,J),E!==void 0)return E}else if(T===e-2){if(W?E=Dp.sweepBipartite(e,t,D,O,le,J,C,ne,K,ae):E=Dp.sweepBipartite(e,t,C,ne,K,ae,D,O,le,J),E!==void 0)return E}else pc(m++,T+1,C,ne,D,O,W,-1/0,1/0),pc(m++,T+1,D,O,C,ne,W^1,-1/0,1/0);if(ne<A){var ve=z5e(e,T,D,O,le,J),Me=le[d*ve+T],je=UQ(e,T,ve,O,le,J,Me);if(je<O&&pc(m++,T,ne,A,je,O,(W|4)+(Z?16:0),Me,$),D<ve&&pc(m++,T,ne,A,D,ve,(W|2)+(Z?16:0),R,Me),ve+1===je){if(Z?E=Q5e(e,T,t,ne,A,K,ae,ve,le,J[ve]):E=Z5e(e,T,t,W,ne,A,K,ae,ve,le,J[ve]),E!==void 0)return E}else if(ve<je){var Qe;if(Z){if(Qe=HQ(e,T,ne,A,K,ae,Me),ne<Qe){var tt=UQ(e,T,ne,Qe,K,ae,Me);if(T===e-2){if(ne<tt&&(E=Dp.sweepComplete(e,t,ne,tt,K,ae,ve,je,le,J),E!==void 0)||tt<Qe&&(E=Dp.sweepBipartite(e,t,tt,Qe,K,ae,ve,je,le,J),E!==void 0))return E}else ne<tt&&pc(m++,T+1,ne,tt,ve,je,16,-1/0,1/0),tt<Qe&&(pc(m++,T+1,tt,Qe,ve,je,0,-1/0,1/0),pc(m++,T+1,ve,je,tt,Qe,1,-1/0,1/0))}}else W?Qe=q5e(e,T,ne,A,K,ae,Me):Qe=HQ(e,T,ne,A,K,ae,Me),ne<Qe&&(T===e-2?W?E=Dp.sweepBipartite(e,t,ve,je,le,J,ne,Qe,K,ae):E=Dp.sweepBipartite(e,t,ne,Qe,K,ae,ve,je,le,J):(pc(m++,T+1,ne,Qe,ve,je,W,-1/0,1/0),pc(m++,T+1,ve,je,ne,Qe,W^1,-1/0,1/0)))}}}}}var GS=iBe,Op=Cn,dO=OQ,eBe=H5e;function tBe(e,t){for(var r=0;r<e;++r)if(!(t[r]<=t[r+e]))return!0;return!1}function GQ(e,t,r,i){for(var n=0,s=0,c=0,h=e.length;c<h;++c){var p=e[c];if(!tBe(t,p)){for(var m=0;m<2*t;++m)r[n++]=p[m];i[s++]=c}}return s}function pO(e,t,r,i){var n=e.length,s=t.length;if(!(n<=0||s<=0)){var c=e[0].length>>>1;if(!(c<=0)){var h,p=Op.mallocDouble(2*c*n),m=Op.mallocInt32(n);if(n=GQ(e,c,p,m),n>0){if(c===1&&i)dO.init(n),h=dO.sweepComplete(c,r,0,n,p,m,0,n,p,m);else{var d=Op.mallocDouble(2*c*s),E=Op.mallocInt32(s);s=GQ(t,c,d,E),s>0&&(dO.init(n+s),c===1?h=dO.sweepBipartite(c,r,0,n,p,m,0,s,d,E):h=eBe(c,r,i,n,p,m,s,d,E),Op.free(d),Op.free(E))}Op.free(p),Op.free(m)}return h}}}var zS;function zQ(e,t){zS.push([e,t])}function rBe(e){return zS=[],pO(e,e,zQ,!0),zS}function nBe(e,t){return zS=[],pO(e,t,zQ,!1),zS}function iBe(e,t,r){switch(arguments.length){case 1:return rBe(e);case 2:return typeof t=="function"?pO(e,e,t,!0):nBe(e,t);case 3:return pO(e,t,r,!1);default:throw new Error("box-intersect: Invalid arguments")}}var jQ={exports:{}},VQ=aBe,WQ=+(Math.pow(2,27)+1);function aBe(e,t,r){var i=e*t,n=WQ*e,s=n-e,c=n-s,h=e-c,p=WQ*t,m=p-t,d=p-m,E=t-d,_=i-c*d,T=_-h*d,C=T-c*E,A=h*E-C;return r?(r[0]=A,r[1]=i,r):[A,i]}var oBe=lBe;function sBe(e,t){var r=e+t,i=r-e,n=r-i,s=t-i,c=e-n,h=c+s;return h?[h,r]:[r]}function lBe(e,t){var r=e.length|0,i=t.length|0;if(r===1&&i===1)return sBe(e[0],t[0]);var n=r+i,s=new Array(n),c=0,h=0,p=0,m=Math.abs,d=e[h],E=m(d),_=t[p],T=m(_),C,A;E<T?(A=d,h+=1,h<r&&(d=e[h],E=m(d))):(A=_,p+=1,p<i&&(_=t[p],T=m(_))),h<r&&E<T||p>=i?(C=d,h+=1,h<r&&(d=e[h],E=m(d))):(C=_,p+=1,p<i&&(_=t[p],T=m(_)));for(var D=C+A,O=D-C,B=A-O,P=B,R=D,$,W,Z,K,ae;h<r&&p<i;)E<T?(C=d,h+=1,h<r&&(d=e[h],E=m(d))):(C=_,p+=1,p<i&&(_=t[p],T=m(_))),A=P,D=C+A,O=D-C,B=A-O,B&&(s[c++]=B),$=R+D,W=$-R,Z=$-W,K=D-W,ae=R-Z,P=ae+K,R=$;for(;h<r;)C=d,A=P,D=C+A,O=D-C,B=A-O,B&&(s[c++]=B),$=R+D,W=$-R,Z=$-W,K=D-W,ae=R-Z,P=ae+K,R=$,h+=1,h<r&&(d=e[h]);for(;p<i;)C=_,A=P,D=C+A,O=D-C,B=A-O,B&&(s[c++]=B),$=R+D,W=$-R,Z=$-W,K=D-W,ae=R-Z,P=ae+K,R=$,p+=1,p<i&&(_=t[p]);return P&&(s[c++]=P),R&&(s[c++]=R),c||(s[c++]=0),s.length=c,s}var uBe=cBe;function cBe(e,t,r){var i=e+t,n=i-e,s=i-n,c=t-n,h=e-s;return r?(r[0]=h+c,r[1]=i,r):[h+c,i]}var JB=VQ,hBe=uBe,fBe=dBe;function dBe(e,t){var r=e.length;if(r===1){var i=JB(e[0],t);return i[0]?i:[i[1]]}var n=new Array(2*r),s=[.1,.1],c=[.1,.1],h=0;JB(e[0],t,s),s[0]&&(n[h++]=s[0]);for(var p=1;p<r;++p){JB(e[p],t,c);var m=s[1];hBe(m,c[0],s),s[0]&&(n[h++]=s[0]);var d=c[1],E=s[1],_=d+E,T=_-d,C=E-T;s[1]=_,C&&(n[h++]=C)}return s[1]&&(n[h++]=s[1]),h===0&&(n[h++]=0),n.length=h,n}var pBe=gBe;function mBe(e,t){var r=e+t,i=r-e,n=r-i,s=t-i,c=e-n,h=c+s;return h?[h,r]:[r]}function gBe(e,t){var r=e.length|0,i=t.length|0;if(r===1&&i===1)return mBe(e[0],-t[0]);var n=r+i,s=new Array(n),c=0,h=0,p=0,m=Math.abs,d=e[h],E=m(d),_=-t[p],T=m(_),C,A;E<T?(A=d,h+=1,h<r&&(d=e[h],E=m(d))):(A=_,p+=1,p<i&&(_=-t[p],T=m(_))),h<r&&E<T||p>=i?(C=d,h+=1,h<r&&(d=e[h],E=m(d))):(C=_,p+=1,p<i&&(_=-t[p],T=m(_)));for(var D=C+A,O=D-C,B=A-O,P=B,R=D,$,W,Z,K,ae;h<r&&p<i;)E<T?(C=d,h+=1,h<r&&(d=e[h],E=m(d))):(C=_,p+=1,p<i&&(_=-t[p],T=m(_))),A=P,D=C+A,O=D-C,B=A-O,B&&(s[c++]=B),$=R+D,W=$-R,Z=$-W,K=D-W,ae=R-Z,P=ae+K,R=$;for(;h<r;)C=d,A=P,D=C+A,O=D-C,B=A-O,B&&(s[c++]=B),$=R+D,W=$-R,Z=$-W,K=D-W,ae=R-Z,P=ae+K,R=$,h+=1,h<r&&(d=e[h]);for(;p<i;)C=_,A=P,D=C+A,O=D-C,B=A-O,B&&(s[c++]=B),$=R+D,W=$-R,Z=$-W,K=D-W,ae=R-Z,P=ae+K,R=$,p+=1,p<i&&(_=-t[p]);return P&&(s[c++]=P),R&&(s[c++]=R),c||(s[c++]=0),s.length=c,s}(function(e){var t=VQ,r=oBe,i=fBe,n=pBe,s=5,c=11102230246251565e-32,h=(3+16*c)*c,p=(7+56*c)*c;function m(P,R,$,W){return function(K,ae,le){var J=P(P(R(ae[1],le[0]),R(-le[1],ae[0])),P(R(K[1],ae[0]),R(-ae[1],K[0]))),ge=P(R(K[1],le[0]),R(-le[1],K[0])),Ee=W(J,ge);return Ee[Ee.length-1]}}function d(P,R,$,W){return function(K,ae,le,J){var ge=P(P($(P(R(le[1],J[0]),R(-J[1],le[0])),ae[2]),P($(P(R(ae[1],J[0]),R(-J[1],ae[0])),-le[2]),$(P(R(ae[1],le[0]),R(-le[1],ae[0])),J[2]))),P($(P(R(ae[1],J[0]),R(-J[1],ae[0])),K[2]),P($(P(R(K[1],J[0]),R(-J[1],K[0])),-ae[2]),$(P(R(K[1],ae[0]),R(-ae[1],K[0])),J[2])))),Ee=P(P($(P(R(le[1],J[0]),R(-J[1],le[0])),K[2]),P($(P(R(K[1],J[0]),R(-J[1],K[0])),-le[2]),$(P(R(K[1],le[0]),R(-le[1],K[0])),J[2]))),P($(P(R(ae[1],le[0]),R(-le[1],ae[0])),K[2]),P($(P(R(K[1],le[0]),R(-le[1],K[0])),-ae[2]),$(P(R(K[1],ae[0]),R(-ae[1],K[0])),le[2])))),ne=W(ge,Ee);return ne[ne.length-1]}}function E(P,R,$,W){return function(K,ae,le,J,ge){var Ee=P(P(P($(P($(P(R(J[1],ge[0]),R(-ge[1],J[0])),le[2]),P($(P(R(le[1],ge[0]),R(-ge[1],le[0])),-J[2]),$(P(R(le[1],J[0]),R(-J[1],le[0])),ge[2]))),ae[3]),P($(P($(P(R(J[1],ge[0]),R(-ge[1],J[0])),ae[2]),P($(P(R(ae[1],ge[0]),R(-ge[1],ae[0])),-J[2]),$(P(R(ae[1],J[0]),R(-J[1],ae[0])),ge[2]))),-le[3]),$(P($(P(R(le[1],ge[0]),R(-ge[1],le[0])),ae[2]),P($(P(R(ae[1],ge[0]),R(-ge[1],ae[0])),-le[2]),$(P(R(ae[1],le[0]),R(-le[1],ae[0])),ge[2]))),J[3]))),P($(P($(P(R(le[1],J[0]),R(-J[1],le[0])),ae[2]),P($(P(R(ae[1],J[0]),R(-J[1],ae[0])),-le[2]),$(P(R(ae[1],le[0]),R(-le[1],ae[0])),J[2]))),-ge[3]),P($(P($(P(R(J[1],ge[0]),R(-ge[1],J[0])),ae[2]),P($(P(R(ae[1],ge[0]),R(-ge[1],ae[0])),-J[2]),$(P(R(ae[1],J[0]),R(-J[1],ae[0])),ge[2]))),K[3]),$(P($(P(R(J[1],ge[0]),R(-ge[1],J[0])),K[2]),P($(P(R(K[1],ge[0]),R(-ge[1],K[0])),-J[2]),$(P(R(K[1],J[0]),R(-J[1],K[0])),ge[2]))),-ae[3])))),P(P($(P($(P(R(ae[1],ge[0]),R(-ge[1],ae[0])),K[2]),P($(P(R(K[1],ge[0]),R(-ge[1],K[0])),-ae[2]),$(P(R(K[1],ae[0]),R(-ae[1],K[0])),ge[2]))),J[3]),P($(P($(P(R(ae[1],J[0]),R(-J[1],ae[0])),K[2]),P($(P(R(K[1],J[0]),R(-J[1],K[0])),-ae[2]),$(P(R(K[1],ae[0]),R(-ae[1],K[0])),J[2]))),-ge[3]),$(P($(P(R(le[1],J[0]),R(-J[1],le[0])),ae[2]),P($(P(R(ae[1],J[0]),R(-J[1],ae[0])),-le[2]),$(P(R(ae[1],le[0]),R(-le[1],ae[0])),J[2]))),K[3]))),P($(P($(P(R(le[1],J[0]),R(-J[1],le[0])),K[2]),P($(P(R(K[1],J[0]),R(-J[1],K[0])),-le[2]),$(P(R(K[1],le[0]),R(-le[1],K[0])),J[2]))),-ae[3]),P($(P($(P(R(ae[1],J[0]),R(-J[1],ae[0])),K[2]),P($(P(R(K[1],J[0]),R(-J[1],K[0])),-ae[2]),$(P(R(K[1],ae[0]),R(-ae[1],K[0])),J[2]))),le[3]),$(P($(P(R(ae[1],le[0]),R(-le[1],ae[0])),K[2]),P($(P(R(K[1],le[0]),R(-le[1],K[0])),-ae[2]),$(P(R(K[1],ae[0]),R(-ae[1],K[0])),le[2]))),-J[3]))))),ne=P(P(P($(P($(P(R(J[1],ge[0]),R(-ge[1],J[0])),le[2]),P($(P(R(le[1],ge[0]),R(-ge[1],le[0])),-J[2]),$(P(R(le[1],J[0]),R(-J[1],le[0])),ge[2]))),K[3]),$(P($(P(R(J[1],ge[0]),R(-ge[1],J[0])),K[2]),P($(P(R(K[1],ge[0]),R(-ge[1],K[0])),-J[2]),$(P(R(K[1],J[0]),R(-J[1],K[0])),ge[2]))),-le[3])),P($(P($(P(R(le[1],ge[0]),R(-ge[1],le[0])),K[2]),P($(P(R(K[1],ge[0]),R(-ge[1],K[0])),-le[2]),$(P(R(K[1],le[0]),R(-le[1],K[0])),ge[2]))),J[3]),$(P($(P(R(le[1],J[0]),R(-J[1],le[0])),K[2]),P($(P(R(K[1],J[0]),R(-J[1],K[0])),-le[2]),$(P(R(K[1],le[0]),R(-le[1],K[0])),J[2]))),-ge[3]))),P(P($(P($(P(R(le[1],ge[0]),R(-ge[1],le[0])),ae[2]),P($(P(R(ae[1],ge[0]),R(-ge[1],ae[0])),-le[2]),$(P(R(ae[1],le[0]),R(-le[1],ae[0])),ge[2]))),K[3]),$(P($(P(R(le[1],ge[0]),R(-ge[1],le[0])),K[2]),P($(P(R(K[1],ge[0]),R(-ge[1],K[0])),-le[2]),$(P(R(K[1],le[0]),R(-le[1],K[0])),ge[2]))),-ae[3])),P($(P($(P(R(ae[1],ge[0]),R(-ge[1],ae[0])),K[2]),P($(P(R(K[1],ge[0]),R(-ge[1],K[0])),-ae[2]),$(P(R(K[1],ae[0]),R(-ae[1],K[0])),ge[2]))),le[3]),$(P($(P(R(ae[1],le[0]),R(-le[1],ae[0])),K[2]),P($(P(R(K[1],le[0]),R(-le[1],K[0])),-ae[2]),$(P(R(K[1],ae[0]),R(-ae[1],K[0])),le[2]))),-ge[3])))),ve=W(Ee,ne);return ve[ve.length-1]}}function _(P){var R=P===3?m:P===4?d:E;return R(r,t,i,n)}var T=_(3),C=_(4),A=[function(){return 0},function(){return 0},function(R,$){return $[0]-R[0]},function(R,$,W){var Z=(R[1]-W[1])*($[0]-W[0]),K=(R[0]-W[0])*($[1]-W[1]),ae=Z-K,le;if(Z>0){if(K<=0)return ae;le=Z+K}else if(Z<0){if(K>=0)return ae;le=-(Z+K)}else return ae;var J=h*le;return ae>=J||ae<=-J?ae:T(R,$,W)},function(R,$,W,Z){var K=R[0]-Z[0],ae=$[0]-Z[0],le=W[0]-Z[0],J=R[1]-Z[1],ge=$[1]-Z[1],Ee=W[1]-Z[1],ne=R[2]-Z[2],ve=$[2]-Z[2],Me=W[2]-Z[2],je=ae*Ee,Qe=le*ge,tt=le*J,st=K*Ee,Ct=K*ge,Be=ae*J,Ae=ne*(je-Qe)+ve*(tt-st)+Me*(Ct-Be),Ne=(Math.abs(je)+Math.abs(Qe))*Math.abs(ne)+(Math.abs(tt)+Math.abs(st))*Math.abs(ve)+(Math.abs(Ct)+Math.abs(Be))*Math.abs(Me),Ue=p*Ne;return Ae>Ue||-Ae>Ue?Ae:C(R,$,W,Z)}];function D(P){var R=A[P.length];return R||(R=A[P.length]=_(P.length)),R.apply(void 0,P)}function O(P,R,$,W,Z,K,ae){return function(J,ge,Ee,ne,ve){switch(arguments.length){case 0:case 1:return 0;case 2:return W(J,ge);case 3:return Z(J,ge,Ee);case 4:return K(J,ge,Ee,ne);case 5:return ae(J,ge,Ee,ne,ve)}for(var Me=new Array(arguments.length),je=0;je<arguments.length;++je)Me[je]=arguments[je];return P(Me)}}function B(){for(;A.length<=s;)A.push(_(A.length));e.exports=O.apply(void 0,[D].concat(A));for(var P=0;P<=s;++P)e.exports[P]=A[P]}B()})(jQ);var YQ=vBe,mO=jQ.exports;function vBe(e,t){for(var r=t[0],i=t[1],n=e.length,s=1,c=n,h=0,p=n-1;h<c;p=h++){var m=e[h],d=e[p],E=m[1],_=d[1];if(_<E){if(_<i&&i<E){var T=mO(m,d,t);if(T===0)return 0;s^=0<T|0}else if(i===E){var C=e[(h+1)%n],A=C[1];if(E<A){var T=mO(m,d,t);if(T===0)return 0;s^=0<T|0}}}else if(E<_){if(E<i&&i<_){var T=mO(m,d,t);if(T===0)return 0;s^=T<0|0}else if(i===E){var C=e[(h+1)%n],A=C[1];if(A<E){var T=mO(m,d,t);if(T===0)return 0;s^=T<0|0}}}else if(i===E){var D=Math.min(m[0],d[0]),O=Math.max(m[0],d[0]);if(h===0){for(;p>0;){var B=(p+n-1)%n,P=e[B];if(P[1]!==i)break;var R=P[0];D=Math.min(D,R),O=Math.max(O,R),p=B}if(p===0)return D<=r&&r<=O?0:1;c=p+1}for(var $=e[(p+n-1)%n][1];h+1<c;){var P=e[h+1];if(P[1]!==i)break;var R=P[0];D=Math.min(D,R),O=Math.max(O,R),h+=1}if(D<=r&&r<=O)return 0;var W=e[(h+1)%n][1];r<D&&$<i!=W<i&&(s^=1)}}return 2*s-1}const XQ=16,qQ=50,e3=5e3,KQ=5,Qg={fontSize:"14px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2};let ZQ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.valueScaleTransform=_o,s}return j(r,[{key:"initialize",value:function(){this.initialized||([this.prevK,this.vertK,this.vertY]=[1,1,0],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=tp(this.options.colorRange):this.colorScale=Oy),this.initialized=!0)}},{key:"initTile",value:function(n){n.texts={},n.rectGraphics=new er.PIXI.Graphics,n.textGraphics=new er.PIXI.Graphics,n.graphics.addChild(n.rectGraphics),n.graphics.addChild(n.textGraphics);let s=[],c=[];if(n.tileData&&n.tileData.length){if(n.tileData.sort((h,p)=>p.importance-h.importance),!this.options||!this.options.valueColumn){const h=n.tileData.map(p=>{const m=+p.chrOffset;return{from:+p.fields[1]+m,to:+p.fields[2]+m,value:p,text:p.fields[3],strand:p.fields.length>=6&&p.fields[5]==="-"?"-":"+"}});s=nI(h.filter(p=>p.strand==="+")),c=nI(h.filter(p=>p.strand==="-"))}else s=[n.tileData.map(h=>({value:h}))];n.plusStrandRows=s,n.minusStrandRows=c,this.options.showTexts&&n.tileData.forEach((h,p)=>{const m=h.fields;if(h.importance||(h.importance=Math.random()),n.textWidths={},n.textHeights={},p>=(+this.options.maxTexts||qQ))return;const d=new er.PIXI.Text(m[3],{...Qg,fontSize:+this.options.fontSize||Qg.fontSize});this.flipText&&(d.scale.x=-1),d.anchor.x=.5,d.anchor.y=.5,n.texts[h.uid]=d,n.textGraphics.addChild(d)})}n.initialized=!0}},{key:"removeTileRects",value:function(n){const s=+n.tileId.split(".")[0];n.rectGraphics.clear(),n.rendered=!1,n.tileData&&n.tileData.length&&n.tileData.forEach((c,h)=>{this.drawnRects[s]&&this.drawnRects[s][c.uid]&&this.drawnRects[s][c.uid][2]===n.tileId&&delete this.drawnRects[s][c.uid]})}},{key:"destroyTile",value:function(n){this.removeTileRects(n),n.graphics.removeChild(n.textGraphics),n.graphics.removeChild(n.rectGraphics)}},{key:"removeTiles",value:function(n){a(N(r.prototype),"removeTiles",this).call(this,n)}},{key:"drawTile",value:function(n){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}},{key:"rerender",value:function(n,s){a(N(r.prototype),"rerender",this).call(this,n,s),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=tp(this.options.colorRange):this.colorScale=Oy;for(const c of this.visibleAndFetchedTiles())this.destroyTile(c),this.initTile(c),this.renderTile(c)}},{key:"updateTile",value:function(n){this.areAllVisibleTilesLoaded()&&this.renderTile(n)}},{key:"allVisibleRects",value:function(){const n={};Object.values(this.fetchedTiles).forEach(p=>{if(p.plusStrandRows)for(const m of p.plusStrandRows[0])n[m.value.uid]||(n[m.value.uid]=m)});const s=Object.values(n).sort((p,m)=>p.from-m.from);let c=0,h=0;for(let p=0;p<s.length;p++)if(s[p].staggeredStartPosition!==void 0){c=p,h=s[p].staggeredStartPosition;break}for(let p=c;p<s.length;p++)s[p].staggeredStartPosition=(h+p-c)%2;for(let p=c;p>=0&&s.length;p--)s[p].staggeredStartPosition=(h+c-p)%2;return n}},{key:"drawSegmentStyle",value:function(n,s,c,h,p,m){const E=h+p/2,_=[s,h,s+2*.1,h,s+2*.1,E-.1,c-2*.1,E-.1,c-2*.1,h,c,h,c,h+p,c-2*.1,h+p,c-2*.1,E+.1,s+2*.1,E+.1,s+2*.1,h+p,s,h+p];return n.rectGraphics.drawPolygon(_),_}},{key:"drawPoly",value:function(n,s,c,h,p,m){let d=null;return this.options.annotationStyle==="segment"?this.drawSegmentStyle(n,s,c,h,p,m):((m==="+"||m==="-")&&c-s<XQ/2?(d=[s,h,s+p/2,h+p/2,s,h+p],m==="+"||(d=[c,h,c-p/2,h+p/2,c,h+p]),n.rectGraphics.drawPolygon(d)):(m==="+"?d=[s,h,c-p/2,h,c,h+p/2,c-p/2,h+p,s,h+p]:m==="-"?d=[s+p/2,h,c,h,c,h+p,s+p/2,h+p,s,h+p/2]:d=[s,h,c,h,c,h+p,s,h+p],n.rectGraphics.drawPolygon(d)),d)}},{key:"setValueScale",value:function(){if(this.valueScale=null,this.options&&this.options.valueColumn){const n=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),s=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);this.options.valueColumn&&([this.valueScale]=this.makeValueScale(n,this.calculateMedianVisibleValue(+this.options.valueColumn),s))}}},{key:"setColorValueScale",value:function(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding&&this.options.colorEncoding!=="itemRgb"){const n=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),s=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=qr().domain([n,s]).range([0,255])}}},{key:"renderRows",value:function(n,s,c,h,p,m){const d=+n.tileId.split(".")[0];this.initialize();const E=tu().domain(xa(c)).range([h,p]).paddingInner(.3);this.allVisibleRects();let _=null;this.options.staggered&&(_=this.allVisibleRects());for(let T=0;T<s.length;T++)for(let C=0;C<s[T].length;C++){const A=s[T][C].value,D=A.fields,O=+A.chrOffset,B=+D[1]+O,P=+D[2]+O,R=(B+P)/2;let $=E(T)+E.step()/2,W=this.options.annotationHeight||XQ;if(W==="scaled"&&(W=E.bandwidth(),this.options.maxAnnotationHeight&&(W=Math.min(W,+this.options.maxAnnotationHeight))),this.options&&this.options.colorEncoding==="itemRgb"&&A.fields[8]?A.fields[8].split(",").length===3&&(m=`rgb(${A.fields[8]})`):this.colorValueScale&&(m=`rgba(${sL(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+D[+this.options.colorEncoding-1]).join(",")})`),this.valueScale){const ne=+D[+this.options.valueColumn-1];$=this.valueScale(ne)}const Z=this.options.fillOpacity||.3;n.rectGraphics.lineStyle(1,Pr(m),Z),n.rectGraphics.beginFill(Pr(m),Z);let K=$-W/2;const ae=this._xScale(B),le=this._xScale(P);this.options.staggered&&(_[A.uid].staggeredStartPosition?K-=KQ/2:K+=KQ/2);let J=!0;if(!(d in this.drawnRects&&A.uid in this.drawnRects[d])){J=!1,this.drawnRects[d]||(this.drawnRects[d]={});const ne=this.drawPoly(n,ae,le,K*this.prevK,W*this.prevK,D[5]);this.drawnRects[d][A.uid]=[ne,{start:B,end:P,value:A,tile:n,fill:m},n.tileId]}if(!this.options.showTexts)continue;if(!n.texts)return;if(C>=(+this.options.maxTexts||qQ)||!n.texts[A.uid])continue;const ge=n.texts[A.uid];ge.position.x=this._xScale(R),ge.position.y=K+W/2,ge.nominalY=K+W/2,J&&(ge.alreadyDrawn=!0);const Ee=this.options.fontColor!==void 0?Pr(this.options.fontColor):m;if(ge.style={...Qg,fill:Ee,fontSize:+this.options.fontSize||Qg.fontSize},!(D[3]in n.textWidths)){ge.updateTransform();const ne=ge.getBounds().width,ve=ge.getBounds().height,Me=5;n.textWidths[D[3]]=ne,n.textHeights[D[3]]=ve-Me}}}},{key:"renderTile",value:function(n){let s=n.plusStrandRows?n.plusStrandRows.length:1,c=n.minusStrandRows?n.minusStrandRows.length:1;for(const h of this.visibleAndFetchedTiles()){if(!h.initialized)return;!h.plusStrandRows&&!h.minusStrandRows||(s=Math.max(h.plusStrandRows.length,s),c=Math.max(h.minusStrandRows.length,c))}if(n.rendered&&this.removeTileRects(n),n.drawnAtScale=this._xScale.copy(),n.rendered=!0,this.setValueScale(),this.setColorValueScale(),n.tileData&&n.tileData.length){const h=this.options.plusStrandColor||this.options.fillColor||"blue",p=this.options.minusStrandColor||this.options.fillColor||"purple",m=0;let d=0;this.options.separatePlusMinusStrands?d=s*this.dimensions[1]/(s+c)-m/2:d=this.dimensions[1],this.renderRows(n,n.plusStrandRows,s,0,d,h),this.renderRows(n,n.minusStrandRows,c,this.options.separatePlusMinusStrands?d+m/2:0,this.dimensions[1],p)}Lg.stretchRects(this,[h=>h.rectGraphics])}},{key:"calculateZoomLevel",value:function(){const n=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);let s=Math.min(n,this.maxZoom);return s=Math.max(s,0),s}},{key:"minVisibleValueInTiles",value:function(n){let s=this.visibleAndFetchedIds();s.length===0&&(s=Object.keys(this.fetchedTiles));let c=Math.min.apply(null,s.map(h=>this.fetchedTiles[h]).filter(h=>h.tileData&&h.tileData.length).map(h=>Math.min.apply(null,h.tileData.sort((p,m)=>m.importance-p.importance).slice(0,e3).map(p=>+p.fields[n-1]).filter(p=>!Number.isNaN(p)))));return c===Number.MAX_SAFE_INTEGER&&(c=null),c}},{key:"maxVisibleValueInTiles",value:function(n){let s=this.visibleAndFetchedIds();s.length===0&&(s=Object.keys(this.fetchedTiles));let c=Math.max.apply(null,s.map(h=>this.fetchedTiles[h]).filter(h=>h.tileData&&h.tileData.length).map(h=>Math.max.apply(null,h.tileData.sort((p,m)=>m.importance-p.importance).slice(0,e3).map(p=>+p.fields[n-1]).filter(p=>!Number.isNaN(p)))));return c===Number.MIN_SAFE_INTEGER&&(c=null),c}},{key:"calculateMedianVisibleValue",value:function(n){this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();let s=this.visibleAndFetchedIds();s.length===0&&(s=Object.keys(this.fetchedTiles));const c=[].concat(...s.map(h=>this.fetchedTiles[h]).filter(h=>h.tileData&&h.tileData.length).map(h=>h.tileData.sort((p,m)=>m.importance-p.importance).slice(0,e3).map(p=>+p.fields[n-1]))).filter(h=>h>0);this.medianVisibleValue=DE(c)}},{key:"draw",value:function(){a(N(r.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];for(const n in this.fetchedTiles){const s=this.fetchedTiles[n];if(s.rectGraphics.scale.y=this.vertK,s.rectGraphics.position.y=this.vertY,!s.drawnAtScale)return;Lg.stretchRects(this,[h=>h.rectGraphics]);const c=this.parentInFetched(s);s.initialized&&s.tileData&&s.tileData.length&&s.tileData.forEach(h=>{if(!s.texts)return;const p=h.fields,m=p[3],d=s.texts[h.uid];if(!d)return;const E=+h.chrOffset,_=+p[1]+E,T=+p[2]+E,C=(_+T)/2;if(d.position.x=this._xScale(C),d.position.y=d.nominalY*(this.vertK*this.prevK)+this.vertY,!c&&!d.alreadyDrawn){d.visible=!0;const A=3;this.allBoxes.push([d.position.x-A,d.position.y-s.textHeights[p[3]]/2,d.position.x+s.textWidths[p[3]]+A,d.position.y+s.textHeights[p[3]]/2]),this.allTexts.push({importance:h.importance,text:d,caption:m,strand:p[5]})}else d.visible=!1})}this.hideOverlaps(this.allBoxes,this.allTexts)}},{key:"hideOverlaps",value:function(n,s){GS(n,(c,h)=>{s[c].importance>s[h].importance?s[c].text.visible&&(s[h].text.visible=!1):s[h].text.visible&&(s[c].text.visible=!1)})}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n)}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.refreshTiles(),this.draw()}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),n.appendChild(c);const h=document.createElement("g"),p=document.createElement("g");c.appendChild(h),c.appendChild(p);for(const m of this.visibleAndFetchedTiles())m.tileData.length&&m.tileData.forEach(d=>{const E=+m.tileId.split(".")[0],_=document.createElement("g");if(_.setAttribute("transform",`translate(${m.rectGraphics.position.x},${m.rectGraphics.position.y})scale(${m.rectGraphics.scale.x},${m.rectGraphics.scale.y})`),h.appendChild(_),this.drawnRects[E]&&d.uid in this.drawnRects[E]){const T=this.drawnRects[E][d.uid][0],C=document.createElement("path");let A=`M ${T[0]} ${T[1]}`;for(let B=2;B<T.length;B+=2)A+=` L ${T[B]} ${T[B+1]}`;const D=this.drawnRects[E][d.uid][1].fill,O=this.options.fontColor!==void 0?Pr(this.options.fontColor):D;if(C.setAttribute("d",A),C.setAttribute("fill",D),C.setAttribute("opacity",.3),C.style.stroke=D,C.style.strokeWidth="1px",_.appendChild(C),m.texts[d.uid]){const B=m.texts[d.uid];if(!B.visible)return;const P=document.createElement("g"),R=document.createElement("text");p.appendChild(P),P.appendChild(R),P.setAttribute("transform",`translate(${B.x},${B.y})scale(${B.scale.x},1)`),R.setAttribute("text-anchor","middle"),R.setAttribute("font-family",Qg.fontFamily),R.setAttribute("font-size",+this.options.fontSize||Qg.fontSize),R.setAttribute("font-weight","bold"),R.setAttribute("dy","5px"),R.setAttribute("fill",O),R.setAttribute("stroke",Qg.stroke),R.setAttribute("stroke-width","0.4"),R.setAttribute("text-shadow","0px 0px 2px grey"),R.innerHTML=B.text}}});return[s,s]}},{key:"movedY",value:function(n){Object.values(this.fetchedTiles).forEach(s=>{const c=this.valueScaleTransform,{y:h,k:p}=c,m=this.dimensions[1];h+n/p>-(p-1)*m&&h+n/p<0&&(this.valueScaleTransform=c.translate(0,n/p)),s.rectGraphics.position.y=this.valueScaleTransform.y,this.vertY=this.valueScaleTransform.y}),this.animate()}},{key:"zoomedY",value:function(n,s){const c=Lg.zoomedY(n,s,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=c;let h=c.k;const p=c.y;let m=!1;h/=this.prevK,(h>1.5||h<1/1.5)&&(this.prevK*=h,h=1,m=!0),this.vertK=h,this.vertY=p,Object.values(this.fetchedTiles).forEach(d=>{m&&this.renderTile(d),d.rectGraphics.scale.y=h,d.rectGraphics.position.y=p}),this.draw(),this.animate()}},{key:"getMouseOverHtml",value:function(n,s){if(!this.tilesetInfo)return"";const c=this.calculateZoomLevel(),h=[n,s];if(this.drawnRects[c]){const p=Object.values(this.drawnRects[c]);for(let m=0;m<p.length;m++){const d=p[m][0].slice(0),E=p[m][1].tile.rectGraphics.scale.x,_=p[m][1].tile.rectGraphics.position.x,T=p[m][1].tile.rectGraphics.scale.y,C=p[m][1].tile.rectGraphics.position.y,A=[];for(;d.length;){const[O,B]=d.splice(0,2);A.push([O*E+_,B*T+C])}if(YQ(A,h)===-1)return p[m][1].value.fields.join(" ")}}return""}}]),r})(U1);const yBe=(e,t,r,i,n)=>{n.drawRect(e,t,r,i)},_Be=(e,t,r,i,n,{fill:s=0,fillOpacity:c=0,stroke:h=0,strokeWidth:p=0,strokeOpacity:m=0}={})=>{const d=document.createElement("rect");d.setAttribute("x",e),d.setAttribute("y",t),d.setAttribute("width",r),d.setAttribute("height",i),d.setAttribute("fill",`#${GM(s)}`),d.setAttribute("fill-opacity",c),d.setAttribute("stroke",`#${GM(h)}`),d.setAttribute("stroke-opacity",m),d.setAttribute("stroke-width",p),n.appendChild(d)},Rh=(e,t,r,i,n,s)=>{n instanceof HTMLElement?_Be(e,t,r,i,n,s):yBe(e,t,r,i,n)},QQ=(e,t,r,i,n,s,c,h,{isVertical:p=!1,svg:m=null}={})=>{let d=t,E=r,_=i,T=n;const C=h.width*2>i?i/2:h.width,A=h.width*2>n?n/2:h.width,D=m||e,O={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if(h.positions&&h.positions.length?(e.lineStyle(1,0,0),e.beginFill(h.color,h.opacity),O.fill=h.color,O.fillOpacity=h.opacity,O.stroke=0,O.strokeOpacity=0,O.strokeWidth=1,h.positions.forEach(B=>{B==="top"&&!p||B==="left"&&p?Rh(t-C,r-A,i+C*2,A,D,O):B==="bottom"&&!p||B==="right"&&p?Rh(t-C,r+n,i+C*2,A,D,O):B==="left"&&!p||B==="top"&&p?Rh(t-C,r-A,C,n+A*2,D,O):(B==="right"&&!p||B==="bottom"&&p)&&Rh(t+i,r-A,C,n+A*2,D,O)})):h.width>0&&h.opacity>0&&(e.lineStyle(h.width,h.color,h.opacity),e.beginFill(0,0),O.fill=0,O.fillOpacity=0,O.stroke=h.color,O.strokeOpacity=h.opacity,O.strokeWidth=h.width,Rh(t-C,r-A,i+C*2,n+A*2,D,O)),c.positions&&c.positions.length){e.lineStyle(1,0,0),e.beginFill(c.color,c.opacity);const B=c.width*2>i?i/2:c.width,P=c.width*2>n?n/2:c.width;O.fill=c.color,O.fillOpacity=c.opacity,O.stroke=0,O.strokeOpacity=0,O.strokeWidth=1,c.positions.forEach(R=>{R==="top"&&!p||R==="left"&&p?(Rh(t,r,i,P,D,O),E+=P,T-=P):R==="bottom"&&!p||R==="right"&&p?(Rh(t,r+n-P,i,P,D,O),T-=P):R==="left"&&!p||R==="top"&&p?(Rh(t,r,B,n,D,O),d+=B,_-=B):(R==="right"&&!p||R==="bottom"&&p)&&(Rh(t+i-B,r,B,n,D,O),_-=B)})}else e.lineStyle(c.width,c.color,c.opacity),O.stroke=c.color,O.strokeOpacity=c.opacity,O.strokeWidth=c.width;e.beginFill(s.color,s.opacity),O.fill=s.color,O.fillOpacity=s.opacity,Rh(d,E,_,T,D,O)};let JQ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.options=n||{},s.drawnRects={},s}return j(r,[{key:"drawHorizontalOverlay",value:function(n,s,c,h=0,p,m,d,E){if(!c||c.length<2)return;let _=this.position[0]+s.left+this._xScale(c[0]);const T=this.position[1]+s.top,C=s.height;let A=this._xScale(c[1])-this._xScale(c[0]);A<h&&(_-=(h-A)/2,A=h),QQ(n,_,T,A,C,p,m,d,E)}},{key:"drawVerticalOverlay",value:function(n,s,c,h=0,p,m,d,E={}){if(!c||c.length<2)return;const _=this.position[0]+s.left;let T=this.position[1]+s.top+this._yScale(c.length>=4?c[2]:c[0]);const C=this.position[1]+s.top,A=this.position[1]+s.top+s.height;if(T>A)return;T<C&&(T=C);const D=s.width;let O=this._yScale(c.length>=4?c[3]:c[1])-T+s.top+this.position[1];O<0||(T+O>A&&(O+=A-(T+O)),O<h&&(T-=(h-O)/2,O=h),E.isVertical=!0,QQ(n,_,T,D,O,p,m,d,E))}},{key:"draw",value:function(n){a(N(r.prototype),"draw",this).call(this);const s=this.pMain,c={color:Pr(this.options.fill||this.options.fillColor||"blue"),opacity:Number.isNaN(+this.options.fillOpacity)?.3:+this.options.fillOpacity},h={color:Pr(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},p={color:Pr(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};(!n||!n.svg)&&s.clear(),s.lineStyle(h.width,h,+!h.positions*h.opacity),s.beginFill(c.color,c.opacity);const m=Math.max(0,+this.options.minWidth||0),d=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach(E=>{(E.orientation==="1d-horizontal"||E.orientation==="2d")&&this.options.extent.forEach(_=>this.drawHorizontalOverlay(s,E.position,_,m,c,h,p,n)),(E.orientation==="1d-vertical"||E.orientation==="2d")&&this.options.extent.forEach(_=>this.drawVerticalOverlay(s,E.position,_,d,c,h,p,n))})}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.draw()}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n),this.draw()}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");return n.appendChild(c),this.draw({svg:c}),[s,n]}}]),r})(ks),q1=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"stopHover",value:function(){this.pMouseOver.clear(),this.animate()}},{key:"getMouseOverHtml",value:function(n){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";const s=this.getDataAtPos(n);let c="";s&&(c=Xi(".3f")(s));const h=this.pMouseOver,p=0,m=this.valueScale(s);h.clear(),h.beginFill(p,.5),h.lineStyle(1,p,1);const d=4;return h.drawRect(n-d/2,m-d/2,d,d),this.animate(),`${c}`}},{key:"initTile",value:function(n){if(a(N(r.prototype),"initTile",this).call(this,n),!n.tileData||!n.tileData.dense){console.warn("emptyTile:",n);return}if(n.xValues=new Array(n.tileData.dense.length),n.yValues=new Array(n.tileData.dense.length),this.isValueScaleLocked()){const s=this.getLockGroupExtrema();s!==null&&(this.minValue(s[0]),this.maxValue(s[1]))}this.drawTile(n)}},{key:"rerender",value:function(n,s){a(N(r.prototype),"rerender",this).call(this,n,s),this.options=n,a(N(r.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach(c=>{this.renderTile(c)})}},{key:"renderTile",value:function(n){this.drawTile(n),this.drawAxis(this.valueScale)}},{key:"drawTile",value:function(n){if(a(N(r.prototype),"drawTile",this).call(this,n),!n.graphics||!n.tileData||!n.tileData.dense)return;const s=n.graphics,{tileX:c,tileWidth:h}=this.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos),p=n.tileData.dense;if(p.length===0)return;const[m,d]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue());if(this.valueScale=m,s.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const E=Pr(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");!this.tilesetInfo.tile_size&&!this.tilesetInfo.bins_per_dimension&&console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);const _=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,T=qr().domain([0,_]).range([c,c+h]),C=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;s.lineStyle(C,E,1),n.segments=[];let A=[];for(let D=0;D<p.length;D++){const O=this._xScale(T(D)),B=this.valueScale(p[D]+d);if(this.options.valueScaling==="log"&&p[D]===0||Number.isNaN(B)){A.length>1&&n.segments.push(A),A=[];continue}if(T(D)>this.tilesetInfo.max_pos[0])break;A.push([O,B])}A.length>1&&n.segments.push(A);for(const D of n.segments){const O=D[0],B=D.slice(1);s.moveTo(O[0],O[1]);for(const P of B)s.lineTo(P[0],P[1])}}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.refreshTiles(),this.draw();const c=this.isValueScaleLocked();if(this.continuousScaling&&this.minValue()!==void 0&&this.maxValue()!==void 0){if(this.valueScaleMin===null&&this.valueScaleMax===null&&!c){const h=this.minVisibleValue(),p=this.maxVisibleValue(),m=1e-6;h!==null&&p!==null&&(Math.abs(this.minValue()-h)>m||Math.abs(this.maxValue()-p)>m)&&(this.minValue(h),this.maxValue(p),this.scheduleRerender())}c&&this.onValueScaleChanged()}}},{key:"superSVG",value:function(){return a(N(r.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s),s.setAttribute("class","exported-line-track");const c=document.createElement("g");n.appendChild(c),c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`);const h=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach(m=>{const d=document.createElement("path");d.setAttribute("fill","transparent"),d.setAttribute("stroke",h);let E="";for(const _ of m.segments){const T=_[0],C=_.slice(1);E+=`M${T[0]} ${T[1]}`;for(const A of C)E+=`L${A[0]} ${A[1]}`}d.setAttribute("d",E),c.appendChild(d)});const p=document.createElement("g");if(p.setAttribute("id","axis"),s.appendChild(p),p.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const m=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);p.appendChild(m)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const m=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);p.appendChild(m)}return[s,n]}},{key:"tileToLocalId",value:function(n){return this.options.aggregationMode&&this.options.aggregationMode!=="mean"?`${n.join(".")}.${this.options.aggregationMode}`:`${n.join(".")}`}},{key:"tileToRemoteId",value:function(n){return this.tileToLocalId(n)}}]),r})(U1),eJ=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"initTile",value:function(n){n.barXValues=new Array(n.tileData.dense.length),n.barYValues=new Array(n.tileData.dense.length),n.barWidths=new Array(n.tileData.dense.length),n.barHeights=new Array(n.tileData.dense.length),a(N(r.prototype),"initTile",this).call(this,n)}},{key:"drawTile",value:function(n){if(!n.graphics||!n.tileData||!n.tileData.dense)return;const s=n.graphics,{tileX:c,tileWidth:h}=this.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos),p=n.tileData.dense;if(p.length===0)return;let m=0;if(this.valueScale=null,this.options.valueScaling==="log"){let A=this.medianVisibleValue;this.medianVisibleValue||(A=this.minValue()),this.valueScale=Qc().domain([A,this.maxValue()+A]).range([this.dimensions[1],0]),m=A}else this.valueScale=qr().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(s.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const d=Pr(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),E=qr().domain([0,this.tilesetInfo.tile_size]).range([c,c+h]);s.lineStyle(0,d,1);const T=this.options.pointSize?this.options.pointSize:3,C=Pr(this.options.pointColor?this.options.pointColor:"red");s.beginFill(C,1),n.drawnAtScale=this._xScale.copy();for(let A=0;A<p.length;A++){const D=this._xScale(E(A)),O=this.valueScale(p[A]+m);if(n.barXValues[A]=D-T/2/this.pMain.scale.x,n.barYValues[A]=O-T/2/this.pMain.scale.y,n.barWidths[A]=T/this.pMain.scale.x,n.barHeights[A]=T/this.pMain.scale.y,E(A)>this.tilesetInfo.max_pos[0])break;s.drawRect(D-T/2/this.pMain.scale.x,O-T/2/this.pMain.scale.y,T/this.pMain.scale.x,T/this.pMain.scale.y)}}},{key:"draw",value:function(){a(N(r.prototype),"draw",this).call(this);for(const n of vi(this.fetchedTiles)){const s=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),h=this._xScale.domain().map(n.drawnAtScale)[0];n.graphics.scale.x=s,n.graphics.position.x=-h*s}}},{key:"zoomed",value:function(n,s,c,h,p){a(N(r.prototype),"zoomed",this).call(this,n,s)}},{key:"exportSVG",value:function(){let n=null,s=null;[s,n]=a(N(r.prototype),"superSVG",this).call(this),s.setAttribute("class","exported-line-track");const c=document.createElement("g");n.appendChild(c),c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`);for(const p of this.visibleAndFetchedTiles())for(let m=0;m<p.barXValues.length;m++){const d=document.createElement("rect"),E=this.options.lineStrokeColor||"blue",_=this.options.pointColor||"red";d.setAttribute("fill",_),d.setAttribute("stroke",E),d.setAttribute("stroke-width",0),d.setAttribute("x",p.barXValues[m]),d.setAttribute("y",p.barYValues[m]),d.setAttribute("height",p.barHeights[m]),d.setAttribute("width",p.barWidths[m]),c.appendChild(d)}const h=document.createElement("g");if(h.setAttribute("id","axis"),s.appendChild(h),h.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const p=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);h.appendChild(p)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const p=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);h.appendChild(p)}return[s,n]}}]),r})(q1);function EBe(e){let t=0;const r=[];return e.forEach(i=>{t+=+i||0,r.push(t)}),Float64Array.from(r)}const TBe=(e,t)=>{const r=pb(e,t);return EBe(e.map(i=>(Array.isArray(i)&&t?i.length:1)/r))};let tJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.pMain=s.pMobile,s.continuousScaling=!1,s.updateDataFetcher(n),s}return j(r,[{key:"updateDataFetcher",value:function(n){if(n&&n.selectRows&&n.selectRowsAggregationMethod==="server"){const{pubSub:s,dataFetcher:c}=this,h=c.dataConfig.options,p={aggGroups:n.selectRows,aggFunc:n.selectRowsAggregationMode};if(JSON.stringify(h)!==JSON.stringify(p)){const m={...c.dataConfig,options:p};this.dataFetcher=new c.constructor(m,s),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles(Object.keys(this.fetchedTiles).map(d=>({tileId:d,remoteId:d})))}}}},{key:"rerender",value:function(n,s){this.updateDataFetcher(n),a(N(r.prototype),"rerender",this).call(this,n,s),n.selectRows&&(this.selectRowsCumWeights=TBe(n.selectRows,n.selectRowsAggregationWithRelativeHeight))}},{key:"tileDataToCanvas",value:function(n){const s=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(s.width=this.tilesetInfo.shape[0],s.height=pb(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(s.width=this.tilesetInfo.shape[0],s.height=this.tilesetInfo.shape[1]):(s.width=this.tilesetInfo.tile_size,s.height=1);const c=s.getContext("2d");if(c.fillStyle="transparent",c.fillRect(0,0,s.width,s.height),n.length!==0&&n.length===4*s.width*s.height){const h=new ImageData(n,s.width,s.height);c.putImageData(h,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return s}},{key:"setSpriteProperties",value:function(n,s,c){const{tileX:h,tileWidth:p}=this.getTilePosAndDimensions(s,c,this.tilesetInfo.tile_size),m=h+p;n.width=this._refXScale(m)-this._refXScale(h),n.height=this.dimensions[1],n.x=this._refXScale(h),n.y=0}},{key:"leftTrackZoomed",value:function(n,s,c,h,p){const m=this._xScale(0)-c*this._refXScale(0);this.pMobile.position.x=m+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=c,this.pMobile.scale.y=1}},{key:"zoomed",value:function(n,s,c,h){a(N(r.prototype),"zoomed",this).call(this,n,s),this.pMain.position.x=h,this.pMain.position.y=this.position[1],this.pMain.scale.x=c,this.pMain.scale.y=1,this.drawColorbar()}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const s=this.tilesetInfo.resolutions.map(c=>+c).sort((c,h)=>h-c);this.xTiles=yr.calculateTilesFromResolution(s[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=yr.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const n=this.xTiles.map(s=>[this.zoomLevel,s]);this.setVisibleTiles(n)}},{key:"calculateZoomLevel",value:function(){if(!this.tilesetInfo)return;const n=this.tilesetInfo.min_pos[0];let s=null;return this.tilesetInfo.resolutions?s=yr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,n):s=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),s}},{key:"tileToLocalId",value:function(n){return n.join(".")}},{key:"tileToRemoteId",value:function(n){return n.join(".")}},{key:"getTilePosAtPosition",value:function(n,s){if(!this.tilesetInfo)return;const c=this.calculateZoomLevel(),h=yr.calculateTileWidth(this.tilesetInfo,c,this.tilesetInfo.tile_size),p=this._xScale.invert(n)/h;return[c,Math.floor(p)]}},{key:"getVisibleData",value:function(n,s){const c=this.calculateZoomLevel(),h=yr.calculateTileWidth(this.tilesetInfo,c,this.tilesetInfo.tile_size),p=this._xScale.invert(n)/h;let m=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(m=pb(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));let d=this.tilesetInfo.tile_size*(p-Math.floor(p));const E=s/this.dimensions[1],_=E*m;let T=Math.floor(_),C;this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(T=this.selectRowsCumWeights.findIndex((B,P)=>E<=B&&(P===this.selectRowsCumWeights.length-1||this.selectRowsCumWeights[P+1]>=E))),C=this.options.selectRows[T]);const A=this.tileToLocalId([c,Math.floor(p)]),D=this.fetchedTiles[A];let O="";if(D){this.tilesetInfo.shape||(d=D.tileData.dense.length*(p-Math.floor(p)));let B=null;if(this.tilesetInfo.shape?Array.isArray(C)&&this.options.selectRowsAggregationMethod==="client"?B=C.map(P=>this.tilesetInfo.shape[0]*P+Math.floor(d)):C&&this.options.selectRowsAggregationMethod==="client"?B=this.tilesetInfo.shape[0]*C+Math.floor(d):B=this.tilesetInfo.shape[0]*T+Math.floor(d):B=D.tileData.dense.length*T+Math.floor(d),Array.isArray(B)){const P=hL(this.options.selectRowsAggregationMode),R=B.map($=>D.tileData.dense[$]);O=Xi(".3f")(P(R)),O+="<br/>",O+=`${B.length}-item ${this.options.selectRowsAggregationMode}`}else O=Xi(".3f")(D.tileData.dense[B]),Array.isArray(C)&&(O+="<br/>",O+=`${C.length}-item ${this.options.selectRowsAggregationMode}`)}if(this.tilesetInfo.row_infos){O+="<br/>";let B="";this.options.selectRows&&!Array.isArray(C)?B=this.tilesetInfo.row_infos[C]:T>=0&&T<this.tilesetInfo.row_infos.length&&(B=this.tilesetInfo.row_infos[T]),typeof B=="object"?O+=Object.values(B).join("	"):O+=B}return`${O}`}},{key:"getMouseOverHtml",value:function(n,s){if(!this.tilesetInfo)return"";const c=this.getTilePosAtPosition(n,s);let h="";if(this.options&&this.options.heatmapValueScaling&&this.options.heatmapValueScaling==="categorical"&&this.options.colorRange){const m=this.getVisibleData(n,s).split("<br/>"),d=this.options.colorRange[parseInt(m[0],10)-1],E=m[1];if(Number.isNaN(d)||d==="NaN"||typeof d>"u"||d==="undefined")return"";h=`<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"
                 style="fill:${d};stroke:black;stroke-width:2;"></svg> ${E}`}else h+=`Data value: ${this.getVisibleData(n,s)}</br>`,h+=`Zoom level: ${c[0]} tile position: ${c[1]}`;return h}}]),r})(MS);const bBe=Pr("#FFFFFF");let t3=(function(e){f(r,e);var t=g(r);function r(...i){var n;return H(this,r),n=t.call(this,...i),n.zeroLine=new er.PIXI.Graphics,n.pMain.addChild(n.zeroLine),n.valueScaleTransform=_o,n.options&&n.options.colorRange&&(n.options.colorRangeGradient?n.setColorGradient(n.options.colorRange):n.setColorScale(n.options.colorRange)),n.initialized=!0,n}return j(r,[{key:"setColorScale",value:function(n){n&&(this.colorScale=tp(n),this.colorScale=this.colorScale.map(s=>s.map(c=>c/255)))}},{key:"setColorGradient",value:function(n){if(!n)return;const s=n.length-1;this.colorGradientColors=this.options.align==="bottom"?n.slice().reverse().map((c,h)=>({from:h/s,color:c})):n.map((c,h)=>({from:h/s,color:c}))}},{key:"initTile",value:function(n){this.initialized&&a(N(r.prototype),"initTile",this).call(this,n)}},{key:"updateTile",value:function(n){(!n.valueScale||!this.scale||this.scale.minValue!==n.scale.minValue||this.scale.maxValue!==n.scale.maxValue)&&this.renderTile(n)}},{key:"renderTile",value:function(n){this.initialized&&a(N(r.prototype),"renderTile",this).call(this,n)}},{key:"drawTile",value:function(n){if(!n.graphics||!n.tileData||!n.tileData.dense)return;const{graphics:s}=n;n.svgData=void 0;const{tileX:c,tileWidth:h}=this.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),p=n.tileData.dense;if(p.length===0)return;const[m,d]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0);m.clamp(!0),this.valueScale=m;const E=m.copy();if(E.range([254,0]).clamp(!0),s.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const _=Pr(this.options.lineStrokeColor||"blue"),T=qr().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([c,c+h]);s.lineStyle(0,_,1);const A=this.options.barFillColor||"grey",D=Pr(A),O="barOpacity"in this.options?this.options.barOpacity:1;s.beginFill(D,O),n.drawnAtScale=this._xScale.copy();const B=this.options.align==="top";let P,R,$,W,Z,K;if(this.colorGradientColors){Z=new er.PIXI.Graphics,Z.beginFill(bBe,1);const ae=B7(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);K=new er.PIXI.Sprite(er.PIXI.Texture.fromCanvas(ae,er.PIXI.SCALE_MODES.NEAREST)),K.x=this._xScale(c),K.width=this._xScale(c+h)-K.x}for(let ae=0;ae<p.length;ae++)if(P=this._xScale(T(ae)),$=this.valueScale(p[ae]+d),R=this._xScale(T(ae+1))-P,W=this.dimensions[1]-$,B&&($=0),!(Number.isNaN(W)||W<0||$<0)){if(this.addSVGInfo(n,P,$,R,W,A),T(ae)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){const le=Math.round(E(p[ae]+d)),J=this.colorScale[le],ge=er.PIXI.utils.rgb2hex(J);s.beginFill(ge,O)}(Z||s).drawRect(P,$,R,W)}this.colorGradientColors&&(K.mask=Z,s.removeChildren(),s.addChild(K,Z))}},{key:"rerender",value:function(n,s){n&&n.colorRange&&(n.colorRangeGradient?this.setColorGradient(n.colorRange):this.setColorScale(n.colorRange)),a(N(r.prototype),"rerender",this).call(this,n,s)}},{key:"drawZeroLine",value:function(){this.zeroLine.clear();const n=Pr(this.options.barFillColor||"grey"),s=+this.options.barOpacity||1,c=this.options.zeroLineColor?Pr(this.options.zeroLineColor):n,h=Number.isNaN(+this.options.zeroLineOpacity)?s:+this.options.zeroLineOpacity;this.zeroLine.beginFill(c,h),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}},{key:"drawZeroLineSvg",value:function(n){const s=document.createElement("rect");s.setAttribute("id","zero-line"),s.setAttribute("x",0),s.setAttribute("y",this.dimensions[1]-1),s.setAttribute("height",1),s.setAttribute("width",this.dimensions[0]),s.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),s.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),n.appendChild(s)}},{key:"getXScaleAndOffset",value:function(n){const s=n.domain(),c=this._xScale.domain(),h=(s[1]-s[0])/(c[1]-c[0]),m=this._xScale.domain().map(n)[0];return[h,-m*h]}},{key:"draw",value:function(){this.initialized&&(a(N(r.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),Object.values(this.fetchedTiles).forEach(n=>{const[s,c]=this.getXScaleAndOffset(n.drawnAtScale);n.graphics.scale.x=s,n.graphics.position.x=c}))}},{key:"zoomed",value:function(n,s){a(N(r.prototype),"zoomed",this).call(this,n,s)}},{key:"movedY",value:function(n){}},{key:"zoomedY",value:function(n,s){}},{key:"addSVGInfo",value:function(n,s,c,h,p,m){n.svgData?(n.svgData.barXValues.push(s),n.svgData.barYValues.push(c),n.svgData.barWidths.push(h),n.svgData.barHeights.push(p),n.svgData.barColors.push(m)):n.svgData={barXValues:[s],barYValues:[c],barWidths:[h],barHeights:[p],barColors:[m]}}},{key:"exportSVG",value:function(){let n=null,s=null;[s,n]=a(N(r.prototype),"superSVG",this).call(this),s.setAttribute("class","exported-line-track");const c=document.createElement("g");n.appendChild(c),c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.options.zeroLine&&this.drawZeroLineSvg(c),this.visibleAndFetchedTiles().filter(p=>p.svgData&&p.svgData.barXValues).forEach(p=>{const m=p.svgData;for(let d=0;d<m.barXValues.length;d++){const E=document.createElement("rect");E.setAttribute("fill",m.barColors[d]),E.setAttribute("stroke",m.barColors[d]),E.setAttribute("x",m.barXValues[d]),E.setAttribute("y",m.barYValues[d]),E.setAttribute("height",m.barHeights[d]),E.setAttribute("width",m.barWidths[d]),p.barBorders&&(E.setAttribute("stroke-width","0.1"),E.setAttribute("stroke","black")),c.appendChild(E)}});const h=document.createElement("g");if(h.setAttribute("id","axis"),s.appendChild(h),h.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const p=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);h.appendChild(p)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const p=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);h.appendChild(p)}return[s,n]}}]),r})(q1),rJ=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"drawTile",value:function(n){this.renderTile(n)}},{key:"renderTile",value:function(n){if(!n.graphics)return;const s=n.graphics,{tileX:c,tileWidth:h}=this.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),p=n.tileData.dense;if(p.length===0)return;let m=0;if(this.valueScale=null,this.options.valueScaling==="log"){let P=this.medianVisibleValue;this.medianVisibleValue||(P=this.minValue()),this.valueScale=Qc().domain([P,this.maxValue()+P]).range([this.dimensions[1],0]),m=P}else this.valueScale=qr().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(s.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const d=Pr(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),E=qr().domain([0,this.tilesetInfo.tile_size]).range([c,c+h]);s.lineStyle(0,d,1);const T=this.options.barFillColorTop?this.options.barFillColorTop:"green",C=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",A=Pr(T),D=Pr(C),O="barOpacity"in this.options?this.options.barOpacity:1;n.drawnAtScale=this._xScale.copy();let B=0;this.options.valueScaling==="log"?B=this.valueScale(1):B=this.valueScale(0),delete n.svgData;for(let P=0;P<p.length;P++){const R=this._xScale(E(P)),$=this.valueScale(p[P]+m),W=this._xScale(E(P+1))-R;if($>B?(s.beginFill(D,O),this.addSVGInfo(n,R,B,W,$-B,C)):(s.beginFill(A,O),this.addSVGInfo(n,R,$,W,B-$,T)),E(P)>this.tilesetInfo.max_pos[0])break;s.drawRect(R,n.svgData.barYValues[P],W,n.svgData.barHeights[P])}}}]),r})(t3),nJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.setColorScale(n.colorRange),s.opacity=n.opacity||1,s}return j(r,[{key:"setColorScale",value:function(n){this.colorScale=n?tp(n):Oy,this.colorScale=this.colorScale.map(s=>s.map(c=>c/255))}},{key:"rerender",value:function(n){n&&n.colorRange&&this.setColorScale(n.colorRange),this.opacity=n.opacity||1,a(N(r.prototype),"rerender",this).call(this,n)}},{key:"drawAxis",value:function(){}},{key:"drawTile",value:function(n){if(!n.graphics||!n.tileData||!n.tileData.dense)return;const s=n.graphics,{tileX:c,tileWidth:h}=this.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos),p=n.tileData.dense;if(p.length===0)return;const[m,d]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue());if(m.range([254,0]).clamp(!0),this.valueScale=m,s.clear(),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const E=qr().domain([0,this.tilesetInfo.tile_size]).range([c,c+h]);s.lineStyle(0,0,0);for(let _=0;_<p.length;_++){if(Number.isNaN(p[_]))continue;const T=Math.round(this.valueScale(p[_]+d));if(Number.isNaN(+T))continue;const C=this._xScale(E(_)),A=this._xScale(E(_+1))-C,D=this.dimensions[1];n.xValues[_]=C,n.yValues[_]=T;const O=this.colorScale[T],B=er.PIXI.utils.rgb2hex(O);if(s.beginFill(B,this.opacity),_!==0){if(E(_)>this.tilesetInfo.max_pos[0])break;p[_]!==0&&s.drawRect(C,0,A,D)}}}}]),r})(q1),iJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.seen=new Set,s.pMain=s.pMobile,s.rows=[],s}return j(r,[{key:"uid",value:function(n){return n[n.length-2]}},{key:"segmentOverlap",value:function(n,s){}},{key:"drawAll",value:function(n){this.pMain.clear();const s=new Set,c=n.map(p=>s.has(this.uid(p))?null:(s.add(this.uid(p)),{from:+p[1],to:+p[2],type:p[4],uid:this.uid(p)})).filter(p=>p),h=nI(c);this.rows=h,this.draw()}},{key:"draw",value:function(){const n=this.rows;if(!n)return;const s=tu().range([0,this.dimensions[1]]).padding(.1).domain(xa(0,this.maxRows())),c=this.pMain;c.clear(),c.lineStyle(1,255,0),c.beginFill(16740363,.8);for(let h=0;h<n.length;h++)for(let p=0;p<n[h].length;p++){const m=n[h][p],d=this._refXScale(m.from),E=this._refXScale(m.to),_=s(h),T=_+s.bandwidth(),C=E-d,A=T-_;c.drawRect(d,_,C,A)}}},{key:"allTilesLoaded",value:function(){const s=this.visibleAndFetchedIds().map(h=>this.fetchedTiles[h].tileData.discrete),c=[].concat(...s);this.drawAll(c)}},{key:"initTile",value:function(n){}},{key:"maxRows",value:function(){return this.rows.length}},{key:"updateTile",value:function(n){}},{key:"destroyTile",value:function(n){n.tileData.discrete.forEach(s=>{const c=s[s.length-2];this.seen.has(c)&&this.seen.delete(c)})}},{key:"drawTile",value:function(n){}}]),r})(U1),aJ=(function(){function e(t){H(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new er.PIXI.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new er.PIXI.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.isLeftModified=!0,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                             rotate(90)
                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.gMain.attr("transform",`translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`))}return j(e,[{key:"remove",value:function(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"setDimensions",value:function(r){this.dimensions=r;const i=[r[1],r[0]];this.originalTrack.setDimensions(i)}},{key:"setPosition",value:function(r){this.position=r,this.originalTrack.setPosition(r),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                                 rotate(90)
                                 scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.gMain.attr("transform",`translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`))}},{key:"refXScale",value:function(r){return arguments.length?(this.originalTrack._refXScale=r,this):this.originalTrack._refYScale}},{key:"refYScale",value:function(r){return arguments.length?(this.originalTrack._refYScale=r,this):this.originalTrack._refXScale}},{key:"xScale",value:function(r){return arguments.length?(this.originalTrack._yScale=r,this):this.originalTrack._xScale}},{key:"yScale",value:function(r){return arguments.length?(this.originalTrack._xScale=r,this):this.originalTrack._yScale}},{key:"getMouseOverHtml",value:function(r,i){return this.originalTrack.getMouseOverHtml(i,r)}},{key:"clickOutside",value:function(){this.originalTrack.clickOutside()}},{key:"click",value:function(...r){this.originalTrack.click(...r)}},{key:"draw",value:function(){this.originalTrack.draw()}},{key:"zoomed",value:function(r,i,n=1,s=0,c=0,h=0,p=0){if(this.xScale(r),this.yScale(i),this.originalTrack.leftTrackZoomed){this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(r,i,n,s,c),this.originalTrack.draw();return}const m=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=m+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw){this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackDraw();return}this.originalTrack.zoomed(this.xScale(),this.yScale())}},{key:"zoomedY",value:function(r,i){this.originalTrack.zoomedY(r,i)}},{key:"movedY",value:function(r){this.originalTrack.movedY(r)}},{key:"refScalesChanged",value:function(r,i){this.originalTrack.refScalesChanged(i,r)}},{key:"rerender",value:function(r){this.originalTrack.rerender(r)}},{key:"exportSVG",value:function(){const r=document.createElement("g");if(r.setAttribute("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                             rotate(90)
                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.exportSVG){const i=document.createElement("g");i.setAttribute("transform",`translate(${this.originalTrack.pBase.position.x}, ${this.originalTrack.pBase.position.y})`),i.appendChild(this.originalTrack.exportSVG()[0]),r.appendChild(i)}return[r,r]}},{key:"respondsToPosition",value:function(r,i){return r>=this.position[0]&&r<=this.dimensions[0]+this.position[0]&&i>=this.position[1]&&i<=this.dimensions[1]+this.position[1]}}]),e})();const oJ=11,r3="Arial",sJ="outside",n3=10,SBe=4,CBe=20,ABe=Pr("#ffffff"),gO=2,K1=2*(2*n3/3)/3,wBe=50,xBe=5e3,i3="blue",a3="red",o3=(e,t,r)=>{r.type!=="filler"&&t.pubSub.publish("app.click",{type:"gene-annotation",event:e,payload:r})},lJ=(e,t)=>{const r=e.concat(t),i=r.map(n=>[n.xStart,1,n.xEnd,1]);GS(i,(n,s)=>{let c=null,h=null;if(r[n].type==="filler"?c=r[n]:h=r[n],r[s].type==="filler"){if(c)return;c=r[s]}else{if(!c)return;h=r[s]}c.xStart>=h.xStart&&c.xEnd<=h.xEnd&&(c.hide=!0)})};function IBe(e,t,r){const{flipText:i,fontSize:n,fontFamily:s,plusStrandColor:c,minusStrandColor:h,maxGeneEntries:p,maxFillerEntries:m,maxTexts:d}=r;if(t.texts={},t.rectGraphics=new er.PIXI.Graphics,t.textBgGraphics=new er.PIXI.Graphics,t.textGraphics=new er.PIXI.Graphics,t.rectMaskGraphics=new er.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textBgGraphics),t.graphics.addChild(t.textGraphics),t.graphics.addChild(t.rectMaskGraphics),t.rectGraphics.mask=t.rectMaskGraphics,!t.tileData.sort)return;t.tileData.sort((T,C)=>C.importance-T.importance);const E=t.tileData.filter(T=>T.type!=="filler").slice(0,p),_=t.tileData.filter(T=>T.type==="filler").slice(0,m);t.tileData=E.concat(_),t.tileData.forEach((T,C)=>{if(T.type==="filler")return;const A=T.fields,D=A[3],O=e.geneId(A,T.type),B=T.strand||A[5];T.strand=T.strand||B;let P=c||i3;if(B==="-"&&(P=h||a3),t.textWidths={},t.textHeights={},C>=d)return;const R=new er.PIXI.Text(D,{fontSize:`${n}px`,fontFamily:s,fill:Pr(P)});R.interactive=!0,i&&(R.scale.x=-1),R.anchor.x=.5,R.anchor.y=1,t.texts[O]=R,t.texts[O].strand=B,t.textGraphics.addChild(R)}),t.initialized=!0}function uJ(e,t,r,i,n,s,c,h,p){const m=h-p/2,d=0;e.forEach(E=>{const _=new er.PIXI.Graphics;r.rectGraphics.addChild(_),_.beginFill(s,.1),_.lineStyle(0,s);const T=[n(E.xStart)-d,m,n(E.xEnd)+d,m,n(E.xEnd)+d,m+p,n(E.xStart)-d,m+p,n(E.xStart)-d,m];_.interactive=!0,_.buttonMode=!0,_.mouseup=C=>o3(C,t,E),_.drawPolygon(T),r.allRects.push([T,E.strand,E])})}function DBe(e,t,r,i,n,s,c,h,p,m){const d=h-p/2,E=n.split(",").map(R=>+R+c),_=s.split(",").map(R=>+R+c),T=e._xScale(r),C=e._xScale(i),A=C-T,D=h,O=[];let B=[T,D-gO/2,T+A,D-gO/2,T+A,D+gO/2,T,D+gO/2];t.drawPolygon(B),O.push(B);const P=2*p;for(let R=Math.max(e.position[0],T)+P;R<Math.min(e.position[0]+e.dimensions[0],T+A);R+=P)m==="+"?B=[R,D-K1/2,R+K1/2,D,R,D+K1/2]:B=[R,D-K1/2,R-K1/2,D,R,D+K1/2],O.push(B),t.drawPolygon(B);for(let R=0;R<E.length;R++){const $=E[R],W=_[R],Z=e._xScale($),K=Math.max(1,e._xScale(W)-e._xScale($));let ae=T,le=C;const J=e.geneRectHeight/2;let ge=null;m==="+"?(le=C-J,ge=[Math.min(Z,le),d,Math.min(Z+K,le),d,Math.min(Z+K,le),d+p,Math.min(Z,le),d+p,Math.min(Z,le),d]):(ae=T+J,ge=[Math.max(Z,ae),d,Math.max(Z+K,ae),d,Math.max(Z+K,ae),d+p,Math.max(Z,ae),d+p,Math.max(Z,ae),d]),O.push(ge),t.drawPolygon(ge)}return O}function OBe(e,t,r,i,n,s,c,h,p){const m=h-p/2;e.forEach(d=>{const E=t._xScale(d.xStart),_=t._xScale(d.xEnd),T=new er.PIXI.Graphics;r.rectGraphics.addChild(T),T.beginFill(s,c),T.interactive=!0,T.buttonMode=!0,T.mouseup=D=>o3(D,t,d);const C=t.geneRectHeight/2;let A=[];if(d.strand==="+"||d.fields[5]==="+"){const D=Math.max(E,_-C),O=D+C;A=[D,m,O,m+t.geneRectHeight/2,D,m+t.geneRectHeight]}else{const D=Math.min(_,E+C),O=D-C;A=[D,m,O,m+t.geneRectHeight/2,D,m+t.geneRectHeight]}T.drawPolygon(A),r.allRects.push([A,d.strand,d])})}function kBe(e,t,r,i,n,s,c,h,p){e.forEach(m=>{const d=m.fields,E=+m.chrOffset,_=d[12],T=d[13],C=new er.PIXI.Graphics;r.rectGraphics.addChild(C),C.beginFill(s,c),C.interactive=!0,C.buttonMode=!0,C.mouseup=A=>o3(A,t,m),r.allRects=r.allRects.concat(DBe(t,C,m.xStart,m.xEnd,_,T,E,h,p,m.strand||m.fields[5]).map(A=>[A,m.strand,m]))})}function cJ(e,t,r,i,n,s,c,h,p){OBe(e,t,r,i,n,s,c,h,p),kBe(e,t,r,i,n,s,c,h,p)}function PBe(e,t){const{tileX:r,tileWidth:i}=Lg.getTilePosAndDimensions(e.tilesetInfo,t.tileId);t.rectMaskGraphics.clear();const n=Math.floor(Math.random()*16**6);t.rectMaskGraphics.beginFill(n,.3);const s=e._xScale(r),c=0,h=e._xScale(r+i)-e._xScale(r),p=e.dimensions[1];t.rectMaskGraphics.drawRect(s,c,h,p)}let s3=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{animate:c}=i;return s.animate=c,s.options=n,s.fontSize=+s.options.fontSize||oJ,s.geneLabelPos=s.options.geneLabelPosition||sJ,s.geneRectHeight=+s.options.geneAnnotationHeight||n3,s.geneRectHeight-=2,s.geneStrandSpacing=+s.options.geneStrandSpacing||SBe,s.geneStrandHSpacing=s.geneStrandSpacing/2,s.geneRectHHeight=s.geneRectHeight/2,s}return j(r,[{key:"initTile",value:function(n){IBe(this,n,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:r3,plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:wBe,maxFillerEntries:xBe,maxTexts:CBe}),this.renderTile(n)}},{key:"destroyTile",value:function(n){n.rectGraphics.destroy(),n.rectMaskGraphics.destroy(),n.textGraphics.destroy(),n.textBgGraphics.destroy(),n.graphics.destroy()}},{key:"rerender",value:function(n,s){const c=JSON.stringify(n);!s&&c===this.prevOptions||(a(N(r.prototype),"rerender",this).call(this,n,s),this.fontSize=+this.options.fontSize||oJ,this.geneLabelPos=this.options.geneLabelPosition||sJ,this.geneRectHeight=+this.options.geneAnnotationHeight||n3,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=c,this.visibleAndFetchedTiles().forEach(h=>{this.renderTile(h)}))}},{key:"drawTile",value:function(){}},{key:"geneId",value:function(n,s){return`${s}_${n[0]}_${n[1]}_${n[2]}_${n[3]}`}},{key:"renderTile",value:function(n){if(!n.initialized)return;n.allRects=[],n.drawnAtScale=this._xScale.copy(),n.rectGraphics.removeChildren(),n.rectGraphics.clear(),n.textBgGraphics.clear();const s={},c=.3,h=.3;s["+"]=Pr(this.options.plusStrandColor||i3),s["-"]=Pr(this.options.minusStrandColor||a3);let p=n.tileData.filter(O=>O.type==="filler"&&O.strand==="+"),m=n.tileData.filter(O=>O.type==="filler"&&O.strand==="-");const d=n.tileData.filter(O=>O.type!=="filler"&&(O.strand==="+"||O.fields[5]==="+")),E=n.tileData.filter(O=>O.type!=="filler"&&(O.strand==="-"||O.fields[5]==="-"));lJ(d,p),lJ(E,m),p=p.filter(O=>!O.hide),m=m.filter(O=>!O.hide);const _=this.dimensions[1]/2,T=_-this.geneRectHeight/2-this.geneStrandSpacing/2,C=_+this.geneRectHeight/2+this.geneStrandSpacing/2,A=[this,n,n.rectGraphics,this._xScale,s["+"],c,T,this.geneRectHeight],D=[this,n,n.rectGraphics,this._xScale,s["-"],c,C,this.geneRectHeight];uJ(p,...A),uJ(m,...D),A[5]=h,D[5]=h,cJ(d,...A),cJ(E,...D),PBe(this,n),Lg.stretchRects(this,[O=>O.rectGraphics,O=>O.rectMaskGraphics]);for(const O of Object.values(n.texts))O.style={fontSize:`${this.fontSize}px`,FONT_FAMILY:r3,fill:Pr(O.strand==="-"?this.options.minusStrandColor||a3:this.options.plusStrandColor||i3)}}},{key:"calculateZoomLevel",value:function(){const n=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);let s=Math.min(n,this.maxZoom);return s=Math.max(s,0),s}},{key:"draw",value:function(){a(N(r.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];const n=[];this.geneAreaHeight=this.geneRectHeight;const s=this.fontSize/2;Lg.stretchRects(this,[c=>c.rectGraphics,c=>c.rectMaskGraphics]),Object.values(this.fetchedTiles).filter(c=>c.drawnAtScale).forEach(c=>{c.textBgGraphics.clear(),c.textBgGraphics.beginFill(typeof this.options.labelBackgroundColor<"u"?Pr(this.options.labelBackgroundColor):ABe);const h=this.parentInFetched(c);c.initialized&&c.tileData.forEach(p=>{if(!c.texts||p.type==="filler")return;const m=p.fields,d=m[3],E=this.geneId(m,p.type),_=c.texts[E];if(!_)return;const T=+p.chrOffset,C=+m[1]+T,A=+m[2]+T,D=(C+A)/2;let O=this.dimensions[1]/2;const B=(this.geneAreaHeight-this.fontSize)/2;if(m[5]==="+"?O-=this.geneLabelPos==="inside"?B+this.geneStrandSpacing-2:this.fontSize/2+this.geneAreaHeight-2:O+=this.geneLabelPos==="inside"?this.fontSize+this.geneStrandSpacing/2+B+1:1.5*this.fontSize+this.geneAreaHeight+2,_.position.x=this._xScale(D),_.position.y=O,!c.textWidths[E]){const P=_.getBounds().width,R=_.getBounds().height;c.textHeights[E]=R,c.textWidths[E]=P}if(h)_.visible=!1;else{_.visible=!0;const P=2;this.flipText?this.allBoxes.push([_.position.x-c.textHeights[E]/2-P,O-s-1,_.position.x+c.textHeights[E]/2+P,O+s-1,d]):this.allBoxes.push([_.position.x-c.textWidths[E]/2-P,O-s-1,_.position.x+c.textWidths[E]/2+P,O+s-1,d]),this.allTexts.push({importance:+m[4],text:_,caption:d,strand:m[5]}),n.push(c.textBgGraphics)}})}),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,n)}},{key:"renderTextBg",value:function(n,s,c){s.forEach((h,p)=>{if(h.text.visible&&n[p]&&c[p]){const[m,d,E,_]=n[p],T=E-m,C=_-d;c[p].drawRect(m-T/2,d-C/2,T,C)}})}},{key:"hideOverlaps",value:function(n,s){GS(n,(c,h)=>{s[c].importance>s[h].importance?s[h].text.visible=!1:s[c].text.visible=!1})}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach(s=>{this.renderTile(s)})}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.refreshTiles(),this.draw()}},{key:"getMouseOverHtml",value:function(n,s){if(!this.tilesetInfo)return"";const c=[n,s];for(const h of this.visibleAndFetchedTiles())for(let p=0;p<h.allRects.length;p++){if(h.allRects[p][2].type==="filler")continue;const m=h.allRects[p][0].slice(0),d=[];for(;m.length;){const _=m.splice(0,2);_[0]=_[0]*h.rectGraphics.scale.x+h.rectGraphics.position.x,_[1]=_[1]*h.rectGraphics.scale.y+h.rectGraphics.position.y,d.push(_)}if(YQ(d,c)===-1){const _=h.allRects[p][2];return`
            <div>
              <b>${_.fields[3]}</b><br>
              <b>Position:</b> ${_.fields[0]}:${_.fields[1]}-${_.fields[2]}<br>
              <b>Strand:</b> ${_.fields[5]}
            </div>
          `}}return""}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");return c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),n.appendChild(c),this.visibleAndFetchedTiles().filter(h=>h.allRects).forEach(h=>{const p=document.createElement("g");p.setAttribute("transform",`translate(${h.rectGraphics.position.x},
          ${h.rectGraphics.position.y})
          scale(${h.rectGraphics.scale.x},
          ${h.rectGraphics.scale.y})`),h.allRects.forEach(m=>{const d=document.createElement("path"),E=m[0];let _=`M ${E[0]} ${E[1]}`;for(let T=2;T<E.length;T+=2)_+=` L ${E[T]} ${E[T+1]}`;d.setAttribute("d",_),m[1]==="+"?d.setAttribute("fill",this.options.plusStrandColor):d.setAttribute("fill",this.options.minusStrandColor),d.setAttribute("opacity","0.3"),p.appendChild(d)}),c.appendChild(p)}),this.allTexts.filter(h=>h.text.visible).forEach(h=>{const p=document.createElement("g"),m=document.createElement("text");m.setAttribute("text-anchor","middle"),m.setAttribute("font-family",r3),m.setAttribute("font-size",`${this.fontSize}px`),m.setAttribute("dy","-.2em"),p.setAttribute("transform",`scale(${h.text.scale.x},1)`),h.strand==="+"?m.setAttribute("fill",this.options.plusStrandColor):m.setAttribute("fill",this.options.minusStrandColor),m.innerHTML=h.text.text,p.appendChild(m),p.setAttribute("transform",`translate(${h.text.x},${h.text.y})scale(${h.text.scale.x},1)`),c.appendChild(p)}),[s,s]}}]),r})(U1);function hJ(e,t,r,i,n,s,c,h,p,m){const d=m?e._xScale(r.yStart):e._xScale(r.xStart),E=m?e._xScale(r.yEnd):e._xScale(r.xEnd),_=m?e._yScale(r.xStart):e._yScale(r.yStart),T=m?e._yScale(r.xEnd):e._yScale(r.yEnd),C=r.uid+m,A=E-d,D=T-_;let O={x:d,y:_,width:A,height:D};i&&(A<i||D<i)&&(O={x:d-i/2,y:_-i/2,width:i,height:i}),e.drawnRects[C]=O;const B=O.x+O.width,P=O.y+O.height;(O.x>n&&O.x<s||B>n&&B<s||O.y>c&&O.y<h||P>c&&P<h)&&(O.width>p||O.height>p)&&(t.drawRect(O.x,O.y,O.width,O.height),e.publish("annotationDrawn",{trackUuid:e.uuid,annotationUuid:C,viewPos:[O.x,O.y,O.width,O.height],dataPos:[r.xStart,r.xEnd,r.yStart,r.yEnd],importance:r.importance,info:{patternType:e.options.patternType}}))}let fJ=(function(e){f(r,e);var t=g(r);function r(...i){var n;H(this,r),n=t.call(this,...i),n.drawnRects={};const{publish:s,subscribe:c,unsubscribe:h}=bx();return n.publish=s,n.subscribe=c,n.unsubscribe=h,n}return j(r,[{key:"tileToLocalId",value:function(n){return`${n.join(".")}`}},{key:"tileToRemoteId",value:function(n){return`${n.join(".")}`}},{key:"localToRemoteId",value:function(n){const s=n.split(".");return s.slice(0,s.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const n=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),s=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let c=Math.max(n,s);return c=Math.min(c,this.maxZoom),c}},{key:"setVisibleTiles",value:function(n){this.visibleTiles=n.map(s=>({tileId:this.tileToLocalId(s),remoteId:this.tileToRemoteId(s)})),this.visibleTileIds=new Set(this.visibleTiles.map(s=>s.remoteId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=yr.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=yr.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const n=this.xTiles,s=this.yTiles,c=this.zoomLevel,h=[];for(let p=0;p<n.length;p++)for(let m=0;m<s.length;m++){const d=[c,n[p],s[m]];h.push(d)}this.setVisibleTiles(h)}},{key:"initTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"draw",value:function(){this.drawnRects={},a(N(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(n){const s=n.graphics;if(!s)return;s.clear();const c=Pr(this.options.rectangleDomainStrokeColor||"black"),h=Pr(this.options.rectangleDomainFillColor||"grey");s.lineStyle(typeof this.options.rectangleDomainStrokeWidth<"u"?this.options.rectangleDomainStrokeWidth:1,c,typeof this.options.rectangleDomainStrokeOpacity<"u"?this.options.rectangleDomainStrokeOpacity:1),s.beginFill(h,typeof this.options.rectangleDomainFillOpacity<"u"?this.options.rectangleDomainFillOpacity:.4),s.alpha=this.options.rectangleDomainOpacity||.5;const p=this.options.minSquareSize&&this.options.minSquareSize!=="none"?+this.options.minSquareSize:0,m=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,d=this._xScale.range()[0],E=this._xScale.range()[1],_=this._yScale.range()[0],T=this._yScale.range()[1];n.tileData.length&&n.tileData.filter(C=>!(C.uid in this.drawnRects)).forEach(C=>{hJ(this,s,C,p,d,E,_,T,m,this.options.flipDiagonal==="yes"),this.options.flipDiagonal&&this.options.flipDiagonal==="copy"&&hJ(this,s,C,p,d,E,_,T,m,!0)})}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),n.appendChild(c);for(const h of[!0,!1])for(const p of this.visibleAndFetchedTiles())!p.tileData||!p.tileData.length||p.tileData.forEach(m=>{const d=m.uid+h,E=document.createElement("g");if(E.setAttribute("transform",`translate(${p.graphics.position.x},${p.graphics.position.y})scale(${p.graphics.scale.x},${p.graphics.scale.y})`),c.appendChild(E),d in this.drawnRects){const _=this.drawnRects[d],T=document.createElement("rect");T.setAttribute("x",_.x),T.setAttribute("y",_.y),T.setAttribute("width",_.width),T.setAttribute("height",_.height),T.setAttribute("fill",this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey"),T.setAttribute("opacity",.3),T.style.stroke="black",T.style.strokeWidth="1px",E.appendChild(T)}});return[s,s]}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(n,s){this.xScale().domain()[0]===n.domain()[0]&&this.xScale().domain()[1]===n.domain()[1]&&this.yScale().domain()[0]===s.domain()[0]&&this.yScale().domain()[1]===s.domain()[1]||(this.xScale(n),this.yScale(s),this.refreshTiles(),this.draw())}},{key:"leftTrackDraw",value:function(){this.draw()}}]),r})(Sp);const RBe=250;let dJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{pubSub:c}=i;s.drawnAnnotations={},s.drawnAnnoGfx={},s.selectedAnno=null,s.options.minSquareSize=+s.options.minSquareSize;const{publish:h,subscribe:p,unsubscribe:m}=bx();return s.publish=h,s.subscribe=p,s.unsubscribe=m,s.sT=0,s.annoSelectedBound=s.annoSelected.bind(S(s)),s.pubSubs.push(c.subscribe("annoSelected",s.annoSelectedBound)),s}return j(r,[{key:"minX",get:function(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}},{key:"maxX",get:function(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}},{key:"minY",get:function(){return this.minX}},{key:"maxY",get:function(){return this.maxX}},{key:"maxSize",get:function(){const i=this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1]);return i||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}},{key:"projection",value:function([n,s]){return[this._xScale(n),this._yScale(s)]}},{key:"tileToLocalId",value:function(n){return`${n.join(".")}`}},{key:"tileToRemoteId",value:function(n){return`${n.join(".")}`}},{key:"localToRemoteId",value:function(n){const s=n.split(".");return s.slice(0,s.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const n=yr.calculateZoomLevel(this._xScale,this.minX,this.maxX),s=yr.calculateZoomLevel(this._yScale,this.minY,this.maxY);return z7(tL(n,s),this.maxZoom)}},{key:"setVisibleTiles",value:function(n){this.visibleTiles=n.map(s=>({tileId:this.tileToLocalId(s),remoteId:this.tileToRemoteId(s)})),this.visibleTileIds=new Set(this.visibleTiles.map(s=>s.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=yr.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=yr.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);const n=this.zoomLevel,s=[];for(let c=0;c<this.xTiles.length;c++)for(let h=0;h<this.yTiles.length;h++)s.push([n,this.xTiles[c],this.yTiles[h]]);this.setVisibleTiles(s)}},{key:"draw",value:function(){this.drawnAnnotations={},a(N(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(n,s=!1,c=!1){if(!n.graphics)return;n.graphics.__tile__=n;const h=n.graphics;h.clear(),this.setBorderStyle(h),this.setFill(h),h.alpha=+this.options.rectangleDomainOpacity,n.tileData.length&&n.tileData.filter(p=>!(p.uid in this.drawnAnnotations)||s).forEach(p=>{const[m,d]=this.projection([p.xStart,p.yStart]),[E,_]=this.projection([p.xEnd,p.yEnd]);this.options.exclude&&this.options.exclude.indexOf(p.uid)>=0||this.drawAnnotation(this.prepAnnotation(h,p.uid,m,d,E-m,_-d,p),c)})}},{key:"prepAnnotation",value:function(n,s,c,h,p,m,d){let E;try{E=JSON.parse(d.fields)}catch{}return{graphics:n,id:d.id,uid:s,annotation:{x:c,y:h,width:p,height:m},dataPos:[d.xStart,d.xEnd,d.yStart,d.yEnd],importance:d.importance,info:E}}},{key:"drawAnnotation",value:function({graphics:n,id:s,uid:c,annotation:h,dataPos:p,importance:m,info:d},E){this.options.minSquareSize&&(h.width<this.options.minSquareSize||h.height<this.options.minSquareSize)&&(h.x=(h.x+h.width)/2,h.y=(h.y+h.height)/2,h.width=this.options.minSquareSize,h.height=this.options.minSquareSize),this.drawnAnnotations[c]=h;const _=[h.x,h.y,h.width,h.height];let T=this.drawnAnnoGfx[c];T||(T=new er.PIXI.Graphics,this.drawnAnnoGfx[c]=T),n.children.indexOf(T)===-1&&n.addChild(T),this._drawRect(T,_,c),n.interactive=!0,T.interactive=!0,T.buttonMode=!0;const C={id:s,uid:c,dataPos:p,importance:m,info:d,viewPos:[h.x,h.y,h.x+h.width,h.y+h.height]};T.mouseover=()=>this.hover(T,_,c),T.mouseout=()=>this.blur(T,_,c),T.mousedown=()=>this.mouseDown(),T.mouseup=A=>this.mouseUp(T,_,c,A,C),E||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:c,annotationId:s,viewPos:_,dataPos:p,importance:m,info:d})}},{key:"_drawRect",value:function(n,s,c){let h=this.options.rectangleDomainStrokeColor,p=this.options.rectangleDomainStrokeWidth,m=this.options.rectangleDomainStrokeOpacity,d=this.options.rectangleDomainFillColor,E=this.options.rectangleDomainFillOpacity;this.hoveredAnno===c&&(h=this.options.hoverColor,p=this.options.rectangleDomainStrokeWidth+1||2,m=1,d=this.options.hoverColor,E=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===c&&(h=this.options.selectColor,p=this.options.rectangleDomainStrokeWidth+1||2,m=1,d=this.options.selectColor,E=tL(.33,this.options.rectangleDomainFillOpacity)),n.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(n,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(n,d,0),n.drawRect(...s)),this.setBorderStyle(n,h,p,m),this.setFill(n,d,E),n.drawRect(...s),n.__viewPos__=s}},{key:"context",value:function(n,s,c){return h=>h(n,s,c)}},{key:"click",value:function(n,s,c,h,p){this.select(n,s,c),this.pubSub.publish("app.click",{type:"annotation",event:h,payload:p})}},{key:"mouseDown",value:function(){this.sT=performance.now()}},{key:"mouseUp",value:function(n,s,c,h,p){performance.now()-this.sT<=RBe&&this.click(n,s,c,h,p)}},{key:"hover",value:function(n,s,c){this.hoveredAnno=c,this._drawRect(n,s,c),this.animate()}},{key:"focus",value:function(n,s,c){this._drawRect(n,s,c),this.animate()}},{key:"blur",value:function(n,s,c){this.hoveredAnno=null,this._drawRect(n,s,c),this.animate()}},{key:"select",value:function(n,s,c,h=!1){let p=null,m=null;this.selectedAnno&&(p=this.selectedAnno.graphics,m=this.selectedAnno.uid),this.selectedAnno={graphics:n,uid:c},this.focus(n,s,c),this.options.onSelect&&!h&&(window[this.options.onSelect](c),this.pubSub.publish("annoSelected",c)),p&&m&&this.blur(p,p.__viewPos__,m)}},{key:"unselect",value:function(){const n=this.selectedAnno.graphics,s=this.selectedAnno.uid;this.selectedAnno=null,this.blur(n,n.__viewPos__,s)}},{key:"annoSelected",value:function(n){if(!this.selectedAnno||this.selectedAnno.uid!==n){this.selectedAnno&&this.unselect();const s=this.drawnAnnoGfx[n];s&&this.select(s,s.__viewPos__,n,!0)}}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");return c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),n.appendChild(c),this.visibleAndFetchedTiles().filter(h=>h.tileData&&h.tileData.length).map(h=>({graphics:h.graphics,td:h.tileData})).forEach(({td:h,graphics:p})=>{const m=document.createElement("g");if(m.setAttribute("transform",`translate(${p.position.x},${p.position.y})scale(${p.scale.x},${p.scale.y})`),c.appendChild(m),h.uid in this.drawnAnnotations){const d=this.drawnAnnotations[h.uid],E=document.createElement("rect");E.setAttribute("x",d.x),E.setAttribute("y",d.y),E.setAttribute("width",d.width),E.setAttribute("height",d.height),E.setAttribute("fill",this.options.fillColor||"grey"),E.setAttribute("opacity",.3),E.style.stroke=this.options.fillColor||"grey",E.style.strokeWidth="1px",m.appendChild(E)}}),[s,s]}},{key:"setBorderStyle",value:function(n,s=this.options.rectangleDomainStrokeColor,c=this.options.rectangleDomainStrokeWidth,h=this.options.rectangleDomainStrokeOpacity){n.lineStyle(typeof c<"u"?c:1,Pr(s||"black"),typeof h<"u"?h:1)}},{key:"setFill",value:function(n,s=this.options.rectangleDomainFillColor,c=this.options.rectangleDomainFillOpacity){n.beginFill(Pr(s||"grey"),typeof c<"u"?c:.4)}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.refreshTiles(),this.draw()}}]),r})(Sp),l3=(function(e){f(r,e);var t=g(r);function r(i,n,s){var c;return H(this,r),c=t.call(this,i,n),c.pubSub=i.pubSub,c.options=n,c.isVertical=s,c.rects={},c.defaultColor=Bi("red"),c}return j(r,[{key:"draw",value:function(){const n=typeof this.options.minRectWidth<"u"?this.options.minRectWidth:10,s=typeof this.options.fill<"u"?Bi(this.options.fill):this.defaultColor,c=typeof this.options.fillOpacity<"u"?+this.options.fillOpacity:.2,h=typeof this.options.stroke<"u"?Bi(this.options.stroke):this.defaultColor,p=typeof this.options.strokeWidth<"u"?+this.options.strokeWidth:1,m=typeof this.options.strokeOpacity<"u"?+this.options.strokeOpacity:0;let d;this.options.strokePos&&this.options.strokePos.length&&(d=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),a(N(r.prototype),"draw",this).call(this);const E=this.pMain;E.clear();const _=performance.now();this.options.regions.forEach(T=>{const C=`${T[0]}-${T[1]}`;this.rects[C]||(this.rects[C]={graphics:new er.PIXI.Graphics},E.addChild(this.rects[C].graphics)),this.rects[C].timeStamp=_;const A=Bi(T[2])||s;let D=Bi(T[3])||h;D||(D=A);const O=er.PIXI.utils.rgb2hex([A.r/255,A.g/255,A.b/255]),B=er.PIXI.utils.rgb2hex([D.r/255,D.g/255,D.b/255]);d?(E.lineStyle(1,B,0),E.beginFill(B,+T[5]||m)):(E.lineStyle(p,B,+T[5]||m),E.beginFill(O,+T[4]||c));const P=this.isVertical?this._yScale:this._xScale;let R=P(+T[0]);const $=P(+T[1]);let W=$-R;const Z=typeof T[6]<"u"?T[6]:n;W<Z&&(R=(R+$)/2-Z/2,W=Z),d?(E.lineStyle(1,B,0),E.beginFill(B,+T[5]||m),d.forEach(K=>{(K==="top"||K==="around")&&(this.isVertical?E.drawRect(0,R,p,W):E.drawRect(R,0,W,p)),(K==="right"||K==="around")&&(this.isVertical?E.drawRect(0,R,this.dimensions[0],p):E.drawRect(R,0,p,this.dimensions[1])),(K==="bottom"||K==="around")&&(this.isVertical?E.drawRect(this.dimensions[0]-p,R,p,W):E.drawRect(R,this.dimensions[1]-p,W,p)),(K==="left"||K==="around")&&(this.isVertical?E.drawRect(0,R+W-p,this.dimensions[0],p):E.drawRect(R+W-p,0,p,this.dimensions[1]))})):E.lineStyle(p,B,+T[5]||m),this.rects[C].graphics.clear(),this.rects[C].graphics.interactive=!0,this.rects[C].graphics.buttonMode=!0,E.beginFill(O,+T[4]||c),this.isVertical?(E.drawRect(0,R,this.dimensions[0],W),this.rects[C].graphics.hitArea=new er.PIXI.Rectangle(0,R,this.dimensions[0],W)):(E.drawRect(R,0,W,this.dimensions[1]),this.rects[C].graphics.hitArea=new er.PIXI.Rectangle(R,0,W,this.dimensions[1])),this.rects[C].graphics.mousedown=()=>{this.rects[C].mouseDownTime=performance.now()},this.rects[C].graphics.mouseup=K=>{performance.now()-this.rects[C].mouseDownTime<l7&&this.pubSub.publish("app.click",{type:"annotation",event:K,payload:T})}}),Object.values(this.rects).filter(T=>T.timeStamp!==_).forEach(T=>E.removeChild(T.graphics))}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}}]),r})(ks),pJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.drawnRects=new Set,s.pMain=s.pMobile,s}return j(r,[{key:"tileToLocalId",value:function(n){return`${n.join(".")}`}},{key:"tileToRemoteId",value:function(n){return`${n.join(".")}`}},{key:"localToRemoteId",value:function(n){const s=n.split(".");return s.slice(0,s.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const n=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),s=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let c=Math.max(n,s);return c=Math.min(c,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?c=Math.min(this.options.maxZoom,c):console.error("Invalid maxZoom on track:",this)),c}},{key:"setVisibleTiles",value:function(n){this.visibleTiles=n.map(s=>({tileId:this.tileToLocalId(s),remoteId:this.tileToRemoteId(s)})),this.visibleTileIds=new Set(this.visibleTiles.map(s=>s.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel();const n=this._xScale.copy();n.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=yr.calculateTiles(this.zoomLevel,n,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=yr.calculateTiles(this.zoomLevel,n,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const s=this.xTiles,c=this.yTiles,h=this.zoomLevel,m=this.tilesetInfo.max_width/2**h,d=[];for(let E=0;E<s.length;E++)for(let _=E;_<c.length;_++){if((_-E-2)*(this._xScale(m)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])continue;const C=[h,s[E],c[_]];C.mirrored=!1,d.push(C)}this.setVisibleTiles(d)}},{key:"initTile",value:function(n){a(N(r.prototype),"initTile",this).call(this,n),this.drawTile(n)}},{key:"destroyTile",value:function(n,s){}},{key:"draw",value:function(){this.delayDrawing||this.drawnRects.clear(),a(N(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(n){if(!n.graphics)return;const s=n.graphics;s.clear();const c=Pr(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),h=Pr(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(s.lineStyle(1/this.pMain.scale.x,c,1),s.beginFill(h,.4),s.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,!!n.tileData.sort)for(const p of n.tileData){const m=this._refXScale(p.xStart),d=this._refXScale(p.xEnd),E=this._refYScale(p.yStart),_=this._refYScale(p.yEnd),T=p.uid;this.drawnRects.has(T)||(this.drawnRects.add(T),s.drawRect(m,E,d-m,_-E),s.pivot.x=this._refXScale(0),s.pivot.y=this._refYScale(0),s.scale.x=-1/Math.sqrt(2),s.rotation=-3*Math.PI/4,s.scale.y=1/Math.sqrt(2),s.position.x=this._refXScale(0),s.position.y=0)}}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"refScalesChanged",value:function(n,s){a(N(r.prototype),"refScalesChanged",this).call(this,n,s);for(const c in this.fetchedTiles){const h=this.fetchedTiles[c];if(h.sprite){const p=h.graphics;p.pivot.x=this._refXScale(0),p.pivot.y=this._refYScale(0),p.scale.x=-1/Math.sqrt(2),p.rotation=-3*Math.PI/4,p.scale.y=1/Math.sqrt(2),p.position.x=this._refXScale(0),p.position.y=0}}}},{key:"zoomed",value:function(n,s,c,h,p){a(N(r.prototype),"zoomed",this).call(this,n,s,c,h,p),this.pMain.position.x=h,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=c,this.pMain.scale.y=c,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-c,this.pMain.position.y=this.position[1]),this.draw()}},{key:"leftTrackDraw",value:function(){this.draw()}}]),r})(Sp),mJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.drawnRects=new Set,s}return j(r,[{key:"tileToLocalId",value:function(n){return`${n.join(".")}`}},{key:"tileToRemoteId",value:function(n){return`${n.join(".")}`}},{key:"localToRemoteId",value:function(n){const s=n.split(".");return s.slice(0,s.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const n=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),s=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let c=Math.max(n,s);return c=Math.min(c,this.maxZoom),c}},{key:"setVisibleTiles",value:function(n){this.visibleTiles=n.map(s=>({tileId:this.tileToLocalId(s),remoteId:this.tileToRemoteId(s)})),this.visibleTileIds=new Set(this.visibleTiles.map(s=>s.tileId))}},{key:"calculateVisibleTiles",value:function(n=!0){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=yr.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=yr.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const s=this.xTiles,c=this.yTiles,h=this.zoomLevel,p=[];for(let m=0;m<s.length;m++)for(let d=0;d<c.length;d++){const E=[h,s[m],c[d]];p.push(E)}this.setVisibleTiles(p)}},{key:"initTile",value:function(n){}},{key:"destroyTile",value:function(n,s){}},{key:"draw",value:function(){this.drawnRects.clear(),a(N(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(n){if(!n.graphics)return;const s=n.graphics;s.clear();const c=Pr("green");s.lineStyle(1,255,1),s.beginFill(c,.8),s.alpha=.5;for(const h of n.tileData){const p=this._xScale(h.xStart),m=this._xScale(h.xEnd),d=this._yScale(h.yStart),E=this._yScale(h.yEnd),_=h.uid;if(this.drawnRects.has(_))continue;this.drawnRects.add(_);const T=6,C=6;let A=E-d,D=m-p;const O=(p+m)/2,B=(d+E)/2;A<T&&(A=T),D<C&&(D=C),s.drawRect(O-A/2,B-D/2,A,D)}}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.refreshTiles(),this.draw()}}]),r})(Sp);function Nh(e,t,r=oB){const i={};return i.absToChr=n=>i.chrPositions?no(n,i):null,i.chrToAbs=([n,s]=[])=>i.chrPositions?Gx(n,s,i):null,yr.text(e,(n,s)=>{if(n)t&&t(null);else{const c=XM(s),h=eI(c);Object.keys(h).forEach(p=>{i[p]=h[p]}),t&&t(i)}},r).then(()=>i)}let Z1=(function(){function e(t){H(this,e),this.chromInfo=t,this.chromInfoBisector=yd(r=>r.pos).left}return j(e,[{key:"scalesToPositionText",value:function(r,i,n=!1){if(this.chromInfo===null||!r||!i)return"";const s=no(r.domain()[0],this.chromInfo),c=no(r.domain()[1],this.chromInfo),h=no(i.domain()[0],this.chromInfo),p=no(i.domain()[1],this.chromInfo);let m=null;const d=Xi(",d");return s[0]!==c[0]?m=`${s[0]}:${d(Math.floor(s[1]))}-${c[0]}:${d(Math.ceil(c[1]))}`:m=`${s[0]}:${d(Math.floor(s[1]))}-${d(Math.ceil(c[1]))}`,n&&(h[0]!==p[0]?m+=` & ${h[0]}:${d(Math.floor(h[1]))}-${p[0]}:${d(Math.ceil(p[1]))}`:m+=` & ${h[0]}:${d(Math.floor(h[1]))}-${d(Math.ceil(p[1]))}`),(s[2]<=0||c[2]>0||n&&(h[2]<=0||p[2]>0))&&(m+=` [offset ${s[2]},${c[2]}`,n&&(m+=`:${h[2]},${p[2]}`),m+="]"),m}},{key:"convertNumberNotation",value:function(r){let i=r;if(!i.includes("M",i.length-1)&&!i.includes("K",i.length-1))return i;let n=0,s=0;if(i.includes("M",i.length-1)?(n=6,i=i.replace("M","")):(n=3,i=i.replace("K","")),Number.isNaN(+i))return r;i=(+i).toString(),i.includes(".")&&(s=i.length-1-i.indexOf("."),i=(+i.replace(".","")).toString());const c=n-s;return c<0?r:(i+="0".repeat(c),i)}},{key:"parsePosition",value:function(r,i=null){const n=r.split(":");let s=null,c=0;n.length>1?(s=n[0],c=+this.convertNumberNotation(n[1].replace(/,/g,""))):n[0]in this.chromInfo.chrPositions?(s=n[0],c=0,i!==null&&(c=+this.chromInfo.chromLengths[s])):(c=+this.convertNumberNotation(n[0].replace(/,/g,"")),s=null,i&&(s=i));let h=null;return s===null?(s=i,h=c):s in this.chromInfo.chrPositions&&(h=this.chromInfo.chrPositions[s].pos+c),[s,c,h]}},{key:"matchRangesToLarger",value:function(r,i){if(r[1]-r[0]<i[1]-i[0]){const s=i[1]-i[0]-(r[1]-r[0]);return[[r[0]-s/2,r[1]+s/2],i]}const n=r[1]-r[0]-(i[1]-i[0]);return[r,[i[0]-n/2,i[1]+n/2]]}},{key:"getSearchRange",value:function(r){if(r.length===0)return null;let i=r.split("-");i=i.filter(s=>s.length>0);let n=null;if(i[0].indexOf("-")===0&&(i[0]=i[0].slice(3,i[0].length)),i.length>1){let[s,c,h]=this.parsePosition(i[0]),[p,m,d]=this.parsePosition(i[1],s);const E=[h,d];[s,c,h]=this.parsePosition(i[1]),[p,m,d]=this.parsePosition(i[0],s),s===null&&p!==null&&([s,c,h]=this.parsePosition(i[1],p));const _=[h,d];return _[1]-_[0]>E[1]-E[0]?_:E}if(i[0]in this.chromInfo.chrPositions){const s=+this.chromInfo.chrPositions[i[0]].pos;n=[s,s+ +this.chromInfo.chromLengths[i[0]]]}else{const[s,c,h]=this.parsePosition(i[0]);n=[h-8e6,h+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}},{key:"parseOffset",value:function(r){const i=r.split(":");if(i.length===0)return[[0,0],[0,0]];if(i.length===1){const c=i[0].split(",");return[[+c[0],+c[1]],[0,0]]}const n=i[0].split(","),s=i[1].split(",");return[[+n[0],+n[1]],[+s[0],+s[1]]]}},{key:"searchPosition",value:function(r){let i=null,n=null;r=r.trim();const s=/\[offset (.+?)\]/.exec(r);let c=[[0,0],[0,0]];s&&(r=r.replace(s[0],""),c=this.parseOffset(s[1]));const h=r.split(" & ");return h.length>1?(i=this.getSearchRange(h[0].split(" ")[0]),n=this.getSearchRange(h[1].split(" ")[0])):i=this.getSearchRange(h[0]),i!==null&&n!==null&&([i,n]=this.matchRangesToLarger(i,n)),i&&(i[0]+=c[0][0],i[1]+=c[0][1]),n&&(n[0]+=c[1][0],n[1]+=c[1][1]),[i,n]}}]),e})(),gJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{dataConfig:c,animate:h,pubSub:p}=i;s.searchField=null,s.chromInfo=null,s.animate=h;const m=c.server,d=c.tilesetUid,E=`${m}/chrom-sizes/?id=${d}`;return Nh(E,_=>{s.chromInfo=_,s.searchField=new Z1(s.chromInfo),s.draw(),s.texts=[];for(let T=0;T<s.chromInfo.cumPositions.length;T++){const C=[];for(let A=0;A<s.chromInfo.cumPositions.length;A++){const D=`${s.chromInfo.cumPositions[T].chr}/${s.chromInfo.cumPositions[A].chr}`,O=new er.PIXI.Text(D,{fontSize:"14px",fontFamily:"Arial",fill:"red"});O.anchor.x=.5,O.anchor.y=.5,O.visible=!1,O.hashValue=Math.random(),C.push(O),s.pMain.addChild(O)}s.texts.push(C)}s.draw(),s.animate()},p),s}return j(r,[{key:"draw",value:function(){const n=[];if(!this.texts||!this.searchField)return;const s=no(this._xScale.domain()[0],this.chromInfo),c=no(this._xScale.domain()[1],this.chromInfo),h=no(this._yScale.domain()[0],this.chromInfo),p=no(this._yScale.domain()[1],this.chromInfo);for(let m=0;m<this.texts.length;m++)for(let d=0;d<this.texts.length;d++)this.texts[m][d].visible=!1;for(let m=s[3];m<=c[3];m++)for(let d=h[3];d<=p[3];d++){const E=this.chromInfo.cumPositions[m],_=this.chromInfo.cumPositions[d],T=E.pos+this.chromInfo.chromLengths[E.chr]/2,C=_.pos+this.chromInfo.chromLengths[_.chr]/2,A=this._xScale(T),D=this._yScale(C),O=this.texts[m][d];O.x=A,O.y=D,O.updateTransform();const B=O.getBounds(),P=B.width/2,R=B.height/2;A+P>this.dimensions[0]?O.x-=A+P-this.dimensions[0]:A-P<0&&(O.x-=A-P),D+R>this.dimensions[1]?O.y-=D+R-this.dimensions[1]:D-R<0&&(O.y-=D-R),O.visible=!0,n.push({importance:this.texts[m][d].hashValue,text:this.texts[m][d],caption:null})}this.hideOverlaps(n)}},{key:"hideOverlaps",value:function(n){let s=[];s=n.map(c=>{const h=c.text;h.updateTransform();const p=h.getBounds();return[p.x,p.y,p.x+p.width,p.y+p.height]}),GS(s,(c,h)=>{n[c].importance>n[h].importance?n[h].text.visible=0:n[c].text.visible=0})}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}}]),r})(ks),jS=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{chromInfoPath:c,dataConfig:h,animate:p,pubSub:m,orientation:d="2d",isOverlay:E=!1}=i;s.searchField=null,s.chromInfo=null,s.animate=p,s.orientation=d,s.isOverlay=E;let _=c;return _||(_=`${h.server}/chrom-sizes/?id=${h.tilesetUid}`),Nh(_,T=>{s.chromInfo=T,s.searchField=new Z1(s.chromInfo),s.texts=[],s.lineGraphics=new er.PIXI.Graphics,s.lineGraphics1dH=new er.PIXI.Graphics,s.lineGraphics1dV=new er.PIXI.Graphics,s.lineGraphics2d=new er.PIXI.Graphics,s.mask1dH=new er.PIXI.Graphics,s.mask1dV=new er.PIXI.Graphics,s.mask2d=new er.PIXI.Graphics,s.lineGraphics.addChild(s.lineGraphics1dH),s.lineGraphics1dH.addChild(s.mask1dH),s.lineGraphics.addChild(s.lineGraphics1dV),s.lineGraphics1dV.addChild(s.mask1dV),s.lineGraphics.addChild(s.lineGraphics2d),s.lineGraphics2d.addChild(s.mask2d),s.pMain.addChild(s.lineGraphics),s.draw(),s.animate()},m),s}return j(r,[{key:"drawLines",value:function(n=this.orientation,s=0,c=0){let h=this.lineGraphics;this.isOverlay&&n==="1d-horizontal"&&(h=this.lineGraphics1dH),this.isOverlay&&n==="1d-vertical"&&(h=this.lineGraphics1dV),this.isOverlay&&n==="2d"&&(h=this.lineGraphics2d);const p=Pr(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),m=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;h.lineStyle(m,p,1),(n==="2d"||n==="1d-horizontal")&&(h.moveTo(this._xScale(0)+s,c),h.lineTo(this._xScale(0)+s,this.dimensions[1]+c)),(n==="2d"||n==="1d-vertical")&&(h.moveTo(s,this._yScale(0)+c),h.lineTo(this.dimensions[0]+s,this._yScale(0)+c));for(let d=0;d<this.chromInfo.cumPositions.length;d++){const E=this.chromInfo.cumPositions[d],_=E.pos+ +this.chromInfo.chromLengths[E.chr]+1;(n==="2d"||n==="1d-horizontal")&&(h.moveTo(this._xScale(_)+s,c),h.lineTo(this._xScale(_)+s,this.dimensions[1]+c)),(n==="2d"||n==="1d-vertical")&&(h.moveTo(s,this._yScale(_)+c),h.lineTo(this.dimensions[0]+s,this._yScale(_)+c))}}},{key:"draw",value:function(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(let n=0;n<this.options.orientationsAndPositions.length;n++){const s=this.options.orientationsAndPositions[n].orientation,{left:c,top:h,width:p,height:m}=this.options.orientationsAndPositions[n].position;s==="1d-horizontal"&&this.mask1dH.drawRect(c,h,p,m),s==="1d-vertical"&&this.mask1dV.drawRect(c,h,p,m),s==="2d"&&this.mask2d.drawRect(c,h,p,m),this.drawLines(s,c,h)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}},{key:"createSvgLine",value:function(n,s,c,h,p,m){const d=document.createElement("line");return d.setAttribute("x1",n),d.setAttribute("x2",s),d.setAttribute("y1",c),d.setAttribute("y2",h),d.setAttribute("stroke",p),d.setAttribute("stroke-width",m),d}},{key:"drawLinesSvg",value:function(n,s,c,h,p=0,m=0){const d=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",E=this.options.lineStrokeWidth;if(s==="2d"||s==="1d-vertical"){const _=this._yScale(0);_>0&&_<m+h&&n.appendChild(this.createSvgLine(p,c+p,_+m,_+m,d,E))}if(s==="2d"||s==="1d-horizontal"){const _=this._xScale(0);_>0&&_<p+c&&n.appendChild(this.createSvgLine(_+p,_+p,m,h+m,d,E))}for(let _=0;_<this.chromInfo.cumPositions.length;_++){const T=this.chromInfo.cumPositions[_],C=T.pos+ +this.chromInfo.chromLengths[T.chr]+1;if(s==="2d"||s==="1d-vertical"){const A=this._yScale(C);A>0&&A<m+h&&n.appendChild(this.createSvgLine(p,c+p,A+m,A+m,d,E))}if(s==="2d"||s==="1d-horizontal"){const A=this._xScale(C);A>0&&A<p+c&&n.appendChild(this.createSvgLine(A+p,A+p,m,h+m,d,E))}}}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");if(n.appendChild(c),s.setAttribute("id","ChromosomeGrid"),c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),!this.chromInfo)return[s,n];if(this.isOverlay)for(let h=0;h<this.options.orientationsAndPositions.length;h++){const p=this.options.orientationsAndPositions[h].orientation,{left:m,top:d,width:E,height:_}=this.options.orientationsAndPositions[h].position;this.drawLinesSvg(c,p,E,_,m,d)}else this.drawLinesSvg(c,this.orientation,...this.dimensions);return[s,n]}}]),r})(ks);const NBe=300;let vJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{chromInfoPath:c,pubSub:h}=i;return s.pubSub=h,s.rects={},Nh(c,p=>{s.chromInfo=p,s.draw()},s.pubSub),s}return j(r,[{key:"draw",value:function(){if(!this.chromInfo)return;const n=this.options.minRectWidth?this.options.minRectWidth:10,s=this.options.minRectWidth?this.options.minRectHeight:10;a(N(r.prototype),"draw",this).call(this);const c=this.pMain;c.clear();const h=performance.now();this.options.regions.forEach(p=>{const m=p.slice(0,6).join("-");this.rects[m]||(this.rects[m]={graphics:new er.PIXI.Graphics},c.addChild(this.rects[m].graphics)),this.rects[m].timeStamp=h;const d=Bi(p[6]);let E=Bi(p[7]);E||(E=d);const _=er.PIXI.utils.rgb2hex([d.r/255,d.g/255,d.b/255]),T=er.PIXI.utils.rgb2hex([E.r/255,E.g/255,E.b/255]);c.lineStyle(1,T,E.opacity),c.beginFill(_,d.opacity);let C=this._xScale(this.chromInfo.chrPositions[p[0]].pos+ +p[1]);const A=this._xScale(this.chromInfo.chrPositions[p[0]].pos+ +p[2]);let D=this._yScale(this.chromInfo.chrPositions[p[3]].pos+ +p[4]);const O=this._yScale(this.chromInfo.chrPositions[p[3]].pos+ +p[5]);let B=A-C,P=O-D;const R=typeof p[8]<"u"?p[8]:n,$=typeof p[9]<"u"?p[9]:s;B<R&&(C=(C+A)/2-R/2,B=R),P<$&&(D=(D+O)/2-$/2,P=$),c.drawRect(C,D,B,P),this.rects[m].graphics.clear(),this.rects[m].graphics.interactive=!0,this.rects[m].graphics.buttonMode=!0,this.rects[m].graphics.hitArea=new er.PIXI.Rectangle(C,D,B,P),this.rects[m].graphics.mousedown=()=>{this.rects[m].mouseDownTime=performance.now()},this.rects[m].graphics.mouseup=W=>{performance.now()-this.rects[m].mouseDownTime<NBe&&this.pubSub.publish("app.click",{type:"annotation",event:W,payload:p})}})}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}}]),r})(ks);const MBe=200,LBe=6,BBe=2,yJ=7829367;let _J=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{dataConfig:c,animate:h,chromInfoPath:p,isShowGlobalMousePosition:m}=i;s.searchField=null,s.chromInfo=null,s.dataConfig=c,s.pTicks=new er.PIXI.Graphics,s.pMain.addChild(s.pTicks),s.gTicks={},s.tickTexts={},s.options=n,s.isShowGlobalMousePosition=m,s.textFontSize=12,s.textFontFamily="Arial",s.textFontColor="#808080",s.textStrokeColor=s.getTheme()===Oi?"#000000":"#ffffff",s.pixiTextConfig={fontSize:+s.options.fontSize?`${+s.options.fontSize}px`:`${s.textFontSize}px`,fontFamily:s.textFontFamily,fill:s.options.color||s.textFontColor,lineJoin:"round",stroke:s.options.stroke||s.textStrokeColor,strokeThickness:2},s.stroke=Pr(s.pixiTextConfig.stroke),s.tickWidth=MBe,s.tickHeight=LBe,s.tickTextSeparation=BBe,s.tickColor=s.options.tickColor?Pr(s.options.tickColor):yJ,s.animate=h,s.pubSubs=[],s.options.showMousePosition&&!s.hideMousePosition&&(s.hideMousePosition=vg(S(s),s.is2d,s.isShowGlobalMousePosition()));let d=p;return d||(d=`${c.server}/chrom-sizes/?id=${c.tilesetUid}`),Nh(d,E=>{s.chromInfo=E,s.searchField=new Z1(s.chromInfo),s.rerender(s.options,!0),s.draw(),s.animate()},s.pubSub),s}return j(r,[{key:"initBoundsTicks",value:function(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new er.PIXI.Graphics,this.leftBoundTick=new er.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new er.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}},{key:"initChromLabels",value:function(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new er.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(let n=0;n<this.chromInfo.cumPositions.length;n++){const s=this.chromInfo.cumPositions[n].chr;this.gTicks[s]=new er.PIXI.Graphics,this.tickTexts[s]||(this.tickTexts[s]=[]);const c=new er.PIXI.Text(s,this.pixiTextConfig);c.hashValue=Math.random(),this.pTicks.addChild(c),this.pTicks.addChild(this.gTicks[s]),this.texts.push(c)}}}},{key:"rerender",value:function(n,s){const c=JSON.stringify(n);!s&&c===this.prevOptions||(this.prevOptions=c,this.options=n,this.tickTexts={},this.pixiTextConfig.fontSize=+this.options.fontSize?`${+this.options.fontSize}px`:this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=Pr(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?Pr(this.options.tickColor):yJ,this.options.tickPositions==="ends"?this.initBoundsTicks():this.initChromLabels(),a(N(r.prototype),"rerender",this).call(this,n,s),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=vg(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"formatTick",value:function(n){const s=this._xScale.domain(),c=s[1]-s[0],h=Zc(n,c),p=Xi(","),m=wl(`,.${h}`,c);let d=p;return this.options.tickFormat==="si"?d=m:this.options.tickFormat==="plain"?d=p:this.options.tickPositions==="ends"&&(d=m),d(n)}},{key:"drawBoundsTicks",value:function(n,s){const c=this.gBoundTicks;c.clear(),c.lineStyle(1,0);const h=this.options.reverseOrientation?0:this.dimensions[1],p=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;c.moveTo(1,h),c.lineTo(1,p),c.moveTo(this.dimensions[0]-1,h),c.lineTo(this.dimensions[0]-1,p),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?p+this.tickTextSeparation:p-this.tickTextSeparation,this.leftBoundTick.text=`${n[0]}: ${this.formatTick(n[1])}`,this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=`${s[0]}: ${this.formatTick(s[1])}`,this.rightBoundTick.y=this.options.reverseOrientation?p+this.tickTextSeparation:p-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}},{key:"drawTicks",value:function(n){const s=this.gTicks[n.chr];s.visible=!0,s.clear();const c=+this.chromInfo.chromLengths[n.chr],h=Math.max(this._xScale(n.pos),0),p=Math.min(this._xScale(n.pos+c),this.dimensions[0]),m=(p-h)/this.tickWidth,E=qr().domain([Math.max(1,this._xScale.invert(0)-n.pos),Math.min(c,this._xScale.invert(this.dimensions[0])-n.pos)]).range(h,p).ticks(m).filter(B=>Number.isInteger(B)),_=this.tickTexts[n.chr],T=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,C=this.flipText?-1:1,A=this.options.fontIsLeftAligned?C*4:0;let D=this.options.fontIsLeftAligned?0:T+this.tickTextSeparation;for(this.options.reverseOrientation&&(D=this.dimensions[1]-D);_.length<E.length;){const B=new er.PIXI.Text("",this.pixiTextConfig);_.push(B),this.gTicks[n.chr].addChild(B)}for(;_.length>E.length;){const B=_.pop();this.gTicks[n.chr].removeChild(B)}let O=0;for(;O<E.length;){_[O].visible=!0,_[O].anchor.x=this.options.fontIsLeftAligned?0:.5,_[O].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(_[O].scale.x=-1),_[O].x=this._xScale(n.pos+E[O])+A,_[O].y=this.dimensions[1]-D,_[O].text=E[O]===0?`${n.chr}: 1`:`${n.chr}: ${this.formatTick(E[O])}`;const B=this._xScale(n.pos+E[O]);_[O].tickLine=[B-1,this.dimensions[1],B-1,this.dimensions[1]-T-1];const P=this.options.reverseOrientation?0:this.dimensions[1],R=this.options.reverseOrientation?T:this.dimensions[1]-T;s.lineStyle(1,this.stroke),s.moveTo(B-1,P),s.lineTo(B-1,R-1),this.options.fontIsLeftAligned?(s.lineTo(B+2*C+1*C,R-1),s.lineTo(B+2*C+1*C,R+1),s.lineTo(B+1,R+1)):s.lineTo(B+1,R-1),s.lineTo(B+1,P),s.lineStyle(1,this.tickColor),s.moveTo(B,P),s.lineTo(B,R),this.options.fontIsLeftAligned&&s.lineTo(B+2*C,R),O+=1}for(;O<_.length;)_[O].visible=!1,O+=1;return E.length}},{key:"draw",value:function(){if(this.allTexts=[],!this.texts||!this.searchField)return;const n=no(this._xScale.domain()[0],this.chromInfo),s=no(this._xScale.domain()[1],this.chromInfo);if(!n||!s){console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo);return}if(this.options.tickPositions==="ends"){if(!this.gBoundTicks)return;this.gBoundTicks.visible=!0,this.drawBoundsTicks(n,s);return}if(!this.pTicks)return;for(let h=0;h<this.texts.length;h++)this.texts[h].visible=!1,this.gTicks[this.chromInfo.cumPositions[h].chr].visible=!1;let c=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(c=this.dimensions[1]-c),Object.keys(this.chromInfo.chrPositions).forEach(h=>{if(this.tickTexts[h])for(let p=0;p<this.tickTexts[h].length;p++)this.tickTexts[h][p].visible=!1});for(let h=n[3];h<=s[3];h++){const p=this.chromInfo.cumPositions[h],m=p.pos+this.chromInfo.chromLengths[p.chr]/2,d=this._xScale(m),E=this.texts[h];E.anchor.x=this.options.fontIsLeftAligned?0:.5,E.anchor.y=this.options.reverseOrientation?0:1,E.x=d,E.y=this.dimensions[1]-c,E.updateTransform(),this.flipText&&(E.scale.x=-1);const _=this.drawTicks(p);E.visible=_<=0,this.allTexts.push({importance:E.hashValue,text:E,caption:null})}this.hideOverlaps(this.allTexts)}},{key:"hideOverlaps",value:function(n){let s=[];s=n.map(({text:c},h)=>{c.updateTransform();const p=c.getBounds();return[p.x,p.y,p.x+p.width,p.y+p.height]}),GS(s,(c,h)=>{n[c].importance>n[h].importance?n[h].text.visible=!1:n[c].text.visible=!1})}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s),s.setAttribute("class","chromosome-labels");const c=document.createElement("g");return n.appendChild(c),c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.allTexts.filter(h=>h.text.visible).forEach(h=>{const p=iL(h.text);c.appendChild(p)}),Object.values(this.tickTexts).forEach(h=>{h.filter(p=>p.visible).forEach(p=>{let m=iL(p);c.appendChild(m),m=Z7(p.x,this.options.reverseOrientation?0:this.dimensions[1],p.x,this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight,1,this.tickColor);const d=document.createElement("line");d.setAttribute("x1",p.tickLine[0]),d.setAttribute("y1",p.tickLine[1]),d.setAttribute("x2",p.tickLine[2]),d.setAttribute("y2",p.tickLine[3]),d.setAttribute("style","stroke: grey"),c.appendChild(m),c.appendChild(d)})}),[s,n]}}]),r})(ks),EJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{animate:c}=i;return s.pMain=s.pMobile,s.colorScale=Oy,s.continuousScaling=!1,n&&n.colorRange&&(s.colorScale=tp(n.colorRange)),s.animate=c,s.options=n,s.pubSubs=[],s}return j(r,[{key:"rerender",value:function(n,s){a(N(r.prototype),"rerender",this).call(this,n,s),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}},{key:"calculateZoomLevel",value:function(){let n=null;if(this.tilesetInfo.resolutions){const s=yr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),c=yr.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);n=Math.min(s,c)}else{const s=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),c=yr.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);n=Math.max(s,c),n=Math.min(n,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel();const n=this._xScale.copy();if(n.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){const E=this.tilesetInfo.resolutions.map(_=>+_).sort((_,T)=>T-_);this.xTiles=yr.calculateTilesFromResolution(E[this.zoomLevel],n,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=yr.calculateTilesFromResolution(E[this.zoomLevel],n,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=yr.calculateTiles(this.zoomLevel,n,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=yr.calculateTiles(this.zoomLevel,n,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const s=this.xTiles,c=this.yTiles,h=this.zoomLevel,m=this.tilesetInfo.max_width/2**h,d=[];for(let E=0;E<s.length;E++)for(let _=E;_<c.length;_++){if((_-E-2)*(this._xScale(m)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])continue;const C=[h,s[E],c[_]];C.mirrored=!1,C.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",d.push(C)}this.setVisibleTiles(d)}},{key:"tileDataToCanvas",value:function(n){const s=document.createElement("canvas");s.width=256,s.height=256;const c=s.getContext("2d");c.fillStyle="transparent",c.fillRect(0,0,s.width,s.height);const h=new ImageData(n,s.width,s.height);return c.putImageData(h,0,0),s}},{key:"setSpriteProperties",value:function(n,s,c,h){const{tileX:p,tileY:m,tileWidth:d,tileHeight:E}=this.getTilePosAndDimensions(s,c),_=p+d,T=m+E;n.width=this._refXScale(_)-this._refXScale(p),n.height=this._refYScale(T)-this._refYScale(m),n.x=this._refXScale(p),n.y=this._refYScale(m)}},{key:"pixDataFunction",value:function(n,s){if(s){const c=n.graphics,h=this.tileDataToCanvas(s.pixData),p=er.PIXI.VERSION[0]==="4"?er.PIXI.Texture.fromCanvas(h,er.PIXI.SCALE_MODES.NEAREST):er.PIXI.Texture.from(h,{scaleMode:er.PIXI.SCALE_MODES.NEAREST});n.sprite=new er.PIXI.Sprite(p),n.canvas=h,this.setSpriteProperties(n.sprite,n.tileData.zoomLevel,n.tileData.tilePos,n.mirrored),c.pivot.x=this._refXScale(0),c.pivot.y=this._refYScale(0),c.scale.x=-1/Math.sqrt(2),c.rotation=-3*Math.PI/4,c.scale.y=1/Math.sqrt(2),c.position.x=this._refXScale(0),c.position.y=0,c.removeChildren(),c.addChild(n.sprite)}this.renderingTiles.delete(n.tileId)}},{key:"refScalesChanged",value:function(n,s){a(N(r.prototype),"refScalesChanged",this).call(this,n,s);for(const c in this.fetchedTiles){const h=this.fetchedTiles[c];if(h.sprite){this.setSpriteProperties(h.sprite,h.tileData.zoomLevel,h.tileData.tilePos,h.mirrored);const p=h.graphics;p.pivot.x=this._refXScale(0),p.pivot.y=this._refYScale(0),p.scale.x=-1/Math.sqrt(2),p.rotation=-3*Math.PI/4,p.scale.y=1/Math.sqrt(2),p.position.x=this._refXScale(0),p.position.y=0}}}},{key:"zoomed",value:function(n,s,c,h,p){a(N(r.prototype),"zoomed",this).call(this,n,s,c,h,p),a(N(r.prototype),"draw",this).call(this),this.pMain.position.x=h,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=c,this.pMain.scale.y=c,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-c,this.pMain.position.y=this.position[1])}},{key:"leftTrackDraw",value:function(){this.draw()}},{key:"exportSVG",value:function(){let n=null,s=null;[s,n]=a(N(r.prototype),"superSVG",this).call(this);const c=document.createElement("g");n.appendChild(c),c.setAttribute("transform",`translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);for(const p of this.visibleAndFetchedTiles()){const m=document.createElement("g"),d=p.graphics,E=d.rotation*180/Math.PI,_=`translate(${d.position.x},${d.position.y}) rotate(${E}) scale(${d.scale.x},${d.scale.y}) translate(${-d.pivot.x},${-d.pivot.y})`;m.setAttribute("transform",_);const T=p.sprite.rotation*180/Math.PI,C=document.createElement("g");C.setAttribute("transform",`translate(${p.sprite.x},${p.sprite.y}) rotate(${T}) scale(${p.sprite.scale.x},${p.sprite.scale.y})`);const A=document.createElement("image");A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.canvas.toDataURL()),A.setAttribute("width",256),A.setAttribute("height",256),C.appendChild(A),m.appendChild(C),c.appendChild(m)}const h=this.exportColorBarSVG();return n.appendChild(h),[s,s]}}]),r})(MS),TJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.tilesetInfo={},s.errorTextText=`Unknown track type: ${n.type}`,s}return j(r,[{key:"zoomed",value:function(){this.draw()}}]),r})(ks),bJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.axis=new PD(S(s)),s.pBase.addChild(s.axis.pAxis),s}return j(r,[{key:"initTile",value:function(n){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(n)}},{key:"drawTile",value:function(n){if(!n.graphics)return;const s=n.graphics,c=6,h=4;s.clear(),this.valueScale=Qc().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-c/2,c/2]);const p=Pr("black");s.lineStyle(1,p,.3),s.beginFill(p,.3),this.drawAxis(this.valueScale),n.tileData.forEach(m=>{const d=m.fields,E=+m.chrOffset,_=+d[1]+E,T=+d[2]+E,C=+d[3],A=this._xScale(_),D=this._xScale(T),O=Math.max(D-A,h),B=this.valueScale(C),P=(D+A)/2;s.drawRect(P-O/2,B-c/2,O,c)})}},{key:"minVisibleValueInTiles",value:function(){let n=this.visibleAndFetchedIds();return n.length===0&&(n=Object.keys(this.fetchedTiles)),Math.min.apply(null,n.map(c=>+Math.min(...this.fetchedTiles[c].tileData.filter(h=>!Number.isNaN(h.fields[3])).map(h=>+h.fields[3]))))}},{key:"maxVisibleValueInTiles",value:function(){let n=this.visibleAndFetchedIds();return n.length===0&&(n=Object.keys(this.fetchedTiles)),Math.max.apply(null,n.map(c=>+Math.max(...this.fetchedTiles[c].tileData.filter(h=>!Number.isNaN(h.fields[3])).map(h=>+h.fields[3]))))}}]),r})(q1),SJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{registerViewportChanged:c,removeViewportChanged:h,setDomainsCallback:p}=i,m=hn.nice();return s.uid=m,s.options=n,s.hasFromView=!i.projectionXDomain||!i.projectionYDomain,s.removeViewportChanged=h,s.setDomainsCallback=p,s.viewportXDomain=s.hasFromView?null:i.projectionXDomain,s.viewportYDomain=s.hasFromView?null:i.projectionYDomain,s.brush=AM().on("brush",s.brushed.bind(S(s))),s.gBrush=s.gMain.append("g").attr("id",`brush-${s.uid}`).call(s.brush),s.gBrush.selectAll(".overlay").style("pointer-events","none"),s.gBrush.selectAll(".handle--n").style("pointer-events","none"),s.gBrush.selectAll(".handle--s").style("pointer-events","none"),s.gBrush.selectAll(".handle--w").style("pointer-events","none"),s.gBrush.selectAll(".handle--e").style("pointer-events","none"),c(m,s.viewportChanged.bind(S(s))),s.rerender(),s.draw(),s}return j(r,[{key:"brushed",value:function(n){const s=n.selection;if(!this._xScale||!this._yScale)return;const c=[this._xScale.invert(s[0][0]),this._xScale.invert(s[1][0])],h=[this._yScale.invert(s[0][1]),this._yScale.invert(s[1][1])];this.hasFromView||(this.viewportXDomain=c,this.viewportYDomain=h),this.setDomainsCallback(c,h)}},{key:"viewportChanged",value:function(n,s){const c=n.domain(),h=s.domain();this.viewportXDomain=c,this.viewportYDomain=h,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),a(N(r.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const n=this._xScale(this.viewportXDomain[0]),s=this._yScale(this.viewportYDomain[0]),c=this._xScale(this.viewportXDomain[1]),h=this._yScale(this.viewportYDomain[1]),p=[[n,s],[c,h]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,p),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.draw()}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n);const s=this._xScale.range(),c=this._yScale.range(),h=s[1]-s[0],p=c[1]-c[0];this.brush.extent([[s[0]-h,c[0]-p],[s[1]+h,c[1]+p]]),this.gBrush.call(this.brush),this.draw()}}]),r})(xp),CJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{registerViewportChanged:c,removeViewportChanged:h,setDomainsCallback:p}=i,m=hn.nice();return s.uid=m,s.options=n,s.hasFromView=!i.projectionXDomain,s.removeViewportChanged=h,s.setDomainsCallback=p,s.viewportXDomain=s.hasFromView?null:i.projectionXDomain,s.viewportYDomain=s.hasFromView?null:[0,0],s.brush=Bx().on("brush",s.brushed.bind(S(s))),s.gBrush=s.gMain.append("g").attr("id",`brush-${s.uid}`).call(s.brush),s.gBrush.selectAll(".overlay").style("pointer-events","none"),s.gBrush.selectAll(".handle--ne").style("pointer-events","none"),s.gBrush.selectAll(".handle--nw").style("pointer-events","none"),s.gBrush.selectAll(".handle--sw").style("pointer-events","none"),s.gBrush.selectAll(".handle--se").style("pointer-events","none"),s.gBrush.selectAll(".handle--n").style("pointer-events","none"),s.gBrush.selectAll(".handle--s").style("pointer-events","none"),c(m,s.viewportChanged.bind(S(s))),s.rerender(),s.draw(),s}return j(r,[{key:"brushed",value:function(n){const s=n.selection;if(!this._xScale||!this._yScale)return;const c=[this._xScale.invert(s[0]),this._xScale.invert(s[1])],h=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=c),this.setDomainsCallback(c,h)}},{key:"viewportChanged",value:function(n,s,c=!0){const h=n.domain(),p=s.domain();this.viewportXDomain=h,this.viewportYDomain=p,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),a(N(r.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const n=this._xScale(this.viewportXDomain[0]),s=this._xScale(this.viewportXDomain[1]),c=[n,s];this.brush.on("brush",null),this.gBrush.call(this.brush.move,c),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.draw()}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n);const s=this._xScale.range(),c=this._yScale.range(),h=s[1]-s[0];this.brush.extent([[s[0]-h,c[0]],[s[1]+h,c[1]]]),this.gBrush.call(this.brush),this.draw()}}]),r})(xp),AJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{registerViewportChanged:c,removeViewportChanged:h,setDomainsCallback:p}=i,m=hn.nice();return s.uid=m,s.options=n,s.hasFromView=!i.projectionYDomain,s.removeViewportChanged=h,s.setDomainsCallback=p,s.viewportXDomain=s.hasFromView?null:[0,0],s.viewportYDomain=s.hasFromView?null:i.projectionYDomain,s.brush=XT().on("brush",s.brushed.bind(S(s))),s.gBrush=s.gMain.append("g").attr("id",`brush-${s.uid}`).call(s.brush),s.gBrush.selectAll(".overlay").style("pointer-events","none"),s.gBrush.selectAll(".handle--ne").style("pointer-events","none"),s.gBrush.selectAll(".handle--nw").style("pointer-events","none"),s.gBrush.selectAll(".handle--sw").style("pointer-events","none"),s.gBrush.selectAll(".handle--se").style("pointer-events","none"),s.gBrush.selectAll(".handle--e").style("pointer-events","none"),s.gBrush.selectAll(".handle--w").style("pointer-events","none"),c(m,s.viewportChanged.bind(S(s))),s.rerender(),s.draw(),s}return j(r,[{key:"brushed",value:function(n){const s=n.selection;if(!this._xScale||!this._yScale)return;const c=this.viewportXDomain,h=[this._yScale.invert(s[0]),this._yScale.invert(s[1])];this.hasFromView||(this.viewportYDomain=h),this.setDomainsCallback(c,h)}},{key:"viewportChanged",value:function(n,s,c=!0){const h=n.domain(),p=s.domain();this.viewportXDomain=h,this.viewportYDomain=p,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),a(N(r.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const n=this._yScale(this.viewportYDomain[0]),s=this._yScale(this.viewportYDomain[1]),c=[n,s];this.brush.on("brush",null),this.gBrush.call(this.brush.move,c),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.draw()}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n);const s=this._xScale.range(),c=this._yScale.range(),h=c[1]-c[0];this.brush.extent([[s[0],c[0]-h],[s[1],c[1]+h]]),this.gBrush.call(this.brush),this.draw()}}]),r})(xp);const u3="__mixwith_appliedMixin",c3="__mixwith_wrappedMixin",wJ=e=>e[c3]||e,FBe=(e,t)=>{const r=t(e);return r.prototype[u3]=wJ(t),r},UBe=(e,t)=>e.hasOwnProperty(u3)&&e[u3]===wJ(t),HBe=(e,t)=>{for(;e!==null;){if(UBe(e,t))return!0;e=Object.getPrototypeOf(e)}return!1},h3=(e,t)=>(Object.setPrototypeOf(t,e),e[c3]||(e[c3]=e),t),f3="__mixwith_cachedApplications",$Be=e=>h3(e,t=>{let r=t[f3];r||(t[f3]=new Map,r=t[f3]);let i=r.get(e);return i||(i=e(t),r.set(e,i)),i}),GBe=e=>h3(e,t=>HBe(t.prototype,e)?t:e(t)),zBe=e=>h3(e,t=>FBe(t,e)),vO=e=>GBe($Be(zBe(e)));let jBe=(function(){function e(t){H(this,e),this.superclass=t||(function(){function r(){H(this,r)}return j(r)})()}return j(e,[{key:"with",value:function(...r){return r.reduce((i,n)=>n(i),this.superclass)}}]),e})();const Q1=e=>new jBe(e),d3=vO(e=>(function(t){f(i,t);var r=g(i);function i(n,s){var c;H(this,i),c=r.call(this,n,s);const{animate:h}=n;return c.highlighted=!1,c.animate=h,c.MOUSEOVER_RADIUS=4,c.pubSub=n.pubSub,c.pubSubs.push(c.pubSub.subscribe("app.mouseMove",c.mouseMoveHandler.bind(S(c)))),c}return j(i,[{key:"setPosition",value:function(s){a(N(i.prototype),"setPosition",this).call(this,s),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}},{key:"zoomed",value:function(s,c){a(N(i.prototype),"zoomed",this).call(this,s,c),this.draw()}},{key:"respondsToPosition",value:function(){return this.highlighted}}]),i})(e)),VBe=vO(e=>(function(t){f(i,t);var r=g(i);function i(){return H(this,i),r.apply(this,arguments)}return j(i,[{key:"drawHorizontalRule",value:function(s){let c=Pr(this.options.color||"black");this.highlighted&&(c=Pr("red")),s.lineStyle(this.strokeWidth,c,this.strokeOpacity);let h=0;for(;h<this.dimensions[0];)s.moveTo(h,this._yScale(this.yPosition)),s.lineTo(h+this.dashLength,this._yScale(this.yPosition)),h+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(s){return Math.abs(s.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}}]),i})(e));let xJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.yPosition=i.yPosition,s.strokeWidth=2,s.strokeOpacity=1,s.dashLength=5,s.dashGap=3,s}return j(r,[{key:"mouseMoveHandler",value:function(n){if(this.isWithin(n.x,n.y)&&this.isMouseOverHorizontalLine(n)){this.highlighted=!0,this.draw();return}this.highlighted=!1,this.draw()}},{key:"draw",value:function(){const n=this.pMain;n.clear(),this.drawHorizontalRule(n),this.animate()}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");c.setAttribute("class","horizontal-rule"),c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),n.appendChild(c);const h=this.options.color||"black",p=document.createElement("line");return p.setAttribute("stroke",h),p.setAttribute("stroke-width",this.strokeWidth),p.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),p.setAttribute("x1",0),p.setAttribute("y1",this._yScale(this.yPosition)),p.setAttribute("x2",this.dimensions[0]),p.setAttribute("y2",this._yScale(this.yPosition)),c.appendChild(p),[s,n]}}]),r})(Q1(ks).with(d3,VBe));const IJ=vO(e=>(function(t){f(i,t);var r=g(i);function i(){return H(this,i),r.apply(this,arguments)}return j(i,[{key:"drawVerticalRule",value:function(s){let c=Pr(this.options.color||"black");this.highlighted&&(c=Pr("red")),s.lineStyle(this.strokeWidth,c,this.strokeOpacity);let h=0;for(;h<this.dimensions[1];)s.moveTo(this._xScale(this.xPosition),h),s.lineTo(this._xScale(this.xPosition),h+this.dashLength),h+=this.dashLength+this.dashGap}},{key:"isMouseOverVerticalLine",value:function(s){return Math.abs(s.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}}]),i})(e));let DJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.xPosition=i.xPosition,s.strokeWidth=2,s.strokeOpacity=1,s.dashLength=5,s.dashGap=3,s}return j(r,[{key:"draw",value:function(){const n=this.pMain;n.clear(),this.drawVerticalRule(n),this.animate()}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");c.setAttribute("class","vertical-rule"),c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),n.appendChild(c);const h=this.options.color||"black",p=document.createElement("line");return p.setAttribute("stroke",h),p.setAttribute("stroke-width",this.strokeWidth),p.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),p.setAttribute("x1",this._xScale(this.xPosition)),p.setAttribute("y1",0),p.setAttribute("x2",this._xScale(this.xPosition)),p.setAttribute("y2",this.dimensions[1]),c.appendChild(p),[s,n]}},{key:"mouseMoveHandler",value:function(n){this.highlighted=this.isWithin(n.x,n.y)&&this.isMouseOverVerticalLine(n),this.draw()}}]),r})(Q1(ks).with(d3,IJ)),OJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{x:c,y:h}=i;return s.xPosition=c,s.yPosition=h,s.strokeWidth=2,s.strokeOpacity=1,s.dashLength=5,s.dashGap=3,s}return j(r,[{key:"draw",value:function(){const n=this.pMain;n.clear(),this.drawHorizontalRule(n),this.drawVerticalRule(n)}},{key:"mouseMoveHandler",value:function(n){this.highlighted=this.isWithin(n.x,n.y)&&(this.isMouseOverHorizontalLine(n)||this.isMouseOverVerticalLine(n)),this.draw()}},{key:"drawHorizontalRule",value:function(n){let s=Pr(this.options.color||"black");this.highlighted&&(s=Pr("red")),n.lineStyle(this.strokeWidth,s,this.strokeOpacity);let c=0;for(;c<this.dimensions[0];)n.moveTo(c,this._yScale(this.yPosition)),n.lineTo(c+this.dashLength,this._yScale(this.yPosition)),c+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(n){return Math.abs(n.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}},{key:"exportSVG",value:function(){let n=null,s=null;a(N(r.prototype),"exportSVG",this)?[s,n]=a(N(r.prototype),"exportSVG",this).call(this):(s=document.createElement("g"),n=s);const c=document.createElement("g");c.setAttribute("class","cross-rule"),c.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),n.appendChild(c);const h=this.options.color||"black",p=document.createElement("line");p.setAttribute("stroke",h),p.setAttribute("stroke-width",this.strokeWidth),p.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),p.setAttribute("x1",this._xScale(this.xPosition)),p.setAttribute("y1",0),p.setAttribute("x2",this._xScale(this.xPosition)),p.setAttribute("y2",this.dimensions[1]);const m=document.createElement("line");return m.setAttribute("stroke",h),m.setAttribute("stroke-width",this.strokeWidth),m.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),m.setAttribute("x1",0),m.setAttribute("y1",this._yScale(this.yPosition)),m.setAttribute("x2",this.dimensions[0]),m.setAttribute("y2",this._yScale(this.yPosition)),c.appendChild(p),c.appendChild(m),[s,n]}}]),r})(Q1(ks).with(d3,IJ)),VS=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{animate:c}=i;return s.visibleTiles=new Set,s.visibleTileIds=new Set,s.fetching=new Set,s.fetchedTiles={},s.tileGraphics={},s.minX=typeof s.options.minPos<"u"&&!Number.isNaN(+s.options.minPos)?+s.options.minPos:-180,s.maxX=+s.options.maxPos||180,s.maxX=typeof s.options.maxPos<"u"&&!Number.isNaN(+s.options.maxPos)?+s.options.maxPos:180,s.minY=s.options.minY||s.minX,s.maxY=s.options.maxY||s.maxX,s.maxZoom=19,s.maxWidth=s.maxX-s.minX,s.animate=c,s.uuid=hn.nice(),s.refreshTilesDebounced=Xx(s.refreshTiles.bind(S(s)),jx),s}return j(r,[{key:"visibleAndFetchedIds",value:function(){return Object.keys(this.fetchedTiles).filter(n=>this.visibleTileIds.has(n))}},{key:"visibleAndFetchedTiles",value:function(){return this.visibleAndFetchedIds().map(n=>this.fetchedTiles[n])}},{key:"setVisibleTiles",value:function(n){this.visibleTiles=n.map(s=>({tileId:this.tileToLocalId(s),remoteId:this.tileToRemoteId(s),mirrored:s.mirrored})),this.visibleTileIds=new Set(this.visibleTiles.map(s=>s.tileId))}},{key:"removeAllTiles",value:function(){const n=new Set(Object.keys(this.fetchedTiles));this.removeTiles([...n])}},{key:"refreshTiles",value:function(){this.calculateVisibleTiles();const n=new Set(Object.keys(this.fetchedTiles)),s=[...this.visibleTiles].filter(h=>!this.fetching.has(h.remoteId)&&!n.has(h.tileId));for(let h=0;h<s.length;h++)this.fetching.add(s[h].remoteId);const c=[...n].filter(h=>!this.visibleTileIds.has(h));this.removeTiles(c),this.fetchNewTiles(s)}},{key:"removeTiles",value:function(n){n.length&&this.areAllVisibleTilesLoaded()&&(n.forEach(s=>{const c=s;this.destroyTile(this.fetchedTiles[c]),c in this.tileGraphics&&(this.pMain.removeChild(this.tileGraphics[c]),delete this.tileGraphics[c]),delete this.fetchedTiles[c]}),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"tileToLocalId",value:function(n){return n.join(".")}},{key:"tileToRemoteId",value:function(n){return n.join(".")}},{key:"localToRemoteId",value:function(n){const s=n.split(".");return s.slice(0,s.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const n=yr.calculateZoomLevel(this._xScale,this.minX,this.maxX),s=yr.calculateZoomLevel(this._xScale,this.minY,this.maxY);let c=Math.min(Math.max(n,s),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?c=Math.min(this.options.maxZoom,c):console.error("Invalid maxZoom on track:",this)),c}},{key:"calculateVisibleTiles",value:function(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=yr.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=yr.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);const n=this.xTiles,s=this.yTiles,c=this.zoomLevel,h=[];for(let p=0;p<n.length;p++)for(let m=0;m<s.length;m++){const d=[c,n[p],s[m]];h.push(d)}this.setVisibleTiles(h)}},{key:"zoomed",value:function(n,s,c,h,p){a(N(r.prototype),"zoomed",this).call(this,n,s),this.xScale(n),this.yScale(s),this.pMain.position.x=h,this.pMain.position.y=p,this.pMain.scale.x=c,this.pMain.scale.y=c,this.refreshTilesDebounced(),this.draw()}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n)}},{key:"setDimensions",value:function(n){a(N(r.prototype),"setDimensions",this).call(this,n)}},{key:"areAllVisibleTilesLoaded",value:function(){const n=new Set(Object.keys(this.fetchedTiles)),s=[...this.visibleTileIds];for(let c=0;c<s.length;c++)if(!n.has(s[c]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(n){return n&&(this.scale.minValue=n),this.scale.minValue}},{key:"maxValue",value:function(n){return n&&(this.scale.maxValue=n),this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"getTilePosAndDimensions",value:function(n,s){const c=this.maxWidth/2**n,h=c,p=this.minX+s[0]*c,m=this.minY+s[1]*h;return{tileX:p,tileY:m,tileWidth:c,tileHeight:h}}},{key:"setSpriteProperties",value:function(n,s,c){const{tileX:h,tileY:p,tileWidth:m,tileHeight:d}=this.getTilePosAndDimensions(s,c);n.x=this._refXScale(h),n.y=this._refYScale(p);const E=h+m,_=p+d;n.width=this._refXScale(E)-this._refXScale(h),n.height=this._refYScale(_)-this._refYScale(p)}},{key:"initTile",value:function(n){const s=new er.PIXI.Texture(new er.PIXI.BaseTexture(n.tileData.img)),c=new er.PIXI.Sprite(s),h=n.graphics;n.sprite=c,this.setSpriteProperties(n.sprite,n.tileData.zoomLevel,n.tileData.tilePos),h.removeChildren(),h.addChild(n.sprite)}},{key:"updateTile",value:function(n){}},{key:"destroyTile",value:function(n){}},{key:"addMissingGraphics",value:function(){const n=Object.keys(this.fetchedTiles);for(let s=0;s<n.length;s++)if(!(n[s]in this.tileGraphics)){const c=new er.PIXI.Graphics;this.pMain.addChild(c),this.fetchedTiles[n[s]].graphics=c,this.initTile(this.fetchedTiles[n[s]]),this.tileGraphics[n[s]]=c}}},{key:"updateExistingGraphics",value:function(){const n=Object.keys(this.fetchedTiles);for(let s=0;s<n.length;s++)this.updateTile(this.fetchedTiles[n[s]])}},{key:"synchronizeTilesAndGraphics",value:function(){this.addMissingGraphics(),this.updateExistingGraphics()}},{key:"loadTileData",value:function(n,s){let c=this.lruCache.get(n.tileId);return c||(c=s(n.data,n.type),this.lruCache.put(n.tileId,c)),c}},{key:"getTileUrl",value:function(n){const s=["a","b","c"],c=Math.floor(Math.random()*s.length);return`https://${s[c]}.tile.openstreetmap.org/${n[0]}/${n[1]}/${n[2]}.png`}},{key:"fetchNewTiles",value:function(n){if(n.length>0){const s=[...new Set(n.map(c=>c.remoteId))];for(const c of s){const h=c.split("."),p=this.getTileUrl(h),m=new Image;m.crossOrigin="Anonymous",m.src=p,m.onload=()=>{const d={};d[c]={tileId:c,img:m,zoomLevel:+h[0],tilePos:[+h[1],+h[2]],tileSrc:p},this.receivedTiles(d)}}}}},{key:"receivedTiles",value:function(n){for(let s=0;s<this.visibleTiles.length;s++){const c=this.visibleTiles[s].tileId;n[this.visibleTiles[s].remoteId]&&this.visibleTiles[s].remoteId in n&&(c in this.fetchedTiles||(this.fetchedTiles[c]=this.visibleTiles[s]),this.fetchedTiles[c].tileData=n[this.visibleTiles[s].remoteId])}for(const s in n)n[s]&&this.fetching.has(s)&&this.fetching.delete(s);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}},{key:"draw",value:function(){this.delayDrawing||a(N(r.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(){}},{key:"refScalesChanged",value:function(n,s){a(N(r.prototype),"refScalesChanged",this).call(this,n,s);for(const c in this.fetchedTiles){const h=this.fetchedTiles[c];h.sprite&&this.setSpriteProperties(h.sprite,h.tileData.zoomLevel,h.tileData.tilePos)}}}]),r})(ks),kJ=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"initTile",value:function(n){JZ.bind(this)(n),this.drawTile(n)}},{key:"drawTile",value:function(n){QZ.bind(this)(n)}},{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"fetchNewTiles",value:function(n){n.forEach(s=>{const h=s.remoteId.split("."),p={zoomLevel:h[0],tilePos:h.slice(1,h.length).map(m=>+m)};this.fetchedTiles[s.tileId]=s,this.fetchedTiles[s.tileId].tileData=p,this.fetching.has(s.remoteId)&&this.fetching.delete(s.remoteId)}),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}},{key:"draw",value:function(){a(N(r.prototype),"draw",this).call(this)}}]),r})(VS),PJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.style=n.style,s.options.accessToken||(s.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",s.drawError()),s}return j(r,[{key:"rerender",value:function(n){a(N(r.prototype),"rerender",this).call(this,n),n.style!==this.style&&(this.style=n.style,this.removeAllTiles(),this.refreshTiles())}},{key:"getTileUrl",value:function(n){const s=this.options&&this.options.style?this.options.style:"streets-v10",c=this.options&&+this.options.tileSize?+this.options.tileSize:256;return`https://api.mapbox.com/styles/v1/mapbox/${s}/tiles/${c}/${n[0]}/${n[1]}/${n[2]}?access_token=${this.options.accessToken}`}}]),r})(VS),RJ=(function(e){f(r,e);var t=g(r);function r(i,n){var s;return H(this,r),s=t.call(this,i,n),s.style=n.style,s.options.tileSource||(s.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",s.drawError()),s}return j(r,[{key:"getTileUrl",value:function(n){let s=this.options.tileSource.replace("{z}",n[0]);return s=s.replace("{x}",n[1]),s=s.replace("{y}",n[2]),s}}]),r})(VS);const WBe=(e,t,r,i=wk)=>{const n=r[e.type];return n?new n.dataFetcher(i,e,t):e.type==="genbank"?new YZ(e,t):e.type==="local-tiles"?new XZ(e,t):new FD(e,t)};var Br=1e-6,WS=1e-12,bn=Math.PI,_a=bn/2,yO=bn/4,Ns=bn*2,ki=180/bn,Ur=bn/180,Gn=Math.abs,J1=Math.atan,Ms=Math.atan2,Or=Math.cos,_O=Math.ceil,NJ=Math.exp,p3=Math.hypot,EO=Math.log,m3=Math.pow,Tr=Math.sin,Tu=Math.sign||function(e){return e>0?1:e<0?-1:0},Eo=Math.sqrt,g3=Math.tan;function MJ(e){return e>1?0:e<-1?bn:Math.acos(e)}function Ls(e){return e>1?_a:e<-1?-_a:Math.asin(e)}function LJ(e){return(e=Tr(e/2))*e}function ca(){}function TO(e,t){e&&FJ.hasOwnProperty(e.type)&&FJ[e.type](e,t)}var BJ={Feature:function(e,t){TO(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,i=-1,n=r.length;++i<n;)TO(r[i].geometry,t)}},FJ={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,i=-1,n=r.length;++i<n;)e=r[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){v3(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,i=-1,n=r.length;++i<n;)v3(r[i],t,0)},Polygon:function(e,t){UJ(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,i=-1,n=r.length;++i<n;)UJ(r[i],t)},GeometryCollection:function(e,t){for(var r=e.geometries,i=-1,n=r.length;++i<n;)TO(r[i],t)}};function v3(e,t,r){var i=-1,n=e.length-r,s;for(t.lineStart();++i<n;)s=e[i],t.point(s[0],s[1],s[2]);t.lineEnd()}function UJ(e,t){var r=-1,i=e.length;for(t.polygonStart();++r<i;)v3(e[r],t,1);t.polygonEnd()}function mc(e,t){e&&BJ.hasOwnProperty(e.type)?BJ[e.type](e,t):TO(e,t)}var bO=new ua,SO=new ua,HJ,$J,y3,_3,E3,Mh={point:ca,lineStart:ca,lineEnd:ca,polygonStart:function(){bO=new ua,Mh.lineStart=YBe,Mh.lineEnd=XBe},polygonEnd:function(){var e=+bO;SO.add(e<0?Ns+e:e),this.lineStart=this.lineEnd=this.point=ca},sphere:function(){SO.add(Ns)}};function YBe(){Mh.point=qBe}function XBe(){GJ(HJ,$J)}function qBe(e,t){Mh.point=GJ,HJ=e,$J=t,e*=Ur,t*=Ur,y3=e,_3=Or(t=t/2+yO),E3=Tr(t)}function GJ(e,t){e*=Ur,t*=Ur,t=t/2+yO;var r=e-y3,i=r>=0?1:-1,n=i*r,s=Or(t),c=Tr(t),h=E3*c,p=_3*s+h*Or(n),m=h*i*Tr(n);bO.add(Ms(m,p)),y3=e,_3=s,E3=c}function KBe(e){return SO=new ua,mc(e,Mh),SO*2}function CO(e){return[Ms(e[1],e[0]),Ls(e[2])]}function Jg(e){var t=e[0],r=e[1],i=Or(r);return[i*Or(t),i*Tr(t),Tr(r)]}function AO(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function e_(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function T3(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function wO(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function xO(e){var t=Eo(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ha,nl,Ea,Gl,ev,zJ,jJ,t_,YS,kp,jf,Vf={point:b3,lineStart:WJ,lineEnd:YJ,polygonStart:function(){Vf.point=XJ,Vf.lineStart=ZBe,Vf.lineEnd=QBe,YS=new ua,Mh.polygonStart()},polygonEnd:function(){Mh.polygonEnd(),Vf.point=b3,Vf.lineStart=WJ,Vf.lineEnd=YJ,bO<0?(ha=-(Ea=180),nl=-(Gl=90)):YS>Br?Gl=90:YS<-Br&&(nl=-90),jf[0]=ha,jf[1]=Ea},sphere:function(){ha=-(Ea=180),nl=-(Gl=90)}};function b3(e,t){kp.push(jf=[ha=e,Ea=e]),t<nl&&(nl=t),t>Gl&&(Gl=t)}function VJ(e,t){var r=Jg([e*Ur,t*Ur]);if(t_){var i=e_(t_,r),n=[i[1],-i[0],0],s=e_(n,i);xO(s),s=CO(s);var c=e-ev,h=c>0?1:-1,p=s[0]*ki*h,m,d=Gn(c)>180;d^(h*ev<p&&p<h*e)?(m=s[1]*ki,m>Gl&&(Gl=m)):(p=(p+360)%360-180,d^(h*ev<p&&p<h*e)?(m=-s[1]*ki,m<nl&&(nl=m)):(t<nl&&(nl=t),t>Gl&&(Gl=t))),d?e<ev?zl(ha,e)>zl(ha,Ea)&&(Ea=e):zl(e,Ea)>zl(ha,Ea)&&(ha=e):Ea>=ha?(e<ha&&(ha=e),e>Ea&&(Ea=e)):e>ev?zl(ha,e)>zl(ha,Ea)&&(Ea=e):zl(e,Ea)>zl(ha,Ea)&&(ha=e)}else kp.push(jf=[ha=e,Ea=e]);t<nl&&(nl=t),t>Gl&&(Gl=t),t_=r,ev=e}function WJ(){Vf.point=VJ}function YJ(){jf[0]=ha,jf[1]=Ea,Vf.point=b3,t_=null}function XJ(e,t){if(t_){var r=e-ev;YS.add(Gn(r)>180?r+(r>0?360:-360):r)}else zJ=e,jJ=t;Mh.point(e,t),VJ(e,t)}function ZBe(){Mh.lineStart()}function QBe(){XJ(zJ,jJ),Mh.lineEnd(),Gn(YS)>Br&&(ha=-(Ea=180)),jf[0]=ha,jf[1]=Ea,t_=null}function zl(e,t){return(t-=e)<0?t+360:t}function JBe(e,t){return e[0]-t[0]}function qJ(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function e3e(e){var t,r,i,n,s,c,h;if(Gl=Ea=-(ha=nl=1/0),kp=[],mc(e,Vf),r=kp.length){for(kp.sort(JBe),t=1,i=kp[0],s=[i];t<r;++t)n=kp[t],qJ(i,n[0])||qJ(i,n[1])?(zl(i[0],n[1])>zl(i[0],i[1])&&(i[1]=n[1]),zl(n[0],i[1])>zl(i[0],i[1])&&(i[0]=n[0])):s.push(i=n);for(c=-1/0,r=s.length-1,t=0,i=s[r];t<=r;i=n,++t)n=s[t],(h=zl(i[1],n[0]))>c&&(c=h,ha=n[0],Ea=i[1])}return kp=jf=null,ha===1/0||nl===1/0?[[NaN,NaN],[NaN,NaN]]:[[ha,nl],[Ea,Gl]]}var XS,IO,DO,OO,kO,PO,RO,NO,S3,C3,A3,KJ,ZJ,Bs,Fs,Us,gc={sphere:ca,point:w3,lineStart:QJ,lineEnd:JJ,polygonStart:function(){gc.lineStart=n3e,gc.lineEnd=i3e},polygonEnd:function(){gc.lineStart=QJ,gc.lineEnd=JJ}};function w3(e,t){e*=Ur,t*=Ur;var r=Or(t);qS(r*Or(e),r*Tr(e),Tr(t))}function qS(e,t,r){++XS,DO+=(e-DO)/XS,OO+=(t-OO)/XS,kO+=(r-kO)/XS}function QJ(){gc.point=t3e}function t3e(e,t){e*=Ur,t*=Ur;var r=Or(t);Bs=r*Or(e),Fs=r*Tr(e),Us=Tr(t),gc.point=r3e,qS(Bs,Fs,Us)}function r3e(e,t){e*=Ur,t*=Ur;var r=Or(t),i=r*Or(e),n=r*Tr(e),s=Tr(t),c=Ms(Eo((c=Fs*s-Us*n)*c+(c=Us*i-Bs*s)*c+(c=Bs*n-Fs*i)*c),Bs*i+Fs*n+Us*s);IO+=c,PO+=c*(Bs+(Bs=i)),RO+=c*(Fs+(Fs=n)),NO+=c*(Us+(Us=s)),qS(Bs,Fs,Us)}function JJ(){gc.point=w3}function n3e(){gc.point=a3e}function i3e(){eee(KJ,ZJ),gc.point=w3}function a3e(e,t){KJ=e,ZJ=t,e*=Ur,t*=Ur,gc.point=eee;var r=Or(t);Bs=r*Or(e),Fs=r*Tr(e),Us=Tr(t),qS(Bs,Fs,Us)}function eee(e,t){e*=Ur,t*=Ur;var r=Or(t),i=r*Or(e),n=r*Tr(e),s=Tr(t),c=Fs*s-Us*n,h=Us*i-Bs*s,p=Bs*n-Fs*i,m=p3(c,h,p),d=Ls(m),E=m&&-d/m;S3.add(E*c),C3.add(E*h),A3.add(E*p),IO+=d,PO+=d*(Bs+(Bs=i)),RO+=d*(Fs+(Fs=n)),NO+=d*(Us+(Us=s)),qS(Bs,Fs,Us)}function o3e(e){XS=IO=DO=OO=kO=PO=RO=NO=0,S3=new ua,C3=new ua,A3=new ua,mc(e,gc);var t=+S3,r=+C3,i=+A3,n=p3(t,r,i);return n<WS&&(t=PO,r=RO,i=NO,IO<Br&&(t=DO,r=OO,i=kO),n=p3(t,r,i),n<WS)?[NaN,NaN]:[Ms(r,t)*ki,Ls(i/n)*ki]}function r_(e){return function(){return e}}function x3(e,t){function r(i,n){return i=e(i,n),t(i[0],i[1])}return e.invert&&t.invert&&(r.invert=function(i,n){return i=t.invert(i,n),i&&e.invert(i[0],i[1])}),r}function I3(e,t){return[Gn(e)>bn?e+Math.round(-e/Ns)*Ns:e,t]}I3.invert=I3;function D3(e,t,r){return(e%=Ns)?t||r?x3(ree(e),nee(t,r)):ree(e):t||r?nee(t,r):I3}function tee(e){return function(t,r){return t+=e,[t>bn?t-Ns:t<-bn?t+Ns:t,r]}}function ree(e){var t=tee(e);return t.invert=tee(-e),t}function nee(e,t){var r=Or(e),i=Tr(e),n=Or(t),s=Tr(t);function c(h,p){var m=Or(p),d=Or(h)*m,E=Tr(h)*m,_=Tr(p),T=_*r+d*i;return[Ms(E*n-T*s,d*r-_*i),Ls(T*n+E*s)]}return c.invert=function(h,p){var m=Or(p),d=Or(h)*m,E=Tr(h)*m,_=Tr(p),T=_*n-E*s;return[Ms(E*n+_*s,d*r+T*i),Ls(T*r-d*i)]},c}function iee(e){e=D3(e[0]*Ur,e[1]*Ur,e.length>2?e[2]*Ur:0);function t(r){return r=e(r[0]*Ur,r[1]*Ur),r[0]*=ki,r[1]*=ki,r}return t.invert=function(r){return r=e.invert(r[0]*Ur,r[1]*Ur),r[0]*=ki,r[1]*=ki,r},t}function aee(e,t,r,i,n,s){if(r){var c=Or(t),h=Tr(t),p=i*r;n==null?(n=t+i*Ns,s=t-p/2):(n=oee(c,n),s=oee(c,s),(i>0?n<s:n>s)&&(n+=i*Ns));for(var m,d=n;i>0?d>s:d<s;d-=p)m=CO([c,-h*Or(d),-h*Tr(d)]),e.point(m[0],m[1])}}function oee(e,t){t=Jg(t),t[0]-=e,xO(t);var r=MJ(-t[1]);return((-t[2]<0?-r:r)+Ns-Br)%Ns}function s3e(){var e=r_([0,0]),t=r_(90),r=r_(6),i,n,s={point:c};function c(p,m){i.push(p=n(p,m)),p[0]*=ki,p[1]*=ki}function h(){var p=e.apply(this,arguments),m=t.apply(this,arguments)*Ur,d=r.apply(this,arguments)*Ur;return i=[],n=D3(-p[0]*Ur,-p[1]*Ur,0).invert,aee(s,m,d,1),p={type:"Polygon",coordinates:[i]},i=n=null,p}return h.center=function(p){return arguments.length?(e=typeof p=="function"?p:r_([+p[0],+p[1]]),h):e},h.radius=function(p){return arguments.length?(t=typeof p=="function"?p:r_(+p),h):t},h.precision=function(p){return arguments.length?(r=typeof p=="function"?p:r_(+p),h):r},h}function see(){var e=[],t;return{point:function(r,i,n){t.push([r,i,n])},lineStart:function(){e.push(t=[])},lineEnd:ca,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function MO(e,t){return Gn(e[0]-t[0])<Br&&Gn(e[1]-t[1])<Br}function LO(e,t,r,i){this.x=e,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function lee(e,t,r,i,n){var s=[],c=[],h,p;if(e.forEach(function(C){if(!((A=C.length-1)<=0)){var A,D=C[0],O=C[A],B;if(MO(D,O)){if(!D[2]&&!O[2]){for(n.lineStart(),h=0;h<A;++h)n.point((D=C[h])[0],D[1]);n.lineEnd();return}O[0]+=2*Br}s.push(B=new LO(D,C,null,!0)),c.push(B.o=new LO(D,null,B,!1)),s.push(B=new LO(O,C,null,!1)),c.push(B.o=new LO(O,null,B,!0))}}),!!s.length){for(c.sort(t),uee(s),uee(c),h=0,p=c.length;h<p;++h)c[h].e=r=!r;for(var m=s[0],d,E;;){for(var _=m,T=!0;_.v;)if((_=_.n)===m)return;d=_.z,n.lineStart();do{if(_.v=_.o.v=!0,_.e){if(T)for(h=0,p=d.length;h<p;++h)n.point((E=d[h])[0],E[1]);else i(_.x,_.n.x,1,n);_=_.n}else{if(T)for(d=_.p.z,h=d.length-1;h>=0;--h)n.point((E=d[h])[0],E[1]);else i(_.x,_.p.x,-1,n);_=_.p}_=_.o,d=_.z,T=!T}while(!_.v);n.lineEnd()}}}function uee(e){if(t=e.length){for(var t,r=0,i=e[0],n;++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function O3(e){return Gn(e[0])<=bn?e[0]:Tu(e[0])*((Gn(e[0])+bn)%Ns-bn)}function cee(e,t){var r=O3(t),i=t[1],n=Tr(i),s=[Tr(r),-Or(r),0],c=0,h=0,p=new ua;n===1?i=_a+Br:n===-1&&(i=-_a-Br);for(var m=0,d=e.length;m<d;++m)if(_=(E=e[m]).length)for(var E,_,T=E[_-1],C=O3(T),A=T[1]/2+yO,D=Tr(A),O=Or(A),B=0;B<_;++B,C=R,D=W,O=Z,T=P){var P=E[B],R=O3(P),$=P[1]/2+yO,W=Tr($),Z=Or($),K=R-C,ae=K>=0?1:-1,le=ae*K,J=le>bn,ge=D*W;if(p.add(Ms(ge*ae*Tr(le),O*Z+ge*Or(le))),c+=J?K+ae*Ns:K,J^C>=r^R>=r){var Ee=e_(Jg(T),Jg(P));xO(Ee);var ne=e_(s,Ee);xO(ne);var ve=(J^K>=0?-1:1)*Ls(ne[2]);(i>ve||i===ve&&(Ee[0]||Ee[1]))&&(h+=J^K>=0?1:-1)}}return(c<-Br||c<Br&&p<-WS)^h&1}function hee(e,t,r,i){return function(n){var s=t(n),c=see(),h=t(c),p=!1,m,d,E,_={point:T,lineStart:A,lineEnd:D,polygonStart:function(){_.point=O,_.lineStart=B,_.lineEnd=P,d=[],m=[]},polygonEnd:function(){_.point=T,_.lineStart=A,_.lineEnd=D,d=OE(d);var R=cee(m,i);d.length?(p||(n.polygonStart(),p=!0),lee(d,u3e,R,r,n)):R&&(p||(n.polygonStart(),p=!0),n.lineStart(),r(null,null,1,n),n.lineEnd()),p&&(n.polygonEnd(),p=!1),d=m=null},sphere:function(){n.polygonStart(),n.lineStart(),r(null,null,1,n),n.lineEnd(),n.polygonEnd()}};function T(R,$){e(R,$)&&n.point(R,$)}function C(R,$){s.point(R,$)}function A(){_.point=C,s.lineStart()}function D(){_.point=T,s.lineEnd()}function O(R,$){E.push([R,$]),h.point(R,$)}function B(){h.lineStart(),E=[]}function P(){O(E[0][0],E[0][1]),h.lineEnd();var R=h.clean(),$=c.result(),W,Z=$.length,K,ae,le;if(E.pop(),m.push(E),E=null,!!Z){if(R&1){if(ae=$[0],(K=ae.length-1)>0){for(p||(n.polygonStart(),p=!0),n.lineStart(),W=0;W<K;++W)n.point((le=ae[W])[0],le[1]);n.lineEnd()}return}Z>1&&R&2&&$.push($.pop().concat($.shift())),d.push($.filter(l3e))}}return _}}function l3e(e){return e.length>1}function u3e(e,t){return((e=e.x)[0]<0?e[1]-_a-Br:_a-e[1])-((t=t.x)[0]<0?t[1]-_a-Br:_a-t[1])}const k3=hee(function(){return!0},c3e,f3e,[-bn,-_a]);function c3e(e){var t=NaN,r=NaN,i=NaN,n;return{lineStart:function(){e.lineStart(),n=1},point:function(s,c){var h=s>0?bn:-bn,p=Gn(s-t);Gn(p-bn)<Br?(e.point(t,r=(r+c)/2>0?_a:-_a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(h,r),e.point(s,r),n=0):i!==h&&p>=bn&&(Gn(t-i)<Br&&(t-=i*Br),Gn(s-h)<Br&&(s-=h*Br),r=h3e(t,r,s,c),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(h,r),n=0),e.point(t=s,r=c),i=h},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-n}}}function h3e(e,t,r,i){var n,s,c=Tr(e-r);return Gn(c)>Br?J1((Tr(t)*(s=Or(i))*Tr(r)-Tr(i)*(n=Or(t))*Tr(e))/(n*s*c)):(t+i)/2}function f3e(e,t,r,i){var n;if(e==null)n=r*_a,i.point(-bn,n),i.point(0,n),i.point(bn,n),i.point(bn,0),i.point(bn,-n),i.point(0,-n),i.point(-bn,-n),i.point(-bn,0),i.point(-bn,n);else if(Gn(e[0]-t[0])>Br){var s=e[0]<t[0]?bn:-bn;n=r*s/2,i.point(-s,n),i.point(0,n),i.point(s,n)}else i.point(t[0],t[1])}function fee(e){var t=Or(e),r=6*Ur,i=t>0,n=Gn(t)>Br;function s(d,E,_,T){aee(T,e,r,_,d,E)}function c(d,E){return Or(d)*Or(E)>t}function h(d){var E,_,T,C,A;return{lineStart:function(){C=T=!1,A=1},point:function(D,O){var B=[D,O],P,R=c(D,O),$=i?R?0:m(D,O):R?m(D+(D<0?bn:-bn),O):0;if(!E&&(C=T=R)&&d.lineStart(),R!==T&&(P=p(E,B),(!P||MO(E,P)||MO(B,P))&&(B[2]=1)),R!==T)A=0,R?(d.lineStart(),P=p(B,E),d.point(P[0],P[1])):(P=p(E,B),d.point(P[0],P[1],2),d.lineEnd()),E=P;else if(n&&E&&i^R){var W;!($&_)&&(W=p(B,E,!0))&&(A=0,i?(d.lineStart(),d.point(W[0][0],W[0][1]),d.point(W[1][0],W[1][1]),d.lineEnd()):(d.point(W[1][0],W[1][1]),d.lineEnd(),d.lineStart(),d.point(W[0][0],W[0][1],3)))}R&&(!E||!MO(E,B))&&d.point(B[0],B[1]),E=B,T=R,_=$},lineEnd:function(){T&&d.lineEnd(),E=null},clean:function(){return A|(C&&T)<<1}}}function p(d,E,_){var T=Jg(d),C=Jg(E),A=[1,0,0],D=e_(T,C),O=AO(D,D),B=D[0],P=O-B*B;if(!P)return!_&&d;var R=t*O/P,$=-t*B/P,W=e_(A,D),Z=wO(A,R),K=wO(D,$);T3(Z,K);var ae=W,le=AO(Z,ae),J=AO(ae,ae),ge=le*le-J*(AO(Z,Z)-1);if(!(ge<0)){var Ee=Eo(ge),ne=wO(ae,(-le-Ee)/J);if(T3(ne,Z),ne=CO(ne),!_)return ne;var ve=d[0],Me=E[0],je=d[1],Qe=E[1],tt;Me<ve&&(tt=ve,ve=Me,Me=tt);var st=Me-ve,Ct=Gn(st-bn)<Br,Be=Ct||st<Br;if(!Ct&&Qe<je&&(tt=je,je=Qe,Qe=tt),Be?Ct?je+Qe>0^ne[1]<(Gn(ne[0]-ve)<Br?je:Qe):je<=ne[1]&&ne[1]<=Qe:st>bn^(ve<=ne[0]&&ne[0]<=Me)){var Ae=wO(ae,(-le+Ee)/J);return T3(Ae,Z),[ne,CO(Ae)]}}}function m(d,E){var _=i?e:bn-e,T=0;return d<-_?T|=1:d>_&&(T|=2),E<-_?T|=4:E>_&&(T|=8),T}return hee(c,h,s,i?[0,-e]:[-bn,e-bn])}function d3e(e,t,r,i,n,s){var c=e[0],h=e[1],p=t[0],m=t[1],d=0,E=1,_=p-c,T=m-h,C;if(C=r-c,!(!_&&C>0)){if(C/=_,_<0){if(C<d)return;C<E&&(E=C)}else if(_>0){if(C>E)return;C>d&&(d=C)}if(C=n-c,!(!_&&C<0)){if(C/=_,_<0){if(C>E)return;C>d&&(d=C)}else if(_>0){if(C<d)return;C<E&&(E=C)}if(C=i-h,!(!T&&C>0)){if(C/=T,T<0){if(C<d)return;C<E&&(E=C)}else if(T>0){if(C>E)return;C>d&&(d=C)}if(C=s-h,!(!T&&C<0)){if(C/=T,T<0){if(C>E)return;C>d&&(d=C)}else if(T>0){if(C<d)return;C<E&&(E=C)}return d>0&&(e[0]=c+d*_,e[1]=h+d*T),E<1&&(t[0]=c+E*_,t[1]=h+E*T),!0}}}}}var KS=1e9,BO=-KS;function FO(e,t,r,i){function n(m,d){return e<=m&&m<=r&&t<=d&&d<=i}function s(m,d,E,_){var T=0,C=0;if(m==null||(T=c(m,E))!==(C=c(d,E))||p(m,d)<0^E>0)do _.point(T===0||T===3?e:r,T>1?i:t);while((T=(T+E+4)%4)!==C);else _.point(d[0],d[1])}function c(m,d){return Gn(m[0]-e)<Br?d>0?0:3:Gn(m[0]-r)<Br?d>0?2:1:Gn(m[1]-t)<Br?d>0?1:0:d>0?3:2}function h(m,d){return p(m.x,d.x)}function p(m,d){var E=c(m,1),_=c(d,1);return E!==_?E-_:E===0?d[1]-m[1]:E===1?m[0]-d[0]:E===2?m[1]-d[1]:d[0]-m[0]}return function(m){var d=m,E=see(),_,T,C,A,D,O,B,P,R,$,W,Z={point:K,lineStart:ge,lineEnd:Ee,polygonStart:le,polygonEnd:J};function K(ve,Me){n(ve,Me)&&d.point(ve,Me)}function ae(){for(var ve=0,Me=0,je=T.length;Me<je;++Me)for(var Qe=T[Me],tt=1,st=Qe.length,Ct=Qe[0],Be,Ae,Ne=Ct[0],Ue=Ct[1];tt<st;++tt)Be=Ne,Ae=Ue,Ct=Qe[tt],Ne=Ct[0],Ue=Ct[1],Ae<=i?Ue>i&&(Ne-Be)*(i-Ae)>(Ue-Ae)*(e-Be)&&++ve:Ue<=i&&(Ne-Be)*(i-Ae)<(Ue-Ae)*(e-Be)&&--ve;return ve}function le(){d=E,_=[],T=[],W=!0}function J(){var ve=ae(),Me=W&&ve,je=(_=OE(_)).length;(Me||je)&&(m.polygonStart(),Me&&(m.lineStart(),s(null,null,1,m),m.lineEnd()),je&&lee(_,h,ve,s,m),m.polygonEnd()),d=m,_=T=C=null}function ge(){Z.point=ne,T&&T.push(C=[]),$=!0,R=!1,B=P=NaN}function Ee(){_&&(ne(A,D),O&&R&&E.rejoin(),_.push(E.result())),Z.point=K,R&&d.lineEnd()}function ne(ve,Me){var je=n(ve,Me);if(T&&C.push([ve,Me]),$)A=ve,D=Me,O=je,$=!1,je&&(d.lineStart(),d.point(ve,Me));else if(je&&R)d.point(ve,Me);else{var Qe=[B=Math.max(BO,Math.min(KS,B)),P=Math.max(BO,Math.min(KS,P))],tt=[ve=Math.max(BO,Math.min(KS,ve)),Me=Math.max(BO,Math.min(KS,Me))];d3e(Qe,tt,e,t,r,i)?(R||(d.lineStart(),d.point(Qe[0],Qe[1])),d.point(tt[0],tt[1]),je||d.lineEnd(),W=!1):je&&(d.lineStart(),d.point(ve,Me),W=!1)}B=ve,P=Me,R=je}return Z}}function p3e(){var e=0,t=0,r=960,i=500,n,s,c;return c={stream:function(h){return n&&s===h?n:n=FO(e,t,r,i)(s=h)},extent:function(h){return arguments.length?(e=+h[0][0],t=+h[0][1],r=+h[1][0],i=+h[1][1],n=s=null,c):[[e,t],[r,i]]}}}var P3,R3,UO,HO,n_={sphere:ca,point:ca,lineStart:m3e,lineEnd:ca,polygonStart:ca,polygonEnd:ca};function m3e(){n_.point=v3e,n_.lineEnd=g3e}function g3e(){n_.point=n_.lineEnd=ca}function v3e(e,t){e*=Ur,t*=Ur,R3=e,UO=Tr(t),HO=Or(t),n_.point=y3e}function y3e(e,t){e*=Ur,t*=Ur;var r=Tr(t),i=Or(t),n=Gn(e-R3),s=Or(n),c=Tr(n),h=i*c,p=HO*r-UO*i*s,m=UO*r+HO*i*s;P3.add(Ms(Eo(h*h+p*p),m)),R3=e,UO=r,HO=i}function dee(e){return P3=new ua,mc(e,n_),+P3}var N3=[null,null],_3e={type:"LineString",coordinates:N3};function $O(e,t){return N3[0]=e,N3[1]=t,dee(_3e)}var pee={Feature:function(e,t){return GO(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,i=-1,n=r.length;++i<n;)if(GO(r[i].geometry,t))return!0;return!1}},mee={Sphere:function(){return!0},Point:function(e,t){return gee(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,i=-1,n=r.length;++i<n;)if(gee(r[i],t))return!0;return!1},LineString:function(e,t){return vee(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,i=-1,n=r.length;++i<n;)if(vee(r[i],t))return!0;return!1},Polygon:function(e,t){return yee(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,i=-1,n=r.length;++i<n;)if(yee(r[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,i=-1,n=r.length;++i<n;)if(GO(r[i],t))return!0;return!1}};function GO(e,t){return e&&mee.hasOwnProperty(e.type)?mee[e.type](e,t):!1}function gee(e,t){return $O(e,t)===0}function vee(e,t){for(var r,i,n,s=0,c=e.length;s<c;s++){if(i=$O(e[s],t),i===0||s>0&&(n=$O(e[s],e[s-1]),n>0&&r<=n&&i<=n&&(r+i-n)*(1-Math.pow((r-i)/n,2))<WS*n))return!0;r=i}return!1}function yee(e,t){return!!cee(e.map(E3e),_ee(t))}function E3e(e){return e=e.map(_ee),e.pop(),e}function _ee(e){return[e[0]*Ur,e[1]*Ur]}function T3e(e,t){return(e&&pee.hasOwnProperty(e.type)?pee[e.type]:GO)(e,t)}function Eee(e,t,r){var i=xa(e,t-Br,r).concat(t);return function(n){return i.map(function(s){return[n,s]})}}function Tee(e,t,r){var i=xa(e,t-Br,r).concat(t);return function(n){return i.map(function(s){return[s,n]})}}function bee(){var e,t,r,i,n,s,c,h,p=10,m=p,d=90,E=360,_,T,C,A,D=2.5;function O(){return{type:"MultiLineString",coordinates:B()}}function B(){return xa(_O(i/d)*d,r,d).map(C).concat(xa(_O(h/E)*E,c,E).map(A)).concat(xa(_O(t/p)*p,e,p).filter(function(P){return Gn(P%d)>Br}).map(_)).concat(xa(_O(s/m)*m,n,m).filter(function(P){return Gn(P%E)>Br}).map(T))}return O.lines=function(){return B().map(function(P){return{type:"LineString",coordinates:P}})},O.outline=function(){return{type:"Polygon",coordinates:[C(i).concat(A(c).slice(1),C(r).reverse().slice(1),A(h).reverse().slice(1))]}},O.extent=function(P){return arguments.length?O.extentMajor(P).extentMinor(P):O.extentMinor()},O.extentMajor=function(P){return arguments.length?(i=+P[0][0],r=+P[1][0],h=+P[0][1],c=+P[1][1],i>r&&(P=i,i=r,r=P),h>c&&(P=h,h=c,c=P),O.precision(D)):[[i,h],[r,c]]},O.extentMinor=function(P){return arguments.length?(t=+P[0][0],e=+P[1][0],s=+P[0][1],n=+P[1][1],t>e&&(P=t,t=e,e=P),s>n&&(P=s,s=n,n=P),O.precision(D)):[[t,s],[e,n]]},O.step=function(P){return arguments.length?O.stepMajor(P).stepMinor(P):O.stepMinor()},O.stepMajor=function(P){return arguments.length?(d=+P[0],E=+P[1],O):[d,E]},O.stepMinor=function(P){return arguments.length?(p=+P[0],m=+P[1],O):[p,m]},O.precision=function(P){return arguments.length?(D=+P,_=Eee(s,n,90),T=Tee(t,e,D),C=Eee(h,c,90),A=Tee(i,r,D),O):D},O.extentMajor([[-180,-90+Br],[180,90-Br]]).extentMinor([[-180,-80-Br],[180,80+Br]])}function b3e(){return bee()()}function S3e(e,t){var r=e[0]*Ur,i=e[1]*Ur,n=t[0]*Ur,s=t[1]*Ur,c=Or(i),h=Tr(i),p=Or(s),m=Tr(s),d=c*Or(r),E=c*Tr(r),_=p*Or(n),T=p*Tr(n),C=2*Ls(Eo(LJ(s-i)+c*p*LJ(n-r))),A=Tr(C),D=C?function(O){var B=Tr(O*=C)/A,P=Tr(C-O)/A,R=P*d+B*_,$=P*E+B*T,W=P*h+B*m;return[Ms($,R)*ki,Ms(W,Eo(R*R+$*$))*ki]}:function(){return[r*ki,i*ki]};return D.distance=C,D}const ZS=e=>e;var M3=new ua,L3=new ua,See,Cee,B3,F3,Pp={point:ca,lineStart:ca,lineEnd:ca,polygonStart:function(){Pp.lineStart=C3e,Pp.lineEnd=w3e},polygonEnd:function(){Pp.lineStart=Pp.lineEnd=Pp.point=ca,M3.add(Gn(L3)),L3=new ua},result:function(){var e=M3/2;return M3=new ua,e}};function C3e(){Pp.point=A3e}function A3e(e,t){Pp.point=Aee,See=B3=e,Cee=F3=t}function Aee(e,t){L3.add(F3*e-B3*t),B3=e,F3=t}function w3e(){Aee(See,Cee)}const wee=Pp;var i_=1/0,zO=i_,QS=-i_,jO=QS,x3e={point:I3e,lineStart:ca,lineEnd:ca,polygonStart:ca,polygonEnd:ca,result:function(){var e=[[i_,zO],[QS,jO]];return QS=jO=-(zO=i_=1/0),e}};function I3e(e,t){e<i_&&(i_=e),e>QS&&(QS=e),t<zO&&(zO=t),t>jO&&(jO=t)}const VO=x3e;var U3=0,H3=0,JS=0,WO=0,YO=0,a_=0,$3=0,G3=0,eC=0,xee,Iee,Lh,Bh,vc={point:tv,lineStart:Dee,lineEnd:Oee,polygonStart:function(){vc.lineStart=k3e,vc.lineEnd=P3e},polygonEnd:function(){vc.point=tv,vc.lineStart=Dee,vc.lineEnd=Oee},result:function(){var e=eC?[$3/eC,G3/eC]:a_?[WO/a_,YO/a_]:JS?[U3/JS,H3/JS]:[NaN,NaN];return U3=H3=JS=WO=YO=a_=$3=G3=eC=0,e}};function tv(e,t){U3+=e,H3+=t,++JS}function Dee(){vc.point=D3e}function D3e(e,t){vc.point=O3e,tv(Lh=e,Bh=t)}function O3e(e,t){var r=e-Lh,i=t-Bh,n=Eo(r*r+i*i);WO+=n*(Lh+e)/2,YO+=n*(Bh+t)/2,a_+=n,tv(Lh=e,Bh=t)}function Oee(){vc.point=tv}function k3e(){vc.point=R3e}function P3e(){kee(xee,Iee)}function R3e(e,t){vc.point=kee,tv(xee=Lh=e,Iee=Bh=t)}function kee(e,t){var r=e-Lh,i=t-Bh,n=Eo(r*r+i*i);WO+=n*(Lh+e)/2,YO+=n*(Bh+t)/2,a_+=n,n=Bh*e-Lh*t,$3+=n*(Lh+e),G3+=n*(Bh+t),eC+=n*3,tv(Lh=e,Bh=t)}const Pee=vc;function Ree(e){this._context=e}Ree.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ns);break}}},result:ca};var z3=new ua,j3,Nee,Mee,tC,rC,XO={point:ca,lineStart:function(){XO.point=N3e},lineEnd:function(){j3&&Lee(Nee,Mee),XO.point=ca},polygonStart:function(){j3=!0},polygonEnd:function(){j3=null},result:function(){var e=+z3;return z3=new ua,e}};function N3e(e,t){XO.point=Lee,Nee=tC=e,Mee=rC=t}function Lee(e,t){tC-=e,rC-=t,z3.add(Eo(tC*tC+rC*rC)),tC=e,rC=t}const Bee=XO;function Fee(){this._string=[]}Fee.prototype={_radius:4.5,_circle:Uee(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=Uee(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function Uee(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function M3e(e,t){var r=4.5,i,n;function s(c){return c&&(typeof r=="function"&&n.pointRadius(+r.apply(this,arguments)),mc(c,i(n))),n.result()}return s.area=function(c){return mc(c,i(wee)),wee.result()},s.measure=function(c){return mc(c,i(Bee)),Bee.result()},s.bounds=function(c){return mc(c,i(VO)),VO.result()},s.centroid=function(c){return mc(c,i(Pee)),Pee.result()},s.projection=function(c){return arguments.length?(i=c==null?(e=null,ZS):(e=c).stream,s):e},s.context=function(c){return arguments.length?(n=c==null?(t=null,new Fee):new Ree(t=c),typeof r!="function"&&n.pointRadius(r),s):t},s.pointRadius=function(c){return arguments.length?(r=typeof c=="function"?c:(n.pointRadius(+c),+c),s):r},s.projection(e).context(t)}function L3e(e){return{stream:nC(e)}}function nC(e){return function(t){var r=new V3;for(var i in e)r[i]=e[i];return r.stream=t,r}}function V3(){}V3.prototype={constructor:V3,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function W3(e,t,r){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),mc(r,e.stream(VO)),t(VO.result()),i!=null&&e.clipExtent(i),e}function qO(e,t,r){return W3(e,function(i){var n=t[1][0]-t[0][0],s=t[1][1]-t[0][1],c=Math.min(n/(i[1][0]-i[0][0]),s/(i[1][1]-i[0][1])),h=+t[0][0]+(n-c*(i[1][0]+i[0][0]))/2,p=+t[0][1]+(s-c*(i[1][1]+i[0][1]))/2;e.scale(150*c).translate([h,p])},r)}function Y3(e,t,r){return qO(e,[[0,0],t],r)}function X3(e,t,r){return W3(e,function(i){var n=+t,s=n/(i[1][0]-i[0][0]),c=(n-s*(i[1][0]+i[0][0]))/2,h=-s*i[0][1];e.scale(150*s).translate([c,h])},r)}function q3(e,t,r){return W3(e,function(i){var n=+t,s=n/(i[1][1]-i[0][1]),c=-s*i[0][0],h=(n-s*(i[1][1]+i[0][1]))/2;e.scale(150*s).translate([c,h])},r)}var Hee=16,B3e=Or(30*Ur);function $ee(e,t){return+t?U3e(e,t):F3e(e)}function F3e(e){return nC({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function U3e(e,t){function r(i,n,s,c,h,p,m,d,E,_,T,C,A,D){var O=m-i,B=d-n,P=O*O+B*B;if(P>4*t&&A--){var R=c+_,$=h+T,W=p+C,Z=Eo(R*R+$*$+W*W),K=Ls(W/=Z),ae=Gn(Gn(W)-1)<Br||Gn(s-E)<Br?(s+E)/2:Ms($,R),le=e(ae,K),J=le[0],ge=le[1],Ee=J-i,ne=ge-n,ve=B*Ee-O*ne;(ve*ve/P>t||Gn((O*Ee+B*ne)/P-.5)>.3||c*_+h*T+p*C<B3e)&&(r(i,n,s,c,h,p,J,ge,ae,R/=Z,$/=Z,W,A,D),D.point(J,ge),r(J,ge,ae,R,$,W,m,d,E,_,T,C,A,D))}}return function(i){var n,s,c,h,p,m,d,E,_,T,C,A,D={point:O,lineStart:B,lineEnd:R,polygonStart:function(){i.polygonStart(),D.lineStart=$},polygonEnd:function(){i.polygonEnd(),D.lineStart=B}};function O(K,ae){K=e(K,ae),i.point(K[0],K[1])}function B(){E=NaN,D.point=P,i.lineStart()}function P(K,ae){var le=Jg([K,ae]),J=e(K,ae);r(E,_,d,T,C,A,E=J[0],_=J[1],d=K,T=le[0],C=le[1],A=le[2],Hee,i),i.point(E,_)}function R(){D.point=O,i.lineEnd()}function $(){B(),D.point=W,D.lineEnd=Z}function W(K,ae){P(n=K,ae),s=E,c=_,h=T,p=C,m=A,D.point=P}function Z(){r(E,_,d,T,C,A,s,c,n,h,p,m,Hee,i),D.lineEnd=R,R()}return D}}var H3e=nC({point:function(e,t){this.stream.point(e*Ur,t*Ur)}});function $3e(e){return nC({point:function(t,r){var i=e(t,r);return this.stream.point(i[0],i[1])}})}function G3e(e,t,r,i,n){function s(c,h){return c*=i,h*=n,[t+e*c,r-e*h]}return s.invert=function(c,h){return[(c-t)/e*i,(r-h)/e*n]},s}function Gee(e,t,r,i,n,s){if(!s)return G3e(e,t,r,i,n);var c=Or(s),h=Tr(s),p=c*e,m=h*e,d=c/e,E=h/e,_=(h*r-c*t)/e,T=(h*t+c*r)/e;function C(A,D){return A*=i,D*=n,[p*A-m*D+t,r-m*A-p*D]}return C.invert=function(A,D){return[i*(d*A-E*D+_),n*(T-E*A-d*D)]},C}function Fh(e){return K3(function(){return e})()}function K3(e){var t,r=150,i=480,n=250,s=0,c=0,h=0,p=0,m=0,d,E=0,_=1,T=1,C=null,A=k3,D=null,O,B,P,R=ZS,$=.5,W,Z,K,ae,le;function J(ve){return K(ve[0]*Ur,ve[1]*Ur)}function ge(ve){return ve=K.invert(ve[0],ve[1]),ve&&[ve[0]*ki,ve[1]*ki]}J.stream=function(ve){return ae&&le===ve?ae:ae=H3e($3e(d)(A(W(R(le=ve)))))},J.preclip=function(ve){return arguments.length?(A=ve,C=void 0,ne()):A},J.postclip=function(ve){return arguments.length?(R=ve,D=O=B=P=null,ne()):R},J.clipAngle=function(ve){return arguments.length?(A=+ve?fee(C=ve*Ur):(C=null,k3),ne()):C*ki},J.clipExtent=function(ve){return arguments.length?(R=ve==null?(D=O=B=P=null,ZS):FO(D=+ve[0][0],O=+ve[0][1],B=+ve[1][0],P=+ve[1][1]),ne()):D==null?null:[[D,O],[B,P]]},J.scale=function(ve){return arguments.length?(r=+ve,Ee()):r},J.translate=function(ve){return arguments.length?(i=+ve[0],n=+ve[1],Ee()):[i,n]},J.center=function(ve){return arguments.length?(s=ve[0]%360*Ur,c=ve[1]%360*Ur,Ee()):[s*ki,c*ki]},J.rotate=function(ve){return arguments.length?(h=ve[0]%360*Ur,p=ve[1]%360*Ur,m=ve.length>2?ve[2]%360*Ur:0,Ee()):[h*ki,p*ki,m*ki]},J.angle=function(ve){return arguments.length?(E=ve%360*Ur,Ee()):E*ki},J.reflectX=function(ve){return arguments.length?(_=ve?-1:1,Ee()):_<0},J.reflectY=function(ve){return arguments.length?(T=ve?-1:1,Ee()):T<0},J.precision=function(ve){return arguments.length?(W=$ee(Z,$=ve*ve),ne()):Eo($)},J.fitExtent=function(ve,Me){return qO(J,ve,Me)},J.fitSize=function(ve,Me){return Y3(J,ve,Me)},J.fitWidth=function(ve,Me){return X3(J,ve,Me)},J.fitHeight=function(ve,Me){return q3(J,ve,Me)};function Ee(){var ve=Gee(r,0,0,_,T,E).apply(null,t(s,c)),Me=Gee(r,i-ve[0],n-ve[1],_,T,E);return d=D3(h,p,m),Z=x3(t,Me),K=x3(d,Z),W=$ee(Z,$),ne()}function ne(){return ae=le=null,J}return function(){return t=e.apply(this,arguments),J.invert=t.invert&&ge,Ee()}}function Z3(e){var t=0,r=bn/3,i=K3(e),n=i(t,r);return n.parallels=function(s){return arguments.length?i(t=s[0]*Ur,r=s[1]*Ur):[t*ki,r*ki]},n}function z3e(e){var t=Or(e);function r(i,n){return[i*t,Tr(n)/t]}return r.invert=function(i,n){return[i/t,Ls(n*t)]},r}function zee(e,t){var r=Tr(e),i=(r+Tr(t))/2;if(Gn(i)<Br)return z3e(e);var n=1+r*(2*i-r),s=Eo(n)/i;function c(h,p){var m=Eo(n-2*i*Tr(p))/i;return[m*Tr(h*=i),s-m*Or(h)]}return c.invert=function(h,p){var m=s-p,d=Ms(h,Gn(m))*Tu(m);return m*i<0&&(d-=bn*Tu(h)*Tu(m)),[d/i,Ls((n-(h*h+m*m)*i*i)/(2*i))]},c}function KO(){return Z3(zee).scale(155.424).center([0,33.6442])}function jee(){return KO().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function j3e(e){var t=e.length;return{point:function(r,i){for(var n=-1;++n<t;)e[n].point(r,i)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function V3e(){var e,t,r=jee(),i,n=KO().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,c=KO().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h,p,m={point:function(_,T){p=[_,T]}};function d(_){var T=_[0],C=_[1];return p=null,i.point(T,C),p||(s.point(T,C),p)||(h.point(T,C),p)}d.invert=function(_){var T=r.scale(),C=r.translate(),A=(_[0]-C[0])/T,D=(_[1]-C[1])/T;return(D>=.12&&D<.234&&A>=-.425&&A<-.214?n:D>=.166&&D<.234&&A>=-.214&&A<-.115?c:r).invert(_)},d.stream=function(_){return e&&t===_?e:e=j3e([r.stream(t=_),n.stream(_),c.stream(_)])},d.precision=function(_){return arguments.length?(r.precision(_),n.precision(_),c.precision(_),E()):r.precision()},d.scale=function(_){return arguments.length?(r.scale(_),n.scale(_*.35),c.scale(_),d.translate(r.translate())):r.scale()},d.translate=function(_){if(!arguments.length)return r.translate();var T=r.scale(),C=+_[0],A=+_[1];return i=r.translate(_).clipExtent([[C-.455*T,A-.238*T],[C+.455*T,A+.238*T]]).stream(m),s=n.translate([C-.307*T,A+.201*T]).clipExtent([[C-.425*T+Br,A+.12*T+Br],[C-.214*T-Br,A+.234*T-Br]]).stream(m),h=c.translate([C-.205*T,A+.212*T]).clipExtent([[C-.214*T+Br,A+.166*T+Br],[C-.115*T-Br,A+.234*T-Br]]).stream(m),E()},d.fitExtent=function(_,T){return qO(d,_,T)},d.fitSize=function(_,T){return Y3(d,_,T)},d.fitWidth=function(_,T){return X3(d,_,T)},d.fitHeight=function(_,T){return q3(d,_,T)};function E(){return e=t=null,d}return d.scale(1070)}function Vee(e){return function(t,r){var i=Or(t),n=Or(r),s=e(i*n);return s===1/0?[2,0]:[s*n*Tr(t),s*Tr(r)]}}function iC(e){return function(t,r){var i=Eo(t*t+r*r),n=e(i),s=Tr(n),c=Or(n);return[Ms(t*s,i*c),Ls(i&&r*s/i)]}}var Q3=Vee(function(e){return Eo(2/(1+e))});Q3.invert=iC(function(e){return 2*Ls(e/2)});function W3e(){return Fh(Q3).scale(124.75).clipAngle(180-.001)}var J3=Vee(function(e){return(e=MJ(e))&&e/Tr(e)});J3.invert=iC(function(e){return e});function Y3e(){return Fh(J3).scale(79.4188).clipAngle(180-.001)}function aC(e,t){return[e,EO(g3((_a+t)/2))]}aC.invert=function(e,t){return[e,2*J1(NJ(t))-_a]};function X3e(){return Wee(aC).scale(961/Ns)}function Wee(e){var t=Fh(e),r=t.center,i=t.scale,n=t.translate,s=t.clipExtent,c=null,h,p,m;t.scale=function(E){return arguments.length?(i(E),d()):i()},t.translate=function(E){return arguments.length?(n(E),d()):n()},t.center=function(E){return arguments.length?(r(E),d()):r()},t.clipExtent=function(E){return arguments.length?(E==null?c=h=p=m=null:(c=+E[0][0],h=+E[0][1],p=+E[1][0],m=+E[1][1]),d()):c==null?null:[[c,h],[p,m]]};function d(){var E=bn*i(),_=t(iee(t.rotate()).invert([0,0]));return s(c==null?[[_[0]-E,_[1]-E],[_[0]+E,_[1]+E]]:e===aC?[[Math.max(_[0]-E,c),h],[Math.min(_[0]+E,p),m]]:[[c,Math.max(_[1]-E,h)],[p,Math.min(_[1]+E,m)]])}return d()}function ZO(e){return g3((_a+e)/2)}function Yee(e,t){var r=Or(e),i=e===t?Tr(e):EO(r/Or(t))/EO(ZO(t)/ZO(e)),n=r*m3(ZO(e),i)/i;if(!i)return aC;function s(c,h){n>0?h<-_a+Br&&(h=-_a+Br):h>_a-Br&&(h=_a-Br);var p=n/m3(ZO(h),i);return[p*Tr(i*c),n-p*Or(i*c)]}return s.invert=function(c,h){var p=n-h,m=Tu(i)*Eo(c*c+p*p),d=Ms(c,Gn(p))*Tu(p);return p*i<0&&(d-=bn*Tu(c)*Tu(p)),[d/i,2*J1(m3(n/m,1/i))-_a]},s}function q3e(){return Z3(Yee).scale(109.5).parallels([30,30])}function oC(e,t){return[e,t]}oC.invert=oC;function K3e(){return Fh(oC).scale(152.63)}function Xee(e,t){var r=Or(e),i=e===t?Tr(e):(r-Or(t))/(t-e),n=r/i+e;if(Gn(i)<Br)return oC;function s(c,h){var p=n-h,m=i*c;return[p*Tr(m),n-p*Or(m)]}return s.invert=function(c,h){var p=n-h,m=Ms(c,Gn(p))*Tu(p);return p*i<0&&(m-=bn*Tu(c)*Tu(p)),[m/i,n-Tu(i)*Eo(c*c+p*p)]},s}function Z3e(){return Z3(Xee).scale(131.154).center([0,13.9389])}var sC=1.340264,lC=-.081106,uC=893e-6,cC=.003796,QO=Eo(3)/2,Q3e=12;function e6(e,t){var r=Ls(QO*Tr(t)),i=r*r,n=i*i*i;return[e*Or(r)/(QO*(sC+3*lC*i+n*(7*uC+9*cC*i))),r*(sC+lC*i+n*(uC+cC*i))]}e6.invert=function(e,t){for(var r=t,i=r*r,n=i*i*i,s=0,c,h,p;s<Q3e&&(h=r*(sC+lC*i+n*(uC+cC*i))-t,p=sC+3*lC*i+n*(7*uC+9*cC*i),r-=c=h/p,i=r*r,n=i*i*i,!(Gn(c)<WS));++s);return[QO*e*(sC+3*lC*i+n*(7*uC+9*cC*i))/Or(r),Ls(Tr(r)/QO)]};function J3e(){return Fh(e6).scale(177.158)}function t6(e,t){var r=Or(t),i=Or(e)*r;return[r*Tr(e)/i,Tr(t)/i]}t6.invert=iC(J1);function e6e(){return Fh(t6).scale(144.049).clipAngle(60)}function t6e(){var e=1,t=0,r=0,i=1,n=1,s=0,c,h,p=null,m,d,E,_=1,T=1,C=nC({point:function(R,$){var W=P([R,$]);this.stream.point(W[0],W[1])}}),A=ZS,D,O;function B(){return _=e*i,T=e*n,D=O=null,P}function P(R){var $=R[0]*_,W=R[1]*T;if(s){var Z=W*c-$*h;$=$*c+W*h,W=Z}return[$+t,W+r]}return P.invert=function(R){var $=R[0]-t,W=R[1]-r;if(s){var Z=W*c+$*h;$=$*c-W*h,W=Z}return[$/_,W/T]},P.stream=function(R){return D&&O===R?D:D=C(A(O=R))},P.postclip=function(R){return arguments.length?(A=R,p=m=d=E=null,B()):A},P.clipExtent=function(R){return arguments.length?(A=R==null?(p=m=d=E=null,ZS):FO(p=+R[0][0],m=+R[0][1],d=+R[1][0],E=+R[1][1]),B()):p==null?null:[[p,m],[d,E]]},P.scale=function(R){return arguments.length?(e=+R,B()):e},P.translate=function(R){return arguments.length?(t=+R[0],r=+R[1],B()):[t,r]},P.angle=function(R){return arguments.length?(s=R%360*Ur,h=Tr(s),c=Or(s),B()):s*ki},P.reflectX=function(R){return arguments.length?(i=R?-1:1,B()):i<0},P.reflectY=function(R){return arguments.length?(n=R?-1:1,B()):n<0},P.fitExtent=function(R,$){return qO(P,R,$)},P.fitSize=function(R,$){return Y3(P,R,$)},P.fitWidth=function(R,$){return X3(P,R,$)},P.fitHeight=function(R,$){return q3(P,R,$)},P}function r6(e,t){var r=t*t,i=r*r;return[e*(.8707-.131979*r+i*(-.013791+i*(.003971*r-.001529*i))),t*(1.007226+r*(.015085+i*(-.044475+.028874*r-.005916*i)))]}r6.invert=function(e,t){var r=t,i=25,n;do{var s=r*r,c=s*s;r-=n=(r*(1.007226+s*(.015085+c*(-.044475+.028874*s-.005916*c)))-t)/(1.007226+s*(.015085*3+c*(-.044475*7+.028874*9*s-.005916*11*c)))}while(Gn(n)>Br&&--i>0);return[e/(.8707+(s=r*r)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),r]};function r6e(){return Fh(r6).scale(175.295)}function n6(e,t){return[Or(t)*Tr(e),Tr(t)]}n6.invert=iC(Ls);function n6e(){return Fh(n6).scale(249.5).clipAngle(90+Br)}function i6(e,t){var r=Or(t),i=1+Or(e)*r;return[r*Tr(e)/i,Tr(t)/i]}i6.invert=iC(function(e){return 2*J1(e)});function i6e(){return Fh(i6).scale(250).clipAngle(142)}function a6(e,t){return[EO(g3((_a+t)/2)),-e]}a6.invert=function(e,t){return[-t,2*J1(NJ(e))-_a]};function a6e(){var e=Wee(a6),t=e.center,r=e.rotate;return e.center=function(i){return arguments.length?t([-i[1],i[0]]):(i=t(),[i[1],-i[0]])},e.rotate=function(i){return arguments.length?r([i[0],i[1],i.length>2?i[2]+90:90]):(i=r(),[i[0],i[1],i[2]-90])},r([0,0,90]).scale(159.155)}const o6e=Object.freeze(Object.defineProperty({__proto__:null,geoArea:KBe,geoBounds:e3e,geoCentroid:o3e,geoCircle:s3e,geoClipAntimeridian:k3,geoClipCircle:fee,geoClipExtent:p3e,geoClipRectangle:FO,geoContains:T3e,geoDistance:$O,geoGraticule:bee,geoGraticule10:b3e,geoInterpolate:S3e,geoLength:dee,geoPath:M3e,geoAlbers:jee,geoAlbersUsa:V3e,geoAzimuthalEqualArea:W3e,geoAzimuthalEqualAreaRaw:Q3,geoAzimuthalEquidistant:Y3e,geoAzimuthalEquidistantRaw:J3,geoConicConformal:q3e,geoConicConformalRaw:Yee,geoConicEqualArea:KO,geoConicEqualAreaRaw:zee,geoConicEquidistant:Z3e,geoConicEquidistantRaw:Xee,geoEqualEarth:J3e,geoEqualEarthRaw:e6,geoEquirectangular:K3e,geoEquirectangularRaw:oC,geoGnomonic:e6e,geoGnomonicRaw:t6,geoIdentity:t6e,geoProjection:Fh,geoProjectionMutator:K3,geoMercator:X3e,geoMercatorRaw:aC,geoNaturalEarth1:r6e,geoNaturalEarth1Raw:r6,geoOrthographic:n6e,geoOrthographicRaw:n6,geoStereographic:i6e,geoStereographicRaw:i6,geoTransverseMercator:a6e,geoTransverseMercatorRaw:a6,geoRotation:iee,geoStream:mc,geoTransform:L3e},Symbol.toStringTag,{value:"Module"}));var s6e=[].slice,l6e={};function o6(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}o6.prototype=Kee.prototype={constructor:o6,defer:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(this._error!=null)return this;var t=s6e.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),qee(this),this},abort:function(){return this._error==null&&s6(this,new Error("abort")),this},await:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,r){e.apply(null,[t].concat(r))},JO(this),this},awaitAll:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,JO(this),this}};function qee(e){if(!e._start)try{u6e(e)}catch(t){if(e._tasks[e._ended+e._active-1])s6(e,t);else if(!e._data)throw t}}function u6e(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,r=e._tasks[t],i=r.length-1,n=r[i];r[i]=c6e(e,t),--e._waiting,++e._active,r=n.apply(null,r),e._tasks[t]&&(e._tasks[t]=r||l6e)}}function c6e(e,t){return function(r,i){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,e._error==null&&(r!=null?s6(e,r):(e._data[t]=i,e._waiting?qee(e):JO(e))))}}function s6(e,t){var r=e._tasks.length,i;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((i=e._tasks[r])&&(e._tasks[r]=null,i.abort))try{i.abort()}catch{}e._active=NaN,JO(e)}function JO(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function Kee(e){if(e==null)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new o6(e)}const h6e=Object.freeze(Object.defineProperty({__proto__:null,queue:Kee},Symbol.toStringTag,{value:"Module"}));var bu="$";function ek(){}ek.prototype=l6.prototype={constructor:ek,has:function(e){return bu+e in this},get:function(e){return this[bu+e]},set:function(e,t){return this[bu+e]=t,this},remove:function(e){var t=bu+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===bu&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===bu&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===bu&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===bu&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===bu&&++e;return e},empty:function(){for(var e in this)if(e[0]===bu)return!1;return!0},each:function(e){for(var t in this)t[0]===bu&&e(this[t],t.slice(1),this)}};function l6(e,t){var r=new ek;if(e instanceof ek)e.each(function(h,p){r.set(p,h)});else if(Array.isArray(e)){var i=-1,n=e.length,s;if(t==null)for(;++i<n;)r.set(i,e[i]);else for(;++i<n;)r.set(t(s=e[i],i,e),s)}else if(e)for(var c in e)r.set(c,e[c]);return r}function Zee(){}var rv=l6.prototype;Zee.prototype={constructor:Zee,has:rv.has,add:function(e){return e+="",this[bu+e]=e,this},remove:rv.remove,clear:rv.clear,values:rv.keys,size:rv.size,empty:rv.empty,each:rv.each};var f6e={value:function(){}};function Qee(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new tk(r)}function tk(e){this._=e}function d6e(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",n=r.indexOf(".");if(n>=0&&(i=r.slice(n+1),r=r.slice(0,n)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}tk.prototype=Qee.prototype={constructor:tk,on:function(e,t){var r=this._,i=d6e(e+"",r),n,s=-1,c=i.length;if(arguments.length<2){for(;++s<c;)if((n=(e=i[s]).type)&&(n=p6e(r[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<c;)if(n=(e=i[s]).type)r[n]=Jee(r[n],e.name,t);else if(t==null)for(n in r)r[n]=Jee(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new tk(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var r=new Array(n),i=0,n,s;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,n=s.length;i<n;++i)s[i].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,s=i.length;n<s;++n)i[n].value.apply(t,r)}};function p6e(e,t){for(var r=0,i=e.length,n;r<i;++r)if((n=e[r]).name===t)return n.value}function Jee(e,t,r){for(var i=0,n=e.length;i<n;++i)if(e[i].name===t){e[i]=f6e,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}function u6(e,t){var r,i=Qee("beforesend","progress","load","error"),n,s=l6(),c=new XMLHttpRequest,h=null,p=null,m,d,E=0;typeof XDomainRequest<"u"&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=_:c.onreadystatechange=function(T){c.readyState>3&&_(T)};function _(T){var C=c.status,A;if(!C&&g6e(c)||C>=200&&C<300||C===304){if(m)try{A=m.call(r,c)}catch(D){i.call("error",r,D);return}else A=c;i.call("load",r,A)}else i.call("error",r,T)}if(c.onprogress=function(T){i.call("progress",r,T)},r={header:function(T,C){return T=(T+"").toLowerCase(),arguments.length<2?s.get(T):(C==null?s.remove(T):s.set(T,C+""),r)},mimeType:function(T){return arguments.length?(n=T==null?null:T+"",r):n},responseType:function(T){return arguments.length?(d=T,r):d},timeout:function(T){return arguments.length?(E=+T,r):E},user:function(T){return arguments.length<1?h:(h=T==null?null:T+"",r)},password:function(T){return arguments.length<1?p:(p=T==null?null:T+"",r)},response:function(T){return m=T,r},get:function(T,C){return r.send("GET",T,C)},post:function(T,C){return r.send("POST",T,C)},send:function(T,C,A){return c.open(T,e,!0,h,p),n!=null&&!s.has("accept")&&s.set("accept",n+",*/*"),c.setRequestHeader&&s.each(function(D,O){c.setRequestHeader(O,D)}),n!=null&&c.overrideMimeType&&c.overrideMimeType(n),d!=null&&(c.responseType=d),E>0&&(c.timeout=E),A==null&&typeof C=="function"&&(A=C,C=null),A!=null&&A.length===1&&(A=m6e(A)),A!=null&&r.on("error",A).on("load",function(D){A(null,D)}),i.call("beforesend",r,c),c.send(C??null),r},abort:function(){return c.abort(),r},on:function(){var T=i.on.apply(i,arguments);return T===i?r:T}},t!=null){if(typeof t!="function")throw new Error("invalid callback: "+t);return r.get(t)}return r}function m6e(e){return function(t,r){e(t==null?r:null)}}function g6e(e){var t=e.responseType;return t&&t!=="text"?e.response:e.responseText}function rk(e,t){return function(r,i){var n=u6(r).mimeType(e).response(t);if(i!=null){if(typeof i!="function")throw new Error("invalid callback: "+i);return n.get(i)}return n}}const v6e=rk("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),y6e=rk("application/json",function(e){return JSON.parse(e.responseText)}),_6e=rk("text/plain",function(e){return e.responseText}),E6e=rk("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t});var ete={},c6={},h6=34,hC=10,f6=13;function tte(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function T6e(e,t){var r=tte(e);return function(i,n){return t(r(i),n,e)}}function rte(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var n in i)n in t||r.push(t[n]=n)}),r}function il(e,t){var r=e+"",i=r.length;return i<t?new Array(t-i+1).join(0)+r:r}function b6e(e){return e<0?"-"+il(-e,6):e>9999?"+"+il(e,6):il(e,4)}function S6e(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),n=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":b6e(e.getUTCFullYear())+"-"+il(e.getUTCMonth()+1,2)+"-"+il(e.getUTCDate(),2)+(n?"T"+il(t,2)+":"+il(r,2)+":"+il(i,2)+"."+il(n,3)+"Z":i?"T"+il(t,2)+":"+il(r,2)+":"+il(i,2)+"Z":r||t?"T"+il(t,2)+":"+il(r,2)+"Z":"")}function nte(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function i(E,_){var T,C,A=n(E,function(D,O){if(T)return T(D,O-1);C=D,T=_?T6e(D,_):tte(D)});return A.columns=C||[],A}function n(E,_){var T=[],C=E.length,A=0,D=0,O,B=C<=0,P=!1;E.charCodeAt(C-1)===hC&&--C,E.charCodeAt(C-1)===f6&&--C;function R(){if(B)return c6;if(P)return P=!1,ete;var W,Z=A,K;if(E.charCodeAt(Z)===h6){for(;A++<C&&E.charCodeAt(A)!==h6||E.charCodeAt(++A)===h6;);return(W=A)>=C?B=!0:(K=E.charCodeAt(A++))===hC?P=!0:K===f6&&(P=!0,E.charCodeAt(A)===hC&&++A),E.slice(Z+1,W-1).replace(/""/g,'"')}for(;A<C;){if((K=E.charCodeAt(W=A++))===hC)P=!0;else if(K===f6)P=!0,E.charCodeAt(A)===hC&&++A;else if(K!==r)continue;return E.slice(Z,W)}return B=!0,E.slice(Z,C)}for(;(O=R())!==c6;){for(var $=[];O!==ete&&O!==c6;)$.push(O),O=R();_&&($=_($,D++))==null||T.push($)}return T}function s(E,_){return E.map(function(T){return _.map(function(C){return d(T[C])}).join(e)})}function c(E,_){return _==null&&(_=rte(E)),[_.map(d).join(e)].concat(s(E,_)).join(`
`)}function h(E,_){return _==null&&(_=rte(E)),s(E,_).join(`
`)}function p(E){return E.map(m).join(`
`)}function m(E){return E.map(d).join(e)}function d(E){return E==null?"":E instanceof Date?S6e(E):t.test(E+="")?'"'+E.replace(/"/g,'""')+'"':E}return{parse:i,parseRows:n,format:c,formatBody:h,formatRows:p,formatRow:m,formatValue:d}}var C6e=nte(","),A6e=C6e.parse,w6e=nte("	"),x6e=w6e.parse;function ite(e,t){return function(r,i,n){arguments.length<3&&(n=i,i=null);var s=u6(r).mimeType(e);return s.row=function(c){return arguments.length?s.response(I6e(t,i=c)):i},s.row(i),n?s.get(n):s}}function I6e(e,t){return function(r){return e(r.responseText,t)}}const D6e=ite("text/csv",A6e),O6e=ite("text/tab-separated-values",x6e),k6e=Object.freeze(Object.defineProperty({__proto__:null,request:u6,html:v6e,json:y6e,text:_6e,xml:E6e,csv:D6e,tsv:O6e},Symbol.toStringTag,{value:"Module"}));let nk=(function(e){f(r,e);var t=g(r);function r({items:i}){var n;return H(this,r),n=t.call(this),n.state={items:i,isSorting:!1},n}return j(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(n){this.setState({items:n.items})}},{key:"onSortStart",value:function({node:n,index:s,collection:c},h){h.stopImmediatePropagation();const{onSortStart:p}=this.props;this.setState({isSorting:!0}),p&&p(this.ref),this.sortingIndex=s,this.sortStartTop=h.offsetTop,this.sortStartLeft=h.offsetLeft}},{key:"onSortMove",value:function(){}},{key:"onSortEnd",value:function({oldIndex:n,newIndex:s}){const{onSortEnd:c}=this.props,{items:h}=this.state;this.setState({items:Yve(h,n,s),isSorting:!1}),c&&c(this.state.items),this.sortingIndex=null}},{key:"render",value:function(){const n=this.props.component,{items:s,isSorting:c}=this.state,h={isSorting:c,items:s,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return M.default.createElement(n,{...this.props,...h,ref:p=>{this.ref=p}})}}]),r})(M.default.Component);nk.propTypes={axis:z.exports.string,className:z.exports.string,component:z.exports.func,editable:z.exports.bool,handleConfigTrack:z.exports.func,handleResizeTrack:z.exports.func,height:z.exports.number,helperClass:z.exports.string,itemClass:z.exports.string,itemControlAlignLeft:z.exports.bool,itemReactClass:z.exports.func,items:z.exports.array,onAddSeries:z.exports.func,onCloseTrack:z.exports.func,onCloseTrackMenuOpened:z.exports.func,onConfigTrackMenuOpened:z.exports.func,onSortEnd:z.exports.func,onSortStart:z.exports.func,referenceAncestor:z.exports.string,resizeHandles:z.exports.object,useDragHandle:z.exports.bool,width:z.exports.number},nk.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600};const d6={"top-right-handle":"_top-right-handle_cizw2_1","bottom-right-handle":"_bottom-right-handle_cizw2_2","top-left-handle":"_top-left-handle_cizw2_7","bottom-left-handle":"_bottom-left-handle_cizw2_8","top-draggable-handle":"_top-draggable-handle_cizw2_13","bottom-draggable-handle":"_bottom-draggable-handle_cizw2_14","left-draggable-handle":"_left-draggable-handle_cizw2_15","right-draggable-handle":"_right-draggable-handle_cizw2_16","draggable-div":"_draggable-div_cizw2_22","top-draggable-handle-grabber":"_top-draggable-handle-grabber_cizw2_27","bottom-draggable-handle-grabber":"_bottom-draggable-handle-grabber_cizw2_28","left-draggable-handle-grabber":"_left-draggable-handle-grabber_cizw2_43","right-draggable-handle-grabber":"_right-draggable-handle-grabber_cizw2_44"};let ate=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.dragTopRight=Af().on("start",n.dragStart.bind(S(n))).on("drag",n.dragTopRightFunc.bind(S(n))),n.dragTopLeft=Af().on("start",n.dragStart.bind(S(n))).on("drag",n.dragTopLeftFunc.bind(S(n))),n.dragBottomRight=Af().on("start",n.dragStart.bind(S(n))).on("drag",n.dragBottomRightFunc.bind(S(n))),n.dragBottomLeft=Af().on("start",n.dragStart.bind(S(n))).on("drag",n.dragBottomLeftFunc.bind(S(n))),n.dragBottom=Af().on("start",n.dragStart.bind(S(n))).on("drag",n.dragBottomFunc.bind(S(n))),n.dragTop=Af().on("start",n.dragStart.bind(S(n))).on("drag",n.dragTopFunc.bind(S(n))),n.dragLeft=Af().on("start",n.dragStart.bind(S(n))).on("drag",n.dragLeftFunc.bind(S(n))),n.dragRight=Af().on("start",n.dragStart.bind(S(n))).on("drag",n.dragRightFunc.bind(S(n))),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=tn("body").node(),n}return j(r,[{key:"componentDidMount",value:function(){tn(this.bottomHandle).call(this.dragBottom),tn(this.topHandle).call(this.dragTop),tn(this.leftHandle).call(this.dragLeft),tn(this.rightHandle).call(this.dragRight)}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){"width"in n&&this.setState({width:n.width}),"height"in n&&this.setState({height:n.height})}},{key:"dragBottomFunc",value:function(n){const s=Ln(n,this.domBody);let c=this.dragStartHeight+(s[1]-this.dragStartMousePos[1]);c=c>this.minHeight?c:this.minHeight,this.setState({height:c}),n.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragLeftFunc",value:function(n){const s=Ln(n,this.domBody);let c=this.dragStartWidth-(s[0]-this.dragStartMousePos[0]);c=c>this.minWidth?c:this.minWidth;let h=this.dragStartLeft+s[0]-this.dragStartMousePos[0];h=c>this.minWidth?h:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:h,width:c}),n.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopFunc",value:function(n){const s=Ln(n,this.domBody);let c=this.dragStartHeight-(s[1]-this.dragStartMousePos[1]);c=c>this.minHeight?c:this.minHeight;let h=this.dragStartTop+s[1]-this.dragStartMousePos[1];h=c>this.minHeight?h:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:h,height:c}),n.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragRightFunc",value:function(n){const s=Ln(n,this.domBody);let c=this.dragStartWidth+(s[0]-this.dragStartMousePos[0]);c=c>this.minWidth?c:this.minWidth,this.setState({width:c}),n.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomLeftFunc",value:function(n){const s=Ln(n,this.domBody);let c=this.dragStartHeight+(s[1]-this.dragStartMousePos[1]);c=c>this.minHeight?c:this.minHeight;let h=this.dragStartWidth-(s[0]-this.dragStartMousePos[0]);h=h>this.minWidth?h:this.minWidth;let p=this.dragStartLeft+s[0]-this.dragStartMousePos[0];p=h>this.minWidth?p:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:p,width:h,height:c}),n.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomRightFunc",value:function(n){const s=Ln(n,this.domBody);let c=this.dragStartWidth+(s[0]-this.dragStartMousePos[0]);c=c>this.minWidth?c:this.minWidth;let h=this.dragStartHeight+(s[1]-this.dragStartMousePos[1]);h=h>this.minHeight?h:this.minHeight,this.setState({width:c,height:h}),n.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopRightFunc",value:function(n){const s=Ln(n,this.domBody);let c=this.dragStartHeight-(s[1]-this.dragStartMousePos[1]);c=c>this.minHeight?c:this.minHeight;let h=this.dragStartTop+s[1]-this.dragStartMousePos[1];h=c>this.minHeight?h:this.dragStartTop+this.dragStartHeight-this.minHeight;let p=this.dragStartWidth+(s[0]-this.dragStartMousePos[0]);p=p>this.minWidth?p:this.minWidth,this.setState({top:h,width:p,height:c}),n.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopLeftFunc",value:function(n){const s=Ln(n,this.domBody);let c=this.dragStartWidth-(s[0]-this.dragStartMousePos[0]);c=c>this.minWidth?c:this.minWidth;let h=this.dragStartLeft+s[0]-this.dragStartMousePos[0];h=c>this.minWidth?h:this.dragStartLeft+this.dragStartWidth-this.minWidth;let p=this.dragStartHeight-(s[1]-this.dragStartMousePos[1]);p=p>this.minHeight?p:this.minHeight;let m=this.dragStartTop+s[1]-this.dragStartMousePos[1];m=p>this.minHeight?m:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:m,left:h,width:c,height:p}),n.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragStart",value:function(n){this.dragStartMousePos=Ln(n,this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,n.sourceEvent.stopPropagation()}},{key:"sizeChanged",value:function(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}},{key:"rotateClicked",value:function(){this.props.trackRotated(this.state.uid)}},{key:"closeClicked",value:function(){this.props.trackClosed(this.state.uid)}},{key:"render",value:function(){const n=this.props.theme===Oi?"white":"black",s={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},c=24,h=24,p={left:this.state.width/2-c/2,width:c},m={top:this.state.height/2-h/2,height:h},d={bottom:{...p,bottom:1},top:{...p,top:1},left:{...m,left:1},right:{...m,right:1}},E=[...this.props.resizeHandles].map(_=>M.default.createElement("div",{key:_,ref:T=>{this[`${_}Handle`]=T},className:d6[`${_}-draggable-handle`],style:d[_],title:"Resize track"},M.default.createElement("div",{className:d6[`${_}-draggable-handle-grabber`],style:{borderColor:n}})));return M.default.createElement("div",{ref:_=>{this.divContainer=_},className:Kn(this.props.className,d6["draggable-div"]),style:s},E)}}]),r})(M.default.Component);ate.propTypes={className:z.exports.string,height:z.exports.number,left:z.exports.number,opacity:z.exports.number,resizeHandles:z.exports.object,sizeChanged:z.exports.func,top:z.exports.number,trackClosed:z.exports.func,trackRotated:z.exports.func,uid:z.exports.string,width:z.exports.number,theme:z.exports.symbol};const P6e=Bg(ate);let ote=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.state={controlsVisible:!1},n}return j(r,[{key:"shouldComponentUpdate",value:function(){return!this.resizing}},{key:"handleMouseEnter",value:function(){this.setState({controlsVisible:!0})}},{key:"handleMouseLeave",value:function(){this.setState({controlsVisible:!1})}},{key:"handleMouseMove",value:function(){this.setState({controlsVisible:!0})}},{key:"getControls",value:function(){let n=null;return this.moveable?n=MM(()=>M.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:()=>{},style:this.getMoveImgStyle(),width:"10px"},M.default.createElement("use",{xlinkHref:"#move"}))):n=MM(()=>M.default.createElement("div",null)),M.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},M.default.createElement(n,null),M.default.createElement("svg",{ref:s=>{this.imgConfig=s},className:"no-zoom",height:"10px",onClick:()=>{const c=ke.default.findDOMNode(this.imgConfig).getBoundingClientRect();this.props.onConfigTrackMenuOpened(this.props.uid,c)},style:this.getSettingsImgStyle(),width:"10px"},M.default.createElement("use",{xlinkHref:"#cog"})),M.default.createElement("svg",{ref:s=>{this.imgAdd=s},className:"no-zoom",height:"10px",onClick:()=>this.props.onAddSeries(this.props.uid),style:this.getAddImgStyle(),width:"10px"},M.default.createElement("use",{xlinkHref:"#plus"})),M.default.createElement("svg",{ref:s=>{this.imgClose=s},className:"no-zoom",height:"10px",onClick:()=>{const c=ke.default.findDOMNode(this.imgClose).getBoundingClientRect();this.props.onCloseTrackMenuOpened(this.props.uid,c)},style:this.getCloseImgStyle(),width:"10px"},M.default.createElement("use",{xlinkHref:"#cross"})))}}]),r})(M.default.Component);ote.propTypes={configMenuOpen:z.exports.bool,onConfigTrackMenuOpened:z.exports.func,onCloseTrackMenuOpened:z.exports.func,onAddSeries:z.exports.func,uid:z.exports.string};let ik=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.moveable=!0,n}return j(r,[{key:"render",value:function(){return M.default.createElement("div",{ref:n=>{this.el=n},className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:()=>{this.handleMouseLeave()},style:{height:this.props.height,width:this.props.width}},M.default.createElement(P6e,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new Set,sizeChanged:n=>this.props.handleResizeTrack(this.props.uid,n.width,n.height),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}}]),r})(ote);ik.propTypes={className:z.exports.string,uid:z.exports.string,item:z.exports.object,height:z.exports.number,width:z.exports.number};const ak={pointerEvents:"all"};let ste=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"getControls",value:function(n){return M.default.createElement(ND,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:ak,imgStyleClose:ak,imgStyleMove:ak,imgStyleSettings:ak,isMoveable:this.moveable,isVisible:n,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),r})(ik);const R6e=t7(e=>M.default.createElement(ste,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})),lte=l0e(({className:e,items:t,itemClass:r,itemControlAlignLeft:i,sortingIndex:n,useDragHandle:s,sortableHandlers:c,height:h,width:p,onCloseTrack:m,onCloseTrackMenuOpened:d,onConfigTrackMenuOpened:E,onAddSeries:_,handleConfigTrack:T,editable:C,itemReactClass:A,handleResizeTrack:D,resizeHandles:O})=>{const B=t.map((P,R)=>M.default.createElement(A,{key:`sci-${P.uid}`,className:r,controlAlignLeft:i,sortingIndex:n,index:R,uid:P.uid,height:P.height,width:P.width,item:P,useDragHandle:s,onCloseTrack:m,onCloseTrackMenuOpened:d,onConfigTrackMenuOpened:E,onAddSeries:_,handleConfigTrack:T,editable:C,handleResizeTrack:D,resizeHandles:O}));return M.default.createElement("div",{className:e,style:{height:h,width:p,background:"transparent"},...c},B)}),N6e={"horizontal-tiled-plot":"_horizontal-tiled-plot_1bqkg_1"};function ute(e){return e&&e.sourceEvent}let ok=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.brushBehavior=Bx().on("start",n.brushStarted.bind(S(n))).on("brush",n.brushed.bind(S(n))).on("end",n.brushedEnded.bind(S(n))),n}return j(r,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(n,s){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==n.rangeSelection&&this.moveBrush(n.rangeSelection[0]?n.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==s):this.props.rangeSelection!==n.rangeSelection?(this.moveBrush(n.rangeSelection[0]?n.rangeSelection[0]:null,n.rangeSelectionEnd),this.state!==s):!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,Ry(this.brushEl,cc["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(n){const s=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!ute(n)||!this.props.onRangeSelection||s)&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(n.selection))}},{key:"brushStarted",value:function(n){!ute(n)||!n.selection||this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(n){if(!this.props.is1dRangeSelection)return;const s=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,n.selection&&n.sourceEvent&&this.props.onRangeSelection&&!s&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(n.selection)),n.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}},{key:"moveBrush",value:function(n,s=!1){if(!this.brushEl)return;const c=n?[this.props.scale(n[0]),this.props.scale(n[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,s?this.brushEl.transition().call(this.brushBehavior.move,c):this.brushEl.call(this.brushBehavior.move,c)}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){const n=this.props.tracks.map(h=>h.height).reduce(rp,0),s=this.props.tracks.map(h=>Ny(h)).reduce(db,!1),c=this.props.isRangeSelectionActive?cc["track-range-selection-active"]:cc["track-range-selection"];return M.default.createElement("div",{className:Kn("horizontal-tiled-plot",N6e["horizontal-tiled-plot"])},s&&M.default.createElement("svg",{ref:h=>{this.brushEl=tn(h)},className:c,style:{height:n,width:this.props.width},xmlns:"http://www.w3.org/2000/svg"}),M.default.createElement(nk,{className:Kn(hc.list,hc.stylizedList),component:lte,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:n,helperClass:hc.stylizedHelper,itemClass:hc.stylizedItem,itemReactClass:R6e,items:this.props.tracks.map(h=>({configMenuVisible:h.uid===this.props.configTrackMenuId,uid:h.uid||hn.nice(),width:this.props.width,height:h.height,value:h.value})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}}]),r})(M.default.Component);ok.propTypes={configTrackMenuId:z.exports.string,editable:z.exports.bool,handleConfigTrack:z.exports.func,handleResizeTrack:z.exports.func,handleSortEnd:z.exports.func,is1dRangeSelection:z.exports.bool,isRangeSelectionActive:z.exports.bool,onAddSeries:z.exports.func,onCloseTrack:z.exports.func,onCloseTrackMenuOpened:z.exports.func,onConfigTrackMenuOpened:z.exports.func,onRangeSelection:z.exports.func,onRangeSelectionEnd:z.exports.func,onRangeSelectionReset:z.exports.func,onRangeSelectionStart:z.exports.func,rangeSelection:z.exports.array,rangeSelectionEnd:z.exports.bool,referenceAncestor:z.exports.func,resizeHandles:z.exports.object,scale:z.exports.func,tracks:z.exports.array,width:z.exports.number};const sk={pointerEvents:"all"};let cte=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"getControls",value:function(n){return M.default.createElement(ND,{imgStyleAdd:sk,imgStyleClose:sk,imgStyleMove:sk,imgStyleSettings:sk,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:n,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),r})(ik),M6e=(function(e){f(r,e);var t=g(r);function r(i,n){var s;H(this,r),s=t.call(this,i,n);const{registerViewportChanged:c,removeViewportChanged:h}=i,p=hn.nice();return s.uid=p,s.removeViewportChanged=h,s.viewportXDomain=null,s.viewportYDomain=null,c(p,s.viewportChanged.bind(S(s))),s}return j(r,[{key:"viewportChanged",value:function(n,s){const c=n.domain(),h=s.domain();this.viewportXDomain=c,this.viewportYDomain=h,this.draw()}},{key:"draw",value:function(){const n=this.pMain;if(!this.viewportXDomain||!this.viewportYDomain)return;n.clear(),n.lineStyle(1,255,1),n.beginFill(16740363,1);const s=this._xScale(this.viewportXDomain[0]),c=this._yScale(this.viewportYDomain[0]),h=this._xScale(this.viewportXDomain[1])-this._xScale(this.viewportXDomain[0]),p=this._yScale(this.viewportYDomain[1])-this._yScale(this.viewportYDomain[0]);this.pMain.drawRect(s,c,h,p)}},{key:"zoomed",value:function(n,s){this.xScale(n),this.yScale(s),this.draw()}},{key:"setPosition",value:function(n){a(N(r.prototype),"setPosition",this).call(this,n),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.draw()}}]),r})(ks);function hte(e){this.size=0,this.limit=e,this._keymap={}}function L6e(e,t){const r={key:e,value:t};if(this._keymap[e]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size===this.limit)return this.shift();this.size+=1}function B6e(){const e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),e.newer=void 0,e.older=void 0,delete this._keymap[e.key],this.size-=1),e}function F6e(e,t){const r=this._keymap[e];if(r!==void 0)return r===this.tail||(r.newer&&(r===this.head&&(this.head=r.newer),r.newer.older=r.older),r.older&&(r.older.newer=r.newer),r.newer=void 0,r.older=this.tail,this.tail&&(this.tail.newer=r),this.tail=r),t?r:r.value}function U6e(e){return this._keymap[e]}function H6e(e,t){const r=this.get(e,!0);let i;return r?(i=r.value,r.value=t):(i=this.put(e,t),i&&(i=i.value)),i}function $6e(e){const t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):(this.head=void 0,this.tail=void 0),this.size-=1,t.value}function G6e(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}}function z6e(){return Object.keys(this._keymap)}function j6e(e,t,r){let i;if(t===!0?(r=!0,t=void 0):typeof t!="object"&&(t=this),r)for(i=this.tail;i;)e.call(t,i.key,i.value,this),i=i.older;else for(i=this.head;i;)e.call(t,i.key,i.value,this),i=i.newer}function V6e(){const e=[];let t=this.head;for(;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e}function W6e(){let e="",t=this.head;for(;t;)e+=`${String(t.key)}:${t.value}`,t=t.newer,t&&(e+=" < ");return e}Object.assign(hte.prototype,{put:L6e,get:F6e,find:U6e,keys:z6e,set:H6e,shift:B6e,remove:$6e,removeAll:G6e,forEach:j6e,toJSON:V6e,toString:W6e});const p6="1.12.4",m6={button:"_button_1wnjn_1","button-shortcut":"_button-shortcut_1wnjn_35"},Wf=M.default.forwardRef((e,t)=>{var r;return M.default.createElement("button",{ref:t,className:(r=m6[e.styleName])!=null?r:m6.button,disabled:e.disable,onBlur:e.onBlur,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseOut:e.onMouseOut,onMouseUp:e.onMouseUp,type:"button"},e.children,e.shortcut&&M.default.createElement("span",{className:m6["button-shortcut"]},e.shortcut))});Wf.defaultProps={onClick:()=>{},styleName:"",type:"button"},Wf.propTypes={children:z.exports.any,disable:z.exports.bool,onBlur:z.exports.func,onClick:z.exports.func,onMouseDown:z.exports.func,onMouseOut:z.exports.func,onMouseUp:z.exports.func,shortcut:z.exports.string,type:z.exports.string,styleName:z.exports.string};const Y6e={cross:"_cross_2ke8w_1"};function fte(){return M.default.createElement("div",{className:Y6e.cross})}const{Provider:X6e,Consumer:q6e}=M.default.createContext({close:fh,open:fh}),lk=e=>M.default.forwardRef((t,r)=>M.default.createElement(q6e,null,i=>M.default.createElement(e,{ref:r,...t,modal:i}))),o_={"modal-background":"_modal-background_zzhoe_1","modal-hide":"_modal-hide_zzhoe_13","modal-wrap":"_modal-wrap_zzhoe_17","modal-window":"_modal-window_zzhoe_25","modal-window-max-height":"_modal-window-max-height_zzhoe_38","modal-content":"_modal-content_zzhoe_42"};function g6(e){const t=()=>{e.modal.close(),e.onClose&&e.onClose()};return M.default.createElement("div",{className:Kn(o_["modal-background"],{[o_["modal-hide"]]:e.hide})},M.default.createElement("div",{className:o_["modal-wrap"]},M.default.createElement("div",{className:Kn(o_["modal-window"],{[o_["modal-window-max-height"]]:e.maxHeight})},e.closeButton&&M.default.createElement(Wf,{onClick:t},M.default.createElement(fte,null)),M.default.createElement("div",{className:o_["modal-content"]},e.children))))}g6.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},g6.propTypes={children:z.exports.element.isRequired,closeButton:z.exports.bool,hide:z.exports.bool,maxHeight:z.exports.bool,modal:z.exports.object.isRequired,onClose:z.exports.func};const K6e=lk(g6),v6={"dialog-header":"_dialog-header_wp50s_1","dialog-main-max-height":"_dialog-main-max-height_wp50s_20","dialog-footer":"_dialog-footer_wp50s_31","dialog-footer-max-height":"_dialog-footer-max-height_wp50s_31"};function y6(e){const t=()=>{e.modal.close(),e.onCancel&&e.onCancel()},r=()=>{e.modal.close(),e.onOkay&&e.onOkay()};return M.default.createElement(K6e,{closeButton:!1,hide:e.hide,maxHeight:e.maxHeight},M.default.createElement(M.default.Fragment,null,M.default.createElement("header",{className:v6["dialog-header"]},M.default.createElement("h3",null,e.title),M.default.createElement(Wf,{onClick:t},M.default.createElement(fte,null))),e.maxHeight?M.default.createElement("main",{className:Kn(e.maxHeight&&v6["dialog-main-max-height"])},e.children):M.default.createElement("main",null,e.children),M.default.createElement("footer",{className:v6[e.maxHeight?"dialog-footer-max-height":"dialog-footer"]},e.okayOnly?M.default.createElement("div",null):M.default.createElement(Wf,{onClick:t,shortcut:e.cancelShortcut},e.cancelTitle),M.default.createElement(Wf,{onClick:r,shortcut:e.okayShortcut},e.okayTitle))))}y6.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},y6.propTypes={cancelShortcut:z.exports.string,cancelTitle:z.exports.string,children:z.exports.object,hide:z.exports.bool,maxHeight:z.exports.bool,modal:z.exports.object.isRequired,okayShortcut:z.exports.string,okayTitle:z.exports.string,okayOnly:z.exports.bool,onCancel:z.exports.func.isRequired,onOkay:z.exports.func.isRequired,title:z.exports.string.isRequired};const fC=lk(y6);var Su={},dC={},Z6e=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const dte=Z6e;var Q6e=typeof self=="object"&&self&&self.Object===Object&&self,J6e=dte||Q6e||Function("return this")();const yc=J6e;var eFe=yc.Symbol;const Uh=eFe;var pte=Object.prototype,tFe=pte.hasOwnProperty,rFe=pte.toString,pC=Uh?Uh.toStringTag:void 0;function nFe(e){var t=tFe.call(e,pC),r=e[pC];try{e[pC]=void 0;var i=!0}catch{}var n=rFe.call(e);return i&&(t?e[pC]=r:delete e[pC]),n}var iFe=Object.prototype,aFe=iFe.toString;function oFe(e){return aFe.call(e)}var sFe="[object Null]",lFe="[object Undefined]",mte=Uh?Uh.toStringTag:void 0;function Rp(e){return e==null?e===void 0?lFe:sFe:mte&&mte in Object(e)?nFe(e):oFe(e)}var uFe=Array.isArray;const Hs=uFe;function _c(e){return e!=null&&typeof e=="object"}var cFe="[object String]";function hFe(e){return typeof e=="string"||!Hs(e)&&_c(e)&&Rp(e)==cFe}const fFe=_t(Object.freeze(Object.defineProperty({__proto__:null,default:hFe},Symbol.toStringTag,{value:"Module"})));function dFe(e){return function(t,r,i){for(var n=-1,s=Object(t),c=i(t),h=c.length;h--;){var p=c[++n];if(r(s[p],p,s)===!1)break}return t}}var pFe=dFe();const gte=pFe;function mFe(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var gFe="[object Arguments]";function vte(e){return _c(e)&&Rp(e)==gFe}var yte=Object.prototype,vFe=yte.hasOwnProperty,yFe=yte.propertyIsEnumerable,_Fe=vte((function(){return arguments})())?vte:function(e){return _c(e)&&vFe.call(e,"callee")&&!yFe.call(e,"callee")};const uk=_Fe;function EFe(){return!1}var _te=typeof oe=="object"&&oe&&!oe.nodeType&&oe,Ete=_te&&!0&&l&&!l.nodeType&&l,TFe=Ete&&Ete.exports===_te,Tte=TFe?yc.Buffer:void 0,bFe=Tte?Tte.isBuffer:void 0,SFe=bFe||EFe;const mC=SFe;var CFe=9007199254740991,AFe=/^(?:0|[1-9]\d*)$/;function _6(e,t){var r=typeof e;return t=t??CFe,!!t&&(r=="number"||r!="symbol"&&AFe.test(e))&&e>-1&&e%1==0&&e<t}var wFe=9007199254740991;function E6(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wFe}var xFe="[object Arguments]",IFe="[object Array]",DFe="[object Boolean]",OFe="[object Date]",kFe="[object Error]",PFe="[object Function]",RFe="[object Map]",NFe="[object Number]",MFe="[object Object]",LFe="[object RegExp]",BFe="[object Set]",FFe="[object String]",UFe="[object WeakMap]",HFe="[object ArrayBuffer]",$Fe="[object DataView]",GFe="[object Float32Array]",zFe="[object Float64Array]",jFe="[object Int8Array]",VFe="[object Int16Array]",WFe="[object Int32Array]",YFe="[object Uint8Array]",XFe="[object Uint8ClampedArray]",qFe="[object Uint16Array]",KFe="[object Uint32Array]",zi={};zi[GFe]=zi[zFe]=zi[jFe]=zi[VFe]=zi[WFe]=zi[YFe]=zi[XFe]=zi[qFe]=zi[KFe]=!0,zi[xFe]=zi[IFe]=zi[HFe]=zi[DFe]=zi[$Fe]=zi[OFe]=zi[kFe]=zi[PFe]=zi[RFe]=zi[NFe]=zi[MFe]=zi[LFe]=zi[BFe]=zi[FFe]=zi[UFe]=!1;function ZFe(e){return _c(e)&&E6(e.length)&&!!zi[Rp(e)]}function T6(e){return function(t){return e(t)}}var bte=typeof oe=="object"&&oe&&!oe.nodeType&&oe,gC=bte&&!0&&l&&!l.nodeType&&l,QFe=gC&&gC.exports===bte,b6=QFe&&dte.process,JFe=(function(){try{var e=gC&&gC.require&&gC.require("util").types;return e||b6&&b6.binding&&b6.binding("util")}catch{}})();const s_=JFe;var Ste=s_&&s_.isTypedArray,e4e=Ste?T6(Ste):ZFe;const S6=e4e;var t4e=Object.prototype,r4e=t4e.hasOwnProperty;function Cte(e,t){var r=Hs(e),i=!r&&uk(e),n=!r&&!i&&mC(e),s=!r&&!i&&!n&&S6(e),c=r||i||n||s,h=c?mFe(e.length,String):[],p=h.length;for(var m in e)(t||r4e.call(e,m))&&!(c&&(m=="length"||n&&(m=="offset"||m=="parent")||s&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||_6(m,p)))&&h.push(m);return h}var n4e=Object.prototype;function C6(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||n4e;return e===r}function Ate(e,t){return function(r){return e(t(r))}}var i4e=Ate(Object.keys,Object);const a4e=i4e;var o4e=Object.prototype,s4e=o4e.hasOwnProperty;function l4e(e){if(!C6(e))return a4e(e);var t=[];for(var r in Object(e))s4e.call(e,r)&&r!="constructor"&&t.push(r);return t}function jl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var u4e="[object AsyncFunction]",c4e="[object Function]",h4e="[object GeneratorFunction]",f4e="[object Proxy]";function A6(e){if(!jl(e))return!1;var t=Rp(e);return t==c4e||t==h4e||t==u4e||t==f4e}function l_(e){return e!=null&&E6(e.length)&&!A6(e)}function w6(e){return l_(e)?Cte(e):l4e(e)}function wte(e,t){return e&&gte(e,t,w6)}function ck(e){return e}function xte(e){return typeof e=="function"?e:ck}function d4e(e,t){return e&&wte(e,xte(t))}const x6=_t(Object.freeze(Object.defineProperty({__proto__:null,default:d4e},Symbol.toStringTag,{value:"Module"})));var p4e=Ate(Object.getPrototypeOf,Object);const Ite=p4e;var m4e="[object Object]",g4e=Function.prototype,v4e=Object.prototype,Dte=g4e.toString,y4e=v4e.hasOwnProperty,_4e=Dte.call(Object);function Ote(e){if(!_c(e)||Rp(e)!=m4e)return!1;var t=Ite(e);if(t===null)return!0;var r=y4e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Dte.call(r)==_4e}const E4e=_t(Object.freeze(Object.defineProperty({__proto__:null,default:Ote},Symbol.toStringTag,{value:"Module"})));function kte(e,t){for(var r=-1,i=e==null?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}function T4e(){this.__data__=[],this.size=0}function vC(e,t){return e===t||e!==e&&t!==t}function hk(e,t){for(var r=e.length;r--;)if(vC(e[r][0],t))return r;return-1}var b4e=Array.prototype,S4e=b4e.splice;function C4e(e){var t=this.__data__,r=hk(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():S4e.call(t,r,1),--this.size,!0}function A4e(e){var t=this.__data__,r=hk(t,e);return r<0?void 0:t[r][1]}function w4e(e){return hk(this.__data__,e)>-1}function x4e(e,t){var r=this.__data__,i=hk(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function Yf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Yf.prototype.clear=T4e,Yf.prototype.delete=C4e,Yf.prototype.get=A4e,Yf.prototype.has=w4e,Yf.prototype.set=x4e;function I4e(){this.__data__=new Yf,this.size=0}function D4e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function O4e(e){return this.__data__.get(e)}function k4e(e){return this.__data__.has(e)}var P4e=yc["__core-js_shared__"];const I6=P4e;var Pte=(function(){var e=/[^.]+$/.exec(I6&&I6.keys&&I6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function R4e(e){return!!Pte&&Pte in e}var N4e=Function.prototype,M4e=N4e.toString;function nv(e){if(e!=null){try{return M4e.call(e)}catch{}try{return e+""}catch{}}return""}var L4e=/[\\^$.*+?()[\]{}|]/g,B4e=/^\[object .+?Constructor\]$/,F4e=Function.prototype,U4e=Object.prototype,H4e=F4e.toString,$4e=U4e.hasOwnProperty,G4e=RegExp("^"+H4e.call($4e).replace(L4e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function z4e(e){if(!jl(e)||R4e(e))return!1;var t=A6(e)?G4e:B4e;return t.test(nv(e))}function j4e(e,t){return e?.[t]}function iv(e,t){var r=j4e(e,t);return z4e(r)?r:void 0}var V4e=iv(yc,"Map");const yC=V4e;var W4e=iv(Object,"create");const _C=W4e;function Y4e(){this.__data__=_C?_C(null):{},this.size=0}function X4e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var q4e="__lodash_hash_undefined__",K4e=Object.prototype,Z4e=K4e.hasOwnProperty;function Q4e(e){var t=this.__data__;if(_C){var r=t[e];return r===q4e?void 0:r}return Z4e.call(t,e)?t[e]:void 0}var J4e=Object.prototype,e8e=J4e.hasOwnProperty;function t8e(e){var t=this.__data__;return _C?t[e]!==void 0:e8e.call(t,e)}var r8e="__lodash_hash_undefined__";function n8e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_C&&t===void 0?r8e:t,this}function av(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}av.prototype.clear=Y4e,av.prototype.delete=X4e,av.prototype.get=Q4e,av.prototype.has=t8e,av.prototype.set=n8e;function i8e(){this.size=0,this.__data__={hash:new av,map:new(yC||Yf),string:new av}}function a8e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function fk(e,t){var r=e.__data__;return a8e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function o8e(e){var t=fk(this,e).delete(e);return this.size-=t?1:0,t}function s8e(e){return fk(this,e).get(e)}function l8e(e){return fk(this,e).has(e)}function u8e(e,t){var r=fk(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function Xf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Xf.prototype.clear=i8e,Xf.prototype.delete=o8e,Xf.prototype.get=s8e,Xf.prototype.has=l8e,Xf.prototype.set=u8e;var c8e=200;function h8e(e,t){var r=this.__data__;if(r instanceof Yf){var i=r.__data__;if(!yC||i.length<c8e-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Xf(i)}return r.set(e,t),this.size=r.size,this}function Ec(e){var t=this.__data__=new Yf(e);this.size=t.size}Ec.prototype.clear=I4e,Ec.prototype.delete=D4e,Ec.prototype.get=O4e,Ec.prototype.has=k4e,Ec.prototype.set=h8e;var f8e="__lodash_hash_undefined__";function d8e(e){return this.__data__.set(e,f8e),this}function p8e(e){return this.__data__.has(e)}function dk(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Xf;++t<r;)this.add(e[t])}dk.prototype.add=dk.prototype.push=d8e,dk.prototype.has=p8e;function m8e(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}function g8e(e,t){return e.has(t)}var v8e=1,y8e=2;function Rte(e,t,r,i,n,s){var c=r&v8e,h=e.length,p=t.length;if(h!=p&&!(c&&p>h))return!1;var m=s.get(e),d=s.get(t);if(m&&d)return m==t&&d==e;var E=-1,_=!0,T=r&y8e?new dk:void 0;for(s.set(e,t),s.set(t,e);++E<h;){var C=e[E],A=t[E];if(i)var D=c?i(A,C,E,t,e,s):i(C,A,E,e,t,s);if(D!==void 0){if(D)continue;_=!1;break}if(T){if(!m8e(t,function(O,B){if(!g8e(T,B)&&(C===O||n(C,O,r,i,s)))return T.push(B)})){_=!1;break}}else if(!(C===A||n(C,A,r,i,s))){_=!1;break}}return s.delete(e),s.delete(t),_}var _8e=yc.Uint8Array;const pk=_8e;function E8e(e){var t=-1,r=Array(e.size);return e.forEach(function(i,n){r[++t]=[n,i]}),r}function T8e(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var b8e=1,S8e=2,C8e="[object Boolean]",A8e="[object Date]",w8e="[object Error]",x8e="[object Map]",I8e="[object Number]",D8e="[object RegExp]",O8e="[object Set]",k8e="[object String]",P8e="[object Symbol]",R8e="[object ArrayBuffer]",N8e="[object DataView]",Nte=Uh?Uh.prototype:void 0,D6=Nte?Nte.valueOf:void 0;function M8e(e,t,r,i,n,s,c){switch(r){case N8e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R8e:return!(e.byteLength!=t.byteLength||!s(new pk(e),new pk(t)));case C8e:case A8e:case I8e:return vC(+e,+t);case w8e:return e.name==t.name&&e.message==t.message;case D8e:case k8e:return e==t+"";case x8e:var h=E8e;case O8e:var p=i&b8e;if(h||(h=T8e),e.size!=t.size&&!p)return!1;var m=c.get(e);if(m)return m==t;i|=S8e,c.set(e,t);var d=Rte(h(e),h(t),i,n,s,c);return c.delete(e),d;case P8e:if(D6)return D6.call(e)==D6.call(t)}return!1}function L8e(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}function B8e(e,t,r){var i=t(e);return Hs(e)?i:L8e(i,r(e))}function F8e(e,t){for(var r=-1,i=e==null?0:e.length,n=0,s=[];++r<i;){var c=e[r];t(c,r,e)&&(s[n++]=c)}return s}function U8e(){return[]}var H8e=Object.prototype,$8e=H8e.propertyIsEnumerable,Mte=Object.getOwnPropertySymbols,G8e=Mte?function(e){return e==null?[]:(e=Object(e),F8e(Mte(e),function(t){return $8e.call(e,t)}))}:U8e;const z8e=G8e;function O6(e){return B8e(e,w6,z8e)}var j8e=1,V8e=Object.prototype,W8e=V8e.hasOwnProperty;function Y8e(e,t,r,i,n,s){var c=r&j8e,h=O6(e),p=h.length,m=O6(t),d=m.length;if(p!=d&&!c)return!1;for(var E=p;E--;){var _=h[E];if(!(c?_ in t:W8e.call(t,_)))return!1}var T=s.get(e),C=s.get(t);if(T&&C)return T==t&&C==e;var A=!0;s.set(e,t),s.set(t,e);for(var D=c;++E<p;){_=h[E];var O=e[_],B=t[_];if(i)var P=c?i(B,O,_,t,e,s):i(O,B,_,e,t,s);if(!(P===void 0?O===B||n(O,B,r,i,s):P)){A=!1;break}D||(D=_=="constructor")}if(A&&!D){var R=e.constructor,$=t.constructor;R!=$&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof $=="function"&&$ instanceof $)&&(A=!1)}return s.delete(e),s.delete(t),A}var X8e=iv(yc,"DataView");const k6=X8e;var q8e=iv(yc,"Promise");const P6=q8e;var K8e=iv(yc,"Set");const R6=K8e;var Z8e=iv(yc,"WeakMap");const N6=Z8e;var Lte="[object Map]",Q8e="[object Object]",Bte="[object Promise]",Fte="[object Set]",Ute="[object WeakMap]",Hte="[object DataView]",J8e=nv(k6),eUe=nv(yC),tUe=nv(P6),rUe=nv(R6),nUe=nv(N6),ov=Rp;(k6&&ov(new k6(new ArrayBuffer(1)))!=Hte||yC&&ov(new yC)!=Lte||P6&&ov(P6.resolve())!=Bte||R6&&ov(new R6)!=Fte||N6&&ov(new N6)!=Ute)&&(ov=function(e){var t=Rp(e),r=t==Q8e?e.constructor:void 0,i=r?nv(r):"";if(i)switch(i){case J8e:return Hte;case eUe:return Lte;case tUe:return Bte;case rUe:return Fte;case nUe:return Ute}return t});const EC=ov;var iUe=1,$te="[object Arguments]",Gte="[object Array]",mk="[object Object]",aUe=Object.prototype,zte=aUe.hasOwnProperty;function oUe(e,t,r,i,n,s){var c=Hs(e),h=Hs(t),p=c?Gte:EC(e),m=h?Gte:EC(t);p=p==$te?mk:p,m=m==$te?mk:m;var d=p==mk,E=m==mk,_=p==m;if(_&&mC(e)){if(!mC(t))return!1;c=!0,d=!1}if(_&&!d)return s||(s=new Ec),c||S6(e)?Rte(e,t,r,i,n,s):M8e(e,t,p,r,i,n,s);if(!(r&iUe)){var T=d&&zte.call(e,"__wrapped__"),C=E&&zte.call(t,"__wrapped__");if(T||C){var A=T?e.value():e,D=C?t.value():t;return s||(s=new Ec),n(A,D,r,i,s)}}return _?(s||(s=new Ec),Y8e(e,t,r,i,n,s)):!1}function M6(e,t,r,i,n){return e===t?!0:e==null||t==null||!_c(e)&&!_c(t)?e!==e&&t!==t:oUe(e,t,r,i,M6,n)}var sUe=1,lUe=2;function uUe(e,t,r,i){var n=r.length,s=n;if(e==null)return!s;for(e=Object(e);n--;){var c=r[n];if(c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++n<s;){c=r[n];var h=c[0],p=e[h],m=c[1];if(c[2]){if(p===void 0&&!(h in e))return!1}else{var d=new Ec,E;if(!(E===void 0?M6(m,p,sUe|lUe,i,d):E))return!1}}return!0}function jte(e){return e===e&&!jl(e)}function cUe(e){for(var t=w6(e),r=t.length;r--;){var i=t[r],n=e[i];t[r]=[i,n,jte(n)]}return t}function Vte(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function hUe(e){var t=cUe(e);return t.length==1&&t[0][2]?Vte(t[0][0],t[0][1]):function(r){return r===e||uUe(r,e,t)}}var fUe="[object Symbol]";function gk(e){return typeof e=="symbol"||_c(e)&&Rp(e)==fUe}var dUe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pUe=/^\w*$/;function L6(e,t){if(Hs(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||gk(e)?!0:pUe.test(e)||!dUe.test(e)||t!=null&&e in Object(t)}var mUe="Expected a function";function B6(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mUe);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var c=e.apply(this,i);return r.cache=s.set(n,c)||s,c};return r.cache=new(B6.Cache||Xf),r}B6.Cache=Xf;var gUe=500;function vUe(e){var t=B6(e,function(i){return r.size===gUe&&r.clear(),i}),r=t.cache;return t}var yUe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_Ue=/\\(\\)?/g,EUe=vUe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yUe,function(r,i,n,s){t.push(n?s.replace(_Ue,"$1"):i||r)}),t});const TUe=EUe;var Wte=Uh?Uh.prototype:void 0,Yte=Wte?Wte.toString:void 0;function Xte(e){if(typeof e=="string")return e;if(Hs(e))return kte(e,Xte)+"";if(gk(e))return Yte?Yte.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function bUe(e){return e==null?"":Xte(e)}function qte(e,t){return Hs(e)?e:L6(e,t)?[e]:TUe(bUe(e))}function vk(e){if(typeof e=="string"||gk(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Kte(e,t){t=qte(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[vk(t[r++])];return r&&r==i?e:void 0}function SUe(e,t,r){var i=e==null?void 0:Kte(e,t);return i===void 0?r:i}function CUe(e,t){return e!=null&&t in Object(e)}function AUe(e,t,r){t=qte(t,e);for(var i=-1,n=t.length,s=!1;++i<n;){var c=vk(t[i]);if(!(s=e!=null&&r(e,c)))break;e=e[c]}return s||++i!=n?s:(n=e==null?0:e.length,!!n&&E6(n)&&_6(c,n)&&(Hs(e)||uk(e)))}function wUe(e,t){return e!=null&&AUe(e,t,CUe)}var xUe=1,IUe=2;function DUe(e,t){return L6(e)&&jte(t)?Vte(vk(e),t):function(r){var i=SUe(r,e);return i===void 0&&i===t?wUe(r,e):M6(t,i,xUe|IUe)}}function OUe(e){return function(t){return t?.[e]}}function kUe(e){return function(t){return Kte(t,e)}}function PUe(e){return L6(e)?OUe(vk(e)):kUe(e)}function RUe(e){return typeof e=="function"?e:e==null?ck:typeof e=="object"?Hs(e)?DUe(e[0],e[1]):hUe(e):PUe(e)}function NUe(e,t){return function(r,i){if(r==null)return r;if(!l_(r))return e(r,i);for(var n=r.length,s=-1,c=Object(r);++s<n&&i(c[s],s,c)!==!1;);return r}}var MUe=NUe(wte);const Zte=MUe;function LUe(e,t){var r=-1,i=l_(e)?Array(e.length):[];return Zte(e,function(n,s,c){i[++r]=t(n,s,c)}),i}function Np(e,t){var r=Hs(e)?kte:LUe;return r(e,RUe(t))}const BUe=_t(Object.freeze(Object.defineProperty({__proto__:null,default:Np},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(dC,"__esModule",{value:!0}),dC.flattenNames=void 0;var FUe=fFe,UUe=yk(FUe),HUe=x6,$Ue=yk(HUe),GUe=E4e,zUe=yk(GUe),jUe=BUe,VUe=yk(jUe);function yk(e){return e&&e.__esModule?e:{default:e}}var WUe=dC.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,VUe.default)(t,function(i){Array.isArray(i)?e(i).map(function(n){return r.push(n)}):(0,zUe.default)(i)?(0,$Ue.default)(i,function(n,s){n===!0&&r.push(s),r.push(s+"-"+n)}):(0,UUe.default)(i)&&r.push(i)}),r};dC.default=WUe;var TC={};function Qte(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var YUe=(function(){try{var e=iv(Object,"defineProperty");return e({},"",{}),e}catch{}})();const _k=YUe;function F6(e,t,r){t=="__proto__"&&_k?_k(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var XUe=Object.prototype,qUe=XUe.hasOwnProperty;function Jte(e,t,r){var i=e[t];(!(qUe.call(e,t)&&vC(i,r))||r===void 0&&!(t in e))&&F6(e,t,r)}function KUe(e,t,r,i){var n=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var h=t[s],p=void 0;p===void 0&&(p=e[h]),n?F6(r,h,p):Jte(r,h,p)}return r}function ZUe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var QUe=Object.prototype,JUe=QUe.hasOwnProperty;function eHe(e){if(!jl(e))return ZUe(e);var t=C6(e),r=[];for(var i in e)i=="constructor"&&(t||!JUe.call(e,i))||r.push(i);return r}function ere(e){return l_(e)?Cte(e,!0):eHe(e)}var tre=typeof oe=="object"&&oe&&!oe.nodeType&&oe,rre=tre&&!0&&l&&!l.nodeType&&l,tHe=rre&&rre.exports===tre,nre=tHe?yc.Buffer:void 0,ire=nre?nre.allocUnsafe:void 0;function are(e,t){if(t)return e.slice();var r=e.length,i=ire?ire(r):new e.constructor(r);return e.copy(i),i}function rHe(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var nHe=Object.prototype,iHe=nHe.hasOwnProperty;function aHe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&iHe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function U6(e){var t=new e.constructor(e.byteLength);return new pk(t).set(new pk(e)),t}function oHe(e,t){var r=U6(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var sHe=/\w*$/;function lHe(e){var t=new e.constructor(e.source,sHe.exec(e));return t.lastIndex=e.lastIndex,t}var ore=Uh?Uh.prototype:void 0,sre=ore?ore.valueOf:void 0;function uHe(e){return sre?Object(sre.call(e)):{}}function lre(e,t){var r=t?U6(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var cHe="[object Boolean]",hHe="[object Date]",fHe="[object Map]",dHe="[object Number]",pHe="[object RegExp]",mHe="[object Set]",gHe="[object String]",vHe="[object Symbol]",yHe="[object ArrayBuffer]",_He="[object DataView]",EHe="[object Float32Array]",THe="[object Float64Array]",bHe="[object Int8Array]",SHe="[object Int16Array]",CHe="[object Int32Array]",AHe="[object Uint8Array]",wHe="[object Uint8ClampedArray]",xHe="[object Uint16Array]",IHe="[object Uint32Array]";function DHe(e,t,r){var i=e.constructor;switch(t){case yHe:return U6(e);case cHe:case hHe:return new i(+e);case _He:return oHe(e);case EHe:case THe:case bHe:case SHe:case CHe:case AHe:case wHe:case xHe:case IHe:return lre(e,r);case fHe:return new i;case dHe:case gHe:return new i(e);case pHe:return lHe(e);case mHe:return new i;case vHe:return uHe(e)}}var ure=Object.create,OHe=(function(){function e(){}return function(t){if(!jl(t))return{};if(ure)return ure(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();const kHe=OHe;function cre(e){return typeof e.constructor=="function"&&!C6(e)?kHe(Ite(e)):{}}var PHe="[object Map]";function RHe(e){return _c(e)&&EC(e)==PHe}var hre=s_&&s_.isMap,NHe=hre?T6(hre):RHe;const MHe=NHe;var LHe="[object Set]";function BHe(e){return _c(e)&&EC(e)==LHe}var fre=s_&&s_.isSet,FHe=fre?T6(fre):BHe;const UHe=FHe;var HHe=1,dre="[object Arguments]",$He="[object Array]",GHe="[object Boolean]",zHe="[object Date]",jHe="[object Error]",pre="[object Function]",VHe="[object GeneratorFunction]",WHe="[object Map]",YHe="[object Number]",mre="[object Object]",XHe="[object RegExp]",qHe="[object Set]",KHe="[object String]",ZHe="[object Symbol]",QHe="[object WeakMap]",JHe="[object ArrayBuffer]",e$e="[object DataView]",t$e="[object Float32Array]",r$e="[object Float64Array]",n$e="[object Int8Array]",i$e="[object Int16Array]",a$e="[object Int32Array]",o$e="[object Uint8Array]",s$e="[object Uint8ClampedArray]",l$e="[object Uint16Array]",u$e="[object Uint32Array]",Ni={};Ni[dre]=Ni[$He]=Ni[JHe]=Ni[e$e]=Ni[GHe]=Ni[zHe]=Ni[t$e]=Ni[r$e]=Ni[n$e]=Ni[i$e]=Ni[a$e]=Ni[WHe]=Ni[YHe]=Ni[mre]=Ni[XHe]=Ni[qHe]=Ni[KHe]=Ni[ZHe]=Ni[o$e]=Ni[s$e]=Ni[l$e]=Ni[u$e]=!0,Ni[jHe]=Ni[pre]=Ni[QHe]=!1;function Ek(e,t,r,i,n,s){var c,h=t&HHe;if(c!==void 0)return c;if(!jl(e))return e;var p=Hs(e);if(p)c=aHe(e);else{var m=EC(e),d=m==pre||m==VHe;if(mC(e))return are(e,h);if(m==mre||m==dre||d&&!n)c=d?{}:cre(e);else{if(!Ni[m])return n?e:{};c=DHe(e,m,h)}}s||(s=new Ec);var E=s.get(e);if(E)return E;s.set(e,c),UHe(e)?e.forEach(function(C){c.add(Ek(C,t,r,C,e,s))}):MHe(e)&&e.forEach(function(C,A){c.set(A,Ek(C,t,r,A,e,s))});var _=O6,T=p?void 0:_(e);return Qte(T||e,function(C,A){T&&(A=C,C=e[A]),Jte(c,A,Ek(C,t,r,A,e,s))}),c}var c$e=1,h$e=4;function f$e(e){return Ek(e,c$e|h$e)}const d$e=_t(Object.freeze(Object.defineProperty({__proto__:null,default:f$e},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(TC,"__esModule",{value:!0}),TC.mergeClasses=void 0;var p$e=x6,m$e=gre(p$e),g$e=d$e,v$e=gre(g$e),y$e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function gre(e){return e&&e.__esModule?e:{default:e}}var _$e=TC.mergeClasses=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=t.default&&(0,v$e.default)(t.default)||{};return r.map(function(n){var s=t[n];return s&&(0,m$e.default)(s,function(c,h){i[h]||(i[h]={}),i[h]=y$e({},i[h],s[h])}),n}),i};TC.default=_$e;var bC={};Object.defineProperty(bC,"__esModule",{value:!0}),bC.autoprefix=void 0;var E$e=x6,vre=b$e(E$e),T$e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function b$e(e){return e&&e.__esModule?e:{default:e}}var S$e={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var r=t&&t.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(t,r){var i=r[t];return i||{extend:t}}},C$e=bC.autoprefix=function(t){var r={};return(0,vre.default)(t,function(i,n){var s={};(0,vre.default)(i,function(c,h){var p=S$e[h];p?s=T$e({},s,p(c)):s[h]=c}),r[n]=s}),r};bC.default=C$e;var SC={};Object.defineProperty(SC,"__esModule",{value:!0}),SC.hover=void 0;var A$e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},w$e=M.default,H6=x$e(w$e);function x$e(e){return e&&e.__esModule?e:{default:e}}function I$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function D$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O$e=SC.hover=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(i){D$e(n,i);function n(){var s,c,h,p;I$e(this,n);for(var m=arguments.length,d=Array(m),E=0;E<m;E++)d[E]=arguments[E];return p=(c=(h=yre(this,(s=n.__proto__||Object.getPrototypeOf(n)).call.apply(s,[this].concat(d))),h),h.state={hover:!1},h.handleMouseOver=function(){return h.setState({hover:!0})},h.handleMouseOut=function(){return h.setState({hover:!1})},h.render=function(){return H6.default.createElement(r,{onMouseOver:h.handleMouseOver,onMouseOut:h.handleMouseOut},H6.default.createElement(t,A$e({},h.props,h.state)))},c),yre(h,p)}return n})(H6.default.Component)};SC.default=O$e;var CC={};Object.defineProperty(CC,"__esModule",{value:!0}),CC.active=void 0;var k$e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},P$e=M.default,$6=R$e(P$e);function R$e(e){return e&&e.__esModule?e:{default:e}}function N$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _re(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function M$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L$e=CC.active=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(i){M$e(n,i);function n(){var s,c,h,p;N$e(this,n);for(var m=arguments.length,d=Array(m),E=0;E<m;E++)d[E]=arguments[E];return p=(c=(h=_re(this,(s=n.__proto__||Object.getPrototypeOf(n)).call.apply(s,[this].concat(d))),h),h.state={active:!1},h.handleMouseDown=function(){return h.setState({active:!0})},h.handleMouseUp=function(){return h.setState({active:!1})},h.render=function(){return $6.default.createElement(r,{onMouseDown:h.handleMouseDown,onMouseUp:h.handleMouseUp},$6.default.createElement(t,k$e({},h.props,h.state)))},c),_re(h,p)}return n})($6.default.Component)};CC.default=L$e;var G6={};Object.defineProperty(G6,"__esModule",{value:!0});var B$e=function(t,r){var i={},n=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[c]=h};return t===0&&n("first-child"),t===r-1&&n("last-child"),(t===0||t%2===0)&&n("even"),Math.abs(t%2)===1&&n("odd"),n("nth-child",t),i};G6.default=B$e,Object.defineProperty(Su,"__esModule",{value:!0}),Su.ReactCSS=Su.loop=Su.handleActive=z6=Su.handleHover=Su.hover=void 0;var F$e=dC,U$e=u_(F$e),H$e=TC,$$e=u_(H$e),G$e=bC,z$e=u_(G$e),j$e=SC,Ere=u_(j$e),V$e=CC,W$e=u_(V$e),Y$e=G6,X$e=u_(Y$e);function u_(e){return e&&e.__esModule?e:{default:e}}Su.hover=Ere.default;var z6=Su.handleHover=Ere.default;Su.handleActive=W$e.default,Su.loop=X$e.default;var q$e=Su.ReactCSS=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];var s=(0,U$e.default)(i),c=(0,$$e.default)(t,s);return(0,z$e.default)(c)},rn=Su.default=q$e,K$e=function(t,r,i,n,s){var c=s.clientWidth,h=s.clientHeight,p=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,m=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=p-(s.getBoundingClientRect().left+window.pageXOffset),E=m-(s.getBoundingClientRect().top+window.pageYOffset);if(i==="vertical"){var _=void 0;if(E<0?_=0:E>h?_=1:_=Math.round(E*100/h)/100,r.a!==_)return{h:r.h,s:r.s,l:r.l,a:_,source:"rgb"}}else{var T=void 0;if(d<0?T=0:d>c?T=1:T=Math.round(d*100/c)/100,n!==T)return{h:r.h,s:r.s,l:r.l,a:T,source:"rgb"}}return null},j6={},Z$e=function(t,r,i,n){if(typeof document>"u"&&!n)return null;var s=n?new n:document.createElement("canvas");s.width=i*2,s.height=i*2;var c=s.getContext("2d");return c?(c.fillStyle=t,c.fillRect(0,0,s.width,s.height),c.fillStyle=r,c.fillRect(0,0,i,i),c.translate(i,i),c.fillRect(0,0,i,i),s.toDataURL()):null},Q$e=function(t,r,i,n){var s=t+"-"+r+"-"+i+(n?"-server":"");if(j6[s])return j6[s];var c=Z$e(t,r,i,n);return j6[s]=c,c},Tre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},c_=function(t){var r=t.white,i=t.grey,n=t.size,s=t.renderers,c=t.borderRadius,h=t.boxShadow,p=t.children,m=rn({default:{grid:{borderRadius:c,boxShadow:h,absolute:"0px 0px 0px 0px",background:"url("+Q$e(r,i,n,s.canvas)+") center left"}}});return ue.isValidElement(p)?M.default.cloneElement(p,Tre({},p.props,{style:Tre({},p.props.style,m.grid)})):M.default.createElement("div",{style:m.grid})};c_.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var J$e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},e9e=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function t9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function r9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V6=(function(e){r9e(t,e);function t(){var r,i,n,s;t9e(this,t);for(var c=arguments.length,h=Array(c),p=0;p<c;p++)h[p]=arguments[p];return s=(i=(n=bre(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(h))),n),n.handleChange=function(m){var d=K$e(m,n.props.hsl,n.props.direction,n.props.a,n.container);d&&typeof n.props.onChange=="function"&&n.props.onChange(d,m)},n.handleMouseDown=function(m){n.handleChange(m),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},i),bre(n,s)}return e9e(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var i=this,n=this.props.rgb,s=rn({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+n.r+","+n.g+","+n.b+`, 0) 0%,
           rgba(`+n.r+","+n.g+","+n.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:n.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+n.r+","+n.g+","+n.b+`, 0) 0%,
           rgba(`+n.r+","+n.g+","+n.b+", 1) 100%)"},pointer:{left:0,top:n.a*100+"%"}},overwrite:J$e({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return M.default.createElement("div",{style:s.alpha},M.default.createElement("div",{style:s.checkboard},M.default.createElement(c_,{renderers:this.props.renderers})),M.default.createElement("div",{style:s.gradient}),M.default.createElement("div",{style:s.container,ref:function(h){return i.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},M.default.createElement("div",{style:s.pointer},this.props.pointer?M.default.createElement(this.props.pointer,this.props):M.default.createElement("div",{style:s.slider}))))}}]),t})(ue.PureComponent||ue.Component),n9e=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function i9e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function s9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l9e=1,Sre=38,u9e=40,c9e=[Sre,u9e],h9e=function(t){return c9e.indexOf(t)>-1},f9e=function(t){return Number(String(t).replace(/%/g,""))},d9e=1,zn=(function(e){s9e(t,e);function t(r){a9e(this,t);var i=o9e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.handleBlur=function(){i.state.blurValue&&i.setState({value:i.state.blurValue,blurValue:null})},i.handleChange=function(n){i.setUpdatedValue(n.target.value,n)},i.handleKeyDown=function(n){var s=f9e(n.target.value);if(!isNaN(s)&&h9e(n.keyCode)){var c=i.getArrowOffset(),h=n.keyCode===Sre?s+c:s-c;i.setUpdatedValue(h,n)}},i.handleDrag=function(n){if(i.props.dragLabel){var s=Math.round(i.props.value+n.movementX);s>=0&&s<=i.props.dragMax&&i.props.onChange&&i.props.onChange(i.getValueObjectWithLabel(s),n)}},i.handleMouseDown=function(n){i.props.dragLabel&&(n.preventDefault(),i.handleDrag(n),window.addEventListener("mousemove",i.handleDrag),window.addEventListener("mouseup",i.handleMouseUp))},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleDrag),window.removeEventListener("mouseup",i.handleMouseUp)},i.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},i.inputId="rc-editable-input-"+d9e++,i}return n9e(t,[{key:"componentDidUpdate",value:function(i,n){this.props.value!==this.state.value&&(i.value!==this.props.value||n.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(i){return i9e({},this.props.label,i)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||l9e}},{key:"setUpdatedValue",value:function(i,n){var s=this.props.label?this.getValueObjectWithLabel(i):i;this.props.onChange&&this.props.onChange(s,n),this.setState({value:i})}},{key:"render",value:function(){var i=this,n=rn({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return M.default.createElement("div",{style:n.wrap},M.default.createElement("input",{id:this.inputId,style:n.input,ref:function(c){return i.input=c},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?M.default.createElement("label",{htmlFor:this.inputId,style:n.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t})(ue.PureComponent||ue.Component),p9e=function(t,r,i,n){var s=n.clientWidth,c=n.clientHeight,h=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,p=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,m=h-(n.getBoundingClientRect().left+window.pageXOffset),d=p-(n.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var E=void 0;if(d<0)E=359;else if(d>c)E=0;else{var _=-(d*100/c)+100;E=360*_/100}if(i.h!==E)return{h:E,s:i.s,l:i.l,a:i.a,source:"hsl"}}else{var T=void 0;if(m<0)T=0;else if(m>s)T=359;else{var C=m*100/s;T=360*C/100}if(i.h!==T)return{h:T,s:i.s,l:i.l,a:i.a,source:"hsl"}}return null},m9e=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function g9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function v9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h_=(function(e){v9e(t,e);function t(){var r,i,n,s;g9e(this,t);for(var c=arguments.length,h=Array(c),p=0;p<c;p++)h[p]=arguments[p];return s=(i=(n=Cre(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(h))),n),n.handleChange=function(m){var d=p9e(m,n.props.direction,n.props.hsl,n.container);d&&typeof n.props.onChange=="function"&&n.props.onChange(d,m)},n.handleMouseDown=function(m){n.handleChange(m),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},i),Cre(n,s)}return m9e(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,n=this.props.direction,s=n===void 0?"horizontal":n,c=rn({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return M.default.createElement("div",{style:c.hue},M.default.createElement("div",{className:"hue-"+s,style:c.container,ref:function(p){return i.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},M.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),M.default.createElement("div",{style:c.pointer},this.props.pointer?M.default.createElement(this.props.pointer,this.props):M.default.createElement("div",{style:c.slider}))))}}]),t})(ue.PureComponent||ue.Component);function W6(e,t,r){(r!==void 0&&!vC(e[t],r)||r===void 0&&!(t in e))&&F6(e,t,r)}function y9e(e){return _c(e)&&l_(e)}function Y6(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function _9e(e){return KUe(e,ere(e))}function E9e(e,t,r,i,n,s,c){var h=Y6(e,r),p=Y6(t,r),m=c.get(p);if(m){W6(e,r,m);return}var d=s?s(h,p,r+"",e,t,c):void 0,E=d===void 0;if(E){var _=Hs(p),T=!_&&mC(p),C=!_&&!T&&S6(p);d=p,_||T||C?Hs(h)?d=h:y9e(h)?d=rHe(h):T?(E=!1,d=are(p,!0)):C?(E=!1,d=lre(p,!0)):d=[]:Ote(p)||uk(p)?(d=h,uk(h)?d=_9e(h):(!jl(h)||A6(h))&&(d=cre(p))):E=!1}E&&(c.set(p,d),n(d,p,i,s,c),c.delete(p)),W6(e,r,d)}function Are(e,t,r,i,n){e!==t&&gte(t,function(s,c){if(n||(n=new Ec),jl(s))E9e(e,t,c,r,Are,i,n);else{var h=i?i(Y6(e,c),s,c+"",e,t,n):void 0;h===void 0&&(h=s),W6(e,c,h)}},ere)}function T9e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var wre=Math.max;function b9e(e,t,r){return t=wre(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,s=wre(i.length-t,0),c=Array(s);++n<s;)c[n]=i[t+n];n=-1;for(var h=Array(t+1);++n<t;)h[n]=i[n];return h[t]=r(c),T9e(e,this,h)}}function S9e(e){return function(){return e}}var C9e=_k?function(e,t){return _k(e,"toString",{configurable:!0,enumerable:!1,value:S9e(t),writable:!0})}:ck;const A9e=C9e;var w9e=800,x9e=16,I9e=Date.now;function D9e(e){var t=0,r=0;return function(){var i=I9e(),n=x9e-(i-r);if(r=i,n>0){if(++t>=w9e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var O9e=D9e(A9e);const k9e=O9e;function P9e(e,t){return k9e(b9e(e,t,ck),e+"")}function R9e(e,t,r){if(!jl(r))return!1;var i=typeof t;return(i=="number"?l_(r)&&_6(t,r.length):i=="string"&&t in r)?vC(r[t],e):!1}function N9e(e){return P9e(function(t,r){var i=-1,n=r.length,s=n>1?r[n-1]:void 0,c=n>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(n--,s):void 0,c&&R9e(r[0],r[1],c)&&(s=n<3?void 0:s,n=1),t=Object(t);++i<n;){var h=r[i];h&&e(t,h,i,s)}return t})}var M9e=N9e(function(e,t,r){Are(e,t,r)});const al=M9e;var AC=function(t){var r=t.zDepth,i=t.radius,n=t.background,s=t.children,c=t.styles,h=c===void 0?{}:c,p=rn(al({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:i,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},h),{"zDepth-1":r===1});return M.default.createElement("div",{style:p.wrap},M.default.createElement("div",{style:p.bg}),M.default.createElement("div",{style:p.content},s))};AC.propTypes={background:z.exports.string,zDepth:z.exports.oneOf([0,1,2,3,4,5]),radius:z.exports.number,styles:z.exports.object},AC.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var L9e=function(){return yc.Date.now()};const X6=L9e;var B9e=/\s/;function F9e(e){for(var t=e.length;t--&&B9e.test(e.charAt(t)););return t}var U9e=/^\s+/;function H9e(e){return e&&e.slice(0,F9e(e)+1).replace(U9e,"")}var xre=NaN,$9e=/^[-+]0x[0-9a-f]+$/i,G9e=/^0b[01]+$/i,z9e=/^0o[0-7]+$/i,j9e=parseInt;function Ire(e){if(typeof e=="number")return e;if(gk(e))return xre;if(jl(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jl(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=H9e(e);var r=G9e.test(e);return r||z9e.test(e)?j9e(e.slice(2),r?2:8):$9e.test(e)?xre:+e}var V9e="Expected a function",W9e=Math.max,Y9e=Math.min;function Dre(e,t,r){var i,n,s,c,h,p,m=0,d=!1,E=!1,_=!0;if(typeof e!="function")throw new TypeError(V9e);t=Ire(t)||0,jl(r)&&(d=!!r.leading,E="maxWait"in r,s=E?W9e(Ire(r.maxWait)||0,t):s,_="trailing"in r?!!r.trailing:_);function T(W){var Z=i,K=n;return i=n=void 0,m=W,c=e.apply(K,Z),c}function C(W){return m=W,h=setTimeout(O,t),d?T(W):c}function A(W){var Z=W-p,K=W-m,ae=t-Z;return E?Y9e(ae,s-K):ae}function D(W){var Z=W-p,K=W-m;return p===void 0||Z>=t||Z<0||E&&K>=s}function O(){var W=X6();if(D(W))return B(W);h=setTimeout(O,A(W))}function B(W){return h=void 0,_&&i?T(W):(i=n=void 0,c)}function P(){h!==void 0&&clearTimeout(h),m=0,i=p=n=h=void 0}function R(){return h===void 0?c:B(X6())}function $(){var W=X6(),Z=D(W);if(i=arguments,n=this,p=W,Z){if(h===void 0)return C(p);if(E)return clearTimeout(h),h=setTimeout(O,t),T(p)}return h===void 0&&(h=setTimeout(O,t)),c}return $.cancel=P,$.flush=R,$}var X9e="Expected a function";function q9e(e,t,r){var i=!0,n=!0;if(typeof e!="function")throw new TypeError(X9e);return jl(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),Dre(e,t,{leading:i,maxWait:t,trailing:n})}var K9e=function(t,r,i){var n=i.getBoundingClientRect(),s=n.width,c=n.height,h=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,p=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,m=h-(i.getBoundingClientRect().left+window.pageXOffset),d=p-(i.getBoundingClientRect().top+window.pageYOffset);m<0?m=0:m>s&&(m=s),d<0?d=0:d>c&&(d=c);var E=m/s,_=1-d/c;return{h:r.h,s:E,v:_,a:r.a,source:"hsv"}},Z9e=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function Q9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Tk=(function(e){eGe(t,e);function t(r){Q9e(this,t);var i=J9e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.handleChange=function(n){typeof i.props.onChange=="function"&&i.throttle(i.props.onChange,K9e(n,i.props.hsl,i.container),n)},i.handleMouseDown=function(n){i.handleChange(n);var s=i.getContainerRenderWindow();s.addEventListener("mousemove",i.handleChange),s.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.throttle=q9e(function(n,s,c){n(s,c)},50),i}return Z9e(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var i=this.container,n=window;!n.document.contains(i)&&n.parent!==n;)n=n.parent;return n}},{key:"unbindEventListeners",value:function(){var i=this.getContainerRenderWindow();i.removeEventListener("mousemove",this.handleChange),i.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,n=this.props.style||{},s=n.color,c=n.white,h=n.black,p=n.pointer,m=n.circle,d=rn({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:c,black:h,pointer:p,circle:m}},{custom:!!this.props.style});return M.default.createElement("div",{style:d.color,ref:function(_){return i.container=_},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},M.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),M.default.createElement("div",{style:d.white,className:"saturation-white"},M.default.createElement("div",{style:d.black,className:"saturation-black"}),M.default.createElement("div",{style:d.pointer},this.props.pointer?M.default.createElement(this.props.pointer,this.props):M.default.createElement("div",{style:d.circle}))))}}]),t})(ue.PureComponent||ue.Component);function tGe(e,t){var r=Hs(e)?Qte:Zte;return r(e,xte(t))}const rGe=/^\s+/,nGe=/\s+$/;function kr(e,t){if(e=e||"",t=t||{},e instanceof kr)return e;if(!(this instanceof kr))return new kr(e,t);var r=iGe(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}kr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,i,n,s,c;return t=e.r/255,r=e.g/255,i=e.b/255,t<=.03928?n=t/12.92:n=Math.pow((t+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*n+.7152*s+.0722*c},setAlpha:function(e){return this._a=Mre(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=kre(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=kre(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Ore(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Ore(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Pre(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return lGe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ea(this._r,255)*100)+"%",g:Math.round(ea(this._g,255)*100)+"%",b:Math.round(ea(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ea(this._r,255)*100)+"%, "+Math.round(ea(this._g,255)*100)+"%, "+Math.round(ea(this._b,255)*100)+"%)":"rgba("+Math.round(ea(this._r,255)*100)+"%, "+Math.round(ea(this._g,255)*100)+"%, "+Math.round(ea(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:EGe[Pre(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+Rre(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var n=kr(e);r="#"+Rre(n._r,n._g,n._b,n._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,n=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return n?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return kr(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(fGe,arguments)},brighten:function(){return this._applyModification(dGe,arguments)},darken:function(){return this._applyModification(pGe,arguments)},desaturate:function(){return this._applyModification(uGe,arguments)},saturate:function(){return this._applyModification(cGe,arguments)},greyscale:function(){return this._applyModification(hGe,arguments)},spin:function(){return this._applyModification(mGe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(yGe,arguments)},complement:function(){return this._applyCombination(gGe,arguments)},monochromatic:function(){return this._applyCombination(_Ge,arguments)},splitcomplement:function(){return this._applyCombination(vGe,arguments)},triad:function(){return this._applyCombination(Nre,[3])},tetrad:function(){return this._applyCombination(Nre,[4])}},kr.fromRatio=function(e,t){if(typeof e=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=wC(e[i]));e=r}return kr(e,t)};function iGe(e){var t={r:0,g:0,b:0},r=1,i=null,n=null,s=null,c=!1,h=!1;return typeof e=="string"&&(e=CGe(e)),typeof e=="object"&&(qf(e.r)&&qf(e.g)&&qf(e.b)?(t=aGe(e.r,e.g,e.b),c=!0,h=String(e.r).substr(-1)==="%"?"prgb":"rgb"):qf(e.h)&&qf(e.s)&&qf(e.v)?(i=wC(e.s),n=wC(e.v),t=sGe(e.h,i,n),c=!0,h="hsv"):qf(e.h)&&qf(e.s)&&qf(e.l)&&(i=wC(e.s),s=wC(e.l),t=oGe(e.h,i,s),c=!0,h="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Mre(r),{ok:c,format:e.format||h,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function aGe(e,t,r){return{r:ea(e,255)*255,g:ea(t,255)*255,b:ea(r,255)*255}}function Ore(e,t,r){e=ea(e,255),t=ea(t,255),r=ea(r,255);var i=Math.max(e,t,r),n=Math.min(e,t,r),s,c,h=(i+n)/2;if(i==n)s=c=0;else{var p=i-n;switch(c=h>.5?p/(2-i-n):p/(i+n),i){case e:s=(t-r)/p+(t<r?6:0);break;case t:s=(r-e)/p+2;break;case r:s=(e-t)/p+4;break}s/=6}return{h:s,s:c,l:h}}function oGe(e,t,r){var i,n,s;e=ea(e,360),t=ea(t,100),r=ea(r,100);function c(m,d,E){return E<0&&(E+=1),E>1&&(E-=1),E<1/6?m+(d-m)*6*E:E<1/2?d:E<2/3?m+(d-m)*(2/3-E)*6:m}if(t===0)i=n=s=r;else{var h=r<.5?r*(1+t):r+t-r*t,p=2*r-h;i=c(p,h,e+1/3),n=c(p,h,e),s=c(p,h,e-1/3)}return{r:i*255,g:n*255,b:s*255}}function kre(e,t,r){e=ea(e,255),t=ea(t,255),r=ea(r,255);var i=Math.max(e,t,r),n=Math.min(e,t,r),s,c,h=i,p=i-n;if(c=i===0?0:p/i,i==n)s=0;else{switch(i){case e:s=(t-r)/p+(t<r?6:0);break;case t:s=(r-e)/p+2;break;case r:s=(e-t)/p+4;break}s/=6}return{h:s,s:c,v:h}}function sGe(e,t,r){e=ea(e,360)*6,t=ea(t,100),r=ea(r,100);var i=Math.floor(e),n=e-i,s=r*(1-t),c=r*(1-n*t),h=r*(1-(1-n)*t),p=i%6,m=[r,c,s,s,h,r][p],d=[h,r,r,c,s,s][p],E=[s,s,h,r,r,c][p];return{r:m*255,g:d*255,b:E*255}}function Pre(e,t,r,i){var n=[Tc(Math.round(e).toString(16)),Tc(Math.round(t).toString(16)),Tc(Math.round(r).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function lGe(e,t,r,i,n){var s=[Tc(Math.round(e).toString(16)),Tc(Math.round(t).toString(16)),Tc(Math.round(r).toString(16)),Tc(Lre(i))];return n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Rre(e,t,r,i){var n=[Tc(Lre(i)),Tc(Math.round(e).toString(16)),Tc(Math.round(t).toString(16)),Tc(Math.round(r).toString(16))];return n.join("")}kr.equals=function(e,t){return!e||!t?!1:kr(e).toRgbString()==kr(t).toRgbString()},kr.random=function(){return kr.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function uGe(e,t){t=t===0?0:t||10;var r=kr(e).toHsl();return r.s-=t/100,r.s=bk(r.s),kr(r)}function cGe(e,t){t=t===0?0:t||10;var r=kr(e).toHsl();return r.s+=t/100,r.s=bk(r.s),kr(r)}function hGe(e){return kr(e).desaturate(100)}function fGe(e,t){t=t===0?0:t||10;var r=kr(e).toHsl();return r.l+=t/100,r.l=bk(r.l),kr(r)}function dGe(e,t){t=t===0?0:t||10;var r=kr(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),kr(r)}function pGe(e,t){t=t===0?0:t||10;var r=kr(e).toHsl();return r.l-=t/100,r.l=bk(r.l),kr(r)}function mGe(e,t){var r=kr(e).toHsl(),i=(r.h+t)%360;return r.h=i<0?360+i:i,kr(r)}function gGe(e){var t=kr(e).toHsl();return t.h=(t.h+180)%360,kr(t)}function Nre(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=kr(e).toHsl(),i=[kr(e)],n=360/t,s=1;s<t;s++)i.push(kr({h:(r.h+s*n)%360,s:r.s,l:r.l}));return i}function vGe(e){var t=kr(e).toHsl(),r=t.h;return[kr(e),kr({h:(r+72)%360,s:t.s,l:t.l}),kr({h:(r+216)%360,s:t.s,l:t.l})]}function yGe(e,t,r){t=t||6,r=r||30;var i=kr(e).toHsl(),n=360/r,s=[kr(e)];for(i.h=(i.h-(n*t>>1)+720)%360;--t;)i.h=(i.h+n)%360,s.push(kr(i));return s}function _Ge(e,t){t=t||6;for(var r=kr(e).toHsv(),i=r.h,n=r.s,s=r.v,c=[],h=1/t;t--;)c.push(kr({h:i,s:n,v:s})),s=(s+h)%1;return c}kr.mix=function(e,t,r){r=r===0?0:r||50;var i=kr(e).toRgb(),n=kr(t).toRgb(),s=r/100,c={r:(n.r-i.r)*s+i.r,g:(n.g-i.g)*s+i.g,b:(n.b-i.b)*s+i.b,a:(n.a-i.a)*s+i.a};return kr(c)},kr.readability=function(e,t){var r=kr(e),i=kr(t);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)},kr.isReadable=function(e,t,r){var i=kr.readability(e,t),n,s;switch(s=!1,n=AGe(r),n.level+n.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s},kr.mostReadable=function(e,t,r){var i=null,n=0,s,c,h,p;r=r||{},c=r.includeFallbackColors,h=r.level,p=r.size;for(var m=0;m<t.length;m++)s=kr.readability(e,t[m]),s>n&&(n=s,i=kr(t[m]));return kr.isReadable(e,i,{level:h,size:p})||!c?i:(r.includeFallbackColors=!1,kr.mostReadable(e,["#fff","#000"],r))};var q6=kr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},EGe=kr.hexNames=TGe(q6);function TGe(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Mre(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ea(e,t){bGe(e)&&(e="100%");var r=SGe(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function bk(e){return Math.min(1,Math.max(0,e))}function Vl(e){return parseInt(e,16)}function bGe(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function SGe(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Tc(e){return e.length==1?"0"+e:""+e}function wC(e){return e<=1&&(e=e*100+"%"),e}function Lre(e){return Math.round(parseFloat(e)*255).toString(16)}function Bre(e){return Vl(e)/255}var bc=(function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function qf(e){return!!bc.CSS_UNIT.exec(e)}function CGe(e){e=e.replace(rGe,"").replace(nGe,"").toLowerCase();var t=!1;if(q6[e])e=q6[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=bc.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=bc.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=bc.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=bc.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=bc.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=bc.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=bc.hex8.exec(e))?{r:Vl(r[1]),g:Vl(r[2]),b:Vl(r[3]),a:Bre(r[4]),format:t?"name":"hex8"}:(r=bc.hex6.exec(e))?{r:Vl(r[1]),g:Vl(r[2]),b:Vl(r[3]),format:t?"name":"hex"}:(r=bc.hex4.exec(e))?{r:Vl(r[1]+""+r[1]),g:Vl(r[2]+""+r[2]),b:Vl(r[3]+""+r[3]),a:Bre(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=bc.hex3.exec(e))?{r:Vl(r[1]+""+r[1]),g:Vl(r[2]+""+r[2]),b:Vl(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function AGe(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var Fre=function(t){var r=["r","g","b","a","h","s","l","v"],i=0,n=0;return tGe(r,function(s){if(t[s]&&(i+=1,isNaN(t[s])||(n+=1),s==="s"||s==="l")){var c=/^\d+%$/;c.test(t[s])&&(n+=1)}}),i===n?t:!1},xC=function(t,r){var i=t.hex?kr(t.hex):kr(t),n=i.toHsl(),s=i.toHsv(),c=i.toRgb(),h=i.toHex();n.s===0&&(n.h=r||0,s.h=r||0);var p=h==="000000"&&c.a===0;return{hsl:n,hex:p?"transparent":"#"+h,rgb:c,hsv:s,oldHue:t.h||r||n.h,source:t.source}},Mp=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&kr(t).isValid()},K6=function(t){if(!t)return"#fff";var r=xC(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var i=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return i>=128?"#000":"#fff"},Z6=function(t,r){var i=t.replace("","");return kr(r+" ("+i+")")._ok},IC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wGe=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function xGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IGe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function DGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ol=function(t){var r=(function(i){DGe(n,i);function n(s){xGe(this,n);var c=IGe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return c.handleChange=function(h,p){var m=Fre(h);if(m){var d=xC(h,h.h||c.state.oldHue);c.setState(d),c.props.onChangeComplete&&c.debounce(c.props.onChangeComplete,d,p),c.props.onChange&&c.props.onChange(d,p)}},c.handleSwatchHover=function(h,p){var m=Fre(h);if(m){var d=xC(h,h.h||c.state.oldHue);c.props.onSwatchHover&&c.props.onSwatchHover(d,p)}},c.state=IC({},xC(s.color,0)),c.debounce=Dre(function(h,p,m){h(p,m)},100),c}return wGe(n,[{key:"render",value:function(){var c={};return this.props.onSwatchHover&&(c.onSwatchHover=this.handleSwatchHover),M.default.createElement(t,IC({},this.props,this.state,{onChange:this.handleChange},c))}}],[{key:"getDerivedStateFromProps",value:function(c,h){return IC({},xC(c.color,h.oldHue))}}]),n})(ue.PureComponent||ue.Component);return r.propTypes=IC({},t.propTypes),r.defaultProps=IC({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},OGe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},kGe=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function PGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ure(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var NGe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(i){RGe(n,i);function n(){var s,c,h,p;PGe(this,n);for(var m=arguments.length,d=Array(m),E=0;E<m;E++)d[E]=arguments[E];return p=(c=(h=Ure(this,(s=n.__proto__||Object.getPrototypeOf(n)).call.apply(s,[this].concat(d))),h),h.state={focus:!1},h.handleFocus=function(){return h.setState({focus:!0})},h.handleBlur=function(){return h.setState({focus:!1})},c),Ure(h,p)}return kGe(n,[{key:"render",value:function(){return M.default.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},M.default.createElement(t,OGe({},this.props,this.state)))}}]),n})(M.default.Component)},Hre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},MGe=13,LGe=function(t){var r=t.color,i=t.style,n=t.onClick,s=n===void 0?function(){}:n,c=t.onHover,h=t.title,p=h===void 0?r:h,m=t.children,d=t.focus,E=t.focusStyle,_=E===void 0?{}:E,T=r==="transparent",C=rn({default:{swatch:Hre({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},i,d?_:{})}}),A=function(R){return s(r,R)},D=function(R){return R.keyCode===MGe&&s(r,R)},O=function(R){return c(r,R)},B={};return c&&(B.onMouseOver=O),M.default.createElement("div",Hre({style:C.swatch,onClick:A,title:p,tabIndex:0,onKeyDown:D},B),m,T&&M.default.createElement(c_,{borderRadius:C.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const sv=NGe(LGe);var BGe=function(t){var r=t.direction,i=rn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return M.default.createElement("div",{style:i.picker})},FGe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$re=function(t){var r=t.rgb,i=t.hsl,n=t.width,s=t.height,c=t.onChange,h=t.direction,p=t.style,m=t.renderers,d=t.pointer,E=t.className,_=E===void 0?"":E,T=rn({default:{picker:{position:"relative",width:n,height:s},alpha:{radius:"2px",style:p}}});return M.default.createElement("div",{style:T.picker,className:"alpha-picker "+_},M.default.createElement(V6,FGe({},T.alpha,{rgb:r,hsl:i,pointer:d,renderers:m,onChange:c,direction:h})))};$re.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:BGe},ol($re);var UGe=function(t){var r=t.colors,i=t.onClick,n=t.onSwatchHover,s=rn({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return M.default.createElement("div",{style:s.swatches},Np(r,function(c){return M.default.createElement(sv,{key:c,color:c,style:s.swatch,onClick:i,onHover:n,focusStyle:{boxShadow:"0 0 4px "+c}})}),M.default.createElement("div",{style:s.clear}))},Q6=function(t){var r=t.onChange,i=t.onSwatchHover,n=t.hex,s=t.colors,c=t.width,h=t.triangle,p=t.styles,m=p===void 0?{}:p,d=t.className,E=d===void 0?"":d,_=n==="transparent",T=function(D,O){Mp(D)&&r({hex:D,source:"hex"},O)},C=rn(al({default:{card:{width:c,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:K6(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},m),{"hide-triangle":h==="hide"});return M.default.createElement("div",{style:C.card,className:"block-picker "+E},M.default.createElement("div",{style:C.triangle}),M.default.createElement("div",{style:C.head},_&&M.default.createElement(c_,{borderRadius:"6px 6px 0 0"}),M.default.createElement("div",{style:C.label},n)),M.default.createElement("div",{style:C.body},M.default.createElement(UGe,{colors:s,onClick:T,onSwatchHover:i}),M.default.createElement(zn,{style:{input:C.input},value:n,onChange:T})))};Q6.propTypes={width:z.exports.oneOfType([z.exports.string,z.exports.number]),colors:z.exports.arrayOf(z.exports.string),triangle:z.exports.oneOf(["top","hide"]),styles:z.exports.object},Q6.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},ol(Q6);var f_={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},d_={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},p_={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},m_={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},g_={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},v_={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},y_={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},__={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},E_={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},DC={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},T_={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},b_={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},S_={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},C_={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},A_={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},w_={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},x_={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},I_={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},Gre=function(t){var r=t.color,i=t.onClick,n=t.onSwatchHover,s=t.hover,c=t.active,h=t.circleSize,p=t.circleSpacing,m=rn({default:{swatch:{width:h,height:h,marginRight:p,marginBottom:p,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(h/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:s,active:c});return M.default.createElement("div",{style:m.swatch},M.default.createElement(sv,{style:m.Swatch,color:r,onClick:i,onHover:n,focusStyle:{boxShadow:m.Swatch.boxShadow+", 0 0 5px "+r}}))};Gre.defaultProps={circleSize:28,circleSpacing:14};const HGe=z6(Gre);var J6=function(t){var r=t.width,i=t.onChange,n=t.onSwatchHover,s=t.colors,c=t.hex,h=t.circleSize,p=t.styles,m=p===void 0?{}:p,d=t.circleSpacing,E=t.className,_=E===void 0?"":E,T=rn(al({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}},m)),C=function(D,O){return i({hex:D,source:"hex"},O)};return M.default.createElement("div",{style:T.card,className:"circle-picker "+_},Np(s,function(A){return M.default.createElement(HGe,{key:A,color:A,onClick:C,onSwatchHover:n,active:c===A.toLowerCase(),circleSize:h,circleSpacing:d})}))};J6.propTypes={width:z.exports.oneOfType([z.exports.string,z.exports.number]),circleSize:z.exports.number,circleSpacing:z.exports.number,styles:z.exports.object},J6.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[f_[500],d_[500],p_[500],m_[500],g_[500],v_[500],y_[500],__[500],E_[500],DC[500],T_[500],b_[500],S_[500],C_[500],A_[500],w_[500],x_[500],I_[500]],styles:{}},ol(J6);function zre(e){return e===void 0}var jre={};Object.defineProperty(jre,"__esModule",{value:!0});var Vre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$Ge=M.default,Wre=GGe($Ge);function GGe(e){return e&&e.__esModule?e:{default:e}}function zGe(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}var Sk=24,jGe=jre.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,i=e.width,n=i===void 0?Sk:i,s=e.height,c=s===void 0?Sk:s,h=e.style,p=h===void 0?{}:h,m=zGe(e,["fill","width","height","style"]);return Wre.default.createElement("svg",Vre({viewBox:"0 0 "+Sk+" "+Sk,style:Vre({fill:r,width:n,height:c},p)},m),Wre.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},VGe=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function WGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YGe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Yre=(function(e){XGe(t,e);function t(r){WGe(this,t);var i=YGe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.toggleViews=function(){i.state.view==="hex"?i.setState({view:"rgb"}):i.state.view==="rgb"?i.setState({view:"hsl"}):i.state.view==="hsl"&&(i.props.hsl.a===1?i.setState({view:"hex"}):i.setState({view:"rgb"}))},i.handleChange=function(n,s){n.hex?Mp(n.hex)&&i.props.onChange({hex:n.hex,source:"hex"},s):n.r||n.g||n.b?i.props.onChange({r:n.r||i.props.rgb.r,g:n.g||i.props.rgb.g,b:n.b||i.props.rgb.b,source:"rgb"},s):n.a?(n.a<0?n.a=0:n.a>1&&(n.a=1),i.props.onChange({h:i.props.hsl.h,s:i.props.hsl.s,l:i.props.hsl.l,a:Math.round(n.a*100)/100,source:"rgb"},s)):(n.h||n.s||n.l)&&(typeof n.s=="string"&&n.s.includes("%")&&(n.s=n.s.replace("%","")),typeof n.l=="string"&&n.l.includes("%")&&(n.l=n.l.replace("%","")),n.s==1?n.s=.01:n.l==1&&(n.l=.01),i.props.onChange({h:n.h||i.props.hsl.h,s:Number(zre(n.s)?i.props.hsl.s:n.s),l:Number(zre(n.l)?i.props.hsl.l:n.l),source:"hsl"},s))},i.showHighlight=function(n){n.currentTarget.style.background="#eee"},i.hideHighlight=function(n){n.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?i.state={view:"rgb"}:i.state={view:r.view},i}return VGe(t,[{key:"render",value:function(){var i=this,n=rn({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=M.default.createElement("div",{style:n.fields,className:"flexbox-fix"},M.default.createElement("div",{style:n.field},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=M.default.createElement("div",{style:n.fields,className:"flexbox-fix"},M.default.createElement("div",{style:n.field},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),M.default.createElement("div",{style:n.field},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),M.default.createElement("div",{style:n.field},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),M.default.createElement("div",{style:n.alpha},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=M.default.createElement("div",{style:n.fields,className:"flexbox-fix"},M.default.createElement("div",{style:n.field},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),M.default.createElement("div",{style:n.field},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),M.default.createElement("div",{style:n.field},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),M.default.createElement("div",{style:n.alpha},M.default.createElement(zn,{style:{input:n.input,label:n.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),M.default.createElement("div",{style:n.wrap,className:"flexbox-fix"},s,M.default.createElement("div",{style:n.toggle},M.default.createElement("div",{style:n.icon,onClick:this.toggleViews,ref:function(h){return i.icon=h}},M.default.createElement(jGe,{style:n.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(i,n){return i.hsl.a!==1&&n.view==="hex"?{view:"rgb"}:null}}]),t})(M.default.Component);Yre.defaultProps={view:"hex"};var Xre=function(){var t=rn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return M.default.createElement("div",{style:t.picker})},qGe=function(){var t=rn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return M.default.createElement("div",{style:t.picker})},eF=function(t){var r=t.width,i=t.onChange,n=t.disableAlpha,s=t.rgb,c=t.hsl,h=t.hsv,p=t.hex,m=t.renderers,d=t.styles,E=d===void 0?{}:d,_=t.className,T=_===void 0?"":_,C=t.defaultView,A=rn(al({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},E),{disableAlpha:n});return M.default.createElement("div",{style:A.picker,className:"chrome-picker "+T},M.default.createElement("div",{style:A.saturation},M.default.createElement(Tk,{style:A.Saturation,hsl:c,hsv:h,pointer:qGe,onChange:i})),M.default.createElement("div",{style:A.body},M.default.createElement("div",{style:A.controls,className:"flexbox-fix"},M.default.createElement("div",{style:A.color},M.default.createElement("div",{style:A.swatch},M.default.createElement("div",{style:A.active}),M.default.createElement(c_,{renderers:m}))),M.default.createElement("div",{style:A.toggles},M.default.createElement("div",{style:A.hue},M.default.createElement(h_,{style:A.Hue,hsl:c,pointer:Xre,onChange:i})),M.default.createElement("div",{style:A.alpha},M.default.createElement(V6,{style:A.Alpha,rgb:s,hsl:c,pointer:Xre,renderers:m,onChange:i})))),M.default.createElement(Yre,{rgb:s,hsl:c,hex:p,view:C,onChange:i,disableAlpha:n})))};eF.propTypes={width:z.exports.oneOfType([z.exports.string,z.exports.number]),disableAlpha:z.exports.bool,styles:z.exports.object,defaultView:z.exports.oneOf(["hex","rgb","hsl"])},eF.defaultProps={width:225,disableAlpha:!1,styles:{}},ol(eF);var KGe=function(t){var r=t.color,i=t.onClick,n=i===void 0?function(){}:i,s=t.onSwatchHover,c=t.active,h=rn({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:K6(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:c,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return M.default.createElement(sv,{style:h.color,color:r,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+r}},M.default.createElement("div",{style:h.dot}))},ZGe=function(t){var r=t.hex,i=t.rgb,n=t.onChange,s=rn({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),c=function(p,m){p.r||p.g||p.b?n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m):n({hex:p.hex,source:"hex"},m)};return M.default.createElement("div",{style:s.fields,className:"flexbox-fix"},M.default.createElement("div",{style:s.active}),M.default.createElement(zn,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:r,onChange:c}),M.default.createElement(zn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:i.r,onChange:c}),M.default.createElement(zn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:i.g,onChange:c}),M.default.createElement(zn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:i.b,onChange:c}))},tF=function(t){var r=t.onChange,i=t.onSwatchHover,n=t.colors,s=t.hex,c=t.rgb,h=t.styles,p=h===void 0?{}:h,m=t.className,d=m===void 0?"":m,E=rn(al({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},p)),_=function(C,A){C.hex?Mp(C.hex)&&r({hex:C.hex,source:"hex"},A):r(C,A)};return M.default.createElement(AC,{style:E.Compact,styles:p},M.default.createElement("div",{style:E.compact,className:"compact-picker "+d},M.default.createElement("div",null,Np(n,function(T){return M.default.createElement(KGe,{key:T,color:T,active:T.toLowerCase()===s,onClick:_,onSwatchHover:i})}),M.default.createElement("div",{style:E.clear})),M.default.createElement(ZGe,{hex:s,rgb:c,onChange:_})))};tF.propTypes={colors:z.exports.arrayOf(z.exports.string),styles:z.exports.object},tF.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},ol(tF);var QGe=function(t){var r=t.hover,i=t.color,n=t.onClick,s=t.onSwatchHover,c={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},h=rn({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:c}},{hover:r});return M.default.createElement("div",{style:h.swatch},M.default.createElement(sv,{color:i,onClick:n,onHover:s,focusStyle:c}))};const JGe=z6(QGe);var rF=function(t){var r=t.width,i=t.colors,n=t.onChange,s=t.onSwatchHover,c=t.triangle,h=t.styles,p=h===void 0?{}:h,m=t.className,d=m===void 0?"":m,E=rn(al({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},p),{"hide-triangle":c==="hide","top-left-triangle":c==="top-left","top-right-triangle":c==="top-right","bottom-left-triangle":c==="bottom-left","bottom-right-triangle":c==="bottom-right"}),_=function(C,A){return n({hex:C,source:"hex"},A)};return M.default.createElement("div",{style:E.card,className:"github-picker "+d},M.default.createElement("div",{style:E.triangleShadow}),M.default.createElement("div",{style:E.triangle}),Np(i,function(T){return M.default.createElement(JGe,{color:T,key:T,onClick:_,onSwatchHover:s})}))};rF.propTypes={width:z.exports.oneOfType([z.exports.string,z.exports.number]),colors:z.exports.arrayOf(z.exports.string),triangle:z.exports.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:z.exports.object},rF.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},ol(rF);var e7e=function(t){var r=t.direction,i=rn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return M.default.createElement("div",{style:i.picker})},t7e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},nF=function(t){var r=t.width,i=t.height,n=t.onChange,s=t.hsl,c=t.direction,h=t.pointer,p=t.styles,m=p===void 0?{}:p,d=t.className,E=d===void 0?"":d,_=rn(al({default:{picker:{position:"relative",width:r,height:i},hue:{radius:"2px"}}},m)),T=function(A){return n({a:1,h:A.h,l:.5,s:1})};return M.default.createElement("div",{style:_.picker,className:"hue-picker "+E},M.default.createElement(h_,t7e({},_.hue,{hsl:s,pointer:h,onChange:T,direction:c})))};nF.propTypes={styles:z.exports.object},nF.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:e7e,styles:{}},ol(nF);var r7e=function(t){var r=t.onChange,i=t.hex,n=t.rgb,s=t.styles,c=s===void 0?{}:s,h=t.className,p=h===void 0?"":h,m=rn(al({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+i,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},c)),d=function(_,T){_.hex?Mp(_.hex)&&r({hex:_.hex,source:"hex"},T):(_.r||_.g||_.b)&&r({r:_.r||n.r,g:_.g||n.g,b:_.b||n.b,source:"rgb"},T)};return M.default.createElement(AC,{styles:c},M.default.createElement("div",{style:m.material,className:"material-picker "+p},M.default.createElement(zn,{style:{wrap:m.HEXwrap,input:m.HEXinput,label:m.HEXlabel},label:"hex",value:i,onChange:d}),M.default.createElement("div",{style:m.split,className:"flexbox-fix"},M.default.createElement("div",{style:m.third},M.default.createElement(zn,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"r",value:n.r,onChange:d})),M.default.createElement("div",{style:m.third},M.default.createElement(zn,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"g",value:n.g,onChange:d})),M.default.createElement("div",{style:m.third},M.default.createElement(zn,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"b",value:n.b,onChange:d})))))};ol(r7e);var n7e=function(t){var r=t.onChange,i=t.rgb,n=t.hsv,s=t.hex,c=rn({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),h=function(m,d){m["#"]?Mp(m["#"])&&r({hex:m["#"],source:"hex"},d):m.r||m.g||m.b?r({r:m.r||i.r,g:m.g||i.g,b:m.b||i.b,source:"rgb"},d):(m.h||m.s||m.v)&&r({h:m.h||n.h,s:m.s||n.s,v:m.v||n.v,source:"hsv"},d)};return M.default.createElement("div",{style:c.fields},M.default.createElement(zn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"h",value:Math.round(n.h),onChange:h}),M.default.createElement(zn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"s",value:Math.round(n.s*100),onChange:h}),M.default.createElement(zn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"v",value:Math.round(n.v*100),onChange:h}),M.default.createElement("div",{style:c.divider}),M.default.createElement(zn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:h}),M.default.createElement(zn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:h}),M.default.createElement(zn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:h}),M.default.createElement("div",{style:c.divider}),M.default.createElement(zn,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"#",value:s.replace("#",""),onChange:h}),M.default.createElement("div",{style:c.fieldSymbols},M.default.createElement("div",{style:c.symbol},""),M.default.createElement("div",{style:c.symbol},"%"),M.default.createElement("div",{style:c.symbol},"%")))},i7e=function(t){var r=t.hsl,i=rn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return M.default.createElement("div",{style:i.picker})},a7e=function(){var t=rn({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return M.default.createElement("div",{style:t.pointer},M.default.createElement("div",{style:t.left},M.default.createElement("div",{style:t.leftInside})),M.default.createElement("div",{style:t.right},M.default.createElement("div",{style:t.rightInside})))},qre=function(t){var r=t.onClick,i=t.label,n=t.children,s=t.active,c=rn({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return M.default.createElement("div",{style:c.button,onClick:r},i||n)},o7e=function(t){var r=t.rgb,i=t.currentColor,n=rn({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:i,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return M.default.createElement("div",null,M.default.createElement("div",{style:n.label},"new"),M.default.createElement("div",{style:n.swatches},M.default.createElement("div",{style:n.new}),M.default.createElement("div",{style:n.current})),M.default.createElement("div",{style:n.label},"current"))},s7e=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})();function l7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var iF=(function(e){c7e(t,e);function t(r){l7e(this,t);var i=u7e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.state={currentColor:r.hex},i}return s7e(t,[{key:"render",value:function(){var i=this.props,n=i.styles,s=n===void 0?{}:n,c=i.className,h=c===void 0?"":c,p=rn(al({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return M.default.createElement("div",{style:p.picker,className:"photoshop-picker "+h},M.default.createElement("div",{style:p.head},this.props.header),M.default.createElement("div",{style:p.body,className:"flexbox-fix"},M.default.createElement("div",{style:p.saturation},M.default.createElement(Tk,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:i7e,onChange:this.props.onChange})),M.default.createElement("div",{style:p.hue},M.default.createElement(h_,{direction:"vertical",hsl:this.props.hsl,pointer:a7e,onChange:this.props.onChange})),M.default.createElement("div",{style:p.controls},M.default.createElement("div",{style:p.top,className:"flexbox-fix"},M.default.createElement("div",{style:p.previews},M.default.createElement(o7e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),M.default.createElement("div",{style:p.actions},M.default.createElement(qre,{label:"OK",onClick:this.props.onAccept,active:!0}),M.default.createElement(qre,{label:"Cancel",onClick:this.props.onCancel}),M.default.createElement(n7e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t})(M.default.Component);iF.propTypes={header:z.exports.string,styles:z.exports.object},iF.defaultProps={header:"Color Picker",styles:{}},ol(iF);var h7e=function(t){var r=t.onChange,i=t.rgb,n=t.hsl,s=t.hex,c=t.disableAlpha,h=rn({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:c}),p=function(d,E){d.hex?Mp(d.hex)&&r({hex:d.hex,source:"hex"},E):d.r||d.g||d.b?r({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,a:i.a,source:"rgb"},E):d.a&&(d.a<0?d.a=0:d.a>100&&(d.a=100),d.a/=100,r({h:n.h,s:n.s,l:n.l,a:d.a,source:"rgb"},E))};return M.default.createElement("div",{style:h.fields,className:"flexbox-fix"},M.default.createElement("div",{style:h.double},M.default.createElement(zn,{style:{input:h.input,label:h.label},label:"hex",value:s.replace("#",""),onChange:p})),M.default.createElement("div",{style:h.single},M.default.createElement(zn,{style:{input:h.input,label:h.label},label:"r",value:i.r,onChange:p,dragLabel:"true",dragMax:"255"})),M.default.createElement("div",{style:h.single},M.default.createElement(zn,{style:{input:h.input,label:h.label},label:"g",value:i.g,onChange:p,dragLabel:"true",dragMax:"255"})),M.default.createElement("div",{style:h.single},M.default.createElement(zn,{style:{input:h.input,label:h.label},label:"b",value:i.b,onChange:p,dragLabel:"true",dragMax:"255"})),M.default.createElement("div",{style:h.alpha},M.default.createElement(zn,{style:{input:h.input,label:h.label},label:"a",value:Math.round(i.a*100),onChange:p,dragLabel:"true",dragMax:"100"})))},f7e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Kre=function(t){var r=t.colors,i=t.onClick,n=i===void 0?function(){}:i,s=t.onSwatchHover,c=rn({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),h=function(m,d){n({hex:m,source:"hex"},d)};return M.default.createElement("div",{style:c.colors,className:"flexbox-fix"},r.map(function(p){var m=typeof p=="string"?{color:p}:p,d=""+m.color+(m.title||"");return M.default.createElement("div",{key:d,style:c.swatchWrap},M.default.createElement(sv,f7e({},m,{style:c.swatch,onClick:h,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+m.color}})))}))};Kre.propTypes={colors:z.exports.arrayOf(z.exports.oneOfType([z.exports.string,z.exports.shape({color:z.exports.string,title:z.exports.string})])).isRequired};var d7e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},aF=function(t){var r=t.width,i=t.rgb,n=t.hex,s=t.hsv,c=t.hsl,h=t.onChange,p=t.onSwatchHover,m=t.disableAlpha,d=t.presetColors,E=t.renderers,_=t.styles,T=_===void 0?{}:_,C=t.className,A=C===void 0?"":C,D=rn(al({default:d7e({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+i.r+","+i.g+","+i.b+","+i.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},T),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},T),{disableAlpha:m});return M.default.createElement("div",{style:D.picker,className:"sketch-picker "+A},M.default.createElement("div",{style:D.saturation},M.default.createElement(Tk,{style:D.Saturation,hsl:c,hsv:s,onChange:h})),M.default.createElement("div",{style:D.controls,className:"flexbox-fix"},M.default.createElement("div",{style:D.sliders},M.default.createElement("div",{style:D.hue},M.default.createElement(h_,{style:D.Hue,hsl:c,onChange:h})),M.default.createElement("div",{style:D.alpha},M.default.createElement(V6,{style:D.Alpha,rgb:i,hsl:c,renderers:E,onChange:h}))),M.default.createElement("div",{style:D.color},M.default.createElement(c_,null),M.default.createElement("div",{style:D.activeColor}))),M.default.createElement(h7e,{rgb:i,hsl:c,hex:n,onChange:h,disableAlpha:m}),M.default.createElement(Kre,{colors:d,onClick:h,onSwatchHover:p}))};aF.propTypes={disableAlpha:z.exports.bool,width:z.exports.oneOfType([z.exports.string,z.exports.number]),styles:z.exports.object},aF.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const p7e=ol(aF);var OC=function(t){var r=t.hsl,i=t.offset,n=t.onClick,s=n===void 0?function(){}:n,c=t.active,h=t.first,p=t.last,m=rn({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+i*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:c,first:h,last:p}),d=function(_){return s({h:r.h,s:.5,l:i,source:"hsl"},_)};return M.default.createElement("div",{style:m.swatch,onClick:d})},m7e=function(t){var r=t.onClick,i=t.hsl,n=rn({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return M.default.createElement("div",{style:n.swatches},M.default.createElement("div",{style:n.swatch},M.default.createElement(OC,{hsl:i,offset:".80",active:Math.abs(i.l-.8)<s&&Math.abs(i.s-.5)<s,onClick:r,first:!0})),M.default.createElement("div",{style:n.swatch},M.default.createElement(OC,{hsl:i,offset:".65",active:Math.abs(i.l-.65)<s&&Math.abs(i.s-.5)<s,onClick:r})),M.default.createElement("div",{style:n.swatch},M.default.createElement(OC,{hsl:i,offset:".50",active:Math.abs(i.l-.5)<s&&Math.abs(i.s-.5)<s,onClick:r})),M.default.createElement("div",{style:n.swatch},M.default.createElement(OC,{hsl:i,offset:".35",active:Math.abs(i.l-.35)<s&&Math.abs(i.s-.5)<s,onClick:r})),M.default.createElement("div",{style:n.swatch},M.default.createElement(OC,{hsl:i,offset:".20",active:Math.abs(i.l-.2)<s&&Math.abs(i.s-.5)<s,onClick:r,last:!0})),M.default.createElement("div",{style:n.clear}))},g7e=function(){var t=rn({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return M.default.createElement("div",{style:t.picker})},oF=function(t){var r=t.hsl,i=t.onChange,n=t.pointer,s=t.styles,c=s===void 0?{}:s,h=t.className,p=h===void 0?"":h,m=rn(al({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},c));return M.default.createElement("div",{style:m.wrap||{},className:"slider-picker "+p},M.default.createElement("div",{style:m.hue},M.default.createElement(h_,{style:m.Hue,hsl:r,pointer:n,onChange:i})),M.default.createElement("div",{style:m.swatches},M.default.createElement(m7e,{hsl:r,onClick:i})))};oF.propTypes={styles:z.exports.object},oF.defaultProps={pointer:g7e,styles:{}},ol(oF);var Zre={};Object.defineProperty(Zre,"__esModule",{value:!0});var Qre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},v7e=M.default,Jre=y7e(v7e);function y7e(e){return e&&e.__esModule?e:{default:e}}function _7e(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}var Ck=24,E7e=Zre.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,i=e.width,n=i===void 0?Ck:i,s=e.height,c=s===void 0?Ck:s,h=e.style,p=h===void 0?{}:h,m=_7e(e,["fill","width","height","style"]);return Jre.default.createElement("svg",Qre({viewBox:"0 0 "+Ck+" "+Ck,style:Qre({fill:r,width:n,height:c},p)},m),Jre.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},T7e=function(t){var r=t.color,i=t.onClick,n=i===void 0?function(){}:i,s=t.onSwatchHover,c=t.first,h=t.last,p=t.active,m=rn({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:K6(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:c,last:h,active:p,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return M.default.createElement(sv,{color:r,style:m.color,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+r}},M.default.createElement("div",{style:m.check},M.default.createElement(E7e,null)))},b7e=function(t){var r=t.onClick,i=t.onSwatchHover,n=t.group,s=t.active,c=rn({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return M.default.createElement("div",{style:c.group},Np(n,function(h,p){return M.default.createElement(T7e,{key:h,color:h,active:h.toLowerCase()===s,first:p===0,last:p===n.length-1,onClick:r,onSwatchHover:i})}))},sF=function(t){var r=t.width,i=t.height,n=t.onChange,s=t.onSwatchHover,c=t.colors,h=t.hex,p=t.styles,m=p===void 0?{}:p,d=t.className,E=d===void 0?"":d,_=rn(al({default:{picker:{width:r,height:i},overflow:{height:i,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},m)),T=function(A,D){return n({hex:A,source:"hex"},D)};return M.default.createElement("div",{style:_.picker,className:"swatches-picker "+E},M.default.createElement(AC,null,M.default.createElement("div",{style:_.overflow},M.default.createElement("div",{style:_.body},Np(c,function(C){return M.default.createElement(b7e,{key:C.toString(),group:C,active:h,onClick:T,onSwatchHover:s})}),M.default.createElement("div",{style:_.clear})))))};sF.propTypes={width:z.exports.oneOfType([z.exports.string,z.exports.number]),height:z.exports.oneOfType([z.exports.string,z.exports.number]),colors:z.exports.arrayOf(z.exports.arrayOf(z.exports.string)),styles:z.exports.object},sF.defaultProps={width:320,height:240,colors:[[f_[900],f_[700],f_[500],f_[300],f_[100]],[d_[900],d_[700],d_[500],d_[300],d_[100]],[p_[900],p_[700],p_[500],p_[300],p_[100]],[m_[900],m_[700],m_[500],m_[300],m_[100]],[g_[900],g_[700],g_[500],g_[300],g_[100]],[v_[900],v_[700],v_[500],v_[300],v_[100]],[y_[900],y_[700],y_[500],y_[300],y_[100]],[__[900],__[700],__[500],__[300],__[100]],[E_[900],E_[700],E_[500],E_[300],E_[100]],["#194D33",DC[700],DC[500],DC[300],DC[100]],[T_[900],T_[700],T_[500],T_[300],T_[100]],[b_[900],b_[700],b_[500],b_[300],b_[100]],[S_[900],S_[700],S_[500],S_[300],S_[100]],[C_[900],C_[700],C_[500],C_[300],C_[100]],[A_[900],A_[700],A_[500],A_[300],A_[100]],[w_[900],w_[700],w_[500],w_[300],w_[100]],[x_[900],x_[700],x_[500],x_[300],x_[100]],[I_[900],I_[700],I_[500],I_[300],I_[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},ol(sF);var lF=function(t){var r=t.onChange,i=t.onSwatchHover,n=t.hex,s=t.colors,c=t.width,h=t.triangle,p=t.styles,m=p===void 0?{}:p,d=t.className,E=d===void 0?"":d,_=rn(al({default:{card:{width:c,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},m),{"hide-triangle":h==="hide","top-left-triangle":h==="top-left","top-right-triangle":h==="top-right"}),T=function(A,D){Mp(A)&&r({hex:A,source:"hex"},D)};return M.default.createElement("div",{style:_.card,className:"twitter-picker "+E},M.default.createElement("div",{style:_.triangleShadow}),M.default.createElement("div",{style:_.triangle}),M.default.createElement("div",{style:_.body},Np(s,function(C,A){return M.default.createElement(sv,{key:A,color:C,hex:C,style:_.swatch,onClick:T,onHover:i,focusStyle:{boxShadow:"0 0 4px "+C}})}),M.default.createElement("div",{style:_.hash},"#"),M.default.createElement(zn,{label:null,style:{input:_.input},value:n.replace("#",""),onChange:T}),M.default.createElement("div",{style:_.clear})))};lF.propTypes={width:z.exports.oneOfType([z.exports.string,z.exports.number]),triangle:z.exports.oneOf(["hide","top-left","top-right"]),colors:z.exports.arrayOf(z.exports.string),styles:z.exports.object},lF.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},ol(lF);var uF=function(t){var r=rn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return M.default.createElement("div",{style:r.picker})};uF.propTypes={hsl:z.exports.shape({h:z.exports.number,s:z.exports.number,l:z.exports.number,a:z.exports.number})},uF.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var cF=function(t){var r=rn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return M.default.createElement("div",{style:r.picker})};cF.propTypes={hsl:z.exports.shape({h:z.exports.number,s:z.exports.number,l:z.exports.number,a:z.exports.number})},cF.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var S7e=function(t){var r=t.onChange,i=t.rgb,n=t.hsl,s=t.hex,c=t.hsv,h=function(T,C){if(T.hex)Mp(T.hex)&&r({hex:T.hex,source:"hex"},C);else if(T.rgb){var A=T.rgb.split(",");Z6(T.rgb,"rgb")&&r({r:A[0],g:A[1],b:A[2],a:1,source:"rgb"},C)}else if(T.hsv){var D=T.hsv.split(",");Z6(T.hsv,"hsv")&&(D[2]=D[2].replace("%",""),D[1]=D[1].replace("%",""),D[0]=D[0].replace("",""),D[1]==1?D[1]=.01:D[2]==1&&(D[2]=.01),r({h:Number(D[0]),s:Number(D[1]),v:Number(D[2]),source:"hsv"},C))}else if(T.hsl){var O=T.hsl.split(",");Z6(T.hsl,"hsl")&&(O[2]=O[2].replace("%",""),O[1]=O[1].replace("%",""),O[0]=O[0].replace("",""),E[1]==1?E[1]=.01:E[2]==1&&(E[2]=.01),r({h:Number(O[0]),s:Number(O[1]),v:Number(O[2]),source:"hsl"},C))}},p=rn({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),m=i.r+", "+i.g+", "+i.b,d=Math.round(n.h)+", "+Math.round(n.s*100)+"%, "+Math.round(n.l*100)+"%",E=Math.round(c.h)+", "+Math.round(c.s*100)+"%, "+Math.round(c.v*100)+"%";return M.default.createElement("div",{style:p.wrap,className:"flexbox-fix"},M.default.createElement("div",{style:p.fields},M.default.createElement("div",{style:p.double},M.default.createElement(zn,{style:{input:p.input,label:p.label},label:"hex",value:s,onChange:h})),M.default.createElement("div",{style:p.column},M.default.createElement("div",{style:p.single},M.default.createElement(zn,{style:{input:p.input2,label:p.label2},label:"rgb",value:m,onChange:h})),M.default.createElement("div",{style:p.single},M.default.createElement(zn,{style:{input:p.input2,label:p.label2},label:"hsv",value:E,onChange:h})),M.default.createElement("div",{style:p.single},M.default.createElement(zn,{style:{input:p.input2,label:p.label2},label:"hsl",value:d,onChange:h})))))},hF=function(t){var r=t.width,i=t.onChange,n=t.rgb,s=t.hsl,c=t.hsv,h=t.hex,p=t.header,m=t.styles,d=m===void 0?{}:m,E=t.className,_=E===void 0?"":E,T=rn(al({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+n.r+", "+n.g+", "+n.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},d));return M.default.createElement("div",{style:T.picker,className:"google-picker "+_},M.default.createElement("div",{style:T.head},p),M.default.createElement("div",{style:T.swatch}),M.default.createElement("div",{style:T.saturation},M.default.createElement(Tk,{hsl:s,hsv:c,pointer:uF,onChange:i})),M.default.createElement("div",{style:T.body},M.default.createElement("div",{style:T.controls,className:"flexbox-fix"},M.default.createElement("div",{style:T.hue},M.default.createElement(h_,{style:T.Hue,hsl:s,radius:"4px",pointer:cF,onChange:i}))),M.default.createElement(S7e,{rgb:n,hsl:s,hex:h,hsv:c,onChange:i})))};hF.propTypes={width:z.exports.oneOfType([z.exports.string,z.exports.number]),styles:z.exports.object,header:z.exports.string},hF.defaultProps={width:652,styles:{},header:"Color picker"},ol(hF);let ene=(function(e){f(r,e);var t=g(r);function r(i){var n;H(this,r),n=t.call(this,i);const s=$u(i.color);return n.state={displayColorPicker:!1,color:{r:s.r,g:s.g,b:s.b,a:s.opacity}},n}return j(r,[{key:"handleClick",value:function(){this.setState(n=>({displayColorPicker:!n.displayColorPicker}))}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(n){const s=n.rgb,c=`rgba(${s.r},${s.g},${s.b},${s.a})`;this.props.onChange(c),this.setState({color:n.rgb})}},{key:"render",value:function(){const n=rn({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:`rgba(${this.state.color.r}, ${this.state.color.g}, ${this.state.color.b}, ${this.state.color.a})`},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return M.default.createElement("div",null,M.default.createElement("div",{onClick:this.handleClick.bind(this),style:n.swatch},M.default.createElement("div",{style:n.color})),this.state.displayColorPicker?M.default.createElement("div",{style:n.popover},M.default.createElement("div",{onClick:this.handleClose.bind(this),style:n.cover}),M.default.createElement(p7e,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}}]),r})(M.default.Component);ene.propTypes={color:z.exports.string,onChange:z.exports.func};let fF=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.state={colors:i.track.options.colorRange.slice()},n}return j(r,[{key:"handleColorsChanged",value:function(n){this.setState({colors:n})}},{key:"handleSubmit",value:function(){const n=this.props.track.options;n.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}},{key:"handleAddColor",value:function(){this.setState(n=>({colors:n.colors.concat(n.colors[n.colors.length-1])}))}},{key:"handleRemoveColor",value:function(n){this.setState(s=>({colors:s.colors.slice(0,n).concat(s.colors.slice(n+1))}))}},{key:"render",value:function(){const n=JSON.parse(JSON.stringify(this.props.track)),s=Object.assign(n,{options:{colorRange:this.state.colors}}),c={editable:!1,zoomFixed:!0,views:[{uid:`hmo-${this.props.track.uid}`,initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[s]},layout:{x:0,y:0,h:12,w:12,i:`hmo-${this.props.track.id}`}}]},h=this.state.colors.map((m,d)=>{const E=this.state.colors.length>2&&d===this.state.colors.length-1?M.default.createElement("div",{onClick:()=>this.handleRemoveColor(d),style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},M.default.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},M.default.createElement("use",{xlinkHref:"#cross"}))):null;return M.default.createElement("div",{key:`l${d}`,style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},E,M.default.createElement(ene,{key:d,color:this.state.colors[d],onChange:_=>{this.setState(T=>{const C=T.colors.slice();return C[d]=_,{colors:C}},()=>{this.handleColorsChanged(this.state.colors)})}}))}).reverse(),p=this.state.colors.length<10?M.default.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},M.default.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},M.default.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},M.default.createElement("use",{xlinkHref:"#plus"})))):null;return M.default.createElement(fC,{okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmit.bind(this),title:"Custom Color Map"},M.default.createElement("table",{className:"table-track-options"},M.default.createElement("thead",null),M.default.createElement("tbody",{style:{verticalAlign:"top"}},M.default.createElement("tr",null,M.default.createElement("td",{className:"td-track-options"},M.default.createElement("table",null,M.default.createElement("tbody",null,M.default.createElement("tr",null,M.default.createElement("td",{className:"td-track-options"},"Preview")),M.default.createElement("tr",null,M.default.createElement("td",{className:"td-track-options"},M.default.createElement("div",{style:{width:200}},M.default.createElement(Vk,{options:{bounded:!1},viewConfig:c}))))))),M.default.createElement("td",{className:"td-track-options"},M.default.createElement("table",null,M.default.createElement("tbody",null,M.default.createElement("tr",null,M.default.createElement("td",{className:"td-track-options"},"Colors")),M.default.createElement("tr",null,M.default.createElement("td",{className:"td-track-options"},p,M.default.createElement("div",{style:{position:"relative"}},h))))))))))}}]),r})(M.default.Component);fF.propTypes={handleCancel:z.exports.func,onCancel:z.exports.func,onSubmit:z.exports.func,track:z.exports.object,xScale:z.exports.object,yScale:z.exports.object};const tne=e=>{if(!e.header)return[];const t=e.header.split("	"),r=[];for(let i=0;i<t.length;i++)r.push({name:t[i],value:i+1});return r},D_=(e,t="",r=1)=>e.reduce((i,n)=>(i[n]={name:`${n*r}${t}`,value:n},i),{}),Wl={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},fa={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},C7e={use_stroke:{name:"Glyph color",value:"[glyph-color]"}},kC=D_([1,2,3,5,8,13,21]),A7e=Object.assign(kC,{none:{name:"none",value:"none"}}),Ak=D_([0,2,4,8,16,32,64,128,256]),Lp=D_([0,.2,.4,.6,.8,1],"%",100),w7e=D_([.2,.4,.6,.8,1],"%",100),zo={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:Ak},labelRightMargin:{name:"Label Right Margin",inlineOptions:Ak},labelTopMargin:{name:"Label Top Margin",inlineOptions:Ak},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:Ak},labelShowResolution:{name:"Label Show Resolution",inlineOptions:Wl},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:Wl},lineStrokeWidth:{name:"Stroke Width",inlineOptions:kC},strokeWidth:{name:"Stroke Width",inlineOptions:kC},trackBorderWidth:{name:"Track Border Width",inlineOptions:kC},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:Wl},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:Wl},showTexts:{name:"Show texts",inlineOptions:Wl},staggered:{name:"Staggered",inlineOptions:Wl},minSquareSize:{name:"Minimum size",inlineOptions:A7e},pointSize:{name:"Point Size",inlineOptions:kC},pointColor:{name:"Point Color",inlineOptions:fa},trackBorderColor:{name:"Track Border Color",inlineOptions:fa},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:fa},plusStrandColor:{name:"+ Strand Color",inlineOptions:fa},lineStrokeColor:{name:"Stroke color",inlineOptions:fa},projectionStrokeColor:{name:"Stroke color",inlineOptions:fa},projectionFillColor:{name:"Fill color",inlineOptions:fa},stroke:{name:"Stroke Color",inlineOptions:fa},strokeColor:{name:"Stroke color",inlineOptions:fa},fill:{name:"Fill Color",inlineOptions:fa},color:{name:"Color",inlineOptions:fa},fontColor:{name:"Font color",inlineOptions:fa},fillColor:{name:"Fill color",inlineOptions:fa},barFillColor:{name:"Fill color",inlineOptions:fa},barFillColorTop:{name:"Top Fill color",inlineOptions:fa},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:fa},barOpacity:{name:"Bar opacity",inlineOptions:Lp},zeroLineVisible:{name:"Zero line visible",inlineOptions:Wl},zeroLineColor:{name:"Zero line color",inlineOptions:fa},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:w7e},fillOpacity:{name:"Fill Opacity",inlineOptions:Lp},strokeOpacity:{name:"Stroke Opacity",inlineOptions:Lp},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:Wl},scaledHeight:{name:"Scaled height",inlineOptions:Wl},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:fa},rectangleDomainFillColor:{name:"Fill color",inlineOptions:fa},rectangleDomainFillOpacity:{name:"Fill opacity",inlineOptions:Lp},rectangleDomainOpacity:{name:"Opacity",inlineOptions:Lp},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:Wl},showTooltip:{name:"Show Tooltip",inlineOptions:Wl},fontSize:{name:"Font Size",inlineOptions:D_([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:tne},fontIsAligned:{name:"Left-Align Font",inlineOptions:Wl},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:D_([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:fa},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:Lp},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:{...fa,...C7e}},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:Lp},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:fa},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:Lp},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:fF,"horizontal-heatmap":fF}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:Wl},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:e=>{const t=[];if(e.transforms)for(const r of e.transforms)t.push({name:r.name,value:r.value});return t}},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:e=>{const t=[];return e.aggregationModes?Object.values(e.aggregationModes).forEach(({name:r,value:i})=>{t.push({name:r,value:i})}):t.push({name:"Default",value:"default"}),t}},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:e=>{if(e.maxZoom){const t=[];for(let r=0;r<=e.maxZoom;r++){const{maxWidth:i,binsPerDimension:n,maxZoom:s}=e;let c=1,h=1;if(e.resolutions){const E=e.resolutions.map(_=>+_).sort((_,T)=>T-_);[c]=E,h=E[r]}else h=e.maxWidth/(2**r*e.binsPerDimension),c=i/(2**s*n);const p=Zc(c,h),d=wl(`.${p}`,h)(h);t.push({name:d,value:r.toString()})}return t}return[]}},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:tne},zeroValueColor:{name:"Zero Value Color",inlineOptions:fa}},rne={...w0e,IS_TRACK_RANGE_SELECTABLE:Ny,OPTIONS_INFO:zo},x7e={d3Array:FE,d3Axis:s5e,d3Brush:Nve,d3Color:A0,d3Drag:fge,d3Dsv:q0e,d3Format:Cw,d3Geo:o6e,d3Queue:h6e,d3Request:k6e,d3Scale:ih,d3Selection:l0,d3Transition:EMe,d3Zoom:xMe,PIXI:rne.GLOBALS.PIXI,mix:Q1,slugid:hn},wk={chromosomes:{ChromosomeInfo:Nh,SearchField:Z1},libraries:x7e,tracks:{Annotations1dTrack:l3,Annotations2dTrack:dJ,ArrowheadDomainsTrack:fJ,BarTrack:t3,BedLikeTrack:ZQ,CNVIntervalTrack:iJ,Chromosome2DAnnotations:vJ,Chromosome2DLabels:gJ,ChromosomeGrid:jS,CombinedTrack:JM,CrossRule:OJ,DivergentBarTrack:rJ,HeatmapTiledPixiTrack:MS,Horizontal1dHeatmapTrack:nJ,Horizontal2DDomainsTrack:pJ,HorizontalChromosomeLabels:_J,HorizontalGeneAnnotationsTrack:s3,HorizontalHeatmapTrack:EJ,HorizontalLine1DPixiTrack:q1,HorizontalMultivecTrack:tJ,HorizontalPoint1DPixiTrack:eJ,HorizontalRule:xJ,HorizontalTiled1DPixiTrack:U1,HorizontalTiledPlot:ok,HorizontalTrack:ste,Id2DTiledPixiTrack:eQ,IdHorizontal1DTiledPixiTrack:tQ,IdVertical1DTiledPixiTrack:nQ,LeftAxisTrack:lQ,MapboxTilesTrack:PJ,MoveableTrack:ik,OSMTileIdsTrack:kJ,OSMTilesTrack:VS,OverlayTrack:JQ,PixiTrack:ks,RasterTilesTrack:RJ,SVGTrack:xp,SquareMarkersTrack:mJ,Tiled1DPixiTrack:LB,TiledPixiTrack:Sp,TopAxisTrack:sQ,Track:I1,ValueIntervalTrack:bJ,VerticalRule:DJ,VerticalTiled1DPixiTrack:rQ,VerticalTrack:cte,ViewportTracker2D:SJ,ViewportTracker2DPixi:M6e,ViewportTrackerHorizontal:CJ,ViewportTrackerVertical:AJ},dataFetchers:{DataFetcher:FD,GBKDataFetcher:YZ,LocalDataFetcher:XZ,getDataFetcher:WBe},factories:{ContextMenuItem:cn,DataFetcher:FD,LruCache:hte},services:Eye,utils:UMe,configs:rne,VERSION:p6},dF={"track-renderer":"_track-renderer_11dwb_1","track-renderer-element":"_track-renderer-element_11dwb_5","track-renderer-events":"_track-renderer-events_11dwb_6"},{getDataFetcher:I7e}=wk.dataFetchers,D7e=100;let pF=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.dragging=!1,n.element=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTop=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=_o,n.windowScrolledBound=n.windowScrolled.bind(S(n)),n.zoomStartedBound=n.zoomStarted.bind(S(n)),n.zoomedBound=n.zoomed.bind(S(n)),n.zoomEndedBound=n.zoomEnded.bind(S(n)),n.uid=hn.nice(),n.viewUid=n.props.uid,n.availableForPlugins={...wk,services:{...wk.services,pubSub:n.props.pubSub,pixiRenderer:n.props.pixiRenderer}},n.mounted=!1,n.emptyZoomBehavior=rB(),n.currentProps=i,n.prevPropsStr="",n.zoomBehavior=rB().filter(s=>!(s.target.classList.contains("no-zoom")||s.target.classList.contains("react-resizable-handle"))).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.zoomTransform=_o,n.prevZoomTransform=_o,n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.xDomainLimits=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],n.yDomainLimits=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],n.zoomLimits=[0,Number.MAX_SAFE_INTEGER],n.prevCenterX=n.currentProps.paddingLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.paddingTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain,n.currentProps.xDomainLimits,n.currentProps.yDomainLimits,n.currentProps.zoomLimits),n.setUpScales(),n.trackDefObjects={},n.metaTracks={},n.pubSubs=[],window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(s=>{Ci[s]=window.higlassTracksByType[s].config}),n.boundForwardEvent=n.forwardEvent.bind(S(n)),n.boundScrollEvent=n.scrollEvent.bind(S(n)),n.boundForwardContextMenu=n.forwardContextMenu.bind(S(n)),n.dispatchEventBound=n.dispatchEvent.bind(S(n)),n.zoomToDataPosHandlerBound=n.zoomToDataPosHandler.bind(S(n)),n.onScrollHandlerBound=n.onScrollHandler.bind(S(n)),n}return j(r,[{key:"UNSAFE_componentWillMount",value:function(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}},{key:"componentDidMount",value:function(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=tn(this.element),this.svgTrackAreaSelection=tn(this.svgTrackArea),this.pStage=new er.PIXI.Graphics,this.pMask=new er.PIXI.Graphics,this.pOutline=new er.PIXI.Graphics,this.pBackground=new er.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),!this.currentProps.svgElement||!this.currentProps.canvasElement)return;this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();const n=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],s=this.svgElement.getBoundingClientRect(),c=[[Math.max(n[0][0],0),Math.max(n[0][1],0)],[Math.min(n[1][0],s.width),Math.min(n[1][1],s.height)]];this.zoomBehavior.extent(c).translateExtent(n).scaleExtent(this.zoomLimits)}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){if(!n.svgElement||!n.canvasElement)return;const s=this.updatablePropsToString(n);if(this.currentProps=n,this.prevPropsStr===s)return;this.setBackground();for(const m in this.trackDefObjects){const d=this.trackDefObjects[m].trackObject;d.delayDrawing=!0}this.prevPropsStr=s,this.setUpInitialScales(n.initialXDomain,n.initialYDomain,n.xDomainLimits,n.yDomainLimits,n.zoomLimits),this.setUpScales(n.width!==this.props.width||n.height!==this.props.height),this.svgElement=n.svgElement;const c=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],h=this.svgElement.getBoundingClientRect(),p=[[Math.max(c[0][0],0),Math.max(c[0][1],0)],[Math.min(c[1][0],h.width),Math.min(c[1][1],h.height)]];this.zoomBehavior.extent(p).translateExtent(c).scaleExtent(this.zoomLimits),this.syncTrackObjects(n.positionedTracks),this.syncMetaTracks(n.metaTracks);for(const m of n.positionedTracks){const d=m.track.options,E=this.trackDefObjects[m.track.uid].trackObject;if(E.rerender(d),m.track.hasOwnProperty("contents")){const _={};for(const T of m.track.contents)_[T.uid]=T;for(const T in E.createdTracks)E.createdTracks[T].rerender(_[T].options)}}this.props.onNewTilesLoaded();for(const m in this.trackDefObjects){const d=this.trackDefObjects[m].trackObject;d.delayDrawing=!1,d.draw()}}},{key:"componentDidUpdate",value:function(n){(this.props.initialXDomain[0]!==n.initialXDomain[0]||this.props.initialXDomain[1]!==n.initialXDomain[1]||this.props.initialYDomain[0]!==n.initialYDomain[0]||this.props.initialYDomain[1]!==n.initialYDomain[1])&&(this.element.__zoom=_o),n.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),n.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.removeTracks(Object.keys(this.trackDefObjects)),this.removeMetaTracks(Object.keys(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach(n=>this.props.pubSub.unsubscribe(n)),this.pubSubs=[],this.removeEventTracker()}},{key:"dispatchEvent",value:function(n){n.sourceUid===this.uid&&n.type!=="contextmenu"&&qx(n,this.element)}},{key:"isWithin",value:function(n,s){if(!this.element)return!1;const c=n>=this.elementPos.left&&n<=this.elementPos.width+this.elementPos.left,h=s>=this.elementPos.top&&s<=this.elementPos.height+this.elementPos.top;return c&&h}},{key:"zoomToDataPosHandler",value:function({pos:n,animateTime:s,isMercator:c}){this.zoomToDataPos(...n,s,c)}},{key:"addZoom",value:function(){!this.elementSelection||!this.currentProps.zoomable||(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}},{key:"removeZoom",value:function(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}},{key:"setMask",value:function(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}},{key:"setBackground",value:function(){const n=this.props.theme===Oi?"black":"white",s=Pr(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||n);this.pBackground.clear(),this.pBackground.beginFill(s),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}},{key:"windowScrolled",value:function(){this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.addZoom()},D7e)}},{key:"setUpInitialScales",value:function(n=[0,1],s=[0,1],c=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],h=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],p=[0,Number.MAX_SAFE_INTEGER]){p[0]=p[0]===null?0:p[0],p[1]=p[1]===null?1/0:p[1];const m=n[1]-n[0],d=(s[0]+s[1])/2;if(s[0]=d-m/2,s[1]=d+m/2,n[0]===this.initialXDomain[0]&&n[1]===this.initialXDomain[1]&&s[0]===this.initialYDomain[0]&&s[1]===this.initialYDomain[1]&&c[0]===this.xDomainLimits[0]&&c[1]===this.xDomainLimits[1]&&h[0]===this.yDomainLimits[0]&&h[1]===this.yDomainLimits[1]&&p[0]===this.zoomLimits[0]&&p[1]===this.zoomLimits[1])return;this.initialXDomain=n,this.initialYDomain=s,this.xDomainLimits=c,this.yDomainLimits=h,this.zoomLimits=p,this.zoomTransform=_o,this.prevZoomTransform=_o,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=qr().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([n[0],n[1]]);let E,_;this.currentProps.centerWidth===0?(E=this.currentProps.paddingTop+this.currentProps.topHeight,_=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight):(E=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,_=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2),this.drawableToDomainY=qr().domain([E,_]).range([s[0],s[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2}},{key:"updatablePropsToString",value:function(n){return JSON.stringify({positionedTracks:n.positionedTracks,initialXDomain:n.initialXDomain,initialYDomain:n.initialYDomain,width:n.width,height:n.height,paddingLeft:n.paddingLeft,paddingTop:n.paddingTop,leftWidth:n.leftWidth,topHeight:n.topHeight,dragging:n.dragging,viewOptions:n.viewOptions})}},{key:"draggingChanged",value:function(n){this.dragging=n,this.timedUpdatePositionAndDimensions()}},{key:"setUpScales",value:function(n=!1){const s=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,c=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,h=(this.drawableToDomainX(s)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,p=(this.drawableToDomainY(c)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=p,this.cumCenterXOffset+=h,this.prevCenterY=c,this.prevCenterX=s;const m=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],d=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];this.xScale=qr().domain(m).range([0,this.currentProps.width]),this.yScale=qr().domain(d).range([0,this.currentProps.height]);for(const E in this.trackDefObjects)this.trackDefObjects[E].trackObject.refScalesChanged(this.xScale,this.yScale);this.applyZoomTransform(n)}},{key:"getTrackDef",value:function(n){const s=mu(this.trackDefObjects);for(const[,{trackDef:c,trackObject:h}]of s){if(h===n)return c.track;if(c.track.contents){for(const p of c.track.contents)if(h.createdTracks[p.uid]===n)return p}}return null}},{key:"getTrackObject",value:function(n){const s=mu(this.trackDefObjects);for(let c=0;c<s.length;c++){const h=s[c][0],p=s[c][1].trackObject;if(h===n)return p;if(p.createdTracks){const m=mu(p.createdTracks);for(let d=0;d<m.length;d++){const E=m[d][0],_=m[d][1];if(E===n)return _}}}}},{key:"timedUpdatePositionAndDimensions",value:function(){this.closing||!this.element||(this.elementPos=this.element.getBoundingClientRect(),this.dragging&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))))}},{key:"syncMetaTracks",value:function(n){const s=Object.keys(this.metaTracks),c=new Set(n.map(h=>h.uid));this.addMetaTracks(n.filter(h=>!this.metaTracks[h.uid])),this.updateMetaTracks(n.filter(h=>this.metaTracks[h.uid])),this.removeMetaTracks(s.filter(h=>!c.has(h)))}},{key:"syncTrackObjects",value:function(n){this.prevTrackDefinitions=JSON.stringify(n);const s={};for(let E=0;E<n.length;E++)s[n[E].track.uid]=n[E];const c=new Set(Object.keys(this.trackDefObjects)),h=new Set(Object.keys(s)),p=new Set([...h].filter(E=>!c.has(E))),m=new Set([...c].filter(E=>!h.has(E))),d=new Set([...h].filter(E=>c.has(E)));this.updateExistingTrackDefs([...d].map(E=>s[E])),this.addNewTracks([...p].map(E=>s[E])),this.updateExistingTrackDefs([...p].map(E=>s[E])),this.removeTracks([...m])}},{key:"addMetaTracks",value:function(n){n.filter(s=>!this.metaTracks[s.uid]).forEach(s=>{this.metaTracks[s.uid]={trackDef:s,trackObject:this.createMetaTrack(s)}})}},{key:"addNewTracks",value:function(n){if(this.currentProps.pixiStage){for(let s=0;s<n.length;s++){const c=n[s],h=this.createTrackObject(c.track);h.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[c.track.uid]={trackDef:c,trackObject:h};const p=this.zoomTransform.rescaleX(this.xScale),m=this.zoomTransform.rescaleY(this.yScale);h.setDimensions([c.width,c.height]),h.zoomed(p,m)}this.applyZoomTransform(!1)}}},{key:"updateMetaTracks",value:function(){}},{key:"updateExistingTrackDefs",value:function(n){for(let c=0;c<n.length;c++)this.trackDefObjects[n[c].track.uid].trackDef=n[c],n[c].track.type==="combined"&&this.trackDefObjects[n[c].track.uid].trackObject.updateContents(n[c].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}},{key:"updateTrackPositions",value:function(){let n=!1;for(const s in this.trackDefObjects){const c=this.trackDefObjects[s].trackDef,h=this.trackDefObjects[s].trackObject,p=h.position,m=h.dimensions,d=[this.xPositionOffset+c.left,this.yPositionOffset+c.top],E=[c.width,c.height];(!p||d[0]!==p[0]||d[1]!==p[1])&&(h.setPosition(d),n=!0),(!m||E[0]!==m[0]||E[1]!==m[1])&&(h.setDimensions(E),n=!0)}return n}},{key:"removeMetaTracks",value:function(n){n.forEach(s=>{this.metaTracks[s].trackObject.remove(),this.metaTracks[s]=void 0,delete this.metaTracks[s]})}},{key:"removeTracks",value:function(n){for(let s=0;s<n.length;s++)this.trackDefObjects[n[s]].trackObject.remove(),delete this.trackDefObjects[n[s]]}},{key:"setCenter",value:function(n,s,c,h=!1,p=0,m=this.xScale,d=this.yScale){const _=(this.xScale.invert(1)-this.xScale.invert(0))/c,T=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,C=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,A=T-m(n)*_,D=C-d(s)*_;let O;const B=()=>{const P=_o.translate(A,D).scale(_);this.zoomTransform=P,this.emptyZoomBehavior.transform(this.elementSelection,P),O=this.applyZoomTransform(h)};if(p){let P=this.elementSelection;this.activeTransitions+=1,document.hidden||(P=P.transition().duration(p)),P.call(this.zoomBehavior.transform,_o.translate(A,D).scale(_)).on("end",()=>{B(),this.activeTransitions-=1})}else B();return O}},{key:"valueScaleMove",value:function(n){for(const s of this.getTracksAtPosition(...this.zoomStartPos))s.movedY(n);this.zoomTransform=this.zoomStartTransform}},{key:"valueScaleZoom",value:function(n,s){const c=n.sourceEvent.deltaY,h=n.sourceEvent.deltaMode,m=((E,_)=>E*(_?120:1)/500)(c,h),d=Ln(n.sourceEvent,this.props.canvasElement);for(const E of this.getTracksAtPosition(...d)){const _=s==="1d-horizontal"?d[1]-E.position[1]:d[0]-E.position[0];E.zoomedY(_,2**m)}this.zoomTransform=this.zoomStartTransform}},{key:"zoomed",value:function(n){let s=null;if(this.zoomStartPos){const h=this.getTracksAtPosition(...this.zoomStartPos);if(h.length){const p=h[0],m=this.getTrackDef(p);Ci[m.type]&&(s=Ci[m.type].orientation),p instanceof aJ&&(s="1d-vertical")}}if(s&&n.sourceEvent){if(n.shiftKey||this.valueScaleZooming){if(n.sourceEvent.deltaY!==void 0){this.valueScaleZoom(n,s);return}s==="1d-horizontal"?this.valueScaleMove(n.sourceEvent.movementY):s==="1d-vertical"&&this.valueScaleMove(n.sourceEvent.movementX)}s==="1d-horizontal"&&n.sourceEvent.movementY?this.valueScaleMove(n.sourceEvent.movementY):s==="1d-vertical"&&n.sourceEvent.movementX&&this.valueScaleMove(n.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?n.transform:_o,this.prevZoomTransform.k!==this.zoomTransform.k||(s==="1d-horizontal"?this.zoomTransform=_o.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):s==="1d-vertical"&&(this.zoomTransform=_o.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",n),n.sourceEvent&&(n.sourceEvent.stopPropagation(),n.sourceEvent.preventDefault())}},{key:"getTracksAtPosition",value:function(n,s){const c=[];let h=[];for(const p in this.trackDefObjects){const m=this.trackDefObjects[p].trackObject;m.childTracks?h=h.concat(m.childTracks):h.push(m)}for(const p of h){const m=p.position[0]<=n&&n<=p.position[0]+p.dimensions[0],d=p.position[1]<=s&&s<=p.position[1]+p.dimensions[1];m&&d&&c.push(p)}return c}},{key:"zoomStarted",value:function(n){this.zooming=!0,n&&n.sourceEvent&&(this.zoomStartPos=Ln(n.sourceEvent,this.props.canvasElement),n.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}},{key:"zoomEnded",value:function(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}},{key:"applyZoomTransform",value:function(n=!0){const s=this.currentProps,c=s.paddingLeft+s.leftWidth,h=s.paddingTop+s.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);const p=qr().domain([c,c+s.centerWidth].map(this.zoomedXScale.invert)).range([0,s.centerWidth]),m=qr().domain([h,h+s.centerHeight].map(this.zoomedYScale.invert)).range([0,s.centerHeight]);for(const d in this.trackDefObjects){const E=this.trackDefObjects[d].trackObject,_=this.trackDefObjects[d].trackDef;let T="unknown";if(Ci[_.track.type]&&(T=Ci[_.track.type].orientation),T==="whole"){const C=qr().domain([s.paddingLeft,s.width-s.paddingLeft].map(this.zoomedXScale.invert)).range([0,s.width-2*s.paddingLeft]),A=qr().domain([s.paddingTop,s.height-s.paddingTop].map(this.zoomedYScale.invert)).range([0,s.height-2*s.paddingTop]);E.zoomed(C,A);continue}if(this.trackDefObjects[d].trackDef.track.position==="gallery"){const C=qr().domain([s.paddingLeft+s.leftWidthNoGallery,s.paddingLeft+s.leftWidth+s.centerWidth+s.galleryDim].map(this.zoomedXScale.invert)).range([0,s.centerWidth+2*s.galleryDim]),A=qr().domain([s.paddingTop+s.topHeightNoGallery,s.paddingTop+s.topHeight+s.centerHeight+s.galleryDim].map(this.zoomedYScale.invert)).range([0,s.centerHeight-2*s.galleryDim]);E.zoomed(C.copy(),A.copy(),this.zoomTransform.k);continue}E.zoomed(p.copy(),m.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,s.paddingLeft+s.leftWidth,s.paddingTop+s.topHeight)}return this.currentXScale=p,this.currentYScale=m,n&&this.currentProps.onScalesChanged(p,m),[p,m]}},{key:"createMetaTrack",value:function(n){switch(n.type){default:{const s=this.props.pluginTracks[n.type];if(s&&s.isMetaTrack){const c={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:()=>{this.currentProps.onNewTilesLoaded(n.uid)},definition:n};try{return new s.track(this.availableForPlugins,c,n.options)}catch(h){console.error("Plugin meta track",n.type,"failed to instantiate.",h)}}return console.warn(`Unknown meta track of type: ${n.type}`),new TJ(this.pStage,{name:"Unknown Track Type",type:n.type},()=>this.currentProps.onNewTilesLoaded(n.uid))}}}},{key:"createTrackObject",value:function(n){const s=this.createLocationAgnosticTrackObject(n);return(n.position==="left"||n.position==="right")&&Ci[n.type].orientation==="1d-horizontal"?new aJ(s):s}},{key:"createLocationAgnosticTrackObject",value:function(n){const s=d=>{this.currentProps.onTilesetInfoReceived(n.uid,d)};let c=n.data;c||(c={server:tI(n.server),tilesetUid:n.tilesetUid}),n.coordSystem&&(c.coordSystem=n.coordSystem);const h=I7e(c,this.props.pubSub,this.props.pluginDataFetchers,this.availableForPlugins),p={id:n.uid,trackUid:n.uid,trackType:n.type,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:c,dataFetcher:h,getLockGroupExtrema:()=>this.currentProps.getLockGroupExtrema(n.uid),handleTilesetInfoReceived:s,animate:()=>{this.currentProps.onNewTilesLoaded(n.uid)},svgElement:this.svgElement,isValueScaleLocked:()=>this.currentProps.isValueScaleLocked(n.uid),onValueScaleChanged:()=>{this.currentProps.onValueScaleChanged(n.uid)},onTrackOptionsChanged:d=>{this.currentProps.onTrackOptionsChanged(n.uid,d)},onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:n.chromInfoPath,isShowGlobalMousePosition:()=>this.props.isShowGlobalMousePosition,getTheme:()=>this.props.theme};n.y&&(p.yPosition=n.y),n.x&&(p.xPosition=n.x),n.projectionXDomain&&(p.projectionXDomain=n.projectionXDomain),n.projectionYDomain&&(p.projectionYDomain=n.projectionYDomain);const m=n.options;switch(n.type){case"left-axis":return new lQ(p,m);case"top-axis":return new sQ(p,m);case"heatmap":return new MS(p,m);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new tJ(p,m);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new nJ(p,m);case"line":case"horizontal-line":case"vertical-line":return new q1(p,m);case"point":case"horizontal-point":case"vertical-point":return new eJ(p,m);case"bar":case"horizontal-bar":case"vertical-bar":return new t3(p,m);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new rJ(p,m);case"horizontal-1d-tiles":return new tQ(p,m);case"vertical-1d-tiles":return new nQ(p,m);case"2d-tiles":return new eQ(p,m);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new iJ(p,m);case"viewport-projection-center":return n.registerViewportChanged&&n.removeViewportChanged&&n.setDomainsCallback?(p.registerViewportChanged=n.registerViewportChanged,p.removeViewportChanged=n.removeViewportChanged,p.setDomainsCallback=n.setDomainsCallback,new SJ(p,m)):new I1(p,m);case"viewport-projection-horizontal":return n.registerViewportChanged&&n.removeViewportChanged&&n.setDomainsCallback?(p.registerViewportChanged=n.registerViewportChanged,p.removeViewportChanged=n.removeViewportChanged,p.setDomainsCallback=n.setDomainsCallback,new CJ(p,m)):new I1(p,m);case"viewport-projection-vertical":return n.registerViewportChanged&&n.removeViewportChanged&&n.setDomainsCallback?(p.registerViewportChanged=n.registerViewportChanged,p.removeViewportChanged=n.removeViewportChanged,p.setDomainsCallback=n.setDomainsCallback,new AJ(p,m)):new I1(p,m);case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new s3(p,m);case"2d-rectangle-domains":case"arrowhead-domains":return new fJ(p,m);case"horizontal-1d-annotations":return new l3(p,m);case"vertical-1d-annotations":return new l3(p,m,!0);case"2d-annotations":return new dJ(p,m);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new pJ(p,m);case"square-markers":return new mJ(p,m);case"combined":return p.tracks=n.contents,p.createTrackObject=this.createTrackObject.bind(this),new JM(p,m);case"2d-chromosome-labels":return new gJ(p,m);case"horizontal-chromosome-grid":return p.orientation="1d-horizontal",new jS(p,m);case"vertical-chromosome-grid":return p.orientation="1d-vertical",new jS(p,m);case"2d-chromosome-grid":return new jS(p,m);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new _J(p,m);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new EJ(p,m);case"2d-chromosome-annotations":return new vJ(p,m);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new bJ(p,m);case"osm":case"osm-tiles":return new VS(p,m);case"osm-2d-tile-ids":return new kJ(p,m);case"mapbox":case"mapbox-tiles":return new PJ(p,m);case"raster-tiles":return new RJ(p,m);case"bedlike":case"vertical-bedlike":return new ZQ(p,m);case"overlay-track":return new JQ(p,m);case"overlay-chromosome-grid-track":return p.isOverlay=!0,new jS(p,m);case"horizontal-rule":return new xJ(p,m);case"vertical-rule":return new DJ(p,m);case"cross-rule":return p.x=n.x,p.y=n.y,new OJ(p,m);case"simple-svg":return new xp(p,m);case"empty":return new ks(p,m);default:{const d=this.props.pluginTracks[n.type];if(d&&!d.isMetaTrack){p.AVAILABLE_FOR_PLUGINS=this.availableForPlugins,p.baseEl=this.baseEl,p.definition=n,n.registerViewportChanged&&n.removeViewportChanged&&n.setDomainsCallback&&(p.registerViewportChanged=n.registerViewportChanged,p.removeViewportChanged=n.removeViewportChanged,p.setDomainsCallback=n.setDomainsCallback);try{return new d.track(this.availableForPlugins,p,m)}catch(E){console.error("Plugin track",n.type,"failed to instantiate.",E)}}return console.warn("Unknown track type:",n.type),new TJ(p,{name:"Unknown Track Type",type:n.type})}}}},{key:"zoomToDataPos",value:function(n,s,c,h,p=3e3,m=null){const[d,E,_]=io(this.xScale.copy().domain([n,s]),this.yScale.copy().domain([c,h])),T=m?m(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(d,E,_,!1,p,T[0],T[1])}},{key:"forwardContextMenu",value:function(n){this.props.disableTrackMenu||n.altKey||(n.preventDefault(),setTimeout(()=>{this.props.pubSub.publish("contextmenu",n)},0))}},{key:"addEventTracker",value:function(){!this.eventTracker||this.eventTracker===this.eventTrackerOld||(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}},{key:"removeEventTracker",value:function(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}},{key:"scrollEvent",value:function(){this.elementPos=this.element.getBoundingClientRect()}},{key:"forwardEvent",value:function(n){n.sourceUid=this.uid,n.forwarded=!0,this.props.pubSub.publish("app.event",n)}},{key:"onScrollHandler",value:function(n){this.scrollTop=n}},{key:"render",value:function(){return M.default.createElement("div",{ref:n=>{this.baseEl=n},className:Kn("track-renderer-div",dF["track-renderer"]),style:{height:this.currentProps.height,width:this.currentProps.width}},M.default.createElement("div",{ref:n=>{this.element=n},className:Kn("track-renderer-element",dF["track-renderer-element"])}),M.default.createElement("div",{ref:n=>{this.eventTracker=n},className:Kn("track-renderer-events",dF["track-renderer-events"])},this.currentProps.children))}}]),r})(M.default.Component);pF.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},pF.propTypes={canvasElement:z.exports.object,centerHeight:z.exports.number,centerWidth:z.exports.number,children:z.exports.array,disableTrackMenu:z.exports.bool,galleryDim:z.exports.number,height:z.exports.number,initialXDomain:z.exports.array,initialYDomain:z.exports.array,isShowGlobalMousePosition:z.exports.bool,isRangeSelection:z.exports.bool,leftWidth:z.exports.number,leftWidthNoGallery:z.exports.number,paddingLeft:z.exports.number,paddingTop:z.exports.number,metaTracks:z.exports.array,onMouseMoveZoom:z.exports.func,onNewTilesLoaded:z.exports.func.isRequired,onScalesChanged:z.exports.func.isRequired,pixiRenderer:z.exports.object.isRequired,pixiStage:z.exports.object.isRequired,pluginDataFetchers:z.exports.object,pluginTracks:z.exports.object,positionedTracks:z.exports.array,pubSub:z.exports.object.isRequired,setCentersFunction:z.exports.func,svgElement:z.exports.object.isRequired,theme:z.exports.symbol.isRequired,topHeight:z.exports.number,topHeightNoGallery:z.exports.number,viewOptions:z.exports.object,width:z.exports.number,xDomainLimits:z.exports.array,yDomainLimits:z.exports.array,valueScaleZoom:z.exports.bool,zoomable:z.exports.bool.isRequired,zoomDomain:z.exports.array};const O7e=x1(Bg(pF));var nne={exports:{}};/*! react-checkbox-tree - v1.8.0 | 2022 */(function(e,t){/*! For license information please see index.browser.js.LICENSE.txt */(function(r,i){e.exports=i(M.default)})(self,r=>(()=>{var i={4184:(h,p)=>{var m;(function(){var d={}.hasOwnProperty;function E(){for(var _=[],T=0;T<arguments.length;T++){var C=arguments[T];if(C){var A=typeof C;if(A==="string"||A==="number")_.push(C);else if(Array.isArray(C)){if(C.length){var D=E.apply(null,C);D&&_.push(D)}}else if(A==="object")if(C.toString===Object.prototype.toString)for(var O in C)d.call(C,O)&&C[O]&&_.push(O);else _.push(C.toString())}}return _.join(" ")}h.exports?(E.default=E,h.exports=E):(m=function(){return E}.apply(p,[]))===void 0||(h.exports=m)})()},8552:(h,p,m)=>{var d=m(852)(m(5639),"DataView");h.exports=d},1989:(h,p,m)=>{var d=m(1789),E=m(401),_=m(7667),T=m(1327),C=m(1866);function A(D){var O=-1,B=D==null?0:D.length;for(this.clear();++O<B;){var P=D[O];this.set(P[0],P[1])}}A.prototype.clear=d,A.prototype.delete=E,A.prototype.get=_,A.prototype.has=T,A.prototype.set=C,h.exports=A},8407:(h,p,m)=>{var d=m(7040),E=m(4125),_=m(2117),T=m(7518),C=m(4705);function A(D){var O=-1,B=D==null?0:D.length;for(this.clear();++O<B;){var P=D[O];this.set(P[0],P[1])}}A.prototype.clear=d,A.prototype.delete=E,A.prototype.get=_,A.prototype.has=T,A.prototype.set=C,h.exports=A},7071:(h,p,m)=>{var d=m(852)(m(5639),"Map");h.exports=d},3369:(h,p,m)=>{var d=m(4785),E=m(1285),_=m(6e3),T=m(9916),C=m(5265);function A(D){var O=-1,B=D==null?0:D.length;for(this.clear();++O<B;){var P=D[O];this.set(P[0],P[1])}}A.prototype.clear=d,A.prototype.delete=E,A.prototype.get=_,A.prototype.has=T,A.prototype.set=C,h.exports=A},3818:(h,p,m)=>{var d=m(852)(m(5639),"Promise");h.exports=d},8525:(h,p,m)=>{var d=m(852)(m(5639),"Set");h.exports=d},8668:(h,p,m)=>{var d=m(3369),E=m(619),_=m(2385);function T(C){var A=-1,D=C==null?0:C.length;for(this.__data__=new d;++A<D;)this.add(C[A])}T.prototype.add=T.prototype.push=E,T.prototype.has=_,h.exports=T},6384:(h,p,m)=>{var d=m(8407),E=m(7465),_=m(3779),T=m(7599),C=m(4758),A=m(4309);function D(O){var B=this.__data__=new d(O);this.size=B.size}D.prototype.clear=E,D.prototype.delete=_,D.prototype.get=T,D.prototype.has=C,D.prototype.set=A,h.exports=D},2705:(h,p,m)=>{var d=m(5639).Symbol;h.exports=d},1149:(h,p,m)=>{var d=m(5639).Uint8Array;h.exports=d},577:(h,p,m)=>{var d=m(852)(m(5639),"WeakMap");h.exports=d},4963:h=>{h.exports=function(p,m){for(var d=-1,E=p==null?0:p.length,_=0,T=[];++d<E;){var C=p[d];m(C,d,p)&&(T[_++]=C)}return T}},4636:(h,p,m)=>{var d=m(2545),E=m(5694),_=m(1469),T=m(4144),C=m(5776),A=m(6719),D=Object.prototype.hasOwnProperty;h.exports=function(O,B){var P=_(O),R=!P&&E(O),$=!P&&!R&&T(O),W=!P&&!R&&!$&&A(O),Z=P||R||$||W,K=Z?d(O.length,String):[],ae=K.length;for(var le in O)!B&&!D.call(O,le)||Z&&(le=="length"||$&&(le=="offset"||le=="parent")||W&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||C(le,ae))||K.push(le);return K}},2488:h=>{h.exports=function(p,m){for(var d=-1,E=m.length,_=p.length;++d<E;)p[_+d]=m[d];return p}},2908:h=>{h.exports=function(p,m){for(var d=-1,E=p==null?0:p.length;++d<E;)if(m(p[d],d,p))return!0;return!1}},8470:(h,p,m)=>{var d=m(7813);h.exports=function(E,_){for(var T=E.length;T--;)if(d(E[T][0],_))return T;return-1}},8866:(h,p,m)=>{var d=m(2488),E=m(1469);h.exports=function(_,T,C){var A=T(_);return E(_)?A:d(A,C(_))}},4239:(h,p,m)=>{var d=m(2705),E=m(9607),_=m(2333),T=d?d.toStringTag:void 0;h.exports=function(C){return C==null?C===void 0?"[object Undefined]":"[object Null]":T&&T in Object(C)?E(C):_(C)}},9454:(h,p,m)=>{var d=m(4239),E=m(7005);h.exports=function(_){return E(_)&&d(_)=="[object Arguments]"}},939:(h,p,m)=>{var d=m(2492),E=m(7005);h.exports=function _(T,C,A,D,O){return T===C||(T==null||C==null||!E(T)&&!E(C)?T!=T&&C!=C:d(T,C,A,D,_,O))}},2492:(h,p,m)=>{var d=m(6384),E=m(7114),_=m(8351),T=m(6096),C=m(4160),A=m(1469),D=m(4144),O=m(6719),B="[object Arguments]",P="[object Array]",R="[object Object]",$=Object.prototype.hasOwnProperty;h.exports=function(W,Z,K,ae,le,J){var ge=A(W),Ee=A(Z),ne=ge?P:C(W),ve=Ee?P:C(Z),Me=(ne=ne==B?R:ne)==R,je=(ve=ve==B?R:ve)==R,Qe=ne==ve;if(Qe&&D(W)){if(!D(Z))return!1;ge=!0,Me=!1}if(Qe&&!Me)return J||(J=new d),ge||O(W)?E(W,Z,K,ae,le,J):_(W,Z,ne,K,ae,le,J);if(!(1&K)){var tt=Me&&$.call(W,"__wrapped__"),st=je&&$.call(Z,"__wrapped__");if(tt||st){var Ct=tt?W.value():W,Be=st?Z.value():Z;return J||(J=new d),le(Ct,Be,K,ae,J)}}return!!Qe&&(J||(J=new d),T(W,Z,K,ae,le,J))}},8458:(h,p,m)=>{var d=m(3560),E=m(5346),_=m(3218),T=m(346),C=/^\[object .+?Constructor\]$/,A=Function.prototype,D=Object.prototype,O=A.toString,B=D.hasOwnProperty,P=RegExp("^"+O.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");h.exports=function(R){return!(!_(R)||E(R))&&(d(R)?P:C).test(T(R))}},8749:(h,p,m)=>{var d=m(4239),E=m(1780),_=m(7005),T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object Boolean]"]=T["[object DataView]"]=T["[object Date]"]=T["[object Error]"]=T["[object Function]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object WeakMap]"]=!1,h.exports=function(C){return _(C)&&E(C.length)&&!!T[d(C)]}},280:(h,p,m)=>{var d=m(5726),E=m(6916),_=Object.prototype.hasOwnProperty;h.exports=function(T){if(!d(T))return E(T);var C=[];for(var A in Object(T))_.call(T,A)&&A!="constructor"&&C.push(A);return C}},2545:h=>{h.exports=function(p,m){for(var d=-1,E=Array(p);++d<p;)E[d]=m(d);return E}},1717:h=>{h.exports=function(p){return function(m){return p(m)}}},4757:h=>{h.exports=function(p,m){return p.has(m)}},4429:(h,p,m)=>{var d=m(5639)["__core-js_shared__"];h.exports=d},7114:(h,p,m)=>{var d=m(8668),E=m(2908),_=m(4757);h.exports=function(T,C,A,D,O,B){var P=1&A,R=T.length,$=C.length;if(R!=$&&!(P&&$>R))return!1;var W=B.get(T),Z=B.get(C);if(W&&Z)return W==C&&Z==T;var K=-1,ae=!0,le=2&A?new d:void 0;for(B.set(T,C),B.set(C,T);++K<R;){var J=T[K],ge=C[K];if(D)var Ee=P?D(ge,J,K,C,T,B):D(J,ge,K,T,C,B);if(Ee!==void 0){if(Ee)continue;ae=!1;break}if(le){if(!E(C,function(ne,ve){if(!_(le,ve)&&(J===ne||O(J,ne,A,D,B)))return le.push(ve)})){ae=!1;break}}else if(J!==ge&&!O(J,ge,A,D,B)){ae=!1;break}}return B.delete(T),B.delete(C),ae}},8351:(h,p,m)=>{var d=m(2705),E=m(1149),_=m(7813),T=m(7114),C=m(8776),A=m(1814),D=d?d.prototype:void 0,O=D?D.valueOf:void 0;h.exports=function(B,P,R,$,W,Z,K){switch(R){case"[object DataView]":if(B.byteLength!=P.byteLength||B.byteOffset!=P.byteOffset)return!1;B=B.buffer,P=P.buffer;case"[object ArrayBuffer]":return!(B.byteLength!=P.byteLength||!Z(new E(B),new E(P)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _(+B,+P);case"[object Error]":return B.name==P.name&&B.message==P.message;case"[object RegExp]":case"[object String]":return B==P+"";case"[object Map]":var ae=C;case"[object Set]":var le=1&$;if(ae||(ae=A),B.size!=P.size&&!le)return!1;var J=K.get(B);if(J)return J==P;$|=2,K.set(B,P);var ge=T(ae(B),ae(P),$,W,Z,K);return K.delete(B),ge;case"[object Symbol]":if(O)return O.call(B)==O.call(P)}return!1}},6096:(h,p,m)=>{var d=m(8234),E=Object.prototype.hasOwnProperty;h.exports=function(_,T,C,A,D,O){var B=1&C,P=d(_),R=P.length;if(R!=d(T).length&&!B)return!1;for(var $=R;$--;){var W=P[$];if(!(B?W in T:E.call(T,W)))return!1}var Z=O.get(_),K=O.get(T);if(Z&&K)return Z==T&&K==_;var ae=!0;O.set(_,T),O.set(T,_);for(var le=B;++$<R;){var J=_[W=P[$]],ge=T[W];if(A)var Ee=B?A(ge,J,W,T,_,O):A(J,ge,W,_,T,O);if(!(Ee===void 0?J===ge||D(J,ge,C,A,O):Ee)){ae=!1;break}le||(le=W=="constructor")}if(ae&&!le){var ne=_.constructor,ve=T.constructor;ne==ve||!("constructor"in _)||!("constructor"in T)||typeof ne=="function"&&ne instanceof ne&&typeof ve=="function"&&ve instanceof ve||(ae=!1)}return O.delete(_),O.delete(T),ae}},1957:(h,p,m)=>{var d=typeof m.g=="object"&&m.g&&m.g.Object===Object&&m.g;h.exports=d},8234:(h,p,m)=>{var d=m(8866),E=m(9551),_=m(3674);h.exports=function(T){return d(T,_,E)}},5050:(h,p,m)=>{var d=m(7019);h.exports=function(E,_){var T=E.__data__;return d(_)?T[typeof _=="string"?"string":"hash"]:T.map}},852:(h,p,m)=>{var d=m(8458),E=m(7801);h.exports=function(_,T){var C=E(_,T);return d(C)?C:void 0}},9607:(h,p,m)=>{var d=m(2705),E=Object.prototype,_=E.hasOwnProperty,T=E.toString,C=d?d.toStringTag:void 0;h.exports=function(A){var D=_.call(A,C),O=A[C];try{A[C]=void 0;var B=!0}catch{}var P=T.call(A);return B&&(D?A[C]=O:delete A[C]),P}},9551:(h,p,m)=>{var d=m(4963),E=m(479),_=Object.prototype.propertyIsEnumerable,T=Object.getOwnPropertySymbols,C=T?function(A){return A==null?[]:(A=Object(A),d(T(A),function(D){return _.call(A,D)}))}:E;h.exports=C},4160:(h,p,m)=>{var d=m(8552),E=m(7071),_=m(3818),T=m(8525),C=m(577),A=m(4239),D=m(346),O="[object Map]",B="[object Promise]",P="[object Set]",R="[object WeakMap]",$="[object DataView]",W=D(d),Z=D(E),K=D(_),ae=D(T),le=D(C),J=A;(d&&J(new d(new ArrayBuffer(1)))!=$||E&&J(new E)!=O||_&&J(_.resolve())!=B||T&&J(new T)!=P||C&&J(new C)!=R)&&(J=function(ge){var Ee=A(ge),ne=Ee=="[object Object]"?ge.constructor:void 0,ve=ne?D(ne):"";if(ve)switch(ve){case W:return $;case Z:return O;case K:return B;case ae:return P;case le:return R}return Ee}),h.exports=J},7801:h=>{h.exports=function(p,m){return p?.[m]}},1789:(h,p,m)=>{var d=m(4536);h.exports=function(){this.__data__=d?d(null):{},this.size=0}},401:h=>{h.exports=function(p){var m=this.has(p)&&delete this.__data__[p];return this.size-=m?1:0,m}},7667:(h,p,m)=>{var d=m(4536),E=Object.prototype.hasOwnProperty;h.exports=function(_){var T=this.__data__;if(d){var C=T[_];return C==="__lodash_hash_undefined__"?void 0:C}return E.call(T,_)?T[_]:void 0}},1327:(h,p,m)=>{var d=m(4536),E=Object.prototype.hasOwnProperty;h.exports=function(_){var T=this.__data__;return d?T[_]!==void 0:E.call(T,_)}},1866:(h,p,m)=>{var d=m(4536);h.exports=function(E,_){var T=this.__data__;return this.size+=this.has(E)?0:1,T[E]=d&&_===void 0?"__lodash_hash_undefined__":_,this}},5776:h=>{var p=/^(?:0|[1-9]\d*)$/;h.exports=function(m,d){var E=typeof m;return!!(d=d??9007199254740991)&&(E=="number"||E!="symbol"&&p.test(m))&&m>-1&&m%1==0&&m<d}},7019:h=>{h.exports=function(p){var m=typeof p;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?p!=="__proto__":p===null}},5346:(h,p,m)=>{var d,E=m(4429),_=(d=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";h.exports=function(T){return!!_&&_ in T}},5726:h=>{var p=Object.prototype;h.exports=function(m){var d=m&&m.constructor;return m===(typeof d=="function"&&d.prototype||p)}},7040:h=>{h.exports=function(){this.__data__=[],this.size=0}},4125:(h,p,m)=>{var d=m(8470),E=Array.prototype.splice;h.exports=function(_){var T=this.__data__,C=d(T,_);return!(C<0||(C==T.length-1?T.pop():E.call(T,C,1),--this.size,0))}},2117:(h,p,m)=>{var d=m(8470);h.exports=function(E){var _=this.__data__,T=d(_,E);return T<0?void 0:_[T][1]}},7518:(h,p,m)=>{var d=m(8470);h.exports=function(E){return d(this.__data__,E)>-1}},4705:(h,p,m)=>{var d=m(8470);h.exports=function(E,_){var T=this.__data__,C=d(T,E);return C<0?(++this.size,T.push([E,_])):T[C][1]=_,this}},4785:(h,p,m)=>{var d=m(1989),E=m(8407),_=m(7071);h.exports=function(){this.size=0,this.__data__={hash:new d,map:new(_||E),string:new d}}},1285:(h,p,m)=>{var d=m(5050);h.exports=function(E){var _=d(this,E).delete(E);return this.size-=_?1:0,_}},6e3:(h,p,m)=>{var d=m(5050);h.exports=function(E){return d(this,E).get(E)}},9916:(h,p,m)=>{var d=m(5050);h.exports=function(E){return d(this,E).has(E)}},5265:(h,p,m)=>{var d=m(5050);h.exports=function(E,_){var T=d(this,E),C=T.size;return T.set(E,_),this.size+=T.size==C?0:1,this}},8776:h=>{h.exports=function(p){var m=-1,d=Array(p.size);return p.forEach(function(E,_){d[++m]=[_,E]}),d}},4536:(h,p,m)=>{var d=m(852)(Object,"create");h.exports=d},6916:(h,p,m)=>{var d=m(5569)(Object.keys,Object);h.exports=d},1167:(h,p,m)=>{h=m.nmd(h);var d=m(1957),E=p&&!p.nodeType&&p,_=E&&h&&!h.nodeType&&h,T=_&&_.exports===E&&d.process,C=(function(){try{return _&&_.require&&_.require("util").types||T&&T.binding&&T.binding("util")}catch{}})();h.exports=C},2333:h=>{var p=Object.prototype.toString;h.exports=function(m){return p.call(m)}},5569:h=>{h.exports=function(p,m){return function(d){return p(m(d))}}},5639:(h,p,m)=>{var d=m(1957),E=typeof self=="object"&&self&&self.Object===Object&&self,_=d||E||Function("return this")();h.exports=_},619:h=>{h.exports=function(p){return this.__data__.set(p,"__lodash_hash_undefined__"),this}},2385:h=>{h.exports=function(p){return this.__data__.has(p)}},1814:h=>{h.exports=function(p){var m=-1,d=Array(p.size);return p.forEach(function(E){d[++m]=E}),d}},7465:(h,p,m)=>{var d=m(8407);h.exports=function(){this.__data__=new d,this.size=0}},3779:h=>{h.exports=function(p){var m=this.__data__,d=m.delete(p);return this.size=m.size,d}},7599:h=>{h.exports=function(p){return this.__data__.get(p)}},4758:h=>{h.exports=function(p){return this.__data__.has(p)}},4309:(h,p,m)=>{var d=m(8407),E=m(7071),_=m(3369);h.exports=function(T,C){var A=this.__data__;if(A instanceof d){var D=A.__data__;if(!E||D.length<199)return D.push([T,C]),this.size=++A.size,this;A=this.__data__=new _(D)}return A.set(T,C),this.size=A.size,this}},346:h=>{var p=Function.prototype.toString;h.exports=function(m){if(m!=null){try{return p.call(m)}catch{}try{return m+""}catch{}}return""}},7813:h=>{h.exports=function(p,m){return p===m||p!=p&&m!=m}},5694:(h,p,m)=>{var d=m(9454),E=m(7005),_=Object.prototype,T=_.hasOwnProperty,C=_.propertyIsEnumerable,A=d((function(){return arguments})())?d:function(D){return E(D)&&T.call(D,"callee")&&!C.call(D,"callee")};h.exports=A},1469:h=>{var p=Array.isArray;h.exports=p},8612:(h,p,m)=>{var d=m(3560),E=m(1780);h.exports=function(_){return _!=null&&E(_.length)&&!d(_)}},4144:(h,p,m)=>{h=m.nmd(h);var d=m(5639),E=m(5062),_=p&&!p.nodeType&&p,T=_&&h&&!h.nodeType&&h,C=T&&T.exports===_?d.Buffer:void 0,A=(C?C.isBuffer:void 0)||E;h.exports=A},8446:(h,p,m)=>{var d=m(939);h.exports=function(E,_){return d(E,_)}},3560:(h,p,m)=>{var d=m(4239),E=m(3218);h.exports=function(_){if(!E(_))return!1;var T=d(_);return T=="[object Function]"||T=="[object GeneratorFunction]"||T=="[object AsyncFunction]"||T=="[object Proxy]"}},1780:h=>{h.exports=function(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=9007199254740991}},3218:h=>{h.exports=function(p){var m=typeof p;return p!=null&&(m=="object"||m=="function")}},7005:h=>{h.exports=function(p){return p!=null&&typeof p=="object"}},6719:(h,p,m)=>{var d=m(8749),E=m(1717),_=m(1167),T=_&&_.isTypedArray,C=T?E(T):d;h.exports=C},3674:(h,p,m)=>{var d=m(4636),E=m(280),_=m(8612);h.exports=function(T){return _(T)?d(T):E(T)}},8306:(h,p,m)=>{var d=m(3369);function E(_,T){if(typeof _!="function"||T!=null&&typeof T!="function")throw new TypeError("Expected a function");var C=function(){var A=arguments,D=T?T.apply(this,A):A[0],O=C.cache;if(O.has(D))return O.get(D);var B=_.apply(this,A);return C.cache=O.set(D,B)||O,B};return C.cache=new(E.Cache||d),C}E.Cache=d,h.exports=E},479:h=>{h.exports=function(){return[]}},5062:h=>{h.exports=function(){return!1}},2703:(h,p,m)=>{var d=m(414);function E(){}function _(){}_.resetWarningCache=E,h.exports=function(){function T(D,O,B,P,R,$){if($!==d){var W=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw W.name="Invariant Violation",W}}function C(){return T}T.isRequired=T;var A={array:T,bigint:T,bool:T,func:T,number:T,object:T,string:T,symbol:T,any:T,arrayOf:C,element:T,elementType:T,instanceOf:C,node:T,objectOf:C,oneOf:C,oneOfType:C,shape:C,exact:C,checkPropTypes:_,resetWarningCache:E};return A.PropTypes=A,A}},5697:(h,p,m)=>{h.exports=m(2703)()},414:h=>{h.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9787:h=>{h.exports=r}},n={};function s(h){var p=n[h];if(p!==void 0)return p.exports;var m=n[h]={id:h,loaded:!1,exports:{}};return i[h](m,m.exports,s),m.loaded=!0,m.exports}s.n=h=>{var p=h&&h.__esModule?()=>h.default:()=>h;return s.d(p,{a:p}),p},s.d=(h,p)=>{for(var m in p)s.o(p,m)&&!s.o(h,m)&&Object.defineProperty(h,m,{enumerable:!0,get:p[m]})},s.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),s.o=(h,p)=>Object.prototype.hasOwnProperty.call(h,p),s.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},s.nmd=h=>(h.paths=[],h.children||(h.children=[]),h);var c={};return(()=>{s.r(c),s.d(c,{default:()=>cs,expandNodesToLevel:()=>us});var h=s(4184),p=s.n(h),m=s(8446),d=s.n(m),E=s(8306),_=s.n(E);let T=(xt=21)=>crypto.getRandomValues(new Uint8Array(xt)).reduce((lt,Oe)=>lt+((Oe&=63)<36?Oe.toString(36):Oe<62?(Oe-26).toString(36).toUpperCase():Oe>62?"-":"_"),"");var C=s(5697),A=s.n(C),D=s(9787),O=s.n(D);function B(xt){return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},B(xt)}var P=["children","title"];function R(){return R=Object.assign?Object.assign.bind():function(xt){for(var lt=1;lt<arguments.length;lt++){var Oe=arguments[lt];for(var Pe in Oe)Object.prototype.hasOwnProperty.call(Oe,Pe)&&(xt[Pe]=Oe[Pe])}return xt},R.apply(this,arguments)}function $(xt,lt){if(!(xt instanceof lt))throw new TypeError("Cannot call a class as a function")}function W(xt,lt){for(var Oe=0;Oe<lt.length;Oe++){var Pe=lt[Oe];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(xt,Pe.key,Pe)}}function Z(xt,lt){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Oe,Pe){return Oe.__proto__=Pe,Oe},Z(xt,lt)}function K(xt,lt){if(lt&&(B(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Oe){if(Oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Oe})(xt)}function ae(xt){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(lt){return lt.__proto__||Object.getPrototypeOf(lt)},ae(xt)}function le(xt,lt,Oe){return lt in xt?Object.defineProperty(xt,lt,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):xt[lt]=Oe,xt}var J=(function(xt){(function(gt,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(rt&&rt.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),rt&&Z(gt,rt)})(bt,xt);var lt,Oe,Pe,nt,yt=(Pe=bt,nt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})(),function(){var gt,rt=ae(Pe);if(nt){var ht=ae(this).constructor;gt=Reflect.construct(rt,arguments,ht)}else gt=rt.apply(this,arguments);return K(this,gt)});function bt(){return $(this,bt),yt.apply(this,arguments)}return lt=bt,(Oe=[{key:"render",value:function(){var gt=this.props,rt=gt.children,ht=gt.title,xe=(function(Se,Ve){if(Se==null)return{};var vt,Et,ur=(function(Hr,on){if(Hr==null)return{};var Pn,Kr,An={},ri=Object.keys(Hr);for(Kr=0;Kr<ri.length;Kr++)Pn=ri[Kr],on.indexOf(Pn)>=0||(An[Pn]=Hr[Pn]);return An})(Se,Ve);if(Object.getOwnPropertySymbols){var hr=Object.getOwnPropertySymbols(Se);for(Et=0;Et<hr.length;Et++)vt=hr[Et],Ve.indexOf(vt)>=0||Object.prototype.propertyIsEnumerable.call(Se,vt)&&(ur[vt]=Se[vt])}return ur})(gt,P);return O().createElement("button",R({"aria-label":ht,title:ht,type:"button"},xe),rt)}}])&&W(lt.prototype,Oe),Object.defineProperty(lt,"prototype",{writable:!1}),bt})(O().PureComponent);le(J,"propTypes",{children:A().node.isRequired,title:A().string}),le(J,"defaultProps",{title:null});const ge=J,Ee={ALL:"all",PARENT:"parent",LEAF:"leaf"};function ne(xt){this.message=xt,this.stack=Error().stack}ne.prototype=Object.create(Error.prototype),ne.prototype.name="CheckboxTreeError";const ve=ne;function Me(xt,lt){var Oe=Object.keys(xt);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(xt);lt&&(Pe=Pe.filter(function(nt){return Object.getOwnPropertyDescriptor(xt,nt).enumerable})),Oe.push.apply(Oe,Pe)}return Oe}function je(xt,lt,Oe){return lt in xt?Object.defineProperty(xt,lt,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):xt[lt]=Oe,xt}function Qe(xt,lt){if(!(xt instanceof lt))throw new TypeError("Cannot call a class as a function")}function tt(xt,lt){for(var Oe=0;Oe<lt.length;Oe++){var Pe=lt[Oe];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(xt,Pe.key,Pe)}}var st=Ee;const Ct=(function(){function xt(Pe){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qe(this,xt),this.props=Pe,this.flatNodes=nt}var lt,Oe;return lt=xt,Oe=[{key:"setProps",value:function(Pe){this.props=Pe}},{key:"clone",value:function(){var Pe=this,nt={};return Object.keys(this.flatNodes).forEach(function(yt){var bt=Pe.flatNodes[yt];nt[yt]=(function(gt){for(var rt=1;rt<arguments.length;rt++){var ht=arguments[rt]!=null?arguments[rt]:{};rt%2?Me(Object(ht),!0).forEach(function(xe){je(gt,xe,ht[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(ht)):Me(Object(ht)).forEach(function(xe){Object.defineProperty(gt,xe,Object.getOwnPropertyDescriptor(ht,xe))})}return gt})({},bt)}),new xt(this.props,nt)}},{key:"getNode",value:function(Pe){return this.flatNodes[Pe]}},{key:"reset",value:function(){this.flatNodes={}}},{key:"flattenNodes",value:function(Pe){var nt=this,yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(Array.isArray(Pe)&&Pe.length!==0){var gt=this.props,rt=gt.disabled,ht=gt.noCascade;Pe.forEach(function(xe,Se){var Ve=nt.nodeHasChildren(xe);if(nt.flatNodes[xe.value]!==void 0)throw new ve("Duplicate value '".concat(xe.value,"' detected. All node values must be unique."));nt.flatNodes[xe.value]={label:xe.label,value:xe.value,children:xe.children,parent:yt,isChild:yt.value!==void 0,isParent:Ve,isLeaf:!Ve,showCheckbox:xe.showCheckbox===void 0||xe.showCheckbox,disabled:nt.getDisabledState(xe,yt,rt,ht),treeDepth:bt,index:Se},nt.flattenNodes(xe.children,xe,bt+1)})}}},{key:"nodeHasChildren",value:function(Pe){return Array.isArray(Pe.children)}},{key:"getDisabledState",value:function(Pe,nt,yt,bt){return!!yt||!(bt||!nt.disabled)||!!Pe.disabled}},{key:"deserializeLists",value:function(Pe){var nt=this,yt=["checked","expanded"];Object.keys(this.flatNodes).forEach(function(bt){yt.forEach(function(gt){nt.flatNodes[bt][gt]=!1})}),yt.forEach(function(bt){Pe[bt].forEach(function(gt){nt.flatNodes[gt]!==void 0&&(nt.flatNodes[gt][bt]=!0)})})}},{key:"serializeList",value:function(Pe){var nt=this,yt=[];return Object.keys(this.flatNodes).forEach(function(bt){nt.flatNodes[bt][Pe]&&yt.push(bt)}),yt}},{key:"expandAllNodes",value:function(Pe){var nt=this;return Object.keys(this.flatNodes).forEach(function(yt){nt.flatNodes[yt].isParent&&(nt.flatNodes[yt].expanded=Pe)}),this}},{key:"toggleChecked",value:function(Pe,nt,yt,bt){var gt=this,rt=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],ht=this.flatNodes[Pe.value],xe=[st.PARENT,st.ALL].indexOf(yt)>-1,Se=[st.LEAF,st.ALL].indexOf(yt)>-1;if(ht.isLeaf||bt){if(Pe.disabled)return this;this.toggleNode(Pe.value,"checked",nt)}else(xe||ht.children.length===0)&&this.toggleNode(Pe.value,"checked",nt),Se&&ht.children.forEach(function(Ve){gt.toggleChecked(Ve,nt,yt,bt,!1)});return rt&&!bt&&ht.isChild&&xe&&this.toggleParentStatus(ht.parent,yt),this}},{key:"toggleParentStatus",value:function(Pe,nt){var yt=this.flatNodes[Pe.value];yt.isChild?(nt===st.ALL&&this.toggleNode(Pe.value,"checked",this.isEveryChildChecked(yt)),this.toggleParentStatus(yt.parent,nt)):this.toggleNode(Pe.value,"checked",this.isEveryChildChecked(yt))}},{key:"isEveryChildChecked",value:function(Pe){var nt=this;return Pe.children.every(function(yt){return nt.getNode(yt.value).checked})}},{key:"toggleNode",value:function(Pe,nt,yt){return this.flatNodes[Pe][nt]=yt,this}}],Oe&&tt(lt.prototype,Oe),Object.defineProperty(lt,"prototype",{writable:!1}),xt})();function Be(xt){return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},Be(xt)}function Ae(){return Ae=Object.assign?Object.assign.bind():function(xt){for(var lt=1;lt<arguments.length;lt++){var Oe=arguments[lt];for(var Pe in Oe)Object.prototype.hasOwnProperty.call(Oe,Pe)&&(xt[Pe]=Oe[Pe])}return xt},Ae.apply(this,arguments)}function Ne(xt,lt){var Oe=Object.keys(xt);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(xt);lt&&(Pe=Pe.filter(function(nt){return Object.getOwnPropertyDescriptor(xt,nt).enumerable})),Oe.push.apply(Oe,Pe)}return Oe}function Ue(xt,lt){if(!(xt instanceof lt))throw new TypeError("Cannot call a class as a function")}function it(xt,lt){for(var Oe=0;Oe<lt.length;Oe++){var Pe=lt[Oe];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(xt,Pe.key,Pe)}}function mt(xt,lt){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Oe,Pe){return Oe.__proto__=Pe,Oe},mt(xt,lt)}function Ft(xt,lt){if(lt&&(Be(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Oe){if(Oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Oe})(xt)}function Dt(xt){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(lt){return lt.__proto__||Object.getPrototypeOf(lt)},Dt(xt)}function $t(xt,lt,Oe){return lt in xt?Object.defineProperty(xt,lt,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):xt[lt]=Oe,xt}var cr=(function(xt){(function(gt,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(rt&&rt.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),rt&&mt(gt,rt)})(bt,xt);var lt,Oe,Pe,nt,yt=(Pe=bt,nt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})(),function(){var gt,rt=Dt(Pe);if(nt){var ht=Dt(this).constructor;gt=Reflect.construct(rt,arguments,ht)}else gt=rt.apply(this,arguments);return Ft(this,gt)});function bt(){return Ue(this,bt),yt.apply(this,arguments)}return lt=bt,Oe=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var gt=this.props.indeterminate;this.checkbox.indeterminate=gt}},{key:"render",value:function(){var gt=this,rt=(function(ht){for(var xe=1;xe<arguments.length;xe++){var Se=arguments[xe]!=null?arguments[xe]:{};xe%2?Ne(Object(Se),!0).forEach(function(Ve){$t(ht,Ve,Se[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ht,Object.getOwnPropertyDescriptors(Se)):Ne(Object(Se)).forEach(function(Ve){Object.defineProperty(ht,Ve,Object.getOwnPropertyDescriptor(Se,Ve))})}return ht})({},this.props);return delete rt.indeterminate,O().createElement("input",Ae({},rt,{ref:function(ht){gt.checkbox=ht},type:"checkbox"}))}}],Oe&&it(lt.prototype,Oe),Object.defineProperty(lt,"prototype",{writable:!1}),bt})(O().PureComponent);$t(cr,"propTypes",{indeterminate:A().bool}),$t(cr,"defaultProps",{indeterminate:!1});const Ut=cr,mr=A().shape({check:A().node,uncheck:A().node,halfCheck:A().node,expandClose:A().node,expandOpen:A().node,expandAll:A().node,collapseAll:A().node,parentClose:A().node,parentOpen:A().node,leaf:A().node}),fr=A().shape({collapseAll:A().string.isRequired,expandAll:A().string.isRequired,toggle:A().string.isRequired});function Jr(xt){return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},Jr(xt)}function Lr(xt,lt){for(var Oe=0;Oe<lt.length;Oe++){var Pe=lt[Oe];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(xt,Pe.key,Pe)}}function gr(xt,lt){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Oe,Pe){return Oe.__proto__=Pe,Oe},gr(xt,lt)}function sn(xt,lt){if(lt&&(Jr(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nn(xt)}function nn(xt){if(xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xt}function Dn(xt){return Dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(lt){return lt.__proto__||Object.getPrototypeOf(lt)},Dn(xt)}function ta(xt,lt,Oe){return lt in xt?Object.defineProperty(xt,lt,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):xt[lt]=Oe,xt}var en=(function(xt){(function(gt,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(rt&&rt.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),rt&&gr(gt,rt)})(bt,xt);var lt,Oe,Pe,nt,yt=(Pe=bt,nt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})(),function(){var gt,rt=Dn(Pe);if(nt){var ht=Dn(this).constructor;gt=Reflect.construct(rt,arguments,ht)}else gt=rt.apply(this,arguments);return sn(this,gt)});function bt(gt){var rt;return(function(ht,xe){if(!(ht instanceof xe))throw new TypeError("Cannot call a class as a function")})(this,bt),(rt=yt.call(this,gt)).onCheck=rt.onCheck.bind(nn(rt)),rt.onCheckboxKeyPress=rt.onCheckboxKeyPress.bind(nn(rt)),rt.onCheckboxKeyUp=rt.onCheckboxKeyUp.bind(nn(rt)),rt.onClick=rt.onClick.bind(nn(rt)),rt.onExpand=rt.onExpand.bind(nn(rt)),rt}return lt=bt,(Oe=[{key:"onCheck",value:function(){var gt=this.props,rt=gt.value;(0,gt.onCheck)({value:rt,checked:this.getCheckState({toggle:!0})})}},{key:"onCheckboxKeyPress",value:function(gt){gt.which===32&&gt.preventDefault()}},{key:"onCheckboxKeyUp",value:function(gt){var rt=gt.keyCode;[13,32].includes(rt)&&this.onCheck()}},{key:"onClick",value:function(){var gt=this.props,rt=gt.expandOnClick,ht=gt.isParent,xe=gt.value,Se=gt.onClick;ht&&rt&&this.onExpand(),Se({value:xe,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var gt=this.props,rt=gt.expanded,ht=gt.value;(0,gt.onExpand)({value:ht,expanded:!rt})}},{key:"getCheckState",value:function(gt){var rt=gt.toggle,ht=this.props,xe=ht.checked,Se=ht.optimisticToggle;return!(xe!==0||!rt)||xe===1&&!rt||xe===2&&Se}},{key:"renderCollapseButton",value:function(){var gt=this.props,rt=gt.expandDisabled,ht=gt.isLeaf,xe=gt.lang;return ht?O().createElement("span",{className:"rct-collapse"},O().createElement("span",{className:"rct-icon"})):O().createElement(ge,{className:"rct-collapse rct-collapse-btn",disabled:rt,title:xe.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var gt=this.props,rt=gt.expanded,ht=gt.icons,xe=ht.expandClose,Se=ht.expandOpen;return rt?Se:xe}},{key:"renderCheckboxIcon",value:function(){var gt=this.props,rt=gt.checked,ht=gt.icons,xe=ht.uncheck,Se=ht.check,Ve=ht.halfCheck;return rt===0?xe:rt===1?Se:Ve}},{key:"renderNodeIcon",value:function(){var gt=this.props,rt=gt.expanded,ht=gt.icon,xe=gt.icons,Se=xe.leaf,Ve=xe.parentClose,vt=xe.parentOpen,Et=gt.isLeaf;return ht!==null?ht:Et?Se:rt?vt:Ve}},{key:"renderBareLabel",value:function(gt){var rt=this.props,ht=rt.onClick,xe=rt.title,Se=ht!==null;return O().createElement("span",{className:"rct-bare-label",title:xe},Se?O().createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},gt):gt)}},{key:"renderCheckboxLabel",value:function(gt){var rt=this.props,ht=rt.checked,xe=rt.disabled,Se=rt.title,Ve=rt.treeId,vt=rt.value,Et=rt.onClick!==null,ur="".concat(Ve,"-").concat(String(vt).split(" ").join("_")),hr=[O().createElement("label",{key:0,htmlFor:ur,title:Se},O().createElement(Ut,{checked:ht===1,disabled:xe,id:ur,indeterminate:ht===2,onClick:this.onCheck,onChange:function(){}}),O().createElement("span",{"aria-checked":ht===1,"aria-disabled":xe,className:"rct-checkbox",role:"checkbox",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),Et?null:gt)];return Et&&hr.push(O().createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},gt)),hr}},{key:"renderLabel",value:function(){var gt=this.props,rt=gt.label,ht=gt.showCheckbox,xe=[gt.showNodeIcon?O().createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,O().createElement("span",{key:1,className:"rct-title"},rt)];return ht?this.renderCheckboxLabel(xe):this.renderBareLabel(xe)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var gt=this.props,rt=gt.className,ht=gt.disabled,xe=gt.expanded,Se=gt.isLeaf,Ve=p()({"rct-node":!0,"rct-node-leaf":Se,"rct-node-parent":!Se,"rct-node-expanded":!Se&&xe,"rct-node-collapsed":!Se&&!xe,"rct-disabled":ht},rt);return O().createElement("li",{className:Ve},O().createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&Lr(lt.prototype,Oe),Object.defineProperty(lt,"prototype",{writable:!1}),bt})(O().PureComponent);ta(en,"propTypes",{checked:A().number.isRequired,disabled:A().bool.isRequired,expandDisabled:A().bool.isRequired,expanded:A().bool.isRequired,icons:mr.isRequired,isLeaf:A().bool.isRequired,isParent:A().bool.isRequired,label:A().node.isRequired,lang:fr.isRequired,optimisticToggle:A().bool.isRequired,showNodeIcon:A().bool.isRequired,treeId:A().string.isRequired,value:A().oneOfType([A().string,A().number]).isRequired,onCheck:A().func.isRequired,onExpand:A().func.isRequired,children:A().node,className:A().string,expandOnClick:A().bool,icon:A().node,showCheckbox:A().bool,title:A().string,onClick:A().func}),ta(en,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const kt=en,ze=A().oneOfType([A().arrayOf(A().string),A().arrayOf(A().number)]);function Xe(xt,lt){var Oe=Object.keys(xt);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(xt);lt&&(Pe=Pe.filter(function(nt){return Object.getOwnPropertyDescriptor(xt,nt).enumerable})),Oe.push.apply(Oe,Pe)}return Oe}function ft(xt){for(var lt=1;lt<arguments.length;lt++){var Oe=arguments[lt]!=null?arguments[lt]:{};lt%2?Xe(Object(Oe),!0).forEach(function(Pe){Q(xt,Pe,Oe[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(Oe)):Xe(Object(Oe)).forEach(function(Pe){Object.defineProperty(xt,Pe,Object.getOwnPropertyDescriptor(Oe,Pe))})}return xt}function Q(xt,lt,Oe){return lt in xt?Object.defineProperty(xt,lt,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):xt[lt]=Oe,xt}var G={label:A().node.isRequired,value:A().oneOfType([A().string,A().number]).isRequired,disabled:A().bool,icon:A().node,showCheckbox:A().bool,title:A().string};const Y=A().oneOfType([A().shape(G),A().shape(ft(ft({},G),{},{children:A().arrayOf(G).isRequired}))]);function ye(xt){return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},ye(xt)}function Ge(xt,lt){var Oe=Object.keys(xt);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(xt);lt&&(Pe=Pe.filter(function(nt){return Object.getOwnPropertyDescriptor(xt,nt).enumerable})),Oe.push.apply(Oe,Pe)}return Oe}function Ze(xt){for(var lt=1;lt<arguments.length;lt++){var Oe=arguments[lt]!=null?arguments[lt]:{};lt%2?Ge(Object(Oe),!0).forEach(function(Pe){Nr(xt,Pe,Oe[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(Oe)):Ge(Object(Oe)).forEach(function(Pe){Object.defineProperty(xt,Pe,Object.getOwnPropertyDescriptor(Oe,Pe))})}return xt}function ct(xt,lt){for(var Oe=0;Oe<lt.length;Oe++){var Pe=lt[Oe];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(xt,Pe.key,Pe)}}function or(xt,lt){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Oe,Pe){return Oe.__proto__=Pe,Oe},or(xt,lt)}function dr(xt,lt){if(lt&&(ye(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xr(xt)}function xr(xt){if(xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xt}function br(xt){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(lt){return lt.__proto__||Object.getPrototypeOf(lt)},br(xt)}function Nr(xt,lt,Oe){return lt in xt?Object.defineProperty(xt,lt,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):xt[lt]=Oe,xt}var ra=(function(xt){(function(rt,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(ht&&ht.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),ht&&or(rt,ht)})(gt,xt);var lt,Oe,Pe,nt,yt,bt=(nt=gt,yt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})(),function(){var rt,ht=br(nt);if(yt){var xe=br(this).constructor;rt=Reflect.construct(ht,arguments,xe)}else rt=ht.apply(this,arguments);return dr(this,rt)});function gt(rt){var ht;(function(Se,Ve){if(!(Se instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,gt),ht=bt.call(this,rt);var xe=new Ct(rt);return xe.flattenNodes(rt.nodes),xe.deserializeLists({checked:rt.checked,expanded:rt.expanded}),ht.state={id:rt.id||"rct-".concat(T()),model:xe,prevProps:rt},ht.onCheck=ht.onCheck.bind(xr(ht)),ht.onExpand=ht.onExpand.bind(xr(ht)),ht.onNodeClick=ht.onNodeClick.bind(xr(ht)),ht.onExpandAll=ht.onExpandAll.bind(xr(ht)),ht.onCollapseAll=ht.onCollapseAll.bind(xr(ht)),ht.combineMemorized=_()(function(Se,Ve){return Ze(Ze({},Se),Ve)}).bind(xr(ht)),ht}return lt=gt,Oe=[{key:"onCheck",value:function(rt){var ht=this.props,xe=ht.checkModel,Se=ht.noCascade,Ve=ht.onCheck,vt=this.state.model.clone(),Et=vt.getNode(rt.value);vt.toggleChecked(rt,rt.checked,xe,Se),Ve(vt.serializeList("checked"),Ze(Ze({},Et),rt))}},{key:"onExpand",value:function(rt){var ht=this.props.onExpand,xe=this.state.model.clone(),Se=xe.getNode(rt.value);xe.toggleNode(rt.value,"expanded",rt.expanded),ht(xe.serializeList("expanded"),Ze(Ze({},Se),rt))}},{key:"onNodeClick",value:function(rt){(0,this.props.onClick)(Ze(Ze({},this.state.model.getNode(rt.value)),rt))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var rt=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ht=this.props.onExpand;ht(this.state.model.clone().expandAllNodes(rt).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(rt,ht){var xe=this.state.model.getNode(rt.value);return xe.isLeaf||ht||rt.children.length===0?xe.checked?1:0:this.isEveryChildChecked(rt)?1:this.isSomeChildChecked(rt)?2:0}},{key:"isEveryChildChecked",value:function(rt){var ht=this;return rt.children.every(function(xe){return ht.state.model.getNode(xe.value).checkState===1})}},{key:"isSomeChildChecked",value:function(rt){var ht=this;return rt.children.some(function(xe){return ht.state.model.getNode(xe.value).checkState>0})}},{key:"renderTreeNodes",value:function(rt){var ht=this,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=this.props,Ve=Se.expandDisabled,vt=Se.expandOnClick,Et=Se.icons,ur=Se.lang,hr=Se.noCascade,Hr=Se.onClick,on=Se.onlyLeafCheckboxes,Pn=Se.optimisticToggle,Kr=Se.showNodeTitle,An=Se.showNodeIcon,ri=this.state,$r=ri.id,On=ri.model,ni=gt.defaultProps.icons,oi=rt.map(function(ji){var hs=ji.value,tr=On.getNode(ji.value),Ar=tr.isParent?ht.renderTreeNodes(ji.children,ji):null;tr.checkState=ht.determineShallowCheckState(ji,hr);var gn=on?tr.isLeaf:tr.showCheckbox;return!xe.value||On.getNode(xe.value).expanded?O().createElement(kt,{key:hs,checked:tr.checkState,className:ji.className,disabled:tr.disabled,expandDisabled:Ve,expandOnClick:vt,expanded:tr.expanded,icon:ji.icon,icons:ht.combineMemorized(ni,Et),label:ji.label,lang:ur,optimisticToggle:Pn,isLeaf:tr.isLeaf,isParent:tr.isParent,showCheckbox:gn,showNodeIcon:An,title:Kr?ji.title||ji.label:ji.title,treeId:$r,value:ji.value,onCheck:ht.onCheck,onClick:Hr&&ht.onNodeClick,onExpand:ht.onExpand},Ar):null});return O().createElement("ol",null,oi)}},{key:"renderExpandAll",value:function(){var rt=this.props,ht=rt.icons,xe=ht.expandAll,Se=ht.collapseAll,Ve=rt.lang;return rt.showExpandAll?O().createElement("div",{className:"rct-options"},O().createElement(ge,{className:"rct-option rct-option-expand-all",title:Ve.expandAll,onClick:this.onExpandAll},xe),O().createElement(ge,{className:"rct-option rct-option-collapse-all",title:Ve.collapseAll,onClick:this.onCollapseAll},Se)):null}},{key:"renderHiddenInput",value:function(){var rt=this.props,ht=rt.name,xe=rt.nameAsArray;return ht===void 0?null:xe?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var rt=this.props,ht=rt.checked,xe=rt.name;return ht.map(function(Se){var Ve="".concat(xe,"[]");return O().createElement("input",{key:Se,name:Ve,type:"hidden",value:Se})})}},{key:"renderJoinedHiddenInput",value:function(){var rt=this.props,ht=rt.checked,xe=rt.name,Se=ht.join(",");return O().createElement("input",{name:xe,type:"hidden",value:Se})}},{key:"render",value:function(){var rt,ht=this.props,xe=ht.direction,Se=ht.disabled,Ve=ht.iconsClass,vt=ht.nodes,Et=ht.nativeCheckboxes,ur=this.state.id,hr=this.renderTreeNodes(vt),Hr=p()((Nr(rt={"react-checkbox-tree":!0,"rct-disabled":Se},"rct-icons-".concat(Ve),!0),Nr(rt,"rct-native-display",Et),Nr(rt,"rct-direction-rtl",xe==="rtl"),rt));return O().createElement("div",{className:Hr,id:ur},this.renderExpandAll(),this.renderHiddenInput(),hr)}}],Pe=[{key:"getDerivedStateFromProps",value:function(rt,ht){var xe=ht.model,Se=ht.prevProps,Ve=rt.disabled,vt=rt.id,Et=rt.nodes,ur=Ze(Ze({},ht),{},{prevProps:rt});return xe.setProps(rt),d()(Se.nodes,Et)&&Se.disabled===Ve||(xe.reset(),xe.flattenNodes(Et)),vt!==null&&(ur=Ze(Ze({},ur),{},{id:vt})),xe.deserializeLists({checked:rt.checked,expanded:rt.expanded}),ur}}],Oe&&ct(lt.prototype,Oe),Pe&&ct(lt,Pe),Object.defineProperty(lt,"prototype",{writable:!1}),gt})(O().Component);function jo(xt){return(function(lt){if(Array.isArray(lt))return Yl(lt)})(xt)||(function(lt){if(typeof Symbol<"u"&&lt[Symbol.iterator]!=null||lt["@@iterator"]!=null)return Array.from(lt)})(xt)||(function(lt,Oe){if(lt){if(typeof lt=="string")return Yl(lt,Oe);var Pe=Object.prototype.toString.call(lt).slice(8,-1);return Pe==="Object"&&lt.constructor&&(Pe=lt.constructor.name),Pe==="Map"||Pe==="Set"?Array.from(lt):Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe)?Yl(lt,Oe):void 0}})(xt)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Yl(xt,lt){(lt==null||lt>xt.length)&&(lt=xt.length);for(var Oe=0,Pe=new Array(lt);Oe<lt;Oe++)Pe[Oe]=xt[Oe];return Pe}function us(xt,lt){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(Oe>lt)return[];var Pe=[];return xt.forEach(function(nt){nt.children&&(Pe=[].concat(jo(Pe),[nt.value],jo(us(nt.children,lt,Oe+1))))}),Pe}Nr(ra,"propTypes",{nodes:A().arrayOf(Y).isRequired,checkModel:A().oneOf([Ee.LEAF,Ee.ALL]),checked:ze,direction:A().string,disabled:A().bool,expandDisabled:A().bool,expandOnClick:A().bool,expanded:ze,icons:mr,iconsClass:A().string,id:A().string,lang:fr,name:A().string,nameAsArray:A().bool,nativeCheckboxes:A().bool,noCascade:A().bool,onlyLeafCheckboxes:A().bool,optimisticToggle:A().bool,showExpandAll:A().bool,showNodeIcon:A().bool,showNodeTitle:A().bool,onCheck:A().func,onClick:A().func,onExpand:A().func}),Nr(ra,"defaultProps",{checkModel:Ee.LEAF,checked:[],direction:"ltr",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:O().createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:O().createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:O().createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:O().createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:O().createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:O().createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:O().createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:O().createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:O().createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:O().createElement("span",{className:"rct-icon rct-icon-leaf"})},iconsClass:"fa4",id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const cs=ra})(),c})())})(nne);const k7e=at(nne.exports);let ine=(function(e){f(r,e);var t=g(r);function r(i){var n;H(this,r),n=t.call(this,i),n.localTracks=pg.filter(p=>p.local&&!p.hidden).map(p=>{const m={...p};return m.datatype=p.datatype[0],m}),n.augmentedTracksInfo=pg,window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(p=>{n.augmentedTracksInfo.push(window.higlassTracksByType[p].config)}),i.datatype?n.localTracks=n.localTracks.filter(p=>p.datatype[0]===i.datatype):n.localTracks=n.localTracks.filter(p=>p.orientation===n.props.orientation),n.localTracks.forEach(p=>{p.uuid=hn.nice()});const s=n.prepareNewEntries("",n.localTracks,{}),c=Object.keys(s),h=c.length?[c[0]]:null;return n.mounted=!1,n.state={selectedUuid:h,options:s,filter:"",checked:[],expanded:[]},n.requestTilesetLists(),n}return j(r,[{key:"componentDidMount",value:function(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"prepareNewEntries",value:function(n,s,c){const h=c;return s.map(m=>({...m,server:n,tilesetUid:m.uuid,serverUidKey:this.serverUidKey(n,m.uuid),datatype:m.datatype,name:m.name,uid:hn.nice()})).forEach(m=>{h[m.serverUidKey]=m}),h}},{key:"serverUidKey",value:function(n,s){return`${n}/${s}`}},{key:"requestTilesetLists",value:function(){let n=null;if(this.props.datatype?n=`dt=${this.props.datatype}`:n=[...new Set([].concat(...this.augmentedTracksInfo.filter(c=>c.datatype).filter(c=>c.orientation===this.props.orientation||this.props.orientation==="1d-vertical"&&c.orientation==="1d-horizontal").map(c=>c.datatype)))].map(c=>`dt=${c}`).join("&"),!this.props.trackSourceServers){console.warn("No track source servers specified in the viewconf");return}this.props.trackSourceServers.forEach(s=>{yr.json(`${s}/tilesets/?limit=10000&${n}`,(c,h)=>{if(c)console.error("ERROR:",c);else{const p=this.prepareNewEntries(s,h.results,this.state.options),m=Object.keys(p);let{selectedUuid:d}=this.state;if(!d){d=m.length?[m[0]]:null;const E=this.state.options[d[0]];this.props.selectedTilesetChanged([E])}this.mounted&&this.setState({selectedUuid:d,options:p})}},this.props.pubSub)})}},{key:"handleOptionDoubleClick",value:function(n){const s=this.state.options[n.target.value];this.props.onDoubleClick(s)}},{key:"handleSelectedOptions",value:function(n){const s=[],c=[];for(let h=0;h<n.length;h++)s.push(n[h]),c.push(this.state.options[n[h]]);this.props.selectedTilesetChanged(c),this.setState({selectedUuid:s})}},{key:"handleSelect",value:function(){const{selectedOptions:n}=this.multiSelect,s=[];for(let c=0;c<n.length;c++){const h=n[c];s.push(h.value)}this.handleSelectedOptions(s)}},{key:"handleSearchChange",value:function(){const n=this.searchBox;this.setState({filter:n.value})}},{key:"partitionByGroup",value:function(n,s){const c={"":{name:"",value:"",children:[]}};for(const p of Object.keys(n)){const m=n[p];if(m.name.toLowerCase().includes(s))if("project_name"in m){const d=m.project_name;d in c||(c[d]={value:d,label:d,children:[]}),c[d].children.push({label:m.name,value:p})}else c[""].children.push({label:m.name,value:p})}const h=c[""].children;for(const p of Object.keys(c))p!==""&&(c[p].children.sort((m,d)=>m.label.toLowerCase().localeCompare(d.label.toLowerCase(),"en")),h.push(c[p]));return h.sort((p,m)=>p.label.toLowerCase().localeCompare(m.label.toLowerCase(),"en")),h}},{key:"handleChecked",value:function(n){this.handleSelectedOptions(n),this.setState({checked:n})}},{key:"handleExpanded",value:function(n){this.setState({expanded:n})}},{key:"render",value:function(){const n=[];for(const m in this.state.options)n.push(this.state.options[m]);const s=this.partitionByGroup(this.state.options,this.state.filter),c={width:15,height:15,top:2,right:2,position:"relative"},h=JSON.parse(JSON.stringify(c));h.opacity=.5;const p=M.default.createElement("form",{onSubmit:m=>{m.preventDefault()}},M.default.createElement("div",{className:"tileset-finder-search-bar"},M.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),M.default.createElement("input",{ref:m=>{this.searchBox=m},className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),M.default.createElement("div",{className:"tileset-finder-checkbox-tree"},M.default.createElement(k7e,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:M.default.createElement("svg",{style:c},M.default.createElement("use",{xlinkHref:"#square_o"})),check:M.default.createElement("svg",{style:c},M.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:M.default.createElement("svg",{style:h},M.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:M.default.createElement("svg",{style:c},M.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:M.default.createElement("svg",{style:c},M.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:M.default.createElement("svg",{style:c},M.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:M.default.createElement("svg",{style:c},M.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:M.default.createElement("svg",{style:c},M.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:s,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return M.default.createElement("div",null,p)}}]),r})(M.default.Component);ine.propTypes={datatype:z.exports.string,orientation:z.exports.string,onDoubleClick:z.exports.func,pubSub:z.exports.object.isRequired,selectedTilesetChanged:z.exports.func,trackSourceServers:z.exports.array};const P7e=x1(ine);let ane=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.DATATYPE_TO_TRACK_TYPE=HM(n.props.orientation),n.AVAILABLE_TRACK_TYPES=Wx(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return j(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(n){if(this.AVAILABLE_TRACK_TYPES=Wx(n.datatypes,this.props.orientation),!!this.AVAILABLE_TRACK_TYPES&&n.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){const s=zM(n.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(s)}}},{key:"handlePlotTypeSelected",value:function(n){this.setState({selectedPlotType:n}),this.props.onPlotTypeSelected(n.type)}},{key:"render",value:function(){let n="No plot types available for track";const s={};return pg.forEach(c=>{s[c.type]=c}),this.AVAILABLE_TRACK_TYPES&&(n=this.AVAILABLE_TRACK_TYPES.sort((c,h)=>c.type<h.type).map(c=>{const h=s[c.type].thumbnail,p=this.state.selectedPlotType.type===c.type?"plot-type-item plot-type-selected":"plot-type-item",m=s[c.type].thumbnail?M.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:h.outerHTML}}):M.default.createElement("div",{className:"track-thumbnail"},M.default.createElement("svg",{height:20,width:30}));return M.default.createElement("li",{key:c.type,className:p,onClick:d=>{this.setState({selectedPlotType:c}),this.props.onPlotTypeSelected(c.type)},style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},m,M.default.createElement("span",{style:{verticalAlign:"middle"}},c.type))})),M.default.createElement("div",null,n.length>0&&this.props.allTracksSameDatatype&&M.default.createElement("div",{className:"plot-type-container"},n),!this.props.allTracksSameDatatype&&M.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}}]),r})(M.default.Component);ane.propTypes={allTracksSameDatatype:z.exports.bool,datatypes:z.exports.array,orientation:z.exports.string,onPlotTypeSelected:z.exports.func,position:z.exports.string};let xk=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.options={},n.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},n.handleSubmitBound=n.handleSubmit.bind(S(n)),n.handleTilesetPickerDoubleClickBound=n.handleTilesetPickerDoubleClick.bind(S(n)),n.selectedTilesetsChangedBound=n.selectedTilesetsChanged.bind(S(n)),n}return j(r,[{key:"getOrientation",value:function(n){let s=null;return n==="top"||n==="bottom"?s="1d-horizontal":n==="left"||n==="right"?s="1d-vertical":s="2d",s}},{key:"handleSubmit",value:function(n){n&&n.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleTilesetPickerDoubleClick",value:function(n){this.selectedTilesetsChanged([n]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleOptionsChanged",value:function(n){this.options=n}},{key:"handlePlotTypeSelected",value:function(n){const{selectedTilesets:s}=this.state;for(const c of s)c.type=n;this.selectedPlotType=n,this.setState({selectedTilesets:s})}},{key:"selectedTilesetsChanged",value:function(n){let s=null;n.length===0?s=[{datatype:"none"}]:s=n;let c=!0;const h=s[0].datatype;for(const p of s)p.datatype!==h&&(c=!1);if(c)for(const p of s)p.type=this.selectedPlotType;else for(const p of s){let m=[p.datatype];const d=this.getOrientation(this.props.position);p.filetype==="cooler"&&(m=[p.datatype,"chromsizes"]);const E=Wx([m],d),_=zM(m[0],this.props.position,E);p.type=_.type}this.setState({selectedTilesets:s,allTracksSameDatatype:c})}},{key:"render",value:function(){const n=this.getOrientation(this.props.position),s=M.default.createElement("div",null,M.default.createElement(P7e,{ref:c=>{this.tilesetFinder=c},datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:c=>this.props.onTracksChosen(c,this.props.position),orientation:n,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return M.default.createElement(fC,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},M.default.createElement(M.default.Fragment,null,s,M.default.createElement(ane,{ref:c=>{this.plotTypeChooser=c},allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map(c=>c.filetype==="cooler"?[c.datatype,"chromsizes"]:[c.datatype]),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:n,position:this.props.position})))}}]),r})(M.default.Component);xk.defaultProps={position:"top"},xk.propTypes={datatype:z.exports.string,host:z.exports.string,onCancel:z.exports.func.isRequired,onTracksChosen:z.exports.func.isRequired,position:z.exports.string,trackSourceServers:z.exports.array.isRequired};let mF=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"render",value:function(){const n=[];return this.props.children.forEach((s,c)=>{const h=`customTrackDialog_${c}`;n.push(M.default.createElement(s,{key:h,...this.props.bodyProps[c]}))}),M.default.createElement(fC,{maxHeight:!0,okayOnly:!0,okayTitle:"Close",onCancel:this.props.onCancel,onOkay:this.props.onCancel,title:this.props.title},n)}}]),r})(M.default.PureComponent);mF.defaultProps={},mF.propTypes={onCancel:z.exports.func.isRequired};const one=20;let Bp=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return j(r,[{key:"componentDidMount",value:function(){this.updateOrientation()}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){this.adjusted=!1,this.setState({left:n.position.left,top:n.position.top})}},{key:"componentDidUpdate",value:function(){this.updateOrientation()}},{key:"handleItemMouseEnterWithRect",value:function(n,s){this.setState({submenuShown:s,submenuSourceBbox:n})}},{key:"handleItemMouseEnter",value:function(n,s){this.handleItemMouseEnterWithRect(n.currentTarget.getBoundingClientRect(),s)}},{key:"handleMouseLeave",value:function(){}},{key:"handleOtherMouseEnter",value:function(){this.setState({submenuShown:null})}},{key:"updateOrientation",value:function(){if(this.adjusted)return;this.adjusted=!0,this.divDom=ke.default.findDOMNode(this.div);const n=this.divDom.getBoundingClientRect(),s=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0};let c=this.state.orientation,h=s.top;if(s.top+n.height>window.innerHeight&&(s.top-n.height>0?h=s.top-n.height+one:(h=s.top-n.height+one,h-=h+n.height-window.innerHeight)),this.state.orientation==="left"){let p=s.left-n.width;p<0&&(s.left+s.width+n.width>window.innerWidth?p=0:(p=s.left+s.width,c="right")),this.setState({left:p,top:h,orientation:c})}else{let p=s.left+s.width;s.left+s.width+n.width>window.innerWidth&&(s.left-n.width<0?(p=0,c="right"):(p=s.left-n.width,c="left")),this.setState({left:p,top:h,orientation:c})}}},{key:"render",value:function(){const n=this.state.left?{left:this.state.left}:{right:this.state.right},s={top:this.state.top},c=Object.assign(n,s);return M.default.createElement("div",{ref:h=>{this.div=h},className:Kn("context-menu-item",Qr["context-menu"],{[Qr["context-menu-dark"]]:this.props.theme===Oi}),style:c},this.props.children)}}]),r})(M.default.Component);Bp.propTypes={children:z.exports.node,orientation:z.exports.string,parentBbox:z.exports.object,position:z.exports.object,theme:z.exports.symbol.isRequired};let gF=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){const n=this.state.submenuSourceBbox,s=this.state.orientation==="left"?{left:this.state.left,top:n.top}:{left:this.state.left+n.width+7,top:n.top},c=this.state.submenuShown;return M.default.createElement(r,{menuItems:c.children,orientation:this.state.orientation,parentBbox:n,position:s,theme:this.props.theme})}return M.default.createElement("div",null)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){const n=[];for(const s in this.props.menuItems){const c=this.props.menuItems[s];n.push(M.default.createElement(cn,{key:s,onClick:c.handler?c.handler:()=>null,onMouseEnter:c.children?h=>this.handleItemMouseEnter(h,c):this.handleOtherMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave},c.name,c.children&&M.default.createElement("svg",{className:Qr["play-icon"]},M.default.createElement("use",{xlinkHref:"#play"}))))}return M.default.createElement("div",{ref:s=>{this.div=s},className:Kn(Qr["context-menu"],{[Qr["context-menu-dark"]]:this.props.theme===Oi}),style:{left:this.state.left,top:this.state.top}},n,this.getSubmenu())}}]),r})(Bp),R7e=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"getConfigureSeriesMenu",value:function(n,s,c){const h={},p=window.higlassTracksByType&&window.higlassTracksByType[c.type]&&window.higlassTracksByType[c.type].config&&window.higlassTracksByType[c.type].config.optionsInfo;if(p)for(const m of Object.keys(p))zo[m]=p[m];if(!Ci[c.type]||!Ci[c.type].availableOptions)return null;for(const m of Ci[c.type].availableOptions)if(m in zo){if(h[m]={name:zo[m].name},zo[m].generateOptions){const d=zo[m].generateOptions(c);h[m].children||(h[m].children={});for(const E of d){const _={name:E.name,value:E.value,handler:()=>{c.options[m]=E.value,this.props.onTrackOptionsChanged(c.uid,c.options),this.props.closeMenu()}};h[m].children[E.value]=_}}if(zo[m].inlineOptions)for(const d in zo[m].inlineOptions){const E=zo[m].inlineOptions[d];h[m].children||(h[m].children={});const _={name:E.name,value:E.value};E.componentPickers&&E.componentPickers[c.type]?_.handler=()=>{this.props.onConfigureTrack(c,E.componentPickers[c.type]),this.props.closeMenu()}:_.handler=()=>{c.options[m]=E.value,this.props.onTrackOptionsChanged(c.uid,c.options),this.props.closeMenu()},h[m].children[d]=_}else zo[m].componentPickers&&zo[m].componentPickers[c.type]&&(h[m].handler=()=>{this.props.onConfigureTrack(c,zo[m].componentPickers[c.type]),this.props.closeMenu()})}return M.default.createElement(gF,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:h,orientation:this.state.orientation,parentBbox:s,position:n,theme:this.props.theme})}},{key:"getTrackTypeItems",value:function(n,s,c){window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(E=>{Ci[E]=window.higlassTracksByType[E].config});let{datatype:h}=c,p=null;c.type in Ci&&(h||(h=Ci[c.type].datatype[0]),{orientation:p}=Ci[c.type]);const m=Object.values(Ci).filter(E=>E.datatype).filter(E=>E.orientation).filter(E=>E.datatype.includes(h)).filter(E=>E.orientation===p).map(E=>E.type),d={};for(let E=0;E<m.length;E++)d[m[E]]={value:m[E],name:m[E],handler:()=>{this.props.onChangeTrackType(c.uid,m[E])}};return M.default.createElement(gF,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:d,orientation:this.state.orientation,parentBbox:s,position:n,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){const n=this.state.submenuSourceBbox,s=this.state.orientation==="left"?{left:this.state.left,top:n.top}:{left:this.state.left+n.width+7,top:n.top},c=this.state.submenuShown,h=c.value;return c.option==="track-type"?this.getTrackTypeItems(s,n,h):this.getConfigureSeriesMenu(s,n,h)}return M.default.createElement("div",null)}},{key:"getDivideByMenuItem",value:function(){if(this.props.series.data&&this.props.series.data.type==="divided"){const n={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return M.default.createElement(cn,{className:Qr["context-menu-item"],onClick:()=>this.props.onChangeTrackData(this.props.series.uid,n),onMouseEnter:s=>this.handleOtherMouseEnter(s)},M.default.createElement("span",{className:Qr["context-menu-span"]},"Remove divisor"))}return M.default.createElement(cn,{className:Qr["context-menu-item"],onClick:()=>this.props.onAddDivisor(this.props.series),onMouseEnter:n=>this.handleOtherMouseEnter(n)},M.default.createElement("span",{className:Qr["context-menu-span"]},"Divide by"))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){let n=null;Ci[this.props.series.type]&&Ci[this.props.series.type].exportable&&(n=M.default.createElement(cn,{className:Qr["context-menu-item"],onClick:()=>this.props.onExportData(this.props.hostTrack.uid,this.props.track.uid),onMouseEnter:c=>this.handleOtherMouseEnter(c)},M.default.createElement("span",{className:Qr["context-menu-span"]},"Export Data")));const s=this.props.onAddSeries?M.default.createElement(cn,{className:Qr["context-menu-item"],onClick:()=>{this.props.onCloseTrack(this.props.series.uid),this.props.onAddSeries(this.props.hostTrack.uid)},onMouseEnter:c=>this.handleOtherMouseEnter(c)},M.default.createElement("span",{className:Qr["context-menu-span"]},"Replace Series")):null;return M.default.createElement("div",{ref:c=>{this.div=c},className:Kn(Qr["context-menu"],{[Qr["context-menu-dark"]]:this.props.theme===Oi}),"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top}},M.default.createElement(cn,{onClick:()=>{},onMouseEnter:c=>this.handleItemMouseEnter(c,{option:"configure-series",value:this.props.track}),onMouseLeave:c=>this.handleMouseLeave(c)},"Configure Series",M.default.createElement("svg",{className:Qr["play-icon"]},M.default.createElement("use",{xlinkHref:"#play"}))),M.default.createElement(cn,{className:Qr["context-menu-item"],onClick:()=>{},onMouseEnter:c=>this.handleItemMouseEnter(c,{option:"track-type",value:this.props.track}),onMouseLeave:c=>this.handleMouseLeave(c)},M.default.createElement("span",{className:Qr["context-menu-span"]},"Track Type",M.default.createElement("svg",{className:Qr["play-icon"]},M.default.createElement("use",{xlinkHref:"#play"})))),n,this.getDivideByMenuItem(),M.default.createElement(cn,{className:Qr["context-menu-item"],onClick:this.props.onCloseTrack,onMouseEnter:c=>this.handleOtherMouseEnter(c)},M.default.createElement("span",{className:Qr["context-menu-span"]},"Close Series")),s,this.getSubmenu())}}]),r})(Bp);const sne=e=>{let t=[];for(const r of e)r.contents?t=t.concat(r.contents):t.push(r);return t},vF=(e,t,r,i)=>e?(window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(n=>{Ci[n]=window.higlassTracksByType[n].config}),sne(e).map(n=>{const s=Ci[n.type]?Ci[n.type].thumbnail:null,c=s?M.default.createElement("div",{className:Qr["context-menu-icon"],dangerouslySetInnerHTML:{__html:s.outerHTML}}):M.default.createElement("div",{className:Qr["context-menu-icon"]},M.default.createElement("svg",null));return M.default.createElement(cn,{key:n.uid,className:Qr["context-menu-item"],onClick:()=>{i&&i(n.uid)},onMouseEnter:h=>{t&&t(h,n)},onMouseLeave:h=>{r&&r(h)}},c,M.default.createElement("span",{className:Qr["context-menu-span"]},n.options&&n.options.name&&n.options.name.length?n.options.name:n.type,t&&r?M.default.createElement("svg",{className:Qr["play-icon"]},M.default.createElement("use",{xlinkHref:"#play"})):null))})):null,lne=vO(e=>(function(t){f(i,t);var r=g(i);function i(){return H(this,i),r.apply(this,arguments)}return j(i,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){const s=this.state.submenuSourceBbox;let c=null;this.state.orientation==="left"?c={left:this.state.left,top:s.top}:c={left:this.state.left+s.width+7,top:s.top};const p=sne(this.props.tracks).filter(d=>d.uid===this.state.submenuShown.uid)[0],m=p&&p.position!=="whole";return M.default.createElement(R7e,{key:`series-list-menu-${p.uid}`,ref:d=>{this.seriesListMenu=d},closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:m?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:()=>this.props.onCloseTrack(this.state.submenuShown.uid),onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:s,position:c,series:this.state.submenuShown,theme:this.props.theme,track:p,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return M.default.createElement("div",null)}}]),i})(e));let N7e=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.seriesRefs={},n.seriesListMenu=null,n}return j(r,[{key:"componentDidMount",value:function(){a(N(r.prototype),"componentDidMount",this).call(this)}},{key:"render",value:function(){return M.default.createElement("div",{ref:n=>{this.div=n},className:Kn(Qr["context-menu"],{[Qr["context-menu-dark"]]:this.props.theme===Oi}),"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top}},vF(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{contextMenu:this,onClick:()=>this.props.onLockValueScale(this.props.tracks[0].uid),onMouseEnter:n=>this.handleOtherMouseEnter(n)},"Lock Value Scale With"),M.default.createElement(cn,{contextMenu:this,onClick:()=>this.props.onUnlockValueScale(this.props.tracks[0].uid),onMouseEnter:n=>this.handleOtherMouseEnter(n)},"Unlock Value Scale"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{contextMenu:this,onClick:()=>this.props.onAddSeries(this.props.tracks[0].uid),onMouseEnter:n=>this.handleOtherMouseEnter(n)},"Add Series"),M.default.createElement(cn,{onClick:()=>this.props.onCloseTrack(this.props.tracks[0].uid)},"Close Track"),M.default.createElement(cn,{onClick:()=>{this.props.onReplaceTrack(this.props.tracks[0].uid,this.props.trackOrientation)}},"Replace Track"),this.getSubmenu())}}]),r})(Q1(Bp).with(lne));function une(e){return M.default.createElement("div",null,vF(e.tracks,null,null,e.onCloseTrack),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:()=>e.onCloseTrack(e.tracks[0].uid)},"Close all series"))}une.propTypes={onCloseTrack:z.exports.func.isRequired,tracks:z.exports.array.isRequired};let Fp=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.clickHandlerBound=n.clickHandler.bind(S(n)),n.contextMenuHandlerBound=n.contextMenuHandler.bind(S(n)),n.resizeHandlerBound=n.resizeHandler.bind(S(n)),n}return j(r,[{key:"componentDidMount",value:function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}},{key:"componentDidUpdate",value:function(){this._renderLayer()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),ke.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}},{key:"_renderLayer",value:function(){ke.default.render(this.props.children,this.popup)}},{key:"clickHandler",value:function(n){this.popup.contains(n.target)||this.props.onMenuClosed&&this.props.onMenuClosed(n)}},{key:"contextMenuHandler",value:function(n){n.altKey||(n.preventDefault(),this.clickHandler(n))}},{key:"resizeHandler",value:function(){this.props.onMenuClosed(null)}},{key:"render",value:function(){return M.default.createElement("div",null)}}]),r})(M.default.Component);Fp.defaultProps={onMenuClosed:H7},Fp.propTypes={children:z.exports.node.isRequired,onMenuClosed:z.exports.func};const M7e=t7(e=>M.default.createElement(cte,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})),L7e={"vertical-tiled-plot":"_vertical-tiled-plot_f3ho8_1"};function cne(e){return e&&e.sourceEvent}let yF=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.brushBehavior=XT().on("start",n.brushStarted.bind(S(n))).on("brush",n.brushed.bind(S(n))).on("end",n.brushedEnded.bind(S(n))),n}return j(r,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(n,s){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==n.rangeSelection&&this.moveBrush(n.rangeSelection[0]?n.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==s;if(this.props.rangeSelection!==n.rangeSelection){const c=this.props.is1dRangeSelection?0:1;return this.moveBrush(n.rangeSelection[c]?n.rangeSelection[c]:null,n.rangeSelectionEnd),this.state!==s}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,Ry(this.brushEl,cc["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(n){const s=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!cne(n)||!this.props.onRangeSelection||s)&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(n.selection))}},{key:"brushStarted",value:function(n){!cne(n)||!n.selection||this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(n){if(!this.props.is1dRangeSelection)return;const s=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,n.selection&&n.sourceEvent&&this.props.onRangeSelection&&!s&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(n.selection)),n.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}},{key:"moveBrush",value:function(n,s=!1){if(!this.brushEl)return;const c=n?[this.props.scale(n[0]),this.props.scale(n[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,s?this.brushEl.transition().call(this.brushBehavior.move,c):this.brushEl.call(this.brushBehavior.move,c)}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){const n=this.props.tracks.map(h=>h.width).reduce(rp,0),s=this.props.tracks.map(h=>Ny(h)).reduce(db,!1),c=cc[this.props.isRangeSelectionActive?"track-range-selection-active":"track-range-selection"];return M.default.createElement("div",{className:L7e["vertical-tiled-plot"]},s&&M.default.createElement("svg",{ref:h=>{this.brushEl=tn(h)},className:c,style:{height:this.props.height,width:n},xmlns:"http://www.w3.org/2000/svg"}),M.default.createElement(nk,{axis:"x",className:Kn(hc.list,hc.stylizedList,hc.horizontalList),component:lte,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:hc.stylizedHelper,itemClass:Kn(hc.stylizedItem,hc.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:M7e,items:this.props.tracks.map(h=>({configMenuVisible:h.uid===this.props.configTrackMenuId,uid:h.uid||hn.nice(),height:this.props.height,width:h.width,value:h.value})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:n}))}}]),r})(M.default.Component);yF.propTypes={configTrackMenuId:z.exports.string,editable:z.exports.bool,handleConfigTrack:z.exports.func,handleResizeTrack:z.exports.func,handleSortEnd:z.exports.func,is1dRangeSelection:z.exports.bool,isRangeSelectionActive:z.exports.bool,height:z.exports.number,onAddSeries:z.exports.func,onCloseTrack:z.exports.func,onCloseTrackMenuOpened:z.exports.func,onConfigTrackMenuOpened:z.exports.func,onRangeSelection:z.exports.func,onRangeSelectionEnd:z.exports.func,onRangeSelectionReset:z.exports.func,onRangeSelectionStart:z.exports.func,rangeSelection:z.exports.array,rangeSelectionEnd:z.exports.bool,referenceAncestor:z.exports.func,resizeHandles:z.exports.object,scale:z.exports.func,tracks:z.exports.array,tracksControlAlignLeft:z.exports.bool};let hne=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"render",value:function(){const n=vF(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),s=this.props.customItems?M.default.Children.map(this.props.customItems,c=>M.default.cloneElement(c,{onMouseEnter:h=>{this.handleOtherMouseEnter(h)}})):null;return M.default.createElement("div",{ref:c=>{this.div=c},className:Kn(Qr["context-menu"],{[Qr["context-menu-dark"]]:this.props.theme===Oi}),"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top}},s,s&&M.default.createElement("hr",{className:Qr["context-menu-hr"]}),n,n&&M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:()=>this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),onMouseEnter:c=>this.handleOtherMouseEnter(c)},"Add Horizontal Rule"),M.default.createElement(cn,{onClick:()=>this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),onMouseEnter:c=>this.handleOtherMouseEnter(c)},"Add Vertical Rule"),M.default.createElement(cn,{onClick:()=>this.props.onAddTrack({type:"cross-rule",x:this.props.coords[0],y:this.props.coords[1],position:"whole"}),onMouseEnter:c=>this.handleOtherMouseEnter(c)},"Add Cross Rule"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),this.hasMatrixTrack(this.props.tracks)&&M.default.createElement(cn,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:c=>this.handleOtherMouseEnter(c)},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&M.default.createElement(cn,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:c=>this.handleOtherMouseEnter(c)},"Add Vertical Cross Section"),this.getSubmenu())}},{key:"hasMatrixTrack",value:function(n){return rI(this.props.tracks).filter(c=>c.type==="heatmap").length>0}},{key:"handleAddHorizontalSection",value:function(){const s=rI(this.props.tracks).filter(c=>c.type==="heatmap")[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:s.server,tilesetUid:s.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}},{key:"handleAddVerticalSection",value:function(){const s=rI(this.props.tracks).filter(c=>c.type==="heatmap")[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:s.server,tilesetUid:s.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}}]),r})(Q1(Bp).with(lne));hne.propTypes={coords:z.exports.array,customItems:z.exports.array};let _F=(function(e){f(r,e);var t=g(r);function r(i){var n;H(this,r),n=t.call(this,i),n.closing=!1;const{tracks:s}=n.props;return n.canvasElement=null,n.tracksByUidInit={},[...n.props.tracks.top||[],...n.props.tracks.right||[],...n.props.tracks.bottom||[],...n.props.tracks.left||[],...n.props.tracks.gallery||[],...n.props.tracks.center||[]].forEach(c=>{c.type==="combined"?c.contents.forEach(h=>{n.tracksByUidInit[h.uid]=!1}):n.tracksByUidInit[c.uid]=!1}),n.xScale=null,n.yScale=null,n.addUidsToTracks(s),n.trackToReplace=null,n.trackRenderer=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,tracks:s,init:!1,addTrackPosition:null,customDialog:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},n.reset=!0,window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(c=>{Ci[c]=window.higlassTracksByType[c].config}),n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n.contextMenuHandlerBound=n.contextMenuHandler.bind(S(n)),n.handleNoTrackAddedBound=n.handleNoTrackAdded.bind(S(n)),n.handleTracksAddedBound=n.handleTracksAdded.bind(S(n)),n.closeMenusBound=n.closeMenus.bind(S(n)),n.handleAddDivisorBound=n.handleAddDivisor.bind(S(n)),n.handleAddSeriesBound=n.handleAddSeries.bind(S(n)),n.handleChangeTrackDataBound=n.handleChangeTrackData.bind(S(n)),n.handleChangeTrackTypeBound=n.handleChangeTrackType.bind(S(n)),n.handleCloseTrackBound=n.handleCloseTrack.bind(S(n)),n.handleConfigureTrackBound=n.handleConfigureTrack.bind(S(n)),n.handleExportTrackDataBound=n.handleExportTrackData.bind(S(n)),n.handleLockValueScaleBound=n.handleLockValueScale.bind(S(n)),n.handleReplaceTrackBound=n.handleReplaceTrack.bind(S(n)),n.handleTrackOptionsChangedBound=n.handleTrackOptionsChanged.bind(S(n)),n.handleUnlockValueScaleBound=n.handleUnlockValueScale.bind(S(n)),n.onAddTrack=n.handleAddTrack.bind(S(n)),n}return j(r,[{key:"waitForDOMAttachment",value:function(n){if(!this.mounted)return;const s=ke.default.findDOMNode(this);document.body.contains(s)?n():requestAnimationFrame(()=>this.waitForDOMAttachment(n))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.element=ke.default.findDOMNode(this),this.canvasElement=ke.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment(()=>{_x.ElementQueries.listen(),this.resizeSensor=new _x.ResizeSensor(this.element.parentNode,this.measureSize.bind(this)),this.measureSize()}),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){this.addUidsToTracks(n.tracks),this.setState({tracks:n.tracks})}},{key:"shouldComponentUpdate",value:function(n,s){const c=this.previousPropsStr,h=this.updatablePropsToString(n),p=JSON.stringify(this.state),m=JSON.stringify(s),d=c!==h||p!==m||this.props.chooseTrackHandler!==n.chooseTrackHandler||this.props.customDialog!==n.customDialog;d&&(this.previousPropsStr=h);const E=this.numTracks;return this.numTracks=0,If(this.props.tracks,()=>this.numTracks++),this.reset=this.reset||E===0&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),d}},{key:"UNSAFE_componentWillUpdate",value:function(){}},{key:"componentDidUpdate",value:function(n,s){if(s.rangeSelection!==this.state.rangeSelection){let c=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every(h=>h&&h.length)&&(c=this.state.rangeSelection.map(h=>Yx(...h,this.state.defaultChromSizes))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:c})}if(this.state.customDialog||this.props.customDialog){const c=this.state.customDialog||this.props.customDialog;if(c.length>0){const h=[],p=[];c.forEach(m=>{h.push(m.bodyComponent),p.push(m.bodyProps)}),this.props.modal.open(M.default.createElement(mF,{children:h,bodyProps:p,onCancel:this.props.closeCustomDialog,title:c[0].title}))}}if(n.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(M.default.createElement(xk,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){const c=this.state.addDivisorDialog;this.props.modal.open(M.default.createElement(xk,{datatype:Ci[c.type].datatype[0],host:this.state.addTrackHost,onCancel:()=>{this.setState({addDivisorDialog:null})},onTracksChosen:h=>{this.handleDivisorChosen(c,h)},trackSourceServers:this.props.trackSourceServers}))}}},{key:"componentWillUnmount",value:function(){this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach(n=>this.props.pubSub.unsubscribe(n))}},{key:"addUidsToTracks",value:function(n){Object.keys(n).forEach(s=>{n[s].forEach(c=>{c.uid=c.uid||hn.nice()})})}},{key:"contextMenuHandler",value:function(n){if(!this.divTiledPlot)return;const s=this.divTiledPlot.getBoundingClientRect();if(!eL(n.clientX,n.clientY,s.left,s.left+s.width,s.top,s.top+s.height))return;const h=[n.clientX,n.clientY],p=Ln(n,this.divTiledPlot),m=this.trackRenderer.zoomedXScale.invert(p[0]),d=this.trackRenderer.zoomedYScale.invert(p[1]);let E=null;n.hgCustomItems&&(E=n.hgCustomItems.map(_=>M.default.createElement(cn,{key:_.key,onClick:_.onClick},_.text))),this.setState({contextMenuCustomItems:E,contextMenuPosition:{left:h[0],top:h[1],canvasLeft:p[0]+this.trackRenderer.xPositionOffset,canvasTop:p[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:m,contextMenuDataY:d})}},{key:"measureSize",value:function(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}},{key:"handleTrackOptionsChanged",value:function(n,s){return this.props.onTrackOptionsChanged(n,s)}},{key:"handleScalesChanged",value:function(n,s){this.xScale=n,this.yScale=s,this.props.onScalesChanged(n,s)}},{key:"handleTilesetInfoReceived",value:function(n,s){const c=Ll(this.props.tracks,n);if(!c){console.warn("Strange, track not found:",n);return}this.tracksByUidInit[c.uid]=!0,this.checkAllTilesetInfoReceived(),c.options||(c.options={}),c.name=s.name,c.maxWidth=s.max_width,c.transforms=s.transforms,c.aggregationModes=s.aggregation_modes,c.header=s.header,c.binsPerDimension=s.bins_per_dimension,s.resolutions?(c.maxZoom=s.resolutions.length-1,c.resolutions=s.resolutions):c.maxZoom=s.max_zoom,c.coordSystem=s.coordSystem,c.datatype=s.datatype}},{key:"checkAllTilesetInfoReceived",value:function(){if(this.state.init&&!this.reset||!this.trackRenderer||!this.props.zoomToDataExtentOnInit())return;const n=Object.keys(this.trackRenderer.trackDefObjects).map(c=>{const h=this.trackRenderer.trackDefObjects[c].trackObject;return h.childTracks?h.childTracks:h}).reduce((c,h)=>c.concat(h),[]).filter(({tilesetInfo:c})=>typeof c<"u"&&c!==!0),s=Object.values(this.tracksByUidInit).filter(c=>c).length;n.length===s&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}},{key:"handleOverlayMouseEnter",value:function(n){this.setState({mouseOverOverlayUid:n})}},{key:"handleOverlayMouseLeave",value:function(n){n===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}},{key:"handleTrackPositionChosen",value:function(n){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(n.track.uid)}},{key:"handleNoTrackAdded",value:function(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}},{key:"handleAddDivisor",value:function(n){this.setState({addDivisorDialog:n})}},{key:"handleDivisorChosen",value:function(n,s){this.setState({addDivisorDialog:null});const c=n.data?{server:n.data.server,tilesetUid:n.data.tilesetUid}:{server:n.server,tilesetUid:n.tilesetUid},h={server:s[0].server,tilesetUid:s[0].uuid};this.handleChangeTrackData(n.uid,{type:"divided",children:[c,h]})}},{key:"handleDivideSeries",value:function(n){}},{key:"handleAddSeries",value:function(n){const s=fb(this.props.tracks,n),c=Ll(this.props.tracks,n);this.setState({addTrackPosition:s,addTrackHost:c})}},{key:"handleReplaceTrack",value:function(n,s){this.trackToReplace=n,this.handleAddTrack(s)}},{key:"handleAddTrack",value:function(n){this.setState({addTrackPosition:n,addTrackHost:null})}},{key:"handleResizeTrack",value:function(n,s,c){const{tracks:h}=this.state;for(const p in h){const d=h[p].filter(E=>E.uid===n);d.length>0&&(d[0].width=s,d[0].height=c)}this.setState({tracks:h,forceUpdate:Math.random()}),this.props.onResizeTrack()}},{key:"closeMenus",value:function(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}},{key:"handleLockValueScale",value:function(n){this.closeMenus(),this.props.onLockValueScale(n)}},{key:"handleUnlockValueScale",value:function(n){this.closeMenus(),this.props.onUnlockValueScale(n)}},{key:"handleCloseTrack",value:function(n){this.closeMenus(),this.props.onCloseTrack(n)}},{key:"handleChangeTrackType",value:function(n,s){this.closeMenus(),this.props.onChangeTrackType(n,s)}},{key:"handleChangeTrackData",value:function(n,s){this.closeMenus(),this.props.onChangeTrackData(n,s)}},{key:"handleTracksAdded",value:function(n,s,c){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(n,s,c),this.setState({addTrackPosition:null,addTrackHost:null}),n}},{key:"handleCloseTrackMenuOpened",value:function(n,s){this.setState({closeTrackMenuId:n,closeTrackMenuLocation:s})}},{key:"handleCloseContextMenu",value:function(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}},{key:"handleCloseTrackMenuClosed",value:function(){this.setState({closeTrackMenuId:null})}},{key:"handleConfigTrackMenuOpened",value:function(n,s){this.closeMenus(),this.setState({configTrackMenuId:n,configTrackMenuLocation:s})}},{key:"handleConfigureTrack",value:function(n,s){this.setState({configTrackMenuId:null,trackOptions:{track:n,configComponent:s}}),this.closeMenus()}},{key:"handleSortEnd",value:function(n){this.setState(s=>{const c=s.tracks,h={};for(let p=0;p<n.length;p++)h[n[p].uid]=p;for(const p in c){const m=c[p];if(m.length&&m[0].uid in h){const d=new Array(m.length);for(let E=0;E<m.length;E++)d[h[m[E].uid]]=m[E];c[p]=d}}return{tracks:c,forceUpdate:Math.random()}})}},{key:"createTracksAndLocations",value:function(){const n=[],{tracks:s}=this.state;return FM.forEach(c=>{s[c]&&s[c].forEach(h=>{h.contents&&h.contents.forEach(p=>{p.position=c}),h.position=c,n.push({track:h,location:c})})}),n}},{key:"calculateTrackPosition",value:function(n,s){let c=this.props.paddingTop,h=this.props.paddingBottom,p=this.props.paddingLeft,m=this.props.paddingRight,d=this.centerWidth,E=n.height,_=0,T=0;switch(s){case"top":p+=this.leftWidth;for(let C=0;C<this.state.tracks.top.length&&this.state.tracks.top[C].uid!==n.uid;C++)c+=this.state.tracks.top[C].height;break;case"bottom":p+=this.leftWidth,c+=this.topHeight+this.centerHeight+this.galleryDim;for(let C=0;C<this.state.tracks.bottom.length&&this.state.tracks.bottom[C].uid!==n.uid;C++)c+=this.state.tracks.bottom[C].height;break;case"left":c+=this.topHeight,d=n.width,E=this.centerHeight;for(let C=0;C<this.state.tracks.left.length&&this.state.tracks.left[C].uid!==n.uid;C++)p+=this.state.tracks.left[C].width;break;case"right":p+=this.leftWidth+this.centerWidth+this.galleryDim,c+=this.topHeight,d=n.width,E=this.centerHeight;for(let C=0;C<this.state.tracks.right.length&&this.state.tracks.right[C].uid!==n.uid;C++)p+=this.state.tracks.right[C].width;break;case"center":p+=this.leftWidth,c+=this.topHeight,E=this.centerHeight;break;case"gallery":p+=this.leftWidthNoGallery,c+=this.topHeightNoGallery,d=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,E=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,_=this.galleryDim,T=this.galleryDim;for(let C=0;C<this.state.tracks.gallery.length&&this.state.tracks.gallery[C].uid!==n.uid;C++)d-=2*this.state.tracks.gallery[C].height,E-=2*this.state.tracks.gallery[C].height,p+=this.state.tracks.gallery[C].height,c+=this.state.tracks.gallery[C].height,_-=this.state.tracks.gallery[C].height,T-=this.state.tracks.gallery[C].height;for(let C=0;C<this.state.tracks.right.length;C++)m+=this.state.tracks.right[C].width;for(let C=0;C<this.state.tracks.bottom.length;C++)h+=this.state.tracks.bottom[C].height;n.offsetX=_,n.offsetY=T,n.offsetTop=c,n.offsetRight=m,n.offsetBottom=h,n.offsetLeft=p;break;case"whole":default:d=this.leftWidth+this.centerWidth+this.rightWidth,E=this.topHeight+this.centerHeight+this.bottomHeight}return FM.indexOf(s)===-1&&console.warn("Track with unknown position present:",s,n),{left:p,top:c,width:d,height:E,track:n}}},{key:"findCentralHeatmapTrack",value:function(n){for(let s=0;s<n.length;s++){if(n[s].type==="combined")return this.findCentralHeatmapTrack(n[s].contents);if(n[s].type==="heatmap")return n[s]}}},{key:"trackUuidToOrientation",value:function(n){}},{key:"overlayTracks",value:function(n){return this.props.overlays?this.props.overlays.filter(c=>c.includes&&c.includes.length).map(c=>{const h=c.type?`overlay-${c.type}-track`:"overlay-track",p={...c,uid:c.uid||hn.nice(),includes:c.includes,type:h,options:Object.assign(c.options,{orientationsAndPositions:c.includes.map(m=>{const d=Ll(this.props.tracks,m);if(!d)return console.warn(`OverlayTrack included uid (${m}) not found in the track list`),null;const E=fb(this.props.tracks,d.uid);let _;if((E==="top"||E==="bottom")&&(_="1d-horizontal"),(E==="left"||E==="right")&&(_="1d-vertical"),E==="center"&&(_="2d"),!_)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;const T=n.filter(A=>A.track.uid===m);if(!T.length)return null;const C={left:T[0].left-this.props.paddingLeft,top:T[0].top-this.props.paddingTop,width:T[0].width,height:T[0].height};return{orientation:_,position:C}}).filter(m=>m)})};return{top:this.props.paddingTop,left:this.props.paddingLeft,width:this.leftWidth+this.centerWidth+this.rightWidth,height:this.topHeight+this.centerHeight+this.bottomHeight+this.props.marginTop+this.props.marginBottom,track:p}}):[]}},{key:"positionedTracks",value:function(){return this.createTracksAndLocations().map(({track:s,location:c})=>this.calculateTrackPosition(s,c))}},{key:"createTrackPositionTexts",value:function(){const n=this.positionedTracks();return this.createTracksAndLocations(),n.map(c=>{const{track:h}=c;return M.default.createElement("div",{key:h.uid,style:{left:c.left,top:c.top,width:c.width,height:c.height,position:"absolute"}},h.uid.slice(0,2))})}},{key:"handleExportTrackData",value:function(n,s){const c=Ll(this.props.tracks,s);let h=null;n!==s?h=this.trackRenderer.trackDefObjects[n].trackObject.createdTracks[c.uid]:{trackObject:h}=this.trackRenderer.trackDefObjects[n],h.exportData(),this.closeMenus()}},{key:"listTracksAtPosition",value:function(n,s,c=!1){const h=[];if(!this.trackRenderer)return[];for(const p in this.trackRenderer.trackDefObjects){const m=this.trackRenderer.trackDefObjects[p].trackObject;if(m.respondsToPosition(n,s))if(c){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(let d=0;d<this.props.tracks.center.contents.length;d++)this.props.tracks.center.contents[d].uid===p&&(m.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===p&&(m.is2d=!0);h.push(m)}else h.push(this.trackRenderer.trackDefObjects[p].trackDef.track)}return h}},{key:"listAllTrackObjects",value:function(){const n=[];for(const s in this.trackRenderer.trackDefObjects){const c=this.trackRenderer.trackDefObjects[s];if(c.trackObject.createdTracks)for(const h in c.trackObject.createdTracks){const p=c.trackObject.createdTracks[h];n.push(p)}else n.push(c.trackObject)}return n}},{key:"handleZoomToData",value:function(){const n=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,c=[n,n],h=[s,s],p=this.listAllTrackObjects();for(const T of p)if(T.tilesetInfo&&T.tilesetInfo.min_pos)for(let C=0;C<T.tilesetInfo.min_pos.length;C++)T.tilesetInfo.min_pos[C]<c[C]&&(c[C]=T.tilesetInfo.min_pos[C]),T.tilesetInfo.max_pos[C]>h[C]&&(h[C]=T.tilesetInfo.max_pos[C]);const m=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth;let d=[m,m+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert);const E=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight;let _=[E,E+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),c[0]<Number.MAX_SAFE_INTEGER&&h[0]>Number.MIN_SAFE_INTEGER&&(d=[c[0],h[0]]),c[1]<Number.MAX_SAFE_INTEGER&&h[1]>Number.MIN_SAFE_INTEGER&&(_=[c[1],h[1]]),this.props.onDataDomainChanged(d,_)}},{key:"resetViewport",value:function(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}},{key:"updatablePropsToString",value:function(n){return JSON.stringify({tracks:n.tracks,overlays:n.overlays,viewOptions:n.viewOptions,uid:n.uid,addTrackPosition:n.addTrackPosition,editable:n.editable,marginTop:n.marginTop,marginBottom:n.marginBottom,marginLeft:n.marginLeft,marginRight:n.marginRight,paddingTop:n.paddingTop,paddingBottom:n.paddingBottom,paddingLeft:n.paddingLeft,paddingRight:n.paddingRight,mouseTool:n.mouseTool,initialXDomain:n.initialXDomain,initialYDomain:n.initialYDomain,trackSourceServers:n.trackSourceServers,zoomable:n.zoomable,draggingHappening:n.draggingHappening})}},{key:"getXYScales",value:function(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}},{key:"rangeViewToDataLoci",value:function(n,s){return s?[parseInt(s.invert(n[0]),10),parseInt(s.invert(n[1]),10)]:[null,null]}},{key:"rangeSelectionResetHandler",value:function(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}},{key:"rangeSelection1dEndHandler",value:function(n){(!this.xScale||!this.yScale)&&this.getXYScales();const s=n==="x"?this.xScale:this.yScale;return c=>{this.setState(h=>{const p=h.is1dRangeSelection?[null,null]:h.rangeSelection.slice(),m=!this.state.is1dRangeSelection&&n==="y"?1:0;let d=this.rangeViewToDataLoci(c,s);const E=d[1]-d[0];if(this.props.rangeSelection1dSize[0]>E){const _=d[0]+E/2;d=[_-this.props.rangeSelection1dSize[0]/2,_+this.props.rangeSelection1dSize[0]/2]}else if(this.props.rangeSelection1dSize[1]<E){const _=d[0]+E/2;d=[_-this.props.rangeSelection1dSize[1]/2,_+this.props.rangeSelection1dSize[1]/2]}return p[m]=d,this.props.rangeSelectionToInt&&(p[m]=p[m].map(_=>Math.round(_))),{rangeSelection:p,rangeSelectionEnd:!0}})}}},{key:"rangeSelection1dHandler",value:function(n){(!this.xScale||!this.yScale)&&this.getXYScales();const s=n==="x"?this.xScale:this.yScale;return c=>{this.setState(h=>{const p=h.is1dRangeSelection?[null,null]:h.rangeSelection.slice(),m=!h.is1dRangeSelection&&n==="y"?1:0;return p[m]=this.rangeViewToDataLoci(c,s),{rangeSelection:p,rangeSelectionEnd:!1}})}}},{key:"rangeSelection1dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dHandler",value:function(n){(!this.xScale||!this.yScale)&&this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(n[0],this.xScale),this.rangeViewToDataLoci(n[1],this.yScale)],rangeSelectionEnd:!1})}},{key:"rangeSelection2dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dEndHandler",value:function(n){(!this.xScale||!this.yScale)&&this.getXYScales();const s=this.rangeViewToDataLoci(n[0],this.xScale),c=this.rangeViewToDataLoci(n[1],this.yScale);let h=[s,c];const p=s[1]-s[0],m=c[1]-c[0],d=[p,m];h.forEach((E,_)=>{if(this.props.rangeSelection1dSize[0]>d[_]){const T=E[0]+Math.round(d[_]/2);E[0]=T-this.props.rangeSelection1dSize[0]/2,E[1]=T+this.props.rangeSelection1dSize[0]/2}else if(this.props.rangeSelection1dSize[1]<d[_]){const T=E[0]+Math.round(d[_]/2);E[0]=T-this.props.rangeSelection1dSize[1]/2,E[1]=T+this.props.rangeSelection1dSize[1]/2}}),this.props.rangeSelectionToInt&&(h=h.map(E=>E.map(_=>Math.round(_)))),this.setState({rangeSelection:h,rangeSelectionEnd:!0})}},{key:"getContextMenu",value:function(){if(this.state.contextMenuPosition){const n=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return M.default.createElement(Fp,{onMenuClosed:this.closeMenusBound},M.default.createElement(hne,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:s=>{this.props.onTracksAdded([s],s.position,null),this.handleCloseContextMenu()},onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:n,trackSourceServers:this.props.trackSourceServers}))}return null}},{key:"getIdealizedTrackPositionsOverlay",value:function(){const n=this.props.draggingHappening,s=n.datatype;if(!(s in ob)&&!n.defaultTracks){console.warn("unknown data type:",n.higlassTrack);return}const c={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},h=ob[s]||{};if(n.defaultTracks)for(const J of n.defaultTracks)if(!Ci[J])console.warn("unknown track type",J);else for(const ge of c[Ci[J].orientation])h[ge]=J;const p=new Set(["top","left","right","center","bottom"].filter(J=>J in this.state.tracks&&this.state.tracks[J].length)),m="top"in h,d="left"in h,E="right"in h,_="bottom"in h,T="center"in h,C="center"in h||p.has("left")||p.has("right")||p.has("center"),A="top"in h,D="bottom"in h&&C,O="left"in h&&C,B="right"in h&&C,P=Object.keys(h).length&&("center"in h||C),R=M.default.createElement("div",{style:{flexGrow:1}}),$=M.default.cloneElement(R),W=M.default.createElement("div",{style:{display:"flex",flexGrow:1}},A&&(P||O)?R:null,M.default.createElement(LD,{defaultTrackType:h.top,draggingHappening:this.props.draggingHappening,enabled:m,onTrackDropped:J=>this.handleTracksAdded([J],"top"),style:{border:"1px solid black",flexGrow:1}}),A&&(P||O)?$:null),Z=M.default.createElement("div",{style:{display:"flex",flexGrow:1}},A&&(P||O)?R:null,M.default.createElement(LD,{defaultTrackType:h.bottom,draggingHappening:this.props.draggingHappening,enabled:_,onTrackDropped:J=>this.handleTracksAdded([J],"bottom"),style:{border:"1px solid black",flexGrow:1}}),A&&(P||O)?$:null),K=M.default.createElement(LD,{defaultTrackType:h.left,draggingHappening:this.props.draggingHappening,enabled:d,onTrackDropped:J=>this.handleTracksAdded([J],"left"),style:{border:"1px solid black",flexGrow:1}}),ae=M.default.createElement(LD,{defaultTrackType:h.center,draggingHappening:this.props.draggingHappening,enabled:T,onTrackDropped:J=>this.handleTracksAdded([J],"center"),position:"center",style:{border:"1px solid black",flexGrow:1}}),le=M.default.cloneElement(K,{defaultTrackType:h.right,enabled:E,onTrackDropped:J=>this.handleTracksAdded([J],"right")});return M.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},M.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),M.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},A?W:null,C&&M.default.createElement("div",{style:{display:"flex",height:A||D?"40%":"100%",width:"100%"}},O?K:null,P?ae:null,B?le:null),D?Z:null))}},{key:"render",value:function(){this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map(P=>P.height).reduce(rp,0):0,this.topHeightNoGallery=this.props.tracks.top.map(P=>P.height).reduce(rp,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map(P=>P.height).reduce(rp,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map(P=>P.width).reduce(rp,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map(P=>P.width).reduce(rp,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;const n=this.props.paddingTop+this.props.paddingBottom,s=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-n),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-s);const c="none",h=M.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:c,position:"absolute"}},M.default.createElement(ok,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===du,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),p=M.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:c,position:"absolute"}},M.default.createElement(yF,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===du,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),m=M.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:c,position:"absolute"}},M.default.createElement(yF,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===du,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),d=M.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:c,position:"absolute"}},M.default.createElement(ok,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===du,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),E=M.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:c,position:"absolute"}},M.default.createElement(pK,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim}));let _=M.default.createElement("div",{className:["center-track-container",iB["center-track-container"]].join(" "),style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:c}});this.props.tracks.center.length&&(_=M.default.createElement("div",{className:["center-track-container",iB["center-track-container"]].join(" "),style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:c}},M.default.createElement(aB,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===du,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();let T=this.positionedTracks();T=T.concat(this.overlayTracks(T));let C=null;this.state.sizeMeasured&&(C=M.default.createElement(O7e,{ref:P=>{this.trackRenderer=P,this.checkAllTilesetInfoReceived()},canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===du,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:T,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},h,p,m,d,E,_));let A=null,D=null;this.state.configTrackMenuId&&(A=M.default.createElement(Fp,{onMenuClosed:this.closeMenusBound},M.default.createElement(N7e,{ref:P=>{this.configTrackMenu=P},closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:fb(this.props.tracks,this.state.configTrackMenuId),tracks:[Ll(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(D=M.default.createElement(Fp,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},M.default.createElement(Bp,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},M.default.createElement(une,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[Ll(this.props.tracks,this.state.closeTrackMenuId)]}))));let O=null;this.props.chooseTrackHandler&&(O=T.filter(P=>P.track.position!=="whole").map(P=>{let R="transparent",$="none";return this.state.mouseOverOverlayUid===P.track.uid&&(R="yellow",$="1px solid black"),M.default.createElement("div",{key:P.track.uid,className:"tiled-plot-track-overlay",onClick:()=>this.handleTrackPositionChosen(P),onDragEnter:W=>{this.handleOverlayMouseEnter(P.track.uid),W.preventDefault()},onDragLeave:()=>this.handleOverlayMouseLeave(P.track.uid),onDragOver:W=>W.preventDefault(),onDrop:()=>this.handleTrackPositionChosen(P),onMouseEnter:()=>this.handleOverlayMouseEnter(P.track.uid),onMouseLeave:()=>this.handleOverlayMouseLeave(P.track.uid),style:{position:"absolute",left:P.left,top:P.top,width:P.width,height:P.height,background:R,opacity:.4,border:$,zIndex:1}})}));let B=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){const P=this.state.trackOptions.configComponent,R=this.state.trackOptions.track;B=M.default.createElement(P,{track:R,xScale:this.xScale,yScale:this.yScale,onCancel:()=>{this.setState({trackOptions:null})},onTrackOptionsChanged:$=>$,onSubmit:$=>{this.handleTrackOptionsChanged(this.state.trackOptions.track.uid,$),this.setState({trackOptions:null})}})}return M.default.createElement("div",{ref:P=>{this.divTiledPlot=P},className:["tiled-plot-div",hc["tiled-plot"]].join(" "),style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},C,O,A,D,B,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}},{key:"addEventListeners",value:function(){this.eventListeners=[],this.eventListeners.forEach(n=>document.addEventListener(n.name,n.callback,!1))}},{key:"removeEventListeners",value:function(){this.eventListeners.forEach(n=>document.removeEventListener(n.name,n.callback))}}]),r})(M.default.Component);_F.defaultProps={isShowGlobalMousePosition:!1,pluginDataFetchers:{},pluginTracks:{},metaTracks:[],zoomable:!0},_F.propTypes={addTrackPosition:z.exports.string,canvasElement:z.exports.object,chooseTrackHandler:z.exports.func,chromInfoPath:z.exports.string,disableTrackMenu:z.exports.bool,dragging:z.exports.bool,draggingHappening:z.exports.bool,editable:z.exports.bool,getLockGroupExtrema:z.exports.func,initialXDomain:z.exports.array,initialYDomain:z.exports.array,isShowGlobalMousePosition:z.exports.bool,isValueScaleLocked:z.exports.func,marginBottom:z.exports.number.isRequired,marginLeft:z.exports.number.isRequired,marginRight:z.exports.number.isRequired,marginTop:z.exports.number.isRequired,paddingBottom:z.exports.number.isRequired,paddingLeft:z.exports.number.isRequired,paddingRight:z.exports.number.isRequired,paddingTop:z.exports.number.isRequired,metaTracks:z.exports.array,modal:z.exports.object,mouseTool:z.exports.string,onCloseTrack:z.exports.func,onChangeTrackData:z.exports.func,onChangeTrackType:z.exports.func,onDataDomainChanged:z.exports.func,onLockValueScale:z.exports.func,onMouseMoveZoom:z.exports.func,onNewTilesLoaded:z.exports.func,onNoTrackAdded:z.exports.func,onRangeSelection:z.exports.func.isRequired,onScalesChanged:z.exports.func,onTrackOptionsChanged:z.exports.func,onTrackPositionChosen:z.exports.func,onTracksAdded:z.exports.func,onUnlockValueScale:z.exports.func,onValueScaleChanged:z.exports.func,onResizeTrack:z.exports.func,overlays:z.exports.array,openModal:z.exports.func,pixiRenderer:z.exports.object,pixiStage:z.exports.object,pluginDataFetchers:z.exports.object,pluginTracks:z.exports.object,pubSub:z.exports.object.isRequired,rangeSelection1dSize:z.exports.array,rangeSelectionToInt:z.exports.bool,registerDraggingChangedListener:z.exports.func,removeDraggingChangedListener:z.exports.func,setCentersFunction:z.exports.func,svgElement:z.exports.object,theme:z.exports.symbol.isRequired,tracks:z.exports.object,trackSourceServers:z.exports.array,uid:z.exports.string,viewOptions:z.exports.object,xDomainLimits:z.exports.array,yDomainLimits:z.exports.array,zoomable:z.exports.bool,zoomLimits:z.exports.array,zoomToDataExtentOnInit:z.exports.func};const B7e=x1(lk(Bg(_F)));var fne={exports:{}},F7e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},U7e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},H7e=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function $7e(e){var t=void 0,r=void 0,i=void 0,n=e.ownerDocument,s=n.body,c=n&&n.documentElement;return t=e.getBoundingClientRect(),r=t.left,i=t.top,r-=c.clientLeft||s.clientLeft||0,i-=c.clientTop||s.clientTop||0,{left:r,top:i}}function dne(e,t){var r=e["page"+(t?"Y":"X")+"Offset"],i="scroll"+(t?"Top":"Left");if(typeof r!="number"){var n=e.document;r=n.documentElement[i],typeof r!="number"&&(r=n.body[i])}return r}function EF(e){return dne(e)}function TF(e){return dne(e,!0)}function pne(e){var t=$7e(e),r=e.ownerDocument,i=r.defaultView||r.parentWindow;return t.left+=EF(i),t.top+=TF(i),t}function G7e(e,t,r){var i="",n=e.ownerDocument,s=r||n.defaultView.getComputedStyle(e,null);return s&&(i=s.getPropertyValue(t)||s[t]),i}var z7e=new RegExp("^("+H7e+")(?!px)[a-z%]+$","i"),j7e=/^(top|right|bottom|left)$/,bF="currentStyle",SF="runtimeStyle",lv="left",V7e="px";function W7e(e,t){var r=e[bF]&&e[bF][t];if(z7e.test(r)&&!j7e.test(t)){var i=e.style,n=i[lv],s=e[SF][lv];e[SF][lv]=e[bF][lv],i[lv]=t==="fontSize"?"1em":r||0,r=i.pixelLeft+V7e,i[lv]=n,e[SF][lv]=s}return r===""?"auto":r}var uv=void 0;typeof window<"u"&&(uv=window.getComputedStyle?G7e:W7e);function CF(e,t){for(var r=0;r<e.length;r++)t(e[r])}function mne(e){return uv(e,"boxSizing")==="border-box"}var Y7e=["margin","border","padding"],AF=-1,X7e=2,wF=1,q7e=0;function K7e(e,t,r){var i={},n=e.style,s=void 0;for(s in t)t.hasOwnProperty(s)&&(i[s]=n[s],n[s]=t[s]);r.call(e);for(s in t)t.hasOwnProperty(s)&&(n[s]=i[s])}function PC(e,t,r){var i=0,n=void 0,s=void 0,c=void 0;for(s=0;s<t.length;s++)if(n=t[s],n)for(c=0;c<r.length;c++){var h=void 0;n==="border"?h=n+r[c]+"Width":h=n+r[c],i+=parseFloat(uv(e,h))||0}return i}function Ik(e){return e!=null&&e==e.window}var Hh={};CF(["Width","Height"],function(e){Hh["doc"+e]=function(t){var r=t.document;return Math.max(r.documentElement["scroll"+e],r.body["scroll"+e],Hh["viewport"+e](r))},Hh["viewport"+e]=function(t){var r="client"+e,i=t.document,n=i.body,s=i.documentElement,c=s[r];return i.compatMode==="CSS1Compat"&&c||n&&n[r]||c}});function gne(e,t,r){if(Ik(e))return t==="width"?Hh.viewportWidth(e):Hh.viewportHeight(e);if(e.nodeType===9)return t==="width"?Hh.docWidth(e):Hh.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],n=t==="width"?e.offsetWidth:e.offsetHeight;uv(e);var s=mne(e),c=0;(n==null||n<=0)&&(n=void 0,c=uv(e,t),(c==null||Number(c)<0)&&(c=e.style[t]||0),c=parseFloat(c)||0),r===void 0&&(r=s?wF:AF);var h=n!==void 0||s,p=n||c;if(r===AF)return h?p-PC(e,["border","padding"],i):c;if(h){var m=r===X7e?-PC(e,["border"],i):PC(e,["margin"],i);return p+(r===wF?0:m)}return c+PC(e,Y7e.slice(r),i)}var Z7e={position:"absolute",visibility:"hidden",display:"block"};function vne(e){var t=void 0,r=arguments;return e.offsetWidth!==0?t=gne.apply(void 0,r):K7e(e,Z7e,function(){t=gne.apply(void 0,r)}),t}function O_(e,t,r){var i=r;if((typeof t>"u"?"undefined":U7e(t))==="object"){for(var n in t)t.hasOwnProperty(n)&&O_(e,n,t[n]);return}if(typeof i<"u"){typeof i=="number"&&(i+="px"),e.style[t]=i;return}return uv(e,t)}CF(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Hh["outer"+t]=function(i,n){return i&&vne(i,e,n?q7e:wF)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];Hh[e]=function(i,n){if(n!==void 0){if(i){uv(i);var s=mne(i);return s&&(n+=PC(i,["padding","border"],r)),O_(i,e,n)}return}return i&&vne(i,e,AF)}});function Q7e(e,t){O_(e,"position")==="static"&&(e.style.position="relative");var r=pne(e),i={},n=void 0,s=void 0;for(s in t)t.hasOwnProperty(s)&&(n=parseFloat(O_(e,s))||0,i[s]=n+t[s]-r[s]);O_(e,i)}var J7e=F7e({getWindow:function(t){var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},offset:function(t,r){if(typeof r<"u")Q7e(t,r);else return pne(t)},isWindow:Ik,each:CF,css:O_,clone:function(t){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);var n=t.overflow;if(n)for(var i in t)t.hasOwnProperty(i)&&(r.overflow[i]=t.overflow[i]);return r},scrollLeft:function(t,r){if(Ik(t)){if(r===void 0)return EF(t);window.scrollTo(r,TF(t))}else{if(r===void 0)return t.scrollLeft;t.scrollLeft=r}},scrollTop:function(t,r){if(Ik(t)){if(r===void 0)return TF(t);window.scrollTo(EF(t),r)}else{if(r===void 0)return t.scrollTop;t.scrollTop=r}},viewportWidth:0,viewportHeight:0},Hh),Mi=J7e;function eze(e,t,r){r=r||{},t.nodeType===9&&(t=Mi.getWindow(t));var i=r.allowHorizontalScroll,n=r.onlyScrollIfNeeded,s=r.alignWithTop,c=r.alignWithLeft,h=r.offsetTop||0,p=r.offsetLeft||0,m=r.offsetBottom||0,d=r.offsetRight||0;i=i===void 0?!0:i;var E=Mi.isWindow(t),_=Mi.offset(e),T=Mi.outerHeight(e),C=Mi.outerWidth(e),A=void 0,D=void 0,O=void 0,B=void 0,P=void 0,R=void 0,$=void 0,W=void 0,Z=void 0,K=void 0;E?($=t,K=Mi.height($),Z=Mi.width($),W={left:Mi.scrollLeft($),top:Mi.scrollTop($)},P={left:_.left-W.left-p,top:_.top-W.top-h},R={left:_.left+C-(W.left+Z)+d,top:_.top+T-(W.top+K)+m},B=W):(A=Mi.offset(t),D=t.clientHeight,O=t.clientWidth,B={left:t.scrollLeft,top:t.scrollTop},P={left:_.left-(A.left+(parseFloat(Mi.css(t,"borderLeftWidth"))||0))-p,top:_.top-(A.top+(parseFloat(Mi.css(t,"borderTopWidth"))||0))-h},R={left:_.left+C-(A.left+O+(parseFloat(Mi.css(t,"borderRightWidth"))||0))+d,top:_.top+T-(A.top+D+(parseFloat(Mi.css(t,"borderBottomWidth"))||0))+m}),P.top<0||R.top>0?s===!0?Mi.scrollTop(t,B.top+P.top):s===!1?Mi.scrollTop(t,B.top+R.top):P.top<0?Mi.scrollTop(t,B.top+P.top):Mi.scrollTop(t,B.top+R.top):n||(s=s===void 0?!0:!!s,s?Mi.scrollTop(t,B.top+P.top):Mi.scrollTop(t,B.top+R.top)),i&&(P.left<0||R.left>0?c===!0?Mi.scrollLeft(t,B.left+P.left):c===!1?Mi.scrollLeft(t,B.left+R.left):P.left<0?Mi.scrollLeft(t,B.left+P.left):Mi.scrollLeft(t,B.left+R.left):n||(c=c===void 0?!0:!!c,c?Mi.scrollLeft(t,B.left+P.left):Mi.scrollLeft(t,B.left+R.left)))}var tze=eze;(function(e){e.exports=tze})(fne);const rze=at(fne.exports),RC=[];let xF=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},n.keyDownHandlers={ArrowDown(s){s.preventDefault();const c=this.getFilteredItems().length;if(!c)return;const{highlightedIndex:h}=this.state,p=h===null||h===c-1?0:h+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:p,isOpen:!0})},ArrowUp(s){s.preventDefault();const c=this.getFilteredItems().length;if(!c)return;const{highlightedIndex:h}=this.state,p=h===0||h===null?c-1:h-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:p,isOpen:!0})},Enter(s){if(this.state.isOpen!==!1)if(this.state.highlightedIndex===null)this.setState({isOpen:!1},()=>{this.inputEl.select()});else{s.preventDefault();const c=this.getFilteredItems()[this.state.highlightedIndex],h=this.props.getItemValue(c);this.setState({isOpen:!1,highlightedIndex:null},()=>{this.inputEl.setSelectionRange(h.length,h.length),this.props.onSelect(h,c)})}},Escape(){this.setState({highlightedIndex:null,isOpen:!1})}},n}return j(r,[{key:"getInitialState",value:function(){return{isOpen:!1,highlightedIndex:null}}},{key:"UNSAFE_componentWillMount",value:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){this._performAutoCompleteOnUpdate=!0,(this.props.items!==n.items||this.state.highlightedIndex>=n.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidUpdate",value:function(n,s){this.state.isOpen===!0&&s.isOpen===!1&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),s.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}},{key:"maybeScrollItemIntoView",value:function(){if(this.state.isOpen===!0&&this.state.highlightedIndex!==null){const n=this.refs[`item-${this.state.highlightedIndex}`],s=this.refs.menu;n&&rze(X.findDOMNode(n),X.findDOMNode(s),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(n){this.keyDownHandlers[n.key]?this.keyDownHandlers[n.key].call(this,n):this.setState({highlightedIndex:null,isOpen:!0})}},{key:"handleChange",value:function(n){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(n,n.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){let n=this.props.items;return this.props.shouldItemRender&&(n=n.filter(s=>this.props.shouldItemRender(s,this.props.value))),this.props.sortItems&&n.sort((s,c)=>this.props.sortItems(s,c,this.props.value)),n}},{key:"maybeAutoCompleteText",value:function(){if(!this.props.autoHighlight||this.props.value==="")return;const{highlightedIndex:n}=this.state,s=this.getFilteredItems();if(s.length===0)return;const c=n!==null?s[n]:s[0];this.props.getItemValue(c).toLowerCase().indexOf(this.props.value.toLowerCase())===0&&n===null&&this.setState({highlightedIndex:0})}},{key:"setMenuPositions",value:function(){const n=this.inputEl,s=n.getBoundingClientRect(),c=globalThis.window.getComputedStyle(n),h=parseInt(c.marginBottom,10)||0,p=parseInt(c.marginLeft,10)||0,m=parseInt(c.marginRight,10)||0;this.setState({menuTop:s.bottom+h,menuLeft:s.left+p,menuWidth:s.width+p+m})}},{key:"highlightItemFromMouse",value:function(n){this.setState({highlightedIndex:n})}},{key:"selectItemFromMouse",value:function(n){const s=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},()=>{this.props.onSelect(s,n),this.inputEl.focus()})}},{key:"setIgnoreBlur",value:function(n){this._ignoreBlur=n}},{key:"renderMenu",value:function(){const n=this.getFilteredItems().map((h,p)=>{const m=this.props.renderItem(h,this.state.highlightedIndex===p,{cursor:"default"});return M.default.cloneElement(m,{onMouseDown:()=>this.setIgnoreBlur(!0),onMouseEnter:()=>this.highlightItemFromMouse(p),onClick:()=>this.selectItemFromMouse(h),ref:`item-${p}`})}),s={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!n.length)return null;const c=this.props.renderMenu(n,this.props.value,s);return M.default.cloneElement(c,{ref:"menu"})}},{key:"handleInputBlur",value:function(){this.props.onFocus&&this.props.onFocus(),!this._ignoreBlur&&this.setState({isOpen:!1,highlightedIndex:null})}},{key:"handleInputFocus",value:function(){if(this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur){this.setIgnoreBlur(!1);return}this._ignoreClick=!0,this.setState({isOpen:!0})}},{key:"isInputFocused",value:function(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&this.state.isOpen===!1?this.setState({isOpen:!0}):this.state.highlightedIndex!==null&&!this._ignoreClick&&this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}},{key:"composeEventHandlers",value:function(n,s){return s?c=>{n(c),s(c)}:n}},{key:"render",value:function(){this.props.debug&&RC.push({id:RC.length,state:this.state});const{inputProps:n}=this.props;return M.default.createElement("div",{style:{...this.props.wrapperStyle},...this.props.wrapperProps},M.default.createElement("input",{...n,ref:s=>{this.inputEl=s},"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),n.onBlur&&n.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),n.onClick&&n.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),n.onFocus&&n.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),n.onKeyDown&&n.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),n.onKeyUp&&n.onKeyUp.bind(this)),role:"combobox",value:this.props.value}),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&M.default.createElement("pre",{style:{marginLeft:300}},JSON.stringify(RC.slice(RC.length-5,RC.length),null,2)))}}]),r})(M.default.Component);xF.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange(){},onSelect(){},renderMenu(e,t,r){return M.default.createElement("div",{style:{...r,...this.menuStyle}},e)},shouldItemRender(){return!0},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange(){}},xF.propTypes={autoHighlight:z.exports.bool,debug:z.exports.bool,getItemValue:z.exports.func.isRequired,inputProps:z.exports.object,items:z.exports.array,menuStyle:z.exports.object,onChange:z.exports.func,onFocus:z.exports.func,onMenuVisibilityChange:z.exports.func,onSelect:z.exports.func,open:z.exports.bool,renderItem:z.exports.func.isRequired,renderMenu:z.exports.func,shouldItemRender:z.exports.func,sortItems:z.exports.func,value:z.exports.any,wrapperProps:z.exports.object,wrapperStyle:z.exports.object};const k_={"genome-position-search":"_genome-position-search_1l2sx_1","genome-position-search-focus":"_genome-position-search-focus_1l2sx_2","genome-position-search-bar":"_genome-position-search-bar_1l2sx_16","genome-position-search-dark":"_genome-position-search-dark_1l2sx_34","genome-position-search-bar-button":"_genome-position-search-bar-button_1l2sx_38","genome-position-search-bar-suggestions":"_genome-position-search-bar-suggestions_1l2sx_83"};let yne=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.mounted=!1,n.uid=hn.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(S(n))),n.menuPosition={left:0,top:0},n.positionText="chr4:190,998,876-191,000,255",n.state={genes:[],isFocused:!1,autocompleteServer:n.props.autocompleteServer,autocompleteId:n.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n.availableAutocompletes={},n.props.autocompleteId&&(n.availableAutocompletes[n.props.chromInfoId]=new Set([{server:n.props.autocompleteServer,acId:n.props.autocompleteId}])),n.availableChromSizes={},n}return j(r,[{key:"componentDidMount",value:function(){this.mounted=!0,tn(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.props.chromInfoPath&&(this.searchPosition=!0,Nh(this.props.chromInfoPath,n=>{if(!n){this.searchPosition=null;return}this.chromInfo=n,this.searchField=new Z1(this.chromInfo),this.setPositionText()})),this.setPositionText()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.removeViewportChangedListener()}},{key:"onAutocompleteChange",value:function(n,s){this.positionText=s,this.setState({value:s,loading:!0}),this.changedPart=null;const c=s.split(/ /);let h=0;const p=[];let m=!1;for(let d=0;d<c.length;d++){const E=c[d].split(/-/);for(let _=0;_<E.length;_++){if(h+=1,p.push(E[_]),_===0?m=!0:m=!1,_===this.prevParts.length){this.changedPart=h-1;break}if(E[_]!==this.prevParts[_]){this.changedPart=h-1;break}}}if(this.prevParts=p,!!(this.state.autocompleteServer&&this.state.autocompleteId)&&this.changedPart!==null){this.setState({loading:!0});let d=`${this.state.autocompleteServer}/suggest/`;d+=`?d=${this.state.autocompleteId}&ac=${p[this.changedPart].toLowerCase()}`,yr.json(d,(E,_)=>{if(E)this.setState({loading:!1,genes:[]});else if(this.changedPart>0&&!m){const T=`${this.state.autocompleteServer}/suggest/?d=${this.state.autocompleteId}&ac=${p[this.changedPart-1].toLowerCase()}-${p[this.changedPart].toLowerCase()}`;yr.json(T,(C,A)=>{C?this.setState({loading:!1,genes:_}):this.setState({loading:!1,genes:A.concat(_)})},this.props.pubSub)}else this.setState({loading:!1,genes:_})},this.props.pubSub)}}},{key:"setAvailableAssemblies",value:function(){const n=new Set(gu(this.availableChromSizes)),s=new Set([...n]);this.gpsbForm&&this.setState({availableAssemblies:[...s]})}},{key:"setSelectedAssembly",value:function(n){if(!this.mounted||!this.availableChromSizes[n])return;const s=[...this.availableChromSizes[n]][0];this.setState({autocompleteServer:s.server});const{server:c}=s;if(this.availableAutocompletes[n]){const h=[...this.availableAutocompletes[n]][0].acId;this.props.onSelectedAssemblyChanged(n,h,c),this.gpsbForm&&this.setState({autocompleteId:h})}else this.props.onSelectedAssemblyChanged(n,null,c),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(s.uuid,s.server)}},{key:"setPositionText",value:function(){if(!this.mounted||!this.searchField)return;const n=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=n.split(/[ -]/),this.gpsbForm&&(this.positionText=n,this.origPositionText=n,this.autocompleteMenu.inputEl.value=n)}},{key:"scalesChanged",value:function(n,s){this.xScale=n,this.yScale=s,this.setPositionText()}},{key:"findAvailableChromSizes",value:function(){this.props.trackSourceServers&&this.props.trackSourceServers.forEach(n=>{yr.json(`${n}/available-chrom-sizes/`,(s,c)=>{s?console.error(s):(c.results.forEach(h=>{h.coordSystem in this.availableChromSizes||(this.availableChromSizes[h.coordSystem]=new Set),this.availableChromSizes[h.coordSystem].add({server:n,uuid:h.uuid}),this.setAvailableAssemblies()}),this.searchField||this.fetchChromInfo(this.props.chromInfoId in this.availableChromSizes?[...this.availableChromSizes[this.props.chromInfoId]][0].uuid:this.props.chromInfoId,this.props.chromInfoId in this.availableChromSizes?[...this.availableChromSizes[this.props.chromInfoId]][0].server:this.props.chromInfoServer))},this.props.pubSub)})}},{key:"findAvailableAutocompleteSources",value:function(){this.props.trackSourceServers&&this.props.trackSourceServers.forEach(n=>{yr.json(`${n}/tilesets/?limit=100&dt=gene-annotation`,(s,c)=>{s?console.error(s):(c.results.forEach(h=>{h.coordSystem in this.availableAutocompletes||(this.availableAutocompletes[h.coordSystem]=new Set),this.availableAutocompletes[h.coordSystem].add({server:n,acId:h.uuid}),this.setAvailableAssemblies()}),this.state.autocompleteId||this.gpsbForm&&this.availableAutocompletes[this.props.chromInfoId]&&this.setState({autocompleteId:[...this.availableAutocompletes[this.props.chromInfoId]][0].acId}))},this.props.pubSub)})}},{key:"fetchChromInfo",value:function(n,s){Nh(`${s}/chrom-sizes/?id=${n}`,c=>{c&&(yr.json(`${s}/tileset_info/?d=${n}`,(h,p)=>{h||this.gpsbForm&&this.setState({selectedAssembly:p[n].coordSystem})},this.props.pubSub),this.chromInfo=c,this.searchField=new Z1(this.chromInfo),this.setPositionText())},this.props.pubSub)}},{key:"autocompleteKeyPress",value:function(n){n.keyCode===13&&this.buttonClick()}},{key:"genePositionToSearchBarText",value:function(n){}},{key:"replaceGenesWithLoadedPositions",value:function(n){const s=this.positionText,c=s.split(" ");let h=!1;for(let m=0;m<c.length;m++){const d=c[m].split("-");let E=0,_=0,T="";for(;E<d.length;){for(_=d.length;_>E;){const C=d.slice(E,_).join("-");if(n[C.toLowerCase()]){const A=n[C.toLowerCase()],D=Math.floor((A.txEnd-A.txStart)/4);E===0&&_<d.length?T=`${A.chr}:${A.txStart-D}`:E===0&&_===d.length?T=`${A.chr}:${A.txStart-D}-${A.txEnd+D}`:T+=`- ${A.chr}:${A.txEnd+D}`,h=!0;break}else _===E+1&&(T.length&&(T+="-"),T+=C);_-=1}E=_+1}c[m]=T}const p=c.join(" ");return this.prevParts=p.split(/[ -]/),this.positionText=p,this.setState({value:p}),h?s:null}},{key:"replaceGenesWithPositions",value:function(n){const s=this.positionText.split(/[ -]/),c=[];for(let h=0;h<s.length;h++){if(s[h].length===0)continue;const p=this.searchField.parsePosition(s[h])[2];if(p===null||Number.isNaN(+p)){const m=`${this.state.autocompleteServer}/suggest/?d=${this.state.autocompleteId}&ac=${s[h].toLowerCase()}`;c.push(yr.json(m,fh,this.props.pubSub))}}Promise.all(c).then(h=>{if(h){const p={};for(let d=0;d<h.length;d++)if(h[d][0])for(let E=0;E<h[d].length;E++)p[h[d][E].geneName.toLowerCase()]=h[d][E];const m=this.replaceGenesWithLoadedPositions(p);n(m)}}).catch(h=>console.error(h))}},{key:"buttonClick",value:function(){this.setState({genes:[]}),this.replaceGenesWithPositions(n=>{const s=this.positionText;if(this.searchField!==null){const c=this.searchField.searchPosition(s),h=c[0];let p=c[1];if(!h){this.setPositionText();return}if(h&&(Number.isNaN(+h[0])||Number.isNaN(+h[1]))||p&&(Number.isNaN(+p[0])||Number.isNaN(+p[1])))return;p||(p=h);const m=this.xScale.copy().domain(h),d=this.yScale.copy().domain(p),[E,_,T]=io(m,d);n&&this.props.onGeneSearch({geneSymbol:n,range:h,centerX:E,centerY:_}),this.props.setCenters(E,_,T,c7)}})}},{key:"searchFieldSubmit",value:function(){this.buttonClick()}},{key:"pathJoin",value:function(n,s){const c=s||"/",h=new RegExp(`${c}{1,}`,"g");return n.join(c).replace(h,c)}},{key:"geneSelected",value:function(n,s){const c=this.positionText.split(" ");let h=this.changedPart;for(let p=0;p<c.length;p++){const m=c[p].split("-"),d=s.geneName.split("-");if(h>m.length-1)h-=m.length;else{if(m[h]=s.geneName,d.length===2&&h>0&&m[h-1].toLowerCase()===d[0].toLowerCase()){const E=m.slice(0,h-1);E.push(d.join("-")),h<m.length-1&&E.push(m.slice(h+1)),c[p]=E.join("-")}else c[p]=m.join("-");break}}this.prevParts=c.join(" ").split(/[ -]/),this.positionText=c.join(" "),this.setState({value:c.join(" "),genes:[]})}},{key:"handleMenuVisibilityChange",value:function(n,s){const c=s.getBoundingClientRect();this.menuPosition={left:c.left,top:c.top+c.height},this.setState({menuOpened:n})}},{key:"handleRenderMenu",value:function(n){return M.default.createElement(Fp,null,M.default.createElement("div",{className:k_["genome-position-search-bar-suggestions"],style:{left:this.menuPosition.left,top:this.menuPosition.top}},n))}},{key:"handleAssemblySelectEvt",value:function(n){this.handleAssemblySelect(n.target.value)}},{key:"handleAssemblySelect",value:function(n){this.setSelectedAssembly(n),this.setState({selectedAssembly:n})}},{key:"focusHandler",value:function(n){this.setState({isFocused:n})}},{key:"render",value:function(){const n=this.state.availableAssemblies.map(s=>M.default.createElement("option",{key:s,value:s},s));return M.default.createElement("div",{ref:s=>{this.gpsbForm=s},className:Kn({[k_["genome-position-search-focus"]]:this.state.isFocused,[k_["genome-position-search"]]:!this.state.isFocused,[k_["genome-position-search-dark"]]:this.props.theme===Oi})},!this.props.hideAvailableAssemblies&&M.default.createElement("select",{ref:s=>{this.assemblyPickButton=s},className:k_["genome-position-search-bar-button"],id:this.uid,onChange:this.handleAssemblySelectEvt.bind(this),value:this.state.selectedAssembly||void 0},n),M.default.createElement(xF,{ref:s=>{this.autocompleteMenu=s},getItemValue:s=>s.geneName,inputProps:{className:k_["genome-position-search-bar"],title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:(s,c)=>this.geneSelected(s,c),onSubmit:this.searchFieldSubmit.bind(this),renderItem:(s,c)=>M.default.createElement("div",{key:s.refseqid,id:s.refseqid,style:c?this.styles.highlightedItem:this.styles.item},s.geneName),renderMenu:this.handleRenderMenu.bind(this),value:this.state.selectedAssembly?this.positionText:"No valid assembly selected",wrapperStyle:{width:"100%"}}),M.default.createElement(C0e,{onClick:this.buttonClick.bind(this),theStyle:"multitrack-header-icon"}))}}]),r})(M.default.Component);yne.propTypes={autocompleteId:z.exports.string,autocompleteServer:z.exports.string,chromInfoId:z.exports.string,chromInfoServer:z.exports.string,hideAvailableAssemblies:z.exports.bool,isFocused:z.exports.bool,pubSub:z.exports.object,onFocus:z.exports.func,onGeneSearch:z.exports.func,onSelectedAssemblyChanged:z.exports.func,registerViewportChangedListener:z.exports.func,removeViewportChangedListener:z.exports.func,setCenters:z.exports.func,theme:z.exports.symbol.isRequired,trackSourceServers:z.exports.array,twoD:z.exports.bool};const nze=x1(Bg(yne)),ize={"export-link-dialog-wrapper":"_export-link-dialog-wrapper_p9gxw_1"};let IF=(function(e){f(r,e);var t=g(r);function r(){return H(this,r),t.apply(this,arguments)}return j(r,[{key:"render",value:function(){return M.default.createElement(fC,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},M.default.createElement("div",{className:ize["export-link-dialog-wrapper"]},M.default.createElement("input",{ref:n=>{n&&(this.input=n,n.focus(),n.select())},onClick:n=>{n.target.select()},placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),M.default.createElement(Wf,{onClick:n=>{this.input.select(),document.execCommand("copy")}},"Copy")))}}]),r})(M.default.Component);IF.defaultProps={onDone:()=>{},url:""},IF.propTypes={onDone:z.exports.func,url:z.exports.string};let _ne=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.state={submenuShown:!1},n}return j(r,[{key:"getConfigureViewMenu",value:function(n,s){const c=["backgroundColor"],h={},p={};for(const m of c)if(m in Object.keys(zo)&&(h[m]={name:zo[m].name},zo[m].inlineOptions))for(const d in zo[m].inlineOptions){const E=zo[m].inlineOptions[d];h[m].children||(h[m].children={});const _={name:E.name,value:E.value};_.handler=()=>{p[m]=E.value,this.props.onOptionsChanged(p)},h[m].children[d]=_}return M.default.createElement(gF,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:h,orientation:this.state.orientation,parentBbox:s,position:n,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){const n=this.state.submenuSourceBbox,s=this.state.orientation==="left"?{left:this.state.left,top:n.top}:{left:this.state.left+n.width+7,top:n.top};return this.state.submenuShown.option==="options"?this.getConfigureViewMenu(s,n):M.default.createElement("div",null)}return M.default.createElement("div",null)}},{key:"render",value:function(){return M.default.createElement("div",{ref:n=>{this.div=n},className:Kn(Qr["context-menu"],{[Qr["context-menu-dark"]]:this.props.theme===Oi}),"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top}},M.default.createElement(cn,{onClick:n=>this.props.onTogglePositionSearchBox(n)},"Toggle position search box"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:n=>this.props.onZoomToData(n)},"Zoom to data extent"),M.default.createElement(cn,{onClick:n=>this.props.onClearView(n)},"Clear View"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:n=>this.props.onYankZoom(n)},"Take zoom from"),M.default.createElement(cn,{onClick:n=>this.props.onYankLocation(n)},"Take location from"),M.default.createElement(cn,{onClick:n=>this.props.onYankZoomAndLocation(n)},"Take zoom and location from"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:this.props.onLockZoom},"Lock zoom with"),M.default.createElement(cn,{onClick:this.props.onLockLocation},"Lock location with"),M.default.createElement(cn,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:n=>this.props.onUnlockZoom(n)},"Unlock zoom"),M.default.createElement(cn,{onClick:n=>this.props.onUnlockLocation(n)},"Unlock location"),M.default.createElement(cn,{onClick:n=>this.props.onUnlockZoomAndLocation(n)},"Unlock zoom and location"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:n=>this.props.onProjectViewport(n)},"Show this viewport on"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:n=>this.props.onEditViewConfig(n)},"Edit view config"),M.default.createElement("hr",{className:Qr["context-menu-hr"]}),M.default.createElement(cn,{onClick:()=>this.props.onExportSVG()},"Export views as SVG"),M.default.createElement(cn,{onClick:()=>this.props.onExportPNG()},"Export views as PNG"),M.default.createElement(cn,{onClick:()=>this.props.onExportViewAsJSON()},"Export views as JSON"),M.default.createElement(cn,{onClick:()=>this.props.onExportViewAsLink()},"Export views as Link"),this.getSubmenu())}}]),r})(Bp);_ne.propTypes={onEditViewConfig:z.exports.func.isRequired,onExportSVG:z.exports.func,onExportPNG:z.exports.func,onExportViewAsJSON:z.exports.func,onExportViewAsLink:z.exports.func,onLockLocation:z.exports.func,onLockZoom:z.exports.func,onLockZoomAndLocation:z.exports.func,onProjectViewport:z.exports.func,onTakeAndLockZoomAndLocation:z.exports.func,onTogglePositionSearchBox:z.exports.func,onUnlockLocation:z.exports.func,onUnlockZoom:z.exports.func,onUnlockZoomAndLocation:z.exports.func,onYankLocation:z.exports.func,onYankZoom:z.exports.func,onYankZoomAndLocation:z.exports.func,onZoomToData:z.exports.func,theme:z.exports.symbol};const Cu={"add-track-position-table":"_add-track-position-table_wdy5w_1","add-track-position-table-dark":"_add-track-position-table-dark_wdy5w_7","add-track-position-other":"_add-track-position-other_wdy5w_11","add-track-position-top-center":"_add-track-position-top-center_wdy5w_15","add-track-position-middle-left":"_add-track-position-middle-left_wdy5w_30","add-track-position-middle-right":"_add-track-position-middle-right_wdy5w_45","add-track-position-middle-middle":"_add-track-position-middle-middle_wdy5w_60","add-track-position-bottom-middle":"_add-track-position-bottom-middle_wdy5w_71","add-track-position-span":"_add-track-position-span_wdy5w_86"};function Ene(e){return M.default.createElement("div",null,M.default.createElement("div",{className:Cu["add-track-position-span"]},"Add Track..."),M.default.createElement("table",{className:Kn(Cu["add-track-position-table"],{[Cu["add-track-position-table-dark"]]:e.theme===Oi})},M.default.createElement("tbody",null,M.default.createElement("tr",{style:{height:"30px"}},M.default.createElement("td",{className:Cu["add-track-position-other"]}),M.default.createElement("td",{className:Cu["add-track-position-top-center"],onClick:()=>e.onTrackPositionChosen("top")},"top"),M.default.createElement("td",{className:Cu["add-track-position-other"]})),M.default.createElement("tr",{style:{height:"80px"}},M.default.createElement("td",{className:Cu["add-track-position-middle-left"],onClick:()=>e.onTrackPositionChosen("left")},"left"),M.default.createElement("td",{className:Cu["add-track-position-middle-middle"],onClick:()=>e.onTrackPositionChosen("center")},"center"),M.default.createElement("td",{className:Cu["add-track-position-middle-right"],onClick:()=>e.onTrackPositionChosen("right")},"right")),M.default.createElement("tr",{style:{height:"30px"}},M.default.createElement("td",{className:Cu["add-track-position-other"]}),M.default.createElement("td",{className:Cu["add-track-position-bottom-middle"],onClick:()=>e.onTrackPositionChosen("bottom")},"bottom"),M.default.createElement("td",{className:Cu["add-track-position-other"]})))))}Ene.propTypes={onTrackPositionChosen:z.exports.func.isRequired,theme:z.exports.symbol.isRequired};const aze=Bg(Ene);let DF=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n.handleTrackPositionChosenBound=n.handleTrackPositionChosen.bind(S(n)),n}return j(r,[{key:"componentDidMount",value:function(){this.setState({width:this.el.clientWidth})}},{key:"checkWidth",value:function(){const n=this.el.clientWidth;n!==this.state.width&&this.setState({width:n})}},{key:"handleConfigMenuOpened",value:function(n){this.setState({configMenuUid:n,configMenuPosition:this.configImg.getBoundingClientRect()})}},{key:"handleAddTrackPositionMenuOpened",value:function(n){this.setState({addTrackPositionMenuUid:n,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}},{key:"handleTrackPositionChosen",value:function(n){this.props.onTrackPositionChosen(n),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},{key:"render",value:function(){let n=null,s=null;this.state.addTrackPositionMenuPosition&&(s=M.default.createElement(Fp,{onMenuClosed:()=>{this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},M.default.createElement(Bp,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},M.default.createElement(aze,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(n=M.default.createElement(Fp,{onMenuClosed:()=>this.setState({configMenuUid:null})},M.default.createElement(_ne,{onClearView:()=>{this.setState({configMenuUid:null}),this.props.onClearView()},onEditViewConfig:()=>{this.setState({configMenuUid:null}),this.props.onEditViewConfig(this.state.configMenuUid)},onExportPNG:()=>{this.setState({configMenuUid:null}),this.props.onExportPNG()},onExportSVG:()=>{this.setState({configMenuUid:null}),this.props.onExportSVG()},onExportViewAsJSON:()=>{this.setState({configMenuUid:null}),this.props.onExportViewsAsJSON()},onExportViewAsLink:()=>{this.setState({configMenuUid:null}),this.props.onExportViewsAsLink()},onLockLocation:()=>{this.setState({configMenuUid:null}),this.props.onLockLocation(this.state.configMenuUid)},onLockZoom:()=>{this.setState({configMenuUid:null}),this.props.onLockZoom(this.state.configMenuUid)},onLockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onLockZoomAndLocation(this.state.configMenuUid)},onOptionsChanged:m=>{this.props.onViewOptionsChanged(m),this.setState({configMenuUid:null})},onProjectViewport:()=>{this.setState({configMenuUid:null}),this.props.onProjectViewport(this.state.configMenuUid)},onTakeAndLockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onTakeAndLockZoomAndLocation(this.state.configMenuUid)},onTogglePositionSearchBox:()=>{this.setState({configMenuUid:null}),this.props.onTogglePositionSearchBox(this.state.configMenuUid)},onUnlockLocation:()=>{this.setState({configMenuUid:null}),this.props.onUnlockLocation(this.state.configMenuUid)},onUnlockZoom:()=>{this.setState({configMenuUid:null}),this.props.onUnlockZoom(this.state.configMenuUid)},onUnlockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onUnlockZoomAndLocation(this.state.configMenuUid)},onYankLocation:()=>{this.setState({configMenuUid:null}),this.props.onYankLocation(this.state.configMenuUid)},onYankZoom:()=>{this.setState({configMenuUid:null}),this.props.onYankZoom(this.state.configMenuUid)},onYankZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onYankZoomAndLocation(this.state.configMenuUid)},onZoomToData:()=>{this.setState({configMenuUid:null}),this.props.onZoomToData(this.state.configMenuUid)},orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));const c=this.props.getGenomePositionSearchBox(this.state.isFocused,m=>{this.setState({isFocused:m})}),h=Kn(this.state.isFocused?pu["multitrack-header-focus"]:pu["multitrack-header"],{[pu["multitrack-header-dark"]]:this.props.theme===Oi}),p=this.state.width<=h7?pu["multitrack-header-icon-squeazed"]:pu["multitrack-header-icon"];return M.default.createElement("div",{ref:m=>{this.el=m},className:h},M.default.createElement("div",{className:pu["multitrack-header-left"]},this.props.mouseTool===du&&M.default.createElement("svg",{className:Kn(pu["mouse-tool-selection"],p),title:"Selection tool active"},M.default.createElement("use",{xlinkHref:"#select"})),M.default.createElement("div",{className:pu["multitrack-header-grabber"],title:"Drag to move the view"},M.default.createElement("div",null),M.default.createElement("div",null),M.default.createElement("div",null)),this.state.width>f7&&M.default.createElement("div",{className:pu["multitrack-header-search"]},this.props.isGenomePositionSearchBoxVisible&&c)),M.default.createElement("nav",{className:pu["multitrack-header-nav-list"]},M.default.createElement("svg",{className:p,onClick:this.props.onAddView},M.default.createElement("title",null,"Add new view (clone this view)"),M.default.createElement("use",{xlinkHref:"#copy"})),M.default.createElement("svg",{ref:m=>{this.configImg=m},className:p,onClick:()=>this.handleConfigMenuOpened(this.props.viewUid)},M.default.createElement("title",null,"Configure this view"),M.default.createElement("use",{xlinkHref:"#cog"})),M.default.createElement("svg",{ref:m=>{this.plusImg=m},className:p,onClick:()=>this.handleAddTrackPositionMenuOpened(this.props.viewUid)},M.default.createElement("title",null,"Add Track"),M.default.createElement("use",{xlinkHref:"#plus"})),M.default.createElement("svg",{className:p,onClick:this.props.onCloseView},M.default.createElement("title",null,"Close View"),M.default.createElement("use",{xlinkHref:"#cross"}))),n,s)}}]),r})(M.default.Component);DF.defaultProps={isGenomePositionSearchBoxVisible:!1},DF.propTypes={getGenomePositionSearchBox:z.exports.func.isRequired,isGenomePositionSearchBoxVisible:z.exports.bool,mouseTool:z.exports.string.isRequired,onAddView:z.exports.func.isRequired,onClearView:z.exports.func.isRequired,onCloseView:z.exports.func.isRequired,onEditViewConfig:z.exports.func.isRequired,onExportSVG:z.exports.func.isRequired,onExportPNG:z.exports.func.isRequired,onExportViewsAsJSON:z.exports.func.isRequired,onExportViewsAsLink:z.exports.func.isRequired,onLockLocation:z.exports.func.isRequired,onLockZoom:z.exports.func.isRequired,onLockZoomAndLocation:z.exports.func.isRequired,onProjectViewport:z.exports.func.isRequired,onTakeAndLockZoomAndLocation:z.exports.func.isRequired,onTogglePositionSearchBox:z.exports.func.isRequired,onTrackPositionChosen:z.exports.func.isRequired,onUnlockLocation:z.exports.func.isRequired,onUnlockZoom:z.exports.func.isRequired,onUnlockZoomAndLocation:z.exports.func.isRequired,onViewOptionsChanged:z.exports.func.isRequired,onYankLocation:z.exports.func.isRequired,onYankZoom:z.exports.func.isRequired,onYankZoomAndLocation:z.exports.func.isRequired,onZoomToData:z.exports.func.isRequired,theme:z.exports.symbol.isRequired,viewUid:z.exports.string.isRequired};const oze=Bg(DF);var Tne={};Object.defineProperty(Tne,"__esModule",{value:!0});var Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},sze=(function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}})(),lze=M.default,NC=uze(lze);function uze(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function cze(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}function hze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dze=13,pze=9,mze=8,gze=89,Dk=90,vze=77,Sne=57,Cne=219,Ane=222,wne=192,yze=27,xne=100,_ze=3e3,Eze="navigator"in globalThis&&/Win/i.test(navigator.platform),OF="navigator"in globalThis&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Ok="npm__react-simple-code-editor__textarea",Tze=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`+Ok+`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`+Ok+` {
    color: transparent !important;
  }

  .`+Ok+`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`,Ine=(function(e){fze(t,e);function t(){var r,i,n,s;hze(this,t);for(var c=arguments.length,h=Array(c),p=0;p<c;p++)h[p]=arguments[p];return s=(i=(n=bne(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(h))),n),n.state={capture:!0},n._recordCurrentState=function(){var m=n._input;if(m){var d=m.value,E=m.selectionStart,_=m.selectionEnd;n._recordChange({value:d,selectionStart:E,selectionEnd:_})}},n._getLines=function(m,d){return m.substring(0,d).split(`
`)},n._recordChange=function(m){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=n._history,_=E.stack,T=E.offset;if(_.length&&T>-1){n._history.stack=_.slice(0,T+1);var C=n._history.stack.length;if(C>xne){var A=C-xne;n._history.stack=_.slice(A,C),n._history.offset=Math.max(n._history.offset-A,0)}}var D=Date.now();if(d){var O=n._history.stack[n._history.offset];if(O&&D-O.timestamp<_ze){var B=/[^a-z0-9]([a-z0-9]+)$/i,P=n._getLines(O.value,O.selectionStart).pop().match(B),R=n._getLines(m.value,m.selectionStart).pop().match(B);if(P&&R&&R[1].startsWith(P[1])){n._history.stack[n._history.offset]=Up({},m,{timestamp:D});return}}}n._history.stack.push(Up({},m,{timestamp:D})),n._history.offset++},n._updateInput=function(m){var d=n._input;d&&(d.value=m.value,d.selectionStart=m.selectionStart,d.selectionEnd=m.selectionEnd,n.props.onValueChange(m.value))},n._applyEdits=function(m){var d=n._input,E=n._history.stack[n._history.offset];E&&d&&(n._history.stack[n._history.offset]=Up({},E,{selectionStart:d.selectionStart,selectionEnd:d.selectionEnd})),n._recordChange(m),n._updateInput(m)},n._undoEdit=function(){var m=n._history,d=m.stack,E=m.offset,_=d[E-1];_&&(n._updateInput(_),n._history.offset=Math.max(E-1,0))},n._redoEdit=function(){var m=n._history,d=m.stack,E=m.offset,_=d[E+1];_&&(n._updateInput(_),n._history.offset=Math.min(E+1,d.length-1))},n._handleKeyDown=function(m){var d=n.props,E=d.tabSize,_=d.insertSpaces,T=d.ignoreTabKey,C=d.onKeyDown;if(!(C&&(C(m),m.defaultPrevented))){m.keyCode===yze&&m.target.blur();var A=m.target,D=A.value,O=A.selectionStart,B=A.selectionEnd,P=(_?" ":"	").repeat(E);if(m.keyCode===pze&&!T&&n.state.capture)if(m.preventDefault(),m.shiftKey){var R=n._getLines(D,O),$=R.length-1,W=n._getLines(D,B).length-1,Z=D.split(`
`).map(function(Be,Ae){return Ae>=$&&Ae<=W&&Be.startsWith(P)?Be.substring(P.length):Be}).join(`
`);if(D!==Z){var K=R[$];n._applyEdits({value:Z,selectionStart:K.startsWith(P)?O-P.length:O,selectionEnd:B-(D.length-Z.length)})}}else if(O!==B){var ae=n._getLines(D,O),le=ae.length-1,J=n._getLines(D,B).length-1,ge=ae[le];n._applyEdits({value:D.split(`
`).map(function(Be,Ae){return Ae>=le&&Ae<=J?P+Be:Be}).join(`
`),selectionStart:/\S/.test(ge)?O+P.length:O,selectionEnd:B+P.length*(J-le+1)})}else{var Ee=O+P.length;n._applyEdits({value:D.substring(0,O)+P+D.substring(B),selectionStart:Ee,selectionEnd:Ee})}else if(m.keyCode===mze){var ne=O!==B,ve=D.substring(0,O);if(ve.endsWith(P)&&!ne){m.preventDefault();var Me=O-P.length;n._applyEdits({value:D.substring(0,O-P.length)+D.substring(B),selectionStart:Me,selectionEnd:Me})}}else if(m.keyCode===dze){if(O===B){var je=n._getLines(D,O).pop(),Qe=je.match(/^\s+/);if(Qe&&Qe[0]){m.preventDefault();var tt=`
`+Qe[0],st=O+tt.length;n._applyEdits({value:D.substring(0,O)+tt+D.substring(B),selectionStart:st,selectionEnd:st})}}}else if(m.keyCode===Sne||m.keyCode===Cne||m.keyCode===Ane||m.keyCode===wne){var Ct=void 0;m.keyCode===Sne&&m.shiftKey?Ct=["(",")"]:m.keyCode===Cne?m.shiftKey?Ct=["{","}"]:Ct=["[","]"]:m.keyCode===Ane?m.shiftKey?Ct=['"','"']:Ct=["'","'"]:m.keyCode===wne&&!m.shiftKey&&(Ct=["`","`"]),O!==B&&Ct&&(m.preventDefault(),n._applyEdits({value:D.substring(0,O)+Ct[0]+D.substring(O,B)+Ct[1]+D.substring(B),selectionStart:O,selectionEnd:B+2}))}else(OF?m.metaKey&&m.keyCode===Dk:m.ctrlKey&&m.keyCode===Dk)&&!m.shiftKey&&!m.altKey?(m.preventDefault(),n._undoEdit()):(OF?m.metaKey&&m.keyCode===Dk&&m.shiftKey:Eze?m.ctrlKey&&m.keyCode===gze:m.ctrlKey&&m.keyCode===Dk&&m.shiftKey)&&!m.altKey?(m.preventDefault(),n._redoEdit()):m.keyCode===vze&&m.ctrlKey&&(!OF||m.shiftKey)&&(m.preventDefault(),n.setState(function(Be){return{capture:!Be.capture}}))}},n._handleChange=function(m){var d=m.target,E=d.value,_=d.selectionStart,T=d.selectionEnd;n._recordChange({value:E,selectionStart:_,selectionEnd:T},!0),n.props.onValueChange(E)},n._history={stack:[],offset:-1},i),bne(n,s)}return sze(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var i=this,n=this.props,s=n.value,c=n.style,h=n.padding,p=n.highlight,m=n.textareaId,d=n.autoFocus,E=n.disabled,_=n.form,T=n.maxLength,C=n.minLength,A=n.name,D=n.placeholder,O=n.readOnly,B=n.required,P=n.onClick,R=n.onFocus,$=n.onBlur,W=n.onKeyUp;n.onKeyDown,n.onValueChange,n.tabSize,n.insertSpaces,n.ignoreTabKey;var Z=cze(n,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"]),K={paddingTop:h,paddingRight:h,paddingBottom:h,paddingLeft:h},ae=p(s);return NC.createElement("div",Up({},Z,{style:Up({},MC.container,c)}),NC.createElement("textarea",{ref:function(J){return i._input=J},style:Up({},MC.editor,MC.textarea,K),className:Ok,id:m,value:s,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:P,onKeyUp:W,onFocus:R,onBlur:$,disabled:E,form:_,maxLength:T,minLength:C,name:A,placeholder:D,readOnly:O,required:B,autoFocus:d,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),NC.createElement("pre",Up({"aria-hidden":"true",style:Up({},MC.editor,MC.highlight,K)},typeof ae=="string"?{dangerouslySetInnerHTML:{__html:ae+"<br />"}}:{children:ae})),NC.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:Tze}}))}},{key:"session",get:function(){return{history:this._history}},set:function(i){this._history=i.history}}]),t})(NC.Component);Ine.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0};var bze=Tne.default=Ine,MC={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}},kF={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
* Prism: Lightweight, robust, elegant syntax highlighting
*
* @license MIT <https://opensource.org/licenses/MIT>
* @author Lea Verou <https://lea.verou.me>
* @namespace
* @public
*/var r=(function(i){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,c={},h={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function B(P){return P instanceof p?new p(P.type,B(P.content),P.alias):Array.isArray(P)?P.map(B):P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(B){return Object.prototype.toString.call(B).slice(8,-1)},objId:function(B){return B.__id||Object.defineProperty(B,"__id",{value:++s}),B.__id},clone:function B(P,R){R=R||{};var $,W;switch(h.util.type(P)){case"Object":if(W=h.util.objId(P),R[W])return R[W];$={},R[W]=$;for(var Z in P)P.hasOwnProperty(Z)&&($[Z]=B(P[Z],R));return $;case"Array":return W=h.util.objId(P),R[W]?R[W]:($=[],R[W]=$,P.forEach(function(K,ae){$[ae]=B(K,R)}),$);default:return P}},getLanguage:function(B){for(;B;){var P=n.exec(B.className);if(P)return P[1].toLowerCase();B=B.parentElement}return"none"},setLanguage:function(B,P){B.className=B.className.replace(RegExp(n,"gi"),""),B.classList.add("language-"+P)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch($){var B=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec($.stack)||[])[1];if(B){var P=document.getElementsByTagName("script");for(var R in P)if(P[R].src==B)return P[R]}return null}},isActive:function(B,P,R){for(var $="no-"+P;B;){var W=B.classList;if(W.contains(P))return!0;if(W.contains($))return!1;B=B.parentElement}return!!R}},languages:{plain:c,plaintext:c,text:c,txt:c,extend:function(B,P){var R=h.util.clone(h.languages[B]);for(var $ in P)R[$]=P[$];return R},insertBefore:function(B,P,R,$){$=$||h.languages;var W=$[B],Z={};for(var K in W)if(W.hasOwnProperty(K)){if(K==P)for(var ae in R)R.hasOwnProperty(ae)&&(Z[ae]=R[ae]);R.hasOwnProperty(K)||(Z[K]=W[K])}var le=$[B];return $[B]=Z,h.languages.DFS(h.languages,function(J,ge){ge===le&&J!=B&&(this[J]=Z)}),Z},DFS:function B(P,R,$,W){W=W||{};var Z=h.util.objId;for(var K in P)if(P.hasOwnProperty(K)){R.call(P,K,P[K],$||K);var ae=P[K],le=h.util.type(ae);le==="Object"&&!W[Z(ae)]?(W[Z(ae)]=!0,B(ae,R,null,W)):le==="Array"&&!W[Z(ae)]&&(W[Z(ae)]=!0,B(ae,R,K,W))}}},plugins:{},highlightAll:function(B,P){h.highlightAllUnder(document,B,P)},highlightAllUnder:function(B,P,R){var $={callback:R,container:B,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};h.hooks.run("before-highlightall",$),$.elements=Array.prototype.slice.apply($.container.querySelectorAll($.selector)),h.hooks.run("before-all-elements-highlight",$);for(var W=0,Z;Z=$.elements[W++];)h.highlightElement(Z,P===!0,$.callback)},highlightElement:function(B,P,R){var $=h.util.getLanguage(B),W=h.languages[$];h.util.setLanguage(B,$);var Z=B.parentElement;Z&&Z.nodeName.toLowerCase()==="pre"&&h.util.setLanguage(Z,$);var K=B.textContent,ae={element:B,language:$,grammar:W,code:K};function le(ge){ae.highlightedCode=ge,h.hooks.run("before-insert",ae),ae.element.innerHTML=ae.highlightedCode,h.hooks.run("after-highlight",ae),h.hooks.run("complete",ae),R&&R.call(ae.element)}if(h.hooks.run("before-sanity-check",ae),Z=ae.element.parentElement,Z&&Z.nodeName.toLowerCase()==="pre"&&!Z.hasAttribute("tabindex")&&Z.setAttribute("tabindex","0"),!ae.code){h.hooks.run("complete",ae),R&&R.call(ae.element);return}if(h.hooks.run("before-highlight",ae),!ae.grammar){le(h.util.encode(ae.code));return}if(P&&i.Worker){var J=new Worker(h.filename);J.onmessage=function(ge){le(ge.data)},J.postMessage(JSON.stringify({language:ae.language,code:ae.code,immediateClose:!0}))}else le(h.highlight(ae.code,ae.grammar,ae.language))},highlight:function(B,P,R){var $={code:B,grammar:P,language:R};if(h.hooks.run("before-tokenize",$),!$.grammar)throw new Error('The language "'+$.language+'" has no grammar.');return $.tokens=h.tokenize($.code,$.grammar),h.hooks.run("after-tokenize",$),p.stringify(h.util.encode($.tokens),$.language)},tokenize:function(B,P){var R=P.rest;if(R){for(var $ in R)P[$]=R[$];delete P.rest}var W=new E;return _(W,W.head,B),d(B,W,P,W.head,0),C(W)},hooks:{all:{},add:function(B,P){var R=h.hooks.all;R[B]=R[B]||[],R[B].push(P)},run:function(B,P){var R=h.hooks.all[B];if(!(!R||!R.length))for(var $=0,W;W=R[$++];)W(P)}},Token:p};i.Prism=h;function p(B,P,R,$){this.type=B,this.content=P,this.alias=R,this.length=($||"").length|0}p.stringify=function B(P,R){if(typeof P=="string")return P;if(Array.isArray(P)){var $="";return P.forEach(function(le){$+=B(le,R)}),$}var W={type:P.type,content:B(P.content,R),tag:"span",classes:["token",P.type],attributes:{},language:R},Z=P.alias;Z&&(Array.isArray(Z)?Array.prototype.push.apply(W.classes,Z):W.classes.push(Z)),h.hooks.run("wrap",W);var K="";for(var ae in W.attributes)K+=" "+ae+'="'+(W.attributes[ae]||"").replace(/"/g,"&quot;")+'"';return"<"+W.tag+' class="'+W.classes.join(" ")+'"'+K+">"+W.content+"</"+W.tag+">"};function m(B,P,R,$){B.lastIndex=P;var W=B.exec(R);if(W&&$&&W[1]){var Z=W[1].length;W.index+=Z,W[0]=W[0].slice(Z)}return W}function d(B,P,R,$,W,Z){for(var K in R)if(!(!R.hasOwnProperty(K)||!R[K])){var ae=R[K];ae=Array.isArray(ae)?ae:[ae];for(var le=0;le<ae.length;++le){if(Z&&Z.cause==K+","+le)return;var J=ae[le],ge=J.inside,Ee=!!J.lookbehind,ne=!!J.greedy,ve=J.alias;if(ne&&!J.pattern.global){var Me=J.pattern.toString().match(/[imsuy]*$/)[0];J.pattern=RegExp(J.pattern.source,Me+"g")}for(var je=J.pattern||J,Qe=$.next,tt=W;Qe!==P.tail&&!(Z&&tt>=Z.reach);tt+=Qe.value.length,Qe=Qe.next){var st=Qe.value;if(P.length>B.length)return;if(!(st instanceof p)){var Ct=1,Be;if(ne){if(Be=m(je,tt,B,Ee),!Be||Be.index>=B.length)break;var it=Be.index,Ae=Be.index+Be[0].length,Ne=tt;for(Ne+=Qe.value.length;it>=Ne;)Qe=Qe.next,Ne+=Qe.value.length;if(Ne-=Qe.value.length,tt=Ne,Qe.value instanceof p)continue;for(var Ue=Qe;Ue!==P.tail&&(Ne<Ae||typeof Ue.value=="string");Ue=Ue.next)Ct++,Ne+=Ue.value.length;Ct--,st=B.slice(tt,Ne),Be.index-=tt}else if(Be=m(je,0,st,Ee),!Be)continue;var it=Be.index,mt=Be[0],Ft=st.slice(0,it),Dt=st.slice(it+mt.length),$t=tt+st.length;Z&&$t>Z.reach&&(Z.reach=$t);var cr=Qe.prev;Ft&&(cr=_(P,cr,Ft),tt+=Ft.length),T(P,cr,Ct);var Ut=new p(K,ge?h.tokenize(mt,ge):mt,ve,mt);if(Qe=_(P,cr,Ut),Dt&&_(P,Qe,Dt),Ct>1){var mr={cause:K+","+le,reach:$t};d(B,P,R,Qe.prev,tt,mr),Z&&mr.reach>Z.reach&&(Z.reach=mr.reach)}}}}}}function E(){var B={value:null,prev:null,next:null},P={value:null,prev:B,next:null};B.next=P,this.head=B,this.tail=P,this.length=0}function _(B,P,R){var $=P.next,W={value:R,prev:P,next:$};return P.next=W,$.prev=W,B.length++,W}function T(B,P,R){for(var $=P.next,W=0;W<R&&$!==B.tail;W++)$=$.next;P.next=$,$.prev=P,B.length-=W}function C(B){for(var P=[],R=B.head.next;R!==B.tail;)P.push(R.value),R=R.next;return P}if(!i.document)return i.addEventListener&&(h.disableWorkerMessageHandler||i.addEventListener("message",function(B){var P=JSON.parse(B.data),R=P.language,$=P.code,W=P.immediateClose;i.postMessage(h.highlight($,h.languages[R],R)),W&&i.close()},!1)),h;var A=h.util.currentScript();A&&(h.filename=A.src,A.hasAttribute("data-manual")&&(h.manual=!0));function D(){h.manual||h.highlightAll()}if(!h.manual){var O=document.readyState;O==="loading"||O==="interactive"&&A&&A.defer?document.addEventListener("DOMContentLoaded",D):window.requestAnimationFrame?window.requestAnimationFrame(D):window.setTimeout(D,16)}return h})(t);e.exports&&(e.exports=r),typeof globalThis<"u"&&(globalThis.Prism=r)})(kF),Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;var PF={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,i){i(t)})(Te,function(r){function i(){for(var xe=arguments.length,Se=Array(xe),Ve=0;Ve<xe;Ve++)Se[Ve]=arguments[Ve];if(Se.length>1){Se[0]=Se[0].slice(0,-1);for(var vt=Se.length-1,Et=1;Et<vt;++Et)Se[Et]=Se[Et].slice(1,-1);return Se[vt]=Se[vt].slice(1),Se.join("")}else return Se[0]}function n(xe){return"(?:"+xe+")"}function s(xe){return xe===void 0?"undefined":xe===null?"null":Object.prototype.toString.call(xe).split(" ").pop().split("]").shift().toLowerCase()}function c(xe){return xe.toUpperCase()}function h(xe){return xe!=null?xe instanceof Array?xe:typeof xe.length!="number"||xe.split||xe.setInterval||xe.call?[xe]:Array.prototype.slice.call(xe):[]}function p(xe,Se){var Ve=xe;if(Se)for(var vt in Se)Ve[vt]=Se[vt];return Ve}function m(xe){var Se="[A-Za-z]",Ve="[0-9]",vt=i(Ve,"[A-Fa-f]"),Et=n(n("%[EFef]"+vt+"%"+vt+vt+"%"+vt+vt)+"|"+n("%[89A-Fa-f]"+vt+"%"+vt+vt)+"|"+n("%"+vt+vt)),ur="[\\:\\/\\?\\#\\[\\]\\@]",hr="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Hr=i(ur,hr),on=xe?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Pn=xe?"[\\uE000-\\uF8FF]":"[]",Kr=i(Se,Ve,"[\\-\\.\\_\\~]",on);n(Se+i(Se,Ve,"[\\+\\-\\.]")+"*"),n(n(Et+"|"+i(Kr,hr,"[\\:]"))+"*");var An=n(n("25[0-5]")+"|"+n("2[0-4]"+Ve)+"|"+n("1"+Ve+Ve)+"|"+n("0?[1-9]"+Ve)+"|0?0?"+Ve),ri=n(An+"\\."+An+"\\."+An+"\\."+An),$r=n(vt+"{1,4}"),On=n(n($r+"\\:"+$r)+"|"+ri),ni=n(n($r+"\\:")+"{6}"+On),oi=n("\\:\\:"+n($r+"\\:")+"{5}"+On),ji=n(n($r)+"?\\:\\:"+n($r+"\\:")+"{4}"+On),hs=n(n(n($r+"\\:")+"{0,1}"+$r)+"?\\:\\:"+n($r+"\\:")+"{3}"+On),tr=n(n(n($r+"\\:")+"{0,2}"+$r)+"?\\:\\:"+n($r+"\\:")+"{2}"+On),Ar=n(n(n($r+"\\:")+"{0,3}"+$r)+"?\\:\\:"+$r+"\\:"+On),gn=n(n(n($r+"\\:")+"{0,4}"+$r)+"?\\:\\:"+On),ln=n(n(n($r+"\\:")+"{0,5}"+$r)+"?\\:\\:"+$r),zr=n(n(n($r+"\\:")+"{0,6}"+$r)+"?\\:\\:"),Rn=n([ni,oi,ji,hs,tr,Ar,gn,ln,zr].join("|")),dn=n(n(Kr+"|"+Et)+"+");n("[vV]"+vt+"+\\."+i(Kr,hr,"[\\:]")+"+"),n(n(Et+"|"+i(Kr,hr))+"*");var En=n(Et+"|"+i(Kr,hr,"[\\:\\@]"));return n(n(Et+"|"+i(Kr,hr,"[\\@]"))+"+"),n(n(En+"|"+i("[\\/\\?]",Pn))+"*"),{NOT_SCHEME:new RegExp(i("[^]",Se,Ve,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Kr,hr),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Kr,hr),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Kr,hr),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Kr,hr),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Kr,hr,"[\\:\\@\\/\\?]",Pn),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Kr,hr,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Kr,hr),"g"),UNRESERVED:new RegExp(Kr,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Kr,Hr),"g"),PCT_ENCODED:new RegExp(Et,"g"),IPV4ADDRESS:new RegExp("^("+ri+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Rn+")"+n(n("\\%25|\\%(?!"+vt+"{2})")+"("+dn+")")+"?\\]?$")}}var d=m(!1),E=m(!0),_=(function(){function xe(Se,Ve){var vt=[],Et=!0,ur=!1,hr=void 0;try{for(var Hr=Se[Symbol.iterator](),on;!(Et=(on=Hr.next()).done)&&(vt.push(on.value),!(Ve&&vt.length===Ve));Et=!0);}catch(Pn){ur=!0,hr=Pn}finally{try{!Et&&Hr.return&&Hr.return()}finally{if(ur)throw hr}}return vt}return function(Se,Ve){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return xe(Se,Ve);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),T=function(xe){if(Array.isArray(xe)){for(var Se=0,Ve=Array(xe.length);Se<xe.length;Se++)Ve[Se]=xe[Se];return Ve}else return Array.from(xe)},C=2147483647,A=36,D=1,O=26,B=38,P=700,R=72,$=128,W="-",Z=/^xn--/,K=/[^\0-\x7E]/,ae=/[\x2E\u3002\uFF0E\uFF61]/g,le={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=A-D,ge=Math.floor,Ee=String.fromCharCode;function ne(xe){throw new RangeError(le[xe])}function ve(xe,Se){for(var Ve=[],vt=xe.length;vt--;)Ve[vt]=Se(xe[vt]);return Ve}function Me(xe,Se){var Ve=xe.split("@"),vt="";Ve.length>1&&(vt=Ve[0]+"@",xe=Ve[1]),xe=xe.replace(ae,".");var Et=xe.split("."),ur=ve(Et,Se).join(".");return vt+ur}function je(xe){for(var Se=[],Ve=0,vt=xe.length;Ve<vt;){var Et=xe.charCodeAt(Ve++);if(Et>=55296&&Et<=56319&&Ve<vt){var ur=xe.charCodeAt(Ve++);(ur&64512)==56320?Se.push(((Et&1023)<<10)+(ur&1023)+65536):(Se.push(Et),Ve--)}else Se.push(Et)}return Se}var Qe=function(Se){return String.fromCodePoint.apply(String,T(Se))},tt=function(Se){return Se-48<10?Se-22:Se-65<26?Se-65:Se-97<26?Se-97:A},st=function(Se,Ve){return Se+22+75*(Se<26)-((Ve!=0)<<5)},Ct=function(Se,Ve,vt){var Et=0;for(Se=vt?ge(Se/P):Se>>1,Se+=ge(Se/Ve);Se>J*O>>1;Et+=A)Se=ge(Se/J);return ge(Et+(J+1)*Se/(Se+B))},Be=function(Se){var Ve=[],vt=Se.length,Et=0,ur=$,hr=R,Hr=Se.lastIndexOf(W);Hr<0&&(Hr=0);for(var on=0;on<Hr;++on)Se.charCodeAt(on)>=128&&ne("not-basic"),Ve.push(Se.charCodeAt(on));for(var Pn=Hr>0?Hr+1:0;Pn<vt;){for(var Kr=Et,An=1,ri=A;;ri+=A){Pn>=vt&&ne("invalid-input");var $r=tt(Se.charCodeAt(Pn++));($r>=A||$r>ge((C-Et)/An))&&ne("overflow"),Et+=$r*An;var On=ri<=hr?D:ri>=hr+O?O:ri-hr;if($r<On)break;var ni=A-On;An>ge(C/ni)&&ne("overflow"),An*=ni}var oi=Ve.length+1;hr=Ct(Et-Kr,oi,Kr==0),ge(Et/oi)>C-ur&&ne("overflow"),ur+=ge(Et/oi),Et%=oi,Ve.splice(Et++,0,ur)}return String.fromCodePoint.apply(String,Ve)},Ae=function(Se){var Ve=[];Se=je(Se);var vt=Se.length,Et=$,ur=0,hr=R,Hr=!0,on=!1,Pn=void 0;try{for(var Kr=Se[Symbol.iterator](),An;!(Hr=(An=Kr.next()).done);Hr=!0){var ri=An.value;ri<128&&Ve.push(Ee(ri))}}catch(jp){on=!0,Pn=jp}finally{try{!Hr&&Kr.return&&Kr.return()}finally{if(on)throw Pn}}var $r=Ve.length,On=$r;for($r&&Ve.push(W);On<vt;){var ni=C,oi=!0,ji=!1,hs=void 0;try{for(var tr=Se[Symbol.iterator](),Ar;!(oi=(Ar=tr.next()).done);oi=!0){var gn=Ar.value;gn>=Et&&gn<ni&&(ni=gn)}}catch(jp){ji=!0,hs=jp}finally{try{!oi&&tr.return&&tr.return()}finally{if(ji)throw hs}}var ln=On+1;ni-Et>ge((C-ur)/ln)&&ne("overflow"),ur+=(ni-Et)*ln,Et=ni;var zr=!0,Rn=!1,dn=void 0;try{for(var En=Se[Symbol.iterator](),jn;!(zr=(jn=En.next()).done);zr=!0){var si=jn.value;if(si<Et&&++ur>C&&ne("overflow"),si==Et){for(var li=ur,Vo=A;;Vo+=A){var Au=Vo<=hr?D:Vo>=hr+O?O:Vo-hr;if(li<Au)break;var zp=li-Au,FC=A-Au;Ve.push(Ee(st(Au+zp%FC,0))),li=ge(zp/FC)}Ve.push(Ee(st(li,0))),hr=Ct(ur,ln,On==$r),ur=0,++On}}}catch(jp){Rn=!0,dn=jp}finally{try{!zr&&En.return&&En.return()}finally{if(Rn)throw dn}}++ur,++Et}return Ve.join("")},Ne=function(Se){return Me(Se,function(Ve){return Z.test(Ve)?Be(Ve.slice(4).toLowerCase()):Ve})},Ue=function(Se){return Me(Se,function(Ve){return K.test(Ve)?"xn--"+Ae(Ve):Ve})},it={version:"2.1.0",ucs2:{decode:je,encode:Qe},decode:Be,encode:Ae,toASCII:Ue,toUnicode:Ne},mt={};function Ft(xe){var Se=xe.charCodeAt(0),Ve=void 0;return Se<16?Ve="%0"+Se.toString(16).toUpperCase():Se<128?Ve="%"+Se.toString(16).toUpperCase():Se<2048?Ve="%"+(Se>>6|192).toString(16).toUpperCase()+"%"+(Se&63|128).toString(16).toUpperCase():Ve="%"+(Se>>12|224).toString(16).toUpperCase()+"%"+(Se>>6&63|128).toString(16).toUpperCase()+"%"+(Se&63|128).toString(16).toUpperCase(),Ve}function Dt(xe){for(var Se="",Ve=0,vt=xe.length;Ve<vt;){var Et=parseInt(xe.substr(Ve+1,2),16);if(Et<128)Se+=String.fromCharCode(Et),Ve+=3;else if(Et>=194&&Et<224){if(vt-Ve>=6){var ur=parseInt(xe.substr(Ve+4,2),16);Se+=String.fromCharCode((Et&31)<<6|ur&63)}else Se+=xe.substr(Ve,6);Ve+=6}else if(Et>=224){if(vt-Ve>=9){var hr=parseInt(xe.substr(Ve+4,2),16),Hr=parseInt(xe.substr(Ve+7,2),16);Se+=String.fromCharCode((Et&15)<<12|(hr&63)<<6|Hr&63)}else Se+=xe.substr(Ve,9);Ve+=9}else Se+=xe.substr(Ve,3),Ve+=3}return Se}function $t(xe,Se){function Ve(vt){var Et=Dt(vt);return Et.match(Se.UNRESERVED)?Et:vt}return xe.scheme&&(xe.scheme=String(xe.scheme).replace(Se.PCT_ENCODED,Ve).toLowerCase().replace(Se.NOT_SCHEME,"")),xe.userinfo!==void 0&&(xe.userinfo=String(xe.userinfo).replace(Se.PCT_ENCODED,Ve).replace(Se.NOT_USERINFO,Ft).replace(Se.PCT_ENCODED,c)),xe.host!==void 0&&(xe.host=String(xe.host).replace(Se.PCT_ENCODED,Ve).toLowerCase().replace(Se.NOT_HOST,Ft).replace(Se.PCT_ENCODED,c)),xe.path!==void 0&&(xe.path=String(xe.path).replace(Se.PCT_ENCODED,Ve).replace(xe.scheme?Se.NOT_PATH:Se.NOT_PATH_NOSCHEME,Ft).replace(Se.PCT_ENCODED,c)),xe.query!==void 0&&(xe.query=String(xe.query).replace(Se.PCT_ENCODED,Ve).replace(Se.NOT_QUERY,Ft).replace(Se.PCT_ENCODED,c)),xe.fragment!==void 0&&(xe.fragment=String(xe.fragment).replace(Se.PCT_ENCODED,Ve).replace(Se.NOT_FRAGMENT,Ft).replace(Se.PCT_ENCODED,c)),xe}function cr(xe){return xe.replace(/^0*(.*)/,"$1")||"0"}function Ut(xe,Se){var Ve=xe.match(Se.IPV4ADDRESS)||[],vt=_(Ve,2),Et=vt[1];return Et?Et.split(".").map(cr).join("."):xe}function mr(xe,Se){var Ve=xe.match(Se.IPV6ADDRESS)||[],vt=_(Ve,3),Et=vt[1],ur=vt[2];if(Et){for(var hr=Et.toLowerCase().split("::").reverse(),Hr=_(hr,2),on=Hr[0],Pn=Hr[1],Kr=Pn?Pn.split(":").map(cr):[],An=on.split(":").map(cr),ri=Se.IPV4ADDRESS.test(An[An.length-1]),$r=ri?7:8,On=An.length-$r,ni=Array($r),oi=0;oi<$r;++oi)ni[oi]=Kr[oi]||An[On+oi]||"";ri&&(ni[$r-1]=Ut(ni[$r-1],Se));var ji=ni.reduce(function(ln,zr,Rn){if(!zr||zr==="0"){var dn=ln[ln.length-1];dn&&dn.index+dn.length===Rn?dn.length++:ln.push({index:Rn,length:1})}return ln},[]),hs=ji.sort(function(ln,zr){return zr.length-ln.length})[0],tr=void 0;if(hs&&hs.length>1){var Ar=ni.slice(0,hs.index),gn=ni.slice(hs.index+hs.length);tr=Ar.join(":")+"::"+gn.join(":")}else tr=ni.join(":");return ur&&(tr+="%"+ur),tr}else return xe}var fr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Jr="".match(/(){0}/)[1]===void 0;function Lr(xe){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve={},vt=Se.iri!==!1?E:d;Se.reference==="suffix"&&(xe=(Se.scheme?Se.scheme+":":"")+"//"+xe);var Et=xe.match(fr);if(Et){Jr?(Ve.scheme=Et[1],Ve.userinfo=Et[3],Ve.host=Et[4],Ve.port=parseInt(Et[5],10),Ve.path=Et[6]||"",Ve.query=Et[7],Ve.fragment=Et[8],isNaN(Ve.port)&&(Ve.port=Et[5])):(Ve.scheme=Et[1]||void 0,Ve.userinfo=xe.indexOf("@")!==-1?Et[3]:void 0,Ve.host=xe.indexOf("//")!==-1?Et[4]:void 0,Ve.port=parseInt(Et[5],10),Ve.path=Et[6]||"",Ve.query=xe.indexOf("?")!==-1?Et[7]:void 0,Ve.fragment=xe.indexOf("#")!==-1?Et[8]:void 0,isNaN(Ve.port)&&(Ve.port=xe.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Et[4]:void 0)),Ve.host&&(Ve.host=mr(Ut(Ve.host,vt),vt)),Ve.scheme===void 0&&Ve.userinfo===void 0&&Ve.host===void 0&&Ve.port===void 0&&!Ve.path&&Ve.query===void 0?Ve.reference="same-document":Ve.scheme===void 0?Ve.reference="relative":Ve.fragment===void 0?Ve.reference="absolute":Ve.reference="uri",Se.reference&&Se.reference!=="suffix"&&Se.reference!==Ve.reference&&(Ve.error=Ve.error||"URI is not a "+Se.reference+" reference.");var ur=mt[(Se.scheme||Ve.scheme||"").toLowerCase()];if(!Se.unicodeSupport&&(!ur||!ur.unicodeSupport)){if(Ve.host&&(Se.domainHost||ur&&ur.domainHost))try{Ve.host=it.toASCII(Ve.host.replace(vt.PCT_ENCODED,Dt).toLowerCase())}catch(hr){Ve.error=Ve.error||"Host's domain name can not be converted to ASCII via punycode: "+hr}$t(Ve,d)}else $t(Ve,vt);ur&&ur.parse&&ur.parse(Ve,Se)}else Ve.error=Ve.error||"URI can not be parsed.";return Ve}function gr(xe,Se){var Ve=Se.iri!==!1?E:d,vt=[];return xe.userinfo!==void 0&&(vt.push(xe.userinfo),vt.push("@")),xe.host!==void 0&&vt.push(mr(Ut(String(xe.host),Ve),Ve).replace(Ve.IPV6ADDRESS,function(Et,ur,hr){return"["+ur+(hr?"%25"+hr:"")+"]"})),(typeof xe.port=="number"||typeof xe.port=="string")&&(vt.push(":"),vt.push(String(xe.port))),vt.length?vt.join(""):void 0}var sn=/^\.\.?\//,nn=/^\/\.(\/|$)/,Dn=/^\/\.\.(\/|$)/,ta=/^\/?(?:.|\n)*?(?=\/|$)/;function en(xe){for(var Se=[];xe.length;)if(xe.match(sn))xe=xe.replace(sn,"");else if(xe.match(nn))xe=xe.replace(nn,"/");else if(xe.match(Dn))xe=xe.replace(Dn,"/"),Se.pop();else if(xe==="."||xe==="..")xe="";else{var Ve=xe.match(ta);if(Ve){var vt=Ve[0];xe=xe.slice(vt.length),Se.push(vt)}else throw new Error("Unexpected dot segment condition")}return Se.join("")}function kt(xe){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve=Se.iri?E:d,vt=[],Et=mt[(Se.scheme||xe.scheme||"").toLowerCase()];if(Et&&Et.serialize&&Et.serialize(xe,Se),xe.host&&!Ve.IPV6ADDRESS.test(xe.host)){if(Se.domainHost||Et&&Et.domainHost)try{xe.host=Se.iri?it.toUnicode(xe.host):it.toASCII(xe.host.replace(Ve.PCT_ENCODED,Dt).toLowerCase())}catch(Hr){xe.error=xe.error||"Host's domain name can not be converted to "+(Se.iri?"Unicode":"ASCII")+" via punycode: "+Hr}}$t(xe,Ve),Se.reference!=="suffix"&&xe.scheme&&(vt.push(xe.scheme),vt.push(":"));var ur=gr(xe,Se);if(ur!==void 0&&(Se.reference!=="suffix"&&vt.push("//"),vt.push(ur),xe.path&&xe.path.charAt(0)!=="/"&&vt.push("/")),xe.path!==void 0){var hr=xe.path;!Se.absolutePath&&(!Et||!Et.absolutePath)&&(hr=en(hr)),ur===void 0&&(hr=hr.replace(/^\/\//,"/%2F")),vt.push(hr)}return xe.query!==void 0&&(vt.push("?"),vt.push(xe.query)),xe.fragment!==void 0&&(vt.push("#"),vt.push(xe.fragment)),vt.join("")}function ze(xe,Se){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},vt=arguments[3],Et={};return vt||(xe=Lr(kt(xe,Ve),Ve),Se=Lr(kt(Se,Ve),Ve)),Ve=Ve||{},!Ve.tolerant&&Se.scheme?(Et.scheme=Se.scheme,Et.userinfo=Se.userinfo,Et.host=Se.host,Et.port=Se.port,Et.path=en(Se.path||""),Et.query=Se.query):(Se.userinfo!==void 0||Se.host!==void 0||Se.port!==void 0?(Et.userinfo=Se.userinfo,Et.host=Se.host,Et.port=Se.port,Et.path=en(Se.path||""),Et.query=Se.query):(Se.path?(Se.path.charAt(0)==="/"?Et.path=en(Se.path):((xe.userinfo!==void 0||xe.host!==void 0||xe.port!==void 0)&&!xe.path?Et.path="/"+Se.path:xe.path?Et.path=xe.path.slice(0,xe.path.lastIndexOf("/")+1)+Se.path:Et.path=Se.path,Et.path=en(Et.path)),Et.query=Se.query):(Et.path=xe.path,Se.query!==void 0?Et.query=Se.query:Et.query=xe.query),Et.userinfo=xe.userinfo,Et.host=xe.host,Et.port=xe.port),Et.scheme=xe.scheme),Et.fragment=Se.fragment,Et}function Xe(xe,Se,Ve){var vt=p({scheme:"null"},Ve);return kt(ze(Lr(xe,vt),Lr(Se,vt),vt,!0),vt)}function ft(xe,Se){return typeof xe=="string"?xe=kt(Lr(xe,Se),Se):s(xe)==="object"&&(xe=Lr(kt(xe,Se),Se)),xe}function Q(xe,Se,Ve){return typeof xe=="string"?xe=kt(Lr(xe,Ve),Ve):s(xe)==="object"&&(xe=kt(xe,Ve)),typeof Se=="string"?Se=kt(Lr(Se,Ve),Ve):s(Se)==="object"&&(Se=kt(Se,Ve)),xe===Se}function G(xe,Se){return xe&&xe.toString().replace(!Se||!Se.iri?d.ESCAPE:E.ESCAPE,Ft)}function Y(xe,Se){return xe&&xe.toString().replace(!Se||!Se.iri?d.PCT_ENCODED:E.PCT_ENCODED,Dt)}var ye={scheme:"http",domainHost:!0,parse:function(Se,Ve){return Se.host||(Se.error=Se.error||"HTTP URIs must have a host."),Se},serialize:function(Se,Ve){var vt=String(Se.scheme).toLowerCase()==="https";return(Se.port===(vt?443:80)||Se.port==="")&&(Se.port=void 0),Se.path||(Se.path="/"),Se}},Ge={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function Ze(xe){return typeof xe.secure=="boolean"?xe.secure:String(xe.scheme).toLowerCase()==="wss"}var ct={scheme:"ws",domainHost:!0,parse:function(Se,Ve){var vt=Se;return vt.secure=Ze(vt),vt.resourceName=(vt.path||"/")+(vt.query?"?"+vt.query:""),vt.path=void 0,vt.query=void 0,vt},serialize:function(Se,Ve){if((Se.port===(Ze(Se)?443:80)||Se.port==="")&&(Se.port=void 0),typeof Se.secure=="boolean"&&(Se.scheme=Se.secure?"wss":"ws",Se.secure=void 0),Se.resourceName){var vt=Se.resourceName.split("?"),Et=_(vt,2),ur=Et[0],hr=Et[1];Se.path=ur&&ur!=="/"?ur:void 0,Se.query=hr,Se.resourceName=void 0}return Se.fragment=void 0,Se}},or={scheme:"wss",domainHost:ct.domainHost,parse:ct.parse,serialize:ct.serialize},dr={},xr="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",br="[0-9A-Fa-f]",Nr=n(n("%[EFef]"+br+"%"+br+br+"%"+br+br)+"|"+n("%[89A-Fa-f]"+br+"%"+br+br)+"|"+n("%"+br+br)),ra="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",jo="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Yl=i(jo,'[\\"\\\\]'),us="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",cs=new RegExp(xr,"g"),xt=new RegExp(Nr,"g"),lt=new RegExp(i("[^]",ra,"[\\.]",'[\\"]',Yl),"g"),Oe=new RegExp(i("[^]",xr,us),"g"),Pe=Oe;function nt(xe){var Se=Dt(xe);return Se.match(cs)?Se:xe}var yt={scheme:"mailto",parse:function(Se,Ve){var vt=Se,Et=vt.to=vt.path?vt.path.split(","):[];if(vt.path=void 0,vt.query){for(var ur=!1,hr={},Hr=vt.query.split("&"),on=0,Pn=Hr.length;on<Pn;++on){var Kr=Hr[on].split("=");switch(Kr[0]){case"to":for(var An=Kr[1].split(","),ri=0,$r=An.length;ri<$r;++ri)Et.push(An[ri]);break;case"subject":vt.subject=Y(Kr[1],Ve);break;case"body":vt.body=Y(Kr[1],Ve);break;default:ur=!0,hr[Y(Kr[0],Ve)]=Y(Kr[1],Ve);break}}ur&&(vt.headers=hr)}vt.query=void 0;for(var On=0,ni=Et.length;On<ni;++On){var oi=Et[On].split("@");if(oi[0]=Y(oi[0]),Ve.unicodeSupport)oi[1]=Y(oi[1],Ve).toLowerCase();else try{oi[1]=it.toASCII(Y(oi[1],Ve).toLowerCase())}catch(ji){vt.error=vt.error||"Email address's domain name can not be converted to ASCII via punycode: "+ji}Et[On]=oi.join("@")}return vt},serialize:function(Se,Ve){var vt=Se,Et=h(Se.to);if(Et){for(var ur=0,hr=Et.length;ur<hr;++ur){var Hr=String(Et[ur]),on=Hr.lastIndexOf("@"),Pn=Hr.slice(0,on).replace(xt,nt).replace(xt,c).replace(lt,Ft),Kr=Hr.slice(on+1);try{Kr=Ve.iri?it.toUnicode(Kr):it.toASCII(Y(Kr,Ve).toLowerCase())}catch(On){vt.error=vt.error||"Email address's domain name can not be converted to "+(Ve.iri?"Unicode":"ASCII")+" via punycode: "+On}Et[ur]=Pn+"@"+Kr}vt.path=Et.join(",")}var An=Se.headers=Se.headers||{};Se.subject&&(An.subject=Se.subject),Se.body&&(An.body=Se.body);var ri=[];for(var $r in An)An[$r]!==dr[$r]&&ri.push($r.replace(xt,nt).replace(xt,c).replace(Oe,Ft)+"="+An[$r].replace(xt,nt).replace(xt,c).replace(Pe,Ft));return ri.length&&(vt.query=ri.join("&")),vt}},bt=/^([^\:]+)\:(.*)/,gt={scheme:"urn",parse:function(Se,Ve){var vt=Se.path&&Se.path.match(bt),Et=Se;if(vt){var ur=Ve.scheme||Et.scheme||"urn",hr=vt[1].toLowerCase(),Hr=vt[2],on=ur+":"+(Ve.nid||hr),Pn=mt[on];Et.nid=hr,Et.nss=Hr,Et.path=void 0,Pn&&(Et=Pn.parse(Et,Ve))}else Et.error=Et.error||"URN can not be parsed.";return Et},serialize:function(Se,Ve){var vt=Ve.scheme||Se.scheme||"urn",Et=Se.nid,ur=vt+":"+(Ve.nid||Et),hr=mt[ur];hr&&(Se=hr.serialize(Se,Ve));var Hr=Se,on=Se.nss;return Hr.path=(Et||Ve.nid)+":"+on,Hr}},rt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ht={scheme:"urn:uuid",parse:function(Se,Ve){var vt=Se;return vt.uuid=vt.nss,vt.nss=void 0,!Ve.tolerant&&(!vt.uuid||!vt.uuid.match(rt))&&(vt.error=vt.error||"UUID is not valid."),vt},serialize:function(Se,Ve){var vt=Se;return vt.nss=(Se.uuid||"").toLowerCase(),vt}};mt[ye.scheme]=ye,mt[Ge.scheme]=Ge,mt[ct.scheme]=ct,mt[or.scheme]=or,mt[yt.scheme]=yt,mt[gt.scheme]=gt,mt[ht.scheme]=ht,r.SCHEMES=mt,r.pctEncChar=Ft,r.pctDecChars=Dt,r.parse=Lr,r.removeDotSegments=en,r.serialize=kt,r.resolveComponents=ze,r.resolve=Xe,r.normalize=ft,r.equal=Q,r.escapeComponent=G,r.unescapeComponent=Y,Object.defineProperty(r,"__esModule",{value:!0})})})(PF,PF.exports);var RF=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var i,n,s;if(Array.isArray(t)){if(i=t.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),i=s.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=i;n--!==0;){var c=s[n];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r},Sze=function(t){for(var r=0,i=t.length,n=0,s;n<i;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<i&&(s=t.charCodeAt(n),(s&64512)==56320&&n++);return r},P_={copy:Cze,checkDataType:NF,checkDataTypes:Aze,coerceToTypes:wze,toHash:MF,getProperty:LF,escapeQuotes:BF,equal:RF,ucs2length:Sze,varOccurences:Dze,varReplace:Oze,schemaHasRules:kze,schemaHasRulesExcept:Pze,schemaUnknownRules:Rze,toQuotedString:FF,getPathExpr:Nze,getPath:Mze,getData:Fze,unescapeFragment:Uze,unescapeJsonPointer:HF,escapeFragment:Hze,escapeJsonPointer:UF};function Cze(e,t){t=t||{};for(var r in e)t[r]=e[r];return t}function NF(e,t,r,i){var n=i?" !== ":" === ",s=i?" || ":" && ",c=i?"!":"",h=i?"":"!";switch(e){case"null":return t+n+"null";case"array":return c+"Array.isArray("+t+")";case"object":return"("+c+t+s+"typeof "+t+n+'"object"'+s+h+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+s+h+"("+t+" % 1)"+s+t+n+t+(r?s+c+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+n+'"'+e+'"'+(r?s+c+"isFinite("+t+")":"")+")";default:return"typeof "+t+n+'"'+e+'"'}}function Aze(e,t,r){switch(e.length){case 1:return NF(e[0],t,r,!0);default:var i="",n=MF(e);n.array&&n.object&&(i=n.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer;for(var s in n)i+=(i?" && ":"")+NF(s,t,r,!0);return i}}var Dne=MF(["string","number","integer","boolean","null"]);function wze(e,t){if(Array.isArray(t)){for(var r=[],i=0;i<t.length;i++){var n=t[i];(Dne[n]||e==="array"&&n==="array")&&(r[r.length]=n)}if(r.length)return r}else{if(Dne[t])return[t];if(e==="array"&&t==="array")return["array"]}}function MF(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var xze=/^[a-z$_][a-z$_0-9]*$/i,Ize=/'|\\/g;function LF(e){return typeof e=="number"?"["+e+"]":xze.test(e)?"."+e:"['"+BF(e)+"']"}function BF(e){return e.replace(Ize,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Dze(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0}function Oze(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")}function kze(e,t){if(typeof e=="boolean")return!e;for(var r in e)if(t[r])return!0}function Pze(e,t,r){if(typeof e=="boolean")return!e&&r!="not";for(var i in e)if(i!=r&&t[i])return!0}function Rze(e,t){if(typeof e!="boolean"){for(var r in e)if(!t[r])return r}}function FF(e){return"'"+BF(e)+"'"}function Nze(e,t,r,i){var n=r?"'/' + "+t+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return One(e,n)}function Mze(e,t,r){var i=FF(r?"/"+UF(t):LF(t));return One(e,i)}var Lze=/^\/(?:[^~]|~0|~1)*$/,Bze=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Fze(e,t,r){var i,n,s,c;if(e==="")return"rootData";if(e[0]=="/"){if(!Lze.test(e))throw new Error("Invalid JSON-pointer: "+e);n=e,s="rootData"}else{if(c=e.match(Bze),!c)throw new Error("Invalid JSON-pointer: "+e);if(i=+c[1],n=c[2],n=="#"){if(i>=t)throw new Error("Cannot access property/index "+i+" levels up, current level is "+t);return r[t-i]}if(i>t)throw new Error("Cannot access data "+i+" levels up, current level is "+t);if(s="data"+(t-i||""),!n)return s}for(var h=s,p=n.split("/"),m=0;m<p.length;m++){var d=p[m];d&&(s+=LF(HF(d)),h+=" && "+s)}return h}function One(e,t){return e=='""'?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function Uze(e){return HF(decodeURIComponent(e))}function Hze(e){return encodeURIComponent(UF(e))}function UF(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function HF(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var $ze=P_,kne=Gze;function Gze(e){$ze.copy(e,this)}var Pne={exports:{}},Hp=Pne.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};kk(t,i,n,e,"",e)};Hp.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},Hp.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Hp.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Hp.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function kk(e,t,r,i,n,s,c,h,p,m){if(i&&typeof i=="object"&&!Array.isArray(i)){t(i,n,s,c,h,p,m);for(var d in i){var E=i[d];if(Array.isArray(E)){if(d in Hp.arrayKeywords)for(var _=0;_<E.length;_++)kk(e,t,r,E[_],n+"/"+d+"/"+_,s,n,d,i,_)}else if(d in Hp.propsKeywords){if(E&&typeof E=="object")for(var T in E)kk(e,t,r,E[T],n+"/"+d+"/"+zze(T),s,n,d,i,T)}else(d in Hp.keywords||e.allKeys&&!(d in Hp.skipKeywords))&&kk(e,t,r,E,n+"/"+d,s,n,d,i)}r(i,n,s,c,h,p,m)}}function zze(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var LC=PF.exports,Rne=RF,Pk=P_,Rk=kne,jze=Pne.exports,$F=$p;$p.normalizeId=Gp,$p.fullPath=Mk,$p.url=Lk,$p.ids=qze,$p.inlineRef=GF,$p.schema=Nk;function $p(e,t,r){var i=this._refs[r];if(typeof i=="string")if(this._refs[i])i=this._refs[i];else return $p.call(this,e,t,i);if(i=i||this._schemas[r],i instanceof Rk)return GF(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var n=Nk.call(this,t,r),s,c,h;return n&&(s=n.schema,t=n.root,h=n.baseId),s instanceof Rk?c=s.validate||e.call(this,s.schema,t,void 0,h):s!==void 0&&(c=GF(s,this._opts.inlineRefs)?s:e.call(this,s,t,void 0,h)),c}function Nk(e,t){var r=LC.parse(t),i=Mne(r),n=Mk(this._getId(e.schema));if(Object.keys(e.schema).length===0||i!==n){var s=Gp(i),c=this._refs[s];if(typeof c=="string")return Vze.call(this,e,c,r);if(c instanceof Rk)c.validate||this._compile(c),e=c;else if(c=this._schemas[s],c instanceof Rk){if(c.validate||this._compile(c),s==Gp(t))return{schema:c,root:e,baseId:n};e=c}else return;if(!e.schema)return;n=Mk(this._getId(e.schema))}return Nne.call(this,r,n,e.schema,e)}function Vze(e,t,r){var i=Nk.call(this,e,t);if(i){var n=i.schema,s=i.baseId;e=i.root;var c=this._getId(n);return c&&(s=Lk(s,c)),Nne.call(this,r,s,n,e)}}var Wze=Pk.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Nne(e,t,r,i){if(e.fragment=e.fragment||"",e.fragment.slice(0,1)=="/"){for(var n=e.fragment.split("/"),s=1;s<n.length;s++){var c=n[s];if(c){if(c=Pk.unescapeFragment(c),r=r[c],r===void 0)break;var h;if(!Wze[c]&&(h=this._getId(r),h&&(t=Lk(t,h)),r.$ref)){var p=Lk(t,r.$ref),m=Nk.call(this,i,p);m&&(r=m.schema,i=m.root,t=m.baseId)}}}if(r!==void 0&&r!==i.schema)return{schema:r,root:i,baseId:t}}}var Yze=Pk.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function GF(e,t){if(t===!1)return!1;if(t===void 0||t===!0)return zF(e);if(t)return jF(e)<=t}function zF(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],typeof t=="object"&&!zF(t))return!1}else for(var i in e)if(i=="$ref"||(t=e[i],typeof t=="object"&&!zF(t)))return!1;return!0}function jF(e){var t=0,r;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(r=e[i],typeof r=="object"&&(t+=jF(r)),t==1/0)return 1/0}else for(var n in e){if(n=="$ref")return 1/0;if(Yze[n])t++;else if(r=e[n],typeof r=="object"&&(t+=jF(r)+1),t==1/0)return 1/0}return t}function Mk(e,t){t!==!1&&(e=Gp(e));var r=LC.parse(e);return Mne(r)}function Mne(e){return LC.serialize(e).split("#")[0]+"#"}var Xze=/#\/?$/;function Gp(e){return e?e.replace(Xze,""):""}function Lk(e,t){return t=Gp(t),LC.resolve(e,t)}function qze(e){var t=Gp(this._getId(e)),r={"":t},i={"":Mk(t,!1)},n={},s=this;return jze(e,{allKeys:!0},function(c,h,p,m,d,E,_){if(h!==""){var T=s._getId(c),C=r[m],A=i[m]+"/"+d;if(_!==void 0&&(A+="/"+(typeof _=="number"?_:Pk.escapeFragment(_))),typeof T=="string"){T=C=Gp(C?LC.resolve(C,T):T);var D=s._refs[T];if(typeof D=="string"&&(D=s._refs[D]),D&&D.schema){if(!Rne(c,D.schema))throw new Error('id "'+T+'" resolves to more than one schema')}else if(T!=Gp(A))if(T[0]=="#"){if(n[T]&&!Rne(c,n[T]))throw new Error('id "'+T+'" resolves to more than one schema');n[T]=c}else s._refs[T]=A}r[h]=C,i[h]=A}}),n}var VF=$F,WF={Validation:Lne(Kze),MissingRef:Lne(YF)};function Kze(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}YF.message=function(e,t){return"can't resolve reference "+t+" from id "+e};function YF(e,t,r){this.message=r||YF.message(e,t),this.missingRef=VF.url(e,t),this.missingSchema=VF.normalizeId(VF.fullPath(this.missingRef))}function Lne(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Bne=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=typeof t.cycles=="boolean"?t.cycles:!1,i=t.cmp&&(function(s){return function(c){return function(h,p){var m={key:h,value:c[h]},d={key:p,value:c[p]};return s(m,d)}}})(t.cmp),n=[];return(function s(c){if(c&&c.toJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),c!==void 0){if(typeof c=="number")return isFinite(c)?""+c:"null";if(typeof c!="object")return JSON.stringify(c);var h,p;if(Array.isArray(c)){for(p="[",h=0;h<c.length;h++)h&&(p+=","),p+=s(c[h])||"null";return p+"]"}if(c===null)return"null";if(n.indexOf(c)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var m=n.push(c)-1,d=Object.keys(c).sort(i&&i(c));for(p="",h=0;h<d.length;h++){var E=d[h],_=s(c[E]);_&&(p&&(p+=","),p+=JSON.stringify(E)+":"+_)}return n.splice(m,1),"{"+p+"}"}})(e)},Fne=function(t,r,i){var n="",s=t.schema.$async===!0,c=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),h=t.self._getId(t.schema);if(t.opts.strictKeywords){var p=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(p){var m="unknown keyword: "+p;if(t.opts.strictKeywords==="log")t.logger.warn(m);else throw new Error(m)}}if(t.isTop&&(n+=" var validate = ",s&&(t.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",h&&(t.opts.sourceCode||t.opts.processCode)&&(n+=" "+("/*# sourceURL="+h+" */")+" ")),typeof t.schema=="boolean"||!(c||t.schema.$ref)){var r="false schema",d=t.level,E=t.dataLevel,_=t.schema[r],T=t.schemaPath+t.util.getProperty(r),C=t.errSchemaPath+"/"+r,$=!t.opts.allErrors,K,A="data"+(E||""),R="valid"+d;if(t.schema===!1){t.isTop?$=!0:n+=" var "+R+" = false; ";var D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(K||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(C)+" , params: {} ",t.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+A+" "),n+=" } "):n+=" {} ";var O=n;n=D.pop(),!t.compositeRule&&$?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?s?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+R+" = true; ";return t.isTop&&(n+=" }; return validate; "),n}if(t.isTop){var B=t.isTop,d=t.level=0,E=t.dataLevel=0,A="data";if(t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],t.schema.default!==void 0&&t.opts.useDefaults&&t.opts.strictDefaults){var P="default is ignored in the schema root";if(t.opts.strictDefaults==="log")t.logger.warn(P);else throw new Error(P)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var d=t.level,E=t.dataLevel,A="data"+(E||"");if(h&&(t.baseId=t.resolve.url(t.baseId,h)),s&&!t.async)throw new Error("async schema in sync schema");n+=" var errs_"+d+" = errors;"}var R="valid"+d,$=!t.opts.allErrors,W="",Z="",K,ae=t.schema.type,le=Array.isArray(ae);if(ae&&t.opts.nullable&&t.schema.nullable===!0&&(le?ae.indexOf("null")==-1&&(ae=ae.concat("null")):ae!="null"&&(ae=[ae,"null"],le=!0)),le&&ae.length==1&&(ae=ae[0],le=!1),t.schema.$ref&&c){if(t.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');t.opts.extendRefs!==!0&&(c=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(n+=" "+t.RULES.all.$comment.code(t,"$comment")),ae){if(t.opts.coerceTypes)var J=t.util.coerceToTypes(t.opts.coerceTypes,ae);var ge=t.RULES.types[ae];if(J||le||ge===!0||ge&&!nn(ge)){var T=t.schemaPath+".type",C=t.errSchemaPath+"/type",T=t.schemaPath+".type",C=t.errSchemaPath+"/type",Ee=le?"checkDataTypes":"checkDataType";if(n+=" if ("+t.util[Ee](ae,A,t.opts.strictNumbers,!0)+") { ",J){var ne="dataType"+d,ve="coerced"+d;n+=" var "+ne+" = typeof "+A+"; var "+ve+" = undefined; ",t.opts.coerceTypes=="array"&&(n+=" if ("+ne+" == 'object' && Array.isArray("+A+") && "+A+".length == 1) { "+A+" = "+A+"[0]; "+ne+" = typeof "+A+"; if ("+t.util.checkDataType(t.schema.type,A,t.opts.strictNumbers)+") "+ve+" = "+A+"; } "),n+=" if ("+ve+" !== undefined) ; ";var Me=J;if(Me)for(var je,Qe=-1,tt=Me.length-1;Qe<tt;)je=Me[Qe+=1],je=="string"?n+=" else if ("+ne+" == 'number' || "+ne+" == 'boolean') "+ve+" = '' + "+A+"; else if ("+A+" === null) "+ve+" = ''; ":je=="number"||je=="integer"?(n+=" else if ("+ne+" == 'boolean' || "+A+" === null || ("+ne+" == 'string' && "+A+" && "+A+" == +"+A+" ",je=="integer"&&(n+=" && !("+A+" % 1)"),n+=")) "+ve+" = +"+A+"; "):je=="boolean"?n+=" else if ("+A+" === 'false' || "+A+" === 0 || "+A+" === null) "+ve+" = false; else if ("+A+" === 'true' || "+A+" === 1) "+ve+" = true; ":je=="null"?n+=" else if ("+A+" === '' || "+A+" === 0 || "+A+" === false) "+ve+" = null; ":t.opts.coerceTypes=="array"&&je=="array"&&(n+=" else if ("+ne+" == 'string' || "+ne+" == 'number' || "+ne+" == 'boolean' || "+A+" == null) "+ve+" = ["+A+"]; ");n+=" else {   ";var D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(K||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(C)+" , params: { type: '",le?n+=""+ae.join(","):n+=""+ae,n+="' } ",t.opts.messages!==!1&&(n+=" , message: 'should be ",le?n+=""+ae.join(","):n+=""+ae,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+T+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+A+" "),n+=" } "):n+=" {} ";var O=n;n=D.pop(),!t.compositeRule&&$?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+ve+" !== undefined) {  ";var st=E?"data"+(E-1||""):"parentData",Ct=E?t.dataPathArr[E]:"parentDataProperty";n+=" "+A+" = "+ve+"; ",E||(n+="if ("+st+" !== undefined)"),n+=" "+st+"["+Ct+"] = "+ve+"; } "}else{var D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(K||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(C)+" , params: { type: '",le?n+=""+ae.join(","):n+=""+ae,n+="' } ",t.opts.messages!==!1&&(n+=" , message: 'should be ",le?n+=""+ae.join(","):n+=""+ae,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+T+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+A+" "),n+=" } "):n+=" {} ";var O=n;n=D.pop(),!t.compositeRule&&$?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(t.schema.$ref&&!c)n+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",$&&(n+=" } if (errors === ",B?n+="0":n+="errs_"+d,n+=") { ",Z+="}");else{var Be=t.RULES;if(Be){for(var ge,Ae=-1,Ne=Be.length-1;Ae<Ne;)if(ge=Be[Ae+=1],nn(ge)){if(ge.type&&(n+=" if ("+t.util.checkDataType(ge.type,A,t.opts.strictNumbers)+") { "),t.opts.useDefaults){if(ge.type=="object"&&t.schema.properties){var _=t.schema.properties,Ue=Object.keys(_),it=Ue;if(it)for(var mt,Ft=-1,Dt=it.length-1;Ft<Dt;){mt=it[Ft+=1];var $t=_[mt];if($t.default!==void 0){var cr=A+t.util.getProperty(mt);if(t.compositeRule){if(t.opts.strictDefaults){var P="default is ignored for: "+cr;if(t.opts.strictDefaults==="log")t.logger.warn(P);else throw new Error(P)}}else n+=" if ("+cr+" === undefined ",t.opts.useDefaults=="empty"&&(n+=" || "+cr+" === null || "+cr+" === '' "),n+=" ) "+cr+" = ",t.opts.useDefaults=="shared"?n+=" "+t.useDefault($t.default)+" ":n+=" "+JSON.stringify($t.default)+" ",n+="; "}}}else if(ge.type=="array"&&Array.isArray(t.schema.items)){var Ut=t.schema.items;if(Ut){for(var $t,Qe=-1,mr=Ut.length-1;Qe<mr;)if($t=Ut[Qe+=1],$t.default!==void 0){var cr=A+"["+Qe+"]";if(t.compositeRule){if(t.opts.strictDefaults){var P="default is ignored for: "+cr;if(t.opts.strictDefaults==="log")t.logger.warn(P);else throw new Error(P)}}else n+=" if ("+cr+" === undefined ",t.opts.useDefaults=="empty"&&(n+=" || "+cr+" === null || "+cr+" === '' "),n+=" ) "+cr+" = ",t.opts.useDefaults=="shared"?n+=" "+t.useDefault($t.default)+" ":n+=" "+JSON.stringify($t.default)+" ",n+="; "}}}}var fr=ge.rules;if(fr){for(var Jr,Lr=-1,gr=fr.length-1;Lr<gr;)if(Jr=fr[Lr+=1],Dn(Jr)){var sn=Jr.code(t,Jr.keyword,ge.type);sn&&(n+=" "+sn+" ",$&&(W+="}"))}}if($&&(n+=" "+W+" ",W=""),ge.type&&(n+=" } ",ae&&ae===ge.type&&!J)){n+=" else { ";var T=t.schemaPath+".type",C=t.errSchemaPath+"/type",D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(K||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(C)+" , params: { type: '",le?n+=""+ae.join(","):n+=""+ae,n+="' } ",t.opts.messages!==!1&&(n+=" , message: 'should be ",le?n+=""+ae.join(","):n+=""+ae,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+T+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+A+" "),n+=" } "):n+=" {} ";var O=n;n=D.pop(),!t.compositeRule&&$?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}$&&(n+=" if (errors === ",B?n+="0":n+="errs_"+d,n+=") { ",Z+="}")}}}$&&(n+=" "+Z+" "),B?(s?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+R+" = errors === errs_"+d+";";function nn(en){for(var kt=en.rules,ze=0;ze<kt.length;ze++)if(Dn(kt[ze]))return!0}function Dn(en){return t.schema[en.keyword]!==void 0||en.implements&&ta(en)}function ta(en){for(var kt=en.implements,ze=0;ze<kt.length;ze++)if(t.schema[kt[ze]]!==void 0)return!0}return n},Bk=$F,Fk=P_,Une=WF,Zze=Bne,Hne=Fne,Qze=Fk.ucs2length,Jze=RF,eje=Une.Validation,tje=XF;function XF(e,t,r,i){var n=this,s=this._opts,c=[void 0],h={},p=[],m={},d=[],E={},_=[];t=t||{schema:e,refVal:c,refs:h};var T=rje.call(this,e,t,i),C=this._compilations[T.index];if(T.compiling)return C.callValidate=P;var A=this._formats,D=this.RULES;try{var O=R(e,t,r,i);C.validate=O;var B=C.callValidate;return B&&(B.schema=O.schema,B.errors=null,B.refs=O.refs,B.refVal=O.refVal,B.root=O.root,B.$async=O.$async,s.sourceCode&&(B.source=O.source)),O}finally{nje.call(this,e,t,i)}function P(){var Ee=C.validate,ne=Ee.apply(this,arguments);return P.errors=Ee.errors,ne}function R(Ee,ne,ve,Me){var je=!ne||ne&&ne.schema==Ee;if(ne.schema!=t.schema)return XF.call(n,Ee,ne,ve,Me);var Qe=Ee.$async===!0,tt=Hne({isTop:!0,schema:Ee,isRoot:je,baseId:Me,root:ne,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Une.MissingRef,RULES:D,validate:Hne,util:Fk,resolve:Bk,resolveRef:$,usePattern:le,useDefault:J,useCustomRule:ge,opts:s,formats:A,logger:n.logger,self:n});tt=Uk(c,oje)+Uk(p,ije)+Uk(d,aje)+Uk(_,sje)+tt,s.processCode&&(tt=s.processCode(tt,Ee));var st;try{var Ct=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",tt);st=Ct(n,D,A,t,c,d,_,Jze,Qze,eje),c[0]=st}catch(Be){throw n.logger.error("Error compiling schema, function code:",tt),Be}return st.schema=Ee,st.errors=null,st.refs=h,st.refVal=c,st.root=je?st:ne,Qe&&(st.$async=!0),s.sourceCode===!0&&(st.source={code:tt,patterns:p,defaults:d}),st}function $(Ee,ne,ve){ne=Bk.url(Ee,ne);var Me=h[ne],je,Qe;if(Me!==void 0)return je=c[Me],Qe="refVal["+Me+"]",ae(je,Qe);if(!ve&&t.refs){var tt=t.refs[ne];if(tt!==void 0)return je=t.refVal[tt],Qe=W(ne,je),ae(je,Qe)}Qe=W(ne);var st=Bk.call(n,R,t,ne);if(st===void 0){var Ct=r&&r[ne];Ct&&(st=Bk.inlineRef(Ct,s.inlineRefs)?Ct:XF.call(n,Ct,t,r,Ee))}if(st===void 0)Z(ne);else return K(ne,st),ae(st,Qe)}function W(Ee,ne){var ve=c.length;return c[ve]=ne,h[Ee]=ve,"refVal"+ve}function Z(Ee){delete h[Ee]}function K(Ee,ne){var ve=h[Ee];c[ve]=ne}function ae(Ee,ne){return typeof Ee=="object"||typeof Ee=="boolean"?{code:ne,schema:Ee,inline:!0}:{code:ne,$async:Ee&&!!Ee.$async}}function le(Ee){var ne=m[Ee];return ne===void 0&&(ne=m[Ee]=p.length,p[ne]=Ee),"pattern"+ne}function J(Ee){switch(typeof Ee){case"boolean":case"number":return""+Ee;case"string":return Fk.toQuotedString(Ee);case"object":if(Ee===null)return"null";var ne=Zze(Ee),ve=E[ne];return ve===void 0&&(ve=E[ne]=d.length,d[ve]=Ee),"default"+ve}}function ge(Ee,ne,ve,Me){if(n._opts.validateSchema!==!1){var je=Ee.definition.dependencies;if(je&&!je.every(function(it){return Object.prototype.hasOwnProperty.call(ve,it)}))throw new Error("parent schema must have all required keywords: "+je.join(","));var Qe=Ee.definition.validateSchema;if(Qe){var tt=Qe(ne);if(!tt){var st="keyword schema is invalid: "+n.errorsText(Qe.errors);if(n._opts.validateSchema=="log")n.logger.error(st);else throw new Error(st)}}}var Ct=Ee.definition.compile,Be=Ee.definition.inline,Ae=Ee.definition.macro,Ne;if(Ct)Ne=Ct.call(n,ne,ve,Me);else if(Ae)Ne=Ae.call(n,ne,ve,Me),s.validateSchema!==!1&&n.validateSchema(Ne,!0);else if(Be)Ne=Be.call(n,Me,Ee.keyword,ne,ve);else if(Ne=Ee.definition.validate,!Ne)return;if(Ne===void 0)throw new Error('custom keyword "'+Ee.keyword+'"failed to compile');var Ue=_.length;return _[Ue]=Ne,{code:"customRule"+Ue,validate:Ne}}}function rje(e,t,r){var i=$ne.call(this,e,t,r);return i>=0?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:e,root:t,baseId:r},{index:i,compiling:!1})}function nje(e,t,r){var i=$ne.call(this,e,t,r);i>=0&&this._compilations.splice(i,1)}function $ne(e,t,r){for(var i=0;i<this._compilations.length;i++){var n=this._compilations[i];if(n.schema==e&&n.root==t&&n.baseId==r)return i}return-1}function ije(e,t){return"var pattern"+e+" = new RegExp("+Fk.toQuotedString(t[e])+");"}function aje(e){return"var default"+e+" = defaults["+e+"];"}function oje(e,t){return t[e]===void 0?"":"var refVal"+e+" = refVal["+e+"];"}function sje(e){return"var customRule"+e+" = customRules["+e+"];"}function Uk(e,t){if(!e.length)return"";for(var r="",i=0;i<e.length;i++)r+=t(i,e);return r}var Gne={exports:{}},Hk=Gne.exports=function(){this._cache={}};Hk.prototype.put=function(t,r){this._cache[t]=r},Hk.prototype.get=function(t){return this._cache[t]},Hk.prototype.del=function(t){delete this._cache[t]},Hk.prototype.clear=function(){this._cache={}};var lje=P_,uje=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,cje=[0,31,28,31,30,31,30,31,31,30,31,30,31],hje=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,zne=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,fje=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,dje=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,jne=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Vne=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Wne=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Yne=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Xne=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,qne=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,pje=$k;function $k(e){return e=e=="full"?"full":"fast",lje.copy($k[e])}$k.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":jne,url:Vne,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:zne,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Qne,uuid:Wne,"json-pointer":Yne,"json-pointer-uri-fragment":Xne,"relative-json-pointer":qne},$k.full={date:Kne,time:Zne,"date-time":vje,uri:_je,"uri-reference":dje,"uri-template":jne,url:Vne,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:zne,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Qne,uuid:Wne,"json-pointer":Yne,"json-pointer-uri-fragment":Xne,"relative-json-pointer":qne};function mje(e){return e%4===0&&(e%100!==0||e%400===0)}function Kne(e){var t=e.match(uje);if(!t)return!1;var r=+t[1],i=+t[2],n=+t[3];return i>=1&&i<=12&&n>=1&&n<=(i==2&&mje(r)?29:cje[i])}function Zne(e,t){var r=e.match(hje);if(!r)return!1;var i=r[1],n=r[2],s=r[3],c=r[5];return(i<=23&&n<=59&&s<=59||i==23&&n==59&&s==60)&&(!t||c)}var gje=/t|\s/i;function vje(e){var t=e.split(gje);return t.length==2&&Kne(t[0])&&Zne(t[1],!0)}var yje=/\/|:/;function _je(e){return yje.test(e)&&fje.test(e)}var Eje=/[^\\]\\Z/;function Qne(e){if(Eje.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}var Tje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.errSchemaPath+"/"+r,m=!t.opts.allErrors,d="data"+(c||""),E="valid"+s,_,T;if(h=="#"||h=="#/")t.isRoot?(_=t.async,T="validate"):(_=t.root.schema.$async===!0,T="root.refVal[0]");else{var C=t.resolveRef(t.baseId,h,t.isRoot);if(C===void 0){var A=t.MissingRefError.message(t.baseId,h);if(t.opts.missingRefs=="fail"){t.logger.error(A);var D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: { ref: '"+t.util.escapeQuotes(h)+"' } ",t.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(h)+"' "),t.opts.verbose&&(n+=" , schema: "+t.util.toQuotedString(h)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var O=n;n=D.pop(),!t.compositeRule&&m?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(n+=" if (false) { ")}else if(t.opts.missingRefs=="ignore")t.logger.warn(A),m&&(n+=" if (true) { ");else throw new t.MissingRefError(t.baseId,h,A)}else if(C.inline){var B=t.util.copy(t);B.level++;var P="valid"+B.level;B.schema=C.schema,B.schemaPath="",B.errSchemaPath=h;var R=t.validate(B).replace(/validate\.schema/g,C.code);n+=" "+R+" ",m&&(n+=" if ("+P+") { ")}else _=C.$async===!0||t.async&&C.$async!==!1,T=C.code}if(T){var D=D||[];D.push(n),n="",t.opts.passContext?n+=" "+T+".call(this, ":n+=" "+T+"( ",n+=" "+d+", (dataPath || '')",t.errorPath!='""'&&(n+=" + "+t.errorPath);var $=c?"data"+(c-1||""):"parentData",W=c?t.dataPathArr[c]:"parentDataProperty";n+=" , "+$+" , "+W+", rootData)  ";var Z=n;if(n=D.pop(),_){if(!t.async)throw new Error("async schema referenced by sync schema");m&&(n+=" var "+E+"; "),n+=" try { await "+Z+"; ",m&&(n+=" "+E+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",m&&(n+=" "+E+" = false; "),n+=" } ",m&&(n+=" if ("+E+") { ")}else n+=" if (!"+Z+") { if (vErrors === null) vErrors = "+T+".errors; else vErrors = vErrors.concat("+T+".errors); errors = vErrors.length; } ",m&&(n+=" else { ")}return n},bje=function(t,r,i){var n=" ",s=t.schema[r],c=t.schemaPath+t.util.getProperty(r),h=t.errSchemaPath+"/"+r,p=!t.opts.allErrors,m=t.util.copy(t),d="";m.level++;var E="valid"+m.level,_=m.baseId,T=!0,C=s;if(C)for(var A,D=-1,O=C.length-1;D<O;)A=C[D+=1],(t.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:t.util.schemaHasRules(A,t.RULES.all))&&(T=!1,m.schema=A,m.schemaPath=c+"["+D+"]",m.errSchemaPath=h+"/"+D,n+="  "+t.validate(m)+" ",m.baseId=_,p&&(n+=" if ("+E+") { ",d+="}"));return p&&(T?n+=" if (true) { ":n+=" "+d.slice(0,-1)+" "),n},Sje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T="errs__"+s,C=t.util.copy(t),A="";C.level++;var D="valid"+C.level,O=h.every(function(K){return t.opts.strictKeywords?typeof K=="object"&&Object.keys(K).length>0||K===!1:t.util.schemaHasRules(K,t.RULES.all)});if(O){var B=C.baseId;n+=" var "+T+" = errors; var "+_+" = false;  ";var P=t.compositeRule;t.compositeRule=C.compositeRule=!0;var R=h;if(R)for(var $,W=-1,Z=R.length-1;W<Z;)$=R[W+=1],C.schema=$,C.schemaPath=p+"["+W+"]",C.errSchemaPath=m+"/"+W,n+="  "+t.validate(C)+" ",C.baseId=B,n+=" "+_+" = "+_+" || "+D+"; if (!"+_+") { ",A+="}";t.compositeRule=C.compositeRule=P,n+=" "+A+" if (!"+_+") {   var err =   ",t.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: {} ",t.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&d&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+T+"; if (vErrors !== null) { if ("+T+") vErrors.length = "+T+"; else vErrors = null; } ",t.opts.allErrors&&(n+=" } ")}else d&&(n+=" if (true) { ");return n},Cje=function(t,r,i){var n=" ",s=t.schema[r],c=t.errSchemaPath+"/"+r;t.opts.allErrors;var h=t.util.toQuotedString(s);return t.opts.$comment===!0?n+=" console.log("+h+");":typeof t.opts.$comment=="function"&&(n+=" self._opts.$comment("+h+", "+t.util.toQuotedString(c)+", validate.root.schema);"),n},Aje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T=t.opts.$data&&h&&h.$data;T&&(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; "),T||(n+=" var schema"+s+" = validate.schema"+p+";"),n+="var "+_+" = equal("+E+", schema"+s+"); if (!"+_+") {   ";var C=C||[];C.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { allowedValue: schema"+s+" } ",t.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var A=n;return n=C.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",d&&(n+=" else { "),n},wje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T="errs__"+s,C=t.util.copy(t),A="";C.level++;var D="valid"+C.level,O="i"+s,B=C.dataLevel=t.dataLevel+1,P="data"+B,R=t.baseId,$=t.opts.strictKeywords?typeof h=="object"&&Object.keys(h).length>0||h===!1:t.util.schemaHasRules(h,t.RULES.all);if(n+="var "+T+" = errors;var "+_+";",$){var W=t.compositeRule;t.compositeRule=C.compositeRule=!0,C.schema=h,C.schemaPath=p,C.errSchemaPath=m,n+=" var "+D+" = false; for (var "+O+" = 0; "+O+" < "+E+".length; "+O+"++) { ",C.errorPath=t.util.getPathExpr(t.errorPath,O,t.opts.jsonPointers,!0);var Z=E+"["+O+"]";C.dataPathArr[B]=O;var K=t.validate(C);C.baseId=R,t.util.varOccurences(K,P)<2?n+=" "+t.util.varReplace(K,P,Z)+" ":n+=" var "+P+" = "+Z+"; "+K+" ",n+=" if ("+D+") break; }  ",t.compositeRule=C.compositeRule=W,n+=" "+A+" if (!"+D+") {"}else n+=" if ("+E+".length == 0) {";var ae=ae||[];ae.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: {} ",t.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var le=n;return n=ae.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+le+"]); ":n+=" validate.errors = ["+le+"]; return false; ":n+=" var err = "+le+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",$&&(n+="  errors = "+T+"; if (vErrors !== null) { if ("+T+") vErrors.length = "+T+"; else vErrors = null; } "),t.opts.allErrors&&(n+=" } "),n},xje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="errs__"+s,T=t.util.copy(t),C="";T.level++;var A="valid"+T.level,D={},O={},B=t.opts.ownProperties;for(W in h)if(W!="__proto__"){var P=h[W],R=Array.isArray(P)?O:D;R[W]=P}n+="var "+_+" = errors;";var $=t.errorPath;n+="var missing"+s+";";for(var W in O)if(R=O[W],R.length){if(n+=" if ( "+E+t.util.getProperty(W)+" !== undefined ",B&&(n+=" && Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(W)+"') "),d){n+=" && ( ";var Z=R;if(Z)for(var K,ae=-1,le=Z.length-1;ae<le;){K=Z[ae+=1],ae&&(n+=" || ");var J=t.util.getProperty(K),ge=E+J;n+=" ( ( "+ge+" === undefined ",B&&(n+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(K)+"') "),n+=") && (missing"+s+" = "+t.util.toQuotedString(t.opts.jsonPointers?K:J)+") ) "}n+=")) {  ";var Ee="missing"+s,ne="' + "+Ee+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr($,Ee,!0):$+" + "+Ee);var ve=ve||[];ve.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { property: '"+t.util.escapeQuotes(W)+"', missingProperty: '"+ne+"', depsCount: "+R.length+", deps: '"+t.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",t.opts.messages!==!1&&(n+=" , message: 'should have ",R.length==1?n+="property "+t.util.escapeQuotes(R[0]):n+="properties "+t.util.escapeQuotes(R.join(", ")),n+=" when property "+t.util.escapeQuotes(W)+" is present' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var Me=n;n=ve.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+Me+"]); ":n+=" validate.errors = ["+Me+"]; return false; ":n+=" var err = "+Me+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var je=R;if(je)for(var K,Qe=-1,tt=je.length-1;Qe<tt;){K=je[Qe+=1];var J=t.util.getProperty(K),ne=t.util.escapeQuotes(K),ge=E+J;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath($,K,t.opts.jsonPointers)),n+=" if ( "+ge+" === undefined ",B&&(n+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(K)+"') "),n+=") {  var err =   ",t.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { property: '"+t.util.escapeQuotes(W)+"', missingProperty: '"+ne+"', depsCount: "+R.length+", deps: '"+t.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",t.opts.messages!==!1&&(n+=" , message: 'should have ",R.length==1?n+="property "+t.util.escapeQuotes(R[0]):n+="properties "+t.util.escapeQuotes(R.join(", ")),n+=" when property "+t.util.escapeQuotes(W)+" is present' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",d&&(C+="}",n+=" else { ")}t.errorPath=$;var st=T.baseId;for(var W in D){var P=D[W];(t.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:t.util.schemaHasRules(P,t.RULES.all))&&(n+=" "+A+" = true; if ( "+E+t.util.getProperty(W)+" !== undefined ",B&&(n+=" && Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(W)+"') "),n+=") { ",T.schema=P,T.schemaPath=p+t.util.getProperty(W),T.errSchemaPath=m+"/"+t.util.escapeFragment(W),n+="  "+t.validate(T)+" ",T.baseId=st,n+=" }  ",d&&(n+=" if ("+A+") { ",C+="}"))}return d&&(n+="   "+C+" if ("+_+" == errors) {"),n},Ije=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T=t.opts.$data&&h&&h.$data;T&&(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ");var C="i"+s,A="schema"+s;T||(n+=" var "+A+" = validate.schema"+p+";"),n+="var "+_+";",T&&(n+=" if (schema"+s+" === undefined) "+_+" = true; else if (!Array.isArray(schema"+s+")) "+_+" = false; else {"),n+=""+_+" = false;for (var "+C+"=0; "+C+"<"+A+".length; "+C+"++) if (equal("+E+", "+A+"["+C+"])) { "+_+" = true; break; }",T&&(n+="  }  "),n+=" if (!"+_+") {   ";var D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { allowedValues: schema"+s+" } ",t.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var O=n;return n=D.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",d&&(n+=" else { "),n},Dje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||"");if(t.opts.format===!1)return d&&(n+=" if (true) { "),n;var _=t.opts.$data&&h&&h.$data,T;_?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",T="schema"+s):T=h;var C=t.opts.unknownFormats,A=Array.isArray(C);if(_){var D="format"+s,O="isObject"+s,B="formatType"+s;n+=" var "+D+" = formats["+T+"]; var "+O+" = typeof "+D+" == 'object' && !("+D+" instanceof RegExp) && "+D+".validate; var "+B+" = "+O+" && "+D+".type || 'string'; if ("+O+") { ",t.async&&(n+=" var async"+s+" = "+D+".async; "),n+=" "+D+" = "+D+".validate; } if (  ",_&&(n+=" ("+T+" !== undefined && typeof "+T+" != 'string') || "),n+=" (",C!="ignore"&&(n+=" ("+T+" && !"+D+" ",A&&(n+=" && self._opts.unknownFormats.indexOf("+T+") == -1 "),n+=") || "),n+=" ("+D+" && "+B+" == '"+i+"' && !(typeof "+D+" == 'function' ? ",t.async?n+=" (async"+s+" ? await "+D+"("+E+") : "+D+"("+E+")) ":n+=" "+D+"("+E+") ",n+=" : "+D+".test("+E+"))))) {"}else{var D=t.formats[h];if(!D){if(C=="ignore")return t.logger.warn('unknown format "'+h+'" ignored in schema at path "'+t.errSchemaPath+'"'),d&&(n+=" if (true) { "),n;if(A&&C.indexOf(h)>=0)return d&&(n+=" if (true) { "),n;throw new Error('unknown format "'+h+'" is used in schema at path "'+t.errSchemaPath+'"')}var O=typeof D=="object"&&!(D instanceof RegExp)&&D.validate,B=O&&D.type||"string";if(O){var P=D.async===!0;D=D.validate}if(B!=i)return d&&(n+=" if (true) { "),n;if(P){if(!t.async)throw new Error("async format in sync schema");var R="formats"+t.util.getProperty(h)+".validate";n+=" if (!(await "+R+"("+E+"))) { "}else{n+=" if (! ";var R="formats"+t.util.getProperty(h);O&&(R+=".validate"),typeof D=="function"?n+=" "+R+"("+E+") ":n+=" "+R+".test("+E+") ",n+=") { "}}var $=$||[];$.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { format:  ",_?n+=""+T:n+=""+t.util.toQuotedString(h),n+="  } ",t.opts.messages!==!1&&(n+=` , message: 'should match format "`,_?n+="' + "+T+" + '":n+=""+t.util.escapeQuotes(h),n+=`"' `),t.opts.verbose&&(n+=" , schema:  ",_?n+="validate.schema"+p:n+=""+t.util.toQuotedString(h),n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var W=n;return n=$.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+W+"]); ":n+=" validate.errors = ["+W+"]; return false; ":n+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",d&&(n+=" else { "),n},Oje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T="errs__"+s,C=t.util.copy(t);C.level++;var A="valid"+C.level,D=t.schema.then,O=t.schema.else,B=D!==void 0&&(t.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:t.util.schemaHasRules(D,t.RULES.all)),P=O!==void 0&&(t.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:t.util.schemaHasRules(O,t.RULES.all)),R=C.baseId;if(B||P){var $;C.createErrors=!1,C.schema=h,C.schemaPath=p,C.errSchemaPath=m,n+=" var "+T+" = errors; var "+_+" = true;  ";var W=t.compositeRule;t.compositeRule=C.compositeRule=!0,n+="  "+t.validate(C)+" ",C.baseId=R,C.createErrors=!0,n+="  errors = "+T+"; if (vErrors !== null) { if ("+T+") vErrors.length = "+T+"; else vErrors = null; }  ",t.compositeRule=C.compositeRule=W,B?(n+=" if ("+A+") {  ",C.schema=t.schema.then,C.schemaPath=t.schemaPath+".then",C.errSchemaPath=t.errSchemaPath+"/then",n+="  "+t.validate(C)+" ",C.baseId=R,n+=" "+_+" = "+A+"; ",B&&P?($="ifClause"+s,n+=" var "+$+" = 'then'; "):$="'then'",n+=" } ",P&&(n+=" else { ")):n+=" if (!"+A+") { ",P&&(C.schema=t.schema.else,C.schemaPath=t.schemaPath+".else",C.errSchemaPath=t.errSchemaPath+"/else",n+="  "+t.validate(C)+" ",C.baseId=R,n+=" "+_+" = "+A+"; ",B&&P?($="ifClause"+s,n+=" var "+$+" = 'else'; "):$="'else'",n+=" } "),n+=" if (!"+_+") {   var err =   ",t.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { failingKeyword: "+$+" } ",t.opts.messages!==!1&&(n+=` , message: 'should match "' + `+$+` + '" schema' `),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&d&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",d&&(n+=" else { ")}else d&&(n+=" if (true) { ");return n},kje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T="errs__"+s,C=t.util.copy(t),A="";C.level++;var D="valid"+C.level,O="i"+s,B=C.dataLevel=t.dataLevel+1,P="data"+B,R=t.baseId;if(n+="var "+T+" = errors;var "+_+";",Array.isArray(h)){var $=t.schema.additionalItems;if($===!1){n+=" "+_+" = "+E+".length <= "+h.length+"; ";var W=m;m=t.errSchemaPath+"/additionalItems",n+="  if (!"+_+") {   ";var Z=Z||[];Z.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { limit: "+h.length+" } ",t.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+h.length+" items' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var K=n;n=Z.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+K+"]); ":n+=" validate.errors = ["+K+"]; return false; ":n+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",m=W,d&&(A+="}",n+=" else { ")}var ae=h;if(ae){for(var le,J=-1,ge=ae.length-1;J<ge;)if(le=ae[J+=1],t.opts.strictKeywords?typeof le=="object"&&Object.keys(le).length>0||le===!1:t.util.schemaHasRules(le,t.RULES.all)){n+=" "+D+" = true; if ("+E+".length > "+J+") { ";var Ee=E+"["+J+"]";C.schema=le,C.schemaPath=p+"["+J+"]",C.errSchemaPath=m+"/"+J,C.errorPath=t.util.getPathExpr(t.errorPath,J,t.opts.jsonPointers,!0),C.dataPathArr[B]=J;var ne=t.validate(C);C.baseId=R,t.util.varOccurences(ne,P)<2?n+=" "+t.util.varReplace(ne,P,Ee)+" ":n+=" var "+P+" = "+Ee+"; "+ne+" ",n+=" }  ",d&&(n+=" if ("+D+") { ",A+="}")}}if(typeof $=="object"&&(t.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:t.util.schemaHasRules($,t.RULES.all))){C.schema=$,C.schemaPath=t.schemaPath+".additionalItems",C.errSchemaPath=t.errSchemaPath+"/additionalItems",n+=" "+D+" = true; if ("+E+".length > "+h.length+") {  for (var "+O+" = "+h.length+"; "+O+" < "+E+".length; "+O+"++) { ",C.errorPath=t.util.getPathExpr(t.errorPath,O,t.opts.jsonPointers,!0);var Ee=E+"["+O+"]";C.dataPathArr[B]=O;var ne=t.validate(C);C.baseId=R,t.util.varOccurences(ne,P)<2?n+=" "+t.util.varReplace(ne,P,Ee)+" ":n+=" var "+P+" = "+Ee+"; "+ne+" ",d&&(n+=" if (!"+D+") break; "),n+=" } }  ",d&&(n+=" if ("+D+") { ",A+="}")}}else if(t.opts.strictKeywords?typeof h=="object"&&Object.keys(h).length>0||h===!1:t.util.schemaHasRules(h,t.RULES.all)){C.schema=h,C.schemaPath=p,C.errSchemaPath=m,n+="  for (var "+O+" = 0; "+O+" < "+E+".length; "+O+"++) { ",C.errorPath=t.util.getPathExpr(t.errorPath,O,t.opts.jsonPointers,!0);var Ee=E+"["+O+"]";C.dataPathArr[B]=O;var ne=t.validate(C);C.baseId=R,t.util.varOccurences(ne,P)<2?n+=" "+t.util.varReplace(ne,P,Ee)+" ":n+=" var "+P+" = "+Ee+"; "+ne+" ",d&&(n+=" if (!"+D+") break; "),n+=" }"}return d&&(n+=" "+A+" if ("+T+" == errors) {"),n},Jne=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,R,E="data"+(c||""),_=t.opts.$data&&h&&h.$data,T;_?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",T="schema"+s):T=h;var C=r=="maximum",A=C?"exclusiveMaximum":"exclusiveMinimum",D=t.schema[A],O=t.opts.$data&&D&&D.$data,B=C?"<":">",P=C?">":"<",R=void 0;if(!(_||typeof h=="number"||h===void 0))throw new Error(r+" must be number");if(!(O||D===void 0||typeof D=="number"||typeof D=="boolean"))throw new Error(A+" must be number or boolean");if(O){var $=t.util.getData(D.$data,c,t.dataPathArr),W="exclusive"+s,Z="exclType"+s,K="exclIsNumber"+s,ae="op"+s,le="' + "+ae+" + '";n+=" var schemaExcl"+s+" = "+$+"; ",$="schemaExcl"+s,n+=" var "+W+"; var "+Z+" = typeof "+$+"; if ("+Z+" != 'boolean' && "+Z+" != 'undefined' && "+Z+" != 'number') { ";var R=A,J=J||[];J.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(R||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: {} ",t.opts.messages!==!1&&(n+=" , message: '"+A+" should be boolean' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var ge=n;n=J.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+ge+"]); ":n+=" validate.errors = ["+ge+"]; return false; ":n+=" var err = "+ge+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",_&&(n+=" ("+T+" !== undefined && typeof "+T+" != 'number') || "),n+=" "+Z+" == 'number' ? ( ("+W+" = "+T+" === undefined || "+$+" "+B+"= "+T+") ? "+E+" "+P+"= "+$+" : "+E+" "+P+" "+T+" ) : ( ("+W+" = "+$+" === true) ? "+E+" "+P+"= "+T+" : "+E+" "+P+" "+T+" ) || "+E+" !== "+E+") { var op"+s+" = "+W+" ? '"+B+"' : '"+B+"='; ",h===void 0&&(R=A,m=t.errSchemaPath+"/"+A,T=$,_=O)}else{var K=typeof D=="number",le=B;if(K&&_){var ae="'"+le+"'";n+=" if ( ",_&&(n+=" ("+T+" !== undefined && typeof "+T+" != 'number') || "),n+=" ( "+T+" === undefined || "+D+" "+B+"= "+T+" ? "+E+" "+P+"= "+D+" : "+E+" "+P+" "+T+" ) || "+E+" !== "+E+") { "}else{K&&h===void 0?(W=!0,R=A,m=t.errSchemaPath+"/"+A,T=D,P+="="):(K&&(T=Math[C?"min":"max"](D,h)),D===(K?T:!0)?(W=!0,R=A,m=t.errSchemaPath+"/"+A,P+="="):(W=!1,le+="="));var ae="'"+le+"'";n+=" if ( ",_&&(n+=" ("+T+" !== undefined && typeof "+T+" != 'number') || "),n+=" "+E+" "+P+" "+T+" || "+E+" !== "+E+") { "}}R=R||r;var J=J||[];J.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(R||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { comparison: "+ae+", limit: "+T+", exclusive: "+W+" } ",t.opts.messages!==!1&&(n+=" , message: 'should be "+le+" ",_?n+="' + "+T:n+=""+T+"'"),t.opts.verbose&&(n+=" , schema:  ",_?n+="validate.schema"+p:n+=""+h,n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var ge=n;return n=J.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+ge+"]); ":n+=" validate.errors = ["+ge+"]; return false; ":n+=" var err = "+ge+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",d&&(n+=" else { "),n},eie=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,A,E="data"+(c||""),_=t.opts.$data&&h&&h.$data,T;if(_?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",T="schema"+s):T=h,!(_||typeof h=="number"))throw new Error(r+" must be number");var C=r=="maxItems"?">":"<";n+="if ( ",_&&(n+=" ("+T+" !== undefined && typeof "+T+" != 'number') || "),n+=" "+E+".length "+C+" "+T+") { ";var A=r,D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(A||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { limit: "+T+" } ",t.opts.messages!==!1&&(n+=" , message: 'should NOT have ",r=="maxItems"?n+="more":n+="fewer",n+=" than ",_?n+="' + "+T+" + '":n+=""+h,n+=" items' "),t.opts.verbose&&(n+=" , schema:  ",_?n+="validate.schema"+p:n+=""+h,n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var O=n;return n=D.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n},tie=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,A,E="data"+(c||""),_=t.opts.$data&&h&&h.$data,T;if(_?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",T="schema"+s):T=h,!(_||typeof h=="number"))throw new Error(r+" must be number");var C=r=="maxLength"?">":"<";n+="if ( ",_&&(n+=" ("+T+" !== undefined && typeof "+T+" != 'number') || "),t.opts.unicode===!1?n+=" "+E+".length ":n+=" ucs2length("+E+") ",n+=" "+C+" "+T+") { ";var A=r,D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(A||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { limit: "+T+" } ",t.opts.messages!==!1&&(n+=" , message: 'should NOT be ",r=="maxLength"?n+="longer":n+="shorter",n+=" than ",_?n+="' + "+T+" + '":n+=""+h,n+=" characters' "),t.opts.verbose&&(n+=" , schema:  ",_?n+="validate.schema"+p:n+=""+h,n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var O=n;return n=D.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n},rie=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,A,E="data"+(c||""),_=t.opts.$data&&h&&h.$data,T;if(_?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",T="schema"+s):T=h,!(_||typeof h=="number"))throw new Error(r+" must be number");var C=r=="maxProperties"?">":"<";n+="if ( ",_&&(n+=" ("+T+" !== undefined && typeof "+T+" != 'number') || "),n+=" Object.keys("+E+").length "+C+" "+T+") { ";var A=r,D=D||[];D.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(A||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { limit: "+T+" } ",t.opts.messages!==!1&&(n+=" , message: 'should NOT have ",r=="maxProperties"?n+="more":n+="fewer",n+=" than ",_?n+="' + "+T+" + '":n+=""+h,n+=" properties' "),t.opts.verbose&&(n+=" , schema:  ",_?n+="validate.schema"+p:n+=""+h,n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var O=n;return n=D.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n},Pje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_=t.opts.$data&&h&&h.$data,T;if(_?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",T="schema"+s):T=h,!(_||typeof h=="number"))throw new Error(r+" must be number");n+="var division"+s+";if (",_&&(n+=" "+T+" !== undefined && ( typeof "+T+" != 'number' || "),n+=" (division"+s+" = "+E+" / "+T+", ",t.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+t.opts.multipleOfPrecision+" ":n+=" division"+s+" !== parseInt(division"+s+") ",n+=" ) ",_&&(n+="  )  "),n+=" ) {   ";var C=C||[];C.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { multipleOf: "+T+" } ",t.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",_?n+="' + "+T:n+=""+T+"'"),t.opts.verbose&&(n+=" , schema:  ",_?n+="validate.schema"+p:n+=""+h,n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var A=n;return n=C.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n},Rje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="errs__"+s,T=t.util.copy(t);T.level++;var C="valid"+T.level;if(t.opts.strictKeywords?typeof h=="object"&&Object.keys(h).length>0||h===!1:t.util.schemaHasRules(h,t.RULES.all)){T.schema=h,T.schemaPath=p,T.errSchemaPath=m,n+=" var "+_+" = errors;  ";var A=t.compositeRule;t.compositeRule=T.compositeRule=!0,T.createErrors=!1;var D;T.opts.allErrors&&(D=T.opts.allErrors,T.opts.allErrors=!1),n+=" "+t.validate(T)+" ",T.createErrors=!0,D&&(T.opts.allErrors=D),t.compositeRule=T.compositeRule=A,n+=" if ("+C+") {   ";var O=O||[];O.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: {} ",t.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var B=n;n=O.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+_+"; if (vErrors !== null) { if ("+_+") vErrors.length = "+_+"; else vErrors = null; } ",t.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",t.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: {} ",t.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(n+=" if (false) { ");return n},Nje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T="errs__"+s,C=t.util.copy(t),A="";C.level++;var D="valid"+C.level,O=C.baseId,B="prevValid"+s,P="passingSchemas"+s;n+="var "+T+" = errors , "+B+" = false , "+_+" = false , "+P+" = null; ";var R=t.compositeRule;t.compositeRule=C.compositeRule=!0;var $=h;if($)for(var W,Z=-1,K=$.length-1;Z<K;)W=$[Z+=1],(t.opts.strictKeywords?typeof W=="object"&&Object.keys(W).length>0||W===!1:t.util.schemaHasRules(W,t.RULES.all))?(C.schema=W,C.schemaPath=p+"["+Z+"]",C.errSchemaPath=m+"/"+Z,n+="  "+t.validate(C)+" ",C.baseId=O):n+=" var "+D+" = true; ",Z&&(n+=" if ("+D+" && "+B+") { "+_+" = false; "+P+" = ["+P+", "+Z+"]; } else { ",A+="}"),n+=" if ("+D+") { "+_+" = "+B+" = true; "+P+" = "+Z+"; }";return t.compositeRule=C.compositeRule=R,n+=""+A+"if (!"+_+") {   var err =   ",t.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { passingSchemas: "+P+" } ",t.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&d&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+T+"; if (vErrors !== null) { if ("+T+") vErrors.length = "+T+"; else vErrors = null; }",t.opts.allErrors&&(n+=" } "),n},Mje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_=t.opts.$data&&h&&h.$data,T;_?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",T="schema"+s):T=h;var C=_?"(new RegExp("+T+"))":t.usePattern(h);n+="if ( ",_&&(n+=" ("+T+" !== undefined && typeof "+T+" != 'string') || "),n+=" !"+C+".test("+E+") ) {   ";var A=A||[];A.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { pattern:  ",_?n+=""+T:n+=""+t.util.toQuotedString(h),n+="  } ",t.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,_?n+="' + "+T+" + '":n+=""+t.util.escapeQuotes(h),n+=`"' `),t.opts.verbose&&(n+=" , schema:  ",_?n+="validate.schema"+p:n+=""+t.util.toQuotedString(h),n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var D=n;return n=A.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+D+"]); ":n+=" validate.errors = ["+D+"]; return false; ":n+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n},Lje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="errs__"+s,T=t.util.copy(t),C="";T.level++;var A="valid"+T.level,D="key"+s,O="idx"+s,B=T.dataLevel=t.dataLevel+1,P="data"+B,R="dataProperties"+s,$=Object.keys(h||{}).filter(Qe),W=t.schema.patternProperties||{},Z=Object.keys(W).filter(Qe),K=t.schema.additionalProperties,ae=$.length||Z.length,le=K===!1,J=typeof K=="object"&&Object.keys(K).length,ge=t.opts.removeAdditional,Ee=le||J||ge,ne=t.opts.ownProperties,ve=t.baseId,Me=t.schema.required;if(Me&&!(t.opts.$data&&Me.$data)&&Me.length<t.opts.loopRequired)var je=t.util.toHash(Me);function Qe(Q){return Q!=="__proto__"}if(n+="var "+_+" = errors;var "+A+" = true;",ne&&(n+=" var "+R+" = undefined;"),Ee){if(ne?n+=" "+R+" = "+R+" || Object.keys("+E+"); for (var "+O+"=0; "+O+"<"+R+".length; "+O+"++) { var "+D+" = "+R+"["+O+"]; ":n+=" for (var "+D+" in "+E+") { ",ae){if(n+=" var isAdditional"+s+" = !(false ",$.length)if($.length>8)n+=" || validate.schema"+p+".hasOwnProperty("+D+") ";else{var tt=$;if(tt)for(var st,Ct=-1,Be=tt.length-1;Ct<Be;)st=tt[Ct+=1],n+=" || "+D+" == "+t.util.toQuotedString(st)+" "}if(Z.length){var Ae=Z;if(Ae)for(var Ne,Ue=-1,it=Ae.length-1;Ue<it;)Ne=Ae[Ue+=1],n+=" || "+t.usePattern(Ne)+".test("+D+") "}n+=" ); if (isAdditional"+s+") { "}if(ge=="all")n+=" delete "+E+"["+D+"]; ";else{var mt=t.errorPath,Ft="' + "+D+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,D,t.opts.jsonPointers)),le)if(ge)n+=" delete "+E+"["+D+"]; ";else{n+=" "+A+" = false; ";var Dt=m;m=t.errSchemaPath+"/additionalProperties";var $t=$t||[];$t.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { additionalProperty: '"+Ft+"' } ",t.opts.messages!==!1&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var cr=n;n=$t.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+cr+"]); ":n+=" validate.errors = ["+cr+"]; return false; ":n+=" var err = "+cr+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m=Dt,d&&(n+=" break; ")}else if(J)if(ge=="failing"){n+=" var "+_+" = errors;  ";var Ut=t.compositeRule;t.compositeRule=T.compositeRule=!0,T.schema=K,T.schemaPath=t.schemaPath+".additionalProperties",T.errSchemaPath=t.errSchemaPath+"/additionalProperties",T.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,D,t.opts.jsonPointers);var mr=E+"["+D+"]";T.dataPathArr[B]=D;var fr=t.validate(T);T.baseId=ve,t.util.varOccurences(fr,P)<2?n+=" "+t.util.varReplace(fr,P,mr)+" ":n+=" var "+P+" = "+mr+"; "+fr+" ",n+=" if (!"+A+") { errors = "+_+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+E+"["+D+"]; }  ",t.compositeRule=T.compositeRule=Ut}else{T.schema=K,T.schemaPath=t.schemaPath+".additionalProperties",T.errSchemaPath=t.errSchemaPath+"/additionalProperties",T.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,D,t.opts.jsonPointers);var mr=E+"["+D+"]";T.dataPathArr[B]=D;var fr=t.validate(T);T.baseId=ve,t.util.varOccurences(fr,P)<2?n+=" "+t.util.varReplace(fr,P,mr)+" ":n+=" var "+P+" = "+mr+"; "+fr+" ",d&&(n+=" if (!"+A+") break; ")}t.errorPath=mt}ae&&(n+=" } "),n+=" }  ",d&&(n+=" if ("+A+") { ",C+="}")}var Jr=t.opts.useDefaults&&!t.compositeRule;if($.length){var Lr=$;if(Lr)for(var st,gr=-1,sn=Lr.length-1;gr<sn;){st=Lr[gr+=1];var nn=h[st];if(t.opts.strictKeywords?typeof nn=="object"&&Object.keys(nn).length>0||nn===!1:t.util.schemaHasRules(nn,t.RULES.all)){var Dn=t.util.getProperty(st),mr=E+Dn,ta=Jr&&nn.default!==void 0;T.schema=nn,T.schemaPath=p+Dn,T.errSchemaPath=m+"/"+t.util.escapeFragment(st),T.errorPath=t.util.getPath(t.errorPath,st,t.opts.jsonPointers),T.dataPathArr[B]=t.util.toQuotedString(st);var fr=t.validate(T);if(T.baseId=ve,t.util.varOccurences(fr,P)<2){fr=t.util.varReplace(fr,P,mr);var en=mr}else{var en=P;n+=" var "+P+" = "+mr+"; "}if(ta)n+=" "+fr+" ";else{if(je&&je[st]){n+=" if ( "+en+" === undefined ",ne&&(n+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(st)+"') "),n+=") { "+A+" = false; ";var mt=t.errorPath,Dt=m,kt=t.util.escapeQuotes(st);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(mt,st,t.opts.jsonPointers)),m=t.errSchemaPath+"/required";var $t=$t||[];$t.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { missingProperty: '"+kt+"' } ",t.opts.messages!==!1&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+kt+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var cr=n;n=$t.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+cr+"]); ":n+=" validate.errors = ["+cr+"]; return false; ":n+=" var err = "+cr+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m=Dt,t.errorPath=mt,n+=" } else { "}else d?(n+=" if ( "+en+" === undefined ",ne&&(n+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(st)+"') "),n+=") { "+A+" = true; } else { "):(n+=" if ("+en+" !== undefined ",ne&&(n+=" &&   Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(st)+"') "),n+=" ) { ");n+=" "+fr+" } "}}d&&(n+=" if ("+A+") { ",C+="}")}}if(Z.length){var ze=Z;if(ze)for(var Ne,Xe=-1,ft=ze.length-1;Xe<ft;){Ne=ze[Xe+=1];var nn=W[Ne];if(t.opts.strictKeywords?typeof nn=="object"&&Object.keys(nn).length>0||nn===!1:t.util.schemaHasRules(nn,t.RULES.all)){T.schema=nn,T.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(Ne),T.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(Ne),ne?n+=" "+R+" = "+R+" || Object.keys("+E+"); for (var "+O+"=0; "+O+"<"+R+".length; "+O+"++) { var "+D+" = "+R+"["+O+"]; ":n+=" for (var "+D+" in "+E+") { ",n+=" if ("+t.usePattern(Ne)+".test("+D+")) { ",T.errorPath=t.util.getPathExpr(t.errorPath,D,t.opts.jsonPointers);var mr=E+"["+D+"]";T.dataPathArr[B]=D;var fr=t.validate(T);T.baseId=ve,t.util.varOccurences(fr,P)<2?n+=" "+t.util.varReplace(fr,P,mr)+" ":n+=" var "+P+" = "+mr+"; "+fr+" ",d&&(n+=" if (!"+A+") break; "),n+=" } ",d&&(n+=" else "+A+" = true; "),n+=" }  ",d&&(n+=" if ("+A+") { ",C+="}")}}}return d&&(n+=" "+C+" if ("+_+" == errors) {"),n},Bje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="errs__"+s,T=t.util.copy(t),C="";T.level++;var A="valid"+T.level;if(n+="var "+_+" = errors;",t.opts.strictKeywords?typeof h=="object"&&Object.keys(h).length>0||h===!1:t.util.schemaHasRules(h,t.RULES.all)){T.schema=h,T.schemaPath=p,T.errSchemaPath=m;var D="key"+s,O="idx"+s,B="i"+s,P="' + "+D+" + '",R=T.dataLevel=t.dataLevel+1,$="data"+R,W="dataProperties"+s,Z=t.opts.ownProperties,K=t.baseId;Z&&(n+=" var "+W+" = undefined; "),Z?n+=" "+W+" = "+W+" || Object.keys("+E+"); for (var "+O+"=0; "+O+"<"+W+".length; "+O+"++) { var "+D+" = "+W+"["+O+"]; ":n+=" for (var "+D+" in "+E+") { ",n+=" var startErrs"+s+" = errors; ";var ae=D,le=t.compositeRule;t.compositeRule=T.compositeRule=!0;var J=t.validate(T);T.baseId=K,t.util.varOccurences(J,$)<2?n+=" "+t.util.varReplace(J,$,ae)+" ":n+=" var "+$+" = "+ae+"; "+J+" ",t.compositeRule=T.compositeRule=le,n+=" if (!"+A+") { for (var "+B+"=startErrs"+s+"; "+B+"<errors; "+B+"++) { vErrors["+B+"].propertyName = "+D+"; }   var err =   ",t.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { propertyName: '"+P+"' } ",t.opts.messages!==!1&&(n+=" , message: 'property name \\'"+P+"\\' is invalid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&d&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),d&&(n+=" break; "),n+=" } }"}return d&&(n+=" "+C+" if ("+_+" == errors) {"),n},Fje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T=t.opts.$data&&h&&h.$data;T&&(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ");var C="schema"+s;if(!T)if(h.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var A=[],D=h;if(D)for(var O,B=-1,P=D.length-1;B<P;){O=D[B+=1];var R=t.schema.properties[O];R&&(t.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:t.util.schemaHasRules(R,t.RULES.all))||(A[A.length]=O)}}else var A=h;if(T||A.length){var $=t.errorPath,W=T||A.length>=t.opts.loopRequired,Z=t.opts.ownProperties;if(d)if(n+=" var missing"+s+"; ",W){T||(n+=" var "+C+" = validate.schema"+p+"; ");var K="i"+s,ae="schema"+s+"["+K+"]",le="' + "+ae+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr($,ae,t.opts.jsonPointers)),n+=" var "+_+" = true; ",T&&(n+=" if (schema"+s+" === undefined) "+_+" = true; else if (!Array.isArray(schema"+s+")) "+_+" = false; else {"),n+=" for (var "+K+" = 0; "+K+" < "+C+".length; "+K+"++) { "+_+" = "+E+"["+C+"["+K+"]] !== undefined ",Z&&(n+=" &&   Object.prototype.hasOwnProperty.call("+E+", "+C+"["+K+"]) "),n+="; if (!"+_+") break; } ",T&&(n+="  }  "),n+="  if (!"+_+") {   ";var J=J||[];J.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { missingProperty: '"+le+"' } ",t.opts.messages!==!1&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+le+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var ge=n;n=J.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+ge+"]); ":n+=" validate.errors = ["+ge+"]; return false; ":n+=" var err = "+ge+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var Ee=A;if(Ee)for(var ne,K=-1,ve=Ee.length-1;K<ve;){ne=Ee[K+=1],K&&(n+=" || ");var Me=t.util.getProperty(ne),je=E+Me;n+=" ( ( "+je+" === undefined ",Z&&(n+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(ne)+"') "),n+=") && (missing"+s+" = "+t.util.toQuotedString(t.opts.jsonPointers?ne:Me)+") ) "}n+=") {  ";var ae="missing"+s,le="' + "+ae+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr($,ae,!0):$+" + "+ae);var J=J||[];J.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { missingProperty: '"+le+"' } ",t.opts.messages!==!1&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+le+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var ge=n;n=J.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+ge+"]); ":n+=" validate.errors = ["+ge+"]; return false; ":n+=" var err = "+ge+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(W){T||(n+=" var "+C+" = validate.schema"+p+"; ");var K="i"+s,ae="schema"+s+"["+K+"]",le="' + "+ae+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr($,ae,t.opts.jsonPointers)),T&&(n+=" if ("+C+" && !Array.isArray("+C+")) {  var err =   ",t.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { missingProperty: '"+le+"' } ",t.opts.messages!==!1&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+le+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+C+" !== undefined) { "),n+=" for (var "+K+" = 0; "+K+" < "+C+".length; "+K+"++) { if ("+E+"["+C+"["+K+"]] === undefined ",Z&&(n+=" || ! Object.prototype.hasOwnProperty.call("+E+", "+C+"["+K+"]) "),n+=") {  var err =   ",t.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { missingProperty: '"+le+"' } ",t.opts.messages!==!1&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+le+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",T&&(n+="  }  ")}else{var Qe=A;if(Qe)for(var ne,tt=-1,st=Qe.length-1;tt<st;){ne=Qe[tt+=1];var Me=t.util.getProperty(ne),le=t.util.escapeQuotes(ne),je=E+Me;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath($,ne,t.opts.jsonPointers)),n+=" if ( "+je+" === undefined ",Z&&(n+=" || ! Object.prototype.hasOwnProperty.call("+E+", '"+t.util.escapeQuotes(ne)+"') "),n+=") {  var err =   ",t.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { missingProperty: '"+le+"' } ",t.opts.messages!==!1&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+le+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=$}else d&&(n+=" if (true) {");return n},Uje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E="data"+(c||""),_="valid"+s,T=t.opts.$data&&h&&h.$data,C;if(T?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",C="schema"+s):C=h,(h||T)&&t.opts.uniqueItems!==!1){T&&(n+=" var "+_+"; if ("+C+" === false || "+C+" === undefined) "+_+" = true; else if (typeof "+C+" != 'boolean') "+_+" = false; else { "),n+=" var i = "+E+".length , "+_+" = true , j; if (i > 1) { ";var A=t.schema.items&&t.schema.items.type,D=Array.isArray(A);if(!A||A=="object"||A=="array"||D&&(A.indexOf("object")>=0||A.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+E+"[i], "+E+"[j])) { "+_+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+E+"[i]; ";var O="checkDataType"+(D?"s":"");n+=" if ("+t.util[O](A,"item",t.opts.strictNumbers,!0)+") continue; ",D&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+_+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",T&&(n+="  }  "),n+=" if (!"+_+") {   ";var B=B||[];B.push(n),n="",t.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { i: i, j: j } ",t.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(n+=" , schema:  ",T?n+="validate.schema"+p:n+=""+h,n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+E+" "),n+=" } "):n+=" {} ";var P=n;n=B.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+P+"]); ":n+=" validate.errors = ["+P+"]; return false; ":n+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",d&&(n+=" else { ")}else d&&(n+=" if (true) { ");return n},Hje={$ref:Tje,allOf:bje,anyOf:Sje,$comment:Cje,const:Aje,contains:wje,dependencies:xje,enum:Ije,format:Dje,if:Oje,items:kje,maximum:Jne,minimum:Jne,maxItems:eie,minItems:eie,maxLength:tie,minLength:tie,maxProperties:rie,minProperties:rie,multipleOf:Pje,not:Rje,oneOf:Nje,pattern:Mje,properties:Lje,propertyNames:Bje,required:Fje,uniqueItems:Uje,validate:Fne},nie=Hje,qF=P_.toHash,$je=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],i=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],n=["number","integer","string","array","object","boolean","null"];return t.all=qF(r),t.types=qF(n),t.forEach(function(s){s.rules=s.rules.map(function(c){var h;if(typeof c=="object"){var p=Object.keys(c)[0];h=c[p],c=p,h.forEach(function(d){r.push(d),t.all[d]=!0})}r.push(c);var m=t.all[c]={keyword:c,code:nie[c],implements:h};return m}),t.all.$comment={keyword:"$comment",code:nie.$comment},s.type&&(t.types[s.type]=s)}),t.keywords=qF(r.concat(i)),t.custom={},t},iie=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],Gje=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i=t[r].split("/"),n=e,s;for(s=1;s<i.length;s++)n=n[i[s]];for(s=0;s<iie.length;s++){var c=iie[s],h=n[c];h&&(n[c]={anyOf:[h,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},zje=WF.MissingRef,jje=aie;function aie(e,t,r){var i=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof t=="function"&&(r=t,t=void 0);var n=s(e).then(function(){var h=i._addSchema(e,void 0,t);return h.validate||c(h)});return r&&n.then(function(h){r(null,h)},r),n;function s(h){var p=h.$schema;return p&&!i.getSchema(p)?aie.call(i,{$ref:p},!0):Promise.resolve()}function c(h){try{return i._compile(h)}catch(m){if(m instanceof zje)return p(m);throw m}function p(m){var d=m.missingSchema;if(T(d))throw new Error("Schema "+d+" is loaded but "+m.missingRef+" cannot be resolved");var E=i._loadingSchemas[d];return E||(E=i._loadingSchemas[d]=i._opts.loadSchema(d),E.then(_,_)),E.then(function(C){if(!T(d))return s(C).then(function(){T(d)||i.addSchema(C,d,void 0,t)})}).then(function(){return c(h)});function _(){delete i._loadingSchemas[d]}function T(C){return i._refs[C]||i._schemas[C]}}}}var Vje=function(t,r,i){var n=" ",s=t.level,c=t.dataLevel,h=t.schema[r],p=t.schemaPath+t.util.getProperty(r),m=t.errSchemaPath+"/"+r,d=!t.opts.allErrors,E,_="data"+(c||""),T="valid"+s,C="errs__"+s,A=t.opts.$data&&h&&h.$data,D;A?(n+=" var schema"+s+" = "+t.util.getData(h.$data,c,t.dataPathArr)+"; ",D="schema"+s):D=h;var O=this,B="definition"+s,P=O.definition,R="",$,W,Z,K,ae;if(A&&P.$data){ae="keywordValidate"+s;var le=P.validateSchema;n+=" var "+B+" = RULES.custom['"+r+"'].definition; var "+ae+" = "+B+".validate;"}else{if(K=t.useCustomRule(O,h,t.schema,t),!K)return;D="validate.schema"+p,ae=K.code,$=P.compile,W=P.inline,Z=P.macro}var J=ae+".errors",ge="i"+s,Ee="ruleErr"+s,ne=P.async;if(ne&&!t.async)throw new Error("async keyword in sync schema");if(W||Z||(n+=""+J+" = null;"),n+="var "+C+" = errors;var "+T+";",A&&P.$data&&(R+="}",n+=" if ("+D+" === undefined) { "+T+" = true; } else { ",le&&(R+="}",n+=" "+T+" = "+B+".validateSchema("+D+"); if ("+T+") { ")),W)P.statements?n+=" "+K.validate+" ":n+=" "+T+" = "+K.validate+"; ";else if(Z){var ve=t.util.copy(t),R="";ve.level++;var Me="valid"+ve.level;ve.schema=K.validate,ve.schemaPath="";var je=t.compositeRule;t.compositeRule=ve.compositeRule=!0;var Qe=t.validate(ve).replace(/validate\.schema/g,ae);t.compositeRule=ve.compositeRule=je,n+=" "+Qe}else{var tt=tt||[];tt.push(n),n="",n+="  "+ae+".call( ",t.opts.passContext?n+="this":n+="self",$||P.schema===!1?n+=" , "+_+" ":n+=" , "+D+" , "+_+" , validate.schema"+t.schemaPath+" ",n+=" , (dataPath || '')",t.errorPath!='""'&&(n+=" + "+t.errorPath);var st=c?"data"+(c-1||""):"parentData",Ct=c?t.dataPathArr[c]:"parentDataProperty";n+=" , "+st+" , "+Ct+" , rootData )  ";var Be=n;n=tt.pop(),P.errors===!1?(n+=" "+T+" = ",ne&&(n+="await "),n+=""+Be+"; "):ne?(J="customErrors"+s,n+=" var "+J+" = null; try { "+T+" = await "+Be+"; } catch (e) { "+T+" = false; if (e instanceof ValidationError) "+J+" = e.errors; else throw e; } "):n+=" "+J+" = null; "+T+" = "+Be+"; "}if(P.modifying&&(n+=" if ("+st+") "+_+" = "+st+"["+Ct+"];"),n+=""+R,P.valid)d&&(n+=" if (true) { ");else{n+=" if ( ",P.valid===void 0?(n+=" !",Z?n+=""+Me:n+=""+T):n+=" "+!P.valid+" ",n+=") { ",E=O.keyword;var tt=tt||[];tt.push(n),n="";var tt=tt||[];tt.push(n),n="",t.createErrors!==!1?(n+=" { keyword: '"+(E||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { keyword: '"+O.keyword+"' } ",t.opts.messages!==!1&&(n+=` , message: 'should pass "`+O.keyword+`" keyword validation' `),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var Ae=n;n=tt.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+Ae+"]); ":n+=" validate.errors = ["+Ae+"]; return false; ":n+=" var err = "+Ae+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Ne=n;n=tt.pop(),W?P.errors?P.errors!="full"&&(n+="  for (var "+ge+"="+C+"; "+ge+"<errors; "+ge+"++) { var "+Ee+" = vErrors["+ge+"]; if ("+Ee+".dataPath === undefined) "+Ee+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+Ee+".schemaPath === undefined) { "+Ee+'.schemaPath = "'+m+'"; } ',t.opts.verbose&&(n+=" "+Ee+".schema = "+D+"; "+Ee+".data = "+_+"; "),n+=" } "):P.errors===!1?n+=" "+Ne+" ":(n+=" if ("+C+" == errors) { "+Ne+" } else {  for (var "+ge+"="+C+"; "+ge+"<errors; "+ge+"++) { var "+Ee+" = vErrors["+ge+"]; if ("+Ee+".dataPath === undefined) "+Ee+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+Ee+".schemaPath === undefined) { "+Ee+'.schemaPath = "'+m+'"; } ',t.opts.verbose&&(n+=" "+Ee+".schema = "+D+"; "+Ee+".data = "+_+"; "),n+=" } } "):Z?(n+="   var err =   ",t.createErrors!==!1?(n+=" { keyword: '"+(E||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(m)+" , params: { keyword: '"+O.keyword+"' } ",t.opts.messages!==!1&&(n+=` , message: 'should pass "`+O.keyword+`" keyword validation' `),t.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&d&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):P.errors===!1?n+=" "+Ne+" ":(n+=" if (Array.isArray("+J+")) { if (vErrors === null) vErrors = "+J+"; else vErrors = vErrors.concat("+J+"); errors = vErrors.length;  for (var "+ge+"="+C+"; "+ge+"<errors; "+ge+"++) { var "+Ee+" = vErrors["+ge+"]; if ("+Ee+".dataPath === undefined) "+Ee+".dataPath = (dataPath || '') + "+t.errorPath+";  "+Ee+'.schemaPath = "'+m+'";  ',t.opts.verbose&&(n+=" "+Ee+".schema = "+D+"; "+Ee+".data = "+_+"; "),n+=" } } else { "+Ne+" } "),n+=" } ",d&&(n+=" else { ")}return n};const oie={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};var sie=oie,Wje={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:sie.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:sie.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Yje=/^[a-z_$][a-z0-9_$-]*$/i,Xje=Vje,qje=Wje,Kje={add:Zje,get:Qje,remove:Jje,validate:KF};function Zje(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!Yje.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var i=t.type;if(Array.isArray(i))for(var n=0;n<i.length;n++)c(e,i[n],t);else c(e,i,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}r.keywords[e]=r.all[e]=!0;function c(h,p,m){for(var d,E=0;E<r.length;E++){var _=r[E];if(_.type==p){d=_;break}}d||(d={type:p,rules:[]},r.push(d));var T={keyword:h,definition:m,custom:!0,code:Xje,implements:m.implements};d.rules.push(T),r.custom[h]=T}return this}function Qje(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function Jje(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var i=t[r].rules,n=0;n<i.length;n++)if(i[n].keyword==e){i.splice(n,1);break}return this}function KF(e,t){KF.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(qje,!0);if(r(e))return!0;if(KF.errors=r.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}const eVe={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};var lie=tje,cv=$F,tVe=Gne.exports,uie=kne,rVe=Bne,nVe=pje,iVe=$je,cie=Gje,hie=P_,fie=Ta;Ta.prototype.validate=oVe,Ta.prototype.compile=sVe,Ta.prototype.addSchema=lVe,Ta.prototype.addMetaSchema=uVe,Ta.prototype.validateSchema=cVe,Ta.prototype.getSchema=fVe,Ta.prototype.removeSchema=pVe,Ta.prototype.addFormat=bVe,Ta.prototype.errorsText=TVe,Ta.prototype._addSchema=mVe,Ta.prototype._compile=gVe,Ta.prototype.compileAsync=jje;var Gk=Kje;Ta.prototype.addKeyword=Gk.add,Ta.prototype.getKeyword=Gk.get,Ta.prototype.removeKeyword=Gk.remove,Ta.prototype.validateKeyword=Gk.validate;var die=WF;Ta.ValidationError=die.Validation,Ta.MissingRefError=die.MissingRef,Ta.$dataMetaSchema=cie;var zk="http://json-schema.org/draft-07/schema",pie=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],aVe=["/properties"];function Ta(e){if(!(this instanceof Ta))return new Ta(e);e=this._opts=hie.copy(e)||{},IVe(this),this._schemas={},this._refs={},this._fragments={},this._formats=nVe(e.format),this._cache=e.cache||new tVe,this._loadingSchemas={},this._compilations=[],this.RULES=iVe(),this._getId=vVe(e),e.loopRequired=e.loopRequired||1/0,e.errorDataPath=="property"&&(e._errorDataPathProperty=!0),e.serialize===void 0&&(e.serialize=rVe),this._metaOpts=xVe(this),e.formats&&AVe(this),e.keywords&&wVe(this),SVe(this),typeof e.meta=="object"&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),CVe(this)}function oVe(e,t){var r;if(typeof e=="string"){if(r=this.getSchema(e),!r)throw new Error('no schema with key or ref "'+e+'"')}else{var i=this._addSchema(e);r=i.validate||this._compile(i)}var n=r(t);return r.$async!==!0&&(this.errors=r.errors),n}function sVe(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function lVe(e,t,r,i){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.addSchema(e[n],void 0,r,i);return this}var s=this._getId(e);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return t=cv.normalizeId(t||s),gie(this,t),this._schemas[t]=this._addSchema(e,r,i,!0),this}function uVe(e,t,r){return this.addSchema(e,t,r,!0),this}function cVe(e,t){var r=e.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||hVe(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var i=this.validate(r,e);if(!i&&t){var n="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(n);else throw new Error(n)}return i}function hVe(e){var t=e._opts.meta;return e._opts.defaultMeta=typeof t=="object"?e._getId(t)||t:e.getSchema(zk)?zk:void 0,e._opts.defaultMeta}function fVe(e){var t=mie(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return dVe(this,e)}}function dVe(e,t){var r=cv.schema.call(e,{schema:{}},t);if(r){var i=r.schema,n=r.root,s=r.baseId,c=lie.call(e,i,n,void 0,s);return e._fragments[t]=new uie({ref:t,fragment:!0,schema:i,root:n,baseId:s,validate:c}),c}}function mie(e,t){return t=cv.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function pVe(e){if(e instanceof RegExp)return jk(this,this._schemas,e),jk(this,this._refs,e),this;switch(typeof e){case"undefined":return jk(this,this._schemas),jk(this,this._refs),this._cache.clear(),this;case"string":var t=mie(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,i=r?r(e):e;this._cache.del(i);var n=this._getId(e);n&&(n=cv.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this}function jk(e,t,r){for(var i in t){var n=t[i];!n.meta&&(!r||r.test(i))&&(e._cache.del(n.cacheKey),delete t[i])}}function mVe(e,t,r,i){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var n=this._opts.serialize,s=n?n(e):e,c=this._cache.get(s);if(c)return c;i=i||this._opts.addUsedSchema!==!1;var h=cv.normalizeId(this._getId(e));h&&i&&gie(this,h);var p=this._opts.validateSchema!==!1&&!t,m;p&&!(m=h&&h==cv.normalizeId(e.$schema))&&this.validateSchema(e,!0);var d=cv.ids.call(this,e),E=new uie({id:h,schema:e,localRefs:d,cacheKey:s,meta:r});return h[0]!="#"&&i&&(this._refs[h]=E),this._cache.put(s,E),p&&m&&this.validateSchema(e,!0),E}function gVe(e,t){if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t||n,e.schema.$async===!0&&(n.$async=!0),n;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var i;try{i=lie.call(this,e.schema,t,e.localRefs)}catch(s){throw delete e.validate,s}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function n(){var s=e.validate,c=s.apply(this,arguments);return n.errors=s.errors,c}}function vVe(e){switch(e.schemaId){case"auto":return EVe;case"id":return yVe;default:return _Ve}}function yVe(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function _Ve(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function EVe(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function TVe(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var r=t.separator===void 0?", ":t.separator,i=t.dataVar===void 0?"data":t.dataVar,n="",s=0;s<e.length;s++){var c=e[s];c&&(n+=i+c.dataPath+" "+c.message+r)}return n.slice(0,-r.length)}function bVe(e,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[e]=t,this}function SVe(e){var t;if(e._opts.$data&&(t=eVe,e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var r=oie;e._opts.$data&&(r=cie(r,aVe)),e.addMetaSchema(r,zk,!0),e._refs["http://json-schema.org/schema"]=zk}}function CVe(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function AVe(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function wVe(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}function gie(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function xVe(e){for(var t=hie.copy(e._opts),r=0;r<pie.length;r++)delete t[pie[r]];return t}function IVe(e){var t=e._opts.logger;if(t===!1)e.logger={log:ZF,warn:ZF,error:ZF};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function ZF(){}const QF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/zoomLocks"},locationLocks:{$ref:"#/definitions/locks/locationLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},axisSpecificLocks:{additionalProperties:!1,properties:{axis:{enum:["x","y"],type:"string"},lock:{type:"string"}},required:["lock","axis"],type:"object"},locationLocksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{anyOf:[{type:"string"},{additionalProperties:!1,properties:{x:{$ref:"#/definitions/locks/axisSpecificLocks"},y:{$ref:"#/definitions/locks/axisSpecificLocks"}},type:"object"}]}}},zoomLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},locationLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locationLocksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12},moved:{type:"boolean"},static:{type:"boolean"}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"},transforms:{type:"array"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}},hv={"view-config-editor-header":"_view-config-editor-header_1hlm6_1","view-config-editor":"_view-config-editor_1hlm6_1","view-config-log":"_view-config-log_1hlm6_34","view-config-log-header":"_view-config-log-header_1hlm6_46","view-config-log-msg":"_view-config-log-msg_1hlm6_60",title:"_title_1hlm6_70",Warning:"_Warning_1hlm6_76",Success:"_Success_1hlm6_79",Error:"_Error_1hlm6_82"};let vie=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.state={code:i.viewConfig,hide:!1,showLog:!1,logMsgs:n.getLogMsgs(i.viewConfig)},n.handleChangeBound=n.handleChange.bind(S(n)),n.handleKeyDownBound=n.handleKeyDown.bind(S(n)),n.handleKeyUpBound=n.handleKeyUp.bind(S(n)),n.handleSubmitBound=n.handleSubmit.bind(S(n)),n.hideBound=n.hide.bind(S(n)),n.showBound=n.show.bind(S(n)),n.toggleLogBound=n.toggleLog.bind(S(n)),n.pubSubs=[],n.pubSubs.push(n.props.pubSub.subscribe("keydown",n.handleKeyDownBound)),n.pubSubs.push(n.props.pubSub.subscribe("keyup",n.handleKeyUpBound)),n}return j(r,[{key:"componentDidMount",value:async function(){this.editor&&(this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),await oL(0),this.editorWrap&&(this.editorWrap.scrollTop=0))}},{key:"componentWillUnmount",value:function(){this.pubSubs.forEach(n=>this.props.pubSub.unsubscribe(n)),this.pubSubs=[]}},{key:"handleChange",value:function(n){const s=this.getLogMsgs(n);this.setState({code:n,logMsgs:s})}},{key:"handleKeyDown",value:function(n){n.key==="s"&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),this.props.onChange(this.state.code)),n.key==="Enter"&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}},{key:"handleKeyUp",value:function(n){this.setState({hide:!1}),n.key==="Escape"&&(n.preventDefault(),this.props.modal.close(),this.props.onCancel())}},{key:"handleSubmit",value:function(n){n&&n.preventDefault(),this.props.onSave(this.state.code)}},{key:"getLogMsgs",value:function(n){const s=[];let c;try{c=JSON.parse(n)}catch(m){return console.warn(m),s.push({type:"Error",msg:m.toString()}),s}const h=new fie().compile(QF);return h(c)||(console.warn("Invalid viewconf"),s.push({type:"Warning",msg:"Invalid viewconf"})),h.errors&&(console.warn(JSON.stringify(h.errors,null,2)),h.errors.forEach(m=>{s.push({type:"Warning",msg:JSON.stringify(m,null,2)})})),s.length===0&&s.push({type:"Success",msg:"No error or warnings"}),s}},{key:"hide",value:function(){this.setState({hide:!0})}},{key:"show",value:function(){this.setState({hide:!1})}},{key:"hideLog",value:function(){this.setState({showLog:!1})}},{key:"showLog",value:function(){this.setState({showLog:!0})}},{key:"toggleLog",value:function(){this.state.showLog?this.hideLog():this.showLog()}},{key:"render",value:function(){const n=this.state.logMsgs.map((s,c)=>{const h=`${c}-${s.msg}`;return M.default.createElement("tr",{key:h},M.default.createElement("td",{className:Kn(hv.title,hv[s.type])},`[${c}] ${s.type}`),M.default.createElement("td",null,M.default.createElement("pre",null,s.msg)))});return M.default.createElement(fC,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},M.default.createElement(M.default.Fragment,null,M.default.createElement("header",{className:hv["view-config-editor-header"]},M.default.createElement(Wf,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),M.default.createElement(Wf,{onClick:()=>{this.props.onChange(this.state.code)},shortcut:"+S"},"Save")),M.default.createElement("div",{ref:s=>{this.editorWrap=s},className:hv["view-config-editor"]},M.default.createElement(bze,{ref:s=>{this.editor=s},highlight:s=>kF.exports.highlight(s,kF.exports.languages.json),onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),M.default.createElement("div",{className:hv["view-config-log"],style:{height:this.state.showLog?"50%":"30px"}},M.default.createElement("div",{className:hv["view-config-log-header"],onClick:()=>this.toggleLogBound()},`Log Messages (${this.state.logMsgs.filter(s=>s.type!=="Success").length})`),M.default.createElement("div",{className:hv["view-config-log-msg"],style:{padding:this.state.showLog?"10px":0}},M.default.createElement("table",null,M.default.createElement("tbody",null,n))))))}}]),r})(M.default.Component);vie.propTypes={modal:z.exports.object.isRequired,onCancel:z.exports.func.isRequired,onChange:z.exports.func.isRequired,onSave:z.exports.func.isRequired,pubSub:z.exports.object.isRequired,viewConfig:z.exports.string.isRequired};const DVe=x1(lk(vie));function OVe(e,t,r,i){const n=e.append("symbol").attr("id",t).attr("viewBox",i);r.forEach(s=>n.append("path").attr("d",s).attr("fill","currentColor"))}const kVe=e=>{e.setState(e.state)},PVe=function(t,r){const i=t;let n=[];const s=bx(),c=()=>{n.forEach(h=>r.unsubscribe(h)),n=[]};return{destroy:c,publish:s.publish,stack:s.stack,public:{get version(){return p6},setBroadcastMousePositionGlobally(h=!1){i.setBroadcastMousePositionGlobally(h)},setShowGlobalMousePosition(h=!1){i.setShowGlobalMousePosition(h)},setGlobalMousePosition(h=!1){i.setBroadcastMousePositionGlobally(h),i.setShowGlobalMousePosition(h)},setAuthHeader(h){cb(h),i.reload()},getAuthHeader(){return cb()},getComponent(){return i},reload(h){let p;h?p=h.flatMap(m=>typeof m=="string"?i.iterateOverTracksInView(m):m):p=i.iterateOverTracks();for(const{viewId:m,trackId:d}of p){const E=i.getTrackObject(m,d);for(const _ of E.childTracks||[E])_.fetchedTiles&&(_.removeTiles(Object.keys(_.fetchedTiles)),_.fetching.clear(),_.refreshTiles()),_.rerender(_.options,!0)}},destroy(){c(),ke.default.unmountComponentAtNode(i.topDiv.parentNode)},setRangeSelectionToInt(){i.setState({rangeSelectionToInt:!0})},setRangeSelectionToFloat(){i.setState({rangeSelectionToInt:!1})},setRangeSelection1dSize(h=0,p=1/0){i.setState({rangeSelection1dSize:[h,p]})},setViewConfig(h,p=!1){const m=i.processViewConfig(h);return new Promise(E=>{this.requestsInFlight=0,n.push(r.subscribe("requestSent",()=>{this.requestsInFlight+=1})),n.push(r.subscribe("requestReceived",()=>{this.requestsInFlight-=1,this.requestsInFlight===0&&E()})),i.setState({viewConfig:h,views:m},()=>{p&&E()})})},getViewConfig(){return i.getViewsAsJson()},validateViewConfig(h,{verbose:p=!1}={}){const m=new fie().compile(QF),d=m(h);return p&&m.errors&&console.warn(JSON.stringify(m.errors,null,2)),d},getMinMaxValue(h,p,m=!1,d=!1){return i.getMinMaxValue(h,p,m,d)},shareViewConfigAsLink(h){return i.handleExportViewsAsLink(h,!0)},showAvailableTrackPositions(h){i.setState({draggingHappening:h})},hideAvailableTrackPositions(){i.setState({draggingHappening:null})},showTrackChooser(h){i.setState({chooseTrackHandler:(...p)=>{i.setState({chooseTrackHandler:null}),h(...p)}})},hideTrackChooser(){this.setState({chooseTrackHandler:null})},setTrackValueScaleLimits(h,p,m,d){i.setTrackValueScaleLimits(h,p,m,d)},setDarkTheme(h){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');const p=h?"dark":"light";i.setTheme(p)},setTheme(h){console.warn("Please note that theming is still in beta!"),i.setTheme(h)},zoomTo(h,p,m,d,E,_=0){i.zoomTo(h,p,m,d,E,_)},zoomToGene(h,p,m=0,d=0){i.zoomToGene(h,p,m,d)},suggestGene(h,p,m){return i.suggestGene(h,p,m)},zoomToDataExtent(h){i.handleZoomToData(h)},resetViewport(h){i.resetViewport(h)},activateTool(h){switch(h){case"select":i.setMouseTool(du);break;default:i.setMouseTool(zx);break}},exportAsPngBlobPromise(){return i.createPNGBlobPromise()},exportAsSvg(){return i.createSVGString()},exportAsViewConfString(){return i.getViewsAsString()},getRangeSelection(){return i.rangeSelection},getLocation(h){const p=h?i.xScales[h]&&i.yScales[h]&&h:Object.values(i.tiledPlots)[0]&&Object.values(i.tiledPlots)[0].props.uid;return p?{xDomain:i.xScales[p].domain(),yDomain:i.yScales[p].domain(),xRange:i.xScales[p].range(),yRange:i.yScales[p].range()}:"Please provide a valid view UUID sweetheart "},getTrackObject(h,p){let m=h,d=p;return p||(m=Object.values(i.state.views)[0].uid,d=h),aI(i,m,d)},option(h,p){if(typeof p>"u")return i.props.options[h];switch(h){case"sizeMode":i.props.options[h]=p,kVe(i);break;default:console.warn(`This option "${h}" is either unknown or not settable.`)}},off(h,p,m){const d=typeof p=="object"?p.callback:p;switch(h){case"click":s.unsubscribe("click",d);break;case"cursorLocation":s.unsubscribe("cursorLocation",d);break;case"location":i.offLocationChange(m,p);break;case"mouseMoveZoom":s.unsubscribe("mouseMoveZoom",d);break;case"wheel":s.unsubscribe("wheel",d);break;case"rangeSelection":s.unsubscribe("rangeSelection",d);break;case"viewConfig":i.offViewChange(p);break;case"createSVG":i.offPostCreateSVG();break;case"geneSearch":s.unsubscribe("geneSearch",d);break}},on(h,p,m,d){switch(h){case"click":return s.subscribe("click",p);case"cursorLocation":return s.subscribe("cursorLocation",p);case"location":return i.onLocationChange(m,p,d);case"mouseMoveZoom":return s.subscribe("mouseMoveZoom",p);case"wheel":return s.subscribe("wheel",p);case"rangeSelection":return s.subscribe("rangeSelection",p);case"viewConfig":return i.onViewChange(p);case"createSVG":return i.onPostCreateSVG(p);case"geneSearch":return s.subscribe("geneSearch",p);default:return}}}}},R_={"higlass-canvas":"_higlass-canvas_1uoq8_28","higlass-drawing-surface":"_higlass-drawing-surface_1uoq8_34","higlass-svg":"_higlass-svg_1uoq8_38","tiled-area":"_tiled-area_1uoq8_47","track-mouseover-menu":"_track-mouseover-menu_1uoq8_52"},yie=12,RVe=12,NVe=20,MVe="default",_ie="bounded",Eie="overflow",BC="scroll";let JF=(function(e){f(r,e);var t=g(r);function r(i){var n;H(this,r),n=t.call(this,i),q7(M.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",M.default.version),n.pubSub=bx(),n.domEvent=D7(n.pubSub),n.pubSubs=[],n.minHorizontalHeight=20,n.minVerticalWidth=20,n.resizeSensor=null,n.uid=hn.nice(),n.tiledPlots={},n.genomePositionSearchBoxes={},n.xScales={},n.yScales={},n.projectionXDomains={},n.projectionYDomains={},n.topDiv=null,n.zoomToDataExtentOnInit=new Set,n.viewTrackUidsToCombinedUid={},n.combinedUidToViewTrack={},n.scalesChangedListeners={},n.draggingChangedListeners={},n.valueScalesChangedListeners={},n.zoomLocks={},n.locationLocks={},n.locationLocksAxisWise={x:{},y:{}},n.valueScaleLocks={},n.prevAuthToken=i.options.authToken,n.setCenters={},n.plusImg={},n.configImg={},er.PIXI=i.options&&i.options.PIXI||qe,n.viewMarginTop=+i.options.viewMarginTop>=0?+i.options.viewMarginTop:tb,n.viewMarginBottom=+i.options.viewMarginBottom>=0?+i.options.viewMarginBottom:tb,n.viewMarginLeft=+i.options.viewMarginLeft>=0?+i.options.viewMarginLeft:tb,n.viewMarginRight=+i.options.viewMarginRight>=0?+i.options.viewMarginRight:tb,n.viewPaddingTop=+i.options.viewPaddingTop>=0?+i.options.viewPaddingTop:rb,n.viewPaddingBottom=+i.options.viewPaddingBottom>=0?+i.options.viewPaddingBottom:rb,n.viewPaddingLeft=+i.options.viewPaddingLeft>=0?+i.options.viewPaddingLeft:rb,n.viewPaddingRight=+i.options.viewPaddingRight>=0?+i.options.viewPaddingRight:rb,n.genomePositionSearchBox=null,n.viewHeaders={},n.boundRefreshView=()=>{n.refreshView(nb)},n.unsetOnLocationChange=[],n.setTheme(i.options.theme,i.options.isDarkTheme),n.viewconfLoaded=!1;const{viewConfig:s}=n.props,c=n.loadIfRemoteViewConfig(n.props.viewConfig);i.options.authToken&&cb(i.options.authToken),n.pixiRoot=new er.PIXI.Container,n.pixiRoot.interactive=!0,n.pixiStage=new er.PIXI.Container,n.pixiStage.interactive=!0,n.pixiRoot.addChild(n.pixiStage),n.pixiMask=new er.PIXI.Graphics,n.pixiRoot.addChild(n.pixiMask),n.pixiStage.mask=n.pixiMask,n.element=null,n.scrollTop=0;let h=zx;if(n.props.options)switch(n.props.options.mouseTool){case du:h=du;break}n.props.options.pluginTracks&&(window.higlassTracksByType=Object.assign(window.higlassTracksByType||{},n.props.options.pluginTracks));const p={};try{window.higlassTracksByType&&Object.entries(window.higlassTracksByType).forEach(([A,D])=>{p[A]=D})}catch{console.warn("Broken config of a plugin track")}n.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=Object.assign(window.higlassDataFetchersByType||{},n.props.options.pluginDataFetchers));const m=window.higlassDataFetchersByType,d=n.props.options.pixelPreciseMarginPadding?1:30;n.mounted=!1,n.pluginTracks=p,n.pluginDataFetchers=m,n.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:d,svgElement:null,canvasElement:null,customDialog:null,views:c,viewConfig:s,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:h,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},n.attachedToDOM=!1;const{public:E,destroy:_,publish:T,stack:C}=PVe(S(n),n.pubSub);return n.api=E,n.apiDestroy=_,n.apiPublish=T,n.apiStack=C,n.viewChangeListener=[],n.triggerViewChangeDb=Xx(n.triggerViewChange.bind(S(n)),250),n.pubSubs=[],n.rangeSelection=[null,null],n.prevMouseHoverTrack=null,n.zooming=!1,n.appClickHandlerBound=n.appClickHandler.bind(S(n)),n.canvasClickHandlerBound=n.canvasClickHandler.bind(S(n)),n.keyDownHandlerBound=n.keyDownHandler.bind(S(n)),n.keyUpHandlerBound=n.keyUpHandler.bind(S(n)),n.resizeHandlerBound=n.resizeHandler.bind(S(n)),n.resizeHandlerBound=n.resizeHandler.bind(S(n)),n.dispatchEventBound=n.dispatchEvent.bind(S(n)),n.animateOnMouseMoveHandlerBound=n.animateOnMouseMoveHandler.bind(S(n)),n.zoomStartHandlerBound=n.zoomStartHandler.bind(S(n)),n.zoomEndHandlerBound=n.zoomEndHandler.bind(S(n)),n.zoomHandlerBound=n.zoomHandler.bind(S(n)),n.trackDroppedHandlerBound=n.trackDroppedHandler.bind(S(n)),n.trackDimensionsModifiedHandlerBound=n.trackDimensionsModifiedHandler.bind(S(n)),n.animateBound=n.animate.bind(S(n)),n.animateOnGlobalEventBound=n.animateOnGlobalEvent.bind(S(n)),n.requestReceivedHandlerBound=n.requestReceivedHandler.bind(S(n)),n.wheelHandlerBound=n.wheelHandler.bind(S(n)),n.mouseMoveHandlerBound=n.mouseMoveHandler.bind(S(n)),n.onMouseLeaveHandlerBound=n.onMouseLeaveHandler.bind(S(n)),n.onBlurHandlerBound=n.onBlurHandler.bind(S(n)),n.openModalBound=n.openModal.bind(S(n)),n.closeModalBound=n.closeModal.bind(S(n)),n.handleEditViewConfigBound=n.handleEditViewConfig.bind(S(n)),n.onScrollHandlerBound=n.onScrollHandler.bind(S(n)),n.typedText="",n.typedTextTimeout=null,n.modal={open:n.openModalBound,close:n.closeModalBound},n.setBroadcastMousePositionGlobally(n.props.options.broadcastMousePositionGlobally||n.props.options.globalMousePosition),n.setShowGlobalMousePosition(n.props.options.showGlobalMousePosition||n.props.options.globalMousePosition),n}return j(r,[{key:"UNSAFE_componentWillMount",value:function(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}},{key:"sizeMode",get:function(){return typeof this.props.options.sizeMode>"u"?this.props.options.bounded?"bounded":MVe:this.props.options.sizeMode}},{key:"setBroadcastMousePositionGlobally",value:function(n=!1){this.isBroadcastMousePositionGlobally=n}},{key:"setShowGlobalMousePosition",value:function(n=!1){if(this.isShowGlobalMousePosition=n,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=GT.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){const s=this.pubSubs.findIndex(c=>c===this.globalMousePositionListener);GT.unsubscribe(this.globalMousePositionListener),s>=0&&this.pubSubs.splice(s,1),this.globalMousePositionListener=void 0}}},{key:"zoomStartHandler",value:function(){this.hideHoverMenu(),this.zooming=!0}},{key:"zoomEndHandler",value:function(){this.zooming=!1}},{key:"zoomHandler",value:function(n){n.sourceEvent&&this.mouseMoveHandler(n.sourceEvent)}},{key:"waitForDOMAttachment",value:function(n){if(!this.mounted)return;const s=ke.default.findDOMNode(this);document.body.contains(s)?n():requestAnimationFrame(()=>this.waitForDOMAttachment(n))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.element=ke.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),Object.values(this.state.views).forEach(h=>{this.adjustLayoutToTrackSizes(h),h.layout?h.layout.i=h.uid:h.layout=this.generateViewLayout(h)});const n={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0},s=parseInt(qe.VERSION[0],10);s===4?(console.warn("Deprecation warning: please update Pixi.js to version 5 or above!"),this.props.options.renderer==="canvas"?this.pixiRenderer=new er.PIXI.CanvasRenderer(n):this.pixiRenderer=new er.PIXI.WebGLRenderer(n)):(s<4&&console.warn("Deprecation warning: please update Pixi.js to version 5 or above! This version of Pixi.js is unsupported. Good luck "),this.props.options.renderer==="canvas"?this.pixiRenderer=new er.PIXI.CanvasRenderer(n):this.pixiRenderer=new er.PIXI.Renderer(n)),this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment(()=>{_x.ElementQueries.listen(),this.resizeSensor=new _x.ResizeSensor(this.element.parentNode,this.updateAfterResize.bind(this)),this.updateAfterResize()}),this.handleDragStart(),this.handleDragStop(),this.animate();const c=tn(this.element).append("svg").style("display","none");g0e.forEach(h=>OVe(c,h.id,h.paths,h.viewBox))}},{key:"getTrackObject",value:function(n,s){return this.tiledPlots[n].trackRenderer.getTrackObject(s)}},{key:"getTrackRenderer",value:function(n){return this.tiledPlots[n].trackRenderer}},{key:"loadIfRemoteViewConfig",value:function(n){let s={};return typeof n=="string"?yr.json(n,(c,h)=>{n=h,this.setState({views:this.processViewConfig(JSON.parse(JSON.stringify(h))),viewConfig:h}),this.unsetOnLocationChange.forEach(({viewId:p,callback:m,callbackId:d})=>{this.onLocationChange(p,m,d)})},this.pubSub):(s=this.processViewConfig(JSON.parse(JSON.stringify(n))),this.mounted&&this.setState({viewConfig:n})),s}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){const s=this.loadIfRemoteViewConfig(n.viewConfig);if(n.options.authToken!==this.prevAuthToken){cb(n.options.authToken);for(const c of this.iterateOverViews()){const h=this.getTrackRenderer(c),p=JSON.parse(h.prevTrackDefinitions);h.syncTrackObjects([]),h.syncTrackObjects(p)}this.prevAuthToken=n.options.authToken}for(const c of vi(s))this.adjustLayoutToTrackSizes(c);this.setState({views:s})}},{key:"UNSAFE_componentWillUpdate",value:function(){this.pixiRenderer.render(this.pixiRoot)}},{key:"componentDidUpdate",value:function(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach(n=>this.pubSub.unsubscribe(n)),this.pubSubs=[],this.apiDestroy()}},{key:"setTheme",value:function(n=this.props.options.theme,s=this.props.options.isDarkTheme){if(typeof s<"u")console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=s?"dark":"light";else switch(n){case"dark":this.theme=Oi;break;case"light":case void 0:this.theme=Vx;break;default:console.warn(`Unknown theme "${n}". Using light theme.`),this.theme=Vx;break}}},{key:"dispatchEvent",value:function(n){this.canvasElement&&qx(n,this.canvasElement)}},{key:"trackDroppedHandler",value:function(){this.setState({draggingHappening:null})}},{key:"requestReceivedHandler",value:function(){!this.viewconfLoaded&&ub===0&&(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}},{key:"animateOnMouseMoveHandler",value:function(n){n&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=n}},{key:"fitPixiToParentContainer",value:function(){if(!this.element||!this.element.parentNode){console.warn("No parentNode:",this.element);return}const n=this.element.parentNode.clientWidth,s=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,n,s).endFill(),this.pixiRenderer.resize(n,s),this.pixiRenderer.view.style.width=`${n}px`,this.pixiRenderer.view.style.height=`${s}px`,this.pixiRenderer.render(this.pixiRoot)}},{key:"addDefaultTrackOptions",value:function(n){const s=this.getTrackInfo(n.type);if(!s)return;typeof n.options>"u"&&(n.options={});const c=n.options?n.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[n.type]){const h=this.props.options.defaultTrackOptions.trackSpecific[n.type];for(const p in h)n.options[p]=typeof n.options[p]<"u"?n.options[p]:JSON.parse(JSON.stringify(h[p]))}if(this.props.options.defaultTrackOptions.all){const h=this.props.options.defaultTrackOptions.all;for(const p in h)n.options[p]=typeof n.options[p]<"u"?n.options[p]:JSON.parse(JSON.stringify(h[p]))}}if(s.defaultOptions){const h=s.defaultOptionsByTheme&&s.defaultOptionsByTheme[this.theme]?s.defaultOptionsByTheme[this.theme]:{},p={...s.defaultOptions,...h};if(!n.options)n.options=JSON.parse(JSON.stringify(p));else for(const m in p)n.options[m]=typeof n.options[m]<"u"?n.options[m]:JSON.parse(JSON.stringify(p[m]))}else n.options=c}},{key:"toggleTypedEditable",value:function(){this.setState({typedEditable:!this.isEditable()})}},{key:"typedTextHandler",value:function(n){if(!this.props.options.cheatCodesEnabled)return;this.typedText=this.typedText.concat(n.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText="");const s=750;this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout(()=>{this.typedText=""},s)}},{key:"keyDownHandler",value:function(n){this.typedTextHandler(n),this.props.options.rangeSelectionOnAlt&&n.key==="Alt"&&this.setState({mouseTool:du})}},{key:"keyUpHandler",value:function(n){this.props.options.rangeSelectionOnAlt&&n.key==="Alt"&&this.setState({mouseTool:zx})}},{key:"openModal",value:function(n){this.setState({modal:M.default.cloneElement(n,{ref:s=>{this.modalRef=s}})})}},{key:"closeModal",value:function(){this.modalRef=null,this.setState({modal:null})}},{key:"handleEditViewConfig",value:function(){const{viewConfig:n}=this.state;this.setState({viewConfigTmp:n}),this.openModal(M.default.createElement(DVe,{onCancel:()=>{const{viewConfigTmp:s}=this.state,c=this.processViewConfig(s);for(const h of vi(c))this.adjustLayoutToTrackSizes(h);this.setState({views:c,viewConfig:s,viewConfigTmp:null})},onChange:s=>{const c=JSON.parse(s),h=this.processViewConfig(c);for(const p of vi(h))this.adjustLayoutToTrackSizes(p);this.setState({views:h,viewConfig:c})},onSave:s=>{const c=JSON.parse(s),h=this.processViewConfig(c);for(const p of vi(h))this.adjustLayoutToTrackSizes(p);this.setState({views:h,viewConfig:c,viewConfigTmp:null})},viewConfig:this.getViewsAsString()}))}},{key:"animate",value:function(){this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame(()=>{this.pixiRenderer&&(this.pixiRenderer.render(this.pixiRoot),this.isRequestingAnimationFrame=!1)}))}},{key:"animateOnGlobalEvent",value:function({sourceUid:n}={}){n!==this.uid&&this.animateOnMouseMove&&this.animate()}},{key:"measureSize",value:function(){const[n,s]=M7(this.element);n>0&&s>0&&this.setState({sizeMeasured:!0,width:n,height:s})}},{key:"updateAfterResize",value:function(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(nb),this.resizeHandler()}},{key:"onBreakpointChange",value:function(n){this.setState({currentBreakpoint:n})}},{key:"handleOverlayMouseEnter",value:function(n){this.setState({mouseOverOverlayUid:n})}},{key:"handleOverlayMouseLeave",value:function(){this.setState({mouseOverOverlayUid:null})}},{key:"handleLockLocation",value:function(n){this.setState({chooseViewHandler:s=>this.handleLocationLockChosen(n,s),mouseOverOverlayUid:n})}},{key:"isEditable",value:function(){return this.state.typedEditable!==void 0?this.state.typedEditable:!this.props.options||!("editable"in this.props.options)?this.state.viewConfig.editable:this.props.options.editable&&this.state.viewConfig.editable}},{key:"isTrackMenuDisabled",value:function(){return this.props.options&&(this.props.options.editable===!1||this.props.options.tracksEditable===!1)?!0:this.state.viewConfig&&(this.state.viewConfig.tracksEditable===!1||this.state.viewConfig.editable===!1)}},{key:"isViewHeaderDisabled",value:function(){return this.props.options&&(this.props.options.editable===!1||this.props.options.viewEditable===!1)?!0:this.state.viewConfig&&(this.state.viewConfig.viewEditable===!1||this.state.viewConfig.editable===!1)}},{key:"iterateOverViews",value:function(){const n=[];for(const s in Object.keys(this.state.views))n.push(s);return n}},{key:"iterateOverTracksInView",value:function(n){const s=[],{tracks:c}=this.state.views[n];for(const h in c)for(const p of c[h])if(p.type==="combined"&&p.contents)for(const m of p.contents)s.push({viewId:n,trackId:m.uid,track:m});else s.push({viewId:n,trackId:p.uid,track:p});return s}},{key:"iterateOverTracks",value:function(){const n=[];for(const s in this.state.views){const{tracks:c}=this.state.views[s];for(const h in c)for(const p of c[h])if(p.type==="combined"&&p.contents)for(const m of p.contents)n.push({viewId:s,trackId:m.uid,track:m});else n.push({viewId:s,trackId:p.uid,track:p})}return n}},{key:"setMouseTool",value:function(n){this.setState({mouseTool:n})}},{key:"isValueScaleLocked",value:function(n,s){const c=this.combineViewAndTrackUid(n,s);return this.state.views[n]?!!this.valueScaleLocks[c]:!1}},{key:"getLockGroupExtrema",value:function(n,s){const c=this.combineViewAndTrackUid(n,s);if(!this.state.views[n]||!this.valueScaleLocks[c])return null;const h=this.valueScaleLocks[c],p=Object.values(h).filter(T=>this.tiledPlots[T.view]).map(T=>this.tiledPlots[T.view].trackRenderer.getTrackObject(T.track)).filter(T=>T).map(T=>T.originalTrack===void 0?T:T.originalTrack),m=p.filter(T=>T.minRawValue&&T.maxRawValue).map(T=>h.ignoreOffScreenValues?T.minVisibleValue(!0):T.minVisibleValueInTiles(!0)),d=p.filter(T=>T.minRawValue&&T.maxRawValue).map(T=>h.ignoreOffScreenValues?T.maxVisibleValue(!0):T.maxVisibleValueInTiles(!0));if(m.length===0||m.filter(T=>T===null||T===1/0).length>0||d.length===0||d.filter(T=>T===null||T===-1/0).length>0)return null;const E=Math.min(...m),_=Math.max(...d);return[E,_]}},{key:"syncValueScales",value:function(n,s){const c=this.combineViewAndTrackUid(n,s);if(!this.state.views[n])return;const h=Ll(this.state.views[n].tracks,s);if(this.valueScaleLocks[c]){const p=this.valueScaleLocks[c],m=Object.values(p).filter(C=>this.tiledPlots[C.view]).map(C=>this.tiledPlots[C.view].trackRenderer.getTrackObject(C.track)).filter(C=>C).map(C=>C.originalTrack===void 0?C:C.originalTrack),d=this.getLockGroupExtrema(n,s);if(d===null)return;const E=d[0],_=d[1],T=1e-6;for(const C of m){if(C.minValue&&C.minValue(E),C.maxValue&&C.maxValue(_),!C.valueScale)continue;const A=Math.abs(C.minValue()-C.valueScale.domain()[0])>T||Math.abs(C.maxValue()-C.valueScale.domain()[1])>T,D=h.options&&C.options&&typeof h.options.scaleStartPercent<"u"&&typeof h.options.scaleEndPercent<"u"&&(Math.abs(C.options.scaleStartPercent-h.options.scaleStartPercent)>T||Math.abs(C.options.scaleEndPercent-h.options.scaleEndPercent)>T);C.continuousScaling&&!A&&!D||(C.valueScale.domain([E,_]),C.prevValueScale=C.valueScale.copy(),D&&(C.options.scaleStartPercent=h.options.scaleStartPercent,C.options.scaleEndPercent=h.options.scaleEndPercent),C.rerender(C.options,!0))}}}},{key:"handleNewTilesLoaded",value:function(n,s){this.animate()}},{key:"notifyDragChangedListeners",value:function(n){vi(this.draggingChangedListeners).forEach(s=>{vi(s).forEach(c=>c(n))})}},{key:"addDraggingChangedListener",value:function(n,s,c){this.draggingChangedListeners.hasOwnProperty(n)||(this.draggingChangedListeners[n]={}),this.draggingChangedListeners[n][s]=c,c(!0),c(!1)}},{key:"removeDraggingChangedListener",value:function(n,s){if(this.draggingChangedListeners.hasOwnProperty(n)){const c=this.draggingChangedListeners[n];c.hasOwnProperty(s)&&(c[s](!1),delete c[s])}}},{key:"addScalesChangedListener",value:function(n,s,c){this.scalesChangedListeners[n]||(this.scalesChangedListeners[n]={}),this.scalesChangedListeners[n][s]=c,!(!this.xScales[n]||!this.yScales[n])&&c(this.xScales[n],this.yScales[n])}},{key:"removeScalesChangedListener",value:function(n,s){if(this.scalesChangedListeners[n]){const c=this.scalesChangedListeners[n];c[s]&&delete c[s]}}},{key:"createSVG",value:function(){const n=document.createElement("svg");n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("version","1.1");for(const s of vi(this.tiledPlots))if(s){for(const c of vi(s.trackRenderer.trackDefObjects))if(c.trackObject.exportSVG){const h=c.trackObject.exportSVG();h&&n.appendChild(h[0])}}return n.setAttribute("width",this.canvasElement.style.width),n.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(n):n}},{key:"createSVGString",value:function(){const n=this.createSVG();let s=jme.xml(new window.XMLSerializer().serializeToString(n));return s=s.replace(/<a0:/g,"<"),s=s.replace(/<\/a0:/g,"</"),s=s.replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1"),s=s.replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
${s}`}},{key:"handleExportSVG",value:function(){sb("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}},{key:"offPostCreateSVG",value:function(){this.postCreateSVGCallback=null}},{key:"onPostCreateSVG",value:function(n){this.postCreateSVGCallback=n}},{key:"createPNGBlobPromise",value:function(){return new Promise(n=>{const s=this.createSVGString(),c=new Image(this.canvasElement.width,this.canvasElement.height);c.src=`data:image/svg+xml;base64,${btoa(s)}`,c.onload=()=>{const h=document.createElement("canvas");h.width=this.canvasElement.width/2,h.height=this.canvasElement.height/2,h.getContext("2d").drawImage(c,0,0),h.toBlob(p=>{n(p)})}})}},{key:"handleExportPNG",value:function(){this.createPNGBlobPromise().then(n=>{sb("export.png",n)})}},{key:"handleScalesChanged",value:function(n,s,c,h=!0){if(this.xScales[n]=s,this.yScales[n]=c,h&&n in this.scalesChangedListeners&&vi(this.scalesChangedListeners[n]).forEach(p=>{p(s,c)}),this.zoomLocks[n]){const p=this.zoomLocks[n],m=mu(p),[d,E,_]=io(this.xScales[n],this.yScales[n]);for(let T=0;T<m.length;T++){const C=m[T][0],A=m[T][1];if(!this.xScales[C]||!this.yScales[C]||C===n)continue;const[D,O,B]=io(this.xScales[C],this.yScales[C]),P=A[2]/p[n][2],R=_*P;if(!this.setCenters[C])continue;const[$,W]=this.setCenters[C](D,O,R,!1);this.xScales[C]=$,this.yScales[C]=W,this.scalesChangedListeners.hasOwnProperty(C)&&vi(this.scalesChangedListeners[C]).forEach(Z=>{Z($,W)})}}if(this.locationLocks[n]){const p=this.locationLocks[n],m=mu(p),[d,E,_]=io(this.xScales[n],this.yScales[n]);for(let T=0;T<m.length;T++){const C=m[T][0],A=m[T][1];if(!this.xScales[C]||!this.yScales[C])continue;const[D,O,B]=io(this.xScales[C],this.yScales[C]);if(C===n)continue;const P=A[0]-p[n][0],R=A[1]-p[n][1],$=d+P,W=E+R;if(!this.setCenters[C])continue;const[Z,K]=this.setCenters[C]($,W,B,!1);this.xScales[C]=Z,this.yScales[C]=K,this.scalesChangedListeners.hasOwnProperty(C)&&vi(this.scalesChangedListeners[C]).forEach(ae=>{ae(Z,K)})}}if(this.locationLocksAxisWise.x[n]){const p=this.locationLocksAxisWise.x[n].lock,m=mu(p),d=this.locationLocksAxisWise.x[n].axis!=="x",[E,_,T]=io(this.xScales[n],this.yScales[n]);for(let C=0;C<m.length;C++){const A=m[C][0],D=m[C][1];if(!this.xScales[A]||!this.yScales[A])continue;const[O,B,P]=io(this.xScales[A],this.yScales[A]);if(A===n)continue;const R=D[0]-p[n][0],$=E+R;if(!this.setCenters[A])continue;const[W,Z]=this.setCenters[A](d?O:$,d?$:B,P,!1);this.xScales[A]=W,this.yScales[A]=Z,this.scalesChangedListeners.hasOwnProperty(A)&&vi(this.scalesChangedListeners[A]).forEach(K=>{K(W,Z)})}}if(this.locationLocksAxisWise.y[n]){const p=this.locationLocksAxisWise.y[n].lock,m=mu(p),d=this.locationLocksAxisWise.y[n].axis!=="y",[E,_,T]=io(this.xScales[n],this.yScales[n]);for(let C=0;C<m.length;C++){const A=m[C][0],D=m[C][1];if(!this.xScales[A]||!this.yScales[A])continue;const[O,B,P]=io(this.xScales[A],this.yScales[A]);if(A===n)continue;const R=D[1]-p[n][1],$=_+R;if(!this.setCenters[A])continue;const[W,Z]=this.setCenters[A](d?$:O,d?B:$,P,!1);this.xScales[A]=W,this.yScales[A]=Z,this.scalesChangedListeners.hasOwnProperty(A)&&vi(this.scalesChangedListeners[A]).forEach(K=>{K(W,Z)})}}this.animate(),this.triggerViewChangeDb()}},{key:"handleProjectViewport",value:function(n){this.setState({chooseTrackHandler:(s,c)=>this.handleViewportProjected(n,s,c)})}},{key:"handleZoomToData",value:function(n){if(n&&!this.tiledPlots[n])throw new Error(`View uid ${n} does not exist in the current viewConfig`);n?this.tiledPlots[n].handleZoomToData():Object.values(this.tiledPlots).forEach(s=>s.handleZoomToData())}},{key:"resetViewport",value:function(n){if(n&&!this.tiledPlots[n])throw new Error(`View uid ${n} does not exist in the current viewConfig`);n?this.tiledPlots[n].resetViewport():Object.values(this.tiledPlots).forEach(s=>s.resetViewport())}},{key:"handleYankFunction",value:function(n,s){this.setState({chooseViewHandler:c=>s(n,c),mouseOverOverlayUid:n})}},{key:"handleUnlock",value:function(n,s){const c=s[n],h=gu(c);if(h.length===2){delete s[h[0]],delete s[h[1]];return}s[n]&&s[n][n]&&delete s[n][n],s[n]&&delete s[n]}},{key:"viewScalesLockData",value:function(n){return!this.xScales[n]||!this.yScales[n]?(console.warn("View scale lock doesn't correspond to existing uid: ",n),null):io(this.xScales[n],this.yScales[n])}},{key:"addLock",value:function(n,s,c,h){let p=[],m=[];c[n]?p=mu(c[n]).filter(_=>h(_[0])).map(_=>[_[0],h(_[0])]):p=[[n,h.bind(this)(n)]],c[s]?m=mu(c[s]).filter(_=>h.bind(this)(_[0])).map(_=>[_[0],h.bind(this)(_[0])]):m=[[s,h.bind(this)(s)]];const d=p.concat(m),E=S7(d);d.forEach(_=>{c[_[0]]=E})}},{key:"handleLocationLockChosen",value:function(n,s){if(n===s){this.setState({chooseViewHandler:null});return}this.addLock(n,s,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}},{key:"handleZoomLockChosen",value:function(n,s){if(n===s){this.setState({chooseViewHandler:null});return}this.addLock(n,s,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}},{key:"handleViewportProjected",value:function(n,s,c){let h=null;if(n===s)console.warn("A view can not show its own viewport.");else{const p=Ll(this.state.views[s].tracks,c),m=fb(this.state.views[s].tracks,c);h=hn.nice();const E={uid:h,type:`viewport-projection-${{top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[m]}`,fromViewUid:n};this.addCallbacks(s,E),this.handleTrackAdded(s,E,m,p)}return this.setState({chooseTrackHandler:null}),h}},{key:"handleLocationYanked",value:function(n,s){const c=this.xScales[s],h=this.yScales[s],p=this.xScales[n],m=this.yScales[n],[d,E,_]=io(p,m),[T,C,A]=io(c,h);this.setCenters[n](T,C,_,!0),this.setState({chooseViewHandler:null})}},{key:"handleZoomYanked",value:function(n,s){const c=this.xScales[s],h=this.yScales[s],p=this.xScales[n],m=this.yScales[n],[d,E,_]=io(p,m),[T,C,A]=io(c,h);this.setCenters[n](d,E,A,!0),this.setState({chooseViewHandler:null})}},{key:"handleTrackPositionChosen",value:function(n,s){this.setState({addTrackPosition:s,addTrackPositionView:n})}},{key:"updateRowHeight",value:function(){if(!this.props.options||this.sizeMode!==_ie||this.props.options.pixelPreciseMarginPadding)return;const n=this.element.parentNode.clientHeight;let s=0;for(const E of vi(this.state.views))s=Math.max(s,E.layout.y+E.layout.h);this.handleDragStart(),this.handleDragStop();const h=(this.isEditable()?10:0)*s-1,m=(n-h)/s,d=Math.floor(m);this.setState({rowHeight:d})}},{key:"handleLayoutChange",value:function(n){this.element&&(n.forEach(s=>{const c=this.state.views[s.i];c&&(c.layout.x=s.x,c.layout.y=s.y,c.layout.w=s.w,c.layout.h=s.h,c.layout.i=s.i)}),this.updateRowHeight(),this.refreshView(nb))}},{key:"clearDragTimeout",value:function(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}},{key:"getTrackInfo",value:function(n){if(Ci[n])return Ci[n];if(this.pluginTracks&&this.pluginTracks[n])return this.pluginTracks[n].config;if(window.higlassTracksByType&&window.higlassTracksByType[n])return window.higlassTracksByType[n].config;console.warn("Track type not found:",n,"(check app/scripts/config/ for a list of defined track types)")}},{key:"forceRefreshView",value:function(){this.setState(this.state)}},{key:"refreshView",value:function(n=u7){this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout(()=>{this.notifyDragChangedListeners(!1)},n)}},{key:"handleDragStart",value:function(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}},{key:"handleDragStop",value:function(){this.clearDragTimeout(),this.dragTimeout=setTimeout(()=>{this.notifyDragChangedListeners(!1)},nb)}},{key:"resizeHandler",value:function(){Qx(this.viewHeaders).filter(n=>n).forEach(n=>n.checkWidth())}},{key:"calculateViewDimensions",value:function(n){let m=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,d=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,E=0;E+=10;const _=20;if(n.tracks.top)for(let W=0;W<n.tracks.top.length;W++){const Z=n.tracks.top[W];m+=Z.height?Z.height:20,E+=Z.height?Z.height:20}if(n.tracks.bottom)for(let W=0;W<n.tracks.bottom.length;W++){const Z=n.tracks.bottom[W];m+=Z.height?Z.height:20,E+=Z.height?Z.height:20}(n.tracks.left&&n.tracks.left.length>0||n.tracks.right&&n.tracks.right.length>0||n.tracks.center&&n.tracks.center.length>0)&&(E+=_);let T=0;if(n.tracks.left)for(let W=0;W<n.tracks.left.length;W++){const Z=n.tracks.left[W],K=Z.height?Z.height:100;d+=Z.width?Z.width:0,T=Math.max(T,K)}let C=0;if(n.tracks.right)for(let W=0;W<n.tracks.right.length;W++){const Z=n.tracks.right[W],K=Z.height?Z.height:100;d+=Z.width?Z.width:0,C=Math.max(C,K)}const A=Math.max(T,C);let D=0,O=0;if(n.tracks.center&&vi(n.tracks.center).length>0){if(!n.tracks.center[0].contents||n.tracks.center[0].contents.length>0){let W=null,Z=null;if(n.tracks.center[0].contents)for(const K of n.tracks.center[0].contents)W=Math.max(W,K.height?K.height:100),Z=Math.max(Z,K.width?K.width:100);else W=n.tracks.center[0].height?n.tracks.center[0].height:100,Z=n.tracks.center[0].width?n.tracks.center[0].width:100;m+=W,d+=Z}}else(n.tracks.top&&vi(n.tracks.top).length>1||n.tracks.bottom&&vi(n.tracks.bottom).length>1)&&(n.tracks.left&&vi(n.tracks.left).length||n.tracks.right&&vi(n.tracks.right).length)&&(O=100,D=100);A>D?m+=A:m+=D;let B=0,P=0,R=0,$=0;return"top"in n.tracks&&(B=n.tracks.top.map(W=>W.height?W.height:20).reduce((W,Z)=>W+Z,0)),"bottom"in n.tracks&&(P=n.tracks.bottom.map(W=>W.height?W.height:20).reduce((W,Z)=>W+Z,0)),"left"in n.tracks&&(R=n.tracks.left.map(W=>W.width?W.width:0).reduce((W,Z)=>W+Z,0)),"right"in n.tracks&&($=n.tracks.right.map(W=>W.width?W.width:0).reduce((W,Z)=>W+Z,0)),{totalWidth:d,totalHeight:m,topHeight:B,bottomHeight:P,leftWidth:R,rightWidth:$,centerWidth:O,centerHeight:D,minNecessaryHeight:E}}},{key:"calculateZoomLimits",value:function(n,s){const c=[0,1/0],h=n.zoomLimits||[1,null],p=s[1]-s[0];if(h.length!==2)return c;if(h[0]!==null&&h[0]>0){const m=p/h[0];c[1]=Math.max(m,1),m<1&&console.warn(`Invalid zoom limits. Lower limit set to ${p}`)}if(h[1]!==null&&h[1]>h[0]){const m=p/h[1];c[0]=Math.min(m,1),m>1&&console.warn(`Invalid zoom limits. Upper limit set to ${p}`)}return c}},{key:"generateViewLayout",value:function(n){let s=null;return"layout"in n?{layout:s}=n.layout:s={x:0,y:0,w:yie,h:RVe},s}},{key:"handleClearView",value:function(n){const{views:s}=this.state;s[n].tracks.top=[],s[n].tracks.bottom=[],s[n].tracks.center=[],s[n].tracks.left=[],s[n].tracks.right=[],s[n].tracks.whole=[],this.setState({views:s})}},{key:"handleCloseView",value:function(n){vi(this.state.views).length!==1&&(this.handleUnlock(n,this.zoomLocks),this.setState(s=>(delete s.views[n],{views:this.removeInvalidTracks(s.views)})))}},{key:"handleSeriesAdded",value:function(n,s,c,h){const{tracks:p}=this.state.views[n];if(h.type==="combined")h.contents.push(s),s.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(s,h);else{const m={type:"combined",uid:hn.nice(),height:h.height,width:h.width,contents:[h,s]},d=p[c];for(let E=0;E<d.length;E++)d[E].uid===h.uid&&(d[E]=m)}this.setState(m=>({views:m.views}))}},{key:"handleNoTrackAdded",value:function(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}},{key:"handleTracksAdded",value:function(n,s,c,h){this.storeTrackSizes(n);for(const p of s)this.handleTrackAdded(n,p,c,h)}},{key:"handleChangeTrackType",value:function(n,s,c){const h=this.state.views[n],p=Ll(h.tracks,s),m=p.uid;p.uid=hn.nice(),p.type=c;const d=p.uid;this.updateTrackLocks(n,m,d),this.setState(E=>({views:E.views}))}},{key:"handleChangeTrackData",value:function(n,s,c){const h=this.state.views[n],p=Ll(h.tracks,s);p.uid=hn.nice(),p.data=c,this.setState(m=>({views:m.views}))}},{key:"handleTrackAdded",value:function(n,s,c,h=null){if(this.addDefaultTrackOptions(s),s.uid||(s.uid=hn.nice()),s.contents)for(const E of s.contents)this.addDefaultTrackOptions(E);if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),h)return this.handleSeriesAdded(n,s,c,h),null;s.position=c;const p=this.getTrackInfo(s.type);s.width=p.defaultWidth||p.defaultOptions&&p.defaultOptions.minWidth||this.minVerticalWidth,s.height=p.defaultHeight||p.defaultOptions&&p.defaultOptions.minHeight||this.minHorizontalHeight;const{tracks:m}=this.state.views[n];let d=0;if(If(m,()=>d++),c==="left"||c==="top")m[c].unshift(s);else if(c==="center")if(m.center.length===0){const E={uid:hn.nice(),type:"combined",contents:[s]};m.center=[E]}else if(m.center[0].type==="combined")m.center[0].contents.push(s),s.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(s,m.center[0]);else{const E={uid:hn.nice(),type:"combined",contents:[m.center[0],s]};m.center=[E],s.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(s,E)}else m[c]||(m[c]=[]),m[c].push(s);return this.adjustLayoutToTrackSizes(this.state.views[n]),Object.keys(this.state.views).length===1&&d===0&&(this.handleZoomToData(n),this.zoomToDataExtentOnInit.add(n)),s}},{key:"compatibilityfyStackedHeatmaps",value:function(n,s){let c;s.contents.some(p=>(c=p,p.type==="heatmap"))&&(n.options.backgroundColor="transparent",n.options.showTooltip=c.options.showTooltip,n.options.showMousePosition=c.options.showMousePosition,n.options.mousePositionColor=c.options.mousePositionColor)}},{key:"storeTrackSizes",value:function(n){If(this.state.views[n].tracks,s=>{const c=this.tiledPlots[n].trackRenderer.getTrackObject(s.uid);c&&([s.width,s.height]=c.dimensions)})}},{key:"adjustLayoutToTrackSizes",value:function(n){if(!n.layout)return;const s=this.isEditable();let c=0;s&&(c+=NVe);const{totalHeight:h}=this.calculateViewDimensions(n);c+=h;const p=this.isEditable()?10:0;c+=p;const m=this.state.rowHeight+p;this.sizeMode!==_ie&&(n.layout.h=Math.ceil(c/m))}},{key:"handleCloseTrack",value:function(n,s){const{tracks:c}=this.state.views[n];this.handleUnlockValueScale(n,s);for(const h in c){const p=c[h],m=p.filter(d=>d.uid!==s);m.length===p.length?m.filter(E=>E.type==="combined").forEach(E=>{E.contents=E.contents.filter(_=>_.uid!==s)}):c[h]=m}return this.storeTrackSizes(n),this.adjustLayoutToTrackSizes(this.state.views[n]),this.setState(h=>({views:h.views})),this.state.views}},{key:"handleLockValueScale",value:function(n,s){this.setState({chooseTrackHandler:(c,h)=>this.handleValueScaleLocked(n,s,c,h)})}},{key:"combineViewAndTrackUid",value:function(n,s){const c=`${n}.${s}`;if(this.combinedUidToViewTrack[c]={view:n,track:s},this.viewTrackUidsToCombinedUid[n]){if(this.viewTrackUidsToCombinedUid[s])return this.viewTrackUidsToCombinedUid[n][s];this.viewTrackUidsToCombinedUid[n][s]=c}else this.viewTrackUidsToCombinedUid[n]={},this.viewTrackUidsToCombinedUid[n][s]=c;return c}},{key:"updateTrackLocks",value:function(n,s,c){const h=this.combineViewAndTrackUid(n,s),p=this.combineViewAndTrackUid(n,c);if(this.valueScaleLocks[h]){const m=this.valueScaleLocks[h];this.valueScaleLocks[p]=m,delete this.valueScaleLocks[h]}for(const m in this.valueScaleLocks)if(this.valueScaleLocks[m][h]){const d=this.valueScaleLocks[m][h];this.valueScaleLocks[m][p]=d,d.track=c,delete this.valueScaleLocks[m][h]}}},{key:"handleUnlockValueScale",value:function(n,s){if(this.tiledPlots[n].trackRenderer.getTrackObject(s).createdTracks){const c=gu(this.tiledPlots[n].trackRenderer.getTrackObject(s).createdTracks);for(const h of c)this.handleUnlock(this.combineViewAndTrackUid(n,h),this.valueScaleLocks)}else this.handleUnlock(this.combineViewAndTrackUid(n,s),this.valueScaleLocks)}},{key:"handleValueScaleLocked",value:function(n,s,c,h){if(this.tiledPlots[n].trackRenderer.getTrackObject(s).createdTracks){const d=gu(this.tiledPlots[n].trackRenderer.getTrackObject(s).createdTracks);for(const E of d)this.handleValueScaleLocked(n,E,c,h);return}if(this.tiledPlots[c].trackRenderer.getTrackObject(h).createdTracks){const d=gu(this.tiledPlots[c].trackRenderer.getTrackObject(h).createdTracks);for(const E of d)this.handleValueScaleLocked(n,s,c,E);return}const p=this.combineViewAndTrackUid(n,s),m=this.combineViewAndTrackUid(c,h);this.addLock(p,m,this.valueScaleLocks,d=>this.combinedUidToViewTrack[d]),this.syncValueScales(n,s),this.setState({chooseTrackHandler:null})}},{key:"addCallbacks",value:function(n,s){const c=this.getTrackInfo(s.type);if(s.type==="viewport-projection-center"||s.type==="viewport-projection-horizontal"||s.type==="viewport-projection-vertical"||c&&c.projection){const h=s.fromViewUid;s.registerViewportChanged=(p,m)=>this.addScalesChangedListener(h,p,m),s.removeViewportChanged=p=>this.removeScalesChangedListener(h,p),s.setDomainsCallback=(p,m)=>{if(!h){this.projectionXDomains[n]||(this.projectionXDomains[n]={}),this.projectionYDomains[n]||(this.projectionYDomains[n]={}),(s.type==="viewport-projection-horizontal"||s.type==="viewport-projection-center")&&(this.projectionXDomains[n][s.uid]=p),(s.type==="viewport-projection-vertical"||s.type==="viewport-projection-center")&&(this.projectionYDomains[n][s.uid]=m),this.triggerViewChangeDb();return}const d=qr().domain(p).range(this.xScales[h].range()),E=qr().domain(m).range(this.yScales[h].range()),[_,T,C]=io(d,E);this.setCenters[h](_,T,C,!1);let A=!1,D=!1;n in this.zoomLocks&&(A=h in this.zoomLocks[n]),A&&this.handleUnlock(n,this.zoomLocks),n in this.locationLocks&&(D=h in this.locationLocks[n]),D&&this.handleUnlock(n,this.locationLocks),this.handleScalesChanged(h,d,E,!0),A&&this.addLock(n,h,this.zoomLocks,this.viewScalesLockData),D&&this.addLock(n,h,this.locationLocks,this.viewScalesLockData)}}}},{key:"validateLocks",value:function(n){const s=[];for(const c of gu(n))(!n[c]||!n[c][c])&&s.push(c);for(const c of s)n[c]&&(console.warn(`View ${c} not present in lock group. Removing...`),this.handleUnlock(c,n),delete n[c])}},{key:"deserializeLocationLocks",value:function(n){if(this.locationLocks={},n.locationLocks)for(const s of gu(n.locationLocks.locksByViewUid))if(typeof n.locationLocks.locksByViewUid[s]!="object")this.locationLocks[s]=n.locationLocks.locksDict[n.locationLocks.locksByViewUid[s]];else{if("x"in n.locationLocks.locksByViewUid[s]){const c=n.locationLocks.locksDict[n.locationLocks.locksByViewUid[s].x.lock];this.locationLocksAxisWise.x[s]={lock:c,axis:n.locationLocks.locksByViewUid[s].x.axis}}if("y"in n.locationLocks.locksByViewUid[s]){const c=n.locationLocks.locksDict[n.locationLocks.locksByViewUid[s].y.lock];this.locationLocksAxisWise.y[s]={lock:c,axis:n.locationLocks.locksByViewUid[s].y.axis}}}this.validateLocks(this.locationLocks)}},{key:"deserializeZoomLocks",value:function(n){if(this.zoomLocks={},n.zoomLocks)for(const s of gu(n.zoomLocks.locksByViewUid))this.zoomLocks[s]=n.zoomLocks.locksDict[n.zoomLocks.locksByViewUid[s]];this.validateLocks(this.zoomLocks)}},{key:"deserializeValueScaleLocks",value:function(n){if(this.valueScaleLocks={},n.valueScaleLocks)for(const s of gu(n.valueScaleLocks.locksByViewUid))this.valueScaleLocks[s]=n.valueScaleLocks.locksDict[n.valueScaleLocks.locksByViewUid[s]]}},{key:"serializeLocks",value:function(n){const s={},c={};for(const h of gu(n)){let p=n[h]&&n[h].uid;p||(p=hn.nice()),n[h].uid=p,s[p]=n[h],c[h]=n[h].uid}return{locksByViewUid:c,locksDict:s}}},{key:"getViewsAsJson",value:function(){const n=JSON.parse(JSON.stringify(this.state.viewConfig));return n.views=Object.values(this.state.views).map(s=>{const c=JSON.parse(JSON.stringify(s));return If(c.tracks,h=>{if(h.server){const p=nge(h.server,{});if(!p.hostname.length){const m=window.location.host,{protocol:d}=window.location,E=`${d}//${m}${p.pathname}`;h.server=E}}(h.type==="viewport-projection-center"||h.type==="viewport-projection-horizontal")&&this.projectionXDomains[s.uid]&&this.projectionXDomains[s.uid][h.uid]&&(h.projectionXDomain=this.projectionXDomains[s.uid][h.uid]),(h.type==="viewport-projection-center"||h.type==="viewport-projection-vertical")&&this.projectionYDomains[s.uid]&&this.projectionYDomains[s.uid][h.uid]&&(h.projectionYDomain=this.projectionYDomains[s.uid][h.uid]),delete h.name,delete h.position,delete h.header,delete h.description,delete h.created,delete h.project,delete h.project_name,delete h.serverUidKey,delete h.uuid,delete h.private,delete h.maxZoom,delete h.coordSystem,delete h.coordSystem2,delete h.datatype,delete h.maxWidth,delete h.datafile,delete h.binsPerDimension,delete h.resolutions,delete h.aggregationModes}),c.uid=s.uid,c.initialXDomain=this.xScales[s.uid].domain(),c.initialYDomain=this.yScales[s.uid].domain(),delete c.layout.i,c}),n.zoomLocks=this.serializeLocks(this.zoomLocks),n.locationLocks=this.serializeLocks(this.locationLocks),n.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),n}},{key:"getViewsAsString",value:function(){return JSON.stringify(this.getViewsAsJson(),null,2)}},{key:"handleExportViewAsJSON",value:function(){const n=this.getViewsAsString();sb("viewconf.json",n)}},{key:"handleExportViewsAsLink",value:function(n=this.state.viewConfig.exportViewUrl,s=!1){const c=new URL(n,window.location.origin),h=fetch(n,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:`{"viewconf":${this.getViewsAsString()}}`,credentials:"same-origin"}).then(p=>{if(!p.ok)throw p;return p.json()}).catch(p=>{console.warn("err:",p)}).then(p=>({id:p.uid,url:`${c.origin}/l/?d=${p.uid}`}));return s||h.then(p=>{this.openModal(M.default.createElement(IF,{onDone:()=>{this.closeModalBound()},url:p.url}))}).catch(p=>console.error("Exporting view config as link failed:",p)),h}},{key:"handleDataDomainChanged",value:function(n,s,c){const{views:h}=this.state;if(h[n].initialXDomain=s,h[n].initialYDomain=c,this.xScales[n]=qr().domain(s),this.yScales[n]=qr().domain(c),this.zoomLocks[n]){const p=this.zoomLocks[n],m=mu(p);for(let d=0;d<m.length;d++){const E=m[d][0];E in this.locationLocks&&(h[E].initialXDomain=s,h[E].initialYDomain=c,this.xScales[E]=qr().domain(s),this.yScales[E]=qr().domain(c))}}this.setState({views:h})}},{key:"viewPositionAvailable",value:function(n,s,c,h){const p=n+c,m=s+h;if(n+c>yie)return!1;const d=vi(this.state.views);for(let E=0;E<d.length;E++){const _=d[E].layout.x,T=d[E].layout.y,C=_+d[E].layout.w,A=T+d[E].layout.h;if(n<C&&p>_&&s<A&&m>T)return!1}return!0}},{key:"handleAddView",value:function(n){const s=vi(this.state.views),c=n,h=[];n.layout.w===12&&(n.layout.w=6);for(let d=0;d<s.length;d++){let E=s[d].layout.x+s[d].layout.w,_=s[d].layout.y;this.viewPositionAvailable(E,_,n.layout.w,n.layout.h)&&h.push([E,_]),E=s[d].layout.x,_=s[d].layout.y+s[d].layout.h,this.viewPositionAvailable(E,_,n.layout.w,n.layout.h)&&h.push([E,_])}h.sort((d,E)=>{const _=d[1]-E[1];return _===0?d[0]-E[0]:_});const p=JSON.stringify(c),m=JSON.parse(p);m.initialXDomain=this.xScales[m.uid].domain(),m.initialYDomain=this.yScales[m.uid].domain(),[[m.layout.x,m.layout.y]]=h,m.uid=hn.nice(),m.layout.i=m.uid,If(m.tracks,d=>{this.addCallbacks(m.uid,d)}),this.setState(d=>{const E=JSON.parse(JSON.stringify(d.views));return E[m.uid]=m,{views:E}})}},{key:"handleSelectedAssemblyChanged",value:function(n,s,c,h){const{views:p}=this.state;p[n].genomePositionSearchBox.chromInfoId=s,p[n].genomePositionSearchBox.autocompleteId=c,p[n].genomePositionSearchBox.autocompleteServer=h}},{key:"createGenomePostionSearchBoxEntry",value:function(n,s){let c=n;const h={autocompleteServer:BM,chromInfoServer:BM,visible:!1};return c||(c=JSON.parse(JSON.stringify(h))),c.autocompleteServer||(c.autocompleteServer=h.autocompleteServer),c.chromInfoId||(c.chromInfoId=s),c.chromInfoServer||(c.chromInfoServer=h.chromInfoServer),c.visible||(c.visible=!1),c}},{key:"handleTogglePositionSearchBox",value:function(n){const s=this.state.views[n];s.genomePositionSearchBoxVisible=!s.genomePositionSearchBoxVisible;const c={};If(s.tracks,m=>{m.coordSystem&&(c[m.coordSystem]||(c[m.coordSystem]=0),c[m.coordSystem]+=1)});const h=mu(c).sort((m,d)=>d[1]-m[1]);let p="hg19";h.length&&(p=h[0][0]),s.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(s.genomePositionSearchBox,p),s.genomePositionSearchBox.visible=!s.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}},{key:"handleTrackOptionsChanged",value:function(n,s,c){const h=this.state.views[n],p=Ll(h.tracks,s);p&&(p.options=Object.assign(p.options,c),this.mounted&&(this.setState(m=>({views:m.views})),this.adjustSplitHeatmapTrackOptions(p,c,h.tracks,n)))}},{key:"adjustSplitHeatmapTrackOptions",value:function(n,s,c,h){n.type==="heatmap"&&(s.extent==="upper-right"&&c.center[0].type==="combined"&&c.center[0].contents.length>1&&c.center[0].contents.some(p=>{if(p.type==="heatmap"&&p.uid!==n.uid&&p.options.extent!=="lower-left"){const m={...p.options,extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"},d={...s,labelPosition:"topRight",colorbarPosition:"topRight"};return this.handleTrackOptionsChanged(h,p.uid,m),this.handleTrackOptionsChanged(h,n.uid,d),!0}return!1}),s.extent==="lower-left"&&s.extent==="lower-left"&&c.center[0].type==="combined"&&c.center[0].contents.length>1&&c.center[0].contents.some(p=>{if(p.type==="heatmap"&&p.uid!==n.uid&&p.options.extent!=="upper-right"){const m={...p.options,extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"},d={...s,labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"};return this.handleTrackOptionsChanged(h,p.uid,m),this.handleTrackOptionsChanged(h,n.uid,d),!0}return!1}))}},{key:"handleViewOptionsChanged",value:function(n,s){const c=this.state.views[n];c&&(c.options=Object.assign(c.options||{},s),this.mounted&&this.setState(h=>({views:h.views})))}},{key:"isTrackValid",value:function(n,s){return!(n.type==="viewport-projection-center"&&!s.has(n.fromViewUid))}},{key:"removeInvalidTracks",value:function(n){const s=new Set(gu(n));for(const c of vi(n))for(const h of["left","top","center","right","bottom"])c.tracks&&c.tracks.hasOwnProperty(h)&&(c.tracks[h]=c.tracks[h].filter(p=>this.isTrackValid(p,s)),c.tracks[h].forEach(p=>{p.type==="combined"&&(p.contents=p.contents.filter(m=>this.isTrackValid(m,s)))}));return n}},{key:"processViewConfig",value:function(n){let{views:s}=n,c={};return(!n.views||n.views.length===0)&&(console.warn("No views provided in viewConfig"),s=[{editable:!0,tracks:{}}]),s.forEach(h=>{h.tracks&&C7(h.tracks),h.uid||(h.uid=hn.nice()),c[h.uid]=h,this.zoomToDataExtentOnInit.has(h.uid)&&this.zoomToDataExtentOnInit.delete(h.uid),h.initialXDomain?(h.initialXDomain[0]=+h.initialXDomain[0],h.initialXDomain[1]=+h.initialXDomain[1]):(h.initialXDomain=[0,100],this.zoomToDataExtentOnInit.add(h.uid)),h.initialYDomain?(h.initialXDomain[0]=+h.initialXDomain[0],h.initialXDomain[1]=+h.initialXDomain[1]):h.initialYDomain=[h.initialXDomain[0],h.initialXDomain[1]],this.xScales[h.uid]||(this.xScales[h.uid]=qr().domain(h.initialXDomain)),this.yScales[h.uid]||(this.yScales[h.uid]=qr().domain(h.initialYDomain)),If(h.tracks,p=>{if(p.uid||(p.uid=hn.nice()),this.addCallbacks(h.uid,p),this.addDefaultTrackOptions(p),p.contents)for(const m of p.contents)this.addDefaultTrackOptions(m)}),h.layout?h.layout.i=h.uid:h.layout=this.generateViewLayout(h)}),this.deserializeZoomLocks(n),this.deserializeLocationLocks(n),this.deserializeValueScaleLocks(n),c=this.removeInvalidTracks(c),c}},{key:"handleWindowFocused",value:function(){}},{key:"rangeSelectionHandler",value:function(n){this.rangeSelection=n,this.apiPublish("rangeSelection",n)}},{key:"offViewChange",value:function(n){this.viewChangeListener.splice(n,1)}},{key:"onViewChange",value:function(n){return this.viewChangeListener.push(n)-1}},{key:"triggerViewChange",value:function(){this.viewChangeListener.forEach(n=>n(this.getViewsAsString()))}},{key:"getGenomeLocation",value:function(n){return qM.get(this.state.views[n].chromInfoPath).then(s=>K7(this.xScales[n],this.yScales[n],s))}},{key:"offLocationChange",value:function(n,s){this.removeScalesChangedListener(n,s)}},{key:"zoomTo",value:function(n,s,c,h,p,m){if(!(n in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(Number.isNaN(+s)||Number.isNaN(+c)){const T=[s,c].join(", ");console.warn([`Invalid coordinates (${T}). All coordinates need to be numbers
        and should represent absolute coordinates (not chromosome
        coordinates).`].join(" "));return}(Number.isNaN(+h)||Number.isNaN(+p)||h===null||p===null)&&(h=s,p=c);const[d,E,_]=io(this.xScales[n].copy().domain([s,c]),this.yScales[n].copy().domain([h,p]));this.setCenters[n](d,E,_,!1,m)}},{key:"zoomToGene",value:function(n,s,c,h){if(!(n in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(!this.state.views[n].genomePositionSearchBox||!this.state.views[n].genomePositionSearchBox.autocompleteServer||!this.state.views[n].genomePositionSearchBox.autocompleteId||!this.state.views[n].chromInfoPath){console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API");return}this.suggestGene(n,s,p=>{if(p){const m=p.find(d=>d.geneName.toLowerCase()===s.toLowerCase());if(m){const{chr:d,txStart:E,txEnd:_}=m;Nh(this.state.views[n].chromInfoPath,T=>{const C=T.chrToAbs([d,E])-c,A=T.chrToAbs([d,_])+c,[D,O,B]=io(this.xScales[n].copy().domain([C,A]),this.yScales[n].copy().domain([C,A]));this.setCenters[n](D,O,B,!1,h)},this.pubSub)}else console.warn(`Couldn't find the gene symbol: ${s}`)}})}},{key:"suggestGene",value:function(n,s,c){if(!(n in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(!this.state.views[n].genomePositionSearchBox||!this.state.views[n].genomePositionSearchBox.autocompleteServer||!this.state.views[n].genomePositionSearchBox.autocompleteId){console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API");return}const h=this.state.views[n].genomePositionSearchBox.autocompleteServer,p=this.state.views[n].genomePositionSearchBox.autocompleteId,m=`${h}/suggest/?d=${p}&ac=${s.toLowerCase()}`;yr.json(m,fh,this.pubSub).then(d=>{c(d)}).catch(d=>console.error(d))}},{key:"onLocationChange",value:function(n,s,c){const h=Object.keys(this.state.views);if(!h.length)return this.unsetOnLocationChange.push({viewId:n,callback:s,callbackId:c}),null;if(n=typeof n>"u"&&h.length===1?h[0]:n,typeof n>"u"||h.indexOf(n)===-1)return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",n),null;const p=this.state.views[n],m=(E,_)=>{s({xDomain:E.domain(),yDomain:_.domain(),xRange:E.range(),yRange:_.range()})};let d=1;return this.scalesChangedListeners[p.uid]&&(d=Object.keys(this.scalesChangedListeners[p.uid]).filter(E=>E.indexOf(ib)===0).map(E=>parseInt(E.slice(ib.length+1),10)).reduce((E,_)=>Math.max(E,_),0)+1),this.addScalesChangedListener(p.uid,`${ib}.${d}`,m),c&&c(`${ib}.${d}`),d}},{key:"getTiledPlotAtPosition",value:function(n,s){let c;const h=vi(this.state.views);for(let p=0;p<h.length;p++){const m=this.tiledPlots[h[p].uid],d=this.tiledAreasDivs[h[p].uid].getBoundingClientRect(),{top:E,left:_}=d,T=E+d.height,C=_+d.width,A=n>=_&&n<=C,D=s>=E&&s<=T;if(A&&D){c=m;break}}return c}},{key:"mouseMoveHandler",value:function(n){if(!this.topDiv||this.state.modal)return;const s=n.clientX,c=n.clientY,h=Ln(n,this.topDiv);h[1]+=this.scrollTop;const p=this.getTiledPlotAtPosition(s,c),m=p?p.listTracksAtPosition(h[0],h[1],!0).map(A=>A.originalTrack||A):[],d=m.find(A=>!A.isAugmentationTrack),E=d?[h[0]-d.position[0],h[1]-d.position[1]]:h;let _=-1,T=-1;d&&(_=d.flipText?d._xScale.invert(E[1]):d._xScale.invert(E[0]),T=d.is2d?d._yScale.invert(E[1]):_);const C={x:h[0],y:h[1],relTrackX:d&&d.flipText?E[1]:E[0],relTrackY:d&&d.flipText?E[0]:E[1],dataX:_,dataY:T,isFrom2dTrack:!!(d&&d.is2d),isFromVerticalTrack:!!(d&&d.flipText),track:d,origEvt:n,sourceUid:this.uid,hoveredTracks:m,noHoveredTracks:m.length===0};if(this.pubSub.publish("app.mouseMove",C),this.isBroadcastMousePositionGlobally){const A={...C};A.origEvt=void 0,A.track=void 0,A.hoveredTracks=void 0,delete A.origEvt,delete A.track,delete A.hoveredTracks,GT.publish("higlass.mouseMove",A)}this.apiPublish("cursorLocation",{absX:s,absY:c,relX:C.x,relY:C.y,relTrackX:C.relTrackX,relTrackY:C.relTrackY,dataX:C.dataX,dataY:C.dataY,isFrom2dTrack:C.isFrom2dTrack,isFromVerticalTrack:C.isFromVerticalTrack}),this.showHoverMenu(C)}},{key:"getMinMaxValue",value:function(n,s,c,h){const p=hb(this.tiledPlots,n,s);if(!p){console.warn(`Track with ID: ${s} not found!`);return}if(!p.minVisibleValueInTiles||!p.maxVisibleValueInTiles){console.warn(`Track ${s} doesn't support the retrieval of min or max values.`);return}return c&&p.getAggregatedVisibleValue?[p.getAggregatedVisibleValue("min"),p.getAggregatedVisibleValue("max")]:[p.minVisibleValueInTiles(h),p.maxVisibleValueInTiles(h)]}},{key:"showHoverMenu",value:function(n){const s=n.track&&n.track.getMouseOverHtml?n.track.getMouseOverHtml(n.relTrackX,n.relTrackY):"";if(n.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=n.track,this.zooming)return;const c=s&&s.length?[1]:[];let h=tn("body").selectAll(".track-mouseover-menu").data(c);h.exit().remove(),h.enter().append("div").classed("track-mouseover-menu",!0).classed(R_["track-mouseover-menu"],!0),h=tn("body").selectAll(".track-mouseover-menu");const p=Ln(n.origEvt,tn("body").node()),m=[p[0]-window.scrollX,p[1]-window.scrollY];if(h.style("left",`${m[0]}px`).style("top",`${m[1]}px`),!h.node())return;const d=h.node().getBoundingClientRect();d.x+d.width>window.innerWidth&&h.style("left",`${m[0]-d.width}px`),d.y+d.height>window.innerHeight&&h.style("top",`${m[1]-d.height}px`),h.html(s)}},{key:"hideHoverMenu",value:function(){tn("body").selectAll(".track-mouseover-menu").remove()}},{key:"closeCustomDialog",value:function(){this.setState(n=>({customDialog:null}))}},{key:"appClickHandler",value:function(n){this.apiPublish("click",n)}},{key:"canvasClickHandler",value:function(n){const s=n.nativeEvent||n,c=s.clientX,h=s.clientY,p=this.getTiledPlotAtPosition(c,h),m=Ln(s,this.topDiv);m[1]+=this.scrollTop;const d=p?p.listTracksAtPosition(m[0],m[1],!0).map(O=>O.originalTrack||O):[],E=d.find(O=>!O.isAugmentationTrack),_=E?[m[0]-E.position[0],m[1]-E.position[1]]:m,T=E&&E.flipText?_[1]:_[0],C=E&&E.flipText?_[0]:_[1];for(const O of this.iterateOverTracks()){const B=hb(this.tiledPlots,O.viewId,O.trackId);B.respondsToPosition(m[0],m[1])||B.clickOutside()}const A=[];for(const O of d)if(O.childTracks){for(const B of O.childTracks)A.push({trackUid:B.context.trackUid,viewUid:B.context.viewUid,trackType:B.context.trackType,data:B.click(T,C,n)});A.push({trackUid:O.context.trackUid,viewUid:O.context.viewUid,trackType:O.context.trackType,data:{type:"generic",event:n}})}else A.push({trackUid:O.context.trackUid,viewUid:O.context.viewUid,trackType:O.context.trackType,data:O.click(T,C,n)});const D=[];A.forEach((O,B)=>{const P=hb(this.tiledPlots,O.viewUid,O.trackUid);if(typeof P.clickDialog=="function"){const R=P.clickDialog();R&&D.push(R)}}),D.length>0&&this.setState(O=>({customDialog:D})),this.pubSub.publish("app.click",A)}},{key:"mouseMoveZoomHandler",value:function(n){this.apiPublish("mouseMoveZoom",n)}},{key:"geneSearchHandler",value:function(n){this.apiPublish("geneSearch",n)}},{key:"mouseDownHandler",value:function(n){}},{key:"onScrollHandler",value:function(){this.props.options.sizeMode===BC&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}},{key:"setTrackValueScaleLimits",value:function(n,s,c,h){const p=hb(this.tiledPlots,n,s);if(!p){console.warn(`Could't find track: ${s}`);return}p.setFixedValueScaleMin&&p.setFixedValueScaleMax?(p.setFixedValueScaleMin(c),p.setFixedValueScaleMax(h),p.rerender(p.options,!0),p.animate()):console.warn("Track doesn't support fixed value scales.")}},{key:"setChromInfo",value:function(n,s){Nh(n,c=>{this.chromInfo=c,s()},this.pubSub)}},{key:"onMouseLeaveHandler",value:function(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}},{key:"onBlurHandler",value:function(){this.animate()}},{key:"isZoomFixed",value:function(n){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||this.props.options.sizeMode===BC||n&&n.zoomFixed}},{key:"trackDimensionsModifiedHandler",value:function(n){const s=this.state.views[n.viewId];if(!s)return;const c=Ll(s.tracks,n.trackId);c&&(n.height!==void 0&&(c.height=n.height),n.width!==void 0&&(c.width=n.width),this.adjustLayoutToTrackSizes(s),this.setState(h=>({views:h.views})))}},{key:"wheelHandler",value:function(n){if(this.state.modal||this.props.options.sizeMode===BC)return;const s=n.nativeEvent||n,c=n.target===this.canvasElement;if(!F7(s.target,this.topDiv)||this.isZoomFixed())return;const h=s.clientX,p=s.clientY,m=this.getTiledPlotAtPosition(h,p);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){const d=Ln(s,this.topDiv);d[1]+=this.scrollTop;const E=m?m.listTracksAtPosition(d[0],d[1],!0).map(A=>A.originalTrack||A):[],_=E.find(A=>!A.isAugmentationTrack),T=_?[d[0]-_.position[0],d[1]-_.position[1]]:d,C={x:d[0],y:d[1],relTrackX:_&&_.flipText?T[1]:T[0],relTrackY:_&&_.flipText?T[0]:T[1],track:_,origEvt:s,sourceUid:this.uid,hoveredTracks:E,noHoveredTracks:E.length===0};this.apiPublish("wheel",C)}if(s.forwarded||c){n.stopPropagation(),n.preventDefault();return}if(n.preventDefault(),m){const{trackRenderer:d}=m;s.forwarded=!0,s&&(qx(s,d.eventTracker),s.preventDefault())}}},{key:"render",value:function(){this.tiledAreasDivs={},this.tiledAreas=M.default.createElement("div",{className:R_["tiled-area"]}),this.mounted&&(this.tiledAreas=vi(this.state.views).map(d=>{const E=d.uid===this.state.addTrackPositionMenuUid?this.state.addTrackPositionMenuPosition:null;let _=null;if(this.state.chooseViewHandler){let D="transparent";this.state.mouseOverOverlayUid===d.uid&&(D="green"),_=M.default.createElement("div",{className:"tiled-plot-overlay",onClick:()=>this.state.chooseViewHandler(d.uid),onMouseEnter:()=>this.handleOverlayMouseEnter(d.uid),onMouseLeave:()=>this.handleOverlayMouseLeave(d.uid),onMouseMove:()=>this.handleOverlayMouseEnter(d.uid),style:{position:"absolute",width:"100%",height:"100%",background:D,opacity:.3,zIndex:1}})}const T=M.default.createElement(B7e,{key:`tp${d.uid}`,ref:D=>{this.tiledPlots[d.uid]=D},addTrackPosition:this.state.addTrackPositionView===d.uid?this.state.addTrackPosition:null,addTrackPositionMenuPosition:E,canvasElement:this.state.canvasElement,chooseTrackHandler:this.state.chooseTrackHandler?D=>this.state.chooseTrackHandler(d.uid,D):null,customDialog:this.state.customDialog,closeCustomDialog:()=>this.closeCustomDialog(),chromInfoPath:d.chromInfoPath,disableTrackMenu:this.isTrackMenuDisabled(),draggingHappening:this.state.draggingHappening!==null,editable:this.isEditable(),getLockGroupExtrema:D=>this.getLockGroupExtrema(d.uid,D),initialXDomain:d.initialXDomain,initialYDomain:d.initialYDomain,isShowGlobalMousePosition:this.isShowGlobalMousePosition,isValueScaleLocked:D=>this.isValueScaleLocked(d.uid,D),marginBottom:this.viewMarginBottom,marginLeft:this.viewMarginLeft,marginRight:this.viewMarginRight,marginTop:this.viewMarginTop,metaTracks:d.metaTracks,mouseTool:this.state.mouseTool,onChangeTrackData:(D,O)=>this.handleChangeTrackData(d.uid,D,O),onChangeTrackType:(D,O)=>this.handleChangeTrackType(d.uid,D,O),onCloseTrack:D=>this.handleCloseTrack(d.uid,D),onDataDomainChanged:(D,O)=>this.handleDataDomainChanged(d.uid,D,O),onLockValueScale:D=>this.handleLockValueScale(d.uid,D),onMouseMoveZoom:this.mouseMoveZoomHandler.bind(this),onNewTilesLoaded:D=>this.handleNewTilesLoaded(d.uid,D),onNoTrackAdded:this.handleNoTrackAdded.bind(this),onRangeSelection:this.rangeSelectionHandler.bind(this),onResizeTrack:this.triggerViewChangeDb,onScalesChanged:(D,O)=>this.handleScalesChanged(d.uid,D,O),onTrackOptionsChanged:(D,O)=>this.handleTrackOptionsChanged(d.uid,D,O),onTrackPositionChosen:this.handleTrackPositionChosen.bind(this),onTracksAdded:(D,O,B)=>this.handleTracksAdded(d.uid,D,O,B),onUnlockValueScale:D=>this.handleUnlockValueScale(d.uid,D),onValueScaleChanged:D=>this.syncValueScales(d.uid,D),overlays:d.overlays,paddingBottom:this.viewPaddingBottom,paddingLeft:this.viewPaddingLeft,paddingRight:this.viewPaddingRight,paddingTop:this.viewPaddingTop,pixiRenderer:this.pixiRenderer,pixiStage:this.pixiStage,pluginDataFetchers:this.pluginDataFetchers,pluginTracks:this.pluginTracks,rangeSelection1dSize:this.state.rangeSelection1dSize,rangeSelectionToInt:this.state.rangeSelectionToInt,registerDraggingChangedListener:D=>this.addDraggingChangedListener(d.uid,d.uid,D),removeDraggingChangedListener:D=>this.removeDraggingChangedListener(d.uid,d.uid,D),setCentersFunction:D=>{this.setCenters[d.uid]=D},svgElement:this.state.svgElement,tracks:d.tracks,trackSourceServers:this.state.viewConfig.trackSourceServers,uid:d.uid,verticalMargin:this.verticalMargin,viewOptions:d.options,xDomainLimits:d.xDomainLimits,yDomainLimits:d.yDomainLimits,zoomable:!this.isZoomFixed(d),zoomLimits:this.calculateZoomLimits(d,d.initialXDomain),zoomToDataExtentOnInit:()=>this.zoomToDataExtentOnInit.has(d.uid)}),C=(D,O)=>d.genomePositionSearchBox?M.default.createElement(nze,{key:`gpsb${d.uid}`,ref:B=>{this.genomePositionSearchBoxes[d.uid]=B},autocompleteId:d.genomePositionSearchBox.autocompleteId,autocompleteServer:d.genomePositionSearchBox.autocompleteServer,chromInfoId:d.genomePositionSearchBox.chromInfoId,chromInfoPath:d.genomePositionSearchBox.chromInfoPath,chromInfoServer:d.genomePositionSearchBox.chromInfoServer,hideAvailableAssemblies:d.genomePositionSearchBox.hideAvailableAssemblies,isFocused:D,onFocus:O,onGeneSearch:this.geneSearchHandler.bind(this),onSelectedAssemblyChanged:(B,P,R)=>this.handleSelectedAssemblyChanged(d.uid,B,P,R),registerViewportChangedListener:B=>this.addScalesChangedListener(d.uid,d.uid,B),removeViewportChangedListener:()=>this.removeScalesChangedListener(d.uid,d.uid),setCenters:(B,P,R,$)=>this.setCenters[d.uid](B,P,R,!1,$),trackSourceServers:this.state.viewConfig.trackSourceServers,twoD:!!(d.tracks.left.length||d.tracks.right.length||d.tracks.center.length)}):null,A=this.isEditable()&&!this.isViewHeaderDisabled()&&!this.state.viewConfig.hideHeader?M.default.createElement(oze,{ref:D=>{this.viewHeaders[d.uid]=D},getGenomePositionSearchBox:C,isGenomePositionSearchBoxVisible:d.genomePositionSearchBox&&d.genomePositionSearchBox.visible,mouseTool:this.state.mouseTool,onAddView:()=>this.handleAddView(d),onClearView:()=>this.handleClearView(d.uid),onCloseView:()=>this.handleCloseView(d.uid),onEditViewConfig:this.handleEditViewConfigBound,onExportPNG:this.handleExportPNG.bind(this),onExportSVG:this.handleExportSVG.bind(this),onExportViewsAsJSON:this.handleExportViewAsJSON.bind(this),onExportViewsAsLink:this.handleExportViewsAsLink.bind(this),onLockLocation:D=>this.handleYankFunction(D,this.handleLocationLockChosen.bind(this)),onLockZoom:D=>this.handleYankFunction(D,this.handleZoomLockChosen.bind(this)),onLockZoomAndLocation:D=>this.handleYankFunction(D,(O,B)=>{this.handleZoomLockChosen(O,B),this.handleLocationLockChosen(O,B)}),onProjectViewport:this.handleProjectViewport.bind(this),onTakeAndLockZoomAndLocation:D=>{this.handleYankFunction(D,(O,B)=>{this.handleZoomYanked(O,B),this.handleLocationYanked(O,B),this.handleZoomLockChosen(O,B),this.handleLocationLockChosen(O,B)})},onTogglePositionSearchBox:this.handleTogglePositionSearchBox.bind(this),onTrackPositionChosen:D=>this.handleTrackPositionChosen(d.uid,D),onUnlockLocation:D=>this.handleUnlock(D,this.locationLocks),onUnlockZoom:D=>this.handleUnlock(D,this.zoomLocks),onUnlockZoomAndLocation:D=>{this.handleUnlock(D,this.zoomLocks),this.handleUnlock(D,this.locationLocks)},onViewOptionsChanged:D=>this.handleViewOptionsChanged(d.uid,D),onYankLocation:D=>this.handleYankFunction(D,this.handleLocationYanked.bind(this)),onYankZoom:D=>this.handleYankFunction(D,this.handleZoomYanked.bind(this)),onYankZoomAndLocation:D=>this.handleYankFunction(D,(O,B)=>{this.handleZoomYanked(O,B),this.handleLocationYanked(O,B)}),onZoomToData:D=>this.handleZoomToData(D),viewUid:d.uid}):null;return M.default.createElement("div",{key:d.uid,ref:D=>{this.tiledAreasDivs[d.uid]=D},className:R_["tiled-area"]},A,T,_)}));let n=this.mounted?Object.values(this.state.views).filter(d=>d.layout).map(d=>d.layout):[];n=JSON.parse(JSON.stringify(n));const s=this.isEditable()?o7:0,c=this.isEditable()?s7:0,h=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:s,p=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:c,m=M.default.createElement($me,{ref:d=>{this.gridLayout=d},cols:12,containerPadding:[h,p],draggableHandle:`.${pu["multitrack-header-grabber"]}`,isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:n,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas);return M.default.createElement("div",{key:this.uid,ref:d=>{this.topDiv=d},className:Kn("higlass",{"higlass-dark-theme":this.theme===Oi,"higlass-container-overflow":this.props.options.sizeMode===Eie||this.props.options.sizeMode===BC}),onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound},M.default.createElement(zMe,{value:this.pubSub},M.default.createElement(X6e,{value:this.modal},M.default.createElement(HMe,{value:this.theme},this.state.modal,M.default.createElement("canvas",{key:this.uid,ref:d=>{this.canvasElement=d},onClick:this.canvasClickHandlerBound,className:R_["higlass-canvas"]}),M.default.createElement("div",{ref:d=>{this.scrollContainer=d},className:Kn("higlass-scroll-container",{"higlass-scroll-container-overflow":this.props.options.sizeMode===Eie,"higlass-scroll-container-scroll":this.props.options.sizeMode===BC}),onScroll:this.onScrollHandlerBound},M.default.createElement("div",{ref:d=>{this.divDrawingSurface=d},className:Kn("higlass-drawing-surface",R_["higlass-drawing-surface"])},m),M.default.createElement("svg",{ref:d=>{this.svgElement=d},className:R_["higlass-svg"],style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"}}))))))}}]),r})(M.default.Component);JF.defaultProps={options:{},zoomFixed:!1,compactLayout:!0},JF.propTypes={getApi:z.exports.func,options:z.exports.object,viewConfig:z.exports.oneOfType([z.exports.string,z.exports.object]).isRequired,zoomFixed:z.exports.bool,compactLayout:z.exports.bool};const Vk=JF,Tie=(e,[t,r,i,n],s)=>{s.options.colorbarPosition||(s.options.colorbarPosition="hidden"),s.options.labelPosition||(s.options.labelPosition="hidden");const c="arbitary-id",p=Sie(e,{editable:!1,zoomFixed:!1,views:[{uid:c,initialXDomain:[t,r],initialYDomain:[i,n],tracks:{center:[s]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]},{sizeMode:"bounded"});return{id:c,hgApi:p}};let bie=(function(e){f(r,e);var t=g(r);function r(i){var n;return H(this,r),n=t.call(this,i),n.id=`id-${Math.random()}`,n}return j(r,[{key:"componentDidMount",value:function(){this.initTrackViewer()}},{key:"shouldComponentUpdate",value:function(n){const{x:s,y:c,width:h,height:p}=n;return this.zoomTo(s,c,h,p),!1}},{key:"initTrackViewer",value:function(){const{trackConfig:n,x:s,y:c,width:h,height:p}=this.props,m=document.getElementById(this.id),{id:d,hgApi:E}=Tie(m,[s,s+h,c,c+p],n);this.viewUid=d,this.viewer=E}},{key:"zoomTo",value:function(n,s,c,h){this.viewer.zoomTo(this.viewUid,n,n+c,s,s+h)}},{key:"render",value:function(){return M.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}]),r})(M.default.Component);bie.propTypes={trackConfig:z.exports.object,width:z.exports.number,height:z.exports.number,x:z.exports.number,y:z.exports.number};const LVe={SVGTrack:xp,TiledPixiTrack:Sp,HorizontalGeneAnnotationsTrack:s3},BVe=(e,t,r)=>{const i=M.default.createRef();return ke.default.render(M.default.createElement(Vk,{ref:i,options:r||{},viewConfig:t}),e),i.current},Sie=(e,t,r)=>BVe(e,t,r).api;oe.ChromosomeInfo=Nh,oe.HiGlassComponent=Vk,oe.HiGlassTrackComponent=bie,oe.getTrackObjectFromHGC=aI,oe.mountHGComponent=Y5,oe.schema=QF,oe.trackViewer=Tie,oe.tracks=LVe,oe.version=p6,oe.viewer=Sie,oe.waitForJsonComplete=SD,oe.waitForTilesLoaded=uS,oe.waitForTransitionsFinished=W5,Object.defineProperties(oe,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(nA,nA.exports)),nA.exports}var Dit=Iit();window.higlassTracks=window.higlassTracks||{};window.higlassTracksByType=window.higlassTracksByType||{};window.higlassDataFetchersByType=window.higlassDataFetchersByType||{};const Wse=()=>Math.random().toString(36).substring(2,8),Oit=(l,{force:o=!1}={})=>{let a=Wse();for(;window.higlassTracks[a];)a=Wse();l.name=a,window.higlassTracks[l.name]=l,window.higlassTracksByType[l.config.type]&&!o?console.warn(`A track with the same type (${l.config.type}) was already registered. To override it, set force to true.`):window.higlassTracksByType[l.config.type]=l},kit=(l,{force:o=!1}={})=>{window.higlassDataFetchersByType[l.config.type]&&!o?console.warn(`A data fetcher with the same type (${l.config.type}) was already registered. To override it, set force to true.`):window.higlassDataFetchersByType[l.config.type]=l},Pit=(l,o={})=>{const{pluginType:a="track"}=o;a==="track"?Oit(l,o):a==="dataFetcher"&&kit(l,o)};var Rit=Object.create,AR=Object.defineProperty,Nit=Object.getOwnPropertyDescriptor,g9=Object.getOwnPropertyNames,Mit=Object.getPrototypeOf,Lit=Object.prototype.hasOwnProperty,wo=(l,o)=>function(){return l&&(o=(0,l[g9(l)[0]])(l=0)),o},Nc=(l,o)=>function(){return o||(0,l[g9(l)[0]])((o={exports:{}}).exports,o),o.exports},Bit=(l,o)=>{for(var a in o)AR(l,a,{get:o[a],enumerable:!0})},sfe=(l,o,a,u)=>{if(o&&typeof o=="object"||typeof o=="function")for(let f of g9(o))!Lit.call(l,f)&&f!==a&&AR(l,f,{get:()=>o[f],enumerable:!(u=Nit(o,f))||u.enumerable});return l},Qv=(l,o,a)=>(a=l!=null?Rit(Mit(l)):{},sfe(o||!l||!l.__esModule?AR(a,"default",{value:l,enumerable:!0}):a,l)),Fit=l=>sfe(AR({},"__esModule",{value:!0}),l);function lfe(){throw new Error("setTimeout has not been defined")}function ufe(){throw new Error("clearTimeout has not been defined")}function cfe(l){if(Jf===setTimeout)return setTimeout(l,0);if((Jf===lfe||!Jf)&&setTimeout)return Jf=setTimeout,setTimeout(l,0);try{return Jf(l,0)}catch{try{return Jf.call(null,l,0)}catch{return Jf.call(this,l,0)}}}function Uit(l){if(ed===clearTimeout)return clearTimeout(l);if((ed===ufe||!ed)&&clearTimeout)return ed=clearTimeout,clearTimeout(l);try{return ed(l)}catch{try{return ed.call(null,l)}catch{return ed.call(this,l)}}}function Hit(){!$v||!Bv||($v=!1,Bv.length?Vh=Bv.concat(Vh):dA=-1,Vh.length&&hfe())}function hfe(){if(!$v){var l=cfe(Hit);$v=!0;for(var o=Vh.length;o;){for(Bv=Vh,Vh=[];++dA<o;)Bv&&Bv[dA].run();dA=-1,o=Vh.length}Bv=null,$v=!1,Uit(l)}}function $it(l){var o=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)o[a-1]=arguments[a];Vh.push(new ffe(l,o)),Vh.length===1&&!$v&&cfe(hfe)}function ffe(l,o){this.fun=l,this.array=o}function _v(){}function Git(l){throw new Error("process.binding is not supported")}function zit(){return"/"}function jit(l){throw new Error("process.chdir is not supported")}function Vit(){return 0}function Wit(l){var o=dfe.call(Ov)*.001,a=Math.floor(o),u=Math.floor(o%1*1e9);return l&&(a=a-l[0],u=u-l[1],u<0&&(a--,u+=1e9)),[a,u]}function Yit(){var l=new Date,o=l-pfe;return o/1e3}var Jf,ed,Vh,$v,Bv,dA,Yse,Xse,qse,Kse,Zse,Qse,Jse,ele,tle,rle,nle,ile,ale,ole,sle,lle,Ov,dfe,pfe,ule,tU,nr=wo({"node_modules/@esbuild-plugins/node-globals-polyfill/_virtual-process-polyfill_.js"(){Jf=lfe,ed=ufe,typeof globalThis.setTimeout=="function"&&(Jf=setTimeout),typeof globalThis.clearTimeout=="function"&&(ed=clearTimeout),Vh=[],$v=!1,dA=-1,ffe.prototype.run=function(){this.fun.apply(null,this.array)},Yse="browser",Xse="browser",qse=!0,Kse={},Zse=[],Qse="",Jse={},ele={},tle={},rle=_v,nle=_v,ile=_v,ale=_v,ole=_v,sle=_v,lle=_v,Ov=globalThis.performance||{},dfe=Ov.now||Ov.mozNow||Ov.msNow||Ov.oNow||Ov.webkitNow||function(){return new Date().getTime()},pfe=new Date,ule={nextTick:$it,title:Yse,browser:qse,env:Kse,argv:Zse,version:Qse,versions:Jse,on:rle,addListener:nle,once:ile,off:ale,removeListener:ole,removeAllListeners:sle,emit:lle,binding:Git,cwd:zit,chdir:jit,umask:Vit,hrtime:Wit,platform:Xse,release:ele,config:tle,uptime:Yit},tU={},Object.keys(tU).forEach(l=>{const o=l.split(".");let a=ule;for(let u=0;u<o.length;u++){const f=o[u];u===o.length-1?a[f]=tU[l]:a=a[f]||(a[f]={})}})}});function mfe(){xR=!0;for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=l.length;o<a;++o)Oc[o]=l[o],ql[l.charCodeAt(o)]=o;ql[45]=62,ql[95]=63}function Xit(l){xR||mfe();var o,a,u,f,g,v,S=l.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");g=l[S-2]==="="?2:l[S-1]==="="?1:0,v=new Afe(S*3/4-g),u=g>0?S-4:S;var w=0;for(o=0,a=0;o<u;o+=4,a+=3)f=ql[l.charCodeAt(o)]<<18|ql[l.charCodeAt(o+1)]<<12|ql[l.charCodeAt(o+2)]<<6|ql[l.charCodeAt(o+3)],v[w++]=f>>16&255,v[w++]=f>>8&255,v[w++]=f&255;return g===2?(f=ql[l.charCodeAt(o)]<<2|ql[l.charCodeAt(o+1)]>>4,v[w++]=f&255):g===1&&(f=ql[l.charCodeAt(o)]<<10|ql[l.charCodeAt(o+1)]<<4|ql[l.charCodeAt(o+2)]>>2,v[w++]=f>>8&255,v[w++]=f&255),v}function qit(l){return Oc[l>>18&63]+Oc[l>>12&63]+Oc[l>>6&63]+Oc[l&63]}function Kit(l,o,a){for(var u,f=[],g=o;g<a;g+=3)u=(l[g]<<16)+(l[g+1]<<8)+l[g+2],f.push(qit(u));return f.join("")}function cle(l){xR||mfe();for(var o,a=l.length,u=a%3,f="",g=[],v=16383,S=0,w=a-u;S<w;S+=v)g.push(Kit(l,S,S+v>w?w:S+v));return u===1?(o=l[a-1],f+=Oc[o>>2],f+=Oc[o<<4&63],f+="=="):u===2&&(o=(l[a-2]<<8)+l[a-1],f+=Oc[o>>10],f+=Oc[o>>4&63],f+=Oc[o<<2&63],f+="="),g.push(f),g.join("")}function JP(){return Zt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function od(l,o){if(JP()<o)throw new RangeError("Invalid typed array length");return Zt.TYPED_ARRAY_SUPPORT?(l=new Uint8Array(o),l.__proto__=Zt.prototype):(l===null&&(l=new Zt(o)),l.length=o),l}function Zt(l,o,a){if(!Zt.TYPED_ARRAY_SUPPORT&&!(this instanceof Zt))return new Zt(l,o,a);if(typeof l=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return VH(this,l)}return gfe(this,l,o,a)}function gfe(l,o,a,u){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?Jit(l,o,a,u):typeof o=="string"?Qit(l,o,a):eat(l,o)}function vfe(l){if(typeof l!="number")throw new TypeError('"size" argument must be a number');if(l<0)throw new RangeError('"size" argument must not be negative')}function Zit(l,o,a,u){return vfe(o),o<=0?od(l,o):a!==void 0?typeof u=="string"?od(l,o).fill(a,u):od(l,o).fill(a):od(l,o)}function VH(l,o){if(vfe(o),l=od(l,o<0?0:v9(o)|0),!Zt.TYPED_ARRAY_SUPPORT)for(var a=0;a<o;++a)l[a]=0;return l}function Qit(l,o,a){if((typeof a!="string"||a==="")&&(a="utf8"),!Zt.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var u=yfe(o,a)|0;l=od(l,u);var f=l.write(o,a);return f!==u&&(l=l.slice(0,f)),l}function WH(l,o){var a=o.length<0?0:v9(o.length)|0;l=od(l,a);for(var u=0;u<a;u+=1)l[u]=o[u]&255;return l}function Jit(l,o,a,u){if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(u||0))throw new RangeError("'length' is out of bounds");return a===void 0&&u===void 0?o=new Uint8Array(o):u===void 0?o=new Uint8Array(o,a):o=new Uint8Array(o,a,u),Zt.TYPED_ARRAY_SUPPORT?(l=o,l.__proto__=Zt.prototype):l=WH(l,o),l}function eat(l,o){if(Gh(o)){var a=v9(o.length)|0;return l=od(l,a),l.length===0||o.copy(l,0,0,a),l}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||yat(o.length)?od(l,0):WH(l,o);if(o.type==="Buffer"&&Array.isArray(o.data))return WH(l,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v9(l){if(l>=JP())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+JP().toString(16)+" bytes");return l|0}function Gh(l){return!!(l!=null&&l._isBuffer)}function yfe(l,o){if(Gh(l))return l.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(l)||l instanceof ArrayBuffer))return l.byteLength;typeof l!="string"&&(l=""+l);var a=l.length;if(a===0)return 0;for(var u=!1;;)switch(o){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return eR(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return bfe(l).length;default:if(u)return eR(l).length;o=(""+o).toLowerCase(),u=!0}}function tat(l,o,a){var u=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,o>>>=0,a<=o))return"";for(l||(l="utf8");;)switch(l){case"hex":return hat(this,o,a);case"utf8":case"utf-8":return Efe(this,o,a);case"ascii":return uat(this,o,a);case"latin1":case"binary":return cat(this,o,a);case"base64":return sat(this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fat(this,o,a);default:if(u)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),u=!0}}function Ev(l,o,a){var u=l[o];l[o]=l[a],l[a]=u}function hle(l,o,a,u,f){if(l.length===0)return-1;if(typeof a=="string"?(u=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=f?0:l.length-1),a<0&&(a=l.length+a),a>=l.length){if(f)return-1;a=l.length-1}else if(a<0)if(f)a=0;else return-1;if(typeof o=="string"&&(o=Zt.from(o,u)),Gh(o))return o.length===0?-1:fle(l,o,a,u,f);if(typeof o=="number")return o=o&255,Zt.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(l,o,a):Uint8Array.prototype.lastIndexOf.call(l,o,a):fle(l,[o],a,u,f);throw new TypeError("val must be string, number or Buffer")}function fle(l,o,a,u,f){var g=1,v=l.length,S=o.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(l.length<2||o.length<2)return-1;g=2,v/=2,S/=2,a/=2}function w(N,H){return g===1?N[H]:N.readUInt16BE(H*g)}var I;if(f){var k=-1;for(I=a;I<v;I++)if(w(l,I)===w(o,k===-1?0:I-k)){if(k===-1&&(k=I),I-k+1===S)return k*g}else k!==-1&&(I-=I-k),k=-1}else for(a+S>v&&(a=v-S),I=a;I>=0;I--){for(var F=!0,U=0;U<S;U++)if(w(l,I+U)!==w(o,U)){F=!1;break}if(F)return I}return-1}function rat(l,o,a,u){a=Number(a)||0;var f=l.length-a;u?(u=Number(u),u>f&&(u=f)):u=f;var g=o.length;if(g%2!==0)throw new TypeError("Invalid hex string");u>g/2&&(u=g/2);for(var v=0;v<u;++v){var S=parseInt(o.substr(v*2,2),16);if(isNaN(S))return v;l[a+v]=S}return v}function nat(l,o,a,u){return wR(eR(o,l.length-a),l,a,u)}function _fe(l,o,a,u){return wR(gat(o),l,a,u)}function iat(l,o,a,u){return _fe(l,o,a,u)}function aat(l,o,a,u){return wR(bfe(o),l,a,u)}function oat(l,o,a,u){return wR(vat(o,l.length-a),l,a,u)}function sat(l,o,a){return o===0&&a===l.length?cle(l):cle(l.slice(o,a))}function Efe(l,o,a){a=Math.min(l.length,a);for(var u=[],f=o;f<a;){var g=l[f],v=null,S=g>239?4:g>223?3:g>191?2:1;if(f+S<=a){var w,I,k,F;switch(S){case 1:g<128&&(v=g);break;case 2:w=l[f+1],(w&192)===128&&(F=(g&31)<<6|w&63,F>127&&(v=F));break;case 3:w=l[f+1],I=l[f+2],(w&192)===128&&(I&192)===128&&(F=(g&15)<<12|(w&63)<<6|I&63,F>2047&&(F<55296||F>57343)&&(v=F));break;case 4:w=l[f+1],I=l[f+2],k=l[f+3],(w&192)===128&&(I&192)===128&&(k&192)===128&&(F=(g&15)<<18|(w&63)<<12|(I&63)<<6|k&63,F>65535&&F<1114112&&(v=F))}}v===null?(v=65533,S=1):v>65535&&(v-=65536,u.push(v>>>10&1023|55296),v=56320|v&1023),u.push(v),f+=S}return lat(u)}function lat(l){var o=l.length;if(o<=YH)return String.fromCharCode.apply(String,l);for(var a="",u=0;u<o;)a+=String.fromCharCode.apply(String,l.slice(u,u+=YH));return a}function uat(l,o,a){var u="";a=Math.min(l.length,a);for(var f=o;f<a;++f)u+=String.fromCharCode(l[f]&127);return u}function cat(l,o,a){var u="";a=Math.min(l.length,a);for(var f=o;f<a;++f)u+=String.fromCharCode(l[f]);return u}function hat(l,o,a){var u=l.length;(!o||o<0)&&(o=0),(!a||a<0||a>u)&&(a=u);for(var f="",g=o;g<a;++g)f+=mat(l[g]);return f}function fat(l,o,a){for(var u=l.slice(o,a),f="",g=0;g<u.length;g+=2)f+=String.fromCharCode(u[g]+u[g+1]*256);return f}function bo(l,o,a){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+o>a)throw new RangeError("Trying to access beyond buffer length")}function ll(l,o,a,u,f,g){if(!Gh(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>f||o<g)throw new RangeError('"value" argument is out of bounds');if(a+u>l.length)throw new RangeError("Index out of range")}function _P(l,o,a,u){o<0&&(o=65535+o+1);for(var f=0,g=Math.min(l.length-a,2);f<g;++f)l[a+f]=(o&255<<8*(u?f:1-f))>>>(u?f:1-f)*8}function EP(l,o,a,u){o<0&&(o=4294967295+o+1);for(var f=0,g=Math.min(l.length-a,4);f<g;++f)l[a+f]=o>>>(u?f:3-f)*8&255}function Tfe(l,o,a,u,f,g){if(a+u>l.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function dle(l,o,a,u,f){return f||Tfe(l,o,a,4),Cfe(l,o,a,u,23,4),a+4}function ple(l,o,a,u,f){return f||Tfe(l,o,a,8),Cfe(l,o,a,u,52,8),a+8}function dat(l){if(l=pat(l).replace(wfe,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function pat(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function mat(l){return l<16?"0"+l.toString(16):l.toString(16)}function eR(l,o){o=o||1/0;for(var a,u=l.length,f=null,g=[],v=0;v<u;++v){if(a=l.charCodeAt(v),a>55295&&a<57344){if(!f){if(a>56319){(o-=3)>-1&&g.push(239,191,189);continue}else if(v+1===u){(o-=3)>-1&&g.push(239,191,189);continue}f=a;continue}if(a<56320){(o-=3)>-1&&g.push(239,191,189),f=a;continue}a=(f-55296<<10|a-56320)+65536}else f&&(o-=3)>-1&&g.push(239,191,189);if(f=null,a<128){if((o-=1)<0)break;g.push(a)}else if(a<2048){if((o-=2)<0)break;g.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;g.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;g.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return g}function gat(l){for(var o=[],a=0;a<l.length;++a)o.push(l.charCodeAt(a)&255);return o}function vat(l,o){for(var a,u,f,g=[],v=0;v<l.length&&!((o-=2)<0);++v)a=l.charCodeAt(v),u=a>>8,f=a%256,g.push(f),g.push(u);return g}function bfe(l){return Xit(dat(l))}function wR(l,o,a,u){for(var f=0;f<u&&!(f+a>=o.length||f>=l.length);++f)o[f+a]=l[f];return f}function yat(l){return l!==l}function _at(l){return l!=null&&(!!l._isBuffer||Sfe(l)||Eat(l))}function Sfe(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function Eat(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&Sfe(l.slice(0,0))}function TP(l,o,a,u,f){var g,v,S=f*8-u-1,w=(1<<S)-1,I=w>>1,k=-7,F=a?f-1:0,U=a?-1:1,N=l[o+F];for(F+=U,g=N&(1<<-k)-1,N>>=-k,k+=S;k>0;g=g*256+l[o+F],F+=U,k-=8);for(v=g&(1<<-k)-1,g>>=-k,k+=u;k>0;v=v*256+l[o+F],F+=U,k-=8);if(g===0)g=1-I;else{if(g===w)return v?NaN:(N?-1:1)*(1/0);v=v+Math.pow(2,u),g=g-I}return(N?-1:1)*v*Math.pow(2,g-u)}function Cfe(l,o,a,u,f,g){var v,S,w,I=g*8-f-1,k=(1<<I)-1,F=k>>1,U=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=u?0:g-1,H=u?1:-1,q=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(S=isNaN(o)?1:0,v=k):(v=Math.floor(Math.log(o)/Math.LN2),o*(w=Math.pow(2,-v))<1&&(v--,w*=2),v+F>=1?o+=U/w:o+=U*Math.pow(2,1-F),o*w>=2&&(v++,w/=2),v+F>=k?(S=0,v=k):v+F>=1?(S=(o*w-1)*Math.pow(2,f),v=v+F):(S=o*Math.pow(2,F-1)*Math.pow(2,f),v=0));f>=8;l[a+N]=S&255,N+=H,S/=256,f-=8);for(v=v<<f|S,I+=f;I>0;l[a+N]=v&255,N+=H,v/=256,I-=8);l[a+N-H]|=q*128}var Oc,ql,Afe,xR,YH,wfe,Tat=wo({"node_modules/@esbuild-plugins/node-globals-polyfill/Buffer.js"(){nr(),ir(),Oc=[],ql=[],Afe=typeof Uint8Array<"u"?Uint8Array:Array,xR=!1,Zt.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0,Zt.poolSize=8192,Zt._augment=function(l){return l.__proto__=Zt.prototype,l},Zt.from=function(l,o,a){return gfe(null,l,o,a)},Zt.kMaxLength=JP(),Zt.TYPED_ARRAY_SUPPORT&&(Zt.prototype.__proto__=Uint8Array.prototype,Zt.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Zt[Symbol.species]),Zt.alloc=function(l,o,a){return Zit(null,l,o,a)},Zt.allocUnsafe=function(l){return VH(null,l)},Zt.allocUnsafeSlow=function(l){return VH(null,l)},Zt.isBuffer=_at,Zt.compare=function(o,a){if(!Gh(o)||!Gh(a))throw new TypeError("Arguments must be Buffers");if(o===a)return 0;for(var u=o.length,f=a.length,g=0,v=Math.min(u,f);g<v;++g)if(o[g]!==a[g]){u=o[g],f=a[g];break}return u<f?-1:f<u?1:0},Zt.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Zt.concat=function(o,a){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return Zt.alloc(0);var u;if(a===void 0)for(a=0,u=0;u<o.length;++u)a+=o[u].length;var f=Zt.allocUnsafe(a),g=0;for(u=0;u<o.length;++u){var v=o[u];if(!Gh(v))throw new TypeError('"list" argument must be an Array of Buffers');v.copy(f,g),g+=v.length}return f},Zt.byteLength=yfe,Zt.prototype._isBuffer=!0,Zt.prototype.swap16=function(){var o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<o;a+=2)Ev(this,a,a+1);return this},Zt.prototype.swap32=function(){var o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<o;a+=4)Ev(this,a,a+3),Ev(this,a+1,a+2);return this},Zt.prototype.swap64=function(){var o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<o;a+=8)Ev(this,a,a+7),Ev(this,a+1,a+6),Ev(this,a+2,a+5),Ev(this,a+3,a+4);return this},Zt.prototype.toString=function(){var o=this.length|0;return o===0?"":arguments.length===0?Efe(this,0,o):tat.apply(this,arguments)},Zt.prototype.equals=function(o){if(!Gh(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:Zt.compare(this,o)===0},Zt.prototype.compare=function(o,a,u,f,g){if(!Gh(o))throw new TypeError("Argument must be a Buffer");if(a===void 0&&(a=0),u===void 0&&(u=o?o.length:0),f===void 0&&(f=0),g===void 0&&(g=this.length),a<0||u>o.length||f<0||g>this.length)throw new RangeError("out of range index");if(f>=g&&a>=u)return 0;if(f>=g)return-1;if(a>=u)return 1;if(a>>>=0,u>>>=0,f>>>=0,g>>>=0,this===o)return 0;for(var v=g-f,S=u-a,w=Math.min(v,S),I=this.slice(f,g),k=o.slice(a,u),F=0;F<w;++F)if(I[F]!==k[F]){v=I[F],S=k[F];break}return v<S?-1:S<v?1:0},Zt.prototype.includes=function(o,a,u){return this.indexOf(o,a,u)!==-1},Zt.prototype.indexOf=function(o,a,u){return hle(this,o,a,u,!0)},Zt.prototype.lastIndexOf=function(o,a,u){return hle(this,o,a,u,!1)},Zt.prototype.write=function(o,a,u,f){if(a===void 0)f="utf8",u=this.length,a=0;else if(u===void 0&&typeof a=="string")f=a,u=this.length,a=0;else if(isFinite(a))a=a|0,isFinite(u)?(u=u|0,f===void 0&&(f="utf8")):(f=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var g=this.length-a;if((u===void 0||u>g)&&(u=g),o.length>0&&(u<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(var v=!1;;)switch(f){case"hex":return rat(this,o,a,u);case"utf8":case"utf-8":return nat(this,o,a,u);case"ascii":return _fe(this,o,a,u);case"latin1":case"binary":return iat(this,o,a,u);case"base64":return aat(this,o,a,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oat(this,o,a,u);default:if(v)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),v=!0}},Zt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},YH=4096,Zt.prototype.slice=function(o,a){var u=this.length;o=~~o,a=a===void 0?u:~~a,o<0?(o+=u,o<0&&(o=0)):o>u&&(o=u),a<0?(a+=u,a<0&&(a=0)):a>u&&(a=u),a<o&&(a=o);var f;if(Zt.TYPED_ARRAY_SUPPORT)f=this.subarray(o,a),f.__proto__=Zt.prototype;else{var g=a-o;f=new Zt(g,void 0);for(var v=0;v<g;++v)f[v]=this[v+o]}return f},Zt.prototype.readUIntLE=function(o,a,u){o=o|0,a=a|0,u||bo(o,a,this.length);for(var f=this[o],g=1,v=0;++v<a&&(g*=256);)f+=this[o+v]*g;return f},Zt.prototype.readUIntBE=function(o,a,u){o=o|0,a=a|0,u||bo(o,a,this.length);for(var f=this[o+--a],g=1;a>0&&(g*=256);)f+=this[o+--a]*g;return f},Zt.prototype.readUInt8=function(o,a){return a||bo(o,1,this.length),this[o]},Zt.prototype.readUInt16LE=function(o,a){return a||bo(o,2,this.length),this[o]|this[o+1]<<8},Zt.prototype.readUInt16BE=function(o,a){return a||bo(o,2,this.length),this[o]<<8|this[o+1]},Zt.prototype.readUInt32LE=function(o,a){return a||bo(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},Zt.prototype.readUInt32BE=function(o,a){return a||bo(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},Zt.prototype.readIntLE=function(o,a,u){o=o|0,a=a|0,u||bo(o,a,this.length);for(var f=this[o],g=1,v=0;++v<a&&(g*=256);)f+=this[o+v]*g;return g*=128,f>=g&&(f-=Math.pow(2,8*a)),f},Zt.prototype.readIntBE=function(o,a,u){o=o|0,a=a|0,u||bo(o,a,this.length);for(var f=a,g=1,v=this[o+--f];f>0&&(g*=256);)v+=this[o+--f]*g;return g*=128,v>=g&&(v-=Math.pow(2,8*a)),v},Zt.prototype.readInt8=function(o,a){return a||bo(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},Zt.prototype.readInt16LE=function(o,a){a||bo(o,2,this.length);var u=this[o]|this[o+1]<<8;return u&32768?u|4294901760:u},Zt.prototype.readInt16BE=function(o,a){a||bo(o,2,this.length);var u=this[o+1]|this[o]<<8;return u&32768?u|4294901760:u},Zt.prototype.readInt32LE=function(o,a){return a||bo(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},Zt.prototype.readInt32BE=function(o,a){return a||bo(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},Zt.prototype.readFloatLE=function(o,a){return a||bo(o,4,this.length),TP(this,o,!0,23,4)},Zt.prototype.readFloatBE=function(o,a){return a||bo(o,4,this.length),TP(this,o,!1,23,4)},Zt.prototype.readDoubleLE=function(o,a){return a||bo(o,8,this.length),TP(this,o,!0,52,8)},Zt.prototype.readDoubleBE=function(o,a){return a||bo(o,8,this.length),TP(this,o,!1,52,8)},Zt.prototype.writeUIntLE=function(o,a,u,f){if(o=+o,a=a|0,u=u|0,!f){var g=Math.pow(2,8*u)-1;ll(this,o,a,u,g,0)}var v=1,S=0;for(this[a]=o&255;++S<u&&(v*=256);)this[a+S]=o/v&255;return a+u},Zt.prototype.writeUIntBE=function(o,a,u,f){if(o=+o,a=a|0,u=u|0,!f){var g=Math.pow(2,8*u)-1;ll(this,o,a,u,g,0)}var v=u-1,S=1;for(this[a+v]=o&255;--v>=0&&(S*=256);)this[a+v]=o/S&255;return a+u},Zt.prototype.writeUInt8=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,1,255,0),Zt.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),this[a]=o&255,a+1},Zt.prototype.writeUInt16LE=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,2,65535,0),Zt.TYPED_ARRAY_SUPPORT?(this[a]=o&255,this[a+1]=o>>>8):_P(this,o,a,!0),a+2},Zt.prototype.writeUInt16BE=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,2,65535,0),Zt.TYPED_ARRAY_SUPPORT?(this[a]=o>>>8,this[a+1]=o&255):_P(this,o,a,!1),a+2},Zt.prototype.writeUInt32LE=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,4,4294967295,0),Zt.TYPED_ARRAY_SUPPORT?(this[a+3]=o>>>24,this[a+2]=o>>>16,this[a+1]=o>>>8,this[a]=o&255):EP(this,o,a,!0),a+4},Zt.prototype.writeUInt32BE=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,4,4294967295,0),Zt.TYPED_ARRAY_SUPPORT?(this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255):EP(this,o,a,!1),a+4},Zt.prototype.writeIntLE=function(o,a,u,f){if(o=+o,a=a|0,!f){var g=Math.pow(2,8*u-1);ll(this,o,a,u,g-1,-g)}var v=0,S=1,w=0;for(this[a]=o&255;++v<u&&(S*=256);)o<0&&w===0&&this[a+v-1]!==0&&(w=1),this[a+v]=(o/S>>0)-w&255;return a+u},Zt.prototype.writeIntBE=function(o,a,u,f){if(o=+o,a=a|0,!f){var g=Math.pow(2,8*u-1);ll(this,o,a,u,g-1,-g)}var v=u-1,S=1,w=0;for(this[a+v]=o&255;--v>=0&&(S*=256);)o<0&&w===0&&this[a+v+1]!==0&&(w=1),this[a+v]=(o/S>>0)-w&255;return a+u},Zt.prototype.writeInt8=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,1,127,-128),Zt.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),o<0&&(o=255+o+1),this[a]=o&255,a+1},Zt.prototype.writeInt16LE=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,2,32767,-32768),Zt.TYPED_ARRAY_SUPPORT?(this[a]=o&255,this[a+1]=o>>>8):_P(this,o,a,!0),a+2},Zt.prototype.writeInt16BE=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,2,32767,-32768),Zt.TYPED_ARRAY_SUPPORT?(this[a]=o>>>8,this[a+1]=o&255):_P(this,o,a,!1),a+2},Zt.prototype.writeInt32LE=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,4,2147483647,-2147483648),Zt.TYPED_ARRAY_SUPPORT?(this[a]=o&255,this[a+1]=o>>>8,this[a+2]=o>>>16,this[a+3]=o>>>24):EP(this,o,a,!0),a+4},Zt.prototype.writeInt32BE=function(o,a,u){return o=+o,a=a|0,u||ll(this,o,a,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),Zt.TYPED_ARRAY_SUPPORT?(this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255):EP(this,o,a,!1),a+4},Zt.prototype.writeFloatLE=function(o,a,u){return dle(this,o,a,!0,u)},Zt.prototype.writeFloatBE=function(o,a,u){return dle(this,o,a,!1,u)},Zt.prototype.writeDoubleLE=function(o,a,u){return ple(this,o,a,!0,u)},Zt.prototype.writeDoubleBE=function(o,a,u){return ple(this,o,a,!1,u)},Zt.prototype.copy=function(o,a,u,f){if(u||(u=0),!f&&f!==0&&(f=this.length),a>=o.length&&(a=o.length),a||(a=0),f>0&&f<u&&(f=u),f===u||o.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("sourceStart out of bounds");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),o.length-a<f-u&&(f=o.length-a+u);var g=f-u,v;if(this===o&&u<a&&a<f)for(v=g-1;v>=0;--v)o[v+a]=this[v+u];else if(g<1e3||!Zt.TYPED_ARRAY_SUPPORT)for(v=0;v<g;++v)o[v+a]=this[v+u];else Uint8Array.prototype.set.call(o,this.subarray(u,u+g),a);return g},Zt.prototype.fill=function(o,a,u,f){if(typeof o=="string"){if(typeof a=="string"?(f=a,a=0,u=this.length):typeof u=="string"&&(f=u,u=this.length),o.length===1){var g=o.charCodeAt(0);g<256&&(o=g)}if(f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!Zt.isEncoding(f))throw new TypeError("Unknown encoding: "+f)}else typeof o=="number"&&(o=o&255);if(a<0||this.length<a||this.length<u)throw new RangeError("Out of range index");if(u<=a)return this;a=a>>>0,u=u===void 0?this.length:u>>>0,o||(o=0);var v;if(typeof o=="number")for(v=a;v<u;++v)this[v]=o;else{var S=Gh(o)?o:eR(new Zt(o,f).toString()),w=S.length;for(v=0;v<u-a;++v)this[v+a]=S[v%w]}return this},wfe=/[^+\/0-9A-Za-z-_]/g}}),ir=wo({"node_modules/@esbuild-plugins/node-globals-polyfill/_buffer.js"(){Tat()}});function xfe(){if(!bP&&(bP=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!bP))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bP(Ife)}var bP,Ife,Dfe=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/rng.js"(){nr(),ir(),Ife=new Uint8Array(16)}}),Ofe,bat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/regex.js"(){nr(),ir(),Ofe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}});function Sat(l){return typeof l=="string"&&Ofe.test(l)}var FA,IR=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/validate.js"(){nr(),ir(),bat(),FA=Sat}});function Cat(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=(So[l[o+0]]+So[l[o+1]]+So[l[o+2]]+So[l[o+3]]+"-"+So[l[o+4]]+So[l[o+5]]+"-"+So[l[o+6]]+So[l[o+7]]+"-"+So[l[o+8]]+So[l[o+9]]+"-"+So[l[o+10]]+So[l[o+11]]+So[l[o+12]]+So[l[o+13]]+So[l[o+14]]+So[l[o+15]]).toLowerCase();if(!FA(a))throw TypeError("Stringified UUID is invalid");return a}var So,SP,UA,DR=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/stringify.js"(){for(nr(),ir(),IR(),So=[],SP=0;SP<256;++SP)So.push((SP+256).toString(16).substr(1));UA=Cat}});function Aat(l,o,a){var u=o&&a||0,f=o||new Array(16);l=l||{};var g=l.node||mle,v=l.clockseq!==void 0?l.clockseq:rU;if(g==null||v==null){var S=l.random||(l.rng||xfe)();g==null&&(g=mle=[S[0]|1,S[1],S[2],S[3],S[4],S[5]]),v==null&&(v=rU=(S[6]<<8|S[7])&16383)}var w=l.msecs!==void 0?l.msecs:Date.now(),I=l.nsecs!==void 0?l.nsecs:UP+1,k=w-FP+(I-UP)/1e4;if(k<0&&l.clockseq===void 0&&(v=v+1&16383),(k<0||w>FP)&&l.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");FP=w,UP=I,rU=v,w+=122192928e5;var F=((w&268435455)*1e4+I)%4294967296;f[u++]=F>>>24&255,f[u++]=F>>>16&255,f[u++]=F>>>8&255,f[u++]=F&255;var U=w/4294967296*1e4&268435455;f[u++]=U>>>8&255,f[u++]=U&255,f[u++]=U>>>24&15|16,f[u++]=U>>>16&255,f[u++]=v>>>8|128,f[u++]=v&255;for(var N=0;N<6;++N)f[u+N]=g[N];return o||UA(f)}var mle,rU,FP,UP,kfe,wat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v1.js"(){nr(),ir(),Dfe(),DR(),FP=0,UP=0,kfe=Aat}});function xat(l){if(!FA(l))throw TypeError("Invalid UUID");var o,a=new Uint8Array(16);return a[0]=(o=parseInt(l.slice(0,8),16))>>>24,a[1]=o>>>16&255,a[2]=o>>>8&255,a[3]=o&255,a[4]=(o=parseInt(l.slice(9,13),16))>>>8,a[5]=o&255,a[6]=(o=parseInt(l.slice(14,18),16))>>>8,a[7]=o&255,a[8]=(o=parseInt(l.slice(19,23),16))>>>8,a[9]=o&255,a[10]=(o=parseInt(l.slice(24,36),16))/1099511627776&255,a[11]=o/4294967296&255,a[12]=o>>>24&255,a[13]=o>>>16&255,a[14]=o>>>8&255,a[15]=o&255,a}var y9,Pfe=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/parse.js"(){nr(),ir(),IR(),y9=xat}});function Iat(l){l=unescape(encodeURIComponent(l));for(var o=[],a=0;a<l.length;++a)o.push(l.charCodeAt(a));return o}function Rfe(l,o,a){function u(f,g,v,S){if(typeof f=="string"&&(f=Iat(f)),typeof g=="string"&&(g=y9(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var w=new Uint8Array(16+f.length);if(w.set(g),w.set(f,g.length),w=a(w),w[6]=w[6]&15|o,w[8]=w[8]&63|128,v){S=S||0;for(var I=0;I<16;++I)v[S+I]=w[I];return v}return UA(w)}try{u.name=l}catch{}return u.DNS=Nfe,u.URL=Mfe,u}var Nfe,Mfe,Lfe=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v35.js"(){nr(),ir(),DR(),Pfe(),Nfe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Mfe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"}});function Dat(l){if(typeof l=="string"){var o=unescape(encodeURIComponent(l));l=new Uint8Array(o.length);for(var a=0;a<o.length;++a)l[a]=o.charCodeAt(a)}return Oat(kat(Pat(l),l.length*8))}function Oat(l){for(var o=[],a=l.length*32,u="0123456789abcdef",f=0;f<a;f+=8){var g=l[f>>5]>>>f%32&255,v=parseInt(u.charAt(g>>>4&15)+u.charAt(g&15),16);o.push(v)}return o}function Bfe(l){return(l+64>>>9<<4)+14+1}function kat(l,o){l[o>>5]|=128<<o%32,l[Bfe(o)-1]=o;for(var a=1732584193,u=-271733879,f=-1732584194,g=271733878,v=0;v<l.length;v+=16){var S=a,w=u,I=f,k=g;a=ds(a,u,f,g,l[v],7,-680876936),g=ds(g,a,u,f,l[v+1],12,-389564586),f=ds(f,g,a,u,l[v+2],17,606105819),u=ds(u,f,g,a,l[v+3],22,-1044525330),a=ds(a,u,f,g,l[v+4],7,-176418897),g=ds(g,a,u,f,l[v+5],12,1200080426),f=ds(f,g,a,u,l[v+6],17,-1473231341),u=ds(u,f,g,a,l[v+7],22,-45705983),a=ds(a,u,f,g,l[v+8],7,1770035416),g=ds(g,a,u,f,l[v+9],12,-1958414417),f=ds(f,g,a,u,l[v+10],17,-42063),u=ds(u,f,g,a,l[v+11],22,-1990404162),a=ds(a,u,f,g,l[v+12],7,1804603682),g=ds(g,a,u,f,l[v+13],12,-40341101),f=ds(f,g,a,u,l[v+14],17,-1502002290),u=ds(u,f,g,a,l[v+15],22,1236535329),a=ps(a,u,f,g,l[v+1],5,-165796510),g=ps(g,a,u,f,l[v+6],9,-1069501632),f=ps(f,g,a,u,l[v+11],14,643717713),u=ps(u,f,g,a,l[v],20,-373897302),a=ps(a,u,f,g,l[v+5],5,-701558691),g=ps(g,a,u,f,l[v+10],9,38016083),f=ps(f,g,a,u,l[v+15],14,-660478335),u=ps(u,f,g,a,l[v+4],20,-405537848),a=ps(a,u,f,g,l[v+9],5,568446438),g=ps(g,a,u,f,l[v+14],9,-1019803690),f=ps(f,g,a,u,l[v+3],14,-187363961),u=ps(u,f,g,a,l[v+8],20,1163531501),a=ps(a,u,f,g,l[v+13],5,-1444681467),g=ps(g,a,u,f,l[v+2],9,-51403784),f=ps(f,g,a,u,l[v+7],14,1735328473),u=ps(u,f,g,a,l[v+12],20,-1926607734),a=ms(a,u,f,g,l[v+5],4,-378558),g=ms(g,a,u,f,l[v+8],11,-2022574463),f=ms(f,g,a,u,l[v+11],16,1839030562),u=ms(u,f,g,a,l[v+14],23,-35309556),a=ms(a,u,f,g,l[v+1],4,-1530992060),g=ms(g,a,u,f,l[v+4],11,1272893353),f=ms(f,g,a,u,l[v+7],16,-155497632),u=ms(u,f,g,a,l[v+10],23,-1094730640),a=ms(a,u,f,g,l[v+13],4,681279174),g=ms(g,a,u,f,l[v],11,-358537222),f=ms(f,g,a,u,l[v+3],16,-722521979),u=ms(u,f,g,a,l[v+6],23,76029189),a=ms(a,u,f,g,l[v+9],4,-640364487),g=ms(g,a,u,f,l[v+12],11,-421815835),f=ms(f,g,a,u,l[v+15],16,530742520),u=ms(u,f,g,a,l[v+2],23,-995338651),a=gs(a,u,f,g,l[v],6,-198630844),g=gs(g,a,u,f,l[v+7],10,1126891415),f=gs(f,g,a,u,l[v+14],15,-1416354905),u=gs(u,f,g,a,l[v+5],21,-57434055),a=gs(a,u,f,g,l[v+12],6,1700485571),g=gs(g,a,u,f,l[v+3],10,-1894986606),f=gs(f,g,a,u,l[v+10],15,-1051523),u=gs(u,f,g,a,l[v+1],21,-2054922799),a=gs(a,u,f,g,l[v+8],6,1873313359),g=gs(g,a,u,f,l[v+15],10,-30611744),f=gs(f,g,a,u,l[v+6],15,-1560198380),u=gs(u,f,g,a,l[v+13],21,1309151649),a=gs(a,u,f,g,l[v+4],6,-145523070),g=gs(g,a,u,f,l[v+11],10,-1120210379),f=gs(f,g,a,u,l[v+2],15,718787259),u=gs(u,f,g,a,l[v+9],21,-343485551),a=qp(a,S),u=qp(u,w),f=qp(f,I),g=qp(g,k)}return[a,u,f,g]}function Pat(l){if(l.length===0)return[];for(var o=l.length*8,a=new Uint32Array(Bfe(o)),u=0;u<o;u+=8)a[u>>5]|=(l[u/8]&255)<<u%32;return a}function qp(l,o){var a=(l&65535)+(o&65535),u=(l>>16)+(o>>16)+(a>>16);return u<<16|a&65535}function Rat(l,o){return l<<o|l>>>32-o}function OR(l,o,a,u,f,g){return qp(Rat(qp(qp(o,l),qp(u,g)),f),a)}function ds(l,o,a,u,f,g,v){return OR(o&a|~o&u,l,o,f,g,v)}function ps(l,o,a,u,f,g,v){return OR(o&u|a&~u,l,o,f,g,v)}function ms(l,o,a,u,f,g,v){return OR(o^a^u,l,o,f,g,v)}function gs(l,o,a,u,f,g,v){return OR(a^(o|~u),l,o,f,g,v)}var Ffe,Nat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/md5.js"(){nr(),ir(),Ffe=Dat}}),gle,Ufe,Mat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v3.js"(){nr(),ir(),Lfe(),Nat(),gle=Rfe("v3",48,Ffe),Ufe=gle}});function Lat(l,o,a){l=l||{};var u=l.random||(l.rng||xfe)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,o){a=a||0;for(var f=0;f<16;++f)o[a+f]=u[f];return o}return UA(u)}var Hfe,Bat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v4.js"(){nr(),ir(),Dfe(),DR(),Hfe=Lat}});function Fat(l,o,a,u){switch(l){case 0:return o&a^~o&u;case 1:return o^a^u;case 2:return o&a^o&u^a&u;case 3:return o^a^u}}function nU(l,o){return l<<o|l>>>32-o}function Uat(l){var o=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){var u=unescape(encodeURIComponent(l));l=[];for(var f=0;f<u.length;++f)l.push(u.charCodeAt(f))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);for(var g=l.length/4+2,v=Math.ceil(g/16),S=new Array(v),w=0;w<v;++w){for(var I=new Uint32Array(16),k=0;k<16;++k)I[k]=l[w*64+k*4]<<24|l[w*64+k*4+1]<<16|l[w*64+k*4+2]<<8|l[w*64+k*4+3];S[w]=I}S[v-1][14]=(l.length-1)*8/Math.pow(2,32),S[v-1][14]=Math.floor(S[v-1][14]),S[v-1][15]=(l.length-1)*8&4294967295;for(var F=0;F<v;++F){for(var U=new Uint32Array(80),N=0;N<16;++N)U[N]=S[F][N];for(var H=16;H<80;++H)U[H]=nU(U[H-3]^U[H-8]^U[H-14]^U[H-16],1);for(var q=a[0],j=a[1],se=a[2],he=a[3],oe=a[4],ue=0;ue<80;++ue){var X=Math.floor(ue/20),de=nU(q,5)+Fat(X,j,se,he)+oe+o[X]+U[ue]>>>0;oe=he,he=se,se=nU(j,30)>>>0,j=q,q=de}a[0]=a[0]+q>>>0,a[1]=a[1]+j>>>0,a[2]=a[2]+se>>>0,a[3]=a[3]+he>>>0,a[4]=a[4]+oe>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,a[0]&255,a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,a[1]&255,a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,a[2]&255,a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,a[3]&255,a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,a[4]&255]}var $fe,Hat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/sha1.js"(){nr(),ir(),$fe=Uat}}),vle,Gfe,$at=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v5.js"(){nr(),ir(),Lfe(),Hat(),vle=Rfe("v5",80,$fe),Gfe=vle}}),zfe,Gat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/nil.js"(){nr(),ir(),zfe="00000000-0000-0000-0000-000000000000"}});function zat(l){if(!FA(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)}var jfe,jat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/version.js"(){nr(),ir(),IR(),jfe=zat}}),Vfe={};Bit(Vfe,{NIL:()=>zfe,parse:()=>y9,stringify:()=>UA,v1:()=>kfe,v3:()=>Ufe,v4:()=>Hfe,v5:()=>Gfe,validate:()=>FA,version:()=>jfe});var Vat=wo({"node_modules/slugid/node_modules/uuid/dist/esm-browser/index.js"(){nr(),ir(),wat(),Mat(),Bat(),$at(),Gat(),jat(),IR(),DR(),Pfe()}}),Wat=Nc({"node_modules/slugid/slugid.js"(l){nr(),ir();var o=(Vat(),Fit(Vfe));l.encode=function(a){var u=o.parse(a),f=Zt.from(u).toString("base64"),g=f.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return g},l.decode=function(a){var u=a.replace(/-/g,"+").replace(/_/g,"/")+"==";return o.stringify(Zt.from(u,"base64"))},l.v4=function(){var a=o.v4(null,Zt.alloc(16)),u=a.toString("base64"),f=u.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return f},l.nice=function(){var a=o.v4(null,Zt.alloc(16));a[0]=a[0]&127;var u=a.toString("base64"),f=u.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return f}}}),Yat=Nc({"node_modules/slugid/index.js"(l,o){nr(),ir(),o.exports=Wat()}}),Xat=Nc({"node_modules/abortcontroller-polyfill/dist/cjs-ponyfill.js"(l){nr(),ir(),Object.defineProperty(l,"__esModule",{value:!0});function o(he,oe){if(!(he instanceof oe))throw new TypeError("Cannot call a class as a function")}function a(he,oe){for(var ue=0;ue<oe.length;ue++){var X=oe[ue];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(he,X.key,X)}}function u(he,oe,ue){return oe&&a(he.prototype,oe),Object.defineProperty(he,"prototype",{writable:!1}),he}function f(he,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");he.prototype=Object.create(oe&&oe.prototype,{constructor:{value:he,writable:!0,configurable:!0}}),Object.defineProperty(he,"prototype",{writable:!1}),oe&&v(he,oe)}function g(he){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},g(he)}function v(he,oe){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,de){return X.__proto__=de,X},v(he,oe)}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(he){if(he===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function I(he,oe){if(oe&&(typeof oe=="object"||typeof oe=="function"))return oe;if(oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(he)}function k(he){var oe=S();return function(){var X=g(he),de;if(oe){var fe=g(this).constructor;de=Reflect.construct(X,arguments,fe)}else de=X.apply(this,arguments);return I(this,de)}}function F(he,oe){for(;!Object.prototype.hasOwnProperty.call(he,oe)&&(he=g(he),he!==null););return he}function U(){return typeof Reflect<"u"&&Reflect.get?U=Reflect.get.bind():U=function(oe,ue,X){var de=F(oe,ue);if(de){var fe=Object.getOwnPropertyDescriptor(de,ue);return fe.get?fe.get.call(arguments.length<3?oe:X):fe.value}},U.apply(this,arguments)}var N=(function(){function he(){o(this,he),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(he,[{key:"addEventListener",value:function(ue,X,de){ue in this.listeners||(this.listeners[ue]=[]),this.listeners[ue].push({callback:X,options:de})}},{key:"removeEventListener",value:function(ue,X){if(ue in this.listeners){for(var de=this.listeners[ue],fe=0,Fe=de.length;fe<Fe;fe++)if(de[fe].callback===X){de.splice(fe,1);return}}}},{key:"dispatchEvent",value:function(ue){if(ue.type in this.listeners){for(var X=this.listeners[ue.type],de=X.slice(),fe=0,Fe=de.length;fe<Fe;fe++){var M=de[fe];try{M.callback.call(this,ue)}catch(ke){Promise.resolve().then(function(){throw ke})}M.options&&M.options.once&&this.removeEventListener(ue.type,M.callback)}return!ue.defaultPrevented}}}]),he})(),H=(function(he){f(ue,he);var oe=k(ue);function ue(){var X;return o(this,ue),X=oe.call(this),X.listeners||N.call(w(X)),Object.defineProperty(w(X),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(w(X),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(w(X),"reason",{value:void 0,writable:!0,configurable:!0}),X}return u(ue,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(de){de.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,de)),U(g(ue.prototype),"dispatchEvent",this).call(this,de)}}]),ue})(N),q=(function(){function he(){o(this,he),Object.defineProperty(this,"signal",{value:new H,writable:!0,configurable:!0})}return u(he,[{key:"abort",value:function(ue){var X;try{X=new Event("abort")}catch{typeof document<"u"?document.createEvent?(X=document.createEvent("Event"),X.initEvent("abort",!1,!1)):(X=document.createEventObject(),X.type="abort"):X={type:"abort",bubbles:!1,cancelable:!1}}var de=ue;if(de===void 0)if(typeof document>"u")de=new Error("This operation was aborted"),de.name="AbortError";else try{de=new DOMException("signal is aborted without reason")}catch{de=new Error("This operation was aborted"),de.name="AbortError"}this.signal.reason=de,this.signal.dispatchEvent(X)}},{key:"toString",value:function(){return"[object AbortController]"}}]),he})();typeof Symbol<"u"&&Symbol.toStringTag&&(q.prototype[Symbol.toStringTag]="AbortController",H.prototype[Symbol.toStringTag]="AbortSignal");function j(he){return he.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof he.Request=="function"&&!he.Request.prototype.hasOwnProperty("signal")||!he.AbortController}function se(he){typeof he=="function"&&(he={fetch:he});var oe=he,ue=oe.fetch,X=oe.Request,de=X===void 0?ue.Request:X,fe=oe.AbortController,Fe=oe.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,M=Fe===void 0?!1:Fe;if(!j({Request:de,AbortController:fe,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:M}))return{fetch:ue,Request:ke};var ke=de;(ke&&!ke.prototype.hasOwnProperty("signal")||M)&&(ke=function(_t,z){var be;z&&z.signal&&(be=z.signal,delete z.signal);var Re=new de(_t,z);return be&&Object.defineProperty(Re,"signal",{writable:!1,enumerable:!1,configurable:!0,value:be}),Re},ke.prototype=de.prototype);var qe=ue,Te=function(_t,z){var be=ke&&ke.prototype.isPrototypeOf(_t)?_t.signal:z?z.signal:void 0;if(be){var Re;try{Re=new DOMException("Aborted","AbortError")}catch{Re=new Error("Aborted"),Re.name="AbortError"}if(be.aborted)return Promise.reject(Re);var ie=new Promise(function(pe,me){be.addEventListener("abort",function(){return me(Re)},{once:!0})});return z&&z.signal&&delete z.signal,Promise.race([ie,qe(_t,z)])}return qe(_t,z)};return{fetch:Te,Request:ke}}l.AbortController=q,l.AbortSignal=H,l.abortableFetch=se}}),Wfe=Nc({"node_modules/abortable-promise-cache/esm/abortcontroller-ponyfill.js"(l){nr(),ir(),Object.defineProperty(l,"__esModule",{value:!0}),l.AbortSignal=l.AbortController=void 0;var o=Xat(),a=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},u=typeof a().AbortController>"u"?o.AbortController:a().AbortController;l.AbortController=u;var f=typeof a().AbortController>"u"?o.AbortSignal:a().AbortSignal;l.AbortSignal=f}}),qat=Nc({"node_modules/abortable-promise-cache/esm/AggregateAbortController.js"(l){nr(),ir(),Object.defineProperty(l,"__esModule",{value:!0});var o=Wfe(),a=class{},u=class{constructor(){this.signals=new Set,this.abortController=new o.AbortController}addSignal(f=new a){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(f),f.aborted?this.handleAborted(f):typeof f.addEventListener=="function"&&f.addEventListener("abort",()=>{this.handleAborted(f)})}handleAborted(f){this.signals.delete(f),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}};l.default=u}}),Kat=Nc({"node_modules/abortable-promise-cache/esm/AggregateStatusReporter.js"(l){nr(),ir(),Object.defineProperty(l,"__esModule",{value:!0});var o=class{constructor(){this.callbacks=new Set}addCallback(a=()=>{}){this.callbacks.add(a),a(this.currentMessage)}callback(a){this.currentMessage=a,this.callbacks.forEach(u=>{u(a)})}};l.default=o}}),Zat=Nc({"node_modules/abortable-promise-cache/esm/AbortablePromiseCache.js"(l){nr(),ir();var o=l&&l.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var a=Wfe(),u=o(qat()),f=o(Kat()),g=class{constructor({fill:v,cache:S}){if(typeof v!="function")throw new TypeError("must pass a fill function");if(typeof S!="object")throw new TypeError("must pass a cache object");if(typeof S.get!="function"||typeof S.set!="function"||typeof S.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=S,this.fillCallback=v}static isAbortException(v){return v.name==="AbortError"||v.code==="ERR_ABORTED"||v.message==="AbortError: aborted"||v.message==="Error: aborted"}evict(v,S){this.cache.get(v)===S&&this.cache.delete(v)}fill(v,S,w,I){const k=new u.default,F=new f.default;F.addCallback(I);const U={aborter:k,promise:this.fillCallback(S,k.signal,N=>{F.callback(N)}),settled:!1,statusReporter:F,get aborted(){return this.aborter.signal.aborted}};U.aborter.addSignal(w),U.aborter.signal.addEventListener("abort",()=>{U.settled||this.evict(v,U)}),U.promise.then(()=>{U.settled=!0},()=>{U.settled=!0,this.evict(v,U)}).catch(N=>{throw console.error(N),N}),this.cache.set(v,U)}static checkSinglePromise(v,S){function w(){if(S&&S.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return v.then(I=>(w(),I),I=>{throw w(),I})}has(v){return this.cache.has(v)}get(v,S,w,I){if(!w&&S instanceof a.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const k=this.cache.get(v);return k?k.aborted&&!k.settled?(this.evict(v,k),this.get(v,S,w,I)):k.settled?k.promise:(k.aborter.addSignal(w),k.statusReporter.addCallback(I),g.checkSinglePromise(k.promise,w)):(this.fill(v,S,w,I),g.checkSinglePromise(this.cache.get(v).promise,w))}delete(v){const S=this.cache.get(v);S&&(S.settled||S.aborter.abort(),this.cache.delete(v))}clear(){const v=this.cache.keys();let S=0;for(let w=v.next();!w.done;w=v.next())this.delete(w.value),S+=1;return S}};l.default=g}}),Yfe=Nc({"node_modules/abortable-promise-cache/esm/index.js"(l){nr(),ir();var o=l&&l.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0});var a=o(Zat());l.default=a.default}}),Xfe=Nc({"node_modules/quick-lru/index.js"(l,o){nr(),ir();var a=class{constructor(u={}){if(!(u.maxSize&&u.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=u.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(u,f){this.cache.set(u,f),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(u){if(this.cache.has(u))return this.cache.get(u);if(this.oldCache.has(u)){const f=this.oldCache.get(u);return this.oldCache.delete(u),this._set(u,f),f}}set(u,f){return this.cache.has(u)?this.cache.set(u,f):this._set(u,f),this}has(u){return this.cache.has(u)||this.oldCache.has(u)}peek(u){if(this.cache.has(u))return this.cache.get(u);if(this.oldCache.has(u))return this.oldCache.get(u)}delete(u){const f=this.cache.delete(u);return f&&this._size--,this.oldCache.delete(u)||f}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[u]of this)yield u}*values(){for(const[,u]of this)yield u}*[Symbol.iterator](){for(const u of this.cache)yield u;for(const u of this.oldCache){const[f]=u;this.cache.has(f)||(yield u)}}get size(){let u=0;for(const f of this.oldCache.keys())this.cache.has(f)||u++;return this._size+u}};o.exports=a}}),Qat=Nc({"(disabled):node_modules/generic-filehandle/esm/localFile"(){nr(),ir()}}),Jat=Nc({"node_modules/rxjs/node_modules/tslib/tslib.js"(l,o){nr(),ir();var a,u,f,g,v,S,w,I,k,F,U,N,H,q,j,se,he,oe,ue,X,de,fe,Fe,M,ke,qe,Te,at,_t;(function(z){var be=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(ie){z(Re(be,Re(ie)))}):typeof o=="object"&&typeof o.exports=="object"?z(Re(be,Re(o.exports))):z(Re(be));function Re(ie,pe){return ie!==be&&(typeof Object.create=="function"?Object.defineProperty(ie,"__esModule",{value:!0}):ie.__esModule=!0),function(me,ce){return ie[me]=pe?pe(me,ce):ce}}})(function(z){var be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,pe){ie.__proto__=pe}||function(ie,pe){for(var me in pe)Object.prototype.hasOwnProperty.call(pe,me)&&(ie[me]=pe[me])};a=function(ie,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Class extends value "+String(pe)+" is not a constructor or null");be(ie,pe);function me(){this.constructor=ie}ie.prototype=pe===null?Object.create(pe):(me.prototype=pe.prototype,new me)},u=Object.assign||function(ie){for(var pe,me=1,ce=arguments.length;me<ce;me++){pe=arguments[me];for(var _e in pe)Object.prototype.hasOwnProperty.call(pe,_e)&&(ie[_e]=pe[_e])}return ie},f=function(ie,pe){var me={};for(var ce in ie)Object.prototype.hasOwnProperty.call(ie,ce)&&pe.indexOf(ce)<0&&(me[ce]=ie[ce]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,ce=Object.getOwnPropertySymbols(ie);_e<ce.length;_e++)pe.indexOf(ce[_e])<0&&Object.prototype.propertyIsEnumerable.call(ie,ce[_e])&&(me[ce[_e]]=ie[ce[_e]]);return me},g=function(ie,pe,me,ce){var _e=arguments.length,Le=_e<3?pe:ce===null?ce=Object.getOwnPropertyDescriptor(pe,me):ce,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(ie,pe,me,ce);else for(var dt=ie.length-1;dt>=0;dt--)(Ke=ie[dt])&&(Le=(_e<3?Ke(Le):_e>3?Ke(pe,me,Le):Ke(pe,me))||Le);return _e>3&&Le&&Object.defineProperty(pe,me,Le),Le},v=function(ie,pe){return function(me,ce){pe(me,ce,ie)}},S=function(ie,pe,me,ce,_e,Le){function Ke(ar){if(ar!==void 0&&typeof ar!="function")throw new TypeError("Function expected");return ar}for(var dt=ce.kind,It=dt==="getter"?"get":dt==="setter"?"set":"value",St=!pe&&ie?ce.static?ie:ie.prototype:null,Mt=pe||(St?Object.getOwnPropertyDescriptor(St,ce.name):{}),Bt,Lt=!1,Pt=me.length-1;Pt>=0;Pt--){var Vt={};for(var lr in ce)Vt[lr]=lr==="access"?{}:ce[lr];for(var lr in ce.access)Vt.access[lr]=ce.access[lr];Vt.addInitializer=function(ar){if(Lt)throw new TypeError("Cannot add initializers after decoration has completed");Le.push(Ke(ar||null))};var Gt=(0,me[Pt])(dt==="accessor"?{get:Mt.get,set:Mt.set}:Mt[It],Vt);if(dt==="accessor"){if(Gt===void 0)continue;if(Gt===null||typeof Gt!="object")throw new TypeError("Object expected");(Bt=Ke(Gt.get))&&(Mt.get=Bt),(Bt=Ke(Gt.set))&&(Mt.set=Bt),(Bt=Ke(Gt.init))&&_e.push(Bt)}else(Bt=Ke(Gt))&&(dt==="field"?_e.push(Bt):Mt[It]=Bt)}St&&Object.defineProperty(St,ce.name,Mt),Lt=!0},w=function(ie,pe,me){for(var ce=arguments.length>2,_e=0;_e<pe.length;_e++)me=ce?pe[_e].call(ie,me):pe[_e].call(ie);return ce?me:void 0},I=function(ie){return typeof ie=="symbol"?ie:"".concat(ie)},k=function(ie,pe,me){return typeof pe=="symbol"&&(pe=pe.description?"[".concat(pe.description,"]"):""),Object.defineProperty(ie,"name",{configurable:!0,value:me?"".concat(me," ",pe):pe})},F=function(ie,pe){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ie,pe)},U=function(ie,pe,me,ce){function _e(Le){return Le instanceof me?Le:new me(function(Ke){Ke(Le)})}return new(me||(me=Promise))(function(Le,Ke){function dt(Mt){try{St(ce.next(Mt))}catch(Bt){Ke(Bt)}}function It(Mt){try{St(ce.throw(Mt))}catch(Bt){Ke(Bt)}}function St(Mt){Mt.done?Le(Mt.value):_e(Mt.value).then(dt,It)}St((ce=ce.apply(ie,pe||[])).next())})},N=function(ie,pe){var me={label:0,sent:function(){if(Le[0]&1)throw Le[1];return Le[1]},trys:[],ops:[]},ce,_e,Le,Ke;return Ke={next:dt(0),throw:dt(1),return:dt(2)},typeof Symbol=="function"&&(Ke[Symbol.iterator]=function(){return this}),Ke;function dt(St){return function(Mt){return It([St,Mt])}}function It(St){if(ce)throw new TypeError("Generator is already executing.");for(;Ke&&(Ke=0,St[0]&&(me=0)),me;)try{if(ce=1,_e&&(Le=St[0]&2?_e.return:St[0]?_e.throw||((Le=_e.return)&&Le.call(_e),0):_e.next)&&!(Le=Le.call(_e,St[1])).done)return Le;switch(_e=0,Le&&(St=[St[0]&2,Le.value]),St[0]){case 0:case 1:Le=St;break;case 4:return me.label++,{value:St[1],done:!1};case 5:me.label++,_e=St[1],St=[0];continue;case 7:St=me.ops.pop(),me.trys.pop();continue;default:if(Le=me.trys,!(Le=Le.length>0&&Le[Le.length-1])&&(St[0]===6||St[0]===2)){me=0;continue}if(St[0]===3&&(!Le||St[1]>Le[0]&&St[1]<Le[3])){me.label=St[1];break}if(St[0]===6&&me.label<Le[1]){me.label=Le[1],Le=St;break}if(Le&&me.label<Le[2]){me.label=Le[2],me.ops.push(St);break}Le[2]&&me.ops.pop(),me.trys.pop();continue}St=pe.call(ie,me)}catch(Mt){St=[6,Mt],_e=0}finally{ce=Le=0}if(St[0]&5)throw St[1];return{value:St[0]?St[1]:void 0,done:!0}}},H=function(ie,pe){for(var me in ie)me!=="default"&&!Object.prototype.hasOwnProperty.call(pe,me)&&_t(pe,ie,me)},_t=Object.create?function(ie,pe,me,ce){ce===void 0&&(ce=me);var _e=Object.getOwnPropertyDescriptor(pe,me);(!_e||("get"in _e?!pe.__esModule:_e.writable||_e.configurable))&&(_e={enumerable:!0,get:function(){return pe[me]}}),Object.defineProperty(ie,ce,_e)}:function(ie,pe,me,ce){ce===void 0&&(ce=me),ie[ce]=pe[me]},q=function(ie){var pe=typeof Symbol=="function"&&Symbol.iterator,me=pe&&ie[pe],ce=0;if(me)return me.call(ie);if(ie&&typeof ie.length=="number")return{next:function(){return ie&&ce>=ie.length&&(ie=void 0),{value:ie&&ie[ce++],done:!ie}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")},j=function(ie,pe){var me=typeof Symbol=="function"&&ie[Symbol.iterator];if(!me)return ie;var ce=me.call(ie),_e,Le=[],Ke;try{for(;(pe===void 0||pe-- >0)&&!(_e=ce.next()).done;)Le.push(_e.value)}catch(dt){Ke={error:dt}}finally{try{_e&&!_e.done&&(me=ce.return)&&me.call(ce)}finally{if(Ke)throw Ke.error}}return Le},se=function(){for(var ie=[],pe=0;pe<arguments.length;pe++)ie=ie.concat(j(arguments[pe]));return ie},he=function(){for(var ie=0,pe=0,me=arguments.length;pe<me;pe++)ie+=arguments[pe].length;for(var ce=Array(ie),_e=0,pe=0;pe<me;pe++)for(var Le=arguments[pe],Ke=0,dt=Le.length;Ke<dt;Ke++,_e++)ce[_e]=Le[Ke];return ce},oe=function(ie,pe,me){if(me||arguments.length===2)for(var ce=0,_e=pe.length,Le;ce<_e;ce++)(Le||!(ce in pe))&&(Le||(Le=Array.prototype.slice.call(pe,0,ce)),Le[ce]=pe[ce]);return ie.concat(Le||Array.prototype.slice.call(pe))},ue=function(ie){return this instanceof ue?(this.v=ie,this):new ue(ie)},X=function(ie,pe,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce=me.apply(ie,pe||[]),_e,Le=[];return _e={},Ke("next"),Ke("throw"),Ke("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function Ke(Lt){ce[Lt]&&(_e[Lt]=function(Pt){return new Promise(function(Vt,lr){Le.push([Lt,Pt,Vt,lr])>1||dt(Lt,Pt)})})}function dt(Lt,Pt){try{It(ce[Lt](Pt))}catch(Vt){Bt(Le[0][3],Vt)}}function It(Lt){Lt.value instanceof ue?Promise.resolve(Lt.value.v).then(St,Mt):Bt(Le[0][2],Lt)}function St(Lt){dt("next",Lt)}function Mt(Lt){dt("throw",Lt)}function Bt(Lt,Pt){Lt(Pt),Le.shift(),Le.length&&dt(Le[0][0],Le[0][1])}},de=function(ie){var pe,me;return pe={},ce("next"),ce("throw",function(_e){throw _e}),ce("return"),pe[Symbol.iterator]=function(){return this},pe;function ce(_e,Le){pe[_e]=ie[_e]?function(Ke){return(me=!me)?{value:ue(ie[_e](Ke)),done:!1}:Le?Le(Ke):Ke}:Le}},fe=function(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe=ie[Symbol.asyncIterator],me;return pe?pe.call(ie):(ie=typeof q=="function"?q(ie):ie[Symbol.iterator](),me={},ce("next"),ce("throw"),ce("return"),me[Symbol.asyncIterator]=function(){return this},me);function ce(Le){me[Le]=ie[Le]&&function(Ke){return new Promise(function(dt,It){Ke=ie[Le](Ke),_e(dt,It,Ke.done,Ke.value)})}}function _e(Le,Ke,dt,It){Promise.resolve(It).then(function(St){Le({value:St,done:dt})},Ke)}},Fe=function(ie,pe){return Object.defineProperty?Object.defineProperty(ie,"raw",{value:pe}):ie.raw=pe,ie};var Re=Object.create?function(ie,pe){Object.defineProperty(ie,"default",{enumerable:!0,value:pe})}:function(ie,pe){ie.default=pe};M=function(ie){if(ie&&ie.__esModule)return ie;var pe={};if(ie!=null)for(var me in ie)me!=="default"&&Object.prototype.hasOwnProperty.call(ie,me)&&_t(pe,ie,me);return Re(pe,ie),pe},ke=function(ie){return ie&&ie.__esModule?ie:{default:ie}},qe=function(ie,pe,me,ce){if(me==="a"&&!ce)throw new TypeError("Private accessor was defined without a getter");if(typeof pe=="function"?ie!==pe||!ce:!pe.has(ie))throw new TypeError("Cannot read private member from an object whose class did not declare it");return me==="m"?ce:me==="a"?ce.call(ie):ce?ce.value:pe.get(ie)},Te=function(ie,pe,me,ce,_e){if(ce==="m")throw new TypeError("Private method is not writable");if(ce==="a"&&!_e)throw new TypeError("Private accessor was defined without a setter");if(typeof pe=="function"?ie!==pe||!_e:!pe.has(ie))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ce==="a"?_e.call(ie,me):_e?_e.value=me:pe.set(ie,me),me},at=function(ie,pe){if(pe===null||typeof pe!="object"&&typeof pe!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof ie=="function"?pe===ie:ie.has(pe)},z("__extends",a),z("__assign",u),z("__rest",f),z("__decorate",g),z("__param",v),z("__esDecorate",S),z("__runInitializers",w),z("__propKey",I),z("__setFunctionName",k),z("__metadata",F),z("__awaiter",U),z("__generator",N),z("__exportStar",H),z("__createBinding",_t),z("__values",q),z("__read",j),z("__spread",se),z("__spreadArrays",he),z("__spreadArray",oe),z("__await",ue),z("__asyncGenerator",X),z("__asyncDelegator",de),z("__asyncValues",fe),z("__makeTemplateObject",Fe),z("__importStar",M),z("__importDefault",ke),z("__classPrivateFieldGet",qe),z("__classPrivateFieldSet",Te),z("__classPrivateFieldIn",at)})}});nr();ir();nr();ir();var eot=Qv(Yat(),1);nr();ir();nr();ir();nr();ir();var kR=BigInt(32);function tot(l,o,a){const u=+!!a,f=+!a;return BigInt(l.getInt32(o,a)*f+l.getInt32(o+4,a)*u)<<kR|BigInt(l.getUint32(o,a)*u+l.getUint32(o+4,a)*f)}function rot(l,o,a){const u=l.getUint32(o,a),f=l.getUint32(o+4,a),g=+!!a,v=+!a;return BigInt(u*v+f*g)<<kR|BigInt(u*g+f*v)}function not(l,o,a,u){const f=Number(a>>kR),g=Number(a&BigInt(4294967295));u?(l.setInt32(o+4,f,u),l.setUint32(o,g,u)):(l.setInt32(o,f,u),l.setUint32(o+4,g,u))}function iot(l,o,a,u){const f=Number(a>>kR),g=Number(a&BigInt(4294967295));u?(l.setUint32(o+4,f,u),l.setUint32(o,g,u)):(l.setUint32(o,f,u),l.setUint32(o+4,g,u))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(l,o){return tot(this,l,o)});"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(l,o){return rot(this,l,o)});"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(l,o,a){not(this,l,o,a)});"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(l,o,a){iot(this,l,o,a)});nr();ir();nr();ir();nr();ir();var zh=[],Du=[],aot=typeof Uint8Array<"u"?Uint8Array:Array,_9=!1;function qfe(){_9=!0;for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=l.length;o<a;++o)zh[o]=l[o],Du[l.charCodeAt(o)]=o;Du[45]=62,Du[95]=63}function oot(l){_9||qfe();var o,a,u,f,g,v,S=l.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");g=l[S-2]==="="?2:l[S-1]==="="?1:0,v=new aot(S*3/4-g),u=g>0?S-4:S;var w=0;for(o=0,a=0;o<u;o+=4,a+=3)f=Du[l.charCodeAt(o)]<<18|Du[l.charCodeAt(o+1)]<<12|Du[l.charCodeAt(o+2)]<<6|Du[l.charCodeAt(o+3)],v[w++]=f>>16&255,v[w++]=f>>8&255,v[w++]=f&255;return g===2?(f=Du[l.charCodeAt(o)]<<2|Du[l.charCodeAt(o+1)]>>4,v[w++]=f&255):g===1&&(f=Du[l.charCodeAt(o)]<<10|Du[l.charCodeAt(o+1)]<<4|Du[l.charCodeAt(o+2)]>>2,v[w++]=f>>8&255,v[w++]=f&255),v}function sot(l){return zh[l>>18&63]+zh[l>>12&63]+zh[l>>6&63]+zh[l&63]}function lot(l,o,a){for(var u,f=[],g=o;g<a;g+=3)u=(l[g]<<16)+(l[g+1]<<8)+l[g+2],f.push(sot(u));return f.join("")}function yle(l){_9||qfe();for(var o,a=l.length,u=a%3,f="",g=[],v=16383,S=0,w=a-u;S<w;S+=v)g.push(lot(l,S,S+v>w?w:S+v));return u===1?(o=l[a-1],f+=zh[o>>2],f+=zh[o<<4&63],f+="=="):u===2&&(o=(l[a-2]<<8)+l[a-1],f+=zh[o>>10],f+=zh[o>>4&63],f+=zh[o<<2&63],f+="="),g.push(f),g.join("")}function PR(l,o,a,u,f){var g,v,S=f*8-u-1,w=(1<<S)-1,I=w>>1,k=-7,F=a?f-1:0,U=a?-1:1,N=l[o+F];for(F+=U,g=N&(1<<-k)-1,N>>=-k,k+=S;k>0;g=g*256+l[o+F],F+=U,k-=8);for(v=g&(1<<-k)-1,g>>=-k,k+=u;k>0;v=v*256+l[o+F],F+=U,k-=8);if(g===0)g=1-I;else{if(g===w)return v?NaN:(N?-1:1)*(1/0);v=v+Math.pow(2,u),g=g-I}return(N?-1:1)*v*Math.pow(2,g-u)}function Kfe(l,o,a,u,f,g){var v,S,w,I=g*8-f-1,k=(1<<I)-1,F=k>>1,U=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=u?0:g-1,H=u?1:-1,q=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(S=isNaN(o)?1:0,v=k):(v=Math.floor(Math.log(o)/Math.LN2),o*(w=Math.pow(2,-v))<1&&(v--,w*=2),v+F>=1?o+=U/w:o+=U*Math.pow(2,1-F),o*w>=2&&(v++,w/=2),v+F>=k?(S=0,v=k):v+F>=1?(S=(o*w-1)*Math.pow(2,f),v=v+F):(S=o*Math.pow(2,F-1)*Math.pow(2,f),v=0));f>=8;l[a+N]=S&255,N+=H,S/=256,f-=8);for(v=v<<f|S,I+=f;I>0;l[a+N]=v&255,N+=H,v/=256,I-=8);l[a+N-H]|=q*128}var uot={}.toString,Zfe=Array.isArray||function(l){return uot.call(l)=="[object Array]"},cot=50;Qt.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;tR();function tR(){return Qt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function sd(l,o){if(tR()<o)throw new RangeError("Invalid typed array length");return Qt.TYPED_ARRAY_SUPPORT?(l=new Uint8Array(o),l.__proto__=Qt.prototype):(l===null&&(l=new Qt(o)),l.length=o),l}function Qt(l,o,a){if(!Qt.TYPED_ARRAY_SUPPORT&&!(this instanceof Qt))return new Qt(l,o,a);if(typeof l=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return E9(this,l)}return Qfe(this,l,o,a)}Qt.poolSize=8192;Qt._augment=function(l){return l.__proto__=Qt.prototype,l};function Qfe(l,o,a,u){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?dot(l,o,a,u):typeof o=="string"?fot(l,o,a):pot(l,o)}Qt.from=function(l,o,a){return Qfe(null,l,o,a)};Qt.TYPED_ARRAY_SUPPORT&&(Qt.prototype.__proto__=Uint8Array.prototype,Qt.__proto__=Uint8Array);function Jfe(l){if(typeof l!="number")throw new TypeError('"size" argument must be a number');if(l<0)throw new RangeError('"size" argument must not be negative')}function hot(l,o,a,u){return Jfe(o),o<=0?sd(l,o):a!==void 0?typeof u=="string"?sd(l,o).fill(a,u):sd(l,o).fill(a):sd(l,o)}Qt.alloc=function(l,o,a){return hot(null,l,o,a)};function E9(l,o){if(Jfe(o),l=sd(l,o<0?0:T9(o)|0),!Qt.TYPED_ARRAY_SUPPORT)for(var a=0;a<o;++a)l[a]=0;return l}Qt.allocUnsafe=function(l){return E9(null,l)};Qt.allocUnsafeSlow=function(l){return E9(null,l)};function fot(l,o,a){if((typeof a!="string"||a==="")&&(a="utf8"),!Qt.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var u=ede(o,a)|0;l=sd(l,u);var f=l.write(o,a);return f!==u&&(l=l.slice(0,f)),l}function XH(l,o){var a=o.length<0?0:T9(o.length)|0;l=sd(l,a);for(var u=0;u<a;u+=1)l[u]=o[u]&255;return l}function dot(l,o,a,u){if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(u||0))throw new RangeError("'length' is out of bounds");return a===void 0&&u===void 0?o=new Uint8Array(o):u===void 0?o=new Uint8Array(o,a):o=new Uint8Array(o,a,u),Qt.TYPED_ARRAY_SUPPORT?(l=o,l.__proto__=Qt.prototype):l=XH(l,o),l}function pot(l,o){if(Jh(o)){var a=T9(o.length)|0;return l=sd(l,a),l.length===0||o.copy(l,0,0,a),l}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||Rot(o.length)?sd(l,0):XH(l,o);if(o.type==="Buffer"&&Zfe(o.data))return XH(l,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function T9(l){if(l>=tR())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+tR().toString(16)+" bytes");return l|0}Qt.isBuffer=Not;function Jh(l){return!!(l!=null&&l._isBuffer)}Qt.compare=function(o,a){if(!Jh(o)||!Jh(a))throw new TypeError("Arguments must be Buffers");if(o===a)return 0;for(var u=o.length,f=a.length,g=0,v=Math.min(u,f);g<v;++g)if(o[g]!==a[g]){u=o[g],f=a[g];break}return u<f?-1:f<u?1:0};Qt.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Qt.concat=function(o,a){if(!Zfe(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return Qt.alloc(0);var u;if(a===void 0)for(a=0,u=0;u<o.length;++u)a+=o[u].length;var f=Qt.allocUnsafe(a),g=0;for(u=0;u<o.length;++u){var v=o[u];if(!Jh(v))throw new TypeError('"list" argument must be an Array of Buffers');v.copy(f,g),g+=v.length}return f};function ede(l,o){if(Jh(l))return l.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(l)||l instanceof ArrayBuffer))return l.byteLength;typeof l!="string"&&(l=""+l);var a=l.length;if(a===0)return 0;for(var u=!1;;)switch(o){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return rR(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return sde(l).length;default:if(u)return rR(l).length;o=(""+o).toLowerCase(),u=!0}}Qt.byteLength=ede;function mot(l,o,a){var u=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,o>>>=0,a<=o))return"";for(l||(l="utf8");;)switch(l){case"hex":return Aot(this,o,a);case"utf8":case"utf-8":return nde(this,o,a);case"ascii":return Sot(this,o,a);case"latin1":case"binary":return Cot(this,o,a);case"base64":return Tot(this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wot(this,o,a);default:if(u)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),u=!0}}Qt.prototype._isBuffer=!0;function Fv(l,o,a){var u=l[o];l[o]=l[a],l[a]=u}Qt.prototype.swap16=function(){var o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<o;a+=2)Fv(this,a,a+1);return this};Qt.prototype.swap32=function(){var o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<o;a+=4)Fv(this,a,a+3),Fv(this,a+1,a+2);return this};Qt.prototype.swap64=function(){var o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<o;a+=8)Fv(this,a,a+7),Fv(this,a+1,a+6),Fv(this,a+2,a+5),Fv(this,a+3,a+4);return this};Qt.prototype.toString=function(){var o=this.length|0;return o===0?"":arguments.length===0?nde(this,0,o):mot.apply(this,arguments)};Qt.prototype.equals=function(o){if(!Jh(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:Qt.compare(this,o)===0};Qt.prototype.inspect=function(){var o="",a=cot;return this.length>0&&(o=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(o+=" ... ")),"<Buffer "+o+">"};Qt.prototype.compare=function(o,a,u,f,g){if(!Jh(o))throw new TypeError("Argument must be a Buffer");if(a===void 0&&(a=0),u===void 0&&(u=o?o.length:0),f===void 0&&(f=0),g===void 0&&(g=this.length),a<0||u>o.length||f<0||g>this.length)throw new RangeError("out of range index");if(f>=g&&a>=u)return 0;if(f>=g)return-1;if(a>=u)return 1;if(a>>>=0,u>>>=0,f>>>=0,g>>>=0,this===o)return 0;for(var v=g-f,S=u-a,w=Math.min(v,S),I=this.slice(f,g),k=o.slice(a,u),F=0;F<w;++F)if(I[F]!==k[F]){v=I[F],S=k[F];break}return v<S?-1:S<v?1:0};function tde(l,o,a,u,f){if(l.length===0)return-1;if(typeof a=="string"?(u=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=f?0:l.length-1),a<0&&(a=l.length+a),a>=l.length){if(f)return-1;a=l.length-1}else if(a<0)if(f)a=0;else return-1;if(typeof o=="string"&&(o=Qt.from(o,u)),Jh(o))return o.length===0?-1:_le(l,o,a,u,f);if(typeof o=="number")return o=o&255,Qt.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(l,o,a):Uint8Array.prototype.lastIndexOf.call(l,o,a):_le(l,[o],a,u,f);throw new TypeError("val must be string, number or Buffer")}function _le(l,o,a,u,f){var g=1,v=l.length,S=o.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(l.length<2||o.length<2)return-1;g=2,v/=2,S/=2,a/=2}function w(N,H){return g===1?N[H]:N.readUInt16BE(H*g)}var I;if(f){var k=-1;for(I=a;I<v;I++)if(w(l,I)===w(o,k===-1?0:I-k)){if(k===-1&&(k=I),I-k+1===S)return k*g}else k!==-1&&(I-=I-k),k=-1}else for(a+S>v&&(a=v-S),I=a;I>=0;I--){for(var F=!0,U=0;U<S;U++)if(w(l,I+U)!==w(o,U)){F=!1;break}if(F)return I}return-1}Qt.prototype.includes=function(o,a,u){return this.indexOf(o,a,u)!==-1};Qt.prototype.indexOf=function(o,a,u){return tde(this,o,a,u,!0)};Qt.prototype.lastIndexOf=function(o,a,u){return tde(this,o,a,u,!1)};function got(l,o,a,u){a=Number(a)||0;var f=l.length-a;u?(u=Number(u),u>f&&(u=f)):u=f;var g=o.length;if(g%2!==0)throw new TypeError("Invalid hex string");u>g/2&&(u=g/2);for(var v=0;v<u;++v){var S=parseInt(o.substr(v*2,2),16);if(isNaN(S))return v;l[a+v]=S}return v}function vot(l,o,a,u){return MR(rR(o,l.length-a),l,a,u)}function rde(l,o,a,u){return MR(kot(o),l,a,u)}function yot(l,o,a,u){return rde(l,o,a,u)}function _ot(l,o,a,u){return MR(sde(o),l,a,u)}function Eot(l,o,a,u){return MR(Pot(o,l.length-a),l,a,u)}Qt.prototype.write=function(o,a,u,f){if(a===void 0)f="utf8",u=this.length,a=0;else if(u===void 0&&typeof a=="string")f=a,u=this.length,a=0;else if(isFinite(a))a=a|0,isFinite(u)?(u=u|0,f===void 0&&(f="utf8")):(f=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var g=this.length-a;if((u===void 0||u>g)&&(u=g),o.length>0&&(u<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(var v=!1;;)switch(f){case"hex":return got(this,o,a,u);case"utf8":case"utf-8":return vot(this,o,a,u);case"ascii":return rde(this,o,a,u);case"latin1":case"binary":return yot(this,o,a,u);case"base64":return _ot(this,o,a,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Eot(this,o,a,u);default:if(v)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),v=!0}};Qt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Tot(l,o,a){return o===0&&a===l.length?yle(l):yle(l.slice(o,a))}function nde(l,o,a){a=Math.min(l.length,a);for(var u=[],f=o;f<a;){var g=l[f],v=null,S=g>239?4:g>223?3:g>191?2:1;if(f+S<=a){var w,I,k,F;switch(S){case 1:g<128&&(v=g);break;case 2:w=l[f+1],(w&192)===128&&(F=(g&31)<<6|w&63,F>127&&(v=F));break;case 3:w=l[f+1],I=l[f+2],(w&192)===128&&(I&192)===128&&(F=(g&15)<<12|(w&63)<<6|I&63,F>2047&&(F<55296||F>57343)&&(v=F));break;case 4:w=l[f+1],I=l[f+2],k=l[f+3],(w&192)===128&&(I&192)===128&&(k&192)===128&&(F=(g&15)<<18|(w&63)<<12|(I&63)<<6|k&63,F>65535&&F<1114112&&(v=F))}}v===null?(v=65533,S=1):v>65535&&(v-=65536,u.push(v>>>10&1023|55296),v=56320|v&1023),u.push(v),f+=S}return bot(u)}var Ele=4096;function bot(l){var o=l.length;if(o<=Ele)return String.fromCharCode.apply(String,l);for(var a="",u=0;u<o;)a+=String.fromCharCode.apply(String,l.slice(u,u+=Ele));return a}function Sot(l,o,a){var u="";a=Math.min(l.length,a);for(var f=o;f<a;++f)u+=String.fromCharCode(l[f]&127);return u}function Cot(l,o,a){var u="";a=Math.min(l.length,a);for(var f=o;f<a;++f)u+=String.fromCharCode(l[f]);return u}function Aot(l,o,a){var u=l.length;(!o||o<0)&&(o=0),(!a||a<0||a>u)&&(a=u);for(var f="",g=o;g<a;++g)f+=Oot(l[g]);return f}function wot(l,o,a){for(var u=l.slice(o,a),f="",g=0;g<u.length;g+=2)f+=String.fromCharCode(u[g]+u[g+1]*256);return f}Qt.prototype.slice=function(o,a){var u=this.length;o=~~o,a=a===void 0?u:~~a,o<0?(o+=u,o<0&&(o=0)):o>u&&(o=u),a<0?(a+=u,a<0&&(a=0)):a>u&&(a=u),a<o&&(a=o);var f;if(Qt.TYPED_ARRAY_SUPPORT)f=this.subarray(o,a),f.__proto__=Qt.prototype;else{var g=a-o;f=new Qt(g,void 0);for(var v=0;v<g;++v)f[v]=this[v+o]}return f};function xo(l,o,a){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+o>a)throw new RangeError("Trying to access beyond buffer length")}Qt.prototype.readUIntLE=function(o,a,u){o=o|0,a=a|0,u||xo(o,a,this.length);for(var f=this[o],g=1,v=0;++v<a&&(g*=256);)f+=this[o+v]*g;return f};Qt.prototype.readUIntBE=function(o,a,u){o=o|0,a=a|0,u||xo(o,a,this.length);for(var f=this[o+--a],g=1;a>0&&(g*=256);)f+=this[o+--a]*g;return f};Qt.prototype.readUInt8=function(o,a){return a||xo(o,1,this.length),this[o]};Qt.prototype.readUInt16LE=function(o,a){return a||xo(o,2,this.length),this[o]|this[o+1]<<8};Qt.prototype.readUInt16BE=function(o,a){return a||xo(o,2,this.length),this[o]<<8|this[o+1]};Qt.prototype.readUInt32LE=function(o,a){return a||xo(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216};Qt.prototype.readUInt32BE=function(o,a){return a||xo(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])};Qt.prototype.readIntLE=function(o,a,u){o=o|0,a=a|0,u||xo(o,a,this.length);for(var f=this[o],g=1,v=0;++v<a&&(g*=256);)f+=this[o+v]*g;return g*=128,f>=g&&(f-=Math.pow(2,8*a)),f};Qt.prototype.readIntBE=function(o,a,u){o=o|0,a=a|0,u||xo(o,a,this.length);for(var f=a,g=1,v=this[o+--f];f>0&&(g*=256);)v+=this[o+--f]*g;return g*=128,v>=g&&(v-=Math.pow(2,8*a)),v};Qt.prototype.readInt8=function(o,a){return a||xo(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]};Qt.prototype.readInt16LE=function(o,a){a||xo(o,2,this.length);var u=this[o]|this[o+1]<<8;return u&32768?u|4294901760:u};Qt.prototype.readInt16BE=function(o,a){a||xo(o,2,this.length);var u=this[o+1]|this[o]<<8;return u&32768?u|4294901760:u};Qt.prototype.readInt32LE=function(o,a){return a||xo(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24};Qt.prototype.readInt32BE=function(o,a){return a||xo(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]};Qt.prototype.readFloatLE=function(o,a){return a||xo(o,4,this.length),PR(this,o,!0,23,4)};Qt.prototype.readFloatBE=function(o,a){return a||xo(o,4,this.length),PR(this,o,!1,23,4)};Qt.prototype.readDoubleLE=function(o,a){return a||xo(o,8,this.length),PR(this,o,!0,52,8)};Qt.prototype.readDoubleBE=function(o,a){return a||xo(o,8,this.length),PR(this,o,!1,52,8)};function ml(l,o,a,u,f,g){if(!Jh(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>f||o<g)throw new RangeError('"value" argument is out of bounds');if(a+u>l.length)throw new RangeError("Index out of range")}Qt.prototype.writeUIntLE=function(o,a,u,f){if(o=+o,a=a|0,u=u|0,!f){var g=Math.pow(2,8*u)-1;ml(this,o,a,u,g,0)}var v=1,S=0;for(this[a]=o&255;++S<u&&(v*=256);)this[a+S]=o/v&255;return a+u};Qt.prototype.writeUIntBE=function(o,a,u,f){if(o=+o,a=a|0,u=u|0,!f){var g=Math.pow(2,8*u)-1;ml(this,o,a,u,g,0)}var v=u-1,S=1;for(this[a+v]=o&255;--v>=0&&(S*=256);)this[a+v]=o/S&255;return a+u};Qt.prototype.writeUInt8=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,1,255,0),Qt.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),this[a]=o&255,a+1};function RR(l,o,a,u){o<0&&(o=65535+o+1);for(var f=0,g=Math.min(l.length-a,2);f<g;++f)l[a+f]=(o&255<<8*(u?f:1-f))>>>(u?f:1-f)*8}Qt.prototype.writeUInt16LE=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,2,65535,0),Qt.TYPED_ARRAY_SUPPORT?(this[a]=o&255,this[a+1]=o>>>8):RR(this,o,a,!0),a+2};Qt.prototype.writeUInt16BE=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,2,65535,0),Qt.TYPED_ARRAY_SUPPORT?(this[a]=o>>>8,this[a+1]=o&255):RR(this,o,a,!1),a+2};function NR(l,o,a,u){o<0&&(o=4294967295+o+1);for(var f=0,g=Math.min(l.length-a,4);f<g;++f)l[a+f]=o>>>(u?f:3-f)*8&255}Qt.prototype.writeUInt32LE=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,4,4294967295,0),Qt.TYPED_ARRAY_SUPPORT?(this[a+3]=o>>>24,this[a+2]=o>>>16,this[a+1]=o>>>8,this[a]=o&255):NR(this,o,a,!0),a+4};Qt.prototype.writeUInt32BE=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,4,4294967295,0),Qt.TYPED_ARRAY_SUPPORT?(this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255):NR(this,o,a,!1),a+4};Qt.prototype.writeIntLE=function(o,a,u,f){if(o=+o,a=a|0,!f){var g=Math.pow(2,8*u-1);ml(this,o,a,u,g-1,-g)}var v=0,S=1,w=0;for(this[a]=o&255;++v<u&&(S*=256);)o<0&&w===0&&this[a+v-1]!==0&&(w=1),this[a+v]=(o/S>>0)-w&255;return a+u};Qt.prototype.writeIntBE=function(o,a,u,f){if(o=+o,a=a|0,!f){var g=Math.pow(2,8*u-1);ml(this,o,a,u,g-1,-g)}var v=u-1,S=1,w=0;for(this[a+v]=o&255;--v>=0&&(S*=256);)o<0&&w===0&&this[a+v+1]!==0&&(w=1),this[a+v]=(o/S>>0)-w&255;return a+u};Qt.prototype.writeInt8=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,1,127,-128),Qt.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),o<0&&(o=255+o+1),this[a]=o&255,a+1};Qt.prototype.writeInt16LE=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,2,32767,-32768),Qt.TYPED_ARRAY_SUPPORT?(this[a]=o&255,this[a+1]=o>>>8):RR(this,o,a,!0),a+2};Qt.prototype.writeInt16BE=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,2,32767,-32768),Qt.TYPED_ARRAY_SUPPORT?(this[a]=o>>>8,this[a+1]=o&255):RR(this,o,a,!1),a+2};Qt.prototype.writeInt32LE=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,4,2147483647,-2147483648),Qt.TYPED_ARRAY_SUPPORT?(this[a]=o&255,this[a+1]=o>>>8,this[a+2]=o>>>16,this[a+3]=o>>>24):NR(this,o,a,!0),a+4};Qt.prototype.writeInt32BE=function(o,a,u){return o=+o,a=a|0,u||ml(this,o,a,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),Qt.TYPED_ARRAY_SUPPORT?(this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255):NR(this,o,a,!1),a+4};function ide(l,o,a,u,f,g){if(a+u>l.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function ade(l,o,a,u,f){return f||ide(l,o,a,4),Kfe(l,o,a,u,23,4),a+4}Qt.prototype.writeFloatLE=function(o,a,u){return ade(this,o,a,!0,u)};Qt.prototype.writeFloatBE=function(o,a,u){return ade(this,o,a,!1,u)};function ode(l,o,a,u,f){return f||ide(l,o,a,8),Kfe(l,o,a,u,52,8),a+8}Qt.prototype.writeDoubleLE=function(o,a,u){return ode(this,o,a,!0,u)};Qt.prototype.writeDoubleBE=function(o,a,u){return ode(this,o,a,!1,u)};Qt.prototype.copy=function(o,a,u,f){if(u||(u=0),!f&&f!==0&&(f=this.length),a>=o.length&&(a=o.length),a||(a=0),f>0&&f<u&&(f=u),f===u||o.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("sourceStart out of bounds");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),o.length-a<f-u&&(f=o.length-a+u);var g=f-u,v;if(this===o&&u<a&&a<f)for(v=g-1;v>=0;--v)o[v+a]=this[v+u];else if(g<1e3||!Qt.TYPED_ARRAY_SUPPORT)for(v=0;v<g;++v)o[v+a]=this[v+u];else Uint8Array.prototype.set.call(o,this.subarray(u,u+g),a);return g};Qt.prototype.fill=function(o,a,u,f){if(typeof o=="string"){if(typeof a=="string"?(f=a,a=0,u=this.length):typeof u=="string"&&(f=u,u=this.length),o.length===1){var g=o.charCodeAt(0);g<256&&(o=g)}if(f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!Qt.isEncoding(f))throw new TypeError("Unknown encoding: "+f)}else typeof o=="number"&&(o=o&255);if(a<0||this.length<a||this.length<u)throw new RangeError("Out of range index");if(u<=a)return this;a=a>>>0,u=u===void 0?this.length:u>>>0,o||(o=0);var v;if(typeof o=="number")for(v=a;v<u;++v)this[v]=o;else{var S=Jh(o)?o:rR(new Qt(o,f).toString()),w=S.length;for(v=0;v<u-a;++v)this[v+a]=S[v%w]}return this};var xot=/[^+\/0-9A-Za-z-_]/g;function Iot(l){if(l=Dot(l).replace(xot,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function Dot(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function Oot(l){return l<16?"0"+l.toString(16):l.toString(16)}function rR(l,o){o=o||1/0;for(var a,u=l.length,f=null,g=[],v=0;v<u;++v){if(a=l.charCodeAt(v),a>55295&&a<57344){if(!f){if(a>56319){(o-=3)>-1&&g.push(239,191,189);continue}else if(v+1===u){(o-=3)>-1&&g.push(239,191,189);continue}f=a;continue}if(a<56320){(o-=3)>-1&&g.push(239,191,189),f=a;continue}a=(f-55296<<10|a-56320)+65536}else f&&(o-=3)>-1&&g.push(239,191,189);if(f=null,a<128){if((o-=1)<0)break;g.push(a)}else if(a<2048){if((o-=2)<0)break;g.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;g.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;g.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return g}function kot(l){for(var o=[],a=0;a<l.length;++a)o.push(l.charCodeAt(a)&255);return o}function Pot(l,o){for(var a,u,f,g=[],v=0;v<l.length&&!((o-=2)<0);++v)a=l.charCodeAt(v),u=a>>8,f=a%256,g.push(f),g.push(u);return g}function sde(l){return oot(Iot(l))}function MR(l,o,a,u){for(var f=0;f<u&&!(f+a>=o.length||f>=l.length);++f)o[f+a]=l[f];return f}function Rot(l){return l!==l}function Not(l){return l!=null&&(!!l._isBuffer||lde(l)||Mot(l))}function lde(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function Mot(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&lde(l.slice(0,0))}nr();ir();var Lot=class{constructor(l,o){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=l,this.useContextVariables=o}generateVariable(l){const o=[...this.scopes[this.scopes.length-1]];return l&&o.push(l),o.join(".")}generateOption(l){switch(typeof l){case"number":return l.toString();case"string":return this.generateVariable(l);case"function":return`${this.addImport(l)}.call(${this.generateVariable()}, vars)`}}generateError(l){this.pushCode(`throw new Error(${l});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(l){this.code+=l+`
`}pushPath(l){l&&this.scopes[this.scopes.length-1].push(l)}popPath(l){l&&this.scopes[this.scopes.length-1].pop()}pushScope(l){this.scopes.push([l])}popScope(){this.scopes.pop()}addImport(l){if(!this.importPath)return`(${l})`;let o=this.reverseImports.get(l);return o||(o=this.imports.push(l)-1,this.reverseImports.set(l,o)),`${this.importPath}[${o}]`}addReference(l){this.references.has(l)||this.references.set(l,{resolved:!1,requested:!1})}markResolved(l){const o=this.references.get(l);o&&(o.resolved=!0)}markRequested(l){l.forEach(o=>{const a=this.references.get(o);a&&(a.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([l,o])=>!o.resolved&&!o.requested).map(([l,o])=>l)}},wc=new Map,Tv="___parser_",xc={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},CP={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},AP={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},ui=class{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new ui}primitiveGenerateN(l,o){const a=CP[l],u=AP[l];o.pushCode(`${o.generateVariable(this.varName)} = dataView.get${a}(offset, ${u});`),o.pushCode(`offset += ${xc[l]};`)}primitiveN(l,o,a){return this.setNextParser(l,o,a)}useThisEndian(l){return l+this.endian.toLowerCase()}uint8(l,o={}){return this.primitiveN("uint8",l,o)}uint16(l,o={}){return this.primitiveN(this.useThisEndian("uint16"),l,o)}uint16le(l,o={}){return this.primitiveN("uint16le",l,o)}uint16be(l,o={}){return this.primitiveN("uint16be",l,o)}uint32(l,o={}){return this.primitiveN(this.useThisEndian("uint32"),l,o)}uint32le(l,o={}){return this.primitiveN("uint32le",l,o)}uint32be(l,o={}){return this.primitiveN("uint32be",l,o)}int8(l,o={}){return this.primitiveN("int8",l,o)}int16(l,o={}){return this.primitiveN(this.useThisEndian("int16"),l,o)}int16le(l,o={}){return this.primitiveN("int16le",l,o)}int16be(l,o={}){return this.primitiveN("int16be",l,o)}int32(l,o={}){return this.primitiveN(this.useThisEndian("int32"),l,o)}int32le(l,o={}){return this.primitiveN("int32le",l,o)}int32be(l,o={}){return this.primitiveN("int32be",l,o)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(l,o={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),l,o)}int64be(l,o={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",l,o)}int64le(l,o={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",l,o)}uint64(l,o={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),l,o)}uint64be(l,o={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",l,o)}uint64le(l,o={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",l,o)}floatle(l,o={}){return this.primitiveN("floatle",l,o)}floatbe(l,o={}){return this.primitiveN("floatbe",l,o)}doublele(l,o={}){return this.primitiveN("doublele",l,o)}doublebe(l,o={}){return this.primitiveN("doublebe",l,o)}bitN(l,o,a){return a.length=l,this.setNextParser("bit",o,a)}bit1(l,o={}){return this.bitN(1,l,o)}bit2(l,o={}){return this.bitN(2,l,o)}bit3(l,o={}){return this.bitN(3,l,o)}bit4(l,o={}){return this.bitN(4,l,o)}bit5(l,o={}){return this.bitN(5,l,o)}bit6(l,o={}){return this.bitN(6,l,o)}bit7(l,o={}){return this.bitN(7,l,o)}bit8(l,o={}){return this.bitN(8,l,o)}bit9(l,o={}){return this.bitN(9,l,o)}bit10(l,o={}){return this.bitN(10,l,o)}bit11(l,o={}){return this.bitN(11,l,o)}bit12(l,o={}){return this.bitN(12,l,o)}bit13(l,o={}){return this.bitN(13,l,o)}bit14(l,o={}){return this.bitN(14,l,o)}bit15(l,o={}){return this.bitN(15,l,o)}bit16(l,o={}){return this.bitN(16,l,o)}bit17(l,o={}){return this.bitN(17,l,o)}bit18(l,o={}){return this.bitN(18,l,o)}bit19(l,o={}){return this.bitN(19,l,o)}bit20(l,o={}){return this.bitN(20,l,o)}bit21(l,o={}){return this.bitN(21,l,o)}bit22(l,o={}){return this.bitN(22,l,o)}bit23(l,o={}){return this.bitN(23,l,o)}bit24(l,o={}){return this.bitN(24,l,o)}bit25(l,o={}){return this.bitN(25,l,o)}bit26(l,o={}){return this.bitN(26,l,o)}bit27(l,o={}){return this.bitN(27,l,o)}bit28(l,o={}){return this.bitN(28,l,o)}bit29(l,o={}){return this.bitN(29,l,o)}bit30(l,o={}){return this.bitN(30,l,o)}bit31(l,o={}){return this.bitN(31,l,o)}bit32(l,o={}){return this.bitN(32,l,o)}namely(l){return wc.set(l,this),this.alias=l,this}skip(l,o={}){return this.seek(l,o)}seek(l,o={}){if(o.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:l})}string(l,o){if(!o.zeroTerminated&&!o.length&&!o.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((o.zeroTerminated||o.length)&&o.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(o.stripNull&&!(o.length||o.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return o.encoding=o.encoding||"utf8",this.setNextParser("string",l,o)}buffer(l,o){if(!o.length&&!o.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",l,o)}wrapped(l,o){if(typeof o!="object"&&typeof l=="object"&&(o=l,l=""),!o||!o.wrapper||!o.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!o.length&&!o.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",l,o)}array(l,o){if(!o.readUntil&&!o.length&&!o.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!o.type)throw new Error("type is required for array.");if(typeof o.type=="string"&&!wc.has(o.type)&&!(o.type in xc))throw new Error(`Array element type "${o.type}" is unkown.`);return this.setNextParser("array",l,o)}choice(l,o){if(typeof o!="object"&&typeof l=="object"&&(o=l,l=""),!o)throw new Error("tag and choices are are required for choice.");if(!o.tag)throw new Error("tag is requird for choice.");if(!o.choices)throw new Error("choices is required for choice.");for(const a in o.choices){const u=parseInt(a,10),f=o.choices[u];if(isNaN(u))throw new Error(`Choice key "${a}" is not a number.`);if(typeof f=="string"&&!wc.has(f)&&!(f in xc))throw new Error(`Choice type "${f}" is unkown.`)}return this.setNextParser("choice",l,o)}nest(l,o){if(typeof o!="object"&&typeof l=="object"&&(o=l,l=""),!o||!o.type)throw new Error("type is required for nest.");if(!(o.type instanceof ui)&&!wc.has(o.type))throw new Error("type must be a known parser name or a Parser object.");if(!(o.type instanceof ui)&&!l)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",l,o)}pointer(l,o){if(!o.offset)throw new Error("offset is required for pointer.");if(!o.type)throw new Error("type is required for pointer.");if(typeof o.type=="string"&&!(o.type in xc)&&!wc.has(o.type))throw new Error(`Pointer type "${o.type}" is unkown.`);return this.setNextParser("pointer",l,o)}saveOffset(l,o={}){return this.setNextParser("saveOffset",l,o)}endianness(l){switch(l.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(l){return this.endianness(l)}useContextVars(l=!0){return this.useContextVariables=l,this}create(l){if(!(l instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=l,this}getContext(l){const o=new Lot(l,this.useContextVariables);return o.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(o),o.pushCode(`return ${Tv+this.alias}(0).result;`)):this.addRawCode(o),o}getCode(){return this.getContext("imports").code}addRawCode(l){l.pushCode("var offset = 0;"),l.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),l.pushCode("vars.$parent = null;"),l.pushCode("vars.$root = vars;"),this.generate(l),this.resolveReferences(l),l.pushCode("delete vars.$parent;"),l.pushCode("delete vars.$root;"),l.pushCode("return vars;")}addAliasedCode(l){return l.pushCode(`function ${Tv+this.alias}(offset, context) {`),l.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),l.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),l.pushCode("vars = Object.assign(vars, ctx);"),this.generate(l),l.markResolved(this.alias),this.resolveReferences(l),l.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),l.pushCode("return { offset: offset, result: vars };"),l.pushCode("}"),l}resolveReferences(l){const o=l.getUnresolvedReferences();l.markRequested(o),o.forEach(a=>{var u;(u=wc.get(a))===null||u===void 0||u.addAliasedCode(l)})}compile(){const l="imports",o=this.getContext(l);this.compiled=new Function(l,"TextDecoder",`return function (buffer, constructorFn) { ${o.code} };`)(o.imports,TextDecoder)}sizeOf(){let l=NaN;if(Object.keys(xc).indexOf(this.type)>=0)l=xc[this.type];else if(this.type==="string"&&typeof this.options.length=="number")l=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")l=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let o=NaN;typeof this.options.type=="string"?o=xc[this.options.type]:this.options.type instanceof ui&&(o=this.options.type.sizeOf()),l=this.options.length*o}else this.type==="seek"?l=this.options.length:this.type==="nest"?l=this.options.type.sizeOf():this.type||(l=0);return this.next&&(l+=this.next.sizeOf()),l}parse(l){return this.compiled||this.compile(),this.compiled(l,this.constructorFn)}setNextParser(l,o,a){const u=new ui;return u.type=l,u.varName=o,u.options=a,u.endian=this.endian,this.head?this.head.next=u:this.next=u,this.head=u,this}generate(l){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,l);break;case"bit":this.generateBit(l);break;case"string":this.generateString(l);break;case"buffer":this.generateBuffer(l);break;case"seek":this.generateSeek(l);break;case"nest":this.generateNest(l);break;case"array":this.generateArray(l);break;case"choice":this.generateChoice(l);break;case"pointer":this.generatePointer(l);break;case"saveOffset":this.generateSaveOffset(l);break;case"wrapper":this.generateWrapper(l);break}this.type!=="bit"&&this.generateAssert(l)}const o=l.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(l,o,this.options.formatter),this.generateNext(l)}generateAssert(l){if(!this.options.assert)return;const o=l.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const a=l.addImport(this.options.assert);l.pushCode(`if (!${a}.call(vars, ${o})) {`)}break;case"number":l.pushCode(`if (${this.options.assert} !== ${o}) {`);break;case"string":l.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${o}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}l.generateError(`"Assertion error: ${o} is " + ${JSON.stringify(this.options.assert.toString())}`),l.pushCode("}")}generateNext(l){return this.next&&(l=this.next.generate(l)),l}generateBit(l){const o=JSON.parse(JSON.stringify(this));if(o.options=this.options,o.generateAssert=this.generateAssert.bind(this),o.generateFormatter=this.generateFormatter.bind(this),o.varName=l.generateVariable(o.varName),l.bitFields.push(o),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const a=l.generateTmpVariable();l.pushCode(`var ${a} = 0;`);const u=(I=0)=>{let k=0;for(let F=I;F<l.bitFields.length;F++){const U=l.bitFields[F].options.length;if(k+U>32)break;k+=U}return k},f=I=>(I<=8?(l.pushCode(`${a} = dataView.getUint8(offset);`),I=8):I<=16?(l.pushCode(`${a} = dataView.getUint16(offset);`),I=16):I<=24?(l.pushCode(`${a} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),I=24):(l.pushCode(`${a} = dataView.getUint32(offset);`),I=32),l.pushCode(`offset += ${I/8};`),I);let g=0;const v=this.endian==="be";let S=0,w=0;l.bitFields.forEach((I,k)=>{let F=I.options.length;if(F>w){if(w){const H=-1>>>32-w;l.pushCode(`${I.varName} = (${a} & 0x${H.toString(16)}) << ${F-w};`),F-=w}g=0,w=S=f(u(k)-w)}const U=v?S-g-F:g,N=-1>>>32-F;l.pushCode(`${I.varName} ${F<I.options.length?"|=":"="} ${a} >> ${U} & 0x${N.toString(16)};`),I.options.length===32&&l.pushCode(`${I.varName} >>>= 0`),I.options.assert&&I.generateAssert(l),I.options.formatter&&I.generateFormatter(l,I.varName,I.options.formatter),g+=F,w-=F}),l.bitFields=[]}}generateSeek(l){const o=l.generateOption(this.options.length);l.pushCode(`offset += ${o};`)}generateString(l){const o=l.generateVariable(this.varName),a=l.generateTmpVariable(),u=this.options.encoding,f=u.toLowerCase()==="hex",g='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const v=this.options.length;l.pushCode(`var ${a} = offset;`),l.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${a} < ${v});`);const S=`offset - ${a} < ${v} ? offset - 1 : offset`;l.pushCode(f?`${o} = Array.from(buffer.subarray(${a}, ${S}), ${g}).join('');`:`${o} = new TextDecoder('${u}').decode(buffer.subarray(${a}, ${S}));`)}else if(this.options.length){const v=l.generateOption(this.options.length);l.pushCode(f?`${o} = Array.from(buffer.subarray(offset, offset + ${v}), ${g}).join('');`:`${o} = new TextDecoder('${u}').decode(buffer.subarray(offset, offset + ${v}));`),l.pushCode(`offset += ${v};`)}else this.options.zeroTerminated?(l.pushCode(`var ${a} = offset;`),l.pushCode("while(dataView.getUint8(offset++) !== 0);"),l.pushCode(f?`${o} = Array.from(buffer.subarray(${a}, offset - 1), ${g}).join('');`:`${o} = new TextDecoder('${u}').decode(buffer.subarray(${a}, offset - 1));`)):this.options.greedy&&(l.pushCode(`var ${a} = offset;`),l.pushCode("while(buffer.length > offset++);"),l.pushCode(f?`${o} = Array.from(buffer.subarray(${a}, offset), ${g}).join('');`:`${o} = new TextDecoder('${u}').decode(buffer.subarray(${a}, offset));`));this.options.stripNull&&l.pushCode(`${o} = ${o}.replace(/\\x00+$/g, '')`)}generateBuffer(l){const o=l.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){const a=this.options.readUntil,u=l.generateTmpVariable(),f=l.generateTmpVariable();l.pushCode(`var ${u} = offset;`),l.pushCode(`var ${f} = 0;`),l.pushCode("while (offset < buffer.length) {"),l.pushCode(`${f} = dataView.getUint8(offset);`);const g=l.addImport(a);l.pushCode(`if (${g}.call(${l.generateVariable()}, ${f}, buffer.subarray(offset))) break;`),l.pushCode("offset += 1;"),l.pushCode("}"),l.pushCode(`${o} = buffer.subarray(${u}, offset);`)}else if(this.options.readUntil==="eof")l.pushCode(`${o} = buffer.subarray(offset);`);else{const a=l.generateOption(this.options.length);l.pushCode(`${o} = buffer.subarray(offset, offset + ${a});`),l.pushCode(`offset += ${a};`)}this.options.clone&&l.pushCode(`${o} = buffer.constructor.from(${o});`)}generateArray(l){const o=l.generateOption(this.options.length),a=l.generateOption(this.options.lengthInBytes),u=this.options.type,f=l.generateTmpVariable(),g=l.generateVariable(this.varName),v=l.generateTmpVariable(),S=this.options.key,w=typeof S=="string";if(w?l.pushCode(`${g} = {};`):l.pushCode(`${g} = [];`),typeof this.options.readUntil=="function"?l.pushCode("do {"):this.options.readUntil==="eof"?l.pushCode(`for (var ${f} = 0; offset < buffer.length; ${f}++) {`):a!==void 0?l.pushCode(`for (var ${f} = offset + ${a}; offset < ${f}; ) {`):l.pushCode(`for (var ${f} = ${o}; ${f} > 0; ${f}--) {`),typeof u=="string")if(wc.get(u)){const I=l.generateTmpVariable();if(l.pushCode(`var ${I} = ${Tv+u}(offset, {`),l.useContextVariables){const k=l.generateVariable();l.pushCode(`$parent: ${k},`),l.pushCode(`$root: ${k}.$root,`),!this.options.readUntil&&a===void 0&&l.pushCode(`$index: ${o} - ${f},`)}l.pushCode("});"),l.pushCode(`var ${v} = ${I}.result; offset = ${I}.offset;`),u!==this.alias&&l.addReference(u)}else{const I=CP[u],k=AP[u];l.pushCode(`var ${v} = dataView.get${I}(offset, ${k});`),l.pushCode(`offset += ${xc[u]};`)}else if(u instanceof ui){l.pushCode(`var ${v} = {};`);const I=l.generateVariable();l.pushScope(v),l.useContextVariables&&(l.pushCode(`${v}.$parent = ${I};`),l.pushCode(`${v}.$root = ${I}.$root;`),!this.options.readUntil&&a===void 0&&l.pushCode(`${v}.$index = ${o} - ${f};`)),u.generate(l),l.useContextVariables&&(l.pushCode(`delete ${v}.$parent;`),l.pushCode(`delete ${v}.$root;`),l.pushCode(`delete ${v}.$index;`)),l.popScope()}if(w?l.pushCode(`${g}[${v}.${S}] = ${v};`):l.pushCode(`${g}.push(${v});`),l.pushCode("}"),typeof this.options.readUntil=="function"){const I=this.options.readUntil,k=l.addImport(I);l.pushCode(`while (!${k}.call(${l.generateVariable()}, ${v}, buffer.subarray(offset)));`)}}generateChoiceCase(l,o,a){if(typeof a=="string"){const u=l.generateVariable(this.varName);if(wc.has(a)){const f=l.generateTmpVariable();l.pushCode(`var ${f} = ${Tv+a}(offset, {`),l.useContextVariables&&(l.pushCode(`$parent: ${u}.$parent,`),l.pushCode(`$root: ${u}.$root,`)),l.pushCode("});"),l.pushCode(`${u} = ${f}.result; offset = ${f}.offset;`),a!==this.alias&&l.addReference(a)}else{const f=CP[a],g=AP[a];l.pushCode(`${u} = dataView.get${f}(offset, ${g});`),l.pushCode(`offset += ${xc[a]}`)}}else a instanceof ui&&(l.pushPath(o),a.generate(l),l.popPath(o))}generateChoice(l){const o=l.generateOption(this.options.tag),a=l.generateVariable(this.varName);if(this.varName&&(l.pushCode(`${a} = {};`),l.useContextVariables)){const u=l.generateVariable();l.pushCode(`${a}.$parent = ${u};`),l.pushCode(`${a}.$root = ${u}.$root;`)}l.pushCode(`switch(${o}) {`);for(const u in this.options.choices){const f=parseInt(u,10),g=this.options.choices[f];l.pushCode(`case ${f}:`),this.generateChoiceCase(l,this.varName,g),l.pushCode("break;")}l.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(l,this.varName,this.options.defaultChoice):l.generateError(`"Met undefined tag value " + ${o} + " at choice"`),l.pushCode("}"),this.varName&&l.useContextVariables&&(l.pushCode(`delete ${a}.$parent;`),l.pushCode(`delete ${a}.$root;`))}generateNest(l){const o=l.generateVariable(this.varName);if(this.options.type instanceof ui){if(this.varName&&(l.pushCode(`${o} = {};`),l.useContextVariables)){const a=l.generateVariable();l.pushCode(`${o}.$parent = ${a};`),l.pushCode(`${o}.$root = ${a}.$root;`)}l.pushPath(this.varName),this.options.type.generate(l),l.popPath(this.varName),this.varName&&l.useContextVariables&&l.useContextVariables&&(l.pushCode(`delete ${o}.$parent;`),l.pushCode(`delete ${o}.$root;`))}else if(wc.has(this.options.type)){const a=l.generateTmpVariable();if(l.pushCode(`var ${a} = ${Tv+this.options.type}(offset, {`),l.useContextVariables){const u=l.generateVariable();l.pushCode(`$parent: ${u},`),l.pushCode(`$root: ${u}.$root,`)}l.pushCode("});"),l.pushCode(`${o} = ${a}.result; offset = ${a}.offset;`),this.options.type!==this.alias&&l.addReference(this.options.type)}}generateWrapper(l){const o=l.generateVariable(this.varName),a=l.generateTmpVariable();if(typeof this.options.readUntil=="function"){const S=this.options.readUntil,w=l.generateTmpVariable(),I=l.generateTmpVariable();l.pushCode(`var ${w} = offset;`),l.pushCode(`var ${I} = 0;`),l.pushCode("while (offset < buffer.length) {"),l.pushCode(`${I} = dataView.getUint8(offset);`);const k=l.addImport(S);l.pushCode(`if (${k}.call(${l.generateVariable()}, ${I}, buffer.subarray(offset))) break;`),l.pushCode("offset += 1;"),l.pushCode("}"),l.pushCode(`${a} = buffer.subarray(${w}, offset);`)}else if(this.options.readUntil==="eof")l.pushCode(`${a} = buffer.subarray(offset);`);else{const S=l.generateOption(this.options.length);l.pushCode(`${a} = buffer.subarray(offset, offset + ${S});`),l.pushCode(`offset += ${S};`)}this.options.clone&&l.pushCode(`${a} = buffer.constructor.from(${a});`);const u=l.generateTmpVariable(),f=l.generateTmpVariable(),g=l.generateTmpVariable(),v=l.addImport(this.options.wrapper);if(l.pushCode(`${a} = ${v}.call(this, ${a}).subarray(0);`),l.pushCode(`var ${u} = buffer;`),l.pushCode(`var ${f} = offset;`),l.pushCode(`var ${g} = dataView;`),l.pushCode(`buffer = ${a};`),l.pushCode("offset = 0;"),l.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof ui)this.varName&&l.pushCode(`${o} = {};`),l.pushPath(this.varName),this.options.type.generate(l),l.popPath(this.varName);else if(wc.has(this.options.type)){const S=l.generateTmpVariable();l.pushCode(`var ${S} = ${Tv+this.options.type}(0);`),l.pushCode(`${o} = ${S}.result;`),this.options.type!==this.alias&&l.addReference(this.options.type)}l.pushCode(`buffer = ${u};`),l.pushCode(`dataView = ${g};`),l.pushCode(`offset = ${f};`)}generateFormatter(l,o,a){if(typeof a=="function"){const u=l.addImport(a);l.pushCode(`${o} = ${u}.call(${l.generateVariable()}, ${o});`)}}generatePointer(l){const o=this.options.type,a=l.generateOption(this.options.offset),u=l.generateTmpVariable(),f=l.generateVariable(this.varName);if(l.pushCode(`var ${u} = offset;`),l.pushCode(`offset = ${a};`),this.options.type instanceof ui){if(l.pushCode(`${f} = {};`),l.useContextVariables){const g=l.generateVariable();l.pushCode(`${f}.$parent = ${g};`),l.pushCode(`${f}.$root = ${g}.$root;`)}l.pushPath(this.varName),this.options.type.generate(l),l.popPath(this.varName),l.useContextVariables&&(l.pushCode(`delete ${f}.$parent;`),l.pushCode(`delete ${f}.$root;`))}else if(wc.has(this.options.type)){const g=l.generateTmpVariable();if(l.pushCode(`var ${g} = ${Tv+this.options.type}(offset, {`),l.useContextVariables){const v=l.generateVariable();l.pushCode(`$parent: ${v},`),l.pushCode(`$root: ${v}.$root,`)}l.pushCode("});"),l.pushCode(`${f} = ${g}.result; offset = ${g}.offset;`),this.options.type!==this.alias&&l.addReference(this.options.type)}else if(Object.keys(xc).indexOf(this.options.type)>=0){const g=CP[o],v=AP[o];l.pushCode(`${f} = dataView.get${g}(offset, ${v});`),l.pushCode(`offset += ${xc[o]};`)}l.pushCode(`offset = ${u};`)}generateSaveOffset(l){const o=l.generateVariable(this.varName);l.pushCode(`${o} = offset`)}},Bot=Qv(Yfe()),Fot=Qv(Xfe());nr();ir();var Pv=class{constructor(l,o){this.ranges=arguments.length===2?[{min:l,max:o}]:0 in l?Object.assign({},l):[l]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(l){for(let o=0;o<this.ranges.length;o+=1){const a=this.ranges[o];if(a.min<=l&&a.max>=l)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(l=>new Pv(l.min,l.max))}toString(){return this.ranges.map(l=>`[${l.min}-${l.max}]`).join(",")}union(l){const o=this.getRanges().concat(l.getRanges()).sort(this.rangeOrder),a=[];let u=o[0];for(let f=1;f<o.length;f+=1){const g=o[f];g.min()>u.max()+1?(a.push(u),u=g):g.max()>u.max()&&(u=new Pv(u.min(),g.max()))}return a.push(u),a.length===1?a[0]:new Pv(a)}intersection(l){let o=this,a=l;const u=this.ranges(),f=a.ranges(),g=u.length,v=f.length;let S=0,w=0;const I=[];for(;S<g&&w<v;){o=u[S],a=f[w];const k=Math.max(o.min(),a.min()),F=Math.min(o.max(),a.max());F>=k&&I.push(new Pv(k,F)),o.max()>a.max()?w+=1:S+=1}if(I.length===0)throw new Error("found range of length 0");return I.length===1?I[0]:new Pv(I)}coverage(){let l=0;const o=this.ranges();for(let a=0;a<o.length;a+=1){const u=o[a];l+=u.max()-u.min()+1}return l}rangeOrder(l,o){let a=l,u=o;return arguments.length<2&&(u=a,a=this),a.min()<u.min()?-1:a.min()>u.min()?1:a.max()<u.max()?-1:u.max()>a.max()?1:0}};nr();ir();nr();ir();function lE(l){let o=l.length;for(;--o>=0;)l[o]=0}var Uot=3,Hot=258,ude=29,$ot=256,Got=$ot+1+ude,cde=30,zot=512,jot=new Array((Got+2)*2);lE(jot);var Vot=new Array(cde*2);lE(Vot);var Wot=new Array(zot);lE(Wot);var Yot=new Array(Hot-Uot+1);lE(Yot);var Xot=new Array(ude);lE(Xot);var qot=new Array(cde);lE(qot);var Kot=(l,o,a,u)=>{let f=l&65535|0,g=l>>>16&65535|0,v=0;for(;a!==0;){v=a>2e3?2e3:a,a-=v;do f=f+o[u++]|0,g=g+f|0;while(--v);f%=65521,g%=65521}return f|g<<16|0},qH=Kot,Zot=()=>{let l,o=[];for(var a=0;a<256;a++){l=a;for(var u=0;u<8;u++)l=l&1?3988292384^l>>>1:l>>>1;o[a]=l}return o},Qot=new Uint32Array(Zot()),Jot=(l,o,a,u)=>{const f=Qot,g=u+a;l^=-1;for(let v=u;v<g;v++)l=l>>>8^f[(l^o[v])&255];return l^-1},$h=Jot,KH={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hde={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8},est=(l,o)=>Object.prototype.hasOwnProperty.call(l,o),tst=function(l){const o=Array.prototype.slice.call(arguments,1);for(;o.length;){const a=o.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const u in a)est(a,u)&&(l[u]=a[u])}}return l},rst=l=>{let o=0;for(let u=0,f=l.length;u<f;u++)o+=l[u].length;const a=new Uint8Array(o);for(let u=0,f=0,g=l.length;u<g;u++){let v=l[u];a.set(v,f),f+=v.length}return a},fde={assign:tst,flattenChunks:rst},dde=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dde=!1}var IA=new Uint8Array(256);for(let l=0;l<256;l++)IA[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;IA[254]=IA[254]=1;var nst=l=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(l);let o,a,u,f,g,v=l.length,S=0;for(f=0;f<v;f++)a=l.charCodeAt(f),(a&64512)===55296&&f+1<v&&(u=l.charCodeAt(f+1),(u&64512)===56320&&(a=65536+(a-55296<<10)+(u-56320),f++)),S+=a<128?1:a<2048?2:a<65536?3:4;for(o=new Uint8Array(S),g=0,f=0;g<S;f++)a=l.charCodeAt(f),(a&64512)===55296&&f+1<v&&(u=l.charCodeAt(f+1),(u&64512)===56320&&(a=65536+(a-55296<<10)+(u-56320),f++)),a<128?o[g++]=a:a<2048?(o[g++]=192|a>>>6,o[g++]=128|a&63):a<65536?(o[g++]=224|a>>>12,o[g++]=128|a>>>6&63,o[g++]=128|a&63):(o[g++]=240|a>>>18,o[g++]=128|a>>>12&63,o[g++]=128|a>>>6&63,o[g++]=128|a&63);return o},ist=(l,o)=>{if(o<65534&&l.subarray&&dde)return String.fromCharCode.apply(null,l.length===o?l:l.subarray(0,o));let a="";for(let u=0;u<o;u++)a+=String.fromCharCode(l[u]);return a},ast=(l,o)=>{const a=o||l.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(l.subarray(0,o));let u,f;const g=new Array(a*2);for(f=0,u=0;u<a;){let v=l[u++];if(v<128){g[f++]=v;continue}let S=IA[v];if(S>4){g[f++]=65533,u+=S-1;continue}for(v&=S===2?31:S===3?15:7;S>1&&u<a;)v=v<<6|l[u++]&63,S--;if(S>1){g[f++]=65533;continue}v<65536?g[f++]=v:(v-=65536,g[f++]=55296|v>>10&1023,g[f++]=56320|v&1023)}return ist(g,f)},ost=(l,o)=>{o=o||l.length,o>l.length&&(o=l.length);let a=o-1;for(;a>=0&&(l[a]&192)===128;)a--;return a<0||a===0?o:a+IA[l[a]]>o?a:o},ZH={string2buf:nst,buf2string:ast,utf8border:ost};function sst(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lst=sst,wP=16209,ust=16191,cst=function(o,a){let u,f,g,v,S,w,I,k,F,U,N,H,q,j,se,he,oe,ue,X,de,fe,Fe,M,ke;const qe=o.state;u=o.next_in,M=o.input,f=u+(o.avail_in-5),g=o.next_out,ke=o.output,v=g-(a-o.avail_out),S=g+(o.avail_out-257),w=qe.dmax,I=qe.wsize,k=qe.whave,F=qe.wnext,U=qe.window,N=qe.hold,H=qe.bits,q=qe.lencode,j=qe.distcode,se=(1<<qe.lenbits)-1,he=(1<<qe.distbits)-1;e:do{H<15&&(N+=M[u++]<<H,H+=8,N+=M[u++]<<H,H+=8),oe=q[N&se];t:for(;;){if(ue=oe>>>24,N>>>=ue,H-=ue,ue=oe>>>16&255,ue===0)ke[g++]=oe&65535;else if(ue&16){X=oe&65535,ue&=15,ue&&(H<ue&&(N+=M[u++]<<H,H+=8),X+=N&(1<<ue)-1,N>>>=ue,H-=ue),H<15&&(N+=M[u++]<<H,H+=8,N+=M[u++]<<H,H+=8),oe=j[N&he];r:for(;;){if(ue=oe>>>24,N>>>=ue,H-=ue,ue=oe>>>16&255,ue&16){if(de=oe&65535,ue&=15,H<ue&&(N+=M[u++]<<H,H+=8,H<ue&&(N+=M[u++]<<H,H+=8)),de+=N&(1<<ue)-1,de>w){o.msg="invalid distance too far back",qe.mode=wP;break e}if(N>>>=ue,H-=ue,ue=g-v,de>ue){if(ue=de-ue,ue>k&&qe.sane){o.msg="invalid distance too far back",qe.mode=wP;break e}if(fe=0,Fe=U,F===0){if(fe+=I-ue,ue<X){X-=ue;do ke[g++]=U[fe++];while(--ue);fe=g-de,Fe=ke}}else if(F<ue){if(fe+=I+F-ue,ue-=F,ue<X){X-=ue;do ke[g++]=U[fe++];while(--ue);if(fe=0,F<X){ue=F,X-=ue;do ke[g++]=U[fe++];while(--ue);fe=g-de,Fe=ke}}}else if(fe+=F-ue,ue<X){X-=ue;do ke[g++]=U[fe++];while(--ue);fe=g-de,Fe=ke}for(;X>2;)ke[g++]=Fe[fe++],ke[g++]=Fe[fe++],ke[g++]=Fe[fe++],X-=3;X&&(ke[g++]=Fe[fe++],X>1&&(ke[g++]=Fe[fe++]))}else{fe=g-de;do ke[g++]=ke[fe++],ke[g++]=ke[fe++],ke[g++]=ke[fe++],X-=3;while(X>2);X&&(ke[g++]=ke[fe++],X>1&&(ke[g++]=ke[fe++]))}}else if((ue&64)===0){oe=j[(oe&65535)+(N&(1<<ue)-1)];continue r}else{o.msg="invalid distance code",qe.mode=wP;break e}break}}else if((ue&64)===0){oe=q[(oe&65535)+(N&(1<<ue)-1)];continue t}else if(ue&32){qe.mode=ust;break e}else{o.msg="invalid literal/length code",qe.mode=wP;break e}break}}while(u<f&&g<S);X=H>>3,u-=X,H-=X<<3,N&=(1<<H)-1,o.next_in=u,o.next_out=g,o.avail_in=u<f?5+(f-u):5-(u-f),o.avail_out=g<S?257+(S-g):257-(g-S),qe.hold=N,qe.bits=H},z_=15,Tle=852,ble=592,Sle=0,iU=1,Cle=2,hst=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fst=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dst=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pst=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mst=(l,o,a,u,f,g,v,S)=>{const w=S.bits;let I=0,k=0,F=0,U=0,N=0,H=0,q=0,j=0,se=0,he=0,oe,ue,X,de,fe,Fe=null,M;const ke=new Uint16Array(z_+1),qe=new Uint16Array(z_+1);let Te=null,at,_t,z;for(I=0;I<=z_;I++)ke[I]=0;for(k=0;k<u;k++)ke[o[a+k]]++;for(N=w,U=z_;U>=1&&ke[U]===0;U--);if(N>U&&(N=U),U===0)return f[g++]=1<<24|64<<16|0,f[g++]=1<<24|64<<16|0,S.bits=1,0;for(F=1;F<U&&ke[F]===0;F++);for(N<F&&(N=F),j=1,I=1;I<=z_;I++)if(j<<=1,j-=ke[I],j<0)return-1;if(j>0&&(l===Sle||U!==1))return-1;for(qe[1]=0,I=1;I<z_;I++)qe[I+1]=qe[I]+ke[I];for(k=0;k<u;k++)o[a+k]!==0&&(v[qe[o[a+k]]++]=k);if(l===Sle?(Fe=Te=v,M=20):l===iU?(Fe=hst,Te=fst,M=257):(Fe=dst,Te=pst,M=0),he=0,k=0,I=F,fe=g,H=N,q=0,X=-1,se=1<<N,de=se-1,l===iU&&se>Tle||l===Cle&&se>ble)return 1;for(;;){at=I-q,v[k]+1<M?(_t=0,z=v[k]):v[k]>=M?(_t=Te[v[k]-M],z=Fe[v[k]-M]):(_t=96,z=0),oe=1<<I-q,ue=1<<H,F=ue;do ue-=oe,f[fe+(he>>q)+ue]=at<<24|_t<<16|z|0;while(ue!==0);for(oe=1<<I-1;he&oe;)oe>>=1;if(oe!==0?(he&=oe-1,he+=oe):he=0,k++,--ke[I]===0){if(I===U)break;I=o[a+v[k]]}if(I>N&&(he&de)!==X){for(q===0&&(q=N),fe+=F,H=I-q,j=1<<H;H+q<U&&(j-=ke[H+q],!(j<=0));)H++,j<<=1;if(se+=1<<H,l===iU&&se>Tle||l===Cle&&se>ble)return 1;X=he&de,f[X]=N<<24|H<<16|fe-g|0}}return he!==0&&(f[fe+he]=I-q<<24|64<<16|0),S.bits=N,0},pA=mst,gst=0,pde=1,mde=2,{Z_FINISH:Ale,Z_BLOCK:vst,Z_TREES:xP,Z_OK:Zv,Z_STREAM_END:yst,Z_NEED_DICT:_st,Z_STREAM_ERROR:Nu,Z_DATA_ERROR:gde,Z_MEM_ERROR:vde,Z_BUF_ERROR:Est,Z_DEFLATED:wle}=hde,LR=16180,xle=16181,Ile=16182,Dle=16183,Ole=16184,kle=16185,Ple=16186,Rle=16187,Nle=16188,Mle=16189,nR=16190,Qf=16191,aU=16192,Lle=16193,oU=16194,Ble=16195,Fle=16196,Ule=16197,Hle=16198,IP=16199,DP=16200,$le=16201,Gle=16202,zle=16203,jle=16204,Vle=16205,sU=16206,Wle=16207,Yle=16208,ia=16209,yde=16210,_de=16211,Tst=852,bst=592,Sst=15,Cst=Sst,Xle=l=>(l>>>24&255)+(l>>>8&65280)+((l&65280)<<8)+((l&255)<<24);function Ast(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Jv=l=>{if(!l)return 1;const o=l.state;return!o||o.strm!==l||o.mode<LR||o.mode>_de?1:0},Ede=l=>{if(Jv(l))return Nu;const o=l.state;return l.total_in=l.total_out=o.total=0,l.msg="",o.wrap&&(l.adler=o.wrap&1),o.mode=LR,o.last=0,o.havedict=0,o.flags=-1,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Int32Array(Tst),o.distcode=o.distdyn=new Int32Array(bst),o.sane=1,o.back=-1,Zv},Tde=l=>{if(Jv(l))return Nu;const o=l.state;return o.wsize=0,o.whave=0,o.wnext=0,Ede(l)},bde=(l,o)=>{let a;if(Jv(l))return Nu;const u=l.state;return o<0?(a=0,o=-o):(a=(o>>4)+5,o<48&&(o&=15)),o&&(o<8||o>15)?Nu:(u.window!==null&&u.wbits!==o&&(u.window=null),u.wrap=a,u.wbits=o,Tde(l))},Sde=(l,o)=>{if(!l)return Nu;const a=new Ast;l.state=a,a.strm=l,a.window=null,a.mode=LR;const u=bde(l,o);return u!==Zv&&(l.state=null),u},wst=l=>Sde(l,Cst),qle=!0,lU,uU,xst=l=>{if(qle){lU=new Int32Array(512),uU=new Int32Array(32);let o=0;for(;o<144;)l.lens[o++]=8;for(;o<256;)l.lens[o++]=9;for(;o<280;)l.lens[o++]=7;for(;o<288;)l.lens[o++]=8;for(pA(pde,l.lens,0,288,lU,0,l.work,{bits:9}),o=0;o<32;)l.lens[o++]=5;pA(mde,l.lens,0,32,uU,0,l.work,{bits:5}),qle=!1}l.lencode=lU,l.lenbits=9,l.distcode=uU,l.distbits=5},Cde=(l,o,a,u)=>{let f;const g=l.state;return g.window===null&&(g.wsize=1<<g.wbits,g.wnext=0,g.whave=0,g.window=new Uint8Array(g.wsize)),u>=g.wsize?(g.window.set(o.subarray(a-g.wsize,a),0),g.wnext=0,g.whave=g.wsize):(f=g.wsize-g.wnext,f>u&&(f=u),g.window.set(o.subarray(a-u,a-u+f),g.wnext),u-=f,u?(g.window.set(o.subarray(a-u,a),0),g.wnext=u,g.whave=g.wsize):(g.wnext+=f,g.wnext===g.wsize&&(g.wnext=0),g.whave<g.wsize&&(g.whave+=f))),0},Ist=(l,o)=>{let a,u,f,g,v,S,w,I,k,F,U,N,H,q,j=0,se,he,oe,ue,X,de,fe,Fe;const M=new Uint8Array(4);let ke,qe;const Te=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Jv(l)||!l.output||!l.input&&l.avail_in!==0)return Nu;a=l.state,a.mode===Qf&&(a.mode=aU),v=l.next_out,f=l.output,w=l.avail_out,g=l.next_in,u=l.input,S=l.avail_in,I=a.hold,k=a.bits,F=S,U=w,Fe=Zv;e:for(;;)switch(a.mode){case LR:if(a.wrap===0){a.mode=aU;break}for(;k<16;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if(a.wrap&2&&I===35615){a.wbits===0&&(a.wbits=15),a.check=0,M[0]=I&255,M[1]=I>>>8&255,a.check=$h(a.check,M,2,0),I=0,k=0,a.mode=xle;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((I&255)<<8)+(I>>8))%31){l.msg="incorrect header check",a.mode=ia;break}if((I&15)!==wle){l.msg="unknown compression method",a.mode=ia;break}if(I>>>=4,k-=4,fe=(I&15)+8,a.wbits===0&&(a.wbits=fe),fe>15||fe>a.wbits){l.msg="invalid window size",a.mode=ia;break}a.dmax=1<<a.wbits,a.flags=0,l.adler=a.check=1,a.mode=I&512?Mle:Qf,I=0,k=0;break;case xle:for(;k<16;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if(a.flags=I,(a.flags&255)!==wle){l.msg="unknown compression method",a.mode=ia;break}if(a.flags&57344){l.msg="unknown header flags set",a.mode=ia;break}a.head&&(a.head.text=I>>8&1),a.flags&512&&a.wrap&4&&(M[0]=I&255,M[1]=I>>>8&255,a.check=$h(a.check,M,2,0)),I=0,k=0,a.mode=Ile;case Ile:for(;k<32;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}a.head&&(a.head.time=I),a.flags&512&&a.wrap&4&&(M[0]=I&255,M[1]=I>>>8&255,M[2]=I>>>16&255,M[3]=I>>>24&255,a.check=$h(a.check,M,4,0)),I=0,k=0,a.mode=Dle;case Dle:for(;k<16;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}a.head&&(a.head.xflags=I&255,a.head.os=I>>8),a.flags&512&&a.wrap&4&&(M[0]=I&255,M[1]=I>>>8&255,a.check=$h(a.check,M,2,0)),I=0,k=0,a.mode=Ole;case Ole:if(a.flags&1024){for(;k<16;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}a.length=I,a.head&&(a.head.extra_len=I),a.flags&512&&a.wrap&4&&(M[0]=I&255,M[1]=I>>>8&255,a.check=$h(a.check,M,2,0)),I=0,k=0}else a.head&&(a.head.extra=null);a.mode=kle;case kle:if(a.flags&1024&&(N=a.length,N>S&&(N=S),N&&(a.head&&(fe=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(u.subarray(g,g+N),fe)),a.flags&512&&a.wrap&4&&(a.check=$h(a.check,u,N,g)),S-=N,g+=N,a.length-=N),a.length))break e;a.length=0,a.mode=Ple;case Ple:if(a.flags&2048){if(S===0)break e;N=0;do fe=u[g+N++],a.head&&fe&&a.length<65536&&(a.head.name+=String.fromCharCode(fe));while(fe&&N<S);if(a.flags&512&&a.wrap&4&&(a.check=$h(a.check,u,N,g)),S-=N,g+=N,fe)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=Rle;case Rle:if(a.flags&4096){if(S===0)break e;N=0;do fe=u[g+N++],a.head&&fe&&a.length<65536&&(a.head.comment+=String.fromCharCode(fe));while(fe&&N<S);if(a.flags&512&&a.wrap&4&&(a.check=$h(a.check,u,N,g)),S-=N,g+=N,fe)break e}else a.head&&(a.head.comment=null);a.mode=Nle;case Nle:if(a.flags&512){for(;k<16;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if(a.wrap&4&&I!==(a.check&65535)){l.msg="header crc mismatch",a.mode=ia;break}I=0,k=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),l.adler=a.check=0,a.mode=Qf;break;case Mle:for(;k<32;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}l.adler=a.check=Xle(I),I=0,k=0,a.mode=nR;case nR:if(a.havedict===0)return l.next_out=v,l.avail_out=w,l.next_in=g,l.avail_in=S,a.hold=I,a.bits=k,_st;l.adler=a.check=1,a.mode=Qf;case Qf:if(o===vst||o===xP)break e;case aU:if(a.last){I>>>=k&7,k-=k&7,a.mode=sU;break}for(;k<3;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}switch(a.last=I&1,I>>>=1,k-=1,I&3){case 0:a.mode=Lle;break;case 1:if(xst(a),a.mode=IP,o===xP){I>>>=2,k-=2;break e}break;case 2:a.mode=Fle;break;case 3:l.msg="invalid block type",a.mode=ia}I>>>=2,k-=2;break;case Lle:for(I>>>=k&7,k-=k&7;k<32;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if((I&65535)!==(I>>>16^65535)){l.msg="invalid stored block lengths",a.mode=ia;break}if(a.length=I&65535,I=0,k=0,a.mode=oU,o===xP)break e;case oU:a.mode=Ble;case Ble:if(N=a.length,N){if(N>S&&(N=S),N>w&&(N=w),N===0)break e;f.set(u.subarray(g,g+N),v),S-=N,g+=N,w-=N,v+=N,a.length-=N;break}a.mode=Qf;break;case Fle:for(;k<14;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if(a.nlen=(I&31)+257,I>>>=5,k-=5,a.ndist=(I&31)+1,I>>>=5,k-=5,a.ncode=(I&15)+4,I>>>=4,k-=4,a.nlen>286||a.ndist>30){l.msg="too many length or distance symbols",a.mode=ia;break}a.have=0,a.mode=Ule;case Ule:for(;a.have<a.ncode;){for(;k<3;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}a.lens[Te[a.have++]]=I&7,I>>>=3,k-=3}for(;a.have<19;)a.lens[Te[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,ke={bits:a.lenbits},Fe=pA(gst,a.lens,0,19,a.lencode,0,a.work,ke),a.lenbits=ke.bits,Fe){l.msg="invalid code lengths set",a.mode=ia;break}a.have=0,a.mode=Hle;case Hle:for(;a.have<a.nlen+a.ndist;){for(;j=a.lencode[I&(1<<a.lenbits)-1],se=j>>>24,he=j>>>16&255,oe=j&65535,!(se<=k);){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if(oe<16)I>>>=se,k-=se,a.lens[a.have++]=oe;else{if(oe===16){for(qe=se+2;k<qe;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if(I>>>=se,k-=se,a.have===0){l.msg="invalid bit length repeat",a.mode=ia;break}fe=a.lens[a.have-1],N=3+(I&3),I>>>=2,k-=2}else if(oe===17){for(qe=se+3;k<qe;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}I>>>=se,k-=se,fe=0,N=3+(I&7),I>>>=3,k-=3}else{for(qe=se+7;k<qe;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}I>>>=se,k-=se,fe=0,N=11+(I&127),I>>>=7,k-=7}if(a.have+N>a.nlen+a.ndist){l.msg="invalid bit length repeat",a.mode=ia;break}for(;N--;)a.lens[a.have++]=fe}}if(a.mode===ia)break;if(a.lens[256]===0){l.msg="invalid code -- missing end-of-block",a.mode=ia;break}if(a.lenbits=9,ke={bits:a.lenbits},Fe=pA(pde,a.lens,0,a.nlen,a.lencode,0,a.work,ke),a.lenbits=ke.bits,Fe){l.msg="invalid literal/lengths set",a.mode=ia;break}if(a.distbits=6,a.distcode=a.distdyn,ke={bits:a.distbits},Fe=pA(mde,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,ke),a.distbits=ke.bits,Fe){l.msg="invalid distances set",a.mode=ia;break}if(a.mode=IP,o===xP)break e;case IP:a.mode=DP;case DP:if(S>=6&&w>=258){l.next_out=v,l.avail_out=w,l.next_in=g,l.avail_in=S,a.hold=I,a.bits=k,cst(l,U),v=l.next_out,f=l.output,w=l.avail_out,g=l.next_in,u=l.input,S=l.avail_in,I=a.hold,k=a.bits,a.mode===Qf&&(a.back=-1);break}for(a.back=0;j=a.lencode[I&(1<<a.lenbits)-1],se=j>>>24,he=j>>>16&255,oe=j&65535,!(se<=k);){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if(he&&(he&240)===0){for(ue=se,X=he,de=oe;j=a.lencode[de+((I&(1<<ue+X)-1)>>ue)],se=j>>>24,he=j>>>16&255,oe=j&65535,!(ue+se<=k);){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}I>>>=ue,k-=ue,a.back+=ue}if(I>>>=se,k-=se,a.back+=se,a.length=oe,he===0){a.mode=Vle;break}if(he&32){a.back=-1,a.mode=Qf;break}if(he&64){l.msg="invalid literal/length code",a.mode=ia;break}a.extra=he&15,a.mode=$le;case $le:if(a.extra){for(qe=a.extra;k<qe;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}a.length+=I&(1<<a.extra)-1,I>>>=a.extra,k-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=Gle;case Gle:for(;j=a.distcode[I&(1<<a.distbits)-1],se=j>>>24,he=j>>>16&255,oe=j&65535,!(se<=k);){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if((he&240)===0){for(ue=se,X=he,de=oe;j=a.distcode[de+((I&(1<<ue+X)-1)>>ue)],se=j>>>24,he=j>>>16&255,oe=j&65535,!(ue+se<=k);){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}I>>>=ue,k-=ue,a.back+=ue}if(I>>>=se,k-=se,a.back+=se,he&64){l.msg="invalid distance code",a.mode=ia;break}a.offset=oe,a.extra=he&15,a.mode=zle;case zle:if(a.extra){for(qe=a.extra;k<qe;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}a.offset+=I&(1<<a.extra)-1,I>>>=a.extra,k-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){l.msg="invalid distance too far back",a.mode=ia;break}a.mode=jle;case jle:if(w===0)break e;if(N=U-w,a.offset>N){if(N=a.offset-N,N>a.whave&&a.sane){l.msg="invalid distance too far back",a.mode=ia;break}N>a.wnext?(N-=a.wnext,H=a.wsize-N):H=a.wnext-N,N>a.length&&(N=a.length),q=a.window}else q=f,H=v-a.offset,N=a.length;N>w&&(N=w),w-=N,a.length-=N;do f[v++]=q[H++];while(--N);a.length===0&&(a.mode=DP);break;case Vle:if(w===0)break e;f[v++]=a.length,w--,a.mode=DP;break;case sU:if(a.wrap){for(;k<32;){if(S===0)break e;S--,I|=u[g++]<<k,k+=8}if(U-=w,l.total_out+=U,a.total+=U,a.wrap&4&&U&&(l.adler=a.check=a.flags?$h(a.check,f,U,v-U):qH(a.check,f,U,v-U)),U=w,a.wrap&4&&(a.flags?I:Xle(I))!==a.check){l.msg="incorrect data check",a.mode=ia;break}I=0,k=0}a.mode=Wle;case Wle:if(a.wrap&&a.flags){for(;k<32;){if(S===0)break e;S--,I+=u[g++]<<k,k+=8}if(a.wrap&4&&I!==(a.total&4294967295)){l.msg="incorrect length check",a.mode=ia;break}I=0,k=0}a.mode=Yle;case Yle:Fe=yst;break e;case ia:Fe=gde;break e;case yde:return vde;case _de:default:return Nu}return l.next_out=v,l.avail_out=w,l.next_in=g,l.avail_in=S,a.hold=I,a.bits=k,(a.wsize||U!==l.avail_out&&a.mode<ia&&(a.mode<sU||o!==Ale))&&Cde(l,l.output,l.next_out,U-l.avail_out),F-=l.avail_in,U-=l.avail_out,l.total_in+=F,l.total_out+=U,a.total+=U,a.wrap&4&&U&&(l.adler=a.check=a.flags?$h(a.check,f,U,l.next_out-U):qH(a.check,f,U,l.next_out-U)),l.data_type=a.bits+(a.last?64:0)+(a.mode===Qf?128:0)+(a.mode===IP||a.mode===oU?256:0),(F===0&&U===0||o===Ale)&&Fe===Zv&&(Fe=Est),Fe},Dst=l=>{if(Jv(l))return Nu;let o=l.state;return o.window&&(o.window=null),l.state=null,Zv},Ost=(l,o)=>{if(Jv(l))return Nu;const a=l.state;return(a.wrap&2)===0?Nu:(a.head=o,o.done=!1,Zv)},kst=(l,o)=>{const a=o.length;let u,f,g;return Jv(l)||(u=l.state,u.wrap!==0&&u.mode!==nR)?Nu:u.mode===nR&&(f=1,f=qH(f,o,a,0),f!==u.check)?gde:(g=Cde(l,o,a,a),g?(u.mode=yde,vde):(u.havedict=1,Zv))},Pst=Tde,Rst=bde,Nst=Ede,Mst=wst,Lst=Sde,Bst=Ist,Fst=Dst,Ust=Ost,Hst=kst,$st="pako inflate (from Nodeca project)",rd={inflateReset:Pst,inflateReset2:Rst,inflateResetKeep:Nst,inflateInit:Mst,inflateInit2:Lst,inflate:Bst,inflateEnd:Fst,inflateGetHeader:Ust,inflateSetDictionary:Hst,inflateInfo:$st};function Gst(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zst=Gst,Ade=Object.prototype.toString,{Z_NO_FLUSH:jst,Z_FINISH:Vst,Z_OK:DA,Z_STREAM_END:cU,Z_NEED_DICT:hU,Z_STREAM_ERROR:Wst,Z_DATA_ERROR:Kle,Z_MEM_ERROR:Yst}=hde;function BR(l){this.options=fde.assign({chunkSize:1024*64,windowBits:15,to:""},l||{});const o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(l&&l.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15)===0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lst,this.strm.avail_out=0;let a=rd.inflateInit2(this.strm,o.windowBits);if(a!==DA)throw new Error(KH[a]);if(this.header=new zst,rd.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=ZH.string2buf(o.dictionary):Ade.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(a=rd.inflateSetDictionary(this.strm,o.dictionary),a!==DA)))throw new Error(KH[a])}BR.prototype.push=function(l,o){const a=this.strm,u=this.options.chunkSize,f=this.options.dictionary;let g,v,S;if(this.ended)return!1;for(o===~~o?v=o:v=o===!0?Vst:jst,Ade.call(l)==="[object ArrayBuffer]"?a.input=new Uint8Array(l):a.input=l,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(u),a.next_out=0,a.avail_out=u),g=rd.inflate(a,v),g===hU&&f&&(g=rd.inflateSetDictionary(a,f),g===DA?g=rd.inflate(a,v):g===Kle&&(g=hU));a.avail_in>0&&g===cU&&a.state.wrap>0&&l[a.next_in]!==0;)rd.inflateReset(a),g=rd.inflate(a,v);switch(g){case Wst:case Kle:case hU:case Yst:return this.onEnd(g),this.ended=!0,!1}if(S=a.avail_out,a.next_out&&(a.avail_out===0||g===cU))if(this.options.to==="string"){let w=ZH.utf8border(a.output,a.next_out),I=a.next_out-w,k=ZH.buf2string(a.output,w);a.next_out=I,a.avail_out=u-I,I&&a.output.set(a.output.subarray(w,w+I),0),this.onData(k)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(g===DA&&S===0)){if(g===cU)return g=rd.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};BR.prototype.onData=function(l){this.chunks.push(l)};BR.prototype.onEnd=function(l){l===DA&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fde.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg};function Xst(l,o){const a=new BR(o);if(a.push(l),a.err)throw a.msg||KH[a.err];return a.result}function qst(l,o){return o=o||{},o.raw=!0,Xst(l,o)}var Kst=qst,Zst={inflateRaw:Kst},{inflateRaw:Qst}=Zst,Jst=Qst;function elt(l){return Jst(l.subarray(2))}nr();ir();var tlt=class extends Error{constructor(l){super(l),this.code="ERR_ABORTED"}};function rlt(l){l.sort((f,g)=>Number(f.offset)-Number(g.offset));const o=[];let a,u;for(let f=0;f<l.length;f+=1)a&&u&&Number(l[f].offset)-u<=2e3?(a.length=BigInt(Number(a.length)+Number(l[f].length)-u+Number(l[f].offset)),a.blocks.push(l[f])):o.push(a={blocks:[l[f]],length:l[f].length,offset:l[f].offset}),u=Number(a.offset)+Number(a.length);return o}function OP(l){if(l&&l.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const o=new tlt("aborted");throw o.code="ERR_ABORTED",o}}}var nlt=1,ilt=2,alt=3;function fU(l,o,a,u){return l<u&&o>=a}function olt(l){const o=l?"big":"little",a=new ui().endianess(o).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),u=new ui().endianess(o).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new ui().endianess(o).array("blocksToFetch",{length:"cnt",type:new ui().endianess(o).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new ui().array("recurOffsets",{length:"cnt",type:new ui().endianess(o).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),f=new ui().endianess(o).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new ui().endianess(o).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[alt]:new ui().array("items",{length:"itemCount",type:new ui().floatle("score")}),[ilt]:new ui().array("items",{length:"itemCount",type:new ui().endianess(o).int32("start").floatle("score")}),[nlt]:new ui().array("items",{length:"itemCount",type:new ui().endianess(o).int32("start").int32("end").floatle("score")})}}),bigBedParser:f,summaryParser:a,leafParser:u}}var wde=class{constructor(l,o,a,u,f,g){if(this.bbi=l,this.refsByName=o,this.cirTreeOffset=a,this.isBigEndian=u,this.isCompressed=f,this.blockType=g,this.featureCache=new Bot.default({cache:new Fot.default({maxSize:1e3}),fill:async(S,w)=>{const I=Number(S.length),k=Number(S.offset),{buffer:F}=await this.bbi.read(Qt.alloc(I),0,I,k,{signal:w});return F}}),!(a>=0))throw new Error("invalid cirTreeOffset!");const v=olt(u);this.leafParser=v.leafParser,this.bigBedParser=v.bigBedParser}async readWigData(l,o,a,u,f){try{const{refsByName:g,bbi:v,cirTreeOffset:S,isBigEndian:w}=this,I=g[l];I===void 0&&u.complete();const k={chrId:I,start:o,end:a};this.cirTreePromise||(this.cirTreePromise=v.read(Qt.alloc(48),0,48,Number(S),f));const{buffer:F}=await this.cirTreePromise,U=w?F.readUInt32BE(4):F.readUInt32LE(4);let N=[],H=0;const q=(oe,ue,X)=>{try{const de=oe.subarray(ue),fe=this.leafParser.parse(de);if(fe.blocksToFetch&&(N=N.concat(fe.blocksToFetch.filter(j).map(Fe=>({offset:Fe.blockOffset,length:Fe.blockSize})))),fe.recurOffsets){const Fe=fe.recurOffsets.filter(j).map(M=>Number(M.blockOffset));Fe.length>0&&he(Fe,X+1)}}catch(de){u.error(de)}},j=oe=>{const{startChrom:ue,startBase:X,endChrom:de,endBase:fe}=oe;return(ue<I||ue===I&&X<=a)&&(de>I||de===I&&fe>=o)},se=async(oe,ue,X)=>{try{const de=ue.max()-ue.min(),fe=ue.min(),Fe=await this.featureCache.get(`${de}_${fe}`,{length:de,offset:fe},f.signal);for(let M=0;M<oe.length;M+=1)ue.contains(oe[M])&&(q(Fe,oe[M]-fe,X),H-=1,H===0&&this.readFeatures(u,N,{...f,request:k}))}catch(de){u.error(de)}},he=(oe,ue)=>{try{H+=oe.length;const X=4+Number(U)*32;let de=new Pv(oe[0],oe[0]+X);for(let fe=1;fe<oe.length;fe+=1){const Fe=new Pv(oe[fe],oe[fe]+X);de=de.union(Fe)}de.getRanges().map(fe=>se(oe,fe,ue))}catch(X){u.error(X)}};return he([Number(S)+48],1)}catch(g){u.error(g)}}parseSummaryBlock(l,o,a){const u=[];let f=o;const g=new DataView(l.buffer,l.byteOffset,l.length);for(;f<l.byteLength;){const v=g.getUint32(f,!0);f+=4;const S=g.getUint32(f,!0);f+=4;const w=g.getUint32(f,!0);f+=4;const I=g.getUint32(f,!0);f+=4;const k=g.getFloat32(f,!0);f+=4;const F=g.getFloat32(f,!0);f+=4;const U=g.getFloat32(f,!0);f+=4,f+=4,(!a||v===a.chrId&&fU(S,w,a.start,a.end))&&u.push({start:S,end:w,maxScore:F,minScore:k,summary:!0,score:U/(I||1)})}return u}parseBigBedBlock(l,o,a,u){const f=[];let g=o;for(;g<l.byteLength;){const v=this.bigBedParser.parse(l.subarray(g));f.push({...v,uniqueId:`bb-${a+g}`}),g+=v.offset}return u?f.filter(v=>fU(v.start,v.end,u.start,u.end)):f}parseBigWigBlock(l,o,a){const u=l.subarray(o),f=new DataView(u.buffer,u.byteOffset,u.length);let g=0;g+=4;const v=f.getInt32(g,!0);g+=8;const S=f.getUint32(g,!0);g+=4;const w=f.getUint32(g,!0);g+=4;const I=f.getUint8(g);g+=2;const k=f.getUint16(g,!0);g+=2;const F=new Array(k);switch(I){case 1:for(let U=0;U<k;U++){const N=f.getInt32(g,!0);g+=4;const H=f.getInt32(g,!0);g+=4;const q=f.getFloat32(g,!0);g+=4,F[U]={start:N,end:H,score:q}}break;case 2:for(let U=0;U<k;U++){const N=f.getInt32(g,!0);g+=4;const H=f.getFloat32(g,!0);g+=4,F[U]={score:H,start:N,end:N+w}}break;case 3:for(let U=0;U<k;U++){const N=f.getFloat32(g,!0);g+=4;const H=v+U*S;F[U]={score:N,start:H,end:H+w}}break}return a?F.filter(U=>fU(U.start,U.end,a.start,a.end)):F}async readFeatures(l,o,a={}){try{const{blockType:u,isCompressed:f}=this,{signal:g,request:v}=a,S=rlt(o);OP(g),await Promise.all(S.map(async w=>{OP(g);const{length:I,offset:k}=w,F=await this.featureCache.get(`${I}_${k}`,w,g);w.blocks.forEach(U=>{OP(g);let N=Number(U.offset)-Number(w.offset),H=F;switch(f&&(H=elt(F.subarray(N)),N=0),OP(g),u){case"summary":l.next(this.parseSummaryBlock(H,N,v));break;case"bigwig":l.next(this.parseBigWigBlock(H,N,v));break;case"bigbed":l.next(this.parseBigBedBlock(H,N,Number(U.offset)*256,v));break;default:console.warn(`Don't know what to do with ${u}`)}})})),l.complete()}catch(u){l.error(u)}}};nr();ir();nr();ir();var slt=Qv(Qat());nr();ir();var dU=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0},xde=class{async getBufferFromResponse(l){if(typeof l.buffer=="function")return l.buffer();if(typeof l.arrayBuffer=="function"){const o=await l.arrayBuffer();return Qt.from(o)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(l,o={}){this.baseOverrides={},this.url=l;const a=o.fetch||dU.fetch&&dU.fetch.bind(dU);if(!a)throw new TypeError("no fetch function supplied, and none found in global environment");o.overrides&&(this.baseOverrides=o.overrides),this.fetchImplementation=a}async fetch(l,o){let a;try{a=await this.fetchImplementation(l,o)}catch(u){if(`${u}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${l} to attempt to work around chrome CORS header caching bug`),a=await this.fetchImplementation(l,{...o,cache:"reload"});else throw u}return a}async read(l,o=0,a,u=0,f={}){const{headers:g={},signal:v,overrides:S={}}=f;a<1/0?g.range=`bytes=${u}-${u+a}`:a===1/0&&u!==0&&(g.range=`bytes=${u}-`);const w={...this.baseOverrides,...S,headers:{...g,...S.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:v},I=await this.fetch(this.url,w);if(!I.ok)throw new Error(`HTTP ${I.status} ${I.statusText} ${this.url}`);if(I.status===200&&u===0||I.status===206){const k=await this.getBufferFromResponse(I),F=k.copy(l,o,0,Math.min(a,k.length)),U=I.headers.get("content-range"),N=/\/(\d+)$/.exec(U||"");return N&&N[1]&&(this._stat={size:parseInt(N[1],10)}),{bytesRead:F,buffer:l}}throw I.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${I.status} fetching ${this.url}`)}async readFile(l={}){let o,a;typeof l=="string"?(o=l,a={}):(o=l.encoding,a=l,delete a.encoding);const{headers:u={},signal:f,overrides:g={}}=a,v={headers:u,method:"GET",redirect:"follow",mode:"cors",signal:f,...this.baseOverrides,...g},S=await this.fetch(this.url,v);if(!S)throw new Error("generic-filehandle failed to fetch");if(S.status!==200)throw Object.assign(new Error(`HTTP ${S.status} fetching ${this.url}`),{status:S.status});if(o==="utf8")return S.text();if(o)throw new Error(`unsupported encoding: ${o}`);return this.getBufferFromResponse(S)}async stat(){if(!this._stat){const l=Qt.allocUnsafe(10);if(await this.read(l,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}};nr();ir();nr();ir();nr();ir();nr();ir();nr();ir();nr();ir();var llt=Qv(Jat(),1),{__extends:b9,__assign:Qct,__rest:Jct,__decorate:eht,__param:tht,__esDecorate:rht,__runInitializers:nht,__propKey:iht,__setFunctionName:aht,__metadata:oht,__awaiter:sht,__generator:lht,__exportStar:uht,__createBinding:cht,__values:Zle,__read:QH,__spread:hht,__spreadArrays:fht,__spreadArray:JH,__await:dht,__asyncGenerator:pht,__asyncDelegator:mht,__asyncValues:ght,__makeTemplateObject:vht,__importStar:yht,__importDefault:_ht,__classPrivateFieldGet:Eht,__classPrivateFieldSet:Tht,__classPrivateFieldIn:bht}=llt.default;nr();ir();function Yh(l){return typeof l=="function"}nr();ir();nr();ir();nr();ir();function Ide(l){var o=function(u){Error.call(u),u.stack=new Error().stack},a=l(o);return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}var pU=Ide(function(l){return function(a){l(this),this.message=a?a.length+` errors occurred during unsubscription:
`+a.map(function(u,f){return f+1+") "+u.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=a}});nr();ir();function Qle(l,o){if(l){var a=l.indexOf(o);0<=a&&l.splice(a,1)}}var S9=(function(){function l(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}return l.prototype.unsubscribe=function(){var o,a,u,f,g;if(!this.closed){this.closed=!0;var v=this._parentage;if(v)if(this._parentage=null,Array.isArray(v))try{for(var S=Zle(v),w=S.next();!w.done;w=S.next()){var I=w.value;I.remove(this)}}catch(q){o={error:q}}finally{try{w&&!w.done&&(a=S.return)&&a.call(S)}finally{if(o)throw o.error}}else v.remove(this);var k=this.initialTeardown;if(Yh(k))try{k()}catch(q){g=q instanceof pU?q.errors:[q]}var F=this._finalizers;if(F){this._finalizers=null;try{for(var U=Zle(F),N=U.next();!N.done;N=U.next()){var H=N.value;try{Jle(H)}catch(q){g=g??[],q instanceof pU?g=JH(JH([],QH(g)),QH(q.errors)):g.push(q)}}}catch(q){u={error:q}}finally{try{N&&!N.done&&(f=U.return)&&f.call(U)}finally{if(u)throw u.error}}}if(g)throw new pU(g)}},l.prototype.add=function(o){var a;if(o&&o!==this)if(this.closed)Jle(o);else{if(o instanceof l){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._finalizers=(a=this._finalizers)!==null&&a!==void 0?a:[]).push(o)}},l.prototype._hasParent=function(o){var a=this._parentage;return a===o||Array.isArray(a)&&a.includes(o)},l.prototype._addParent=function(o){var a=this._parentage;this._parentage=Array.isArray(a)?(a.push(o),a):a?[a,o]:o},l.prototype._removeParent=function(o){var a=this._parentage;a===o?this._parentage=null:Array.isArray(a)&&Qle(a,o)},l.prototype.remove=function(o){var a=this._finalizers;a&&Qle(a,o),o instanceof l&&o._removeParent(this)},l.EMPTY=(function(){var o=new l;return o.closed=!0,o})(),l})();S9.EMPTY;function Dde(l){return l instanceof S9||l&&"closed"in l&&Yh(l.remove)&&Yh(l.add)&&Yh(l.unsubscribe)}function Jle(l){Yh(l)?l():l.unsubscribe()}nr();ir();var ult={Promise:void 0};nr();ir();nr();ir();var clt={setTimeout:function(l,o){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];return setTimeout.apply(void 0,JH([l,o],QH(a)))},clearTimeout:function(l){return clearTimeout(l)},delegate:void 0};function hlt(l){clt.setTimeout(function(){throw l})}nr();ir();function eue(){}nr();ir();nr();ir();function flt(l){l()}var C9=(function(l){b9(o,l);function o(a){var u=l.call(this)||this;return u.isStopped=!1,a?(u.destination=a,Dde(a)&&a.add(u)):u.destination=mlt,u}return o.create=function(a,u,f){return new iR(a,u,f)},o.prototype.next=function(a){this.isStopped||this._next(a)},o.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))},o.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},o.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,l.prototype.unsubscribe.call(this),this.destination=null)},o.prototype._next=function(a){this.destination.next(a)},o.prototype._error=function(a){try{this.destination.error(a)}finally{this.unsubscribe()}},o.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},o})(S9),dlt=(function(){function l(o){this.partialObserver=o}return l.prototype.next=function(o){var a=this.partialObserver;if(a.next)try{a.next(o)}catch(u){kP(u)}},l.prototype.error=function(o){var a=this.partialObserver;if(a.error)try{a.error(o)}catch(u){kP(u)}else kP(o)},l.prototype.complete=function(){var o=this.partialObserver;if(o.complete)try{o.complete()}catch(a){kP(a)}},l})(),iR=(function(l){b9(o,l);function o(a,u,f){var g=l.call(this)||this,v;return Yh(a)||!a?v={next:a??void 0,error:u??void 0,complete:f??void 0}:v=a,g.destination=new dlt(v),g}return o})(C9);function kP(l){hlt(l)}function plt(l){throw l}var mlt={closed:!0,next:eue,error:plt,complete:eue};nr();ir();var glt=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();nr();ir();nr();ir();function vlt(l){return l}function ylt(l){return l.length===0?vlt:l.length===1?l[0]:function(a){return l.reduce(function(u,f){return f(u)},a)}}var _lt=(function(){function l(o){o&&(this._subscribe=o)}return l.prototype.lift=function(o){var a=new l;return a.source=this,a.operator=o,a},l.prototype.subscribe=function(o,a,u){var f=this,g=Tlt(o)?o:new iR(o,a,u);return flt(function(){var v=f,S=v.operator,w=v.source;g.add(S?S.call(g,w):w?f._subscribe(g):f._trySubscribe(g))}),g},l.prototype._trySubscribe=function(o){try{return this._subscribe(o)}catch(a){o.error(a)}},l.prototype.forEach=function(o,a){var u=this;return a=tue(a),new a(function(f,g){var v=new iR({next:function(S){try{o(S)}catch(w){g(w),v.unsubscribe()}},error:g,complete:f});u.subscribe(v)})},l.prototype._subscribe=function(o){var a;return(a=this.source)===null||a===void 0?void 0:a.subscribe(o)},l.prototype[glt]=function(){return this},l.prototype.pipe=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return ylt(o)(this)},l.prototype.toPromise=function(o){var a=this;return o=tue(o),new o(function(u,f){var g;a.subscribe(function(v){return g=v},function(v){return f(v)},function(){return u(g)})})},l.create=function(o){return new l(o)},l})();function tue(l){var o;return(o=l??ult.Promise)!==null&&o!==void 0?o:Promise}function Elt(l){return l&&Yh(l.next)&&Yh(l.error)&&Yh(l.complete)}function Tlt(l){return l&&l instanceof C9||Elt(l)&&Dde(l)}nr();ir();function blt(l){return Yh(l?.lift)}function Ode(l){return function(o){if(blt(o))return o.lift(function(a){try{return l(a,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}nr();ir();function Slt(l,o,a,u,f){return new Clt(l,o,a,u,f)}var Clt=(function(l){b9(o,l);function o(a,u,f,g,v,S){var w=l.call(this,a)||this;return w.onFinalize=v,w.shouldUnsubscribe=S,w._next=u?function(I){try{u(I)}catch(k){a.error(k)}}:l.prototype._next,w._error=g?function(I){try{g(I)}catch(k){a.error(k)}finally{this.unsubscribe()}}:l.prototype._error,w._complete=f?function(){try{f()}catch(I){a.error(I)}finally{this.unsubscribe()}}:l.prototype._complete,w}return o.prototype.unsubscribe=function(){var a;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var u=this.closed;l.prototype.unsubscribe.call(this),!u&&((a=this.onFinalize)===null||a===void 0||a.call(this))}},o})(C9);nr();ir();var Alt=Ide(function(l){return function(){l(this),this.name="EmptyError",this.message="no elements in sequence"}});nr();ir();function wlt(l,o){return new Promise(function(a,u){var f=new iR({next:function(g){a(g),f.unsubscribe()},error:u,complete:function(){u(new Alt)}});l.subscribe(f)})}nr();ir();nr();ir();nr();ir();function xlt(l,o,a,u,f){return function(g,v){var S=a,w=o,I=0;g.subscribe(Slt(v,function(k){var F=I++;w=S?l(w,k,F):(S=!0,k)},function(){S&&v.next(w),v.complete()}))}}function Ilt(l,o){return Ode(xlt(l,o,arguments.length>=2,!1,!0))}var Dlt=function(l,o){return l.push(o),l};function Olt(){return Ode(function(l,o){Ilt(Dlt,[])(l).subscribe(o)})}nr();ir();var rue=-2003829722,mU=-2021002517;function klt(l){return new TextDecoder().decode(l)}function nue(l){const o=l?"big":"little",a=new ui().endianess(o).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new ui().endianess(o).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),u=new ui().endianess(o).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),f=new ui().endianess(o).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),g=new ui().endianess(o).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:f,totalSummaryParser:u,headerParser:a,isLeafNode:g}}var Plt=class{getHeader(l={}){const o="aborted"in l?{signal:l}:l;return this.headerP||(this.headerP=this._getHeader(o).catch(a=>{throw this.headerP=void 0,a})),this.headerP}constructor(l={}){const{filehandle:o,renameRefSeqs:a=g=>g,path:u,url:f}=l;if(this.renameRefSeqs=a,o)this.bbi=o;else if(f)this.bbi=new xde(f);else if(u)this.bbi=new slt.default(u);else throw new Error("no file given")}async _getHeader(l){const o=await this._getMainHeader(l),a=await this._readChromTree(o,l);return{...o,...a}}async _getMainHeader(l,o=2e3){const{buffer:a}=await this.bbi.read(Qt.alloc(o),0,o,0,l),u=this._isBigEndian(a),f=nue(u),g=f.headerParser.parse(a),{magic:v,asOffset:S,totalSummaryOffset:w}=g;if(g.fileType=v===mU?"bigbed":"bigwig",S>o||w>o)return this._getMainHeader(l,o*2);if(S){const I=Number(g.asOffset);g.autoSql=klt(a.subarray(I,a.indexOf(0,I)))}if(g.totalSummaryOffset>o)return this._getMainHeader(l,o*2);if(g.totalSummaryOffset){const I=a.subarray(Number(g.totalSummaryOffset)),k=f.totalSummaryParser.parse(I);g.totalSummary={...k,basesCovered:Number(k.basesCovered)}}return{...g,isBigEndian:u}}_isBigEndian(l){let o=l.readInt32LE(0);if(o===rue||o===mU)return!1;if(o=l.readInt32BE(0),o===rue||o===mU)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(l,o){const a=l.isBigEndian,u=a?"big":"little",f=[],g={};let v=Number(l.unzoomedDataOffset);const S=Number(l.chromTreeOffset);for(;v%4!==0;)v+=1;const w=v-S,{buffer:I}=await this.bbi.read(Qt.alloc(w),0,w,Number(S),o),k=nue(a),{keySize:F}=k.chromTreeParser.parse(I),U=new ui().endianess(u).string("key",{stripNull:!0,length:F}).uint32("refId").uint32("refSize").saveOffset("offset"),N=new ui().endianess(u).skip(F).uint64("childOffset").saveOffset("offset"),H=32,q=async j=>{let se=j;if(se>=I.length)throw new Error("reading beyond end of buffer");const he=k.isLeafNode.parse(I.subarray(se)),{isLeafNode:oe,cnt:ue}=he;if(se+=he.offset,oe)for(let X=0;X<ue;X+=1){const de=U.parse(I.subarray(se));se+=de.offset;const{key:fe,refId:Fe,refSize:M}=de,ke={name:fe,id:Fe,length:M};g[this.renameRefSeqs(fe)]=Fe,f[Fe]=ke}else{const X=[];for(let de=0;de<ue;de+=1){const fe=N.parse(I.subarray(se)),{childOffset:Fe}=fe;se+=fe.offset,X.push(q(Number(Fe)-Number(S)))}await Promise.all(X)}};return await q(H),{refsByName:g,refsByNumber:f}}async getUnzoomedView(l){const{unzoomedIndexOffset:o,refsByName:a,uncompressBufSize:u,isBigEndian:f,fileType:g}=await this.getHeader(l);return new wde(this.bbi,a,o,f,u>0,g)}async getFeatureStream(l,o,a,u={scale:1}){await this.getHeader(u);const f=this.renameRefSeqs(l);let g;if(u.basesPerSpan?g=await this.getView(1/u.basesPerSpan,u):u.scale?g=await this.getView(u.scale,u):g=await this.getView(1,u),!g)throw new Error("unable to get block view for data");return new _lt(v=>{g.readWigData(f,o,a,v,u)})}async getFeatures(l,o,a,u={scale:1}){const f=await this.getFeatureStream(l,o,a,u);return(await wlt(f.pipe(Olt()))).flat()}},Rlt=class extends Plt{async getView(l,o){const{zoomLevels:a,refsByName:u,fileSize:f,isBigEndian:g,uncompressBufSize:v}=await this.getHeader(o),S=1/l;let w=a.length;f||(w-=1);for(let I=w;I>=0;I-=1){const k=a[I];if(k&&k.reductionLevel<=2*S){const F=Number(k.indexOffset);return new wde(this.bbi,u,F,g,v>0,"summary")}}return this.getUnzoomedView(o)}};nr();ir();Qv(Yfe());Qv(Xfe());nr();ir();nr();ir();var iue={},gU={},vU=34,qC=10,yU=13;function kde(l){return new Function("d","return {"+l.map(function(o,a){return JSON.stringify(o)+": d["+a+'] || ""'}).join(",")+"}")}function Nlt(l,o){var a=kde(l);return function(u,f){return o(a(u),f,l)}}function aue(l){var o=Object.create(null),a=[];return l.forEach(function(u){for(var f in u)f in o||a.push(o[f]=f)}),a}function ul(l,o){var a=l+"",u=a.length;return u<o?new Array(o-u+1).join(0)+a:a}function Mlt(l){return l<0?"-"+ul(-l,6):l>9999?"+"+ul(l,6):ul(l,4)}function Llt(l){var o=l.getUTCHours(),a=l.getUTCMinutes(),u=l.getUTCSeconds(),f=l.getUTCMilliseconds();return isNaN(l)?"Invalid Date":Mlt(l.getUTCFullYear())+"-"+ul(l.getUTCMonth()+1,2)+"-"+ul(l.getUTCDate(),2)+(f?"T"+ul(o,2)+":"+ul(a,2)+":"+ul(u,2)+"."+ul(f,3)+"Z":u?"T"+ul(o,2)+":"+ul(a,2)+":"+ul(u,2)+"Z":a||o?"T"+ul(o,2)+":"+ul(a,2)+"Z":"")}function Blt(l){var o=new RegExp('["'+l+`
\r]`),a=l.charCodeAt(0);function u(F,U){var N,H,q=f(F,function(j,se){if(N)return N(j,se-1);H=j,N=U?Nlt(j,U):kde(j)});return q.columns=H||[],q}function f(F,U){var N=[],H=F.length,q=0,j=0,se,he=H<=0,oe=!1;F.charCodeAt(H-1)===qC&&--H,F.charCodeAt(H-1)===yU&&--H;function ue(){if(he)return gU;if(oe)return oe=!1,iue;var de,fe=q,Fe;if(F.charCodeAt(fe)===vU){for(;q++<H&&F.charCodeAt(q)!==vU||F.charCodeAt(++q)===vU;);return(de=q)>=H?he=!0:(Fe=F.charCodeAt(q++))===qC?oe=!0:Fe===yU&&(oe=!0,F.charCodeAt(q)===qC&&++q),F.slice(fe+1,de-1).replace(/""/g,'"')}for(;q<H;){if((Fe=F.charCodeAt(de=q++))===qC)oe=!0;else if(Fe===yU)oe=!0,F.charCodeAt(q)===qC&&++q;else if(Fe!==a)continue;return F.slice(fe,de)}return he=!0,F.slice(fe,H)}for(;(se=ue())!==gU;){for(var X=[];se!==iue&&se!==gU;)X.push(se),se=ue();U&&(X=U(X,j++))==null||N.push(X)}return N}function g(F,U){return F.map(function(N){return U.map(function(H){return k(N[H])}).join(l)})}function v(F,U){return U==null&&(U=aue(F)),[U.map(k).join(l)].concat(g(F,U)).join(`
`)}function S(F,U){return U==null&&(U=aue(F)),g(F,U).join(`
`)}function w(F){return F.map(I).join(`
`)}function I(F){return F.map(k).join(l)}function k(F){return F==null?"":F instanceof Date?Llt(F):o.test(F+="")?'"'+F.replace(/"/g,'""')+'"':F}return{parse:u,parseRows:f,format:v,formatBody:S,formatRows:w,formatRow:I,formatValue:k}}nr();ir();var Flt=Blt("	"),Ult=Flt.parseRows;nr();ir();nr();ir();nr();ir();nr();ir();nr();ir();var Iu="$";function aR(){}aR.prototype=Pde.prototype={constructor:aR,has:function(l){return Iu+l in this},get:function(l){return this[Iu+l]},set:function(l,o){return this[Iu+l]=o,this},remove:function(l){var o=Iu+l;return o in this&&delete this[o]},clear:function(){for(var l in this)l[0]===Iu&&delete this[l]},keys:function(){var l=[];for(var o in this)o[0]===Iu&&l.push(o.slice(1));return l},values:function(){var l=[];for(var o in this)o[0]===Iu&&l.push(this[o]);return l},entries:function(){var l=[];for(var o in this)o[0]===Iu&&l.push({key:o.slice(1),value:this[o]});return l},size:function(){var l=0;for(var o in this)o[0]===Iu&&++l;return l},empty:function(){for(var l in this)if(l[0]===Iu)return!1;return!0},each:function(l){for(var o in this)o[0]===Iu&&l(this[o],o.slice(1),this)}};function Pde(l,o){var a=new aR;if(l instanceof aR)l.each(function(S,w){a.set(w,S)});else if(Array.isArray(l)){var u=-1,f=l.length,g;if(o==null)for(;++u<f;)a.set(u,l[u]);else for(;++u<f;)a.set(o(g=l[u],u,l),g)}else if(l)for(var v in l)a.set(v,l[v]);return a}var Rde=Pde;nr();ir();function oue(){}var bv=Rde.prototype;oue.prototype={constructor:oue,has:bv.has,add:function(l){return l+="",this[Iu+l]=l,this},remove:bv.remove,clear:bv.clear,values:bv.keys,size:bv.size,empty:bv.empty,each:bv.each};nr();ir();nr();ir();nr();ir();nr();ir();nr();ir();var Hlt={value:function(){}};function Nde(){for(var l=0,o=arguments.length,a={},u;l<o;++l){if(!(u=arguments[l]+"")||u in a||/[\s.]/.test(u))throw new Error("illegal type: "+u);a[u]=[]}return new HP(a)}function HP(l){this._=l}function $lt(l,o){return l.trim().split(/^|\s+/).map(function(a){var u="",f=a.indexOf(".");if(f>=0&&(u=a.slice(f+1),a=a.slice(0,f)),a&&!o.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:u}})}HP.prototype=Nde.prototype={constructor:HP,on:function(l,o){var a=this._,u=$lt(l+"",a),f,g=-1,v=u.length;if(arguments.length<2){for(;++g<v;)if((f=(l=u[g]).type)&&(f=Glt(a[f],l.name)))return f;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++g<v;)if(f=(l=u[g]).type)a[f]=sue(a[f],l.name,o);else if(o==null)for(f in a)a[f]=sue(a[f],l.name,null);return this},copy:function(){var l={},o=this._;for(var a in o)l[a]=o[a].slice();return new HP(l)},call:function(l,o){if((f=arguments.length-2)>0)for(var a=new Array(f),u=0,f,g;u<f;++u)a[u]=arguments[u+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(g=this._[l],u=0,f=g.length;u<f;++u)g[u].value.apply(o,a)},apply:function(l,o,a){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var u=this._[l],f=0,g=u.length;f<g;++f)u[f].value.apply(o,a)}};function Glt(l,o){for(var a=0,u=l.length,f;a<u;++a)if((f=l[a]).name===o)return f.value}function sue(l,o,a){for(var u=0,f=l.length;u<f;++u)if(l[u].name===o){l[u]=Hlt,l=l.slice(0,u).concat(l.slice(u+1));break}return a!=null&&l.push({name:o,value:a}),l}var zlt=Nde;function jlt(l,o){var a,u=zlt("beforesend","progress","load","error"),f,g=Rde(),v=new XMLHttpRequest,S=null,w=null,I,k,F=0;typeof XDomainRequest<"u"&&!("withCredentials"in v)&&/^(http(s)?:)?\/\//.test(l)&&(v=new XDomainRequest),"onload"in v?v.onload=v.onerror=v.ontimeout=U:v.onreadystatechange=function(N){v.readyState>3&&U(N)};function U(N){var H=v.status,q;if(!H&&Wlt(v)||H>=200&&H<300||H===304){if(I)try{q=I.call(a,v)}catch(j){u.call("error",a,j);return}else q=v;u.call("load",a,q)}else u.call("error",a,N)}return v.onprogress=function(N){u.call("progress",a,N)},a={header:function(N,H){return N=(N+"").toLowerCase(),arguments.length<2?g.get(N):(H==null?g.remove(N):g.set(N,H+""),a)},mimeType:function(N){return arguments.length?(f=N==null?null:N+"",a):f},responseType:function(N){return arguments.length?(k=N,a):k},timeout:function(N){return arguments.length?(F=+N,a):F},user:function(N){return arguments.length<1?S:(S=N==null?null:N+"",a)},password:function(N){return arguments.length<1?w:(w=N==null?null:N+"",a)},response:function(N){return I=N,a},get:function(N,H){return a.send("GET",N,H)},post:function(N,H){return a.send("POST",N,H)},send:function(N,H,q){return v.open(N,l,!0,S,w),f!=null&&!g.has("accept")&&g.set("accept",f+",*/*"),v.setRequestHeader&&g.each(function(j,se){v.setRequestHeader(se,j)}),f!=null&&v.overrideMimeType&&v.overrideMimeType(f),k!=null&&(v.responseType=k),F>0&&(v.timeout=F),q==null&&typeof H=="function"&&(q=H,H=null),q!=null&&q.length===1&&(q=Vlt(q)),q!=null&&a.on("error",q).on("load",function(j){q(null,j)}),u.call("beforesend",a,v),v.send(H??null),a},abort:function(){return v.abort(),a},on:function(){var N=u.on.apply(u,arguments);return N===u?a:N}},a}function Vlt(l){return function(o,a){l(o==null?a:null)}}function Wlt(l){var o=l.responseType;return o&&o!=="text"?l.response:l.responseText}nr();ir();nr();ir();function Ylt(l,o){return function(a,u){var f=jlt(a).mimeType(l).response(o);if(u!=null){if(typeof u!="function")throw new Error("invalid callback: "+u);return f.get(u)}return f}}nr();ir();nr();ir();var Xlt=Ylt("text/plain",function(l){return l.responseText});nr();ir();nr();ir();nr();ir();nr();ir();var lue={},_U={},EU=34,KC=10,TU=13;function Mde(l){return new Function("d","return {"+l.map(function(o,a){return JSON.stringify(o)+": d["+a+'] || ""'}).join(",")+"}")}function qlt(l,o){var a=Mde(l);return function(u,f){return o(a(u),f,l)}}function uue(l){var o=Object.create(null),a=[];return l.forEach(function(u){for(var f in u)f in o||a.push(o[f]=f)}),a}function cl(l,o){var a=l+"",u=a.length;return u<o?new Array(o-u+1).join(0)+a:a}function Klt(l){return l<0?"-"+cl(-l,6):l>9999?"+"+cl(l,6):cl(l,4)}function Zlt(l){var o=l.getUTCHours(),a=l.getUTCMinutes(),u=l.getUTCSeconds(),f=l.getUTCMilliseconds();return isNaN(l)?"Invalid Date":Klt(l.getUTCFullYear())+"-"+cl(l.getUTCMonth()+1,2)+"-"+cl(l.getUTCDate(),2)+(f?"T"+cl(o,2)+":"+cl(a,2)+":"+cl(u,2)+"."+cl(f,3)+"Z":u?"T"+cl(o,2)+":"+cl(a,2)+":"+cl(u,2)+"Z":a||o?"T"+cl(o,2)+":"+cl(a,2)+"Z":"")}function Lde(l){var o=new RegExp('["'+l+`
\r]`),a=l.charCodeAt(0);function u(F,U){var N,H,q=f(F,function(j,se){if(N)return N(j,se-1);H=j,N=U?qlt(j,U):Mde(j)});return q.columns=H||[],q}function f(F,U){var N=[],H=F.length,q=0,j=0,se,he=H<=0,oe=!1;F.charCodeAt(H-1)===KC&&--H,F.charCodeAt(H-1)===TU&&--H;function ue(){if(he)return _U;if(oe)return oe=!1,lue;var de,fe=q,Fe;if(F.charCodeAt(fe)===EU){for(;q++<H&&F.charCodeAt(q)!==EU||F.charCodeAt(++q)===EU;);return(de=q)>=H?he=!0:(Fe=F.charCodeAt(q++))===KC?oe=!0:Fe===TU&&(oe=!0,F.charCodeAt(q)===KC&&++q),F.slice(fe+1,de-1).replace(/""/g,'"')}for(;q<H;){if((Fe=F.charCodeAt(de=q++))===KC)oe=!0;else if(Fe===TU)oe=!0,F.charCodeAt(q)===KC&&++q;else if(Fe!==a)continue;return F.slice(fe,de)}return he=!0,F.slice(fe,H)}for(;(se=ue())!==_U;){for(var X=[];se!==lue&&se!==_U;)X.push(se),se=ue();U&&(X=U(X,j++))==null||N.push(X)}return N}function g(F,U){return F.map(function(N){return U.map(function(H){return k(N[H])}).join(l)})}function v(F,U){return U==null&&(U=uue(F)),[U.map(k).join(l)].concat(g(F,U)).join(`
`)}function S(F,U){return U==null&&(U=uue(F)),g(F,U).join(`
`)}function w(F){return F.map(I).join(`
`)}function I(F){return F.map(k).join(l)}function k(F){return F==null?"":F instanceof Date?Zlt(F):o.test(F+="")?'"'+F.replace(/"/g,'""')+'"':F}return{parse:u,parseRows:f,format:v,formatBody:S,formatRows:w,formatRow:I,formatValue:k}}nr();ir();Lde(",");nr();ir();Lde("	");nr();ir();nr();ir();var Bde=(l,o,a)=>a.chrPositions[l].pos+o;function Qlt(l){const o=[],a={},u={};let f=0;for(let g=0;g<l.length;g++){const v=Number(l[g][1]);f+=v;const S={id:g,chr:l[g][0],pos:f-v};o.push(S),u[S.chr]=S,a[l[g][0]]=v}return{chrToAbs:([g,v])=>Bde(g,v,{chrPositions:u}),cumPositions:o,chrPositions:u,totalLength:f,chromLengths:a}}function Jlt(l,o){const a={};return a.absToChr=u=>a.chrPositions?absToChr(u,a):null,a.chrToAbs=([u,f]=[])=>a.chrPositions?Bde(u,f,a):null,Xlt(l,(u,f)=>{if(u)o&&o(null);else{const g=Ult(f),v=Qlt(g);Object.keys(v).forEach(S=>{a[S]=v[S]}),o&&o(a)}})}var Fde=function(o,...a){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');class u{constructor(g){this.dataConfig=g,this.trackUid=eot.default.nice(),this.bwFileHeader=null,this.bwFile=null,this.TILE_SIZE=1024,this.errorTxt="",this.dataPromises=[],this.dataPromises.push(this.loadChromsizes(g)),this.dataPromises.push(this.loadBBI(g))}loadChromsizes(g){return g.chromSizesUrl?new Promise(v=>{Jlt(g.chromSizesUrl,S=>{this.chromSizes=S,v()})}):(console.error('Please enter a "chromSizesUrl" field to the data config'),null)}loadBBI(g){return g.url?(this.bwFile=new Rlt({filehandle:new xde(g.url)}),this.bwFile.getHeader().then(v=>{this.bwFileHeader=v})):(console.error('Please enter a "url" field to the data config'),null)}tilesetInfo(g){return this.tilesetInfoLoading=!0,Promise.all(this.dataPromises).then(()=>{this.tilesetInfoLoading=!1;let v={};const S=this.chromSizes.totalLength;return v={tile_size:this.TILE_SIZE,max_zoom:Math.ceil(Math.log(S/this.TILE_SIZE)/Math.log(2)),max_width:2**Math.ceil(Math.log(S)/Math.log(2)),min_pos:[0],max_pos:[S]},g&&g(v),v}).catch(v=>{this.tilesetInfoLoading=!1,console.error(v),g&&g({error:`Error parsing bigwig: ${v}`})})}fetchTilesDebounced(g,v){const S={},w=[],I=[];for(const k of v){const F=k.split("."),U=parseInt(F[0],10),N=parseInt(F[1],10);if(Number.isNaN(N)||Number.isNaN(U)){console.warn("Invalid tile zoom or position:",U,N);continue}w.push(k),I.push(this.tile(U,N))}return Promise.all(I).then(k=>{for(let F=0;F<k.length;F++){const U=w[F];S[U]=k[F],S[U].tilePositionId=U}g(S)}),S}tile(g,v){return this.tilesetInfo().then(S=>{const w=+S.max_width/2**+g,I=[],k={tilePos:[v],tileId:"bigwig."+g+"."+v,zoomLevel:g},F=S.min_pos[0]+v*w;let U=F;const N=S.min_pos[0]+(v+1)*w,H=this.determineScale(U,N),q=(N-U)/this.TILE_SIZE,j=[];for(let oe=0;oe<this.TILE_SIZE;oe++)j.push(U+oe*q);const{chromLengths:se,cumPositions:he}=this.chromSizes;for(let oe=0;oe<he.length;oe++){const ue=he[oe].chr,X=he[oe].pos,de=he[oe].pos+se[ue];let fe,Fe;if(X<=U&&U<de)if(N>de)fe=U-X,Fe=de-X,I.push(this.bwFile.getFeatures(ue,fe,Fe,{scale:1/H}).then(M=>(M.forEach(ke=>{ke.startAbs=o.utils.chrToAbs(ue,ke.start,this.chromSizes),ke.endAbs=o.utils.chrToAbs(ue,ke.end,this.chromSizes)}),M))),U=de;else{fe=Math.floor(U-X),Fe=Math.ceil(N-X),I.push(this.bwFile.getFeatures(ue,fe,Fe,{scale:1/H}).then(M=>(M.forEach(ke=>{ke.startAbs=o.utils.chrToAbs(ue,ke.start,this.chromSizes),ke.endAbs=o.utils.chrToAbs(ue,ke.end,this.chromSizes)}),M)));break}}return Promise.all(I).then(oe=>{const ue=oe.flat();for(var X=[],de=0;de<this.TILE_SIZE;de++)X.push(null);j.forEach((Fe,M)=>{if(Fe<F||Fe>N)return;const ke=ue.filter(qe=>Fe>=qe.startAbs&&Fe<qe.endAbs).map(qe=>qe.score);X[M]=ke.length>0?ke[0]:null}),k.min_value=Math.min(...X),k.max_value=Math.max(...X);const fe=new o.utils.DenseDataExtrema1D(X);return k.dense=X,k.denseDataExtrema=fe,k.minNonZero=fe.minNonZeroInTile,k.maxNonZero=fe.maxNonZeroInTile,k})})}determineScale(g,v){const S=[1],w=v-g;this.bwFileHeader.zoomLevels.forEach(k=>{S.push(k.reductionLevel)});for(var I=0;I<S.length;I++){const k=S[I];if(w/k<=this.TILE_SIZE*20)return k}return S.slice(-1)[0]}}return new u(...a)};Fde.config={type:"bbi"};var cue=Fde;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 *//*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var ZC={},bU={exports:{}},hue;function eut(){return hue||(hue=1,(function(l){function o(a){return a&&a.__esModule?a:{default:a}}l.exports=o,l.exports.__esModule=!0,l.exports.default=l.exports})(bU)),bU.exports}var SU={exports:{}},CU={exports:{}},fue;function tut(){return fue||(fue=1,(function(l){function o(a){"@babel/helpers - typeof";return l.exports=o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l.exports.__esModule=!0,l.exports.default=l.exports,o(a)}l.exports=o,l.exports.__esModule=!0,l.exports.default=l.exports})(CU)),CU.exports}var due;function rut(){return due||(due=1,(function(l){var o=tut().default;function a(u,f){if(typeof WeakMap=="function")var g=new WeakMap,v=new WeakMap;return(l.exports=a=function(w,I){if(!I&&w&&w.__esModule)return w;var k,F,U={__proto__:null,default:w};if(w===null||o(w)!="object"&&typeof w!="function")return U;if(k=I?v:g){if(k.has(w))return k.get(w);k.set(w,U)}for(var N in w)N!=="default"&&{}.hasOwnProperty.call(w,N)&&((F=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(w,N))&&(F.get||F.set)?k(U,N,F):U[N]=w[N]);return U},l.exports.__esModule=!0,l.exports.default=l.exports)(u,f)}l.exports=a,l.exports.__esModule=!0,l.exports.default=l.exports})(SU)),SU.exports}var AU={};const nut=e$(vqe);var pue;function iut(){return pue||(pue=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=nut})(AU)),AU}var mue;function aut(){if(mue)return ZC;mue=1;var l=eut(),o=rut();Object.defineProperty(ZC,"__esModule",{value:!0}),ZC.default=void 0;var a=o(oR()),u=l(iut()),f=(0,u.default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");return ZC.default=f,ZC}var out=aut();const sut=nm(out);function Ude(l,o,a){try{return l(o)}catch(u){return sWe("[nuqs] Error while parsing value `%s`: %O"+(a?" (for key `%s`)":""),o,u,a),null}}function fd(l){function o(a){if(typeof a>"u")return null;let u="";if(Array.isArray(a)){if(a[0]===void 0)return null;u=a[0]}return typeof a=="string"&&(u=a),Ude(l.parse,u)}return{eq:(a,u)=>a===u,...l,parseServerSide:o,withDefault(a){return{...this,defaultValue:a,parseServerSide(u){return o(u)??a}}},withOptions(a){return{...this,...a}}}}const lut=fd({parse:l=>l,serialize:String});fd({parse:l=>{const o=parseInt(l);return o==o?o:null},serialize:l=>""+Math.round(l)});fd({parse:l=>{const o=parseInt(l);return o==o?o-1:null},serialize:l=>""+Math.round(l+1)});fd({parse:l=>{const o=parseInt(l,16);return o==o?o:null},serialize:l=>{const o=Math.round(l).toString(16);return(o.length&1?"0":"")+o}});fd({parse:l=>{const o=parseFloat(l);return o==o?o:null},serialize:String});fd({parse:l=>l==="true",serialize:String});function A9(l,o){return l.valueOf()===o.valueOf()}fd({parse:l=>{const o=parseInt(l);return o==o?new Date(o):null},serialize:l=>""+l.valueOf(),eq:A9});fd({parse:l=>{const o=new Date(l);return o.valueOf()==o.valueOf()?o:null},serialize:l=>l.toISOString(),eq:A9});fd({parse:l=>{const o=new Date(l.slice(0,10));return o.valueOf()==o.valueOf()?o:null},serialize:l=>l.toISOString().slice(0,10),eq:A9});const wU=r$(),uut={};function cut(l,o={}){const a=we.useId(),u=mWe(),f=gWe(),{history:g="replace",scroll:v=u?.scroll??!1,shallow:S=u?.shallow??!0,throttleMs:w=oA.timeMs,limitUrlUpdates:I=u?.limitUrlUpdates,clearOnDefault:k=u?.clearOnDefault??!0,startTransition:F,urlKeys:U=uut}=o,N=Object.keys(l).join(","),H=we.useMemo(()=>Object.fromEntries(Object.keys(l).map(M=>[M,U[M]??M])),[N,JSON.stringify(U)]),q=pWe(Object.values(H)),j=q.searchParams,se=we.useRef({}),he=we.useMemo(()=>Object.fromEntries(Object.keys(l).map(M=>[M,l[M].defaultValue??null])),[Object.values(l).map(({defaultValue:M})=>M).join(",")]),oe=a4.useQueuedQueries(Object.values(H)),[ue,X]=we.useState(()=>{const M=j??new URLSearchParams;return xU(l,U,M,oe).state}),de=we.useRef(ue);if(oa("[nuq+ %s `%s`] render - state: %O, iSP: %s",a,N,ue,j),Object.keys(se.current).join("&")!==Object.values(H).join("&")){const{state:M,hasChanged:ke}=xU(l,U,j,oe,se.current,de.current);ke&&(oa("[nuq+ %s `%s`] State changed: %O",a,N,{state:M,initialSearchParams:j,queuedQueries:oe,queryRef:se.current,stateRef:de.current}),de.current=M,X(M)),se.current=Object.fromEntries(Object.values(H).map(qe=>[qe,j?.get(qe)??null]))}we.useEffect(()=>{const{state:M,hasChanged:ke}=xU(l,U,j,oe,se.current,de.current);ke&&(oa("[nuq+ %s `%s`] State changed: %O",a,N,{state:M,initialSearchParams:j,queuedQueries:oe,queryRef:se.current,stateRef:de.current}),de.current=M,X(M))},[Object.values(H).map(M=>`${M}=${j?.get(M)}`).join("&"),JSON.stringify(oe)]),we.useEffect(()=>{function M(qe){oa("[nuq+ %s `%s`] updateInternalState %O",a,N,qe),de.current=qe,X(qe)}const ke=Object.keys(l).reduce((qe,Te)=>(qe[Te]=({state:at,query:_t})=>{const{defaultValue:z}=l[Te],be=H[Te];de.current={...de.current,[Te]:at??z??null},se.current[be]=_t,oa("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). Resolved: %O",a,N,be,at,z,de.current),M(de.current)},qe),{});for(const qe of Object.keys(l)){const Te=H[qe];oa("[nuq+ %s `%s`] Subscribing to sync for `%s`",a,Te,N),wU.on(Te,ke[qe])}return()=>{for(const qe of Object.keys(l)){const Te=H[qe];oa("[nuq+ %s `%s`] Unsubscribing to sync for `%s`",a,Te,N),wU.off(Te,ke[qe])}}},[N,H]);const fe=we.useCallback((M,ke={})=>{const qe=Object.fromEntries(Object.keys(l).map(Re=>[Re,null])),Te=typeof M=="function"?M(gue(de.current,he))??qe:M??qe;oa("[nuq+ %s `%s`] setState: %O",a,N,Te);let at,_t=0;const z=[];for(let[Re,ie]of Object.entries(Te)){const pe=l[Re],me=H[Re];if(!pe)continue;(ke.clearOnDefault??pe.clearOnDefault??k)&&ie!==null&&pe.defaultValue!==void 0&&(pe.eq??((Le,Ke)=>Le===Ke))(ie,pe.defaultValue)&&(ie=null);const ce=ie===null?null:(pe.serialize??String)(ie);wU.emit(me,{state:ie,query:ce});const _e={key:me,query:ce,options:{history:ke.history??pe.history??g,shallow:ke.shallow??pe.shallow??S,scroll:ke.scroll??pe.scroll??v,startTransition:ke.startTransition??pe.startTransition??F}};if(ke?.limitUrlUpdates?.method==="debounce"||I?.method==="debounce"||pe.limitUrlUpdates?.method==="debounce"){_e.options.shallow===!0&&console.warn(OA(422));const Le=ke?.limitUrlUpdates?.timeMs??I?.timeMs??pe.limitUrlUpdates?.timeMs??oA.timeMs,Ke=a4.push(_e,Le,q);_t<Le&&(at=Ke,_t=Le)}else{const Le=ke?.limitUrlUpdates?.timeMs??pe?.limitUrlUpdates?.timeMs??I?.timeMs??ke.throttleMs??pe.throttleMs??w;z.push(a4.abort(me)),NU.push(_e,Le)}}const be=z.reduce((Re,ie)=>ie(Re),NU.flush(q,f));return at??be},[N,g,S,v,w,I?.method,I?.timeMs,F,H,q.updateUrl,q.getSearchParamsSnapshot,q.rateLimitFactor,f,he]);return[we.useMemo(()=>gue(ue,he),[ue,he]),fe]}function xU(l,o,a,u,f,g){let v=!1;const S=Object.keys(l).reduce((w,I)=>{const k=o?.[I]??I,{parse:F}=l[I],U=u[k],N=U===void 0?a?.get(k)??null:U;if(f&&g&&(f[k]??null)===N)return w[I]=g[I]??null,w;v=!0;const H=N===null?null:Ude(F,N,I);return w[I]=H??null,f&&(f[k]=N),w},{});if(!v){const w=Object.keys(l),I=Object.keys(g??{});v=w.length!==I.length||w.some(k=>!I.includes(k))}return{state:S,hasChanged:v}}function gue(l,o){return Object.fromEntries(Object.keys(l).map(a=>[a,l[a]??o[a]??null]))}function hut(l,o={}){const{parse:a=k=>k,serialize:u,eq:f,defaultValue:g,...v}=o,[{[l]:S},w]=cut({[l]:{parse:a,serialize:u,eq:f,defaultValue:g}},v),I=we.useCallback((k,F={})=>w(U=>({[l]:typeof k=="function"?k(U[l]):k}),F),[l,w]);return[S,I]}var vue={},IU={},DU=34,QC=10,OU=13;function Hde(l){return new Function("d","return {"+l.map(function(o,a){return JSON.stringify(o)+": d["+a+'] || ""'}).join(",")+"}")}function fut(l,o){var a=Hde(l);return function(u,f){return o(a(u),f,l)}}function yue(l){var o=Object.create(null),a=[];return l.forEach(function(u){for(var f in u)f in o||a.push(o[f]=f)}),a}function hl(l,o){var a=l+"",u=a.length;return u<o?new Array(o-u+1).join(0)+a:a}function dut(l){return l<0?"-"+hl(-l,6):l>9999?"+"+hl(l,6):hl(l,4)}function put(l){var o=l.getUTCHours(),a=l.getUTCMinutes(),u=l.getUTCSeconds(),f=l.getUTCMilliseconds();return isNaN(l)?"Invalid Date":dut(l.getUTCFullYear())+"-"+hl(l.getUTCMonth()+1,2)+"-"+hl(l.getUTCDate(),2)+(f?"T"+hl(o,2)+":"+hl(a,2)+":"+hl(u,2)+"."+hl(f,3)+"Z":u?"T"+hl(o,2)+":"+hl(a,2)+":"+hl(u,2)+"Z":a||o?"T"+hl(o,2)+":"+hl(a,2)+"Z":"")}function mut(l){var o=new RegExp('["'+l+`
\r]`),a=l.charCodeAt(0);function u(F,U){var N,H,q=f(F,function(j,se){if(N)return N(j,se-1);H=j,N=U?fut(j,U):Hde(j)});return q.columns=H||[],q}function f(F,U){var N=[],H=F.length,q=0,j=0,se,he=H<=0,oe=!1;F.charCodeAt(H-1)===QC&&--H,F.charCodeAt(H-1)===OU&&--H;function ue(){if(he)return IU;if(oe)return oe=!1,vue;var de,fe=q,Fe;if(F.charCodeAt(fe)===DU){for(;q++<H&&F.charCodeAt(q)!==DU||F.charCodeAt(++q)===DU;);return(de=q)>=H?he=!0:(Fe=F.charCodeAt(q++))===QC?oe=!0:Fe===OU&&(oe=!0,F.charCodeAt(q)===QC&&++q),F.slice(fe+1,de-1).replace(/""/g,'"')}for(;q<H;){if((Fe=F.charCodeAt(de=q++))===QC)oe=!0;else if(Fe===OU)oe=!0,F.charCodeAt(q)===QC&&++q;else if(Fe!==a)continue;return F.slice(fe,de)}return he=!0,F.slice(fe,H)}for(;(se=ue())!==IU;){for(var X=[];se!==vue&&se!==IU;)X.push(se),se=ue();U&&(X=U(X,j++))==null||N.push(X)}return N}function g(F,U){return F.map(function(N){return U.map(function(H){return k(N[H])}).join(l)})}function v(F,U){return U==null&&(U=yue(F)),[U.map(k).join(l)].concat(g(F,U)).join(`
`)}function S(F,U){return U==null&&(U=yue(F)),g(F,U).join(`
`)}function w(F){return F.map(I).join(`
`)}function I(F){return F.map(k).join(l)}function k(F){return F==null?"":F instanceof Date?put(F):o.test(F+="")?'"'+F.replace(/"/g,'""')+'"':F}return{parse:u,parseRows:f,format:v,formatBody:S,formatRows:w,formatRow:I,formatValue:k}}var gut=mut("	"),vut=gut.parse;const yut=`clusterAbbrev	clusterName
PEC	Parietal Epithelial Cell
POD	Podocyte
dPOD	Podocyte (degenerative)
EC-GC	Glomerular Capillary Endothelial Cell
EC-GC-FILIP1+	"Glomerular Capillary Endothelial Cell, FILIP1+"
aEC-GC	Glomerular Capillary Endothelial Cell (adaptive/maladaptive)
dEC-GC	Glomerular Capillary Endothelial Cell (degenerative)
MC	Mesangial Cell
PT	Proximal Tubule Epithelial Cell
aPT	Proximal Tubule Epithelial Cell (adaptive/maladaptive)
aPT-KIM1+	Proximal Tubule Epithelial Cell, KIM1+ (adaptive/maladaptive)
aPT-KIM1+PROM1+	Proximal Tubule Epithelial Cell, KIM1+, PROM1+ (adaptive/maladaptive)
aPT-VCAM1+	Proximal Tubule Epithelial Cell, VCAM1+ (adaptive/maladaptive)
cycPT	Proximal Tubule Epithelial Cell (cycling)
dPT	Proximal Tubule Epithelial Cell (degenerative)
frPT	Proximal Tubule Epithelial Cell (failed repair)
frPT_(maPT)	Proximal Tubule Epithelial Cell (failed repair) (?)
PT-S1	Proximal Tubule Epithelial Cell Segment 1
aPT1	Proximal Tubule Epithelial Cell Type 1 (adaptive/maladaptive)
dPT-S1	Proximal Tubule Epithelial Cell Segment 1 (degenerative)
PT-S1/S2	Proximal Tubule Epithelial Cell Segment 1/Segment 2
aPT-S1/S2	Proximal Tubule Epithelial Cell Segment 1/Segment 2 (adaptive/maladaptive)
aPT-S1_S2	Proximal Tubule Epithelial Cell Segment 1/Segment 2 (adaptive/maladaptive)
frPT-S1/S2	Proximal Tubule Epithelial Cell Segment 1/Segment 2 (failed repair)
frPT-S1_S2	Proximal Tubule Epithelial Cell Segment 1/Segment 2 (failed repair)
PT-S2	Proximal Tubule Epithelial Cell Segment 2
aPT2	Proximal Tubule Epithelial Cell Type 2 (adaptive/maladaptive)
dPT-S2	Proximal Tubule Epithelial Cell Segment 2 (degenerative)
PT-S2/S3	Proximal Tubule Epithelial Cell Segment 2/Segment 3
PT-S3	Proximal Tubule Epithelial Cell Segment 3
aPT-S3	Proximal Tubule Epithelial Cell Segment 3 (adaptive/maladaptive)
dPT-S3	Proximal Tubule Epithelial Cell Segment 3 (degenerative)
frPT-S3	Proximal Tubule Epithelial Cell Segment 3 (failed repair)
DTL	Descending Thin Limb of Loop of Henle
aDTL	Descending Thin Limb of Loop of Henle (adaptive/maladaptive)
dDTL	Descending Thin Limb of Loop of Henle (degenerative)
DTL1	Descending Thin Limb of Loop of Henle Cell Type 1
DTL2	Descending Thin Limb of Loop of Henle Cell Type 2
aDTL2	Descending Thin Limb of Loop of Henle Cell Type 2 (adaptive/maladaptive)
DTL3	Descending Thin Limb of Loop of Henle Cell Type 3
ATL	Ascending Thin Limb of Loop of Henle
aATL	Ascending Thin Limb of Loop of Henle (adaptive/maladaptive)
dATL	Ascending Thin Limb of Loop of Henle (degenerative)
TAL	Thick Ascending Limb Cell of Loop of Henle
aTAL	Thick Ascending Limb of Loop of Henle Cell (adaptive/maladaptive)
cycTAL	Thick Ascending Limb of Loop of Henle Cell (cycling)
dTAL	Thick Ascending Limb of Loop of Henle Cell (degenerative)
frTAL	Thick Ascending Limb of Loop of Henle Cell (failed repair)
aTAL1	Thick Ascending Limb of Loop of Henle Cell Type 1 (adaptive/maladaptive)
aTAL2	Thick Ascending Limb of Loop of Henle Cell Type 2 (adaptive/maladaptive)
C-TAL	Cortical Thick Ascending Limb of Loop of Henle Cell
dC-TAL	Cortical Thick Ascending Limb of Loop of Henle Cell (degenerative)
C-TAL-A	Cortical Thick Ascending Limb of Loop of Henle Cell Type A
C-TAL-B	Cortical Thick Ascending Limb of Loop of Henle Cell Type B
C/M-TAL	Cortico-Medullary Thick Ascending Limb of Loop of Henle Cell
C/M-TAL-A	Cortico-Medullary Thick Ascending Limb of Loop of Henle Cell Type A
C_M-TAL-A	Cortico-Medullary Thick Ascending Limb of Loop of Henle Cell Type A
C/M-TAL-B	Cortico-Medullary Thick Ascending Limb of Loop of Henle Cell Type B
C_M-TAL-B	Cortico-Medullary Thick Ascending Limb of Loop of Henle Cell Type B
M-TAL	Medullary Thick Ascending Limb of Loop of Henle Cell
dM-TAL	Medullary Thick Ascending Limb of Loop of Henle Cell (degenerative)
MD	Macula Densa Cell
DCT	Distal Convoluted Tubule Cell
aDCT	Distal Convoluted Tubule Cell (adaptive/maladaptive)
dDCT	Distal Convoluted Tubule Cell (degenerative)
frDCT	Distal Convoluted Tubule Cell (failed repair)
DCT1	Distal Convoluted Tubule Cell Type 1
DCT2	Distal Convoluted Tubule Cell Type 2
DN	Distal Nephron
dDN	Distal Nephron (degenerative)
CNT	Connecting Tubule Cell
aCNT	Connecting Tubule Cell (adaptive/maladaptive)
dCNT	Connecting Tubule Cell (degenerative)
CNT-PC	Connecting Tubule Principal Cell
aCNT-PC	Connecting Tubule Principal Cell (adaptive/maladaptive)
dCNT-PC	Connecting Tubule Principal Cell (degenerative)
C-PC	Cortical Principal Cell
CCD-PC	Cortical Collecting Duct Principal Cell
aCCD-PC	Cortical Collecting Duct Principal Cell (adaptive/maladaptive)
dCCD-PC	Cortical Collecting Duct Principal Cell (degenerative)
IMCD	Inner Medullary Collecting Duct Cell
dIMCD	Inner Medullary Collecting Duct Cell (degenerative)
M-PC	Medullary Principal Cell
OMCD-PC	Outer Medullary Collecting Duct Principal Cell
aOMCD-PC	Outer Medullary Collecting Duct Principal Cell (adaptive/maladaptive)
dOMCD-PC	Outer Medullary Collecting Duct Principal Cell (degenerative)
tPC-IC	Principal-Intercalated Cell (transitional)
OMCD-IC-A	Outer Medullary Collecting Duct Intercalated Cell Type A
dOMCD-IC-A	Outer Medullary Collecting Duct Intercalated Cell Type A (degenerative)
tOMCD-PC-IC	Outer Medullary Collecting Duct Principal-Intercalated Cell (transitional)
IC	Intercalated Cell
IC-A	Intercalated Cell Type A
aIC-A	Collecting Duct Intercalated Cell Type A (adaptive/maladaptive)
CCD-IC-A	Cortical Collecting Duct Intercalated Cell Type A
dCCD-IC-A	Cortical Collecting Duct Intercalated Cell Type A (degenerative)
IC-B	Intercalated Cell Type B
PapE	Papillary Tip Epithelial Cell
FIB	Fibroblast
IM-FIB	Inner Medullary Fibroblast
dIM-FIB	Inner Medullary Fibroblast (degenerative)
OM-FIB	Outer Medullary Fibroblast
dOM-FIB	Outer Medullary Fibroblast (degenerative)
C-FIB	Cortical Interstitial Fibroblast
C/M-FIB	Corticomedullary Fibroblast
C_M-FIB	Corticomedullary Fibroblast
pvFIB	Perivascular Fibroblast
pvFIB-PI16+	"Perivascular Fibroblast, PI16+CD34+"
pvFIB-CD34+	"Perivascular Fibroblast, CD34+"
pvFIB-RSPO3+	"Perivascular Fibroblast, RSPO3+"
dFIB	Interstitial Fibroblast (degenerative)
C-FIB	Inflammatory Cortical Interstitial Fibroblast
C-intFIB	Inflammatory Cortical Interstitial Fibroblast
C-FIB-OSMRhi	OSMRhi Inflammatory Cortical Interstitial Fibroblast
C-intFIB-OSMRhi	OSMRhi Inflammatory Cortical Interstitial Fibroblast
C-FIB-OSMRlo	OSMRlo Inflammatory Cortical Interstitial Fibroblast
C-intFIB-OSMRlo	OSMRlo Inflammatory Cortical Interstitial Fibroblast
C-FIB-PATH	Pathology (Injury) Expanded Cortical Interstitial Fibroblast
C-intFIB-PATH	Pathology (Injury) Expanded Cortical Interstitial Fibroblast
MYOF	Myofibroblast
C-MYOF	Cortical Interstitial Myofibroblast
C-intMYOF	Cortical Interstitial Myofibroblast
IM-pvMYOF	Inner Medullary Perivascular Myofibroblast
pvMYOF	Perivascular Myofibroblast
MON	Classical Monocyte
cMON	Classical Monocyte
ncMON	Non-Classical Monocyte
MAC	Macrophage
cycMAC	Macrophage (cycling)
moMAC	Monocyte-Derived Inflammatory Macrophage
moMAC-C3+	"Monocyte-Derived Macrophage, C3+"
moMAC-CXCL10+	"Monocyte-Derived Inflammatory Macrophage, CXCL10+"
moMAC-LUCAT1+	"Monocyte-Derived Macrophage, LUCAT1+"
moMAC-HBEGF+	"Monocyte-Derived Inflammatory Macrophage, HBEGF+"
moMAC-FAM	"Monocyte-Derived Inflammatory Macrophage, FAM"
resMAC	Resident Macrophage
resMAC-HLAIIhi	"Resident Macrophage, LYVE1+ HLAIIhi"
resMAC-HLAIIhi_	"Resident Macrophage, LYVE1+ HLAIIhi_"
resMAC-LYVE1+	"Resident Macrophage, LYVE1+"
moFAM	Monocyte-Derived Fibrosis-Associated Macrophage
DC	
cDC1	Classical Type 1 Dendritic Cell
cDC2	Classical Type 2 Dendritic Cell
mDC	Migratory Dendritic Cell
pDC	Plasmacytoid Dendritic Cell
ERY	Erythrocyte
T	
cycT	T Cell (cycling)
T-CXCR4+	"T Cell, CXCR4+"
Naive_Th	"T Helper Cell, Naive"
T-REG	Regulatory T Cell
Th-memory	T Helper memory Cell
CD8+ TEM/TEMRA	"Cytotoxic T Cell, Tem/Temra (Terminally Differentiated) CD8+"
CD8+_TEM_TEMRA	"Cytotoxic T Cell, Tem/Temra (Terminally Differentiated) CD8+"
CD8+ TEM/TRM	"Cytotoxic T Cell, Tem/Trm CD8+"
CD8+_TEM_TRM	"Cytotoxic T Cell, Tem/Trm CD8+"
CD8+ TEMRA	"Cytotoxic T Cell, Temra (Terminally Differentiated) CD8+"
Th17	"T Helper Cell, Type 17"
CD8+ T-CYT	"Cytotoxic T Cell, CD8+"
CD8+ TEM	"Cytotoxic T Effector Memory (TEM) Cell, CD8+"
CD8+ TRM	"Cytotoxic T Resident Memory (TRM) Cell, CD8+"
CD8+ T-STR	"Cytotoxic Stressed T Cell, CD8+"
ILC3	Innate Lymphoid Cell Subpopulation III
MAIT	Mucosal-Associated Invariant T Cell
NK	Natural Killer Cell
CD16+ NK	"Natural Killer Cell, CD16+"
CD16- NK	"Natural Killer Cell, CD16-"
B	B Cell
B memory	B Memory Cell
B activated	B Intermediate Cell
B naive	"B Cell, Naive"
PL	Plasma Cell
MAST	Mast Cell
N	Neutrophil
SC/NEU	Schwann Cell / Neural
SC_NEU	Schwann Cell / Neural
Ad	Adipocyte
NA	ambiguous low quality
VSMC	Vascular Smooth Muscle Cell
dVSMC	Vascular Smooth Muscle Cell (degenerative)
VSMC/P	Vascular Smooth Muscle Cell / Pericyte
VSMC_P	Vascular Smooth Muscle Cell / Pericyte
M-VSMC/P	Medullary Vascular Smooth Muscle Cell / Pericyte
M-VSMC_P	Medullary Vascular Smooth Muscle Cell / Pericyte
REN	Renin+ Juxtaglomerular Granular Cell
EC	Endothelial Cell
cycEC	Endothelial Cell (cycling)
EC-AA	Afferent Artery / Arteriole Endothelial Cell
EC-EA	Efferent Arteriole Endothelial Cell
dEC-EA	Efferent Arteriole (degenerative)
iaEC-AVR	Interferon Activated Vasa Recta Endothelial Cell
EC-AVR	Ascending Vasa Recta Endothelial Cell
dEC-AVR	Ascending Vasa Recta Endothelial Cell (degenerative)
EC-DVR	Descending Vasa Recta Endothelial Cell
aEC-DVR	Descending Vasa Recta Endothelial Cell (adaptive/maladaptive)
EC-PTC	Peritubular Capillary Endothelial Cell
aEC-PTC	Peritubular Capillary Endothelial Cell (adaptive/maladaptive)
infEC-PTC	Inflammatory Peritubular Capillary Endothelial Cell
iaEC-PTC	Interferon Activated Peritubular Capillary Endothelial Cell
C-EC-PTC	Cortical Peritubular Capillary Endothelial Cell
dEC-PTC	Cortical Peritubular Capillary Endothelial Cell (degenerative)
angEC-PTC	Angiogenic Cortical Peritubular Capillary Endothelial Cell
M-EC-PTC	Medullary Peritubular Capillary Endothelial Cell
EC-V	Cortical Vein Endothelial Cell
EC-LYM	Lymphatic Endothelial Cell
EC-PCV	Postcapillary Venule Endothelial Cell`,w9=vut(yut),_ue=Object.fromEntries(w9.map(l=>[l.clusterAbbrev,l.clusterName]));Object.fromEntries(w9.map(l=>[l.clusterName,l.clusterAbbrev]));function Eue(l){return l.startsWith("C_M")&&(l=l.replace("C_M","C/M")),l.startsWith("C-int")&&(l=l.replace("C-int","C-")),l.includes("VSMC_P")?l.replace("VSMC_P","VSMC/P"):l==="SC_NEU"?"SC/NEU":l.includes("_TEM_")?l.replace("_TEM_"," TEM/"):l.includes("PT-S1_S2")?l.replace("PT-S1_S2","PT-S1/S2"):l}Pit({dataFetcher:cue,config:cue.config},{pluginType:"dataFetcher"});const kU={hg38:{chromosomes:"NyITQvZsS_mOFNlz5C2LJg",genes:"P0PLbQMwTYGy-5uPIQid7A"},hg19:{chromosomes:"N12wVGG9SPiTkk03yUayUw",genes:"OHJakQICQD6gTD7skx4EWA"},mm9:{chromosomes:"WAVhNHYxQVueq6KulwgWiQ",genes:"GUm5aBiLRCyz2PsBea7Yzg"},mm10:{chromosomes:"EtrWT0VtScixmsmwFSd7zg",genes:"QDutvmyiSrec5nX4pA5WGQ"}},PP={hg38:{chromosomes:"https://raw.githubusercontent.com/vitessce/negspy/master/negspy/data/hg38/chromSizes.tsv"},hg19:{chromosomes:"https://raw.githubusercontent.com/vitessce/negspy/master/negspy/data/hg19/chromSizes.tsv"},mm9:{chromosomes:"https://raw.githubusercontent.com/vitessce/negspy/master/negspy/data/mm9/chromSizes.tsv"},mm10:{chromosomes:"https://raw.githubusercontent.com/vitessce/negspy/master/negspy/data/mm10/chromSizes.tsv"}},_ut={PaperProps:{style:{}}},Eut=nqe(l=>({formControl:{margin:l.spacing(1),minWidth:200,maxWidth:"none"},buttonContainer:{display:"inline-block"},button:{margin:l.spacing(1)},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2,height:"auto"},container:{display:"flex",flexDirection:"column",height:"calc(100%)"},gridContainer:{flexGrow:0},higlassContainer:{flexGrow:1,flexBasis:1,height:"calc(100%)"}})),Tue=[[68,119,170],[136,204,238],[68,170,153],[17,119,51],[153,153,51],[221,204,119],[204,102,119],[136,34,85],[170,68,153]],Tut="https://data-2.vitessce.io/kpmp-atlas-v2/transepinome/bigwigs_from_blue_20251013",bue=w9.map(l=>l.clusterAbbrev);let but=["ATL","B","C-EC-PTC","C-FIB","C-FIB-OSMRhi","C-FIB-OSMRlo","C-FIB-PATH","C-MYOF","C-TAL-A","C-TAL-B","CCD-IC-A","CCD-PC","CD8+_TEM_TEMRA","CD8+_TEM_TRM","CNT","CNT-PC","C_M-FIB","C_M-TAL-A","C_M-TAL-B","DCT1","DCT2","DTL1","DTL2","DTL3","EC-AA","EC-AVR","EC-DVR","EC-EA","EC-GC","EC-GC-FILIP1+","EC-LYM","EC-PCV","EC-V","ERY","IC-B","ILC3","IM-FIB","IM-pvMYOF","IMCD","M-EC-PTC","M-TAL","M-VSMC_P","MAIT","MAST","MC","MD","MON","NK","Naive_Th","OM-FIB","OMCD-IC-A","OMCD-PC","PEC","PL","POD","PT-S1","PT-S2","PT-S3","PapE","REN","SC_NEU","T-REG","VSMC","VSMC_P","aCNT","aDCT","aDTL2","aEC-GC","aPT-S1_S2","aPT-S3","aPT1","aPT2","aTAL1","aTAL2","angEC-PTC","cDC1","cDC2","cycEC","cycMAC","cycPT","cycT","cycTAL","dATL","dC-TAL","dCCD-IC-A","dCNT","dCNT-PC","dDCT","dDTL","dEC-AVR","dEC-GC","dEC-PTC","dFIB","dIM-FIB","dIMCD","dM-TAL","dOM-FIB","dOMCD-IC-A","dOMCD-PC","dPOD","dPT","dPT-S1","dPT-S3","dVSMC","frDCT","frPT-S1_S2","frPT-S3","frTAL","iaEC-AVR","iaEC-PTC","infEC-PTC","mDC","moFAM","moMAC-C3+","moMAC-CXCL10+","moMAC-HBEGF+","ncMON","pDC","pvFIB","pvFIB-PI16+","pvFIB-RSPO3+","pvMYOF","resMAC-HLAIIhi_","resMAC-LYVE1+","tOMCD-PC-IC"].toSorted((l,o)=>{const a=bue.indexOf(l),u=bue.indexOf(o);return a-u});const Sut=Object.fromEntries(but.map(l=>{const o=`${Tut}/${encodeURIComponent(l)}.BigWig`;return[l,o]})),x9={},Cut={},Aut=Object.keys(x9),$de={...Sut},Gde={},zde={...$de,...Gde},wut=Object.keys(x9),Sue=Object.keys(zde),xut=Object.keys($de),Iut=Object.keys(Gde),Dut={sizeMode:"bounded",pixelPreciseMarginPadding:!1,bounded:!0,containerPaddingX:0,containerPaddingY:0,viewMarginTop:0,viewMarginBottom:0,viewMarginLeft:0,viewMarginRight:0,viewPaddingTop:0,viewPaddingBottom:0,viewPaddingLeft:0,viewPaddingRight:0},Cue=[0,3e8],Aue={methylation:["Methylation levels (WGBS): microdissected glomeruli (GLOM)","Methylation levels (WGBS): microdissected tubulointerstitium (TI)"],coarse:xut,fine:Iut};function Out(l){const{assembly:o="hg38",higlassServer:a="https://higlass.io/api/v1",theme:u="light"}=l,f=we.useRef(),g=we.useRef(),[v,S]=we.useState(!1),[w]=hut("gene",lut),[I,k]=we.useState(!1),F=(Fe,M)=>{M!=="clickaway"&&k(!1)};we.useEffect(()=>{if(f.current&&w){const Fe="main";try{f.current.api.zoomToGene(Fe,w,1e4),console.log("Zoomed to gene:",w),k(!0)}catch(M){console.error("Error zooming to gene:",M)}}},[f,w,v]);const[U,N]=we.useState(["POD"]);function H(Fe){N(Fe.target.value)}const q=Eut(),j=we.useMemo(()=>{const M=u==="dark"?"#C0C0C0":"#000000",ke=u==="dark"?"#000000":"#fff",qe=[{type:"horizontal-chromosome-labels",server:a,chromInfoPath:PP[o].chromosomes,uid:"chromosome-labels",options:{color:M,fontSize:12,fontIsLeftAligned:!1,showMousePosition:!0,mousePositionColor:M},height:30},{type:"horizontal-gene-annotations",server:a,tilesetUid:kU[o].genes,uid:"gene-annotations",options:{name:"Gene Annotations (hg38)",fontSize:10,labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4,showMousePosition:!0,mousePositionColor:M,plusStrandColor:M,minusStrandColor:M,labelColor:"black",labelBackgroundColor:ke,trackBorderWidth:0,trackBorderColor:"black"},height:70}],Te=Aut.map(z=>{const be=z,Re=Cut[z];return{type:"horizontal-bar",uid:be,data:{type:"bbi",url:x9[z],chromSizesUrl:PP[o].chromosomes},options:{name:z,showMousePosition:!0,mousePositionColor:M,labelColor:u==="dark"?"white":"black",labelBackgroundColor:u==="dark"?"black":"white",labelShowAssembly:!1,barFillColor:`rgb(${Re[0]},${Re[1]},${Re[2]})`},height:40}}),at=U.map(z=>{const be=z,Re=_ue[z],ie=Tue[Sue.indexOf(z)%Tue.length];return{type:"horizontal-bar",uid:be,data:{type:"bbi",url:zde[z],chromSizesUrl:PP[o].chromosomes},options:{name:` ${Eue(z)}: ${Re}`,showMousePosition:!0,mousePositionColor:M,labelColor:u==="dark"?"white":"black",labelBackgroundColor:u==="dark"?"black":"white",labelShowAssembly:!1,barFillColor:`rgb(${ie[0]},${ie[1]},${ie[2]})`},height:40}});return{tracks:{top:[...qe,...Te,...at],left:[],center:[],right:[],bottom:[],whole:[],gallery:[]},layout:{w:12,h:12,x:0,y:0,static:!1}}},[U,u,o]),se=we.useMemo(()=>{const Fe=[...wut,...U],M={};Object.entries(Aue).forEach(([qe,Te])=>{Te.forEach(at=>{Fe.includes(at)&&(M[`main.${at}`]=qe)})});const ke={};return Object.entries(Aue).forEach(([qe,Te])=>{ke[qe]={uid:qe},Te.forEach(at=>{Fe.includes(at)&&(ke[qe][`main.${at}`]={view:"main",track:at})})}),{editable:!0,zoomFixed:!1,trackSourceServers:["//higlass.io/api/v1"],exportViewUrl:"//higlass.io/api/v1/viewconfs",views:[{uid:"main",...j,initialXDomain:Cue,initialYDomain:Cue,autocompleteSource:`/api/v1/suggest/?d=${kU[o].genes}&`,genomePositionSearchBox:{autocompleteServer:"//higlass.io/api/v1",autocompleteId:kU[o].genes,chromInfoServer:"https://higlass.io/api/v1",chromInfoId:o,visible:!0},chromInfoPath:PP[o].chromosomes}],zoomLocks:{locksByViewUid:{},locksDict:{}},locationLocks:{locksByViewUid:{},locksDict:{}},valueScaleLocks:{locksByViewUid:M,locksDict:ke}}},[j,o]),[he,oe]=we.useState(!1);function ue(){N([])}function X(){oe(!0)}function de(){oe(!1)}const fe=we.useMemo(()=>({...Dut,onViewConfLoaded:()=>{S(!0)}}),[]);return we.useEffect(()=>(f.current.api.on("viewConfig",Fe=>{JSON.parse(Fe).views.some(ke=>ke.uid==="main")&&S(!0)}),()=>f.current.api.off("viewConfig")),[f]),_r.createElement("div",{className:q.container},_r.createElement("div",{className:q.gridContainer,style:{maxHeight:"130px",overflowY:"scroll"},ref:g},_r.createElement(Jk,{container:!0,direction:"row",justifyContent:"start"},_r.createElement(Jk,{item:!0,xs:6,style:{padding:"4px"}},_r.createElement("p",null,"KPMP Atlas V2: Chromatin viewer",_r.createElement("div",{style:{display:"inline"}},_r.createElement(I4,{size:"small",variant:"outlined",onClick:X},"About"),_r.createElement(pKe,{open:he,onClose:de,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},_r.createElement(EKe,null,_r.createElement(SKe,{id:"alert-dialog-description"},_r.createElement(sce,{variant:"h5"},"About"),"This viewer displays chromatin accessibility profiles per cell type (at subclass level 3) that have been generated for the KPMP Atlas V2. The profiles are derived from MACS peak calling output from 10x Multiome experiments performed by the transepinome working group within KPMP. Associated fragment pileups were saved as bedGraph files, then converted to bigWig using the bedGraphToBigWig tool.",_r.createElement("br",null),_r.createElement("br",null),_r.createElement("a",{href:"https://doi.org/10.1101/2025.09.26.678707",target:"_blank",style:{fontWeight:"bold"}},"KPMP Atlas V2 Preprint on bioRxiv"),_r.createElement("br",null),_r.createElement("a",{href:"https://github.com/KPMP-Scientific/KPMP-Atlas-v2",target:"_blank"},"KPMP Atlas V2 GitHub repository"),_r.createElement("br",null))),_r.createElement(vKe,null,_r.createElement(I4,{onClick:de,color:"primary",autoFocus:!0},"Close")))),_r.createElement("br",null),_r.createElement("br",null),"Select cell types from the list to the right to visualize corresponding aggregate snATAC-seq tracks.")),_r.createElement(Jk,{item:!0,xs:4},_r.createElement(Eae,{className:q.formControl},_r.createElement(XKe,{id:"demo-mutiple-chip-label"},"Cell Types"),_r.createElement(AZe,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:U,onChange:H,input:_r.createElement(A$,{id:"select-multiple-chip"}),renderValue:Fe=>_r.createElement("div",{className:q.chips},Fe.map(M=>_r.createElement(Kqe,{key:M,label:M,className:q.chip}))),MenuProps:{..._ut,container:g.current}},Sue.map(Fe=>_r.createElement(dZe,{key:Fe,value:Fe,style:{fontWeight:"normal",flexDirection:"column",alignItems:"start",paddingTop:"3px",paddingBottom:"3px"}},_r.createElement("span",null,Eue(Fe)),_r.createElement("span",{style:{fontSize:"11px"}},_ue[Fe])))))),_r.createElement(Jk,{item:!0,xs:2},_r.createElement(Eae,{className:q.buttonContainer},_r.createElement(I4,{size:"small",variant:"outlined",className:q.button,onClick:ue},"Clear cell type tracks"))))),_r.createElement("div",{className:q.higlassContainer},_r.createElement(Dit.HiGlassComponent,{ref:f,zoomFixed:!1,viewConfig:se,options:fe})),_r.createElement("div",null,_r.createElement(kZe,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:I,autoHideDuration:5e3,onClose:F,message:`Zoomed to gene ${w}`,action:_r.createElement(Lqe,{size:"small","aria-label":"close",color:"inherit",onClick:F},_r.createElement(sut,{fontSize:"small"})),TransitionComponent:T$})))}const kut=Fue({disableGlobal:!1});function Put(){return we.createElement(UXe,{generateClassName:kut},we.createElement(tqe,null,we.createElement(Out,null)))}JC.render(_r.createElement(xWe,null,_r.createElement(Put,null)),document.getElementById("root"));
